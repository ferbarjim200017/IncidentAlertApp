var EM=Object.defineProperty;var SM=(e,t,r)=>t in e?EM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var zm=(e,t,r)=>SM(e,typeof t!="symbol"?t+"":t,r);function AM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var IT={exports:{}},Rh={},jT={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),PM=Symbol.for("react.portal"),TM=Symbol.for("react.fragment"),CM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),jM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),kM=Symbol.for("react.forward_ref"),OM=Symbol.for("react.suspense"),RM=Symbol.for("react.memo"),DM=Symbol.for("react.lazy"),J_=Symbol.iterator;function MM(e){return e===null||typeof e!="object"?null:(e=J_&&e[J_]||e["@@iterator"],typeof e=="function"?e:null)}var NT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kT=Object.assign,OT={};function Fo(e,t,r){this.props=e,this.context=t,this.refs=OT,this.updater=r||NT}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RT(){}RT.prototype=Fo.prototype;function h0(e,t,r){this.props=e,this.context=t,this.refs=OT,this.updater=r||NT}var p0=h0.prototype=new RT;p0.constructor=h0;kT(p0,Fo.prototype);p0.isPureReactComponent=!0;var eE=Array.isArray,DT=Object.prototype.hasOwnProperty,m0={current:null},MT={key:!0,ref:!0,__self:!0,__source:!0};function LT(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)DT.call(t,n)&&!MT.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Wc,type:e,key:a,ref:s,props:i,_owner:m0.current}}function LM(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function g0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tE=/\/+/g;function Um(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function jd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wc:case PM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Um(s,0):n,eE(i)?(r="",e!=null&&(r=e.replace(tE,"$&/")+"/"),jd(i,t,r,"",function(c){return c})):i!=null&&(g0(i)&&(i=LM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tE,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",eE(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Um(a,o);s+=jd(a,t,r,l,i)}else if(l=MM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Um(a,o++),s+=jd(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function qu(e,t,r){if(e==null)return e;var n=[],i=0;return jd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function FM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _r={current:null},Nd={transition:null},$M={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:m0};function VT(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!g0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Fo;ve.Fragment=TM;ve.Profiler=IM;ve.PureComponent=h0;ve.StrictMode=CM;ve.Suspense=OM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M;ve.act=VT;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=m0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)DT.call(t,l)&&!MT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Wc,type:e.type,key:i,ref:a,props:n,_owner:s}};ve.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jM,_context:e},e.Consumer=e};ve.createElement=LT;ve.createFactory=function(e){var t=LT.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:kM,render:e}};ve.isValidElement=g0;ve.lazy=function(e){return{$$typeof:DM,_payload:{_status:-1,_result:e},_init:FM}};ve.memo=function(e,t){return{$$typeof:RM,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Nd.transition;Nd.transition={};try{e()}finally{Nd.transition=t}};ve.unstable_act=VT;ve.useCallback=function(e,t){return _r.current.useCallback(e,t)};ve.useContext=function(e){return _r.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return _r.current.useDeferredValue(e)};ve.useEffect=function(e,t){return _r.current.useEffect(e,t)};ve.useId=function(){return _r.current.useId()};ve.useImperativeHandle=function(e,t,r){return _r.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return _r.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return _r.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return _r.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return _r.current.useReducer(e,t,r)};ve.useRef=function(e){return _r.current.useRef(e)};ve.useState=function(e){return _r.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return _r.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return _r.current.useTransition()};ve.version="18.3.1";jT.exports=ve;var w=jT.exports;const FT=Ni(w),zM=AM({__proto__:null,default:FT},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM=w,BM=Symbol.for("react.element"),qM=Symbol.for("react.fragment"),KM=Object.prototype.hasOwnProperty,WM=UM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HM={key:!0,ref:!0,__self:!0,__source:!0};function $T(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)KM.call(t,n)&&!HM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BM,type:e,key:a,ref:s,props:i,_owner:WM.current}}Rh.Fragment=qM;Rh.jsx=$T;Rh.jsxs=$T;IT.exports=Rh;var d=IT.exports,Gg={},zT={exports:{}},Yr={},UT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,W){var te=U.length;U.push(W);e:for(;0<te;){var pe=te-1>>>1,ue=U[pe];if(0<i(ue,W))U[pe]=W,U[te]=ue,te=pe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var W=U[0],te=U.pop();if(te!==W){U[0]=te;e:for(var pe=0,ue=U.length,Je=ue>>>1;pe<Je;){var Te=2*(pe+1)-1,Ht=U[Te],pt=Te+1,Me=U[pt];if(0>i(Ht,te))pt<ue&&0>i(Me,Ht)?(U[pe]=Me,U[pt]=te,pe=pt):(U[pe]=Ht,U[Te]=te,pe=Te);else if(pt<ue&&0>i(Me,te))U[pe]=Me,U[pt]=te,pe=pt;else break e}}return W}function i(U,W){var te=U.sortIndex-W.sortIndex;return te!==0?te:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=U)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function I(U){if(v=!1,A(U),!g)if(r(l)!==null)g=!0,le(k);else{var W=r(c);W!==null&&se(I,W.startTime-U)}}function k(U,W){g=!1,v&&(v=!1,b(S),S=-1),m=!0;var te=p;try{for(A(W),f=r(l);f!==null&&(!(f.expirationTime>W)||U&&!T());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var ue=pe(f.expirationTime<=W);W=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===r(l)&&n(l),A(W)}else n(l);f=r(l)}if(f!==null)var Je=!0;else{var Te=r(c);Te!==null&&se(I,Te.startTime-W),Je=!1}return Je}finally{f=null,p=te,m=!1}}var O=!1,y=null,S=-1,C=5,D=-1;function T(){return!(e.unstable_now()-D<C)}function N(){if(y!==null){var U=e.unstable_now();D=U;var W=!0;try{W=y(!0,U)}finally{W?j():(O=!1,y=null)}}else O=!1}var j;if(typeof E=="function")j=function(){E(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=N,j=function(){ae.postMessage(null)}}else j=function(){x(N,0)};function le(U){y=U,O||(O=!0,j())}function se(U,W){S=x(function(){U(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,le(k))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var te=p;p=W;try{return U()}finally{p=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=p;p=U;try{return W()}finally{p=te}},e.unstable_scheduleCallback=function(U,W,te){var pe=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=te+ue,U={id:u++,callback:W,priorityLevel:U,startTime:te,expirationTime:ue,sortIndex:-1},te>pe?(U.sortIndex=te,t(c,U),r(l)===null&&U===r(c)&&(v?(b(S),S=-1):v=!0,se(I,te-pe))):(U.sortIndex=ue,t(l,U),g||m||(g=!0,le(k))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var W=p;return function(){var te=p;p=W;try{return U.apply(this,arguments)}finally{p=te}}}})(BT);UT.exports=BT;var GM=UT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QM=w,Gr=GM;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qT=new Set,sc={};function bs(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for(sc[e]=t,e=0;e<t.length;e++)qT.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,YM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rE={},nE={};function XM(e){return Qg.call(nE,e)?!0:Qg.call(rE,e)?!1:YM.test(e)?nE[e]=!0:(rE[e]=!0,!1)}function ZM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JM(e,t,r,n){if(t===null||typeof t>"u"||ZM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function y0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v0,y0);tr[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v0,y0);tr[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v0,y0);tr[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function w0(e,t,r,n){var i=tr.hasOwnProperty(t)?tr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JM(t,r,i,n)&&(r=null),n||i===null?XM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ki=QM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),KT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Zg=Symbol.for("react.suspense_list"),_0=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),HT=Symbol.for("react.offscreen"),iE=Symbol.iterator;function yl(e){return e===null||typeof e!="object"?null:(e=iE&&e[iE]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Bm;function Rl(e){if(Bm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bm=t&&t[1]||""}return`
`+Bm+e}var qm=!1;function Km(e,t){if(!e||qm)return"";qm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{qm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function eL(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=Km(e.type,!1),e;case 11:return e=Km(e.type.render,!1),e;case 1:return e=Km(e.type,!0),e;default:return""}}function Jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qs:return"Fragment";case Bs:return"Portal";case Yg:return"Profiler";case x0:return"StrictMode";case Xg:return"Suspense";case Zg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WT:return(e.displayName||"Context")+".Consumer";case KT:return(e._context.displayName||"Context")+".Provider";case b0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _0:return t=e.displayName||null,t!==null?t:Jg(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return Jg(e(t))}catch{}}return null}function tL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jg(t);case 8:return t===x0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rL(e){var t=GT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=rL(e))}function QT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ev(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function aE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ma(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YT(e,t){t=t.checked,t!=null&&w0(e,"checked",t,!1)}function tv(e,t){YT(e,t);var r=ma(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rv(e,t.type,r):t.hasOwnProperty("defaultValue")&&rv(e,t.type,ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rv(e,t,r){(t!=="number"||Jd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dl=Array.isArray;function no(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ma(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(Dl(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ma(r)}}function XT(e,t){var r=ma(t.value),n=ma(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hu,JT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nL=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){nL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function eC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function tC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var iL=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(e,t){if(t){if(iL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function sv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function E0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lv=null,io=null,ao=null;function cE(e){if(e=Qc(e)){if(typeof lv!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Fh(t),lv(e.stateNode,e.type,t))}}function rC(e){io?ao?ao.push(e):ao=[e]:io=e}function nC(){if(io){var e=io,t=ao;if(ao=io=null,cE(e),t)for(e=0;e<t.length;e++)cE(t[e])}}function iC(e,t){return e(t)}function aC(){}var Wm=!1;function sC(e,t,r){if(Wm)return e(t,r);Wm=!0;try{return iC(e,t,r)}finally{Wm=!1,(io!==null||ao!==null)&&(aC(),nC())}}function lc(e,t){var r=e.stateNode;if(r===null)return null;var n=Fh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var cv=!1;if(gi)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){cv=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{cv=!1}function aL(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Wl=!1,ef=null,tf=!1,uv=null,sL={onError:function(e){Wl=!0,ef=e}};function oL(e,t,r,n,i,a,s,o,l){Wl=!1,ef=null,aL.apply(sL,arguments)}function lL(e,t,r,n,i,a,s,o,l){if(oL.apply(this,arguments),Wl){if(Wl){var c=ef;Wl=!1,ef=null}else throw Error(K(198));tf||(tf=!0,uv=c)}}function _s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function oC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uE(e){if(_s(e)!==e)throw Error(K(188))}function cL(e){var t=e.alternate;if(!t){if(t=_s(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return uE(i),e;if(a===n)return uE(i),t;a=a.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function lC(e){return e=cL(e),e!==null?cC(e):null}function cC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cC(e);if(t!==null)return t;e=e.sibling}return null}var uC=Gr.unstable_scheduleCallback,dE=Gr.unstable_cancelCallback,uL=Gr.unstable_shouldYield,dL=Gr.unstable_requestPaint,ft=Gr.unstable_now,fL=Gr.unstable_getCurrentPriorityLevel,S0=Gr.unstable_ImmediatePriority,dC=Gr.unstable_UserBlockingPriority,rf=Gr.unstable_NormalPriority,hL=Gr.unstable_LowPriority,fC=Gr.unstable_IdlePriority,Dh=null,Un=null;function pL(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:vL,mL=Math.log,gL=Math.LN2;function vL(e){return e>>>=0,e===0?32:31-(mL(e)/gL|0)|0}var Gu=64,Qu=4194304;function Ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ml(o):(a&=s,a!==0&&(n=Ml(a)))}else s=r&~i,s!==0?n=Ml(s):a!==0&&(n=Ml(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-An(t),i=1<<r,n|=e[r],t&=~i;return n}function yL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-An(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=yL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function dv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hC(){var e=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),e}function Hm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-An(t),e[t]=r}function xL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-An(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function A0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-An(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var je=0;function pC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mC,P0,gC,vC,yC,fv=!1,Yu=[],ra=null,na=null,ia=null,cc=new Map,uc=new Map,Yi=[],bL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fE(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function xl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Qc(t),t!==null&&P0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _L(e,t,r,n,i){switch(t){case"focusin":return ra=xl(ra,e,t,r,n,i),!0;case"dragenter":return na=xl(na,e,t,r,n,i),!0;case"mouseover":return ia=xl(ia,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return cc.set(a,xl(cc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,uc.set(a,xl(uc.get(a)||null,e,t,r,n,i)),!0}return!1}function wC(e){var t=Wa(e.target);if(t!==null){var r=_s(t);if(r!==null){if(t=r.tag,t===13){if(t=oC(r),t!==null){e.blockedOn=t,yC(e.priority,function(){gC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ov=n,r.target.dispatchEvent(n),ov=null}else return t=Qc(r),t!==null&&P0(t),e.blockedOn=r,!1;t.shift()}return!0}function hE(e,t,r){kd(e)&&r.delete(t)}function EL(){fv=!1,ra!==null&&kd(ra)&&(ra=null),na!==null&&kd(na)&&(na=null),ia!==null&&kd(ia)&&(ia=null),cc.forEach(hE),uc.forEach(hE)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,fv||(fv=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,EL)))}function dc(e){function t(i){return bl(i,e)}if(0<Yu.length){bl(Yu[0],e);for(var r=1;r<Yu.length;r++){var n=Yu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ra!==null&&bl(ra,e),na!==null&&bl(na,e),ia!==null&&bl(ia,e),cc.forEach(t),uc.forEach(t),r=0;r<Yi.length;r++)n=Yi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)wC(r),r.blockedOn===null&&Yi.shift()}var so=ki.ReactCurrentBatchConfig,af=!0;function SL(e,t,r,n){var i=je,a=so.transition;so.transition=null;try{je=1,T0(e,t,r,n)}finally{je=i,so.transition=a}}function AL(e,t,r,n){var i=je,a=so.transition;so.transition=null;try{je=4,T0(e,t,r,n)}finally{je=i,so.transition=a}}function T0(e,t,r,n){if(af){var i=hv(e,t,r,n);if(i===null)ng(e,t,n,sf,r),fE(e,n);else if(_L(i,e,t,r,n))n.stopPropagation();else if(fE(e,n),t&4&&-1<bL.indexOf(e)){for(;i!==null;){var a=Qc(i);if(a!==null&&mC(a),a=hv(e,t,r,n),a===null&&ng(e,t,n,sf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ng(e,t,n,null,r)}}var sf=null;function hv(e,t,r,n){if(sf=null,e=E0(n),e=Wa(e),e!==null)if(t=_s(e),t===null)e=null;else if(r=t.tag,r===13){if(e=oC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sf=e,null}function xC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fL()){case S0:return 1;case dC:return 4;case rf:case hL:return 16;case fC:return 536870912;default:return 16}default:return 16}}var Ji=null,C0=null,Od=null;function bC(){if(Od)return Od;var e,t=C0,r=t.length,n,i="value"in Ji?Ji.value:Ji.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Od=i.slice(e,1<n?1-n:void 0)}function Rd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xu(){return!0}function pE(){return!1}function Xr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xu:pE,this.isPropagationStopped=pE,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),t}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I0=Xr($o),Gc=rt({},$o,{view:0,detail:0}),PL=Xr(Gc),Gm,Qm,_l,Mh=rt({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(Gm=e.screenX-_l.screenX,Qm=e.screenY-_l.screenY):Qm=Gm=0,_l=e),Gm)},movementY:function(e){return"movementY"in e?e.movementY:Qm}}),mE=Xr(Mh),TL=rt({},Mh,{dataTransfer:0}),CL=Xr(TL),IL=rt({},Gc,{relatedTarget:0}),Ym=Xr(IL),jL=rt({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),NL=Xr(jL),kL=rt({},$o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OL=Xr(kL),RL=rt({},$o,{data:0}),gE=Xr(RL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LL[e])?!!t[e]:!1}function j0(){return VL}var FL=rt({},Gc,{key:function(e){if(e.key){var t=DL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ML[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j0,charCode:function(e){return e.type==="keypress"?Rd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$L=Xr(FL),zL=rt({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vE=Xr(zL),UL=rt({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j0}),BL=Xr(UL),qL=rt({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),KL=Xr(qL),WL=rt({},Mh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HL=Xr(WL),GL=[9,13,27,32],N0=gi&&"CompositionEvent"in window,Hl=null;gi&&"documentMode"in document&&(Hl=document.documentMode);var QL=gi&&"TextEvent"in window&&!Hl,_C=gi&&(!N0||Hl&&8<Hl&&11>=Hl),yE=" ",wE=!1;function EC(e,t){switch(e){case"keyup":return GL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ks=!1;function YL(e,t){switch(e){case"compositionend":return SC(t);case"keypress":return t.which!==32?null:(wE=!0,yE);case"textInput":return e=t.data,e===yE&&wE?null:e;default:return null}}function XL(e,t){if(Ks)return e==="compositionend"||!N0&&EC(e,t)?(e=bC(),Od=C0=Ji=null,Ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _C&&t.locale!=="ko"?null:t.data;default:return null}}var ZL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZL[e.type]:t==="textarea"}function AC(e,t,r,n){rC(n),t=of(t,"onChange"),0<t.length&&(r=new I0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gl=null,fc=null;function JL(e){MC(e,0)}function Lh(e){var t=Gs(e);if(QT(t))return e}function eV(e,t){if(e==="change")return t}var PC=!1;if(gi){var Xm;if(gi){var Zm="oninput"in document;if(!Zm){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),Zm=typeof bE.oninput=="function"}Xm=Zm}else Xm=!1;PC=Xm&&(!document.documentMode||9<document.documentMode)}function _E(){Gl&&(Gl.detachEvent("onpropertychange",TC),fc=Gl=null)}function TC(e){if(e.propertyName==="value"&&Lh(fc)){var t=[];AC(t,fc,e,E0(e)),sC(JL,t)}}function tV(e,t,r){e==="focusin"?(_E(),Gl=t,fc=r,Gl.attachEvent("onpropertychange",TC)):e==="focusout"&&_E()}function rV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lh(fc)}function nV(e,t){if(e==="click")return Lh(t)}function iV(e,t){if(e==="input"||e==="change")return Lh(t)}function aV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:aV;function hc(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qg.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function EE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function SE(e,t){var r=EE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=EE(r)}}function CC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IC(){for(var e=window,t=Jd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jd(e.document)}return t}function k0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sV(e){var t=IC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&CC(r.ownerDocument.documentElement,r)){if(n!==null&&k0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=SE(r,a);var s=SE(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oV=gi&&"documentMode"in document&&11>=document.documentMode,Ws=null,pv=null,Ql=null,mv=!1;function AE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mv||Ws==null||Ws!==Jd(n)||(n=Ws,"selectionStart"in n&&k0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ql&&hc(Ql,n)||(Ql=n,n=of(pv,"onSelect"),0<n.length&&(t=new I0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ws)))}function Zu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hs={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},Jm={},jC={};gi&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Vh(e){if(Jm[e])return Jm[e];if(!Hs[e])return e;var t=Hs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jC)return Jm[e]=t[r];return e}var NC=Vh("animationend"),kC=Vh("animationiteration"),OC=Vh("animationstart"),RC=Vh("transitionend"),DC=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){DC.set(e,t),bs(t,[e])}for(var eg=0;eg<PE.length;eg++){var tg=PE[eg],lV=tg.toLowerCase(),cV=tg[0].toUpperCase()+tg.slice(1);Aa(lV,"on"+cV)}Aa(NC,"onAnimationEnd");Aa(kC,"onAnimationIteration");Aa(OC,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(RC,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function TE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lL(n,t,void 0,e),e.currentTarget=null}function MC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;TE(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;TE(i,o,c),a=l}}}if(tf)throw e=uv,tf=!1,uv=null,e}function qe(e,t){var r=t[xv];r===void 0&&(r=t[xv]=new Set);var n=e+"__bubble";r.has(n)||(LC(t,e,2,!1),r.add(n))}function rg(e,t,r){var n=0;t&&(n|=4),LC(r,e,n,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[Ju]){e[Ju]=!0,qT.forEach(function(r){r!=="selectionchange"&&(uV.has(r)||rg(r,!1,e),rg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ju]||(t[Ju]=!0,rg("selectionchange",!1,t))}}function LC(e,t,r,n){switch(xC(t)){case 1:var i=SL;break;case 4:i=AL;break;default:i=T0}r=i.bind(null,t,r,e),i=void 0,!cv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ng(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Wa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}sC(function(){var c=a,u=E0(r),f=[];e:{var p=DC.get(e);if(p!==void 0){var m=I0,g=e;switch(e){case"keypress":if(Rd(r)===0)break e;case"keydown":case"keyup":m=$L;break;case"focusin":g="focus",m=Ym;break;case"focusout":g="blur",m=Ym;break;case"beforeblur":case"afterblur":m=Ym;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BL;break;case NC:case kC:case OC:m=NL;break;case RC:m=KL;break;case"scroll":m=PL;break;case"wheel":m=HL;break;case"copy":case"cut":case"paste":m=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vE}var v=(t&4)!==0,x=!v&&e==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var E=c,A;E!==null;){A=E;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,b!==null&&(I=lc(E,b),I!=null&&v.push(mc(E,I,A)))),x)break;E=E.return}0<v.length&&(p=new m(p,g,null,r,u),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==ov&&(g=r.relatedTarget||r.fromElement)&&(Wa(g)||g[vi]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?Wa(g):null,g!==null&&(x=_s(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=mE,I="onMouseLeave",b="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(v=vE,I="onPointerLeave",b="onPointerEnter",E="pointer"),x=m==null?p:Gs(m),A=g==null?p:Gs(g),p=new v(I,E+"leave",m,r,u),p.target=x,p.relatedTarget=A,I=null,Wa(u)===c&&(v=new v(b,E+"enter",g,r,u),v.target=A,v.relatedTarget=x,I=v),x=I,m&&g)t:{for(v=m,b=g,E=0,A=v;A;A=Os(A))E++;for(A=0,I=b;I;I=Os(I))A++;for(;0<E-A;)v=Os(v),E--;for(;0<A-E;)b=Os(b),A--;for(;E--;){if(v===b||b!==null&&v===b.alternate)break t;v=Os(v),b=Os(b)}v=null}else v=null;m!==null&&CE(f,p,m,v,!1),g!==null&&x!==null&&CE(f,x,g,v,!0)}}e:{if(p=c?Gs(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=eV;else if(xE(p))if(PC)k=iV;else{k=rV;var O=tV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=nV);if(k&&(k=k(e,c))){AC(f,k,r,u);break e}O&&O(e,p,c),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&rv(p,"number",p.value)}switch(O=c?Gs(c):window,e){case"focusin":(xE(O)||O.contentEditable==="true")&&(Ws=O,pv=c,Ql=null);break;case"focusout":Ql=pv=Ws=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,AE(f,r,u);break;case"selectionchange":if(oV)break;case"keydown":case"keyup":AE(f,r,u)}var y;if(N0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ks?EC(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(_C&&r.locale!=="ko"&&(Ks||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ks&&(y=bC()):(Ji=u,C0="value"in Ji?Ji.value:Ji.textContent,Ks=!0)),O=of(c,S),0<O.length&&(S=new gE(S,e,null,r,u),f.push({event:S,listeners:O}),y?S.data=y:(y=SC(r),y!==null&&(S.data=y)))),(y=QL?YL(e,r):XL(e,r))&&(c=of(c,"onBeforeInput"),0<c.length&&(u=new gE("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=y))}MC(f,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function of(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lc(e,r),a!=null&&n.unshift(mc(e,a,i)),a=lc(e,t),a!=null&&n.push(mc(e,a,i))),e=e.return}return n}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function CE(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=lc(r,a),l!=null&&s.unshift(mc(r,l,o))):i||(l=lc(r,a),l!=null&&s.push(mc(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var dV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function IE(e){return(typeof e=="string"?e:""+e).replace(dV,`
`).replace(fV,"")}function ed(e,t,r){if(t=IE(t),IE(e)!==t&&r)throw Error(K(425))}function lf(){}var gv=null,vv=null;function yv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wv=typeof setTimeout=="function"?setTimeout:void 0,hV=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(e){return jE.resolve(null).then(e).catch(mV)}:wv;function mV(e){setTimeout(function(){throw e})}function ig(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),dc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dc(t)}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zo=Math.random().toString(36).slice(2),$n="__reactFiber$"+zo,gc="__reactProps$"+zo,vi="__reactContainer$"+zo,xv="__reactEvents$"+zo,gV="__reactListeners$"+zo,vV="__reactHandles$"+zo;function Wa(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vi]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NE(e);e!==null;){if(r=e[$n])return r;e=NE(e)}return t}e=r,r=e.parentNode}return null}function Qc(e){return e=e[$n]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Fh(e){return e[gc]||null}var bv=[],Qs=-1;function Pa(e){return{current:e}}function He(e){0>Qs||(e.current=bv[Qs],bv[Qs]=null,Qs--)}function ze(e,t){Qs++,bv[Qs]=e.current,e.current=t}var ga={},fr=Pa(ga),Nr=Pa(!1),ss=ga;function go(e,t){var r=e.type.contextTypes;if(!r)return ga;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kr(e){return e=e.childContextTypes,e!=null}function cf(){He(Nr),He(fr)}function kE(e,t,r){if(fr.current!==ga)throw Error(K(168));ze(fr,t),ze(Nr,r)}function VC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(K(108,tL(e)||"Unknown",i));return rt({},r,n)}function uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ga,ss=fr.current,ze(fr,e),ze(Nr,Nr.current),!0}function OE(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=VC(e,t,ss),n.__reactInternalMemoizedMergedChildContext=e,He(Nr),He(fr),ze(fr,e)):He(Nr),ze(Nr,r)}var ni=null,$h=!1,ag=!1;function FC(e){ni===null?ni=[e]:ni.push(e)}function yV(e){$h=!0,FC(e)}function Ta(){if(!ag&&ni!==null){ag=!0;var e=0,t=je;try{var r=ni;for(je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ni=null,$h=!1}catch(i){throw ni!==null&&(ni=ni.slice(e+1)),uC(S0,Ta),i}finally{je=t,ag=!1}}return null}var Ys=[],Xs=0,df=null,ff=0,nn=[],an=0,os=null,li=1,ci="";function $a(e,t){Ys[Xs++]=ff,Ys[Xs++]=df,df=e,ff=t}function $C(e,t,r){nn[an++]=li,nn[an++]=ci,nn[an++]=os,os=e;var n=li;e=ci;var i=32-An(n)-1;n&=~(1<<i),r+=1;var a=32-An(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,li=1<<32-An(t)+i|r<<i|n,ci=a+e}else li=1<<a|r<<i|n,ci=e}function O0(e){e.return!==null&&($a(e,1),$C(e,1,0))}function R0(e){for(;e===df;)df=Ys[--Xs],Ys[Xs]=null,ff=Ys[--Xs],Ys[Xs]=null;for(;e===os;)os=nn[--an],nn[an]=null,ci=nn[--an],nn[an]=null,li=nn[--an],nn[an]=null}var Wr=null,Br=null,Qe=!1,bn=null;function zC(e,t){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function RE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wr=e,Br=aa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=os!==null?{id:li,overflow:ci}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wr=e,Br=null,!0):!1;default:return!1}}function _v(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ev(e){if(Qe){var t=Br;if(t){var r=t;if(!RE(e,t)){if(_v(e))throw Error(K(418));t=aa(r.nextSibling);var n=Wr;t&&RE(e,t)?zC(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Wr=e)}}else{if(_v(e))throw Error(K(418));e.flags=e.flags&-4097|2,Qe=!1,Wr=e}}}function DE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function td(e){if(e!==Wr)return!1;if(!Qe)return DE(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yv(e.type,e.memoizedProps)),t&&(t=Br)){if(_v(e))throw UC(),Error(K(418));for(;t;)zC(e,t),t=aa(t.nextSibling)}if(DE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Br=aa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Wr?aa(e.stateNode.nextSibling):null;return!0}function UC(){for(var e=Br;e;)e=aa(e.nextSibling)}function vo(){Br=Wr=null,Qe=!1}function D0(e){bn===null?bn=[e]:bn.push(e)}var wV=ki.ReactCurrentBatchConfig;function El(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function rd(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ME(e){var t=e._init;return t(e._payload)}function BC(e){function t(b,E){if(e){var A=b.deletions;A===null?(b.deletions=[E],b.flags|=16):A.push(E)}}function r(b,E){if(!e)return null;for(;E!==null;)t(b,E),E=E.sibling;return null}function n(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=ca(b,E),b.index=0,b.sibling=null,b}function a(b,E,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<E?(b.flags|=2,E):A):(b.flags|=2,E)):(b.flags|=1048576,E)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,E,A,I){return E===null||E.tag!==6?(E=fg(A,b.mode,I),E.return=b,E):(E=i(E,A),E.return=b,E)}function l(b,E,A,I){var k=A.type;return k===qs?u(b,E,A.props.children,I,A.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wi&&ME(k)===E.type)?(I=i(E,A.props),I.ref=El(b,E,A),I.return=b,I):(I=zd(A.type,A.key,A.props,null,b.mode,I),I.ref=El(b,E,A),I.return=b,I)}function c(b,E,A,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=hg(A,b.mode,I),E.return=b,E):(E=i(E,A.children||[]),E.return=b,E)}function u(b,E,A,I,k){return E===null||E.tag!==7?(E=es(A,b.mode,I,k),E.return=b,E):(E=i(E,A),E.return=b,E)}function f(b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fg(""+E,b.mode,A),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ku:return A=zd(E.type,E.key,E.props,null,b.mode,A),A.ref=El(b,null,E),A.return=b,A;case Bs:return E=hg(E,b.mode,A),E.return=b,E;case Wi:var I=E._init;return f(b,I(E._payload),A)}if(Dl(E)||yl(E))return E=es(E,b.mode,A,null),E.return=b,E;rd(b,E)}return null}function p(b,E,A,I){var k=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return k!==null?null:o(b,E,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ku:return A.key===k?l(b,E,A,I):null;case Bs:return A.key===k?c(b,E,A,I):null;case Wi:return k=A._init,p(b,E,k(A._payload),I)}if(Dl(A)||yl(A))return k!==null?null:u(b,E,A,I,null);rd(b,A)}return null}function m(b,E,A,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(A)||null,o(E,b,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ku:return b=b.get(I.key===null?A:I.key)||null,l(E,b,I,k);case Bs:return b=b.get(I.key===null?A:I.key)||null,c(E,b,I,k);case Wi:var O=I._init;return m(b,E,A,O(I._payload),k)}if(Dl(I)||yl(I))return b=b.get(A)||null,u(E,b,I,k,null);rd(E,I)}return null}function g(b,E,A,I){for(var k=null,O=null,y=E,S=E=0,C=null;y!==null&&S<A.length;S++){y.index>S?(C=y,y=null):C=y.sibling;var D=p(b,y,A[S],I);if(D===null){y===null&&(y=C);break}e&&y&&D.alternate===null&&t(b,y),E=a(D,E,S),O===null?k=D:O.sibling=D,O=D,y=C}if(S===A.length)return r(b,y),Qe&&$a(b,S),k;if(y===null){for(;S<A.length;S++)y=f(b,A[S],I),y!==null&&(E=a(y,E,S),O===null?k=y:O.sibling=y,O=y);return Qe&&$a(b,S),k}for(y=n(b,y);S<A.length;S++)C=m(y,b,S,A[S],I),C!==null&&(e&&C.alternate!==null&&y.delete(C.key===null?S:C.key),E=a(C,E,S),O===null?k=C:O.sibling=C,O=C);return e&&y.forEach(function(T){return t(b,T)}),Qe&&$a(b,S),k}function v(b,E,A,I){var k=yl(A);if(typeof k!="function")throw Error(K(150));if(A=k.call(A),A==null)throw Error(K(151));for(var O=k=null,y=E,S=E=0,C=null,D=A.next();y!==null&&!D.done;S++,D=A.next()){y.index>S?(C=y,y=null):C=y.sibling;var T=p(b,y,D.value,I);if(T===null){y===null&&(y=C);break}e&&y&&T.alternate===null&&t(b,y),E=a(T,E,S),O===null?k=T:O.sibling=T,O=T,y=C}if(D.done)return r(b,y),Qe&&$a(b,S),k;if(y===null){for(;!D.done;S++,D=A.next())D=f(b,D.value,I),D!==null&&(E=a(D,E,S),O===null?k=D:O.sibling=D,O=D);return Qe&&$a(b,S),k}for(y=n(b,y);!D.done;S++,D=A.next())D=m(y,b,S,D.value,I),D!==null&&(e&&D.alternate!==null&&y.delete(D.key===null?S:D.key),E=a(D,E,S),O===null?k=D:O.sibling=D,O=D);return e&&y.forEach(function(N){return t(b,N)}),Qe&&$a(b,S),k}function x(b,E,A,I){if(typeof A=="object"&&A!==null&&A.type===qs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ku:e:{for(var k=A.key,O=E;O!==null;){if(O.key===k){if(k=A.type,k===qs){if(O.tag===7){r(b,O.sibling),E=i(O,A.props.children),E.return=b,b=E;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wi&&ME(k)===O.type){r(b,O.sibling),E=i(O,A.props),E.ref=El(b,O,A),E.return=b,b=E;break e}r(b,O);break}else t(b,O);O=O.sibling}A.type===qs?(E=es(A.props.children,b.mode,I,A.key),E.return=b,b=E):(I=zd(A.type,A.key,A.props,null,b.mode,I),I.ref=El(b,E,A),I.return=b,b=I)}return s(b);case Bs:e:{for(O=A.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(b,E.sibling),E=i(E,A.children||[]),E.return=b,b=E;break e}else{r(b,E);break}else t(b,E);E=E.sibling}E=hg(A,b.mode,I),E.return=b,b=E}return s(b);case Wi:return O=A._init,x(b,E,O(A._payload),I)}if(Dl(A))return g(b,E,A,I);if(yl(A))return v(b,E,A,I);rd(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(b,E.sibling),E=i(E,A),E.return=b,b=E):(r(b,E),E=fg(A,b.mode,I),E.return=b,b=E),s(b)):r(b,E)}return x}var yo=BC(!0),qC=BC(!1),hf=Pa(null),pf=null,Zs=null,M0=null;function L0(){M0=Zs=pf=null}function V0(e){var t=hf.current;He(hf),e._currentValue=t}function Sv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function oo(e,t){pf=e,M0=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(M0!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(pf===null)throw Error(K(308));Zs=e,pf.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var Ha=null;function F0(e){Ha===null?Ha=[e]:Ha.push(e)}function KC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,F0(t)):(r.next=i.next,i.next=r),t.interleaved=r,yi(e,n)}function yi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hi=!1;function $0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,yi(e,r)}return i=n.interleaved,i===null?(t.next=t,F0(n)):(t.next=i.next,i.next=t),n.interleaved=t,yi(e,r)}function Dd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,A0(e,r)}}function LE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mf(e,t,r,n){var i=e.updateQueue;Hi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(p=t,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=rt({},f,p);break e;case 2:Hi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);cs|=s,e.lanes=s,e.memoizedState=f}}function VE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var Yc={},Bn=Pa(Yc),vc=Pa(Yc),yc=Pa(Yc);function Ga(e){if(e===Yc)throw Error(K(174));return e}function z0(e,t){switch(ze(yc,t),ze(vc,e),ze(Bn,Yc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iv(t,e)}He(Bn),ze(Bn,t)}function wo(){He(Bn),He(vc),He(yc)}function HC(e){Ga(yc.current);var t=Ga(Bn.current),r=iv(t,e.type);t!==r&&(ze(vc,e),ze(Bn,r))}function U0(e){vc.current===e&&(He(Bn),He(vc))}var et=Pa(0);function gf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sg=[];function B0(){for(var e=0;e<sg.length;e++)sg[e]._workInProgressVersionPrimary=null;sg.length=0}var Md=ki.ReactCurrentDispatcher,og=ki.ReactCurrentBatchConfig,ls=0,tt=null,At=null,zt=null,vf=!1,Yl=!1,wc=0,xV=0;function nr(){throw Error(K(321))}function q0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function K0(e,t,r,n,i,a){if(ls=a,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Md.current=e===null||e.memoizedState===null?SV:AV,e=r(n,i),Yl){a=0;do{if(Yl=!1,wc=0,25<=a)throw Error(K(301));a+=1,zt=At=null,t.updateQueue=null,Md.current=PV,e=r(n,i)}while(Yl)}if(Md.current=yf,t=At!==null&&At.next!==null,ls=0,zt=At=tt=null,vf=!1,t)throw Error(K(300));return e}function W0(){var e=wc!==0;return wc=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?tt.memoizedState=zt=e:zt=zt.next=e,zt}function fn(){if(At===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=zt===null?tt.memoizedState:zt.next;if(t!==null)zt=t,At=e;else{if(e===null)throw Error(K(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},zt===null?tt.memoizedState=zt=e:zt=zt.next=e}return zt}function xc(e,t){return typeof t=="function"?t(e):t}function lg(e){var t=fn(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=At,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((ls&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,tt.lanes|=u,cs|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Cn(n,t.memoizedState)||(Ir=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,tt.lanes|=a,cs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cg(e){var t=fn(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Cn(a,t.memoizedState)||(Ir=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function GC(){}function QC(e,t){var r=tt,n=fn(),i=t(),a=!Cn(n.memoizedState,i);if(a&&(n.memoizedState=i,Ir=!0),n=n.queue,H0(ZC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,bc(9,XC.bind(null,r,n,i,t),void 0,null),Bt===null)throw Error(K(349));ls&30||YC(r,t,i)}return i}function YC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function XC(e,t,r,n){t.value=r,t.getSnapshot=n,JC(t)&&eI(e)}function ZC(e,t,r){return r(function(){JC(t)&&eI(e)})}function JC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function eI(e){var t=yi(e,1);t!==null&&Pn(t,e,1,-1)}function FE(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=EV.bind(null,tt,e),[t.memoizedState,e]}function bc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tI(){return fn().memoizedState}function Ld(e,t,r,n){var i=Vn();tt.flags|=e,i.memoizedState=bc(1|t,r,void 0,n===void 0?null:n)}function zh(e,t,r,n){var i=fn();n=n===void 0?null:n;var a=void 0;if(At!==null){var s=At.memoizedState;if(a=s.destroy,n!==null&&q0(n,s.deps)){i.memoizedState=bc(t,r,a,n);return}}tt.flags|=e,i.memoizedState=bc(1|t,r,a,n)}function $E(e,t){return Ld(8390656,8,e,t)}function H0(e,t){return zh(2048,8,e,t)}function rI(e,t){return zh(4,2,e,t)}function nI(e,t){return zh(4,4,e,t)}function iI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aI(e,t,r){return r=r!=null?r.concat([e]):null,zh(4,4,iI.bind(null,t,e),r)}function G0(){}function sI(e,t){var r=fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oI(e,t){var r=fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lI(e,t,r){return ls&21?(Cn(r,t)||(r=hC(),tt.lanes|=r,cs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=r)}function bV(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var n=og.transition;og.transition={};try{e(!1),t()}finally{je=r,og.transition=n}}function cI(){return fn().memoizedState}function _V(e,t,r){var n=la(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uI(e))dI(t,r);else if(r=KC(e,t,r,n),r!==null){var i=wr();Pn(r,e,n,i),fI(r,t,n)}}function EV(e,t,r){var n=la(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uI(e))dI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Cn(o,s)){var l=t.interleaved;l===null?(i.next=i,F0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=KC(e,t,i,n),r!==null&&(i=wr(),Pn(r,e,n,i),fI(r,t,n))}}function uI(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function dI(e,t){Yl=vf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,A0(e,r)}}var yf={readContext:dn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},SV={readContext:dn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:$E,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ld(4194308,4,iI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ld(4,2,e,t)},useMemo:function(e,t){var r=Vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_V.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:FE,useDebugValue:G0,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=FE(!1),t=e[0];return e=bV.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,i=Vn();if(Qe){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),Bt===null)throw Error(K(349));ls&30||YC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,$E(ZC.bind(null,n,a,e),[e]),n.flags|=2048,bc(9,XC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Vn(),t=Bt.identifierPrefix;if(Qe){var r=ci,n=li;r=(n&~(1<<32-An(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=xV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AV={readContext:dn,useCallback:sI,useContext:dn,useEffect:H0,useImperativeHandle:aI,useInsertionEffect:rI,useLayoutEffect:nI,useMemo:oI,useReducer:lg,useRef:tI,useState:function(){return lg(xc)},useDebugValue:G0,useDeferredValue:function(e){var t=fn();return lI(t,At.memoizedState,e)},useTransition:function(){var e=lg(xc)[0],t=fn().memoizedState;return[e,t]},useMutableSource:GC,useSyncExternalStore:QC,useId:cI,unstable_isNewReconciler:!1},PV={readContext:dn,useCallback:sI,useContext:dn,useEffect:H0,useImperativeHandle:aI,useInsertionEffect:rI,useLayoutEffect:nI,useMemo:oI,useReducer:cg,useRef:tI,useState:function(){return cg(xc)},useDebugValue:G0,useDeferredValue:function(e){var t=fn();return At===null?t.memoizedState=e:lI(t,At.memoizedState,e)},useTransition:function(){var e=cg(xc)[0],t=fn().memoizedState;return[e,t]},useMutableSource:GC,useSyncExternalStore:QC,useId:cI,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Av(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uh={isMounted:function(e){return(e=e._reactInternals)?_s(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wr(),i=la(e),a=fi(n,i);a.payload=t,r!=null&&(a.callback=r),t=sa(e,a,i),t!==null&&(Pn(t,e,i,n),Dd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wr(),i=la(e),a=fi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=sa(e,a,i),t!==null&&(Pn(t,e,i,n),Dd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wr(),n=la(e),i=fi(r,n);i.tag=2,t!=null&&(i.callback=t),t=sa(e,i,n),t!==null&&(Pn(t,e,n,r),Dd(t,e,n))}};function zE(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!hc(r,n)||!hc(i,a):!0}function hI(e,t,r){var n=!1,i=ga,a=t.contextType;return typeof a=="object"&&a!==null?a=dn(a):(i=kr(t)?ss:fr.current,n=t.contextTypes,a=(n=n!=null)?go(e,i):ga),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function UE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uh.enqueueReplaceState(t,t.state,null)}function Pv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=dn(a):(a=kr(t)?ss:fr.current,i.context=go(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Av(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Uh.enqueueReplaceState(i,i.state,null),mf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xo(e,t){try{var r="",n=t;do r+=eL(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ug(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TV=typeof WeakMap=="function"?WeakMap:Map;function pI(e,t,r){r=fi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xf||(xf=!0,Lv=n),Tv(e,t)},r}function mI(e,t,r){r=fi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Tv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Tv(e,t),typeof n!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function BE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=zV.bind(null,e,t,r),t.then(e,e))}function qE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function KE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fi(-1,1),t.tag=2,sa(r,t,1))),r.lanes|=1),e)}var CV=ki.ReactCurrentOwner,Ir=!1;function gr(e,t,r,n){t.child=e===null?qC(t,null,r,n):yo(t,e.child,r,n)}function WE(e,t,r,n,i){r=r.render;var a=t.ref;return oo(t,i),n=K0(e,t,r,n,a,i),r=W0(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(Qe&&r&&O0(t),t.flags|=1,gr(e,t,n,i),t.child)}function HE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!rw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,gI(e,t,a,n,i)):(e=zd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(s,n)&&e.ref===t.ref)return wi(e,t,i)}return t.flags|=1,e=ca(a,n),e.ref=t.ref,e.return=t,t.child=e}function gI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(hc(a,n)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,wi(e,t,i)}return Cv(e,t,r,n,i)}function vI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(eo,$r),$r|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(eo,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ze(eo,$r),$r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ze(eo,$r),$r|=n;return gr(e,t,i,r),t.child}function yI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cv(e,t,r,n,i){var a=kr(r)?ss:fr.current;return a=go(t,a),oo(t,i),r=K0(e,t,r,n,a,i),n=W0(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(Qe&&n&&O0(t),t.flags|=1,gr(e,t,r,i),t.child)}function GE(e,t,r,n,i){if(kr(r)){var a=!0;uf(t)}else a=!1;if(oo(t,i),t.stateNode===null)Vd(e,t),hI(t,r,n),Pv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=kr(r)?ss:fr.current,c=go(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&UE(t,s,n,c),Hi=!1;var p=t.memoizedState;s.state=p,mf(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Nr.current||Hi?(typeof u=="function"&&(Av(t,r,u,n),l=t.memoizedState),(o=Hi||zE(t,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,WC(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:wn(t.type,o),s.props=c,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=kr(r)?ss:fr.current,l=go(t,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&UE(t,s,n,l),Hi=!1,p=t.memoizedState,s.state=p,mf(t,n,s,i);var g=t.memoizedState;o!==f||p!==g||Nr.current||Hi?(typeof m=="function"&&(Av(t,r,m,n),g=t.memoizedState),(c=Hi||zE(t,r,c,n,p,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Iv(e,t,r,n,a,i)}function Iv(e,t,r,n,i,a){yI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&OE(t,r,!1),wi(e,t,a);n=t.stateNode,CV.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=yo(t,e.child,null,a),t.child=yo(t,null,o,a)):gr(e,t,o,a),t.memoizedState=n.state,i&&OE(t,r,!0),t.child}function wI(e){var t=e.stateNode;t.pendingContext?kE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kE(e,t.context,!1),z0(e,t.containerInfo)}function QE(e,t,r,n,i){return vo(),D0(i),t.flags|=256,gr(e,t,r,n),t.child}var jv={dehydrated:null,treeContext:null,retryLane:0};function Nv(e){return{baseLanes:e,cachePool:null,transitions:null}}function xI(e,t,r){var n=t.pendingProps,i=et.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(et,i&1),e===null)return Ev(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Kh(s,n,0,null),e=es(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Nv(r),t.memoizedState=jv,e):Q0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return IV(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ca(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ca(o,a):(a=es(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Nv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=jv,n}return a=e.child,e=a.sibling,n=ca(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Q0(e,t){return t=Kh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nd(e,t,r,n){return n!==null&&D0(n),yo(t,e.child,null,r),e=Q0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IV(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=ug(Error(K(422))),nd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Kh({mode:"visible",children:n.children},i,0,null),a=es(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&yo(t,e.child,null,s),t.child.memoizedState=Nv(s),t.memoizedState=jv,a);if(!(t.mode&1))return nd(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(K(419)),n=ug(a,n,void 0),nd(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ir||o){if(n=Bt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yi(e,i),Pn(n,e,i,-1))}return tw(),n=ug(Error(K(421))),nd(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Br=aa(i.nextSibling),Wr=t,Qe=!0,bn=null,e!==null&&(nn[an++]=li,nn[an++]=ci,nn[an++]=os,li=e.id,ci=e.overflow,os=t),t=Q0(t,n.children),t.flags|=4096,t)}function YE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sv(e.return,t,r)}function dg(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function bI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(gr(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YE(e,r,t);else if(e.tag===19)YE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(et,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&gf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dg(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dg(t,!0,r,null,a);break;case"together":dg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=ca(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ca(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jV(e,t,r){switch(t.tag){case 3:wI(t),vo();break;case 5:HC(t);break;case 1:kr(t.type)&&uf(t);break;case 4:z0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ze(hf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?xI(e,t,r):(ze(et,et.current&1),e=wi(e,t,r),e!==null?e.sibling:null);ze(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,vI(e,t,r)}return wi(e,t,r)}var _I,kv,EI,SI;_I=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kv=function(){};EI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ga(Bn.current);var a=null;switch(r){case"input":i=ev(e,i),n=ev(e,n),a=[];break;case"select":i=rt({},i,{value:void 0}),n=rt({},n,{value:void 0}),a=[];break;case"textarea":i=nv(e,i),n=nv(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=lf)}av(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};SI=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sl(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NV(e,t,r){var n=t.pendingProps;switch(R0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return kr(t.type)&&cf(),ir(t),null;case 3:return n=t.stateNode,wo(),He(Nr),He(fr),B0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(td(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&($v(bn),bn=null))),kv(e,t),ir(t),null;case 5:U0(t);var i=Ga(yc.current);if(r=t.type,e!==null&&t.stateNode!=null)EI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return ir(t),null}if(e=Ga(Bn.current),td(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$n]=t,n[gc]=a,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<Ll.length;i++)qe(Ll[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":aE(n,a),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qe("invalid",n);break;case"textarea":oE(n,a),qe("invalid",n)}av(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ed(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ed(n.textContent,o,e),i=["children",""+o]):sc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&qe("scroll",n)}switch(r){case"input":Wu(n),sE(n,a,!0);break;case"textarea":Wu(n),lE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=lf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[$n]=t,e[gc]=n,_I(e,t,!1,!1),t.stateNode=e;e:{switch(s=sv(r,n),r){case"dialog":qe("cancel",e),qe("close",e),i=n;break;case"iframe":case"object":case"embed":qe("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ll.length;i++)qe(Ll[i],e);i=n;break;case"source":qe("error",e),i=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=n;break;case"details":qe("toggle",e),i=n;break;case"input":aE(e,n),i=ev(e,n),qe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=rt({},n,{value:void 0}),qe("invalid",e);break;case"textarea":oE(e,n),i=nv(e,n),qe("invalid",e);break;default:i=n}av(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?tC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oc(e,l):typeof l=="number"&&oc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(sc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",e):l!=null&&w0(e,a,l,s))}switch(r){case"input":Wu(e),sE(e,n,!1);break;case"textarea":Wu(e),lE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ma(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?no(e,!!n.multiple,a,!1):n.defaultValue!=null&&no(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)SI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=Ga(yc.current),Ga(Bn.current),td(t)){if(n=t.stateNode,r=t.memoizedProps,n[$n]=t,(a=n.nodeValue!==r)&&(e=Wr,e!==null))switch(e.tag){case 3:ed(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ed(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$n]=t,t.stateNode=n}return ir(t),null;case 13:if(He(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Br!==null&&t.mode&1&&!(t.flags&128))UC(),vo(),t.flags|=98560,a=!1;else if(a=td(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(K(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[$n]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),a=!1}else bn!==null&&($v(bn),bn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?Ct===0&&(Ct=3):tw())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return wo(),kv(e,t),e===null&&pc(t.stateNode.containerInfo),ir(t),null;case 10:return V0(t.type._context),ir(t),null;case 17:return kr(t.type)&&cf(),ir(t),null;case 19:if(He(et),a=t.memoizedState,a===null)return ir(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Sl(a,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gf(e),s!==null){for(t.flags|=128,Sl(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(et,et.current&1|2),t.child}e=e.sibling}a.tail!==null&&ft()>bo&&(t.flags|=128,n=!0,Sl(a,!1),t.lanes=4194304)}else{if(!n)if(e=gf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return ir(t),null}else 2*ft()-a.renderingStartTime>bo&&r!==1073741824&&(t.flags|=128,n=!0,Sl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ft(),t.sibling=null,r=et.current,ze(et,n?r&1|2:r&1),t):(ir(t),null);case 22:case 23:return ew(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function kV(e,t){switch(R0(t),t.tag){case 1:return kr(t.type)&&cf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),He(Nr),He(fr),B0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return U0(t),null;case 13:if(He(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(et),null;case 4:return wo(),null;case 10:return V0(t.type._context),null;case 22:case 23:return ew(),null;case 24:return null;default:return null}}var id=!1,lr=!1,OV=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Ov(e,t,r){try{r()}catch(n){st(e,t,n)}}var XE=!1;function RV(e,t){if(gv=af,e=IC(),k0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(vv={focusedElem:e,selectionRange:r},af=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,b=t.stateNode,E=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:wn(t.type,v),x);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(I){st(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=XE,XE=!1,g}function Xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ov(t,r,a)}i=i.next}while(i!==n)}}function Bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function AI(e){var t=e.alternate;t!==null&&(e.alternate=null,AI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[gc],delete t[xv],delete t[gV],delete t[vV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PI(e){return e.tag===5||e.tag===3||e.tag===4}function ZE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=lf));else if(n!==4&&(e=e.child,e!==null))for(Dv(e,t,r),e=e.sibling;e!==null;)Dv(e,t,r),e=e.sibling}function Mv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mv(e,t,r),e=e.sibling;e!==null;)Mv(e,t,r),e=e.sibling}var Yt=null,xn=!1;function Ki(e,t,r){for(r=r.child;r!==null;)TI(e,t,r),r=r.sibling}function TI(e,t,r){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Dh,r)}catch{}switch(r.tag){case 5:lr||Js(r,t);case 6:var n=Yt,i=xn;Yt=null,Ki(e,t,r),Yt=n,xn=i,Yt!==null&&(xn?(e=Yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(xn?(e=Yt,r=r.stateNode,e.nodeType===8?ig(e.parentNode,r):e.nodeType===1&&ig(e,r),dc(e)):ig(Yt,r.stateNode));break;case 4:n=Yt,i=xn,Yt=r.stateNode.containerInfo,xn=!0,Ki(e,t,r),Yt=n,xn=i;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ov(r,t,s),i=i.next}while(i!==n)}Ki(e,t,r);break;case 1:if(!lr&&(Js(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){st(r,t,o)}Ki(e,t,r);break;case 21:Ki(e,t,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,Ki(e,t,r),lr=n):Ki(e,t,r);break;default:Ki(e,t,r)}}function JE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OV),t.forEach(function(n){var i=BV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Yt=o.stateNode,xn=!1;break e;case 3:Yt=o.stateNode.containerInfo,xn=!0;break e;case 4:Yt=o.stateNode.containerInfo,xn=!0;break e}o=o.return}if(Yt===null)throw Error(K(160));TI(a,s,i),Yt=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){st(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CI(t,e),t=t.sibling}function CI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),Ln(e),n&4){try{Xl(3,e,e.return),Bh(3,e)}catch(v){st(e,e.return,v)}try{Xl(5,e,e.return)}catch(v){st(e,e.return,v)}}break;case 1:yn(t,e),Ln(e),n&512&&r!==null&&Js(r,r.return);break;case 5:if(yn(t,e),Ln(e),n&512&&r!==null&&Js(r,r.return),e.flags&32){var i=e.stateNode;try{oc(i,"")}catch(v){st(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&YT(i,a),sv(o,s);var c=sv(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?tC(i,f):u==="dangerouslySetInnerHTML"?JT(i,f):u==="children"?oc(i,f):w0(i,u,f,c)}switch(o){case"input":tv(i,a);break;case"textarea":XT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?no(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?no(i,!!a.multiple,a.defaultValue,!0):no(i,!!a.multiple,a.multiple?[]:"",!1))}i[gc]=a}catch(v){st(e,e.return,v)}}break;case 6:if(yn(t,e),Ln(e),n&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){st(e,e.return,v)}}break;case 3:if(yn(t,e),Ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(v){st(e,e.return,v)}break;case 4:yn(t,e),Ln(e);break;case 13:yn(t,e),Ln(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Z0=ft())),n&4&&JE(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(lr=(c=lr)||u,yn(t,e),lr=c):yn(t,e),Ln(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(f=Z=u;Z!==null;){switch(p=Z,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xl(4,p,p.return);break;case 1:Js(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){st(n,r,v)}}break;case 5:Js(p,p.return);break;case 22:if(p.memoizedState!==null){t1(f);continue}}m!==null?(m.return=p,Z=m):t1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=eC("display",s))}catch(v){st(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){st(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(t,e),Ln(e),n&4&&JE(e);break;case 21:break;default:yn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PI(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oc(i,""),n.flags&=-33);var a=ZE(e);Mv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=ZE(e);Dv(e,o,s);break;default:throw Error(K(161))}}catch(l){st(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DV(e,t,r){Z=e,II(e)}function II(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||id;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||lr;o=id;var c=lr;if(id=s,(lr=l)&&!c)for(Z=i;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?r1(i):l!==null?(l.return=s,Z=l):r1(i);for(;a!==null;)Z=a,II(a),a=a.sibling;Z=i,id=o,lr=c}e1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):e1(e)}}function e1(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||Bh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&VE(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}VE(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}lr||t.flags&512&&Rv(t)}catch(p){st(t,t.return,p)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function t1(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function r1(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bh(4,t)}catch(l){st(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){st(t,i,l)}}var a=t.return;try{Rv(t)}catch(l){st(t,a,l)}break;case 5:var s=t.return;try{Rv(t)}catch(l){st(t,s,l)}}}catch(l){st(t,t.return,l)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var MV=Math.ceil,wf=ki.ReactCurrentDispatcher,Y0=ki.ReactCurrentOwner,cn=ki.ReactCurrentBatchConfig,Ee=0,Bt=null,yt=null,er=0,$r=0,eo=Pa(0),Ct=0,_c=null,cs=0,qh=0,X0=0,Zl=null,Tr=null,Z0=0,bo=1/0,ri=null,xf=!1,Lv=null,oa=null,ad=!1,ea=null,bf=0,Jl=0,Vv=null,Fd=-1,$d=0;function wr(){return Ee&6?ft():Fd!==-1?Fd:Fd=ft()}function la(e){return e.mode&1?Ee&2&&er!==0?er&-er:wV.transition!==null?($d===0&&($d=hC()),$d):(e=je,e!==0||(e=window.event,e=e===void 0?16:xC(e.type)),e):1}function Pn(e,t,r,n){if(50<Jl)throw Jl=0,Vv=null,Error(K(185));Hc(e,r,n),(!(Ee&2)||e!==Bt)&&(e===Bt&&(!(Ee&2)&&(qh|=r),Ct===4&&Xi(e,er)),Or(e,n),r===1&&Ee===0&&!(t.mode&1)&&(bo=ft()+500,$h&&Ta()))}function Or(e,t){var r=e.callbackNode;wL(e,t);var n=nf(e,e===Bt?er:0);if(n===0)r!==null&&dE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dE(r),t===1)e.tag===0?yV(n1.bind(null,e)):FC(n1.bind(null,e)),pV(function(){!(Ee&6)&&Ta()}),r=null;else{switch(pC(n)){case 1:r=S0;break;case 4:r=dC;break;case 16:r=rf;break;case 536870912:r=fC;break;default:r=rf}r=LI(r,jI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jI(e,t){if(Fd=-1,$d=0,Ee&6)throw Error(K(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var n=nf(e,e===Bt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_f(e,n);else{t=n;var i=Ee;Ee|=2;var a=kI();(Bt!==e||er!==t)&&(ri=null,bo=ft()+500,Ja(e,t));do try{FV();break}catch(o){NI(e,o)}while(!0);L0(),wf.current=a,Ee=i,yt!==null?t=0:(Bt=null,er=0,t=Ct)}if(t!==0){if(t===2&&(i=dv(e),i!==0&&(n=i,t=Fv(e,i))),t===1)throw r=_c,Ja(e,0),Xi(e,n),Or(e,ft()),r;if(t===6)Xi(e,n);else{if(i=e.current.alternate,!(n&30)&&!LV(i)&&(t=_f(e,n),t===2&&(a=dv(e),a!==0&&(n=a,t=Fv(e,a))),t===1))throw r=_c,Ja(e,0),Xi(e,n),Or(e,ft()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:za(e,Tr,ri);break;case 3:if(Xi(e,n),(n&130023424)===n&&(t=Z0+500-ft(),10<t)){if(nf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){wr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wv(za.bind(null,e,Tr,ri),t);break}za(e,Tr,ri);break;case 4:if(Xi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-An(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MV(n/1960))-n,10<n){e.timeoutHandle=wv(za.bind(null,e,Tr,ri),n);break}za(e,Tr,ri);break;case 5:za(e,Tr,ri);break;default:throw Error(K(329))}}}return Or(e,ft()),e.callbackNode===r?jI.bind(null,e):null}function Fv(e,t){var r=Zl;return e.current.memoizedState.isDehydrated&&(Ja(e,t).flags|=256),e=_f(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&$v(t)),e}function $v(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function LV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xi(e,t){for(t&=~X0,t&=~qh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-An(t),n=1<<r;e[r]=-1,t&=~n}}function n1(e){if(Ee&6)throw Error(K(327));lo();var t=nf(e,0);if(!(t&1))return Or(e,ft()),null;var r=_f(e,t);if(e.tag!==0&&r===2){var n=dv(e);n!==0&&(t=n,r=Fv(e,n))}if(r===1)throw r=_c,Ja(e,0),Xi(e,t),Or(e,ft()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,za(e,Tr,ri),Or(e,ft()),null}function J0(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(bo=ft()+500,$h&&Ta())}}function us(e){ea!==null&&ea.tag===0&&!(Ee&6)&&lo();var t=Ee;Ee|=1;var r=cn.transition,n=je;try{if(cn.transition=null,je=1,e)return e()}finally{je=n,cn.transition=r,Ee=t,!(Ee&6)&&Ta()}}function ew(){$r=eo.current,He(eo)}function Ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hV(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(R0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cf();break;case 3:wo(),He(Nr),He(fr),B0();break;case 5:U0(n);break;case 4:wo();break;case 13:He(et);break;case 19:He(et);break;case 10:V0(n.type._context);break;case 22:case 23:ew()}r=r.return}if(Bt=e,yt=e=ca(e.current,null),er=$r=t,Ct=0,_c=null,X0=qh=cs=0,Tr=Zl=null,Ha!==null){for(t=0;t<Ha.length;t++)if(r=Ha[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ha=null}return e}function NI(e,t){do{var r=yt;try{if(L0(),Md.current=yf,vf){for(var n=tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vf=!1}if(ls=0,zt=At=tt=null,Yl=!1,wc=0,Y0.current=null,r===null||r.return===null){Ct=1,_c=t,yt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=er,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=qE(s);if(m!==null){m.flags&=-257,KE(m,s,o,a,t),m.mode&1&&BE(a,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){BE(a,c,t),tw();break e}l=Error(K(426))}}else if(Qe&&o.mode&1){var x=qE(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),KE(x,s,o,a,t),D0(xo(l,o));break e}}a=l=xo(l,o),Ct!==4&&(Ct=2),Zl===null?Zl=[a]:Zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=pI(a,l,t);LE(a,b);break e;case 1:o=l;var E=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(oa===null||!oa.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=mI(a,o,t);LE(a,I);break e}}a=a.return}while(a!==null)}RI(r)}catch(k){t=k,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function kI(){var e=wf.current;return wf.current=yf,e===null?yf:e}function tw(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Bt===null||!(cs&268435455)&&!(qh&268435455)||Xi(Bt,er)}function _f(e,t){var r=Ee;Ee|=2;var n=kI();(Bt!==e||er!==t)&&(ri=null,Ja(e,t));do try{VV();break}catch(i){NI(e,i)}while(!0);if(L0(),Ee=r,wf.current=n,yt!==null)throw Error(K(261));return Bt=null,er=0,Ct}function VV(){for(;yt!==null;)OI(yt)}function FV(){for(;yt!==null&&!uL();)OI(yt)}function OI(e){var t=MI(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?RI(e):yt=t,Y0.current=null}function RI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kV(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,yt=null;return}}else if(r=NV(r,t,$r),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Ct===0&&(Ct=5)}function za(e,t,r){var n=je,i=cn.transition;try{cn.transition=null,je=1,$V(e,t,r,n)}finally{cn.transition=i,je=n}return null}function $V(e,t,r,n){do lo();while(ea!==null);if(Ee&6)throw Error(K(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(xL(e,a),e===Bt&&(yt=Bt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,LI(rf,function(){return lo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=cn.transition,cn.transition=null;var s=je;je=1;var o=Ee;Ee|=4,Y0.current=null,RV(e,r),CI(r,e),sV(vv),af=!!gv,vv=gv=null,e.current=r,DV(r),dL(),Ee=o,je=s,cn.transition=a}else e.current=r;if(ad&&(ad=!1,ea=e,bf=i),a=e.pendingLanes,a===0&&(oa=null),pL(r.stateNode),Or(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,e=Lv,Lv=null,e;return bf&1&&e.tag!==0&&lo(),a=e.pendingLanes,a&1?e===Vv?Jl++:(Jl=0,Vv=e):Jl=0,Ta(),null}function lo(){if(ea!==null){var e=pC(bf),t=cn.transition,r=je;try{if(cn.transition=null,je=16>e?16:e,ea===null)var n=!1;else{if(e=ea,ea=null,bf=0,Ee&6)throw Error(K(331));var i=Ee;for(Ee|=4,Z=e.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Xl(8,u,a)}var f=u.child;if(f!==null)f.return=u,Z=f;else for(;Z!==null;){u=Z;var p=u.sibling,m=u.return;if(AI(u),u===c){Z=null;break}if(p!==null){p.return=m,Z=p;break}Z=m}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xl(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Z=b;break e}Z=a.return}}var E=e.current;for(Z=E;Z!==null;){s=Z;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Z=A;else e:for(s=E;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bh(9,o)}}catch(k){st(o,o.return,k)}if(o===s){Z=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Z=I;break e}Z=o.return}}if(Ee=i,Ta(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Dh,e)}catch{}n=!0}return n}finally{je=r,cn.transition=t}}return!1}function i1(e,t,r){t=xo(r,t),t=pI(e,t,1),e=sa(e,t,1),t=wr(),e!==null&&(Hc(e,1,t),Or(e,t))}function st(e,t,r){if(e.tag===3)i1(e,e,r);else for(;t!==null;){if(t.tag===3){i1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oa===null||!oa.has(n))){e=xo(r,e),e=mI(t,e,1),t=sa(t,e,1),e=wr(),t!==null&&(Hc(t,1,e),Or(t,e));break}}t=t.return}}function zV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wr(),e.pingedLanes|=e.suspendedLanes&r,Bt===e&&(er&r)===r&&(Ct===4||Ct===3&&(er&130023424)===er&&500>ft()-Z0?Ja(e,0):X0|=r),Or(e,t)}function DI(e,t){t===0&&(e.mode&1?(t=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):t=1);var r=wr();e=yi(e,t),e!==null&&(Hc(e,t,r),Or(e,r))}function UV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DI(e,r)}function BV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),DI(e,r)}var MI;MI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nr.current)Ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ir=!1,jV(e,t,r);Ir=!!(e.flags&131072)}else Ir=!1,Qe&&t.flags&1048576&&$C(t,ff,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vd(e,t),e=t.pendingProps;var i=go(t,fr.current);oo(t,r),i=K0(null,t,n,e,i,r);var a=W0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(n)?(a=!0,uf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$0(t),i.updater=Uh,t.stateNode=i,i._reactInternals=t,Pv(t,n,e,r),t=Iv(null,t,n,!0,a,r)):(t.tag=0,Qe&&a&&O0(t),gr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=KV(n),e=wn(n,e),i){case 0:t=Cv(null,t,n,e,r);break e;case 1:t=GE(null,t,n,e,r);break e;case 11:t=WE(null,t,n,e,r);break e;case 14:t=HE(null,t,n,wn(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),Cv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),GE(e,t,n,i,r);case 3:e:{if(wI(t),e===null)throw Error(K(387));n=t.pendingProps,a=t.memoizedState,i=a.element,WC(e,t),mf(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xo(Error(K(423)),t),t=QE(e,t,n,r,i);break e}else if(n!==i){i=xo(Error(K(424)),t),t=QE(e,t,n,r,i);break e}else for(Br=aa(t.stateNode.containerInfo.firstChild),Wr=t,Qe=!0,bn=null,r=qC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),n===i){t=wi(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return HC(t),e===null&&Ev(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,yv(n,i)?s=null:a!==null&&yv(n,a)&&(t.flags|=32),yI(e,t),gr(e,t,s,r),t.child;case 6:return e===null&&Ev(t),null;case 13:return xI(e,t,r);case 4:return z0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yo(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),WE(e,t,n,i,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ze(hf,n._currentValue),n._currentValue=s,a!==null)if(Cn(a.value,s)){if(a.children===i.children&&!Nr.current){t=wi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=fi(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Sv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(K(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Sv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}gr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,oo(t,r),i=dn(i),n=n(i),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,i=wn(n,t.pendingProps),i=wn(n.type,i),HE(e,t,n,i,r);case 15:return gI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),Vd(e,t),t.tag=1,kr(n)?(e=!0,uf(t)):e=!1,oo(t,r),hI(t,n,i),Pv(t,n,i,r),Iv(null,t,n,!0,e,r);case 19:return bI(e,t,r);case 22:return vI(e,t,r)}throw Error(K(156,t.tag))};function LI(e,t){return uC(e,t)}function qV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,r,n){return new qV(e,t,r,n)}function rw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KV(e){if(typeof e=="function")return rw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===b0)return 11;if(e===_0)return 14}return 2}function ca(e,t){var r=e.alternate;return r===null?(r=on(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zd(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")rw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case qs:return es(r.children,i,a,t);case x0:s=8,i|=8;break;case Yg:return e=on(12,r,t,i|2),e.elementType=Yg,e.lanes=a,e;case Xg:return e=on(13,r,t,i),e.elementType=Xg,e.lanes=a,e;case Zg:return e=on(19,r,t,i),e.elementType=Zg,e.lanes=a,e;case HT:return Kh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KT:s=10;break e;case WT:s=9;break e;case b0:s=11;break e;case _0:s=14;break e;case Wi:s=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=on(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function es(e,t,r,n){return e=on(7,e,n,t),e.lanes=r,e}function Kh(e,t,r,n){return e=on(22,e,n,t),e.elementType=HT,e.lanes=r,e.stateNode={isHidden:!1},e}function fg(e,t,r){return e=on(6,e,null,t),e.lanes=r,e}function hg(e,t,r){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hm(0),this.expirationTimes=Hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nw(e,t,r,n,i,a,s,o,l){return e=new WV(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=on(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$0(a),e}function HV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function VI(e){if(!e)return ga;e=e._reactInternals;e:{if(_s(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(kr(r))return VC(e,r,t)}return t}function FI(e,t,r,n,i,a,s,o,l){return e=nw(r,n,!0,e,i,a,s,o,l),e.context=VI(null),r=e.current,n=wr(),i=la(r),a=fi(n,i),a.callback=t??null,sa(r,a,i),e.current.lanes=i,Hc(e,i,n),Or(e,n),e}function Wh(e,t,r,n){var i=t.current,a=wr(),s=la(i);return r=VI(r),t.context===null?t.context=r:t.pendingContext=r,t=fi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sa(i,t,s),e!==null&&(Pn(e,i,s,a),Dd(e,i,s)),s}function Ef(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iw(e,t){a1(e,t),(e=e.alternate)&&a1(e,t)}function GV(){return null}var $I=typeof reportError=="function"?reportError:function(e){console.error(e)};function aw(e){this._internalRoot=e}Hh.prototype.render=aw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Wh(e,t,null,null)};Hh.prototype.unmount=aw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;us(function(){Wh(null,e,null,null)}),t[vi]=null}};function Hh(e){this._internalRoot=e}Hh.prototype.unstable_scheduleHydration=function(e){if(e){var t=vC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yi.length&&t!==0&&t<Yi[r].priority;r++);Yi.splice(r,0,e),r===0&&wC(e)}};function sw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s1(){}function QV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Ef(s);a.call(c)}}var s=FI(t,n,e,0,null,!1,!1,"",s1);return e._reactRootContainer=s,e[vi]=s.current,pc(e.nodeType===8?e.parentNode:e),us(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Ef(l);o.call(c)}}var l=nw(e,0,!1,null,null,!1,!1,"",s1);return e._reactRootContainer=l,e[vi]=l.current,pc(e.nodeType===8?e.parentNode:e),us(function(){Wh(t,l,r,n)}),l}function Qh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ef(s);o.call(l)}}Wh(t,s,e,i)}else s=QV(r,t,e,i,n);return Ef(s)}mC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ml(t.pendingLanes);r!==0&&(A0(t,r|1),Or(t,ft()),!(Ee&6)&&(bo=ft()+500,Ta()))}break;case 13:us(function(){var n=yi(e,1);if(n!==null){var i=wr();Pn(n,e,1,i)}}),iw(e,1)}};P0=function(e){if(e.tag===13){var t=yi(e,134217728);if(t!==null){var r=wr();Pn(t,e,134217728,r)}iw(e,134217728)}};gC=function(e){if(e.tag===13){var t=la(e),r=yi(e,t);if(r!==null){var n=wr();Pn(r,e,t,n)}iw(e,t)}};vC=function(){return je};yC=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};lv=function(e,t,r){switch(t){case"input":if(tv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Fh(n);if(!i)throw Error(K(90));QT(n),tv(n,i)}}}break;case"textarea":XT(e,r);break;case"select":t=r.value,t!=null&&no(e,!!r.multiple,t,!1)}};iC=J0;aC=us;var YV={usingClientEntryPoint:!1,Events:[Qc,Gs,Fh,rC,nC,J0]},Al={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XV={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lC(e),e===null?null:e.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||GV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Dh=sd.inject(XV),Un=sd}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YV;Yr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sw(t))throw Error(K(200));return HV(e,t,null,r)};Yr.createRoot=function(e,t){if(!sw(e))throw Error(K(299));var r=!1,n="",i=$I;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nw(e,1,!1,null,null,r,!1,n,i),e[vi]=t.current,pc(e.nodeType===8?e.parentNode:e),new aw(t)};Yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=lC(t),e=e===null?null:e.stateNode,e};Yr.flushSync=function(e){return us(e)};Yr.hydrate=function(e,t,r){if(!Gh(t))throw Error(K(200));return Qh(null,e,t,!0,r)};Yr.hydrateRoot=function(e,t,r){if(!sw(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=$I;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=FI(t,null,e,1,r??null,i,!1,a,s),e[vi]=t.current,pc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Hh(t)};Yr.render=function(e,t,r){if(!Gh(t))throw Error(K(200));return Qh(null,e,t,!1,r)};Yr.unmountComponentAtNode=function(e){if(!Gh(e))throw Error(K(40));return e._reactRootContainer?(us(function(){Qh(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};Yr.unstable_batchedUpdates=J0;Yr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gh(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Qh(e,t,r,!1,n)};Yr.version="18.3.1-next-f1338f8080-20240426";function zI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zI)}catch(e){console.error(e)}}zI(),zT.exports=Yr;var Qn=zT.exports,o1=Qn;Gg.createRoot=o1.createRoot,Gg.hydrateRoot=o1.hydrateRoot;const l1="incidents",c1="automation_rules",u1="system_tags",ZV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ge={getIncidents:()=>{try{const e=localStorage.getItem(l1);if(!e)return[];const t=JSON.parse(e);return ZV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(l1,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ge.getIncidents();return t.push(e),ge.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ge.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ge.saveIncidents(r)),r},deleteIncident:e=>{const t=ge.getIncidents().filter(r=>r.id!==e);return ge.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},addTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r),ge.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(u1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(u1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ge.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ge.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ge.getSystemTags().filter(r=>r!==e);return ge.saveSystemTags(t),t},getAllTags:()=>ge.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ge.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ge.saveIncidents(t),ge.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ge.getIncidents(),a=i.find(s=>s.id===e);if(a){const s={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(s)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(s)),a.updatedAt=new Date().toISOString(),ge.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ge.getIncidents(),s=a.find(o=>o.id===e);if(s){let o=t==="qa2"?s.prQA2List:s.prMainList;if(o){const l=o.findIndex(c=>c.id===r);l!==-1&&(o[l]={...o[l],link:n,description:i},s.updatedAt=new Date().toISOString(),ge.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(c1);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(c1,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ge.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ge.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ge.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ge.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ge.getAutomationRules().filter(r=>r.id!==e);return ge.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ge.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(s=>{const o=n[s.field];switch(s.operator){case"equals":return o===s.value;case"not-equals":return o!==s.value;case"greater-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>s.value:!1;case"less-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<s.value:!1;case"contains":return s.field==="has-tag"&&n.tags?n.tags.includes(s.value):!1;default:return!1}})&&i.actions.forEach(s=>{switch(s.type){case"set-priority":n.priority=s.value;break;case"set-status":n.status=s.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(s.value)||n.tags.push(s.value);break;case"assign-to":n.assignedTo=s.value;break}})}),n}},d1="users",od="current_user",mr={getUsers:()=>{const e=localStorage.getItem(d1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(d1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=mr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),mr.saveUsers(n),i},login:(e,t)=>{const n=mr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(od,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(od)},getCurrentUser:()=>{const e=localStorage.getItem(od);return e?JSON.parse(e):null},isAuthenticated:()=>mr.getCurrentUser()!==null,initializeDefaultUser:()=>{mr.getUsers().length===0&&mr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=mr.getUsers(),n=r.findIndex(s=>s.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(s=>s.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,mr.saveUsers(r);const a=mr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(od,JSON.stringify(i)),i},deleteUser:e=>{const t=mr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");mr.saveUsers(r)}},JV=()=>{};var f1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},e4=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},BI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(p=64)),n.push(r[u],r[f],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):e4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const c=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new t4;const p=a<<2|o>>4;if(n.push(p),c!==64){const m=o<<4&240|c>>2;if(n.push(m),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r4=function(e){const t=UI(e);return BI.encodeByteArray(t,!0)},Sf=function(e){return r4(e).replace(/\./g,"")},n4=function(e){try{return BI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=()=>i4().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof f1>"u")return;const e=f1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},o4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&n4(e[1]);return t&&JSON.parse(t)},ow=()=>{try{return JV()||a4()||s4()||o4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l4=e=>{var t,r;return(r=(t=ow())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},c4=e=>{const t=l4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},qI=()=>{var e;return(e=ow())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Sf(JSON.stringify(r)),Sf(JSON.stringify(s)),""].join(".")}const ec={};function h4(){const e={prod:[],emulator:[]};for(const t of Object.keys(ec))ec[t]?e.emulator.push(t):e.prod.push(t);return e}function p4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let h1=!1;function m4(e,t){if(typeof window>"u"||typeof document>"u"||!lw(window.location.host)||ec[e]===t||ec[e]||h1)return;ec[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=h4().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{h1=!0,s()},p}function u(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=p4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),v=r("learnmore"),x=document.getElementById(v)||document.createElement("a"),b=r("preprendIcon"),E=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;o(A),u(x,v);const I=c();l(E,b),A.append(E,g,x,I),document.body.appendChild(A)}a?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){var t;const e=(t=ow())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y4(){return!v4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w4(){try{return typeof indexedDB=="object"}catch{return!1}}function x4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="FirebaseError";class Uo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=b4,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,KI.prototype.create)}}class KI{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?_4(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Uo(i,o,n)}}function _4(e,t){return e.replace(E4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const E4=/\{\$([^}]+)}/g;function Af(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(p1(a)&&p1(s)){if(!Af(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function p1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e){return e&&e._delegate?e._delegate:e}class Ec{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new u4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P4(t))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ua){return this.instances.has(t)}getOptions(t=Ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ua){return this.component?this.component.multipleInstances?t:Ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A4(e){return e===Ua?void 0:e}function P4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new S4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const C4={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},I4=_e.INFO,j4={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},N4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=j4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class WI{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const k4=(e,t)=>t.some(r=>e instanceof r);let m1,g1;function O4(){return m1||(m1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return g1||(g1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HI=new WeakMap,zv=new WeakMap,GI=new WeakMap,pg=new WeakMap,cw=new WeakMap;function D4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(ua(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&HI.set(r,e)}).catch(()=>{}),cw.set(t,e),t}function M4(e){if(zv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});zv.set(e,t)}let Uv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return zv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||GI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ua(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L4(e){Uv=e(Uv)}function V4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(mg(this),t,...r);return GI.set(n,t.sort?t.sort():[t]),ua(n)}:R4().includes(e)?function(...t){return e.apply(mg(this),t),ua(HI.get(this))}:function(...t){return ua(e.apply(mg(this),t))}}function F4(e){return typeof e=="function"?V4(e):(e instanceof IDBTransaction&&M4(e),k4(e,O4())?new Proxy(e,Uv):e)}function ua(e){if(e instanceof IDBRequest)return D4(e);if(pg.has(e))return pg.get(e);const t=F4(e);return t!==e&&(pg.set(e,t),cw.set(t,e)),t}const mg=e=>cw.get(e);function $4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ua(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ua(s.result),l.oldVersion,l.newVersion,ua(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const z4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],gg=new Map;function v1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gg.get(t))return gg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=U4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||z4.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return gg.set(t,a),a}L4(e=>({...e,get:(t,r,n)=>v1(t,r)||e.get(t,r,n),has:(t,r)=>!!v1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(q4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bv="@firebase/app",y1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new WI("@firebase/app"),K4="@firebase/app-compat",W4="@firebase/analytics-compat",H4="@firebase/analytics",G4="@firebase/app-check-compat",Q4="@firebase/app-check",Y4="@firebase/auth",X4="@firebase/auth-compat",Z4="@firebase/database",J4="@firebase/data-connect",e3="@firebase/database-compat",t3="@firebase/functions",r3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",a3="@firebase/messaging",s3="@firebase/messaging-compat",o3="@firebase/performance",l3="@firebase/performance-compat",c3="@firebase/remote-config",u3="@firebase/remote-config-compat",d3="@firebase/storage",f3="@firebase/storage-compat",h3="@firebase/firestore",p3="@firebase/ai",m3="@firebase/firestore-compat",g3="firebase",v3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="[DEFAULT]",y3={[Bv]:"fire-core",[K4]:"fire-core-compat",[H4]:"fire-analytics",[W4]:"fire-analytics-compat",[Q4]:"fire-app-check",[G4]:"fire-app-check-compat",[Y4]:"fire-auth",[X4]:"fire-auth-compat",[Z4]:"fire-rtdb",[J4]:"fire-data-connect",[e3]:"fire-rtdb-compat",[t3]:"fire-fn",[r3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[a3]:"fire-fcm",[s3]:"fire-fcm-compat",[o3]:"fire-perf",[l3]:"fire-perf-compat",[c3]:"fire-rc",[u3]:"fire-rc-compat",[d3]:"fire-gcs",[f3]:"fire-gcs-compat",[h3]:"fire-fst",[m3]:"fire-fst-compat",[p3]:"fire-vertex","fire-js":"fire-js",[g3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,w3=new Map,Kv=new Map;function w1(e,t){try{e.container.addComponent(t)}catch(r){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Tf(e){const t=e.name;if(Kv.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;Kv.set(t,e);for(const r of Pf.values())w1(r,e);for(const r of w3.values())w1(r,e);return!0}function x3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function b3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new KI("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=v3;function QI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:qv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw da.create("bad-app-name",{appName:String(i)});if(r||(r=qI()),!r)throw da.create("no-options");const a=Pf.get(i);if(a){if(Af(r,a.options)&&Af(n,a.config))return a;throw da.create("duplicate-app",{appName:i})}const s=new T4(i);for(const l of Kv.values())s.addComponent(l);const o=new E3(r,n,s);return Pf.set(i,o),o}function A3(e=qv){const t=Pf.get(e);if(!t&&e===qv&&qI())return QI();if(!t)throw da.create("no-app",{appName:e});return t}function co(e,t,r){let n=y3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(s.join(" "));return}Tf(new Ec(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebase-heartbeat-database",T3=1,Sc="firebase-heartbeat-store";let vg=null;function YI(){return vg||(vg=$4(P3,T3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sc)}catch(r){console.warn(r)}}}}).catch(e=>{throw da.create("idb-open",{originalErrorMessage:e.message})})),vg}async function C3(e){try{const r=(await YI()).transaction(Sc),n=await r.objectStore(Sc).get(XI(e));return await r.done,n}catch(t){if(t instanceof Uo)xi.warn(t.message);else{const r=da.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(r.message)}}}async function x1(e,t){try{const n=(await YI()).transaction(Sc,"readwrite");await n.objectStore(Sc).put(t,XI(e)),await n.done}catch(r){if(r instanceof Uo)xi.warn(r.message);else{const n=da.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xi.warn(n.message)}}}function XI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1024,j3=30;class N3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>j3){const s=R3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=b1(),{heartbeatsToSend:n,unsentEntries:i}=k3(this._heartbeatsCache.heartbeats),a=Sf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return xi.warn(r),""}}}function b1(){return new Date().toISOString().substring(0,10)}function k3(e,t=I3){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),_1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),_1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w4()?x4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await C3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return x1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return x1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function _1(e){return Sf(JSON.stringify({version:2,heartbeats:e})).length}function R3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e){Tf(new Ec("platform-logger",t=>new B4(t),"PRIVATE")),Tf(new Ec("heartbeat",t=>new N3(t),"PRIVATE")),co(Bv,y1,e),co(Bv,y1,"esm2020"),co("fire-js","")}D3("");var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,ZI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(y,S){function C(){}C.prototype=S.prototype,y.F=S.prototype,y.prototype=new C,y.prototype.constructor=y,y.D=function(D,T,N){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return S.prototype[T].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var T=0;T<16;++T)D[T]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(T=0;T<16;++T)D[T]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=y.g[0],C=y.g[1],T=y.g[2];let N=y.g[3],j;j=S+(N^C&(T^N))+D[0]+3614090360&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[1]+3905402710&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[2]+606105819&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[3]+3250441966&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[5]+1200080426&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[6]+2821735955&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[7]+4249261313&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[9]+2336552879&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[10]+4294925233&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[11]+2304563134&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[13]+4254626195&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[14]+2792965006&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[15]+1236535329&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(T^N&(C^T))+D[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[6]+3225465664&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[11]+643717713&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[0]+3921069994&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[10]+38016083&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[15]+3634488961&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[4]+3889429448&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[14]+3275163606&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[3]+4107603335&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[8]+1163531501&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[2]+4243563512&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[7]+1735328473&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[12]+2368359562&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(C^T^N)+D[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[8]+2272392833&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[11]+1839030562&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[14]+4259657740&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[4]+1272893353&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[7]+4139469664&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[10]+3200236656&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[0]+3936430074&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[3]+3572445317&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[6]+76029189&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[12]+3873151461&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[15]+530742520&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[2]+3299628645&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(T^(C|~N))+D[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[7]+1126891415&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[14]+2878612391&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[5]+4237533241&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[3]+2399980690&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[10]+4293915773&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[1]+2240044497&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[15]+4264355552&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[6]+2734768916&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[13]+1309151649&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[11]+3174756917&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[2]+718787259&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[9]+3951481745&4294967295,y.g[0]=y.g[0]+S&4294967295,y.g[1]=y.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,y.g[2]=y.g[2]+T&4294967295,y.g[3]=y.g[3]+N&4294967295}n.prototype.v=function(y,S){S===void 0&&(S=y.length);const C=S-this.blockSize,D=this.C;let T=this.h,N=0;for(;N<S;){if(T==0)for(;N<=C;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<S;)if(D[T++]=y.charCodeAt(N++),T==this.blockSize){i(this,D),T=0;break}}else for(;N<S;)if(D[T++]=y[N++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=S},n.prototype.A=function(){var y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);y[0]=128;for(var S=1;S<y.length-8;++S)y[S]=0;S=this.o*8;for(var C=y.length-8;C<y.length;++C)y[C]=S&255,S/=256;for(this.v(y),y=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)y[S++]=this.g[C]>>>D&255;return y};function a(y,S){var C=o;return Object.prototype.hasOwnProperty.call(C,y)?C[y]:C[y]=S(y)}function s(y,S){this.h=S;const C=[];let D=!0;for(let T=y.length-1;T>=0;T--){const N=y[T]|0;D&&N==S||(C[T]=N,D=!1)}this.g=C}var o={};function l(y){return-128<=y&&y<128?a(y,function(S){return new s([S|0],S<0?-1:0)}):new s([y|0],y<0?-1:0)}function c(y){if(isNaN(y)||!isFinite(y))return f;if(y<0)return x(c(-y));const S=[];let C=1;for(let D=0;y>=C;D++)S[D]=y/C|0,C*=4294967296;return new s(S,0)}function u(y,S){if(y.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(y.charAt(0)=="-")return x(u(y.substring(1),S));if(y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(S,8));let D=f;for(let N=0;N<y.length;N+=8){var T=Math.min(8,y.length-N);const j=parseInt(y.substring(N,N+T),S);T<8?(T=c(Math.pow(S,T)),D=D.j(T).add(c(j))):(D=D.j(C),D=D.add(c(j)))}return D}var f=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(v(this))return-x(this).m();let y=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);y+=(D>=0?D:4294967296+D)*S,S*=4294967296}return y},e.toString=function(y){if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(g(this))return"0";if(v(this))return"-"+x(this).toString(y);const S=c(Math.pow(y,6));var C=this;let D="";for(;;){const T=I(C,S).g;C=b(C,T.j(S));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(y);if(C=T,g(C))return N+D;for(;N.length<6;)N="0"+N;D=N+D}},e.i=function(y){return y<0?0:y<this.g.length?this.g[y]:this.h};function g(y){if(y.h!=0)return!1;for(let S=0;S<y.g.length;S++)if(y.g[S]!=0)return!1;return!0}function v(y){return y.h==-1}e.l=function(y){return y=b(this,y),v(y)?-1:g(y)?0:1};function x(y){const S=y.g.length,C=[];for(let D=0;D<S;D++)C[D]=~y.g[D];return new s(C,~y.h).add(p)}e.abs=function(){return v(this)?x(this):this},e.add=function(y){const S=Math.max(this.g.length,y.g.length),C=[];let D=0;for(let T=0;T<=S;T++){let N=D+(this.i(T)&65535)+(y.i(T)&65535),j=(N>>>16)+(this.i(T)>>>16)+(y.i(T)>>>16);D=j>>>16,N&=65535,j&=65535,C[T]=j<<16|N}return new s(C,C[C.length-1]&-2147483648?-1:0)};function b(y,S){return y.add(x(S))}e.j=function(y){if(g(this)||g(y))return f;if(v(this))return v(y)?x(this).j(x(y)):x(x(this).j(y));if(v(y))return x(this.j(x(y)));if(this.l(m)<0&&y.l(m)<0)return c(this.m()*y.m());const S=this.g.length+y.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<y.g.length;T++){const N=this.i(D)>>>16,j=this.i(D)&65535,G=y.i(T)>>>16,ae=y.i(T)&65535;C[2*D+2*T]+=j*ae,E(C,2*D+2*T),C[2*D+2*T+1]+=N*ae,E(C,2*D+2*T+1),C[2*D+2*T+1]+=j*G,E(C,2*D+2*T+1),C[2*D+2*T+2]+=N*G,E(C,2*D+2*T+2)}for(y=0;y<S;y++)C[y]=C[2*y+1]<<16|C[2*y];for(y=S;y<2*S;y++)C[y]=0;return new s(C,0)};function E(y,S){for(;(y[S]&65535)!=y[S];)y[S+1]+=y[S]>>>16,y[S]&=65535,S++}function A(y,S){this.g=y,this.h=S}function I(y,S){if(g(S))throw Error("division by zero");if(g(y))return new A(f,f);if(v(y))return S=I(x(y),S),new A(x(S.g),x(S.h));if(v(S))return S=I(y,x(S)),new A(x(S.g),S.h);if(y.g.length>30){if(v(y)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var C=p,D=S;D.l(y)<=0;)C=k(C),D=k(D);var T=O(C,1),N=O(D,1);for(D=O(D,2),C=O(C,2);!g(D);){var j=N.add(D);j.l(y)<=0&&(T=T.add(C),N=j),D=O(D,1),C=O(C,1)}return S=b(y,T.j(S)),new A(T,S)}for(T=f;y.l(S)>=0;){for(C=Math.max(1,Math.floor(y.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),N=c(C),j=N.j(S);v(j)||j.l(y)>0;)C-=D,N=c(C),j=N.j(S);g(N)&&(N=p),T=T.add(N),y=b(y,j)}return new A(T,y)}e.B=function(y){return I(this,y).h},e.and=function(y){const S=Math.max(this.g.length,y.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&y.i(D);return new s(C,this.h&y.h)},e.or=function(y){const S=Math.max(this.g.length,y.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|y.i(D);return new s(C,this.h|y.h)},e.xor=function(y){const S=Math.max(this.g.length,y.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^y.i(D);return new s(C,this.h^y.h)};function k(y){const S=y.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=y.i(D)<<1|y.i(D-1)>>>31;return new s(C,y.h)}function O(y,S){const C=S>>5;S%=32;const D=y.g.length-C,T=[];for(let N=0;N<D;N++)T[N]=S>0?y.i(N+C)>>>S|y.i(N+C+1)<<32-S:y.i(N+C);return new s(T,y.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,ZI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,fa=s}).apply(typeof E1<"u"?E1:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JI,Vl,ej,Ud,Wv,tj,rj,nj;(function(){var e,t=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var _=0;_<h.length;++_){var P=h[_];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,_){if(_)e:{var P=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in P))break e;P=P[M]}h=h[h.length-1],R=P[h],_=_(R),_!=R&&_!=null&&t(P,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var P=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&P.push([R,_[R]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function l(h,_,P){return h.call.apply(h.bind,arguments)}function c(h,_,P){return c=l,c.apply(null,arguments)}function u(h,_){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,_){function P(){}P.prototype=_.prototype,h.Z=_.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var H=Array(arguments.length-2),he=2;he<arguments.length;he++)H[he-2]=arguments[he];return _.prototype[M].apply(R,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const _=h.length;if(_>0){const P=Array(_);for(let R=0;R<_;R++)P[R]=h[R];return P}return[]}function g(h,_){for(let R=1;R<arguments.length;R++){const M=arguments[R];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=h.length||0;const V=M.length||0;h.length=P+V;for(let H=0;H<V;H++)h[P+H]=M[H]}else h.push(M)}}class v{constructor(_,P){this.i=_,this.j=P,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(h){s.setTimeout(()=>{throw h},0)}function b(){var h=y;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class E{constructor(){this.h=this.g=null}add(_,P){const R=A.get();R.set(_,P),this.h?this.h.next=R:this.g=R,this.h=R}}var A=new v(()=>new I,h=>h.reset());class I{constructor(){this.next=this.g=this.h=null}set(_,P){this.h=_,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let k,O=!1,y=new E,S=()=>{const h=Promise.resolve(void 0);k=()=>{h.then(C)}};function C(){for(var h;h=b();){try{h.h.call(h.g)}catch(P){x(P)}var _=A;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}O=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,_),s.removeEventListener("test",P,_)}catch{}return h}();function j(h){return/^[\s\xa0]*$/.test(h)}function G(h,_){T.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}f(G,T),G.prototype.init=function(h,_){const P=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(P=="mouseover"?_=h.fromElement:P=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),le=0;function se(h,_,P,R,M){this.listener=h,this.proxy=null,this.src=_,this.type=P,this.capture=!!R,this.ha=M,this.key=++le,this.da=this.fa=!1}function U(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function W(h,_,P){for(const R in h)_.call(P,h[R],R,h)}function te(h,_){for(const P in h)_.call(void 0,h[P],P,h)}function pe(h){const _={};for(const P in h)_[P]=h[P];return _}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Je(h,_){let P,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(P in R)h[P]=R[P];for(let V=0;V<ue.length;V++)P=ue[V],Object.prototype.hasOwnProperty.call(R,P)&&(h[P]=R[P])}}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,_,P,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const H=pt(h,_,R,M);return H>-1?(_=h[H],P||(_.fa=!1)):(_=new se(_,this.src,V,!!R,M),_.fa=P,h.push(_)),_};function Ht(h,_){const P=_.type;if(P in h.g){var R=h.g[P],M=Array.prototype.indexOf.call(R,_,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(U(_),h.g[P].length==0&&(delete h.g[P],h.h--))}}function pt(h,_,P,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==_&&V.capture==!!P&&V.ha==R)return M}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),ti={};function B(h,_,P,R,M){if(Array.isArray(_)){for(let V=0;V<_.length;V++)B(h,_[V],P,R,M);return null}return P=Oa(P),h&&h[ae]?h.J(_,P,o(R)?!!R.capture:!1,M):fe(h,_,P,!1,R,M)}function fe(h,_,P,R,M,V){if(!_)throw Error("Invalid event type");const H=o(M)?!!M.capture:!!M;let he=Et(h);if(he||(h[Me]=he=new Te(h)),P=he.add(_,P,R,H,V),P.proxy)return P;if(R=ye(),P.proxy=R,R.src=h,R.listener=P,h.addEventListener)N||(M=H),M===void 0&&(M=!1),h.addEventListener(_.toString(),R,M);else if(h.attachEvent)h.attachEvent(Pe(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function h(P){return _.call(h.src,h.listener,P)}const _=Rt;return h}function q(h,_,P,R,M){if(Array.isArray(_))for(var V=0;V<_.length;V++)q(h,_[V],P,R,M);else R=o(R)?!!R.capture:!!R,P=Oa(P),h&&h[ae]?(h=h.i,V=String(_).toString(),V in h.g&&(_=h.g[V],P=pt(_,P,R,M),P>-1&&(U(_[P]),Array.prototype.splice.call(_,P,1),_.length==0&&(delete h.g[V],h.h--)))):h&&(h=Et(h))&&(_=h.g[_.toString()],h=-1,_&&(h=pt(_,P,R,M)),(P=h>-1?_[h]:null)&&mt(P))}function mt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ae])Ht(_.i,h);else{var P=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(P,R,h.capture):_.detachEvent?_.detachEvent(Pe(P),R):_.addListener&&_.removeListener&&_.removeListener(R),(P=Et(_))?(Ht(P,h),P.h==0&&(P.src=null,_[Me]=null)):U(h)}}}function Pe(h){return h in ti?ti[h]:ti[h]="on"+h}function Rt(h,_){if(h.da)h=!0;else{_=new G(_,this);const P=h.listener,R=h.ha||h.src;h.fa&&mt(h),h=P.call(R,_)}return h}function Et(h){return h=h[Me],h instanceof Te?h:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oa(h){return typeof h=="function"?h:(h[Lr]||(h[Lr]=function(_){return h.handleEvent(_)}),h[Lr])}function Dt(){D.call(this),this.i=new Te(this),this.M=this,this.G=null}f(Dt,D),Dt.prototype[ae]=!0,Dt.prototype.removeEventListener=function(h,_,P,R){q(this,h,_,P,R)};function Gt(h,_){var P,R=h.G;if(R)for(P=[];R;R=R.G)P.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new T(_,h);else if(_ instanceof T)_.target=_.target||h;else{var M=_;_=new T(R,h),Je(_,M)}M=!0;let V,H;if(P)for(H=P.length-1;H>=0;H--)V=_.g=P[H],M=Is(V,R,!0,_)&&M;if(V=_.g=h,M=Is(V,R,!0,_)&&M,M=Is(V,R,!1,_)&&M,P)for(H=0;H<P.length;H++)V=_.g=P[H],M=Is(V,R,!1,_)&&M}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const P=h.g[_];for(let R=0;R<P.length;R++)U(P[R]);delete h.g[_],h.h--}}this.G=null},Dt.prototype.J=function(h,_,P,R){return this.i.add(String(h),_,!1,P,R)},Dt.prototype.K=function(h,_,P,R){return this.i.add(String(h),_,!0,P,R)};function Is(h,_,P,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let M=!0;for(let V=0;V<_.length;++V){const H=_[V];if(H&&!H.da&&H.capture==P){const he=H.listener,St=H.ha||H.src;H.fa&&Ht(h.i,H),M=he.call(St,R)!==!1&&M}}return M&&!R.defaultPrevented}function Am(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=c(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:s.setTimeout(h,_||0)}function Nu(h){h.g=Am(()=>{h.g=null,h.i&&(h.i=!1,Nu(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Pm extends D{constructor(_,P){super(),this.m=_,this.l=P,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(h){D.call(this),this.h=h,this.g={}}f(Ra,D);var ku=[];function nl(h){W(h.g,function(_,P){this.g.hasOwnProperty(P)&&mt(_)},h),h.g={}}Ra.prototype.N=function(){Ra.Z.N.call(this),nl(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var z=s.JSON.stringify,Q=s.JSON.parse,ne=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function me(){}function Le(){}var Ve={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ct(){T.call(this,"d")}f(ct,T);function Sr(){T.call(this,"c")}f(Sr,T);var Da={},u_=null;function Ou(){return u_=u_||new Dt}Da.Ia="serverreachability";function d_(h){T.call(this,Da.Ia,h)}f(d_,T);function il(h){const _=Ou();Gt(_,new d_(_))}Da.STAT_EVENT="statevent";function f_(h,_){T.call(this,Da.STAT_EVENT,h),this.stat=_}f(f_,T);function pr(h){const _=Ou();Gt(_,new f_(_,h))}Da.Ja="timingevent";function h_(h,_){T.call(this,Da.Ja,h),this.size=_}f(h_,T);function al(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},_)}function sl(){this.g=!0}sl.prototype.ua=function(){this.g=!1};function tM(h,_,P,R,M,V){h.info(function(){if(h.g)if(V){var H="",he=V.split("&");for(let Oe=0;Oe<he.length;Oe++){var St=he[Oe].split("=");if(St.length>1){const Mt=St[0];St=St[1];const Mn=Mt.split("_");H=Mn.length>=2&&Mn[1]=="type"?H+(Mt+"="+St+"&"):H+(Mt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+_+`
`+P+`
`+H})}function rM(h,_,P,R,M,V,H){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+_+`
`+P+`
`+V+" "+H})}function js(h,_,P,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+iM(h,P)+(R?" "+R:"")})}function nM(h,_){h.info(function(){return"TIMEOUT: "+_})}sl.prototype.info=function(){};function iM(h,_){if(!h.g)return _;if(!_)return null;try{const V=JSON.parse(_);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var P=V[h];if(!(P.length<2)){var R=P[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<R.length;H++)R[H]=""}}}}return z(V)}catch{return _}}var Ru={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},p_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},m_;function Tm(){}f(Tm,me),Tm.prototype.g=function(){return new XMLHttpRequest},m_=new Tm;function ol(h){return encodeURIComponent(String(h))}function aM(h){var _=1;h=h.split(":");const P=[];for(;_>0&&h.length;)P.push(h.shift()),_--;return h.length&&P.push(h.join(":")),P}function Fi(h,_,P,R){this.j=h,this.i=_,this.l=P,this.S=R||1,this.V=new Ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new g_}function g_(){this.i=null,this.g="",this.h=!1}var v_={},Cm={};function Im(h,_,P){h.M=1,h.A=Mu(Dn(_)),h.u=P,h.R=!0,y_(h,null)}function y_(h,_){h.F=Date.now(),Du(h),h.B=Dn(h.A);var P=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),N_(P.i,"t",R),h.C=0,P=h.j.L,h.h=new g_,h.g=Q_(h.j,P?_:null,!h.u),h.P>0&&(h.O=new Pm(c(h.Y,h,h.g),h.P)),_=h.V,P=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(ku[0]=M.toString()),M=ku);for(let V=0;V<M.length;V++){const H=B(P,M[V],R||_.handleEvent,!1,_.h||_);if(!H)break;_.g[H.key]=H}_=h.J?pe(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),il(),tM(h.i,h.v,h.B,h.l,h.S,h.u)}Fi.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ui(h)==3?_.j():this.Y(h)},Fi.prototype.Y=function(h){try{if(h==this.g)e:{const he=Ui(this.g),St=this.g.ya(),Oe=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||V_(this.g)))){this.K||he!=4||St==7||(St==8||Oe<=0?il(3):il(2)),jm(this);var _=this.g.ca();this.X=_;var P=sM(this);if(this.o=_==200,rM(this.i,this.v,this.B,this.l,this.S,he,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(R)){var V=R;break t}}V=null}if(h=V)js(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nm(this,h);else{this.o=!1,this.m=3,pr(12),Ma(this),ll(this);break e}}if(this.R){h=!0;let Mt;for(;!this.K&&this.C<P.length;)if(Mt=oM(this,P),Mt==Cm){he==4&&(this.m=4,pr(14),h=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==v_){this.m=4,pr(15),js(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else js(this.i,this.l,Mt,null),Nm(this,Mt);if(w_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||P.length!=0||this.h.h||(this.m=1,pr(16),h=!1),this.o=this.o&&h,!h)js(this.i,this.l,P,"[Invalid Chunked Response]"),Ma(this),ll(this);else if(P.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Fm(H),H.P=!0,pr(11))}}else js(this.i,this.l,P,null),Nm(this,P);he==4&&Ma(this),this.o&&!this.K&&(he==4?K_(this.j,this):(this.o=!1,Du(this)))}else bM(this.g),_==400&&P.indexOf("Unknown SID")>0?(this.m=3,pr(12)):(this.m=0,pr(13)),Ma(this),ll(this)}}}catch{}finally{}};function sM(h){if(!w_(h))return h.g.la();const _=V_(h.g);if(_==="")return"";let P="";const R=_.length,M=Ui(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ma(h),ll(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,P+=h.h.i.decode(_[V],{stream:!(M&&V==R-1)});return _.length=0,h.h.g+=P,h.C=0,h.h.g}function w_(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oM(h,_){var P=h.C,R=_.indexOf(`
`,P);return R==-1?Cm:(P=Number(_.substring(P,R)),isNaN(P)?v_:(R+=1,R+P>_.length?Cm:(_=_.slice(R,R+P),h.C=R+P,_)))}Fi.prototype.cancel=function(){this.K=!0,Ma(this)};function Du(h){h.T=Date.now()+h.H,x_(h,h.H)}function x_(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=al(c(h.aa,h),_)}function jm(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Fi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(nM(this.i,this.B),this.M!=2&&(il(),pr(17)),Ma(this),this.m=2,ll(this)):x_(this,this.T-h)};function ll(h){h.j.I==0||h.K||K_(h.j,h)}function Ma(h){jm(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,nl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Nm(h,_){try{var P=h.j;if(P.I!=0&&(P.g==h||km(P.h,h))){if(!h.L&&km(P.h,h)&&P.I==3){try{var R=P.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)zu(P),Fu(P);else break e;Vm(P),pr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=al(c(P.Va,P),6e3));E_(P.h)<=1&&P.ta&&(P.ta=void 0)}else Va(P,11)}else if((h.L||P.g==h)&&zu(P),!j(_))for(M=P.Ba.g.parse(_),_=0;_<M.length;_++){let Oe=M[_];const Mt=Oe[0];if(!(Mt<=P.K))if(P.K=Mt,Oe=Oe[1],P.I==2)if(Oe[0]=="c"){P.M=Oe[1],P.ba=Oe[2];const Mn=Oe[3];Mn!=null&&(P.ka=Mn,P.j.info("VER="+P.ka));const Fa=Oe[4];Fa!=null&&(P.za=Fa,P.j.info("SVER="+P.za));const Bi=Oe[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(R=1.5*Bi,P.O=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const qi=h.g;if(qi){const Bu=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bu){var V=R.h;V.g||Bu.indexOf("spdy")==-1&&Bu.indexOf("quic")==-1&&Bu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Om(V,V.h),V.h=null))}if(R.G){const $m=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(R.wa=$m,Be(R.J,R.G,$m))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),R=P;var H=h;if(R.na=G_(R,R.L?R.ba:null,R.W),H.L){S_(R.h,H);var he=H,St=R.O;St&&(he.H=St),he.D&&(jm(he),Du(he)),R.g=H}else B_(R);P.i.length>0&&$u(P)}else Oe[0]!="stop"&&Oe[0]!="close"||Va(P,7);else P.I==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Va(P,7):Lm(P):Oe[0]!="noop"&&P.l&&P.l.qa(Oe),P.A=0)}}il(4)}catch{}}var lM=class{constructor(h,_){this.g=h,this.map=_}};function b_(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function __(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function E_(h){return h.h?1:h.g?h.g.size:0}function km(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Om(h,_){h.g?h.g.add(_):h.h=_}function S_(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}b_.prototype.cancel=function(){if(this.i=A_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function A_(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const P of h.g.values())_=_.concat(P.G);return _}return m(h.i)}var P_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cM(h,_){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const R=h[P].indexOf("=");let M,V=null;R>=0?(M=h[P].substring(0,R),V=h[P].substring(R+1)):M=h[P],_(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $i(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof $i?(this.l=h.l,cl(this,h.j),this.o=h.o,this.g=h.g,ul(this,h.u),this.h=h.h,Rm(this,k_(h.i)),this.m=h.m):h&&(_=String(h).match(P_))?(this.l=!1,cl(this,_[1]||"",!0),this.o=dl(_[2]||""),this.g=dl(_[3]||"",!0),ul(this,_[4]),this.h=dl(_[5]||"",!0),Rm(this,_[6]||"",!0),this.m=dl(_[7]||"")):(this.l=!1,this.i=new hl(null,this.l))}$i.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(fl(_,T_,!0),":");var P=this.g;return(P||_=="file")&&(h.push("//"),(_=this.o)&&h.push(fl(_,T_,!0),"@"),h.push(ol(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(fl(P,P.charAt(0)=="/"?fM:dM,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",fl(P,pM)),h.join("")},$i.prototype.resolve=function(h){const _=Dn(this);let P=!!h.j;P?cl(_,h.j):P=!!h.o,P?_.o=h.o:P=!!h.g,P?_.g=h.g:P=h.u!=null;var R=h.h;if(P)ul(_,h.u);else if(P=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=_.h.lastIndexOf("/");M!=-1&&(R=_.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let H=0;H<M.length;){const he=M[H++];he=="."?R&&H==M.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&H==M.length&&V.push("")):(V.push(he),R=!0)}R=V.join("/")}else R=M}return P?_.h=R:P=h.i.toString()!=="",P?Rm(_,k_(h.i)):P=!!h.m,P&&(_.m=h.m),_};function Dn(h){return new $i(h)}function cl(h,_,P){h.j=P?dl(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ul(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Rm(h,_,P){_ instanceof hl?(h.i=_,mM(h.i,h.l)):(P||(_=fl(_,hM)),h.i=new hl(_,h.l))}function Be(h,_,P){h.i.set(_,P)}function Mu(h){return Be(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function dl(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fl(h,_,P){return typeof h=="string"?(h=encodeURI(h).replace(_,uM),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var T_=/[#\/\?@]/g,dM=/[#\?:]/g,fM=/[#\?]/g,hM=/[#\?@]/g,pM=/#/g;function hl(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function La(h){h.g||(h.g=new Map,h.h=0,h.i&&cM(h.i,function(_,P){h.add(decodeURIComponent(_.replace(/\+/g," ")),P)}))}e=hl.prototype,e.add=function(h,_){La(this),this.i=null,h=Ns(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(_),this.h+=1,this};function C_(h,_){La(h),_=Ns(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function I_(h,_){return La(h),_=Ns(h,_),h.g.has(_)}e.forEach=function(h,_){La(this),this.g.forEach(function(P,R){P.forEach(function(M){h.call(_,M,R,this)},this)},this)};function j_(h,_){La(h);let P=[];if(typeof _=="string")I_(h,_)&&(P=P.concat(h.g.get(Ns(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)P=P.concat(h[_]);return P}e.set=function(h,_){return La(this),this.i=null,h=Ns(this,h),I_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},e.get=function(h,_){return h?(h=j_(this,h),h.length>0?String(h[0]):_):_};function N_(h,_,P){C_(h,_),P.length>0&&(h.i=null,h.g.set(Ns(h,_),m(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var P=_[R];const M=ol(P);P=j_(this,P);for(let V=0;V<P.length;V++){let H=M;P[V]!==""&&(H+="="+ol(P[V])),h.push(H)}}return this.i=h.join("&")};function k_(h){const _=new hl;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ns(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function mM(h,_){_&&!h.j&&(La(h),h.i=null,h.g.forEach(function(P,R){const M=R.toLowerCase();R!=M&&(C_(this,R),N_(this,M,P))},h)),h.j=_}function gM(h,_){const P=new sl;if(s.Image){const R=new Image;R.onload=u(zi,P,"TestLoadImage: loaded",!0,_,R),R.onerror=u(zi,P,"TestLoadImage: error",!1,_,R),R.onabort=u(zi,P,"TestLoadImage: abort",!1,_,R),R.ontimeout=u(zi,P,"TestLoadImage: timeout",!1,_,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function vM(h,_){const P=new sl,R=new AbortController,M=setTimeout(()=>{R.abort(),zi(P,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?zi(P,"TestPingServer: ok",!0,_):zi(P,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(M),zi(P,"TestPingServer: error",!1,_)})}function zi(h,_,P,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(P)}catch{}}function yM(){this.g=new ne}function Dm(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Dm,me),Dm.prototype.g=function(){return new Lu(this.i,this.h)};function Lu(h,_){Dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Lu,Dt),e=Lu.prototype,e.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ml(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||s).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;O_(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function O_(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?pl(this):ml(this),this.readyState==3&&O_(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,pl(this))},e.Na=function(h){this.g&&(this.response=h,pl(this))},e.ga=function(){this.g&&pl(this)};function pl(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ml(h)}e.setRequestHeader=function(h,_){this.A.append(h,_)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var P=_.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=_.next();return h.join(`\r
`)};function ml(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function R_(h){let _="";return W(h,function(P,R){_+=R,_+=":",_+=P,_+=`\r
`}),_}function Mm(h,_,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=R_(P),typeof h=="string"?P!=null&&ol(P):Be(h,_,P))}function at(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(at,Dt);var wM=/^https?$/i,xM=["POST","PUT"];e=at.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,_,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():m_.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(V){D_(this,V);return}if(h=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)P.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())P.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(xM,_,void 0)>=0)||R||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of P)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){D_(this,V)}};function D_(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,M_(h),Vu(h)}function M_(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Gt(this,"complete"),Gt(this,"abort"),Vu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),at.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?L_(this):this.Xa())},e.Xa=function(){L_(this)};function L_(h){if(h.h&&typeof a<"u"){if(h.v&&Ui(h)==4)setTimeout(h.Ca.bind(h),0);else if(Gt(h,"readystatechange"),Ui(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var P;if(!(P=_)){var R;if(R=V===0){let H=String(h.D).match(P_)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),R=!wM.test(H?H.toLowerCase():"")}P=R}if(P)Gt(h,"complete"),Gt(h,"success");else{h.o=6;try{var M=Ui(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",M_(h)}}finally{Vu(h)}}}}function Vu(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,_||Gt(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ui(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Q(_)}};function V_(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bM(h){const _={};h=(h.g&&Ui(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(j(h[R]))continue;var P=aM(h[R]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=_[M]||[];_[M]=V,V.push(P)}te(_,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(h,_,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||_}function F_(h){this.za=0,this.i=[],this.j=new sl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gl("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gl("baseRetryDelayMs",5e3,h),this.Za=gl("retryDelaySeedMs",1e4,h),this.Ta=gl("forwardChannelMaxRetries",2,h),this.va=gl("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new b_(h&&h.concurrentRequestLimit),this.Ba=new yM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=F_.prototype,e.ka=8,e.I=1,e.connect=function(h,_,P,R){pr(0),this.W=h,this.H=_||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.J=G_(this,null,this.W),$u(this)};function Lm(h){if($_(h),h.I==3){var _=h.V++,P=Dn(h.J);if(Be(P,"SID",h.M),Be(P,"RID",_),Be(P,"TYPE","terminate"),vl(h,P),_=new Fi(h,h.j,_),_.M=2,_.A=Mu(Dn(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(_.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=_.A,P=!0),P||(_.g=Q_(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Du(_)}H_(h)}function Fu(h){h.g&&(Fm(h),h.g.cancel(),h.g=null)}function $_(h){Fu(h),h.v&&(s.clearTimeout(h.v),h.v=null),zu(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function $u(h){if(!__(h.h)&&!h.m){h.m=!0;var _=h.Ea;k||S(),O||(k(),O=!0),y.add(_,h),h.D=0}}function _M(h,_){return E_(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=al(c(h.Ea,h,_),W_(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new Fi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=pe(V),Je(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var _=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=P;break e}if(_===4096||P===this.i.length-1){_=P+1;break e}}_=1e3}else _=1e3;_=U_(this,M,_),P=Dn(this.J),Be(P,"RID",h),Be(P,"CVER",22),this.G&&Be(P,"X-HTTP-Session-Id",this.G),vl(this,P),V&&(this.R?_="headers="+ol(R_(V))+"&"+_:this.u&&Mm(P,this.u,V)),Om(this.h,M),this.Ra&&Be(P,"TYPE","init"),this.S?(Be(P,"$req",_),Be(P,"SID","null"),M.U=!0,Im(M,P,null)):Im(M,P,_),this.I=2}}else this.I==3&&(h?z_(this,h):this.i.length==0||__(this.h)||z_(this))};function z_(h,_){var P;_?P=_.l:P=h.V++;const R=Dn(h.J);Be(R,"SID",h.M),Be(R,"RID",P),Be(R,"AID",h.K),vl(h,R),h.u&&h.o&&Mm(R,h.u,h.o),P=new Fi(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),_&&(h.i=_.G.concat(h.i)),_=U_(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Om(h.h,P),Im(P,R,_)}function vl(h,_){h.H&&W(h.H,function(P,R){Be(_,R,P)}),h.l&&W({},function(P,R){Be(_,R,P)})}function U_(h,_,P){P=Math.min(h.i.length,P);const R=h.l?c(h.l.Ka,h.l,h):null;e:{var M=h.i;let he=-1;for(;;){const St=["count="+P];he==-1?P>0?(he=M[0].g,St.push("ofs="+he)):he=0:St.push("ofs="+he);let Oe=!0;for(let Mt=0;Mt<P;Mt++){var V=M[Mt].g;const Mn=M[Mt].map;if(V-=he,V<0)he=Math.max(0,M[Mt].g-100),Oe=!1;else try{V="req"+V+"_"||"";try{var H=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Fa,Bi]of H){let qi=Bi;o(Bi)&&(qi=z(Bi)),St.push(V+Fa+"="+encodeURIComponent(qi))}}catch(Fa){throw St.push(V+"type="+encodeURIComponent("_badmap")),Fa}}catch{R&&R(Mn)}}if(Oe){H=St.join("&");break e}}H=void 0}return h=h.i.splice(0,P),_.G=h,H}function B_(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;k||S(),O||(k(),O=!0),y.add(_,h),h.A=0}}function Vm(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=al(c(h.Da,h),W_(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,q_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=al(c(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pr(10),Fu(this),q_(this))};function Fm(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function q_(h){h.g=new Fi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Dn(h.na);Be(_,"RID","rpc"),Be(_,"SID",h.M),Be(_,"AID",h.K),Be(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Be(_,"TO",h.ia),Be(_,"TYPE","xmlhttp"),vl(h,_),h.u&&h.o&&Mm(_,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=Mu(Dn(_)),P.u=null,P.R=!0,y_(P,h)}e.Va=function(){this.C!=null&&(this.C=null,Fu(this),Vm(this),pr(19))};function zu(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function K_(h,_){var P=null;if(h.g==_){zu(h),Fm(h),h.g=null;var R=2}else if(km(h.h,_))P=_.G,S_(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){P=_.u?_.u.length:0,_=Date.now()-_.F;var M=h.D;R=Ou(),Gt(R,new h_(R,P)),$u(h)}else B_(h);else if(M=_.m,M==3||M==0&&_.X>0||!(R==1&&_M(h,_)||R==2&&Vm(h)))switch(P&&P.length>0&&(_=h.h,_.i=_.i.concat(P)),M){case 1:Va(h,5);break;case 4:Va(h,10);break;case 3:Va(h,6);break;default:Va(h,2)}}}function W_(h,_){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*_}function Va(h,_){if(h.j.info("Error code "+_),_==2){var P=c(h.bb,h),R=h.Ua;const M=!R;R=new $i(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cl(R,"https"),Mu(R),M?gM(R.toString(),P):vM(R.toString(),P)}else pr(2);h.I=0,h.l&&h.l.pa(_),H_(h),$_(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),pr(2)):(this.j.info("Failed to ping google.com"),pr(1))};function H_(h){if(h.I=0,h.ja=[],h.l){const _=A_(h.h);(_.length!=0||h.i.length!=0)&&(g(h.ja,_),g(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function G_(h,_,P){var R=P instanceof $i?Dn(P):new $i(P);if(R.g!="")_&&(R.g=_+"."+R.g),ul(R,R.u);else{var M=s.location;R=M.protocol,_=_?_+"."+M.hostname:M.hostname,M=+M.port;const V=new $i(null);R&&cl(V,R),_&&(V.g=_),M&&ul(V,M),P&&(V.h=P),R=V}return P=h.G,_=h.wa,P&&_&&Be(R,P,_),Be(R,"VER",h.ka),vl(h,R),R}function Q_(h,_,P){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new at(new Dm({ab:P})):new at(h.ma),_.Fa(h.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y_(){}e=Y_.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Uu(){}Uu.prototype.g=function(h,_){return new Vr(h,_)};function Vr(h,_){Dt.call(this),this.g=new F_(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!j(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ks(this)}f(Vr,Dt),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Lm(this.g)},Vr.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=z(h),h=P);_.i.push(new lM(_.Ya++,h)),_.I==3&&$u(_)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,Vr.Z.N.call(this)};function X_(h){ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const P in _){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}f(X_,ct);function Z_(){Sr.call(this),this.status=1}f(Z_,Sr);function ks(h){this.g=h}f(ks,Y_),ks.prototype.ra=function(){Gt(this.g,"a")},ks.prototype.qa=function(h){Gt(this.g,new X_(h))},ks.prototype.pa=function(h){Gt(this.g,new Z_)},ks.prototype.oa=function(){Gt(this.g,"b")},Uu.prototype.createWebChannel=Uu.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,nj=function(){return new Uu},rj=function(){return Ou()},tj=Da,Wv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,Ud=Ru,p_.COMPLETE="complete",ej=p_,Le.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Vl=Le,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,JI=at}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const S1="@firebase/firestore",A1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new WI("@firebase/firestore");function Vs(){return ds.logLevel}function X(e,...t){if(ds.logLevel<=_e.DEBUG){const r=t.map(uw);ds.debug(`Firestore (${Bo}): ${e}`,...r)}}function bi(e,...t){if(ds.logLevel<=_e.ERROR){const r=t.map(uw);ds.error(`Firestore (${Bo}): ${e}`,...r)}}function _o(e,...t){if(ds.logLevel<=_e.WARN){const r=t.map(uw);ds.warn(`Firestore (${Bo}): ${e}`,...r)}}function uw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,ij(e,n,r)}function ij(e,t,r){let n=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw bi(n),new Error(n)}function Ce(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||ij(t,i,n)}function de(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Uo{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(or.UNAUTHENTICATED))}shutdown(){}}class L3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class V3{constructor(t){this.t=t,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ce(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hi)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string",31837,{l:n}),new aj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string",2055,{h:t}),new or(t)}}class F3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new F3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,b3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ce(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ce(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new P1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=U3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function we(e,t){return e<t?-1:e>t?1:0}function Hv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return yg(i)===yg(a)?we(i,a):yg(i)?1:-1}return we(e.length,t.length)}const B3=55296,q3=57343;function yg(e){const t=e.charCodeAt(0);return t>=B3&&t<=q3}function Eo(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__name__";class Fn{constructor(t,r,n){r===void 0?r=0:r>t.length&&oe(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&oe(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Fn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Fn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Fn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return we(t.length,r.length)}static compareSegments(t,r){const n=Fn.isNumericId(t),i=Fn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Fn.extractNumericId(t).compare(Fn.extractNumericId(r)):Hv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fa.fromString(t.substring(4,t.length-2))}}class $e extends Fn{construct(t,r,n){return new $e(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new $e(r)}static emptyPath(){return new $e([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Fn{construct(t,r,n){return new Zt(t,r,n)}static isValidIdentifier(t){return K3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T1}static keyField(){return new Zt([T1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(r)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie($e.fromString(t))}static fromName(t){return new ie($e.fromString(t).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return $e.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new $e(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function W3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function C1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function I1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Yh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":oe(12329,{type:typeof e})}function Rr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Yh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Xc(e,t){if(!oj(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=-62135596800,N1=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*N1);return new We(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<j1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N1}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xc(t,We._jsonSchema))return new We(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:xt("string",We._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(t){return new ce(t)}static min(){return new ce(new We(0,0))}static max(){return new ce(new We(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function H3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(n===1e9?new We(r+1,0):new We(r,n));return new va(i,ie.empty(),t)}function G3(e){return new va(e.readTime,e.key,Ac)}class va{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new va(ce.min(),ie.empty(),Ac)}static max(){return new va(ce.max(),ie.empty(),Ac)}}function Q3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==Y3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof $?r:$.resolve(r)}catch(r){return $.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):$.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):$.reject(r)}static resolve(t){return new $((r,n)=>{r(t)})}static reject(t){return new $((r,n)=>{n(t)})}static waitFor(t){return new $((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=$.resolve(!1);for(const n of t)r=r.next(i=>i?$.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new $((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===a&&n(s)},u=>i(u))}})}static doWhile(t,r){return new $((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function Z3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ko(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=-1;function Zh(e){return e==null}function Cf(e){return e===0&&1/e==-1/0}function J3(e){return typeof e=="number"&&Number.isInteger(e)&&!Cf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="";function eF(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=k1(t)),t=tF(e.get(r),t);return k1(t)}function tF(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case lj:r+="";break;default:r+=a}}return r}function k1(e){return e+lj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Ca(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function cj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,r){this.comparator=t,this.root=r||Xt.EMPTY}insert(t,r){return new nt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(t){return new nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cd(this.root,t,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cd(this.root,t,this.comparator,!0)}}class cd{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xt{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Xt.RED,this.left=i??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Xt(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw oe(27949);return t+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Xt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.comparator=t,this.data=new nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(t){return new R1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof It)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new It(this.comparator);return r.data=t,r}}class R1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new qr([])}unionWith(t){let r=new It(Zt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new qr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Eo(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uj("Invalid base64 string: "+a):a}}(t);return new rr(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new rr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const rF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(e){if(Ce(!!e,39018),typeof e=="string"){let t=0;const r=rF.exec(e);if(Ce(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:dt(e.seconds),nanos:dt(e.nanos)}}function dt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wa(e){return typeof e=="string"?rr.fromBase64String(e):rr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="server_timestamp",fj="__type__",hj="__previous_value__",pj="__local_write_time__";function hw(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[fj])==null?void 0:n.stringValue)===dj}function Jh(e){const t=e.mapValue.fields[hj];return hw(t)?Jh(t):t}function Pc(e){const t=ya(e.mapValue.fields[pj].timestampValue);return new We(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(t,r,n,i,a,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const If="(default)";class Tc{constructor(t,r){this.projectId=t,this.database=r||If}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===If}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="__type__",iF="__max__",ud={mapValue:{}},gj="__vector__",jf="value";function xa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hw(e)?4:sF(e)?9007199254740991:aF(e)?10:11:oe(28295,{value:e})}function Xn(e,t){if(e===t)return!0;const r=xa(e);if(r!==xa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pc(e).isEqual(Pc(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ya(i.timestampValue),o=ya(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return wa(i.bytesValue).isEqual(wa(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return dt(i.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return dt(i.integerValue)===dt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=dt(i.doubleValue),o=dt(a.doubleValue);return s===o?Cf(s)===Cf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Eo(e.arrayValue.values||[],t.arrayValue.values||[],Xn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(O1(s)!==O1(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Xn(s[l],o[l])))return!1;return!0}(e,t);default:return oe(52216,{left:e})}}function Cc(e,t){return(e.values||[]).find(r=>Xn(r,t))!==void 0}function So(e,t){if(e===t)return 0;const r=xa(e),n=xa(t);if(r!==n)return we(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=dt(a.integerValue||a.doubleValue),l=dt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return D1(e.timestampValue,t.timestampValue);case 4:return D1(Pc(e),Pc(t));case 5:return Hv(e.stringValue,t.stringValue);case 6:return function(a,s){const o=wa(a),l=wa(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=we(o[c],l[c]);if(u!==0)return u}return we(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=we(dt(a.latitude),dt(s.latitude));return o!==0?o:we(dt(a.longitude),dt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return M1(e.arrayValue,t.arrayValue);case 10:return function(a,s){var p,m,g,v;const o=a.fields||{},l=s.fields||{},c=(p=o[jf])==null?void 0:p.arrayValue,u=(m=l[jf])==null?void 0:m.arrayValue,f=we(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:M1(c,u)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===ud.mapValue&&s===ud.mapValue)return 0;if(a===ud.mapValue)return 1;if(s===ud.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=Hv(l[f],u[f]);if(p!==0)return p;const m=So(o[l[f]],c[u[f]]);if(m!==0)return m}return we(l.length,u.length)}(e.mapValue,t.mapValue);default:throw oe(23264,{he:r})}}function D1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const r=ya(e),n=ya(t),i=we(r.seconds,n.seconds);return i!==0?i:we(r.nanos,n.nanos)}function M1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=So(r[i],n[i]);if(a)return a}return we(r.length,n.length)}function Ao(e){return Gv(e)}function Gv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=ya(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return wa(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Gv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Gv(r.fields[s])}`;return i+"}"}(e.mapValue):oe(61005,{value:e})}function Bd(e){switch(xa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jh(e);return t?16+Bd(t):16;case 5:return 2*e.stringValue.length;case 6:return wa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Bd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return Ca(n.fields,(a,s)=>{i+=a.length+Bd(s)}),i}(e.mapValue);default:throw oe(13486,{value:e})}}function L1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qv(e){return!!e&&"integerValue"in e}function pw(e){return!!e&&"arrayValue"in e}function V1(e){return!!e&&"nullValue"in e}function F1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qd(e){return!!e&&"mapValue"in e}function aF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[mj])==null?void 0:n.stringValue)===gj}function tc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ca(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=tc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=tc(e.arrayValue.values[r]);return t}return{...e}}function sF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.value=t}static empty(){return new Cr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!qd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=tc(r)}setAll(t){let r=Zt.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=tc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());qd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Xn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Ca(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Cr(tc(this.value))}}function vj(e){const t=[];return Ca(e.fields,(r,n)=>{const i=new Zt([r]);if(qd(n)){const a=vj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new qr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new cr(t,0,ce.min(),ce.min(),ce.min(),Cr.empty(),0)}static newFoundDocument(t,r,n,i){return new cr(t,1,r,ce.min(),n,i,0)}static newNoDocument(t,r){return new cr(t,2,r,ce.min(),ce.min(),Cr.empty(),0)}static newUnknownDocument(t,r){return new cr(t,3,r,ce.min(),ce.min(),Cr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,r){this.position=t,this.inclusive=r}}function $1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(s.referenceValue),r.key):n=So(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function z1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Xn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,r="asc"){this.field=t,this.dir=r}}function oF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{}class wt extends yj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new cF(t,r,n):r==="array-contains"?new fF(t,n):r==="in"?new hF(t,n):r==="not-in"?new pF(t,n):r==="array-contains-any"?new mF(t,n):new wt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new uF(t,n):new dF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(So(r,this.value)):r!==null&&xa(this.value)===xa(r)&&this.matchesComparison(So(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends yj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new In(t,r)}matches(t){return wj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wj(e){return e.op==="and"}function xj(e){return lF(e)&&wj(e)}function lF(e){for(const t of e.filters)if(t instanceof In)return!1;return!0}function Yv(e){if(e instanceof wt)return e.field.canonicalString()+e.op.toString()+Ao(e.value);if(xj(e))return e.filters.map(t=>Yv(t)).join(",");{const t=e.filters.map(r=>Yv(r)).join(",");return`${e.op}(${t})`}}function bj(e,t){return e instanceof wt?function(n,i){return i instanceof wt&&n.op===i.op&&n.field.isEqual(i.field)&&Xn(n.value,i.value)}(e,t):e instanceof In?function(n,i){return i instanceof In&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&bj(s,i.filters[o]),!0):!1}(e,t):void oe(19439)}function _j(e){return e instanceof wt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ao(r.value)}`}(e):e instanceof In?function(r){return r.op.toString()+" {"+r.getFilters().map(_j).join(" ,")+"}"}(e):"Filter"}class cF extends wt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class uF extends wt{constructor(t,r){super(t,"in",r),this.keys=Ej("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class dF extends wt{constructor(t,r){super(t,"not-in",r),this.keys=Ej("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Ej(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class fF extends wt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return pw(r)&&Cc(r.arrayValue,this.value)}}class hF extends wt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Cc(this.value.arrayValue,r)}}class pF extends wt{constructor(t,r){super(t,"not-in",r)}matches(t){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Cc(this.value.arrayValue,r)}}class mF extends wt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!pw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Cc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function U1(e,t=null,r=[],n=[],i=null,a=null,s=null){return new gF(e,t,r,n,i,a,s)}function mw(e){const t=de(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Yv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Zh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Ao(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Ao(n)).join(",")),t.Te=r}return t.Te}function gw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!oF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!bj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!z1(e.startAt,t.startAt)&&z1(e.endAt,t.endAt)}function Xv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vF(e,t,r,n,i,a,s,o){return new Zc(e,t,r,n,i,a,s,o)}function ep(e){return new Zc(e)}function B1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Sj(e){return e.collectionGroup!==null}function rc(e){const t=de(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new It(Zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new kf(a,n))}),r.has(Zt.keyField().canonicalString())||t.Ie.push(new kf(Zt.keyField(),n))}return t.Ie}function qn(e){const t=de(e);return t.Ee||(t.Ee=yF(t,rc(e))),t.Ee}function yF(e,t){if(e.limitType==="F")return U1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kf(i.field,a)});const r=e.endAt?new Nf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Nf(e.startAt.position,e.startAt.inclusive):null;return U1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Zv(e,t){const r=e.filters.concat([t]);return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Jv(e,t,r){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function tp(e,t){return gw(qn(e),qn(t))&&e.limitType===t.limitType}function Aj(e){return`${mw(qn(e))}|lt:${e.limitType}`}function Fs(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>_j(i)).join(", ")}]`),Zh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ao(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ao(i)).join(",")),`Target(${n})`}(qn(e))}; limitType=${e.limitType})`}function rp(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of rc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const c=$1(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,rc(n),i)||n.endAt&&!function(s,o,l){const c=$1(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,rc(n),i))}(e,t)}function wF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pj(e){return(t,r)=>{let n=!1;for(const i of rc(e)){const a=xF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function xF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?So(l,c):oe(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return oe(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ca(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return cj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new nt(ie.comparator);function _i(){return bF}const Tj=new nt(ie.comparator);function Fl(...e){let t=Tj;for(const r of e)t=t.insert(r.key,r);return t}function Cj(e){let t=Tj;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Qa(){return nc()}function Ij(){return nc()}function nc(){return new Es(e=>e.toString(),(e,t)=>e.isEqual(t))}const _F=new nt(ie.comparator),EF=new It(ie.comparator);function xe(...e){let t=EF;for(const r of e)t=t.add(r);return t}const SF=new It(we);function AF(){return SF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(t)?"-0":t}}function jj(e){return{integerValue:""+e}}function PF(e,t){return J3(t)?jj(t):vw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this._=void 0}}function TF(e,t,r){return e instanceof Of?function(i,a){const s={fields:{[fj]:{stringValue:dj},[pj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hw(a)&&(a=Jh(a)),a&&(s.fields[hj]=a),{mapValue:s}}(r,t):e instanceof Ic?kj(e,t):e instanceof jc?Oj(e,t):function(i,a){const s=Nj(i,a),o=q1(s)+q1(i.Ae);return Qv(s)&&Qv(i.Ae)?jj(o):vw(i.serializer,o)}(e,t)}function CF(e,t,r){return e instanceof Ic?kj(e,t):e instanceof jc?Oj(e,t):r}function Nj(e,t){return e instanceof Rf?function(n){return Qv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Of extends np{}class Ic extends np{constructor(t){super(),this.elements=t}}function kj(e,t){const r=Rj(t);for(const n of e.elements)r.some(i=>Xn(i,n))||r.push(n);return{arrayValue:{values:r}}}class jc extends np{constructor(t){super(),this.elements=t}}function Oj(e,t){let r=Rj(t);for(const n of e.elements)r=r.filter(i=>!Xn(i,n));return{arrayValue:{values:r}}}class Rf extends np{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function q1(e){return dt(e.integerValue||e.doubleValue)}function Rj(e){return pw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function IF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Ic&&i instanceof Ic||n instanceof jc&&i instanceof jc?Eo(n.elements,i.elements,Xn):n instanceof Rf&&i instanceof Rf?Xn(n.Ae,i.Ae):n instanceof Of&&i instanceof Of}(e.transform,t.transform)}class jF{constructor(t,r){this.version=t,this.transformResults=r}}class un{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new un}static exists(t){return new un(void 0,t)}static updateTime(t){return new un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ip{}function Dj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new yw(e.key,un.none()):new Jc(e.key,e.data,un.none());{const r=e.data,n=Cr.empty();let i=new It(Zt.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Ia(e.key,n,new qr(i.toArray()),un.none())}}function NF(e,t,r){e instanceof Jc?function(i,a,s){const o=i.value.clone(),l=W1(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Ia?function(i,a,s){if(!Kd(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=W1(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Mj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function ic(e,t,r,n){return e instanceof Jc?function(a,s,o,l){if(!Kd(a.precondition,s))return o;const c=a.value.clone(),u=H1(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Ia?function(a,s,o,l){if(!Kd(a.precondition,s))return o;const c=H1(a.fieldTransforms,l,s),u=s.data;return u.setAll(Mj(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return Kd(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function kF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Nj(n.transform,i||null);a!=null&&(r===null&&(r=Cr.empty()),r.set(n.field,a))}return r||null}function K1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Eo(n,i,(a,s)=>IF(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Jc extends ip{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ia extends ip{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Mj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function W1(e,t,r){const n=new Map;Ce(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,CF(s,o,r[i]))}return n}function H1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,TF(a,s,t))}return n}class yw extends ip{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OF extends ip{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&NF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=ic(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=ic(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Ij();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=Dj(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),xe())}isEqual(t){return this.batchId===t.batchId&&Eo(this.mutations,t.mutations,(r,n)=>K1(r,n))&&Eo(this.baseMutations,t.baseMutations,(r,n)=>K1(r,n))}}class ww{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ce(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return _F}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new ww(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,be;function LF(e){switch(e){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:e})}}function Lj(e){if(e===void 0)return bi("GRPC error has no .code"),F.UNKNOWN;switch(e){case gt.OK:return F.OK;case gt.CANCELLED:return F.CANCELLED;case gt.UNKNOWN:return F.UNKNOWN;case gt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case gt.INTERNAL:return F.INTERNAL;case gt.UNAVAILABLE:return F.UNAVAILABLE;case gt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case gt.NOT_FOUND:return F.NOT_FOUND;case gt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case gt.ABORTED:return F.ABORTED;case gt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case gt.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:e})}}(be=gt||(gt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new fa([4294967295,4294967295],0);function G1(e){const t=VF().encode(e),r=new ZI;return r.update(t),new Uint8Array(r.digest())}function Q1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fa([r,n],0),new fa([i,a],0)]}class xw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new $l(`Invalid padding: ${r}`);if(n<0)throw new $l(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new $l(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=fa.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(fa.fromNumber(n)));return i.compare(FF)===1&&(i=new fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=G1(t),[n,i]=Q1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new xw(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=G1(t),[n,i]=Q1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new ap(ce.min(),i,new nt(we),_i(),xe())}}class eu{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new eu(n,r,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Vj{constructor(t,r){this.targetId=t,this.Ce=r}}class Fj{constructor(t,r,n=rr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Y1{constructor(){this.ve=0,this.Fe=X1(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xe(),r=xe(),n=xe();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:oe(38017,{changeType:a})}}),new eu(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=X1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $F{constructor(t){this.Ge=t,this.ze=new Map,this.je=_i(),this.Je=dd(),this.He=dd(),this.Ye=new nt(we)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:oe(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Xv(a))if(n===0){const s=new ie(a.path);this.et(r,s,cr.newNoDocument(s,ce.min()))}else Ce(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=wa(n).toUint8Array()}catch(l){if(l instanceof uj)return _o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new xw(s,i,a)}catch(l){return _o(l instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Xv(o.target)){const l=new ie(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,cr.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=xe();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new ap(t,r,this.Ye,this.je,n);return this.je=_i(),this.Je=dd(),this.He=dd(),this.Ye=new nt(we),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new Y1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new It(we),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new It(we),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Y1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function dd(){return new nt(ie.comparator)}function X1(){return new nt(ie.comparator)}const zF={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BF={and:"AND",or:"OR"};class qF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ey(e,t){return e.useProto3Json||Zh(t)?t:{value:t}}function Df(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $j(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KF(e,t){return Df(e,t.toTimestamp())}function Kn(e){return Ce(!!e,49232),ce.fromTimestamp(function(r){const n=ya(r);return new We(n.seconds,n.nanos)}(e))}function bw(e,t){return ty(e,t).canonicalString()}function ty(e,t){const r=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function zj(e){const t=$e.fromString(e);return Ce(Wj(t),10190,{key:t.toString()}),t}function ry(e,t){return bw(e.databaseId,t.path)}function wg(e,t){const r=zj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie(Bj(r))}function Uj(e,t){return bw(e.databaseId,t)}function WF(e){const t=zj(e);return t.length===4?$e.emptyPath():Bj(t)}function ny(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bj(e){return Ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Z1(e,t,r){return{name:ry(e,t),fields:r.value.mapValue.fields}}function HF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Ce(u===void 0||typeof u=="string",58123),rr.fromBase64String(u||"")):(Ce(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),rr.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?F.UNKNOWN:Lj(c.code);return new Y(u,c.message||"")}(s);r=new Fj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=wg(e,n.document.name),a=Kn(n.document.updateTime),s=n.document.createTime?Kn(n.document.createTime):ce.min(),o=new Cr({mapValue:{fields:n.document.fields}}),l=cr.newFoundDocument(i,a,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Wd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=wg(e,n.document),a=n.readTime?Kn(n.readTime):ce.min(),s=cr.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Wd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=wg(e,n.document),a=n.removedTargetIds||[];r=new Wd([],a,i,null)}else{if(!("filter"in t))return oe(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new MF(i,a),o=n.targetId;r=new Vj(o,s)}}return r}function GF(e,t){let r;if(t instanceof Jc)r={update:Z1(e,t.key,t.value)};else if(t instanceof yw)r={delete:ry(e,t.key)};else if(t instanceof Ia)r={update:Z1(e,t.key,t.data),updateMask:n6(t.fieldMask)};else{if(!(t instanceof OF))return oe(16599,{Vt:t.type});r={verify:ry(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Of)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ic)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw oe(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:oe(27497)}(e,t.precondition)),r}function QF(e,t){return e&&e.length>0?(Ce(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?Kn(i.updateTime):Kn(a);return s.isEqual(ce.min())&&(s=Kn(a)),new jF(s,i.transformResults||[])}(r,t))):[]}function YF(e,t){return{documents:[Uj(e,t.path)]}}function XF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Uj(e,i);const a=function(c){if(c.length!==0)return Kj(In.create(c,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:$s(p.field),direction:e6(p.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=ey(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:r,parent:i}}function ZF(e){let t=WF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ce(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let a=[];r.where&&(a=function(f){const p=qj(f);return p instanceof In&&xj(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(p=>function(g){return new kf(zs(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,Zh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Nf(m,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Nf(m,p)}(r.endAt)),vF(t,i,s,a,o,"F",l,c)}function JF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function qj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zs(r.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(r.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zs(r.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zs(r.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(e):e.fieldFilter!==void 0?function(r){return wt.create(zs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return In.create(r.compositeFilter.filters.map(n=>qj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(r.compositeFilter.op))}(e):oe(30097,{filter:e})}function e6(e){return zF[e]}function t6(e){return UF[e]}function r6(e){return BF[e]}function $s(e){return{fieldPath:e.canonicalString()}}function zs(e){return Zt.fromServerFormat(e.fieldPath)}function Kj(e){return e instanceof wt?function(r){if(r.op==="=="){if(F1(r.value))return{unaryFilter:{field:$s(r.field),op:"IS_NAN"}};if(V1(r.value))return{unaryFilter:{field:$s(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(F1(r.value))return{unaryFilter:{field:$s(r.field),op:"IS_NOT_NAN"}};if(V1(r.value))return{unaryFilter:{field:$s(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(r.field),op:t6(r.op),value:r.value}}}(e):e instanceof In?function(r){const n=r.getFilters().map(i=>Kj(i));return n.length===1?n[0]:{compositeFilter:{op:r6(r.op),filters:n}}}(e):oe(54877,{filter:e})}function n6(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Wj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,r,n,i,a=ce.min(),s=ce.min(),o=rr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ta(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.yt=t}}function a6(e){const t=ZF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Cn=new o6}addToCollectionParentIndex(t,r){return this.Cn.add(r),$.resolve()}getCollectionParents(t,r){return $.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $.resolve()}deleteFieldIndex(t,r){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,r){return $.resolve()}getDocumentsMatchingTarget(t,r){return $.resolve(null)}getIndexType(t,r){return $.resolve(0)}getFieldIndexes(t,r){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,r){return $.resolve(va.min())}getMinOffsetFromCollectionGroup(t,r){return $.resolve(va.min())}updateCollectionGroup(t,r,n){return $.resolve()}updateIndexEntries(t,r){return $.resolve()}}class o6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new It($e.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new It($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hj=41943040;class Pr{static withCacheSize(t){return new Pr(t,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(Hj,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="LruGarbageCollector",l6=1048576;function tS([e,t],[r,n]){const i=we(e,r);return i===0?we(t,n):i}class c6{constructor(t){this.Ir=t,this.buffer=new It(tS),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();tS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class u6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(eS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ko(r)?X(eS,"Ignoring IndexedDB error during garbage collection: ",r):await qo(r)}await this.Vr(3e5)})}}class d6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return $.resolve(Xh.ce);const n=new c6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(J1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Vs()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function f6(e,t){return new d6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.changes=new Es(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,cr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&ic(n.mutation,i,qr.empty(),We.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,xe()).next(()=>n))}getLocalViewOfDocuments(t,r,n=xe()){const i=Qa();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=Fl();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Qa();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,xe()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=_i();const s=nc(),o=function(){return nc()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ia)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),ic(u.mutation,c,u.mutation.getFieldMask(),We.now())):s.set(c.key,qr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new p6(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,r){const n=nc();let i=new nt((s,o)=>s-o),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||qr.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(i.get(o.batchId)||xe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=Ij();u.forEach(p=>{if(!a.has(p)){const m=Dj(r.get(p),n.get(p));m!==null&&f.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return $.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Sj(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$.resolve(Qa());let o=Ac,l=a;return s.next(c=>$.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?$.resolve():this.remoteDocumentCache.getEntry(t,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(t,c,a)).next(()=>this.computeViews(t,l,c,xe())).next(u=>({batchId:o,changes:Cj(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=Fl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=Fl();return this.indexManager.getCollectionParents(t,a).next(o=>$.forEach(o,l=>{const c=function(f,p){return new Zc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,c,n,i).next(u=>{u.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,cr.newInvalidDocument(u)))});let o=Fl();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&ic(u.mutation,c,qr.empty(),We.now()),rp(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(r)),$.resolve()}getNamedQuery(t,r){return $.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:a6(i.bundledQuery),readTime:Kn(i.readTime)}}(r)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new nt(ie.comparator),this.qr=new Map}getOverlay(t,r){return $.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Qa();return $.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),$.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(t,r,n){const i=Qa(),a=r.length+1,s=new ie(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new nt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Qa(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Qa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return $.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new DF(r,n));let a=this.qr.get(r);a===void 0&&(a=xe(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Qr=new It(Ft.$r),this.Ur=new It(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Ft(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Ft(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new $e([])),n=new Ft(r,t),i=new Ft(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new $e([])),n=new Ft(r,t),i=new Ft(r,t+1);let a=xe();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Ft(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ft{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||we(t.Yr,r.Yr)}static Kr(t,r){return we(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new It(Ft.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RF(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Ft(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(t,r){return $.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?fw:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ft(r,0),i=new Ft(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new It(we);return r.forEach(i=>{const a=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const s=new Ft(new ie(a),0);let o=new It(we);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),$.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ce(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(r.mutations,i=>{const a=new Ft(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Ft(r,0),i=this.Zr.firstAfterOrEqual(n);return $.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.ri=t,this.docs=function(){return new nt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $.resolve(n?n.document.mutableCopy():cr.newInvalidDocument(r))}getEntries(t,r){let n=_i();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():cr.newInvalidDocument(i))}),$.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=_i();const s=r.path,o=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Q3(G3(u),n)<=0||(i.has(u.key)||rp(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(t,r,n,i){oe(9500)}ii(t,r){return $.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new b6(this)}getSize(t){return $.resolve(this.size)}}class b6 extends h6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),$.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.persistence=t,this.si=new Es(r=>mw(r),gw),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new _w,this.targetCount=0,this.ai=Po.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Po(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$.resolve()}updateTargetData(t,r){return this.Pr(r),$.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),$.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $.resolve(n)}containsKey(t,r){return $.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t,r){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=t(this),this.Pi=new _6(this),this.indexManager=new s6,this.remoteDocumentCache=function(i){return new x6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new i6(r),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new v6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new w6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new E6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class E6 extends X3{constructor(t){super(),this.currentSequenceNumber=t}}class Ew{constructor(t){this.persistence=t,this.Ri=new _w,this.Vi=null}static mi(t){return new Ew(t)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return $.or([()=>$.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Mf{constructor(t,r){this.persistence=t,this.pi=new Es(n=>eF(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=f6(this,r)}static mi(t,r){return new Mf(t,r)}Ei(){}di(t){return $.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return $.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?$.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,ce.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Bd(t.data.value)),r}br(t,r,n){return $.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return $.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=xe(),i=xe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Sw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y4()?8:Z3(g4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new S6;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Vs()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Fs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Vs()<=_e.DEBUG&&X("QueryEngine","Query:",Fs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Vs()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Fs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qn(r))):$.resolve())}ys(t,r){if(B1(r))return $.resolve(null);let n=qn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Jv(r,null,"F"),n=qn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=xe(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(t,Jv(r,null,"F")):this.vs(t,c,r,l)}))})))}ws(t,r,n,i){return B1(r)||i.isEqual(ce.min())?$.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?$.resolve(null):(Vs()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(r)),this.vs(t,s,r,H3(i,Ac)).next(o=>o))})}Ds(t,r){let n=new It(Pj(t));return r.forEach((i,a)=>{rp(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Vs()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Fs(r)),this.ps.getDocumentsMatchingQuery(t,r,va.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LocalStore",P6=3e8;class T6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new nt(we),this.xs=new Es(a=>mw(a),gw),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new m6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function C6(e,t,r,n){return new T6(e,t,r,n)}async function Qj(e,t){const r=de(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=xe();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function I6(e,t){const r=de(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,p=f.keys();let m=$.resolve();return p.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(v=>{const x=c.docVersions.get(g);Ce(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=xe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function Yj(e){const t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function j6(e,t){const r=de(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((u,f)=>{const p=i.get(f);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,u.addedDocuments,f)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(rr.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,n)),i=i.insert(f,m),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=P6?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,u)&&o.push(r.Pi.updateTargetData(a,m))});let l=_i(),c=xe();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(N6(a,s,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(ce.min())){const u=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(u)}return $.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ms=i,a))}function N6(e,t,r){let n=xe(),i=xe();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=_i();return r.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ce.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):X(Aw,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function k6(e,t){const r=de(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=fw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function O6(e,t){const r=de(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,$.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new ta(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function iy(e,t,r){const n=de(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ko(s))throw s;X(Aw,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function rS(e,t,r){const n=de(e);let i=ce.min(),a=xe();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=de(l),p=f.xs.get(u);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,u)}(n,s,qn(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:ce.min(),r?a:xe())).next(o=>(R6(n,wF(t),o),{documents:o,Qs:a})))}function R6(e,t,r){let n=e.Os.get(t)||ce.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class nS{constructor(){this.activeTargetIds=AF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D6{constructor(){this.Mo=new nS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nS,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="ConnectivityMonitor";class aS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(iS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(iS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function ay(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===If?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=ay(),o=this.zo(t,r.toUriEncodedString());X(xg,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=lw(c);return this.Jo(t,o,l,n,u).then(f=>(X(xg,`Received RPC '${t}' ${s}: `,f),f),f=>{throw _o(xg,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=L6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class $6 extends V6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=ay();return new Promise((o,l)=>{const c=new JI;c.setWithCredentials(!0),c.listenOnce(ej.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ud.NO_ERROR:const f=c.getResponseJson();X(ar,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ud.TIMEOUT:X(ar,`RPC '${t}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const p=c.getStatus();if(X(ar,`RPC '${t}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const v=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(g.status);l(new Y(v,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{X(ar,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);X(ar,`RPC '${t}' ${s} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(t,r,n){const i=ay(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=nj(),o=rj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");X(ar,`Creating RPC '${t}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let p=!1,m=!1;const g=new F6({Yo:x=>{m?X(ar,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(p||(X(ar,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),X(ar,`RPC '${t}' stream ${i} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,b,E)=>{x.listen(b,A=>{try{E(A)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,Vl.EventType.OPEN,()=>{m||(X(ar,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),v(f,Vl.EventType.CLOSE,()=>{m||(m=!0,X(ar,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(f))}),v(f,Vl.EventType.ERROR,x=>{m||(m=!0,_o(ar,`RPC '${t}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),v(f,Vl.EventType.MESSAGE,x=>{var b;if(!m){const E=x.data[0];Ce(!!E,16349);const A=E,I=(A==null?void 0:A.error)||((b=A[0])==null?void 0:b.error);if(I){X(ar,`RPC '${t}' stream ${i} received error:`,I);const k=I.status;let O=function(C){const D=gt[C];if(D!==void 0)return Lj(D)}(k),y=I.message;O===void 0&&(O=F.INTERNAL,y="Unknown error status: "+k+" with message "+I.message),m=!0,g.a_(new Y(O,y)),f.close()}else X(ar,`RPC '${t}' stream ${i} received:`,E),g.u_(E)}}),v(o,tj.STAT_EVENT,x=>{x.stat===Wv.PROXY?X(ar,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===Wv.NOPROXY&&X(ar,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e){return new qF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="PersistentStream";class Zj{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(bi(r.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(sS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(sS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends Zj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=HF(this.serializer,t),n=function(a){if(!("targetChange"in a))return ce.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Kn(s.readTime):ce.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=ny(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Xv(l)?{documents:YF(a,l)}:{query:XF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=$j(a,s.resumeToken);const c=ey(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){o.readTime=Df(a,s.snapshotVersion.toTimestamp());const c=ey(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=JF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=ny(this.serializer),r.removeTarget=t,this.q_(r)}}class U6 extends Zj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=QF(t.writeResults,t.commitTime),n=Kn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=ny(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>GF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{}class q6 extends B6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,ty(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,ty(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class K6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class W6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Ss(this)&&(X(fs,"Restarting streams for network reachability change."),await async function(l){const c=de(l);c.Ea.add(4),await tu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await op(c)}(this))})}),this.Ra=new K6(n,i)}}async function op(e){if(Ss(e))for(const t of e.da)await t(!0)}async function tu(e){for(const t of e.da)await t(!1)}function Jj(e,t){const r=de(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Iw(r)?Cw(r):Wo(r).O_()&&Tw(r,t))}function Pw(e,t){const r=de(e),n=Wo(r);r.Ia.delete(t),n.O_()&&eN(r,t),r.Ia.size===0&&(n.O_()?n.L_():Ss(r)&&r.Ra.set("Unknown"))}function Tw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ce.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Wo(e).Y_(t)}function eN(e,t){e.Va.Ue(t),Wo(e).Z_(t)}function Cw(e){e.Va=new $F({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Wo(e).start(),e.Ra.ua()}function Iw(e){return Ss(e)&&!Wo(e).x_()&&e.Ia.size>0}function Ss(e){return de(e).Ea.size===0}function tN(e){e.Va=void 0}async function H6(e){e.Ra.set("Online")}async function G6(e){e.Ia.forEach((t,r)=>{Tw(e,t)})}async function Q6(e,t){tN(e),Iw(e)?(e.Ra.ha(t),Cw(e)):e.Ra.set("Unknown")}async function Y6(e,t,r){if(e.Ra.set("Online"),t instanceof Fj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){X(fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lf(e,n)}else if(t instanceof Wd?e.Va.Ze(t):t instanceof Vj?e.Va.st(t):e.Va.tt(t),!r.isEqual(ce.min()))try{const n=await Yj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(rr.EMPTY_BYTE_STRING,u.snapshotVersion)),eN(a,l);const f=new ta(u.target,l,c,u.sequenceNumber);Tw(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){X(fs,"Failed to raise snapshot:",n),await Lf(e,n)}}async function Lf(e,t,r){if(!Ko(t))throw t;e.Ea.add(1),await tu(e),e.Ra.set("Offline"),r||(r=()=>Yj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(fs,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await op(e)})}function rN(e,t){return t().catch(r=>Lf(e,r,t))}async function lp(e){const t=de(e),r=ba(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fw;for(;X6(t);)try{const i=await k6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,Z6(t,i)}catch(i){await Lf(t,i)}nN(t)&&iN(t)}function X6(e){return Ss(e)&&e.Ta.length<10}function Z6(e,t){e.Ta.push(t);const r=ba(e);r.O_()&&r.X_&&r.ea(t.mutations)}function nN(e){return Ss(e)&&!ba(e).x_()&&e.Ta.length>0}function iN(e){ba(e).start()}async function J6(e){ba(e).ra()}async function e$(e){const t=ba(e);for(const r of e.Ta)t.ea(r.mutations)}async function t$(e,t,r){const n=e.Ta.shift(),i=ww.from(n,t,r);await rN(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await lp(e)}async function r$(e,t){t&&ba(e).X_&&await async function(n,i){if(function(s){return LF(s)&&s!==F.ABORTED}(i.code)){const a=n.Ta.shift();ba(n).B_(),await rN(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lp(n)}}(e,t),nN(e)&&iN(e)}async function oS(e,t){const r=de(e);r.asyncQueue.verifyOperationInProgress(),X(fs,"RemoteStore received new credentials");const n=Ss(r);r.Ea.add(3),await tu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await op(r)}async function n$(e,t){const r=de(e);t?(r.Ea.delete(2),await op(r)):t||(r.Ea.add(2),await tu(r),r.Ra.set("Unknown"))}function Wo(e){return e.ma||(e.ma=function(r,n,i){const a=de(r);return a.sa(),new z6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:H6.bind(null,e),t_:G6.bind(null,e),r_:Q6.bind(null,e),H_:Y6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Iw(e)?Cw(e):e.Ra.set("Unknown")):(await e.ma.stop(),tN(e))})),e.ma}function ba(e){return e.fa||(e.fa=function(r,n,i){const a=de(r);return a.sa(),new U6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:J6.bind(null,e),r_:r$.bind(null,e),ta:e$.bind(null,e),na:t$.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await lp(e)):(await e.fa.stop(),e.Ta.length>0&&(X(fs,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new jw(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nw(e,t){if(bi("AsyncQueue",`${t}: ${e}`),Ko(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=Fl(),this.sortedSet=new nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new uo;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.ga=new nt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):oe(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class To{constructor(t,r,n,i,a,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new To(t,r,uo.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class a${constructor(){this.queries=cS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=de(r),a=i.queries;i.queries=cS(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function cS(){return new Es(e=>Aj(e),tp)}async function kw(e,t){const r=de(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new i$,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Nw(s,`Initialization of query '${Fs(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&Rw(r)}async function Ow(e,t){const r=de(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function s$(e,t){const r=de(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Rw(r)}function o$(e,t,r){const n=de(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function Rw(e){e.Ca.forEach(t=>{t.next()})}var sy,uS;(uS=sy||(sy={})).Ma="default",uS.Cache="cache";class Dw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new To(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.key=t}}class sN{constructor(t){this.key=t}}class l${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=Pj(t),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new lS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,f)=>{const p=i.get(u),m=rp(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?g!==v&&(n.track({type:3,doc:m}),x=!0):this.su(p,m)||(n.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),x=!0):p&&!m&&(n.track({type:1,doc:p}),x=!0,(l||c)&&(o=!0)),x&&(m?(s=s.add(m),a=v?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((u,f)=>function(m,g){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:x})}};return v(m)-v(g)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new To(this.query,t.tu,a,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xe(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new sN(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new aN(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=xe();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mw="SyncEngine";class c${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class u${constructor(t){this.key=t,this.hu=!1}}class d${constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Es(o=>Aj(o),tp),this.Iu=new Map,this.Eu=new Set,this.du=new nt(ie.comparator),this.Au=new Map,this.Ru=new _w,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f$(e,t,r=!0){const n=fN(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await oN(n,t,r,!0),i}async function h$(e,t){const r=fN(e);await oN(r,t,!0,!1)}async function oN(e,t,r,n){const i=await O6(e.localStore,qn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await p$(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Jj(e.remoteStore,i),o}async function p$(e,t,r,n,i){e.pu=(f,p,m)=>async function(v,x,b,E){let A=x.view.ru(b);A.Cs&&(A=await rS(v.localStore,x.query,!1).then(({documents:y})=>x.view.ru(y,A)));const I=E&&E.targetChanges.get(x.targetId),k=E&&E.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(A,v.isPrimaryClient,I,k);return fS(v,x.targetId,O.au),O.snapshot}(e,f,p,m);const a=await rS(e.localStore,t,!0),s=new l$(t,a.Qs),o=s.ru(a.documents),l=eu.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),c=s.applyChanges(o,e.isPrimaryClient,l);fS(e,r,c.au);const u=new c$(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function m$(e,t,r){const n=de(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!tp(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await iy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Pw(n.remoteStore,i.targetId),oy(n,i.targetId)}).catch(qo)):(oy(n,i.targetId),await iy(n.localStore,i.targetId,!0))}async function g$(e,t){const r=de(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pw(r.remoteStore,n.targetId))}async function v$(e,t,r){const n=S$(e);try{const i=await function(s,o){const l=de(s),c=We.now(),u=o.reduce((m,g)=>m.add(g.key),xe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=_i(),v=xe();return l.Ns.getEntries(m,u).next(x=>{g=x,g.forEach((b,E)=>{E.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{f=x;const b=[];for(const E of o){const A=kF(E,f.get(E.key).overlayedDocument);A!=null&&b.push(new Ia(E.key,A,vj(A.value.mapValue),un.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)}).next(x=>{p=x;const b=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:p.batchId,changes:Cj(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new nt(we)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,i.batchId,r),await ru(n,i.changes),await lp(n.remoteStore)}catch(i){const a=Nw(i,"Failed to persist write");r.reject(a)}}async function lN(e,t){const r=de(e);try{const n=await j6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ce(s.hu,14607):i.removedDocuments.size>0&&(Ce(s.hu,42227),s.hu=!1))}),await ru(r,n,t)}catch(n){await qo(n)}}function dS(e,t,r){const n=de(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=de(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.Sa)p.va(o)&&(c=!0)}),c&&Rw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function y$(e,t,r){const n=de(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new nt(ie.comparator);s=s.insert(a,cr.newNoDocument(a,ce.min()));const o=xe().add(a),l=new ap(ce.min(),new Map,new nt(we),s,o);await lN(n,l),n.du=n.du.remove(a),n.Au.delete(t),Lw(n)}else await iy(n.localStore,t,!1).then(()=>oy(n,t,r)).catch(qo)}async function w$(e,t){const r=de(e),n=t.batch.batchId;try{const i=await I6(r.localStore,t);uN(r,n,null),cN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ru(r,i)}catch(i){await qo(i)}}async function x$(e,t,r){const n=de(e);try{const i=await function(s,o){const l=de(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Ce(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);uN(n,t,r),cN(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await ru(n,i)}catch(i){await qo(i)}}function cN(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function uN(e,t,r){const n=de(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function oy(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||dN(e,n)})}function dN(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(Pw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),Lw(e))}function fS(e,t,r){for(const n of r)n instanceof aN?(e.Ru.addReference(n.key,t),b$(e,n)):n instanceof sN?(X(Mw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||dN(e,n.key)):oe(19791,{wu:n})}function b$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(Mw,"New document in limbo: "+r),e.Eu.add(n),Lw(e))}function Lw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie($e.fromString(t)),n=e.fu.next();e.Au.set(n,new u$(r)),e.du=e.du.insert(r,n),Jj(e.remoteStore,new ta(qn(ep(r.path)),n,"TargetPurposeLimboResolution",Xh.ce))}}async function ru(e,t,r){const n=de(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Sw.As(l.targetId,c);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,c){const u=de(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,p=>$.forEach(p.Es,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$.forEach(p.ds,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Ko(f))throw f;X(Aw,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.Ms.get(p),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(p,v)}}}(n.localStore,a))}async function _$(e,t){const r=de(e);if(!r.currentUser.isEqual(t)){X(Mw,"User change. New user:",t.toKey());const n=await Qj(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await ru(r,n.Ls)}}function E$(e,t){const r=de(e),n=r.Au.get(t);if(n&&n.hu)return xe().add(n.key);{let i=xe();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function fN(e){const t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y$.bind(null,t),t.Pu.H_=s$.bind(null,t.eventManager),t.Pu.yu=o$.bind(null,t.eventManager),t}function S$(e){const t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x$.bind(null,t),t}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return C6(this.persistence,new A6,t.initialUser,this.serializer)}Cu(t){return new Gj(Ew.mi,this.serializer)}Du(t){return new D6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class A$ extends Vf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ce(this.persistence.referenceDelegate instanceof Mf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new u6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new Gj(n=>Mf.mi(n,r),this.serializer)}}class ly{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>dS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=_$.bind(null,this.syncEngine),await n$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new a$}()}createDatastore(t){const r=sp(t.databaseInfo.databaseId),n=function(a){return new $6(a)}(t.databaseInfo);return function(a,s,o,l){return new q6(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new W6(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>dS(this.syncEngine,r,0),function(){return aS.v()?new aS:new M6}())}createSyncEngine(t,r){return function(i,a,s,o,l,c,u){const f=new d$(i,a,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=de(i);X(fs,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ly.provider={build:()=>new ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class P${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=or.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{X(_a,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X(_a,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Nw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function _g(e,t){e.asyncQueue.verifyOperationInProgress(),X(_a,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Qj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await T$(e);X(_a,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>oS(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>oS(t.remoteStore,i)),e._onlineComponents=t}async function T$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(_a,"Using user provided OfflineComponentProvider");try{await _g(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;_o("Error using user provided cache. Falling back to memory cache: "+r),await _g(e,new Vf)}}else X(_a,"Using default OfflineComponentProvider"),await _g(e,new A$(void 0));return e._offlineComponents}async function hN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(_a,"Using user provided OnlineComponentProvider"),await hS(e,e._uninitializedComponentsProvider._online)):(X(_a,"Using default OnlineComponentProvider"),await hS(e,new ly))),e._onlineComponents}function C$(e){return hN(e).then(t=>t.syncEngine)}async function Ff(e){const t=await hN(e),r=t.eventManager;return r.onListen=f$.bind(null,t.syncEngine),r.onUnlisten=m$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=h$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=g$.bind(null,t.syncEngine),r}function I$(e,t,r={}){const n=new hi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new Vw({next:p=>{u.Nu(),s.enqueueAndForget(()=>Ow(a,f));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Dw(ep(o.path),u,{includeMetadataChanges:!0,qa:!0});return kw(a,f)}(await Ff(e),e.asyncQueue,t,r,n)),n.promise}function j$(e,t,r={}){const n=new hi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new Vw({next:p=>{u.Nu(),s.enqueueAndForget(()=>Ow(a,f)),p.fromCache&&l.source==="server"?c.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Dw(o,u,{includeMetadataChanges:!0,qa:!0});return kw(a,f)}(await Ff(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="firestore.googleapis.com",mS=!0;class gS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mN,this.ssl=mS}else this.host=t.host,this.ssl=t.ssl??mS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Hj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<l6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pN(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cp{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new M3;switch(n.type){case"firstParty":return new $3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=pS.get(r);n&&(X("ComponentProvider","Removing Datastore"),pS.delete(r),n.terminate())}(this),Promise.resolve()}}function N$(e,t,r,n={}){var c;e=Rr(e,cp);const i=lw(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(d4(`https://${o}`),m4("Firestore",!0)),a.host!==mN&&a.host!==o&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!Af(l,s)&&(e._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=or.MOCK_USER;else{u=f4(n.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new or(p)}e._authCredentials=new L3(new aj(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new As(this.firestore,t,this._query)}}class lt{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new lt(this.firestore,t,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Xc(r,lt._jsonSchema))return new lt(t,n||null,new ie($e.fromString(r.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:xt("string",lt._jsonSchemaVersion),referencePath:xt("string")};class ha extends As{constructor(t,r,n){super(t,r,ep(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new lt(this.firestore,null,new ie(t))}withConverter(t){return new ha(this.firestore,t,this._path)}}function Zr(e,t,...r){if(e=Yn(e),sj("collection","path",t),e instanceof cp){const n=$e.fromString(t,...r);return I1(n),new ha(e,null,n)}{if(!(e instanceof lt||e instanceof ha))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($e.fromString(t,...r));return I1(n),new ha(e.firestore,null,n)}}function hr(e,t,...r){if(e=Yn(e),arguments.length===1&&(t=dw.newId()),sj("doc","path",t),e instanceof cp){const n=$e.fromString(t,...r);return C1(n),new lt(e,null,new ie(n))}{if(!(e instanceof lt||e instanceof ha))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($e.fromString(t,...r));return C1(n),new lt(e.firestore,e instanceof ha?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="AsyncQueue";class yS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xj(this,"async_queue_retry"),this._c=()=>{const n=bg();n&&X(vS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=bg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=bg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;X(vS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",wS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=jw.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:wS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function wS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class Ei extends cp{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new yS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yS(t),this._firestoreClient=void 0,await t}}}function k$(e,t){const r=typeof e=="object"?e:A3(),n=typeof e=="string"?e:If,i=x3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=c4("firestore");a&&N$(i,...a)}return i}function up(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||O$(e),e._firestoreClient}function O$(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,c,u){return new nF(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new P$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sn(rr.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new sn(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xc(t,sn._jsonSchema))return sn.fromBase64String(t.bytes)}}sn._jsonSchemaVersion="firestore/bytes/1.0",sn._jsonSchema={type:xt("string",sn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wn._jsonSchemaVersion}}static fromJSON(t){if(Xc(t,Wn._jsonSchema))return new Wn(t.latitude,t.longitude)}}Wn._jsonSchemaVersion="firestore/geoPoint/1.0",Wn._jsonSchema={type:xt("string",Wn._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xc(t,Hn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Hn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hn._jsonSchemaVersion="firestore/vectorValue/1.0",Hn._jsonSchema={type:xt("string",Hn._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=/^__.*__$/;class D${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Ia(t,this.data,this.fieldMask,r,this.fieldTransforms):new Jc(t,this.data,r,this.fieldTransforms)}}class gN{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Ia(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function vN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:e})}}class $w{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $w({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $f(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(vN(this.Ac)&&R$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class M${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||sp(t)}Cc(t,r,n,i=!1){return new $w({Ac:t,methodName:r,Dc:n,path:Zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(e){const t=e._freezeSettings(),r=sp(e._databaseId);return new M$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function yN(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);zw("Data must be an object, but it was:",s,n);const o=wN(n,s);let l,c;if(a.merge)l=new qr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const p=cy(t,f,r);if(!s.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);bN(u,p)||u.push(p)}l=new qr(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new D$(new Cr(o),l,c)}class nu extends Fw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nu}}function L$(e,t,r,n){const i=e.Cc(1,t,r);zw("Data must be an object, but it was:",i,n);const a=[],s=Cr.empty();Ca(n,(l,c)=>{const u=Uw(t,l,r);c=Yn(c);const f=i.yc(u);if(c instanceof nu)a.push(u);else{const p=iu(c,f);p!=null&&(a.push(u),s.set(u,p))}});const o=new qr(a);return new gN(s,o,i.fieldTransforms)}function V$(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[cy(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(cy(t,a[p])),l.push(a[p+1]);const c=[],u=Cr.empty();for(let p=o.length-1;p>=0;--p)if(!bN(c,o[p])){const m=o[p];let g=l[p];g=Yn(g);const v=s.yc(m);if(g instanceof nu)c.push(m);else{const x=iu(g,v);x!=null&&(c.push(m),u.set(m,x))}}const f=new qr(c);return new gN(u,f,s.fieldTransforms)}function F$(e,t,r,n=!1){return iu(r,e.Cc(n?4:3,t))}function iu(e,t){if(xN(e=Yn(e)))return zw("Unsupported field value:",t,e),wN(e,t);if(e instanceof Fw)return function(n,i){if(!vN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=iu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=Yn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return PF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=We.fromDate(n);return{timestampValue:Df(i.serializer,a)}}if(n instanceof We){const a=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Df(i.serializer,a)}}if(n instanceof Wn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sn)return{bytesValue:$j(i.serializer,n._byteString)};if(n instanceof lt){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Hn)return function(s,o){return{mapValue:{fields:{[mj]:{stringValue:gj},[jf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return vw(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Yh(n)}`)}(e,t)}function wN(e,t){const r={};return cj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(e,(n,i)=>{const a=iu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function xN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof We||e instanceof Wn||e instanceof sn||e instanceof lt||e instanceof Fw||e instanceof Hn)}function zw(e,t,r){if(!xN(r)||!oj(r)){const n=Yh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function cy(e,t,r){if((t=Yn(t))instanceof dp)return t._internalPath;if(typeof t=="string")return Uw(e,t);throw $f("Field path arguments must be of type string or ",e,!1,void 0,r)}const $$=new RegExp("[~\\*/\\[\\]]");function Uw(e,t,r){if(t.search($$)>=0)throw $f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new dp(...t.split("."))._internalPath}catch{throw $f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function $f(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function bN(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Bw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class z$ extends _N{data(){return super.data()}}function Bw(e,t){return typeof t=="string"?Uw(e,t):t instanceof dp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qw{}class U$ extends qw{}function B$(e,t,...r){let n=[];t instanceof qw&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof Kw).length,o=a.filter(l=>l instanceof hp).length;if(s>1||s>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class hp extends U${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new hp(t,r,n)}_apply(t){const r=this._parse(t);return SN(t._query,r),new As(t.firestore,t.converter,Zv(t._query,r))}_parse(t){const r=fp(t.firestore);return function(a,s,o,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){_S(f,u);const g=[];for(const v of f)g.push(bS(l,a,v));p={arrayValue:{values:g}}}else p=bS(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||_S(f,u),p=F$(o,s,f,u==="in"||u==="not-in");return wt.create(c,u,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function q$(e,t,r){const n=t,i=Bw("where",e);return hp._create(i,n,r)}class Kw extends qw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Kw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:In.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)SN(s,l),s=Zv(s,l)}(t._query,r),new As(t.firestore,t.converter,Zv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bS(e,t,r){if(typeof(r=Yn(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sj(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child($e.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return L1(e,new ie(n))}if(r instanceof lt)return L1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(r)}.`)}function _S(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SN(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class K${convertValue(t,r="none"){switch(xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw oe(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Ca(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[jf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>dt(s.doubleValue));return new Hn(r)}convertGeoPoint(t){return new Wn(dt(t.latitude),dt(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Jh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pc(t));default:return null}}convertTimestamp(t){const r=ya(t);return new We(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=$e.fromString(t);Ce(Wj(n),9688,{name:t});const i=new Tc(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||bi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class zl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ts extends _N{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Bw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=ts._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:xt("string",ts._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Hd extends ts{data(t={}){return super.data(t)}}class rs{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Hd(this._firestore,this._userDataWriter,n.key,n,new zl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Hd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Hd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:W$(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function W$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(e){e=Rr(e,lt);const t=Rr(e.firestore,Ei);return I$(up(t),e._key).then(r=>PN(t,e,r))}rs._jsonSchemaVersion="firestore/querySnapshot/1.0",rs._jsonSchema={type:xt("string",rs._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Hw extends K${constructor(t){super(),this.firestore=t}convertBytes(t){return new sn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new lt(this.firestore,null,r)}}function Ho(e){e=Rr(e,As);const t=Rr(e.firestore,Ei),r=up(t),n=new Hw(t);return EN(e._query),j$(r,e._query).then(i=>new rs(t,n,e,i))}function H$(e,t,r){e=Rr(e,lt);const n=Rr(e.firestore,Ei),i=AN(e.converter,t,r);return gp(n,[yN(fp(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,un.none())])}function hs(e,t,r,...n){e=Rr(e,lt);const i=Rr(e.firestore,Ei),a=fp(i);let s;return s=typeof(t=Yn(t))=="string"||t instanceof dp?V$(a,"updateDoc",e._key,t,r,n):L$(a,"updateDoc",e._key,t),gp(i,[s.toMutation(e._key,un.exists(!0))])}function pp(e){return gp(Rr(e.firestore,Ei),[new yw(e._key,un.none())])}function mp(e,t){const r=Rr(e.firestore,Ei),n=hr(e),i=AN(e.converter,t);return gp(r,[yN(fp(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then(()=>n)}function Gw(e,...t){var l,c,u;e=Yn(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||xS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(xS(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(c=f.error)==null?void 0:c.bind(f),t[n+2]=(u=f.complete)==null?void 0:u.bind(f)}let a,s,o;if(e instanceof lt)s=Rr(e.firestore,Ei),o=ep(e._key.path),a={next:f=>{t[n]&&t[n](PN(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=Rr(e,As);s=Rr(f.firestore,Ei),o=f._query;const p=new Hw(s);a={next:m=>{t[n]&&t[n](new rs(s,p,f,m))},error:t[n+1],complete:t[n+2]},EN(e._query)}return function(p,m,g,v){const x=new Vw(v),b=new Dw(m,x,g);return p.asyncQueue.enqueueAndForget(async()=>kw(await Ff(p),b)),()=>{x.Nu(),p.asyncQueue.enqueueAndForget(async()=>Ow(await Ff(p),b))}}(up(s),o,i,a)}function gp(e,t){return function(n,i){const a=new hi;return n.asyncQueue.enqueueAndForget(async()=>v$(await C$(n),i,a)),a.promise}(up(e),t)}function PN(e,t,r){const n=r.docs.get(t._key),i=new Hw(e);return new ts(e,i,t._key,n,new zl(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return new nu("deleteField")}(function(t,r=!0){(function(i){Bo=i})(S3),Tf(new Ec("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Ei(new V3(n.getProvider("auth-internal")),new z3(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),co(S1,A1,t),co(S1,A1,"esm2020")})();var Q$="firebase",Y$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(Q$,Y$,"app");const X$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},Z$=QI(X$),ke=k$(Z$),TN=async()=>(await Ho(Zr(ke,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),ii=async e=>{const t=hr(ke,"incidents",e),r=await Ww(t);return r.exists()?{...r.data(),id:r.id}:null},uy=async e=>(await mp(Zr(ke,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,Fr=async(e,t)=>{const r=hr(ke,"incidents",e);await hs(r,{...t})},J$=async e=>{await pp(hr(ke,"incidents",e))},vp=async()=>(await Ho(Zr(ke,"users"))).docs.map(t=>({...t.data(),id:t.id})),zf=async e=>{const t=B$(Zr(ke,"users"),q$("username","==",e)),r=await Ho(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},Qw=async e=>(await mp(Zr(ke,"users"),e)).id,Yw=async(e,t)=>{const r=hr(ke,"users",e);await hs(r,{...t})},e5=async e=>{await pp(hr(ke,"users",e))},t5=async(e,t)=>{const r=hr(ke,"users",e);await hs(r,{preferences:t})},r5=async e=>{const r=(await vp()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},n5=async e=>{const t=await ii(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await Fr(e.incidentId,{comments:n}),r.id},i5=async(e,t)=>{var i;const r=await ii(e);if(!r)throw new Error("Incident not found");const n=(i=r.comments)==null?void 0:i.filter(a=>a.id!==t);await Fr(e,{comments:n})},a5=async(e,t,r,n)=>{var s;const i=await ii(e);if(!i)throw new Error("Incident not found");const a=(s=i.comments)==null?void 0:s.map(o=>o.id===t?{...o,author:r,text:n}:o);await Fr(e,{comments:a})},Ul=async()=>(await Ho(Zr(ke,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),CN=async e=>(await mp(Zr(ke,"automationRules"),e)).id,s5=async(e,t)=>{const r=hr(ke,"automationRules",e);await hs(r,{...t})},o5=async e=>{await pp(hr(ke,"automationRules",e))},IN=async()=>{const e=hr(ke,"settings","app"),t=await Ww(e);return t.exists()?t.data():null},jN=async e=>{const t=hr(ke,"settings","app");await H$(t,e,{merge:!0})},l5=e=>Gw(Zr(ke,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),c5=e=>Gw(Zr(ke,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),dy=async()=>(await Ho(Zr(ke,"roles"))).docs.map(t=>({...t.data(),id:t.id})),yp=async e=>{const t=hr(ke,"roles",e),r=await Ww(t);return r.exists()?{...r.data(),id:r.id}:null},NN=async e=>(await mp(Zr(ke,"roles"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,u5=async(e,t)=>{const r=hr(ke,"roles",e);await hs(r,{...t})},d5=async e=>{await pp(hr(ke,"roles",e))},kN=e=>Gw(Zr(ke,"roles"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),f5=async()=>{let t=(await dy()).find(a=>a.name==="Administrador");if(!t){const a=await NN({name:"Administrador",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!0,viewAll:!0},users:{viewOwn:!0,editOwn:!0,viewAll:!0,create:!0,edit:!0,delete:!0},roles:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0},automation:{view:!0,create:!0,edit:!0,delete:!0}}});t=(await dy()).find(o=>o.id===a)}const n=(await vp()).find(a=>a.username==="admin");n?n&&(!n.roleId||n.roleId!==t.id)&&(await Yw(n.id,{roleId:t.id}),console.log(" Usuario admin actualizado con rol de Administrador")):await Qw({username:"admin",password:"admin123",name:"Administrador",roleId:t.id,avatar:""}),await IN()||await jN({theme:"light",notifications:!0,autoAssign:!1,language:"es"}),await h5()},h5=async()=>{try{const e=Zr(ke,"users"),t=await Ho(e),n=(await dy()).find(s=>s.name==="Administrador");if(!n){console.log(" Rol Administrador no encontrado para migracin");return}const i=[];let a=0;t.forEach(s=>{const o=s.data();if(o.role&&!o.roleId){a++,console.log(` Migrando usuario "${o.username}" de role: "${o.role}" a roleId`);let l=n.id;o.role==="admin"||o.username==="admin"?console.log(`    Asignando rol "Administrador" (${l})`):console.log(`    Asignando rol "Administrador" por defecto (${l})`);const c=hr(ke,"users",s.id);i.push(hs(c,{roleId:l,role:G$()}))}else if(!o.roleId&&!o.role){a++,console.log(` Usuario "${o.username}" sin rol, asignando rol "Administrador"`);const l=hr(ke,"users",s.id);i.push(hs(l,{roleId:n.id}))}}),i.length>0?(await Promise.all(i),console.log(` Migracin completada: ${a} usuarios actualizados al nuevo sistema de roles`)):console.log(" Todos los usuarios ya tienen roleId asignado")}catch(e){console.error(" Error en migracin de usuarios:",e)}},p5=({onAdd:e})=>{const[t,r]=w.useState("MOV-"),[n,i]=w.useState(""),[a,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[f,p]=w.useState(""),[m,g]=w.useState(""),[v,x]=w.useState(new Date().toISOString().split("T")[0]),[b,E]=w.useState("abierta"),[A,I]=w.useState("media"),[k,O]=w.useState("correctivo"),y=S=>{if(S.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const C={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:o.trim(),relevante:c.trim(),realizado:f.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:v,status:b,priority:A,type:k,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(C),r("MOV-"),i(""),s(""),l(""),u(""),p(""),g(""),x(new Date().toISOString().split("T")[0]),E("abierta"),I("media"),O("correctivo")};return d.jsx("div",{className:"incident-form-container",children:d.jsxs("form",{className:"incident-form",onSubmit:y,children:[d.jsx("h2",{children:" Crear Nueva Incidencia"}),d.jsxs("div",{className:"form-section",children:[d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),d.jsx("input",{id:"name",type:"text",value:t,onChange:S=>r(S.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",type:"text",value:n,onChange:S=>i(S.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin"}),d.jsx("textarea",{id:"description",value:a,onChange:S=>s(S.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",value:c,onChange:S=>u(S.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",value:f,onChange:S=>p(S.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",value:m,onChange:S=>g(S.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Prioridad"}),d.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(S=>d.jsxs("button",{type:"button",className:`chip-option priority-${S} ${A===S?"selected":""}`,onClick:()=>I(S),children:[S==="baja"&&" Baja",S==="media"&&" Media",S==="alta"&&" Alta",S==="crtica"&&" Crtica"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Estado"}),d.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${b===S?"selected":""}`,onClick:()=>E(S),children:[S==="abierta"&&"Abierta",S==="en-progreso"&&"En Progreso",S==="puesto-en-test"&&"Puesto en Test",S==="verificado-en-test"&&"Verificado en Test",S==="resuelta"&&"Resuelta",S==="cerrada"&&"Cerrada"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Tipo"}),d.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${k===S?"selected":""}`,onClick:()=>O(S),children:[S==="correctivo"&&" Correctivo",S==="evolutivo"&&" Evolutivo",S==="tarea"&&" Tarea"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Informacin Adicional"}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"creationDate",type:"date",value:v,onChange:S=>x(S.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"contactUser",type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Nombre del contacto"})]})]})]}),d.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},m5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=w.useState(e.name),[a,s]=w.useState(e.contactUser||""),[o,l]=w.useState(e.prQA2||""),[c,u]=w.useState(e.prMain||""),[f,p]=w.useState(e.creationDate||""),[m,g]=w.useState(e.status),[v,x]=w.useState(e.priority),[b,E]=w.useState(e.type),A=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:o.trim(),prMain:c.trim(),creationDate:f,status:m,priority:v,type:b})};return d.jsx("div",{className:"incident-edit-overlay",children:d.jsxs("form",{className:"incident-edit-form",onSubmit:A,children:[d.jsx("h2",{children:"Editar Incidencia"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),d.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>s(I.target.value),placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),d.jsx("input",{id:"edit-prQA2",type:"text",value:o,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),d.jsx("input",{id:"edit-prMain",type:"text",value:c,onChange:I=>u(I.target.value),placeholder:"ID de PR para MAIN"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"edit-creationDate",type:"date",value:f,onChange:I=>p(I.target.value)})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-status",children:"Estado"}),d.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),d.jsxs("select",{id:"edit-priority",value:v,onChange:I=>x(I.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),d.jsxs("select",{id:"edit-type",value:b,onChange:I=>E(I.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function ON(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ON(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ON(e))&&(n&&(n+=" "),n+=t);return n}var g5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xw(e){if(typeof e!="string")return!1;var t=g5;return t.includes(e)}var v5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y5=new Set(v5);function RN(e){return typeof e!="string"?!1:y5.has(e)}function DN(e){return typeof e=="string"&&e.startsWith("data-")}function jn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RN(r)||DN(r))&&(t[r]=e[r]);return t}function Nc(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return jn(t)}return typeof e=="object"&&!Array.isArray(e)?jn(e):null}function hn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RN(r)||DN(r)||Xw(r))&&(t[r]=e[r]);return t}var w5=["children","width","height","viewBox","className","style","title","desc"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function x5(e,t){if(e==null)return{};var r,n,i=b5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zw=w.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=x5(e,w5),f=a||{width:n,height:i,x:0,y:0},p=Ne("recharts-surface",s);return w.createElement("svg",fy({},hn(u),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,l),w.createElement("desc",null,c),r)}),_5=["children","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function E5(e,t){if(e==null)return{};var r,n,i=S5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function S5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xr=w.forwardRef((e,t)=>{var{children:r,className:n}=e,i=E5(e,_5),a=Ne("recharts-layer",n);return w.createElement("g",hy({className:a},hn(i),{ref:t}),r)}),MN=w.createContext(null),A5=()=>w.useContext(MN);function Fe(e){return function(){return e}}const LN=Math.cos,Uf=Math.sin,On=Math.sqrt,Bf=Math.PI,wp=2*Bf,py=Math.PI,my=2*py,Ba=1e-6,P5=my-Ba;function VN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function T5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VN;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class C5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VN:T5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ba)if(!(Math.abs(f*l-c*u)>Ba)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,v=l*l+c*c,x=m*m+g*g,b=Math.sqrt(v),E=Math.sqrt(p),A=a*Math.tan((py-Math.acos((v+p-x)/(2*b*E)))/2),I=A/E,k=A/b;Math.abs(I-1)>Ba&&this._append`L${t+I*u},${r+I*f}`,this._append`A${a},${a},0,0,${+(f*m>u*g)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ba||Math.abs(this._y1-u)>Ba)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%my+my),p>P5?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Ba&&this._append`A${n},${n},0,${+(p>=py)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Jw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new C5(t)}function ex(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FN(e){this._context=e}FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xp(e){return new FN(e)}function $N(e){return e[0]}function zN(e){return e[1]}function UN(e,t){var r=Fe(!0),n=null,i=xp,a=null,s=Jw(o);e=typeof e=="function"?e:e===void 0?$N:Fe(e),t=typeof t=="function"?t:t===void 0?zN:Fe(t);function o(l){var c,u=(l=ex(l)).length,f,p=!1,m;for(n==null&&(a=i(m=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fe(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function hd(e,t,r){var n=null,i=Fe(!0),a=null,s=xp,o=null,l=Jw(c);e=typeof e=="function"?e:e===void 0?$N:Fe(+e),t=typeof t=="function"?t:Fe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?zN:Fe(+r);function c(f){var p,m,g,v=(f=ex(f)).length,x,b=!1,E,A=new Array(v),I=new Array(v);for(a==null&&(o=s(E=l())),p=0;p<=v;++p){if(!(p<v&&i(x=f[p],p,f))===b)if(b=!b)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(A[g],I[g]);o.lineEnd(),o.areaEnd()}b&&(A[p]=+e(x,p,f),I[p]=+t(x,p,f),o.point(n?+n(x,p,f):A[p],r?+r(x,p,f):I[p]))}if(E)return o=null,E+""||null}function u(){return UN().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fe(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fe(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fe(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class BN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function I5(e){return new BN(e,!0)}function j5(e){return new BN(e,!1)}const tx={draw(e,t){const r=On(t/Bf);e.moveTo(r,0),e.arc(0,0,r,0,wp)}},N5={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qN=On(1/3),k5=qN*2,O5={draw(e,t){const r=On(t/k5),n=r*qN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},R5={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},D5=.8908130915292852,KN=Uf(Bf/10)/Uf(7*Bf/10),M5=Uf(wp/10)*KN,L5=-LN(wp/10)*KN,V5={draw(e,t){const r=On(t*D5),n=M5*r,i=L5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=wp*a/5,o=LN(s),l=Uf(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Eg=On(3),F5={draw(e,t){const r=-On(t/(Eg*3));e.moveTo(0,r*2),e.lineTo(-Eg*r,-r),e.lineTo(Eg*r,-r),e.closePath()}},Jr=-.5,en=On(3)/2,gy=1/On(12),$5=(gy/2+1)*3,z5={draw(e,t){const r=On(t/$5),n=r/2,i=r*gy,a=n,s=r*gy+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Jr*n-en*i,en*n+Jr*i),e.lineTo(Jr*a-en*s,en*a+Jr*s),e.lineTo(Jr*o-en*l,en*o+Jr*l),e.lineTo(Jr*n+en*i,Jr*i-en*n),e.lineTo(Jr*a+en*s,Jr*s-en*a),e.lineTo(Jr*o+en*l,Jr*l-en*o),e.closePath()}};function U5(e,t){let r=null,n=Jw(i);e=typeof e=="function"?e:Fe(e||tx),t=typeof t=="function"?t:Fe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function qf(){}function Kf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WN(e){this._context=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5(e){return new WN(e)}function HN(e){this._context=e}HN.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q5(e){return new HN(e)}function GN(e){this._context=e}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K5(e){return new GN(e)}function QN(e){this._context=e}QN.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function W5(e){return new QN(e)}function ES(e){return e<0?-1:1}function SS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(ES(a)+ES(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function AS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Sg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sg(this,this._t0,AS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Sg(this,AS(this,r=SS(this,e,t)),r);break;default:Sg(this,this._t0,r=SS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function YN(e){this._context=new XN(e)}(YN.prototype=Object.create(Wf.prototype)).point=function(e,t){Wf.prototype.point.call(this,t,e)};function XN(e){this._context=e}XN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function H5(e){return new Wf(e)}function G5(e){return new YN(e)}function ZN(e){this._context=e}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PS(e),i=PS(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Q5(e){return new ZN(e)}function bp(e,t){this._context=e,this._t=t}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Y5(e){return new bp(e,.5)}function X5(e){return new bp(e,0)}function Z5(e){return new bp(e,1)}function Co(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function J5(e,t){return e[t]}function ez(e){const t=[];return t.key=e,t}function tz(){var e=Fe([]),t=vy,r=Co,n=J5;function i(a){var s=Array.from(e.apply(this,arguments),ez),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=ex(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Fe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?vy:typeof a=="function"?a:Fe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Co,i):r},i}function rz(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Co(e,t)}}function nz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Co(e,t)}}function iz(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,p=u[n-1][1]||0,m=(f-p)/2,g=0;g<o;++g){var v=e[t[g]],x=v[n][1]||0,b=v[n-1][1]||0;m+=x-b}l+=f,c+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Co(e,t)}}var _p={},JN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(JN);var rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(rx);var Ep={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ep);var Sp={},ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek,r=Ep;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Sp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JN,r=rx,n=Ep,i=Sp;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=a})(_p);var az=_p.get;const ps=Ni(az);var Ut=e=>e===0?0:e>0?1:-1,Nn=e=>typeof e=="number"&&e!=+e,Si=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!Nn(e),Zn=e=>re(e)||typeof e=="string",sz=0,kc=e=>{var t=++sz;return"".concat(e||"").concat(t)},dr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(Si(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Nn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},tk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Pt(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function oz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ps(n,t))===r)}var qt=e=>e===null||typeof e>"u",au=e=>qt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lz(e){return e!=null}function su(){}var cz=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uz(e,t,r){return(t=dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hz(e,t){if(e==null)return{};var r,n,i=pz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rk={symbolCircle:tx,symbolCross:N5,symbolDiamond:O5,symbolSquare:R5,symbolStar:V5,symbolTriangle:F5,symbolWye:z5},mz=Math.PI/180,gz=e=>{var t="symbol".concat(au(e));return rk[t]||tx},vz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*mz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yz=(e,t)=>{rk["symbol".concat(au(e))]=t},nx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=hz(e,cz),a=CS(CS({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=gz(s),m=U5().type(p).size(vz(r,n,s)),g=m();if(g!==null)return g},{className:l,cx:c,cy:u}=a,f=hn(a);return re(c)&&re(u)&&re(r)?w.createElement("path",yy({},f,{className:Ne("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};nx.registerSymbol=yz;var nk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,wz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Xw(i)&&(n[i]=a=>r[i](r,a))}),n},xz=(e,t,r)=>n=>(e(t,r,n),null),ou=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Xw(i)&&typeof a=="function"&&(n||(n={}),n[i]=xz(a,t,r))}),n};function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kt(e,t){var r=bz({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(null,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Az(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){Pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pz(e,t,r){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rn=32,Iz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function jz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=rn/2,a=rn/6,s=rn/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:rn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(rn,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(rn/8,"h").concat(rn,"v").concat(rn*3/4,"h").concat(-rn,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=Az({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(nx,{fill:o,cx:i,cy:i,size:rn,sizeType:"diameter",type:l})}function Nz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:rn,height:rn},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var p=u.formatter||i,m=Ne({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?a:u.color,v=p?p(u.value,u,f):u.value;return w.createElement("li",Hf({className:m,style:l,key:"legend-item-".concat(f)},ou(e,u,f)),w.createElement(Zw,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},w.createElement(jz,{data:u,iconType:s,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var kz=e=>{var t=Kt(e,Iz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(Nz,Hf({},t,{payload:r})))},ik={},ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(ak);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ix);var sk={},Ap={},ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ap);var lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ap,r=lk;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(sk);var ck={},uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_p;function r(n){return function(i){return t.get(i,n)}}e.property=r})(uk);var dk={},ax={},fk={},sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(sx);var ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ox);var lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(lx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx,r=ox,n=lx;function i(u,f,p){return typeof p!="function"?i(u,f,()=>{}):a(u,f,function m(g,v,x,b,E,A){const I=p(g,v,x,b,E,A);return I!==void 0?!!I:a(g,v,m,A)},new Map)}function a(u,f,p,m){if(f===u)return!0;switch(typeof f){case"object":return s(u,f,p,m);case"function":return Object.keys(f).length>0?a(u,{...f},p,m):n.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.eq(u,f)}}function s(u,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(u,f,p,m);if(f instanceof Map)return o(u,f,p,m);if(f instanceof Set)return c(u,f,p,m);const g=Object.keys(f);if(u==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===u;m==null||m.set(f,u);try{for(let v=0;v<g.length;v++){const x=g[v];if(!r.isPrimitive(u)&&!(x in u)||f[x]===void 0&&u[x]!==void 0||f[x]===null&&u[x]!==null||!p(u[x],f[x],x,u,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(u,f,p,m){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,v]of f.entries()){const x=u.get(g);if(p(x,v,g,u,f,m)===!1)return!1}return!0}function l(u,f,p,m){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let v=0;v<f.length;v++){const x=f[v];let b=!1;for(let E=0;E<u.length;E++){if(g.has(E))continue;const A=u[E];let I=!1;if(p(A,x,v,u,f,m)&&(I=!0),I){g.add(E),b=!0;break}}if(!b)return!1}return!0}function c(u,f,p,m){return f.size===0?!0:u instanceof Set?l([...u],[...f],p,m):!1}e.isMatchWith=i,e.isSetMatch=c})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(ax);var hk={},cx={},pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pk);var ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ux);var dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",I="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",y="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=y,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=b})(dx);var mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk,r=ux,n=dx,i=ox,a=mk;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,m=new Map,g=void 0){const v=g==null?void 0:g(u,f,p,m);if(v!==void 0)return v;if(i.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const x=new Array(u.length);m.set(u,x);for(let b=0;b<u.length;b++)x[b]=o(u[b],b,p,m,g);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;m.set(u,x);for(const[b,E]of u)x.set(b,o(E,b,p,m,g));return x}if(u instanceof Set){const x=new Set;m.set(u,x);for(const b of u)x.add(o(b,void 0,p,m,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,x);for(let b=0;b<u.length;b++)x[b]=o(u[b],b,p,m,g);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,x),l(x,u,p,m,g),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return m.set(u,x),l(x,u,p,m,g),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return m.set(u,x),l(x,u,p,m,g),x}if(u instanceof Error){const x=new u.constructor;return m.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,p,m,g),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return m.set(u,x),l(x,u,p,m,g),x}if(u instanceof Number){const x=new Number(u.valueOf());return m.set(u,x),l(x,u,p,m,g),x}if(u instanceof String){const x=new String(u.valueOf());return m.set(u,x),l(x,u,p,m,g),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return m.set(u,x),l(x,u,p,m,g),x}return u}function l(u,f,p=u,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const b=v[x],E=Object.getOwnPropertyDescriptor(u,b);(E==null||E.writable)&&(u[b]=o(f[b],b,p,m,g))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(cx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=hk;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(dk);var gk={},vk={},yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx,r=dx;function n(i,a){return t.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(vk);var wk={},fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(fx);var xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx,r=fx,n=xk,i=Sp;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=Ep,n=vk,i=_p,a=wk;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=uk,n=dk,i=gk;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ak,r=ix,n=sk,i=ck;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(ik);var Oz=ik.uniqBy;const NS=Ni(Oz);function bk(e,t,r){return t===!0?NS(e,r):typeof t=="function"?NS(e,t):e}var _k={exports:{}},Ek={},Sk={exports:{}},Ak={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=w;function Rz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dz=typeof Object.is=="function"?Object.is:Rz,Mz=Io.useState,Lz=Io.useEffect,Vz=Io.useLayoutEffect,Fz=Io.useDebugValue;function $z(e,t){var r=t(),n=Mz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Vz(function(){i.value=r,i.getSnapshot=t,Ag(i)&&a({inst:i})},[e,r,t]),Lz(function(){return Ag(i)&&a({inst:i}),e(function(){Ag(i)&&a({inst:i})})},[e]),Fz(r),r}function Ag(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dz(e,r)}catch{return!0}}function zz(e,t){return t()}var Uz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zz:$z;Ak.useSyncExternalStore=Io.useSyncExternalStore!==void 0?Io.useSyncExternalStore:Uz;Sk.exports=Ak;var Bz=Sk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=w,qz=Bz;function Kz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wz=typeof Object.is=="function"?Object.is:Kz,Hz=qz.useSyncExternalStore,Gz=Pp.useRef,Qz=Pp.useEffect,Yz=Pp.useMemo,Xz=Pp.useDebugValue;Ek.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Gz(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Yz(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,Wz(u,m))return g;var v=n(m);return i!==void 0&&i(g,v)?(u=m,g):(u=m,f=v)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Hz(e,a[0],a[1]);return Qz(function(){s.hasValue=!0,s.value=o},[o]),Xz(o),o};_k.exports=Ek;var Zz=_k.exports,hx=w.createContext(null),Jz=e=>e,Ue=()=>{var e=w.useContext(hx);return e?e.store.dispatch:Jz},Gd=()=>{},e9=()=>Gd,t9=(e,t)=>e===t;function ee(e){var t=w.useContext(hx);return Zz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:e9,t?t.store.getState:Gd,t?t.store.getState:Gd,t?e:Gd,t9)}function r9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function n9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function i9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var kS=e=>Array.isArray(e)?e:[e];function a9(e){const t=Array.isArray(e[0])?e[0]:e;return i9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var o9=class{constructor(e){this.value=e}deref(){return this.value}},l9=typeof WeakRef<"u"?WeakRef:o9,c9=0,OS=1;function pd(){return{s:c9,v:void 0,o:null,p:null}}function Pk(e,t={}){let r=pd();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const x=v.get(g);x===void 0?(o=pd(),v.set(g,o)):o=x}else{let v=o.p;v===null&&(o.p=v=new Map);const x=v.get(g);x===void 0?(o=pd(),v.set(g,o)):o=x}}const c=o;let u;if(o.s===OS)u=o.v;else if(u=e.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,u)&&(u=p,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new l9(u):u}return c.s=OS,c.v=u,u}return s.clearCache=()=>{r=pd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function u9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),r9(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=Pk,argsMemoizeOptions:g=[]}=u,v=kS(p),x=kS(g),b=a9(i),E=f(function(){return a++,c.apply(null,arguments)},...v),A=m(function(){s++;const k=s9(b,arguments);return o=E.apply(null,k),o},...x);return Object.assign(A,{resultFunc:c,memoizedResultFunc:E,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=u9(Pk),d9=Object.assign((e,t=L)=>{n9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>d9}),Tk={},Ck={},Ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(Ik);var jk={},px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ik,r=jk,n=Sp;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,g)=>{let v=m;for(let x=0;x<g.length&&v!=null;++x)v=v[g[x]];return v},u=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:c(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?c(g,m):typeof g=="object"?g[m]:g,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(g=>u(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const x=t.compareValues(m.criteria[v],g.criteria[v],o[v]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=i})(Ck);var Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(r,0),i}e.flatten=t})(Nk);var mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx,r=Ap,n=sx,i=lx;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,r=Nk,n=mx;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(Tk);var f9=Tk.sortBy;const Tp=Ni(f9);var kk=e=>e.legend.settings,h9=e=>e.legend.size,p9=e=>e.legend.payload,m9=L([p9,kk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Tp(n,r):n});function g9(){return ee(m9)}var md=1;function Ok(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>md||Math.abs(s.left-t.left)>md||Math.abs(s.top-t.top)>md||Math.abs(s.width-t.width)>md)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v9=typeof Symbol=="function"&&Symbol.observable||"@@observable",RS=v9,Pg=()=>Math.random().toString(36).substring(7).split("").join("."),y9={INIT:`@@redux/INIT${Pg()}`,REPLACE:`@@redux/REPLACE${Pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pg()}`},Gf=y9;function gx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Rk(e,t,r){if(typeof e!="function")throw new Error(Qt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qt(1));return r(Rk)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function u(){if(l)throw new Error(Qt(3));return i}function f(x){if(typeof x!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));let b=!0;c();const E=o++;return s.set(E,x),function(){if(b){if(l)throw new Error(Qt(6));b=!1,c(),s.delete(E),a=null}}}function p(x){if(!gx(x))throw new Error(Qt(7));if(typeof x.type>"u")throw new Error(Qt(8));if(typeof x.type!="string")throw new Error(Qt(17));if(l)throw new Error(Qt(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(E=>{E()}),x}function m(x){if(typeof x!="function")throw new Error(Qt(10));n=x,p({type:Gf.REPLACE})}function g(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Qt(11));function E(){const I=b;I.next&&I.next(u())}return E(),{unsubscribe:x(E)}},[RS](){return this}}}return p({type:Gf.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:m,[RS]:g}}function w9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Gf.INIT})>"u")throw new Error(Qt(12));if(typeof r(void 0,{type:Gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function Dk(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{w9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],p=r[f],m=s[f],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Qt(14));c[f]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?c:s}}function Qf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function x9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Qt(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Qf(...o)(i.dispatch),{...i,dispatch:a}}}function Mk(e){return gx(e)&&"type"in e&&typeof e.type=="string"}var Lk=Symbol.for("immer-nothing"),DS=Symbol.for("immer-draftable"),br=Symbol.for("immer-state");function _n(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kr=Object,jo=Kr.getPrototypeOf,Yf="constructor",Cp="prototype",wy="configurable",Xf="enumerable",Qd="writable",Oc="value",Ai=e=>!!e&&!!e[br];function kn(e){var t;return e?Vk(e)||Ip(e)||!!e[DS]||!!((t=e[Yf])!=null&&t[DS])||jp(e)||Np(e):!1}var b9=Kr[Cp][Yf].toString(),MS=new WeakMap;function Vk(e){if(!e||!vx(e))return!1;const t=jo(e);if(t===null||t===Kr[Cp])return!0;const r=Kr.hasOwnProperty.call(t,Yf)&&t[Yf];if(r===Object)return!0;if(!Us(r))return!1;let n=MS.get(r);return n===void 0&&(n=Function.toString.call(r),MS.set(r,n)),n===b9}function lu(e,t,r=!0){cu(e)===0?(r?Reflect.ownKeys(e):Kr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function cu(e){const t=e[br];return t?t.type_:Ip(e)?1:jp(e)?2:Np(e)?3:0}var LS=(e,t,r=cu(e))=>r===2?e.has(t):Kr[Cp].hasOwnProperty.call(e,t),xy=(e,t,r=cu(e))=>r===2?e.get(t):e[t],Zf=(e,t,r,n=cu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function _9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ip=Array.isArray,jp=e=>e instanceof Map,Np=e=>e instanceof Set,vx=e=>typeof e=="object",Us=e=>typeof e=="function",Tg=e=>typeof e=="boolean",ai=e=>e.copy_||e.base_,yx=e=>e.modified_?e.copy_:e.base_;function by(e,t){if(jp(e))return new Map(e);if(Np(e))return new Set(e);if(Ip(e))return Array[Cp].slice.call(e);const r=Vk(e);if(t===!0||t==="class_only"&&!r){const n=Kr.getOwnPropertyDescriptors(e);delete n[br];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Qd]===!1&&(o[Qd]=!0,o[wy]=!0),(o.get||o.set)&&(n[s]={[wy]:!0,[Qd]:!0,[Xf]:o[Xf],[Oc]:e[s]})}return Kr.create(jo(e),n)}else{const n=jo(e);if(n!==null&&r)return{...e};const i=Kr.create(n);return Kr.assign(i,e)}}function wx(e,t=!1){return kp(e)||Ai(e)||!kn(e)||(cu(e)>1&&Kr.defineProperties(e,{set:gd,add:gd,clear:gd,delete:gd}),Kr.freeze(e),t&&lu(e,(r,n)=>{wx(n,!0)},!1)),e}function E9(){_n(2)}var gd={[Oc]:E9};function kp(e){return e===null||!vx(e)?!0:Kr.isFrozen(e)}var Jf="MapSet",_y="Patches",Fk={};function No(e){const t=Fk[e];return t||_n(0,e),t}var S9=e=>!!Fk[e],Rc,$k=()=>Rc,A9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:S9(Jf)?No(Jf):void 0});function VS(e,t){t&&(e.patchPlugin_=No(_y),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ey(e){Sy(e),e.drafts_.forEach(P9),e.drafts_=null}function Sy(e){e===Rc&&(Rc=e.parent_)}var FS=e=>Rc=A9(Rc,e);function P9(e){const t=e[br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $S(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[br].modified_&&(Ey(t),_n(4)),kn(e)&&(e=zS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[br].base_,e,t)}else e=zS(t,r);return T9(t,e,!0),Ey(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lk?e:void 0}function zS(e,t){if(kp(t))return t;const r=t[br];if(!r)return xx(t,e.handledSet_,e);if(!Op(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Bk(r,e)}return r.copy_}function T9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wx(t,r)}function zk(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Op=(e,t)=>e.scope_===t,C9=[];function Uk(e,t,r,n){const i=ai(e),a=e.type_;if(n!==void 0&&xy(i,n,a)===t){Zf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;lu(i,(l,c)=>{if(Ai(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const s=e.draftLocations_.get(t)??C9;for(const o of s)Zf(i,o,r,a)}function I9(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Op(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=yx(a);Uk(e,a.draft_??a,s,r),Bk(a,i)})}function Bk(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}zk(e)}}function j9(e,t,r){const{scope_:n}=e;if(Ai(r)){const i=r[br];Op(i,n)&&i.callbacks_.push(function(){Yd(e);const s=yx(i);Uk(e,r,s,t)})}else kn(r)&&e.callbacks_.push(function(){const a=ai(e);xy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&xx(xy(e.copy_,t,e.type_),n.handledSet_,n)})}function xx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ai(e)||t.has(e)||!kn(e)||kp(e)||(t.add(e),lu(e,(n,i)=>{if(Ai(i)){const a=i[br];if(Op(a,r)){const s=yx(a);Zf(e,n,s,e.type_),zk(a)}}else kn(i)&&xx(i,t,r)})),e}function N9(e,t){const r=Ip(e),n={type_:r?1:0,scope_:t?t.scope_:$k(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=bx;r&&(i=[n],a=Dc);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var bx={get(e,t){if(t===br)return e;const r=ai(e);if(!LS(r,t,e.type_))return k9(e,r,t);const n=r[t];if(e.finalized_||!kn(n))return n;if(n===Cg(e.base_,t)){Yd(e);const i=e.type_===1?+t:t,a=Py(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=qk(ai(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Cg(ai(e),t),a=i==null?void 0:i[br];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(_9(r,i)&&(r!==void 0||LS(e.base_,t,e.type_)))return!0;Yd(e),Ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),j9(e,t,r)),!0},deleteProperty(e,t){return Yd(e),Cg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ay(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Qd]:!0,[wy]:e.type_!==1||t!=="length",[Xf]:n[Xf],[Oc]:r[t]}},defineProperty(){_n(11)},getPrototypeOf(e){return jo(e.base_)},setPrototypeOf(){_n(12)}},Dc={};lu(bx,(e,t)=>{Dc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Dc.deleteProperty=function(e,t){return Dc.set.call(this,e,t,void 0)};Dc.set=function(e,t,r){return bx.set.call(this,e[0],t,r,e[0])};function Cg(e,t){const r=e[br];return(r?ai(r):e)[t]}function k9(e,t,r){var i;const n=qk(t,r);return n?Oc in n?n[Oc]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function qk(e,t){if(!(t in e))return;let r=jo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jo(r)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function Yd(e){e.copy_||(e.assigned_=new Map,e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var O9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Us(r)&&!Us(n)){const s=n;n=r;const o=this;return function(c=s,...u){return o.produce(c,f=>n.call(this,f,...u))}}Us(n)||_n(6),i!==void 0&&!Us(i)&&_n(7);let a;if(kn(r)){const s=FS(this),o=Py(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?Ey(s):Sy(s)}return VS(s,i),$S(a,s)}else if(!r||!vx(r)){if(a=n(r),a===void 0&&(a=r),a===Lk&&(a=void 0),this.autoFreeze_&&wx(a,!0),i){const s=[],o=[];No(_y).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else _n(1,r)},this.produceWithPatches=(r,n)=>{if(Us(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},Tg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Tg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Tg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){kn(t)||_n(8),Ai(t)&&(t=Tn(t));const r=FS(this),n=Py(r,t,void 0);return n[br].isManual_=!0,Sy(r),n}finishDraft(t,r){const n=t&&t[br];(!n||!n.isManual_)&&_n(9);const{scope_:i}=n;return VS(i,r),$S(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=No(_y).applyPatches_;return Ai(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Py(e,t,r,n){const[i,a]=jp(t)?No(Jf).proxyMap_(t,r):Np(t)?No(Jf).proxySet_(t,r):N9(t,r);return((r==null?void 0:r.scope_)??$k()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?I9(r,a,n):a.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function Tn(e){return Ai(e)||_n(10,e),Kk(e)}function Kk(e){if(!kn(e)||kp(e))return e;const t=e[br];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return lu(r,(i,a)=>{Zf(r,i,Kk(a))},n),t&&(t.finalized_=!1),r}var R9=new O9,Wk=R9.produce;function Hk(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var D9=Hk(),M9=Hk,L9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qf:Qf.apply(null,arguments)};function pn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Hr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Mk(n)&&n.type===e,r}var Gk=class Bl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bl.prototype)}static get[Symbol.species](){return Bl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bl(...t[0].concat(this)):new Bl(...t.concat(this))}};function US(e){return kn(e)?Wk(e,()=>{}):e}function vd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function V9(e){return typeof e=="boolean"}var F9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Gk;return r&&(V9(r)?s.push(D9):s.push(M9(r.extraArgument))),s},Qk="RTK_autoBatch",Ge=()=>e=>({payload:e,meta:{[Qk]:!0}}),BS=e=>t=>{setTimeout(t,e)},Yk=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BS(10):e.type==="callback"?e.queueNotification:BS(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>i&&u(),p=n.subscribe(f);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[Qk]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},$9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Gk(e);return n&&i.push(Yk(typeof n=="object"?n:void 0)),i};function z9(e){const t=F9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(gx(r))o=Dk(r);else throw new Error(Hr(1));let l;typeof n=="function"?l=n(t):l=t();let c=Qf;i&&(c=L9({trace:!1,...typeof i=="object"&&i}));const u=x9(...l),f=$9(u);let p=typeof s=="function"?s(f):f();const m=c(...p);return Rk(o,a,m)}function Xk(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Hr(28));if(o in t)throw new Error(Hr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function U9(e){return typeof e=="function"}function B9(e,t){let[r,n,i]=Xk(t),a;if(U9(e))a=()=>US(e());else{const o=US(e);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Ai(u)){const m=f(u,l);return m===void 0?u:m}else{if(kn(u))return Wk(u,p=>f(p,l));{const p=f(u,l);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return s.getInitialState=a,s}var q9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",K9=(e=21)=>{let t="",r=e;for(;r--;)t+=q9[Math.random()*64|0];return t},W9=Symbol.for("rtk-slice-createasyncthunk");function H9(e,t){return`${e}/${t}`}function G9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[W9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Hr(11));const o=(typeof i.reducers=="function"?i.reducers(Y9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,k){const O=typeof I=="string"?I:I.type;if(!O)throw new Error(Hr(12));if(O in c.sliceCaseReducersByType)throw new Error(Hr(13));return c.sliceCaseReducersByType[O]=k,u},addMatcher(I,k){return c.sliceMatchers.push({matcher:I,reducer:k}),u},exposeAction(I,k){return c.actionCreators[I]=k,u},exposeCaseReducer(I,k){return c.sliceCaseReducersByName[I]=k,u}};l.forEach(I=>{const k=o[I],O={reducerName:I,type:H9(a,I),createNotation:typeof i.reducers=="function"};Z9(k)?eU(O,k,u,t):X9(O,k,u)});function f(){const[I={},k=[],O=void 0]=typeof i.extraReducers=="function"?Xk(i.extraReducers):[i.extraReducers],y={...I,...c.sliceCaseReducersByType};return B9(i.initialState,S=>{for(let C in y)S.addCase(C,y[C]);for(let C of c.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of k)S.addMatcher(C.matcher,C.reducer);O&&S.addDefaultCase(O)})}const p=I=>I,m=new Map,g=new WeakMap;let v;function x(I,k){return v||(v=f()),v(I,k)}function b(){return v||(v=f()),v.getInitialState()}function E(I,k=!1){function O(S){let C=S[I];return typeof C>"u"&&k&&(C=vd(g,O,b)),C}function y(S=p){const C=vd(m,k,()=>new WeakMap);return vd(C,S,()=>{const D={};for(const[T,N]of Object.entries(i.selectors??{}))D[T]=Q9(N,S,()=>vd(g,S,b),k);return D})}return{reducerPath:I,getSelectors:y,get selectors(){return y(O)},selectSlice:O}}const A={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...E(s),injectInto(I,{reducerPath:k,...O}={}){const y=k??s;return I.inject({reducerPath:y,reducer:x},O),{...A,...E(y,!0)}}};return A}}function Q9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Dr=G9();function Y9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function X9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!J9(n))throw new Error(Hr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?pn(e,s):pn(e))}function Z9(e){return e._reducerDefinitionType==="asyncThunk"}function J9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Hr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=i(e,a,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||yd,pending:o||yd,rejected:l||yd,settled:c||yd})}function yd(){}var tU="task",Zk="listener",Jk="completed",_x="cancelled",rU=`task-${_x}`,nU=`task-${Jk}`,Ty=`${Zk}-${_x}`,iU=`${Zk}-${Jk}`,Rp=class{constructor(e){zm(this,"name","TaskAbortError");zm(this,"message");this.code=e,this.message=`${tU} ${_x} (reason: ${e})`}},Ex=(e,t)=>{if(typeof e!="function")throw new TypeError(Hr(32))},eh=()=>{},eO=(e,t=eh)=>(e.catch(t),e),tO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ns=e=>{if(e.aborted)throw new Rp(e.reason)};function rO(e,t){let r=eh;return new Promise((n,i)=>{const a=()=>i(new Rp(e.reason));if(e.aborted){a();return}r=tO(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=eh})}var aU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rp?"cancelled":"rejected",error:r}}finally{t==null||t()}},th=e=>t=>eO(rO(e,t).then(r=>(ns(e),r))),nO=e=>{const t=th(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:fo}=Object,qS={},Dp="listenerMiddleware",sU=(e,t)=>{const r=n=>tO(e,()=>n.abort(e.reason));return(n,i)=>{Ex(n);const a=new AbortController;r(a);const s=aU(async()=>{ns(e),ns(a.signal);const o=await n({pause:th(a.signal),delay:nO(a.signal),signal:a.signal});return ns(a.signal),o},()=>a.abort(nU));return i!=null&&i.autoJoin&&t.push(s.catch(eh)),{result:th(e)(s),cancel(){a.abort(rU)}}}},oU=(e,t)=>{const r=async(n,i)=>{ns(t);let a=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await rO(t,Promise.race(o));return ns(t),l}finally{a()}};return(n,i)=>eO(r(n,i))},iO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=pn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Hr(21));return Ex(a),{predicate:i,type:t,effect:a}},aO=fo(e=>{const{type:t,predicate:r,effect:n}=iO(e);return{id:K9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Hr(22))}}},{withTypes:()=>aO}),KS=(e,t)=>{const{type:r,effect:n,predicate:i}=iO(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Cy=e=>{e.pending.forEach(t=>{t.abort(Ty)})},lU=(e,t)=>()=>{for(const r of t.keys())Cy(r);e.clear()},WS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},sO=fo(pn(`${Dp}/add`),{withTypes:()=>sO}),cU=pn(`${Dp}/removeAll`),oO=fo(pn(`${Dp}/remove`),{withTypes:()=>oO}),uU=(...e)=>{console.error(`${Dp}/error`,...e)},uu=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=uU}=e;Ex(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&Cy(m)}),l=m=>{const g=KS(t,m)??aO(m);return o(g)};fo(l,{withTypes:()=>l});const c=m=>{const g=KS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&Cy(g)),!!g};fo(c,{withTypes:()=>c});const u=async(m,g,v,x)=>{const b=new AbortController,E=oU(l,b.signal),A=[];try{m.pending.add(b),n(m),await Promise.resolve(m.effect(g,fo({},v,{getOriginalState:x,condition:(I,k)=>E(I,k).then(Boolean),take:E,delay:nO(b.signal),pause:th(b.signal),extra:a,signal:b.signal,fork:sU(b.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,k,O)=>{I!==b&&(I.abort(Ty),O.delete(I))})},cancel:()=>{b.abort(Ty),m.pending.delete(b)},throwIfCancelled:()=>{ns(b.signal)}})))}catch(I){I instanceof Rp||WS(s,I,{raisedBy:"effect"})}finally{await Promise.all(A),b.abort(iU),i(m),m.pending.delete(b)}},f=lU(t,r);return{middleware:m=>g=>v=>{if(!Mk(v))return g(v);if(sO.match(v))return l(v.payload);if(cU.match(v)){f();return}if(oO.match(v))return c(v.payload);let x=m.getState();const b=()=>{if(x===qS)throw new Error(Hr(23));return x};let E;try{if(E=g(v),t.size>0){const A=m.getState(),I=Array.from(t.values());for(const k of I){let O=!1;try{O=k.predicate(v,A,x)}catch(y){O=!1,WS(s,y,{raisedBy:"predicate"})}O&&u(k,v,m,b)}}}finally{x=qS}return E},startListening:l,stopListening:c,clearListeners:f}};function Hr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lO=Dr({name:"chartLayout",initialState:dU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:fU,setLayout:hU,setChartSize:pU,setScale:mU}=lO.actions,gU=lO.reducer;function cO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=wU(e,"string");return typeof t=="symbol"?t:t+""}function wU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return qt(e)||qt(t)?r:Zn(t)?ps(e,t,r):typeof t=="function"?t(e):r}var xU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&re(e[a]))return to(to({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&re(e[s]))return to(to({},e),{},{[s]:e[s]+(i||0)})}return e},Ps=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",uO=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},dO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:p,axisType:m}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(v=m==="angleAxis"&&a&&a.length>=2?Ut(a[0]-a[1])*2*v:v,f||p){var x=(f||p||[]).map((b,E)=>{var A=n?n.indexOf(b):b;return{coordinate:s(A)+v,value:b,offset:v,index:E}});return x.filter(b=>!Nn(b.coordinate))}return l&&c?c.map((b,E)=>({coordinate:s(b)+v,value:b,index:E,offset:v})):s.ticks&&u!=null?s.ticks(u).map((b,E)=>({coordinate:s(b)+v,value:b,offset:v,index:E})):s.domain().map((b,E)=>({coordinate:s(b)+v,value:n?n[b]:b,index:E,offset:v}))},GS=1e-4,bU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-GS,a=Math.max(n[0],n[1])+GS,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},_U=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},EU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=Nn(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},SU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Nn(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AU={sign:EU,expand:rz,none:Co,silhouette:nz,wiggle:iz,positive:SU},PU=(e,t,r)=>{var n=AU[r],i=tz().keys(t).value((a,s)=>Number(Ye(a,s,0))).order(vy).offset(n);return i(e)};function TU(e){return e==null?void 0:String(e)}var QS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ye(a,t.dataKey,t.scale.domain()[s]);return qt(o)?null:t.scale(o)-i/2+n},CU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},IU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},jU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NU=(e,t,r)=>{if(e!=null)return jU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=cO(c,t,r),f=IU(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},YS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Tp(t,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function ZS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return to(to({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Mp(e,t){if(e)return String(e);if(typeof t=="string")return t}var kU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},OU=(e,t)=>t==="centric"?e.angle:e.radius,Oi=e=>e.layout.width,Ri=e=>e.layout.height,RU=e=>e.layout.scale,fO=e=>e.layout.margin,Lp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vp=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hO="data-recharts-item-index",pO="data-recharts-item-data-key",du=60;function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=e=>e.brush.height;function FU(e){var t=Vp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:du;return r+i}return r},0)}function $U(e){var t=Vp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:du;return r+i}return r},0)}function zU(e){var t=Lp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function UU(e){var t=Lp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var jt=L([Oi,Ri,fO,VU,FU,$U,zU,UU,kk,h9],(e,t,r,n,i,a,s,o,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=wd(wd({},f),u),m=p.bottom;p.bottom+=n,p=xU(p,l,c);var g=e-p.left-p.right,v=t-p.top-p.bottom;return wd(wd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(v,0)})}),BU=L(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Sx=L(Oi,Ri,(e,t)=>({x:0,y:0,width:e,height:t})),qU=w.createContext(null),Mr=()=>w.useContext(qU)!=null,Fp=e=>e.brush,$p=L([Fp,jt,fO],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),mO={},gO={},vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{g(),s=void 0,o=null},x=()=>{u()},b=function(...E){if(i!=null&&i.aborted)return;s=this,o=E;const A=p==null;m(),l&&A&&u()};return b.schedule=m,b.cancel=v,b.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),b}e.debounce=t})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const p=t.debounce(function(...v){u=n.apply(this,v),f=null},i,{edges:c}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,v),u)},g=()=>(p.flush(),u);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(mO);var KU=mO.throttle;const WU=Ni(KU);var nh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},yO=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Si(n)?e:Number(n),l=Si(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},HU={width:0,height:0,overflow:"visible"},GU={width:0,overflowX:"visible"},QU={height:0,overflowY:"visible"},YU={},XU=e=>{var{width:t,height:r}=e,n=Si(t),i=Si(r);return n&&i?HU:n?GU:i?QU:YU};function ZU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ht(e){return Number.isFinite(e)}function Jn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wO=w.createContext({width:-1,height:-1});function rB(e){return Jn(e.width)&&Jn(e.height)}function xO(e){var{children:t,width:r,height:n}=e,i=w.useMemo(()=>({width:r,height:n}),[r,n]);return rB(i)?w.createElement(wO.Provider,{value:i},t):null}var Ax=()=>w.useContext(wO),nB=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:p,onResize:m,style:g={}}=e,v=w.useRef(null),x=w.useRef();x.current=m,w.useImperativeHandle(t,()=>v.current);var[b,E]=w.useState({containerWidth:n.width,containerHeight:n.height}),A=w.useCallback((S,C)=>{E(D=>{var T=Math.round(S),N=Math.round(C);return D.containerWidth===T&&D.containerHeight===N?D:{containerWidth:T,containerHeight:N}})},[]);w.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return su;var S=N=>{var j,{width:G,height:ae}=N[0].contentRect;A(G,ae),(j=x.current)===null||j===void 0||j.call(x,G,ae)};u>0&&(S=WU(S,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:D,height:T}=v.current.getBoundingClientRect();return A(D,T),C.observe(v.current),()=>{C.disconnect()}},[A,u]);var{containerWidth:I,containerHeight:k}=b;nh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:y}=yO(I,k,{width:i,height:a,aspect:r,maxHeight:l});return nh(O!=null&&O>0||y!=null&&y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,y,i,a,s,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:Ne("recharts-responsive-container",p),style:tA(tA({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},w.createElement("div",{style:XU({width:i,height:a})},w.createElement(xO,{width:O,height:y},c)))}),Px=w.forwardRef((e,t)=>{var r=Ax();if(Jn(r.width)&&Jn(r.height))return e.children;var{width:n,height:i}=ZU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=yO(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(s)?w.createElement(xO,{width:a,height:s},e.children):w.createElement(nB,Iy({},e,{width:n,height:i,ref:t}))});function bO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zp=()=>{var e,t=Mr(),r=ee(BU),n=ee($p),i=(e=ee(Fp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},iB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_O=()=>{var e;return(e=ee(jt))!==null&&e!==void 0?e:iB},Tx=()=>ee(Oi),Cx=()=>ee(Ri),aB=()=>ee(e=>e.layout.margin),Ae=e=>e.layout.layoutType,Up=()=>ee(Ae),sB=()=>{var e=Up();return e!==void 0},Bp=e=>{var t=Ue(),r=Mr(),{width:n,height:i}=e,a=Ax(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),w.useEffect(()=>{!r&&Jn(s)&&Jn(o)&&t(pU({width:s,height:o}))},[t,r,s,o]),null},EO=Symbol.for("immer-nothing"),rA=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function En(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mc=Object.getPrototypeOf;function ko(e){return!!e&&!!e[Qr]}function ms(e){var t;return e?SO(e)||Array.isArray(e)||!!e[rA]||!!((t=e.constructor)!=null&&t[rA])||fu(e)||Kp(e):!1}var oB=Object.prototype.constructor.toString(),nA=new WeakMap;function SO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nA.get(r);return n===void 0&&(n=Function.toString.call(r),nA.set(r,n)),n===oB}function ih(e,t,r=!0){qp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function qp(e){const t=e[Qr];return t?t.type_:Array.isArray(e)?1:fu(e)?2:Kp(e)?3:0}function jy(e,t){return qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AO(e,t,r){const n=qp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fu(e){return e instanceof Map}function Kp(e){return e instanceof Set}function qa(e){return e.copy_||e.base_}function Ny(e,t){if(fu(e))return new Map(e);if(Kp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=SO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Mc(e),n)}else{const n=Mc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Ix(e,t=!1){return Wp(e)||ko(e)||!ms(e)||(qp(e)>1&&Object.defineProperties(e,{set:xd,add:xd,clear:xd,delete:xd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Ix(r,!0))),e}function cB(){En(2)}var xd={value:cB};function Wp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var uB={};function gs(e){const t=uB[e];return t||En(0,e),t}var Lc;function PO(){return Lc}function dB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iA(e,t){t&&(gs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ky(e){Oy(e),e.drafts_.forEach(fB),e.drafts_=null}function Oy(e){e===Lc&&(Lc=e.parent_)}function aA(e){return Lc=dB(Lc,e)}function fB(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qr].modified_&&(ky(t),En(4)),ms(e)&&(e=ah(t,e),t.parent_||sh(t,e)),t.patches_&&gs("Patches").generateReplacementPatches_(r[Qr].base_,e,t.patches_,t.inversePatches_)):e=ah(t,r,[]),ky(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EO?e:void 0}function ah(e,t,r){if(Wp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Qr];if(!i)return ih(t,(a,s)=>oA(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return sh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ih(s,(l,c)=>oA(e,i,a,l,c,r,o),n),sh(e,a,!1),r&&e.patches_&&gs("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function oA(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Wp(i);if(!(o&&!s)){if(ko(i)){const l=a&&t&&t.type_!==3&&!jy(t.assigned_,n)?a.concat(n):void 0,c=ah(e,i,l);if(AO(r,n,c),ko(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ms(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;ah(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(fu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&sh(e,i)}}}function sh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ix(t,r)}function hB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:PO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=jx;r&&(i=[n],a=Vc);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var jx={get(e,t){if(t===Qr)return e;const r=qa(e);if(!jy(r,t))return pB(e,r,t);const n=r[t];return e.finalized_||!ms(n)?n:n===Ig(e.base_,t)?(jg(e),e.copy_[t]=Dy(n,e)):n},has(e,t){return t in qa(e)},ownKeys(e){return Reflect.ownKeys(qa(e))},set(e,t,r){const n=TO(qa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ig(qa(e),t),a=i==null?void 0:i[Qr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lB(r,i)&&(r!==void 0||jy(e.base_,t)))return!0;jg(e),Ry(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ig(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jg(e),Ry(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){En(11)},getPrototypeOf(e){return Mc(e.base_)},setPrototypeOf(){En(12)}},Vc={};ih(jx,(e,t)=>{Vc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vc.deleteProperty=function(e,t){return Vc.set.call(this,e,t,void 0)};Vc.set=function(e,t,r){return jx.set.call(this,e[0],t,r,e[0])};function Ig(e,t){const r=e[Qr];return(r?qa(r):e)[t]}function pB(e,t,r){var i;const n=TO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function TO(e,t){if(!(t in e))return;let r=Mc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Mc(r)}}function Ry(e){e.modified_||(e.modified_=!0,e.parent_&&Ry(e.parent_))}function jg(e){e.copy_||(e.copy_=Ny(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&En(6),n!==void 0&&typeof n!="function"&&En(7);let i;if(ms(t)){const a=aA(this),s=Dy(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?ky(a):Oy(a)}return iA(a,n),sA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===EO&&(i=void 0),this.autoFreeze_&&Ix(i,!0),n){const a=[],s=[];gs("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else En(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ms(e)||En(8),ko(e)&&(e=gB(e));const t=aA(this),r=Dy(e,void 0);return r[Qr].isManual_=!0,Oy(t),r}finishDraft(e,t){const r=e&&e[Qr];(!r||!r.isManual_)&&En(9);const{scope_:n}=r;return iA(n,t),sA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=gs("Patches").applyPatches_;return ko(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Dy(e,t){const r=fu(e)?gs("MapSet").proxyMap_(e,t):Kp(e)?gs("MapSet").proxySet_(e,t):hB(e,t);return(t?t.scope_:PO()).drafts_.push(r),r}function gB(e){return ko(e)||En(10,e),CO(e)}function CO(e){if(!ms(e)||Wp(e))return e;const t=e[Qr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ny(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ny(e,!0);return ih(r,(i,a)=>{AO(r,i,CO(a))},n),t&&(t.finalized_=!1),r}var vB=new mB;vB.produce;var yB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IO=Dr({name:"legend",initialState:yB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ge()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Tn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(e,t){var r=Tn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:lA,setLegendSettings:wB,addLegendPayload:jO,replaceLegendPayload:NO,removeLegendPayload:kO}=IO.actions,xB=IO.reducer,bB=["contextPayload"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){_B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _B(e,t,r){return(t=EB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AB(e,t){if(e==null)return{};var r,n,i=PB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TB(e){return e.value}function CB(e){var{contextPayload:t}=e,r=AB(e,bB),n=bk(t,e.payloadUniqBy,TB),i=Oo(Oo({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,i):typeof e.content=="function"?w.createElement(e.content,i):w.createElement(kz,i)}function IB(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-a.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Oo(Oo({},c),u)}function jB(e){var t=Ue();return w.useEffect(()=>{t(wB(e))},[t,e]),null}function NB(e){var t=Ue();return w.useEffect(()=>(t(lA(e)),()=>{t(lA({width:0,height:0}))}),[t,e]),null}function kB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var OB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Hp(e){var t=Kt(e,OB),r=g9(),n=A5(),i=aB(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,u]=Ok([r]),f=Tx(),p=Cx();if(f==null||p==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=kB(t.layout,s,a,m),v=l?o:Oo(Oo({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},IB(o,t,i,f,p,c)),o),x=l??n;if(x==null||r==null)return null;var b=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},w.createElement(jB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&w.createElement(NB,{width:c.width,height:c.height}),w.createElement(CB,My({},t,g,{margin:i,chartWidth:f,chartHeight:p,contextPayload:r})));return Qn.createPortal(b,x)}Hp.displayName="Legend";function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){RB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t,r){return(t=DB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e){return Array.isArray(e)&&Zn(e[0])&&Zn(e[1])?e.join(" ~ "):e}var VB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var k={padding:0,margin:0},O=(o?Tp(a,o):a).map((y,S)=>{if(y.type==="none")return null;var C=y.formatter||s||LB,{value:D,name:T}=y,N=D,j=T;if(C){var G=C(D,T,y,S,a);if(Array.isArray(G))[N,j]=G;else if(G!=null)N=G;else return null}var ae=Ng({display:"block",paddingTop:4,paddingBottom:4,color:y.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ae},Zn(j)?w.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Zn(j)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},N),w.createElement("span",{className:"recharts-tooltip-item-unit"},y.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},g=Ng({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Ng({margin:0},i),x=!qt(u),b=x?u:"",E=Ne("recharts-default-tooltip",l),A=Ne("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(b=f(u,a));var I=p?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Ly({className:E,style:g},I),w.createElement("p",{className:A,style:v},w.isValidElement(b)?b:"".concat(b)),m())},Pl="recharts-tooltip-wrapper",FB={visibility:"hidden"};function $B(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ne(Pl,{["".concat(Pl,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(Pl,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(Pl,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(Pl,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function dA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&re(a[n]))return a[n];var u=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?u:f;var p=l[n];if(p==null)return 0;if(s[n]){var m=u,g=p;return m<g?Math.max(f,p):Math.max(u,p)}if(c==null)return 0;var v=f+o,x=p+c;return v>x?Math.max(u,p):Math.max(f,p)}function zB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&r?(u=dA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=dA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=zB({translateX:u,translateY:f,useTranslate3d:o})):c=FB,{cssProperties:c,cssClasses:$B({translateX:u,translateY:f,coordinate:r})}}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){Vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vy(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KB extends w.PureComponent{constructor(){super(...arguments),Vy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Vy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:E,cssProperties:A}=UB({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),I=b?{}:bd(bd({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=bd(bd({},I),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:k,ref:x},a)}}var OO=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){WB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WB(e,t,r){return(t=HB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mA={curveBasisClosed:q5,curveBasisOpen:K5,curveBasis:B5,curveBumpX:I5,curveBumpY:j5,curveLinearClosed:W5,curveLinear:xp,curveMonotoneX:H5,curveMonotoneY:G5,curveNatural:Q5,curveStep:Y5,curveStepAfter:Z5,curveStepBefore:X5},oh=e=>ht(e.x)&&ht(e.y),gA=e=>e.base!=null&&oh(e.base)&&oh(e),Tl=e=>e.x,Cl=e=>e.y,QB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(au(e));return(r==="curveMonotone"||r==="curveBump")&&t?mA["".concat(r).concat(t==="vertical"?"Y":"X")]:mA[r]||xp},YB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=QB(t,i),o=a?r.filter(oh):r,l;if(Array.isArray(n)){var c=r.map((m,g)=>pA(pA({},m),{},{base:n[g]}));i==="vertical"?l=hd().y(Cl).x1(Tl).x0(m=>m.base.x):l=hd().x(Tl).y1(Cl).y0(m=>m.base.y);var u=l.defined(gA).curve(s),f=a?c.filter(gA):c;return u(f)}i==="vertical"&&re(n)?l=hd().y(Cl).x1(Tl).x0(n):re(n)?l=hd().x(Tl).y1(Cl).y0(n):l=UN().x(Tl).y(Cl);var p=l.defined(oh).curve(s);return p(o)},Nx=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?YB(e):n;return w.createElement("path",Fy({},jn(e),wz(e),{className:Ne("recharts-curve",t),d:a===null?void 0:a,ref:i}))},XB=["x","y","top","left","width","height","className"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){JB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JB(e,t,r){return(t=e8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r8(e,t){if(e==null)return{};var r,n,i=n8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),a8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=r8(e,XB),c=ZB({x:t,y:r,top:n,left:i,width:a,height:s},l);return!re(t)||!re(r)||!re(a)||!re(s)||!re(n)||!re(i)?null:w.createElement("path",$y({},hn(c),{className:Ne("recharts-cross",o),d:i8(t,r,a,s,n,i)}))};function s8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RO=(e,t,r)=>e.map(n=>"".concat(u8(n)," ").concat(t,"ms ").concat(r)).join(","),d8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Fc=(e,t)=>Object.keys(t).reduce((r,n)=>wA(wA({},r),{},{[n]:e(n,t[n])}),{});function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return(t=h8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lh=(e,t,r)=>e+(t-e)*r,zy=e=>{var{from:t,to:r}=e;return t!==r},DO=(e,t,r)=>{var n=Fc((i,a)=>{if(zy(a)){var[s,o]=e(a.from,a.to,a.velocity);return Tt(Tt({},a),{},{from:s,velocity:o})}return a},t);return r<1?Fc((i,a)=>zy(a)?Tt(Tt({},a),{},{velocity:lh(a.velocity,n[i].velocity,r),from:lh(a.from,n[i].from,r)}):a,t):DO(e,n,r-1)};function m8(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Tt(Tt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Fc((p,m)=>m.from,o),c=()=>!Object.values(o).filter(zy).length,u=null,f=p=>{s||(s=p);var m=p-s,g=m/r.dt;o=DO(r,o,g),i(Tt(Tt(Tt({},e),t),l())),s=p,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{var p;(p=u)===null||p===void 0||p()})}function g8(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>Tt(Tt({},f),{},{[p]:[e[p],t[p]]}),{}),c,u=f=>{c||(c=f);var p=(f-c)/n,m=Fc((v,x)=>lh(...x,r(p)),l);if(a(Tt(Tt(Tt({},e),t),m)),p<1)o=s.setTimeout(u);else{var g=Fc((v,x)=>lh(...x,r(1)),l);a(Tt(Tt(Tt({},e),t),g))}};return()=>(o=s.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const v8=(e,t,r,n,i,a)=>{var s=d8(e,t);return r==null?()=>(i(Tt(Tt({},e),t)),()=>{}):r.isStepper===!0?m8(e,t,r,s,i,a):g8(e,t,r,n,s,i,a)};var ch=1e-4,MO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bA=(e,t)=>r=>{var n=MO(e,t);return LO(n,r)},y8=(e,t)=>r=>{var n=MO(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return LO(i,r)},w8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},x8=(e,t,r,n)=>{var i=bA(e,r),a=bA(t,n),s=y8(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,p=0;p<8;++p){var m=i(f)-u,g=s(f);if(Math.abs(m-u)<ch||g<ch)return a(f);f=o(f-m/g)}return a(f)};return l.isStepper=!1,l},_A=function(){return x8(...w8(...arguments))},b8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<ch&&Math.abs(f)<ch?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},_8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _A(e);case"spring":return b8();default:if(e.split("(")[0]==="cubic-bezier")return _A(e)}return typeof e=="function"?e:null};function E8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class S8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function A8(){return E8(new S8)}var P8=w.createContext(A8);function T8(e,t){var r=w.useContext(P8);return w.useMemo(()=>t??r(e),[e,t,r])}var C8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hu={devToolsEnabled:!1,isSsr:C8()},I8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EA={t:0},kg={t:1};function Gp(e){var t=Kt(e,I8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=r==="auto"?!hu.isSsr:r,f=T8(t.animationId,t.animationManager),[p,m]=w.useState(u?EA:kg),g=w.useRef(null);return w.useEffect(()=>{u||m(kg)},[u]),w.useEffect(()=>{if(!u||!n)return su;var v=v8(EA,kg,_8(a),i,m,f.getTimeoutController()),x=()=>{g.current=v()};return f.start([l,s,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[u,n,i,a,s,l,o,f]),c(p.t)}function Qp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(kc(t)),n=w.useRef(e);return n.current!==e&&(r.current=kc(t),n.current=e),r.current}var j8=["radius"],N8=["radius"];function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function PA(e,t){if(e==null)return{};var r,n,i=D8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function D8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),c+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);c="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},CA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VO=e=>{var t=Kt(e,CA),r=w.useRef(null),[n,i]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&i(se)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,x=w.useRef(o),b=w.useRef(l),E=w.useRef(a),A=w.useRef(s),I=w.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),k=Qp(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Ne("recharts-rectangle",u);if(!v){var y=hn(t),{radius:S}=y,C=PA(y,j8);return w.createElement("path",uh({},C,{radius:typeof c=="number"?c:void 0,className:O,d:TA(a,s,o,l,c)}))}var D=x.current,T=b.current,N=E.current,j=A.current,G="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),le=RO(["strokeDasharray"],p,typeof f=="string"?f:CA.animationEasing);return w.createElement(Gp,{animationId:k,key:k,canBegin:n>0,duration:p,easing:f,isActive:v,begin:m},se=>{var U=Pt(D,o,se),W=Pt(T,l,se),te=Pt(N,a,se),pe=Pt(j,s,se);r.current&&(x.current=U,b.current=W,E.current=te,A.current=pe);var ue;g?se>0?ue={transition:le,strokeDasharray:ae}:ue={strokeDasharray:G}:ue={strokeDasharray:ae};var Je=hn(t),{radius:Te}=Je,Ht=PA(Je,N8);return w.createElement("path",uh({},Ht,{radius:typeof c=="number"?c:void 0,className:O,d:TA(te,pe,U,W,c),ref:r,style:AA(AA({},ue),t.style)}))})};function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=Math.PI/180,F8=e=>e*180/Math.PI,bt=(e,t,r,n)=>({x:e+Math.cos(-dh*n)*r,y:t+Math.sin(-dh*n)*r}),FO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},z8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=$8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:F8(l),angleInRadian:l}},U8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},B8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},q8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=z8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=U8(t),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?jA(jA({},t),{},{radius:i,angle:B8(u,t)}):null};function $O(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=bt(t,r,n,i),o=bt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}var K8=(e,t)=>{var r=Ut(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},_d=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/dh,f=l?i:i+a*u,p=bt(t,r,c,f),m=bt(t,r,n,f),g=l?i-a*u:i,v=bt(t,r,c*Math.cos(u*dh),g);return{center:p,circleTangency:m,lineTangency:v,theta:u}},zO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=K8(a,s),l=a+o,c=bt(t,r,i,a),u=bt(t,r,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var p=bt(t,r,n,a),m=bt(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},W8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Ut(c-l),{circleTangency:f,lineTangency:p,theta:m}=_d({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:v,theta:x}=_d({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-c):Math.abs(l-c)-m-x;if(b<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):zO({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:I,theta:k}=_d({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:y,theta:S}=_d({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-c):Math.abs(l-c)-k-S;if(C<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(y.x,",").concat(y.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},H8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UO=e=>{var t=Kt(e,H8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(a<i||c===u)return null;var p=Ne("recharts-sector",f),m=a-i,g=dr(s,m,0,!0),v;return g>0&&Math.abs(c-u)<360?v=W8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=zO({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),w.createElement("path",Uy({},hn(t),{className:p,d:v}))};function G8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(nk(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=bt(n,i,a,o),c=bt(n,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return $O(t)}}var BO={},qO={},KO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(KO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(qO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx,r=qO;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=n})(BO);var Q8=BO.range;const WO=Ni(Q8);function pa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kx(e){let t,r,n;e.length!==2?(t=pa,r=(o,l)=>pa(e(o),l),n=(o,l)=>e(o)-l):(t=e===pa||e===Y8?e:X8,r=e,n=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function X8(){return 0}function HO(e){return e===null?NaN:+e}function*Z8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const J8=kx(pa),pu=J8.right;kx(HO).center;class NA extends Map{constructor(t,r=r7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(kA(this,t))}has(t){return super.has(kA(this,t))}set(t,r){return super.set(e7(this,t),r)}delete(t){return super.delete(t7(this,t))}}function kA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function e7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function t7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function r7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function n7(e=pa){if(e===pa)return GO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i7=Math.sqrt(50),a7=Math.sqrt(10),s7=Math.sqrt(2);function fh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=i7?10:a>=a7?5:a>=s7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?fh(e,t,r*2):[o,l,c]}function By(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?fh(t,e,r):fh(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function qy(e,t,r){return t=+t,e=+e,r=+r,fh(e,t,r)[2]}function Ky(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?qy(t,e,r):qy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function OA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?GO:n7(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/l+p)),g=Math.min(n,Math.floor(t+(l-c)*f/l+p));QO(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(Il(e,r,t),i(e[n],a)>0&&Il(e,r,n);s<o;){for(Il(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Il(e,r,o):(++o,Il(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Il(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function o7(e,t,r){if(e=Float64Array.from(Z8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RA(e);if(t>=1)return OA(e);var n,i=(n-1)*t,a=Math.floor(i),s=OA(QO(e,a).subarray(0,a+1)),o=RA(e.subarray(a+1));return s+(o-s)*(i-a)}}function l7(e,t,r=HO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function c7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wy=Symbol("implicit");function Ox(){var e=new NA,t=[],r=[],n=Wy;function i(a){let s=e.get(a);if(s===void 0){if(n!==Wy)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new NA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ox(t,r).unknown(n)},gn.apply(i,arguments),i}function Rx(){var e=Ox().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,m=i<n,g=m?i:n,v=m?n:i;a=(v-g)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),g+=(v-g-a*(p-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=c7(p).map(function(b){return g+a*b});return r(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return Rx(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},gn.apply(f(),arguments)}function YO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YO(t())},e}function u7(){return YO(Rx.apply(null,arguments).paddingInner(1))}function Dx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mu(){}var $c=.7,hh=1/$c,ho="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d7=/^#([0-9a-f]{3,8})$/,f7=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),h7=new RegExp(`^rgb\\(${Gn},${Gn},${Gn}\\)$`),p7=new RegExp(`^rgba\\(${ho},${ho},${ho},${zc}\\)$`),m7=new RegExp(`^rgba\\(${Gn},${Gn},${Gn},${zc}\\)$`),g7=new RegExp(`^hsl\\(${zc},${Gn},${Gn}\\)$`),v7=new RegExp(`^hsla\\(${zc},${Gn},${Gn},${zc}\\)$`),DA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dx(mu,Uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MA,formatHex:MA,formatHex8:y7,formatHsl:w7,formatRgb:LA,toString:LA});function MA(){return this.rgb().formatHex()}function y7(){return this.rgb().formatHex8()}function w7(){return ZO(this).formatHsl()}function LA(){return this.rgb().formatRgb()}function Uc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=d7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VA(t):r===3?new jr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ed(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ed(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f7.exec(e))?new jr(t[1],t[2],t[3],1):(t=h7.exec(e))?new jr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p7.exec(e))?Ed(t[1],t[2],t[3],t[4]):(t=m7.exec(e))?Ed(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g7.exec(e))?zA(t[1],t[2]/100,t[3]/100,1):(t=v7.exec(e))?zA(t[1],t[2]/100,t[3]/100,t[4]):DA.hasOwnProperty(e)?VA(DA[e]):e==="transparent"?new jr(NaN,NaN,NaN,0):null}function VA(e){return new jr(e>>16&255,e>>8&255,e&255,1)}function Ed(e,t,r,n){return n<=0&&(e=t=r=NaN),new jr(e,t,r,n)}function x7(e){return e instanceof mu||(e=Uc(e)),e?(e=e.rgb(),new jr(e.r,e.g,e.b,e.opacity)):new jr}function Hy(e,t,r,n){return arguments.length===1?x7(e):new jr(e,t,r,n??1)}function jr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dx(jr,Hy,XO(mu,{brighter(e){return e=e==null?hh:Math.pow(hh,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new jr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jr(is(this.r),is(this.g),is(this.b),ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FA,formatHex:FA,formatHex8:b7,formatRgb:$A,toString:$A}));function FA(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function b7(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function $A(){const e=ph(this.opacity);return`${e===1?"rgb(":"rgba("}${is(this.r)}, ${is(this.g)}, ${is(this.b)}${e===1?")":`, ${e})`}`}function ph(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function is(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ya(e){return e=is(e),(e<16?"0":"")+e.toString(16)}function zA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,r,n)}function ZO(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof mu||(e=Uc(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Sn(s,o,l,e.opacity)}function _7(e,t,r,n){return arguments.length===1?ZO(e):new Sn(e,t,r,n??1)}function Sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dx(Sn,_7,XO(mu,{brighter(e){return e=e==null?hh:Math.pow(hh,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new jr(Og(e>=240?e-240:e+120,i,n),Og(e,i,n),Og(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Sn(UA(this.h),Sd(this.s),Sd(this.l),ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ph(this.opacity);return`${e===1?"hsl(":"hsla("}${UA(this.h)}, ${Sd(this.s)*100}%, ${Sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UA(e){return e=(e||0)%360,e<0?e+360:e}function Sd(e){return Math.max(0,Math.min(1,e||0))}function Og(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Mx=e=>()=>e;function E7(e,t){return function(r){return e+r*t}}function S7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function A7(e){return(e=+e)==1?JO:function(t,r){return r-t?S7(t,r,e):Mx(isNaN(t)?r:t)}}function JO(e,t){var r=t-e;return r?E7(e,r):Mx(isNaN(e)?t:e)}const BA=function e(t){var r=A7(t);function n(i,a){var s=r((i=Hy(i)).r,(a=Hy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=JO(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function P7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function T7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Go(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function I7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function j7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Go(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rg=new RegExp(Gy.source,"g");function N7(e){return function(){return e}}function k7(e){return function(t){return e(t)+""}}function O7(e,t){var r=Gy.lastIndex=Rg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Gy.exec(e))&&(i=Rg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:mh(n,i)})),r=Rg.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?k7(l[0].x):N7(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Go(e,t){var r=typeof t,n;return t==null||r==="boolean"?Mx(t):(r==="number"?mh:r==="string"?(n=Uc(t))?(t=n,BA):O7:t instanceof Uc?BA:t instanceof Date?I7:T7(t)?P7:Array.isArray(t)?C7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?j7:mh)(e,t)}function Lx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function R7(e,t){t===void 0&&(t=e,e=Go);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function D7(e){return function(){return e}}function gh(e){return+e}var qA=[0,1];function yr(e){return e}function Qy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:D7(isNaN(t)?NaN:.5)}function M7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function L7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Qy(i,n),a=r(s,a)):(n=Qy(n,i),a=r(a,s)),function(o){return a(n(o))}}function V7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Qy(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=pu(e,o,1,n)-1;return a[l](i[l](o))}}function gu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yp(){var e=qA,t=qA,r=Go,n,i,a,s=yr,o,l,c;function u(){var p=Math.min(e.length,t.length);return s!==yr&&(s=M7(e[0],e[p-1])),o=p>2?V7:L7,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(t,e.map(n),mh)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,gh),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Lx,u()},f.clamp=function(p){return arguments.length?(s=p?!0:yr,u()):s!==yr},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return n=p,i=m,u()}}function Vx(){return Yp()(yr,yr)}function F7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ro(e){return e=vh(Math.abs(e)),e?e[1]:NaN}function $7(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function z7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var U7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bc(e){if(!(t=U7.exec(e)))throw new Error("invalid format: "+e);var t;return new Fx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bc.prototype=Fx.prototype;function Fx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var eR;function q7(e,t){var r=vh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(eR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vh(e,Math.max(0,t+a-1))[0]}function KA(e,t){var r=vh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const WA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KA(e*100,t),r:KA,s:q7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HA(e){return e}var GA=Array.prototype.map,QA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function K7(e){var t=e.grouping===void 0||e.thousands===void 0?HA:$7(GA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?HA:z7(GA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Bc(f);var p=f.fill,m=f.align,g=f.sign,v=f.symbol,x=f.zero,b=f.width,E=f.comma,A=f.precision,I=f.trim,k=f.type;k==="n"?(E=!0,k="g"):WA[k]||(A===void 0&&(A=12),I=!0,k="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",y=v==="$"?n:/[%p]/.test(k)?s:"",S=WA[k],C=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(T){var N=O,j=y,G,ae,le;if(k==="c")j=S(T)+j,T="";else{T=+T;var se=T<0||1/T<0;if(T=isNaN(T)?l:S(Math.abs(T),A),I&&(T=B7(T)),se&&+T==0&&g!=="+"&&(se=!1),N=(se?g==="("?g:o:g==="-"||g==="("?"":g)+N,j=(k==="s"?QA[8+eR/3]:"")+j+(se&&g==="("?")":""),C){for(G=-1,ae=T.length;++G<ae;)if(le=T.charCodeAt(G),48>le||le>57){j=(le===46?i+T.slice(G+1):T.slice(G))+j,T=T.slice(0,G);break}}}E&&!x&&(T=t(T,1/0));var U=N.length+T.length+j.length,W=U<b?new Array(b-U+1).join(p):"";switch(E&&x&&(T=t(W+T,W.length?b-j.length:1/0),W=""),m){case"<":T=N+T+j+W;break;case"=":T=N+W+T+j;break;case"^":T=W.slice(0,U=W.length>>1)+N+T+j+W.slice(U);break;default:T=W+N+T+j;break}return a(T)}return D.toString=function(){return f+""},D}function u(f,p){var m=c((f=Bc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ro(p)/3)))*3,v=Math.pow(10,-g),x=QA[8+g/3];return function(b){return m(v*b)+x}}return{format:c,formatPrefix:u}}var Ad,$x,tR;W7({thousands:",",grouping:[3],currency:["$",""]});function W7(e){return Ad=K7(e),$x=Ad.format,tR=Ad.formatPrefix,Ad}function H7(e){return Math.max(0,-Ro(Math.abs(e)))}function G7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ro(t)/3)))*3-Ro(Math.abs(e)))}function Q7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ro(t)-Ro(e))+1}function rR(e,t,r,n){var i=Ky(e,t,r),a;switch(n=Bc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=G7(i,s))&&(n.precision=a),tR(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Q7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=H7(i))&&(n.precision=a-(n.type==="%")*2);break}}return $x(n)}function ja(e){var t=e.domain;return e.ticks=function(r){var n=t();return By(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return rR(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=qy(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function nR(){var e=Vx();return e.copy=function(){return gu(e,nR())},gn.apply(e,arguments),ja(e)}function iR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return iR(e).unknown(t)},e=arguments.length?Array.from(e,gh):[0,1],ja(r)}function aR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function YA(e){return Math.log(e)}function XA(e){return Math.exp(e)}function Y7(e){return-Math.log(-e)}function X7(e){return-Math.exp(-e)}function Z7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function J7(e){return e===10?Z7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZA(e){return(t,r)=>-e(-t,r)}function zx(e){const t=e(YA,XA),r=t.domain;let n=10,i,a;function s(){return i=eq(n),a=J7(n),r()[0]<0?(i=ZA(i),a=ZA(a),e(Y7,X7)):e(YA,XA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),m=i(u),g,v;const x=o==null?10:+o;let b=[];if(!(n%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(g=1;g<n;++g)if(v=p<0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;b.push(v)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(v=p>0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;b.push(v)}b.length*2<x&&(b=By(c,u,x))}else b=By(p,m,Math.min(m-p,x)).map(a);return f?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Bc(l)).precision==null&&(l.trim=!0),l=$x(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(aR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function sR(){const e=zx(Yp()).domain([1,10]);return e.copy=()=>gu(e,sR()).base(e.base()),gn.apply(e,arguments),e}function JA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ux(e){var t=1,r=e(JA(t),eP(t));return r.constant=function(n){return arguments.length?e(JA(t=+n),eP(t)):t},ja(r)}function oR(){var e=Ux(Yp());return e.copy=function(){return gu(e,oR()).constant(e.constant())},gn.apply(e,arguments)}function tP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rq(e){return e<0?-e*e:e*e}function Bx(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(tq,rq):e(tP(r),tP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ja(t)}function qx(){var e=Bx(Yp());return e.copy=function(){return gu(e,qx()).exponent(e.exponent())},gn.apply(e,arguments),e}function nq(){return qx.apply(null,arguments).exponent(.5)}function rP(e){return Math.sign(e)*e*e}function iq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lR(){var e=Vx(),t=[0,1],r=!1,n;function i(a){var s=iq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(rP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,gh)).map(rP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},gn.apply(i,arguments),ja(i)}function cR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=l7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[pu(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pa),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return cR().domain(e).range(t).unknown(n)},gn.apply(a,arguments)}function uR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[pu(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return uR().domain([e,t]).range(i).unknown(a)},gn.apply(ja(s),arguments)}function dR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[pu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dR().domain(e).range(t).unknown(r)},gn.apply(i,arguments)}const Dg=new Date,Mg=new Date;function Nt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Nt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Dg.setTime(+a),Mg.setTime(+s),e(Dg),e(Mg),Math.floor(r(Dg,Mg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const yh=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yh);yh.range;const ui=1e3,ln=ui*60,di=ln*60,Pi=di*24,Kx=Pi*7,nP=Pi*30,Lg=Pi*365,Xa=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getUTCSeconds());Xa.range;const Wx=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getMinutes());Wx.range;const Hx=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCMinutes());Hx.range;const Gx=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui-e.getMinutes()*ln)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getHours());Gx.range;const Qx=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getUTCHours());Qx.range;const vu=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ln)/Pi,e=>e.getDate()-1);vu.range;const Xp=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>e.getUTCDate()-1);Xp.range;const fR=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>Math.floor(e/Pi));fR.range;function Ts(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ln)/Kx)}const Zp=Ts(0),wh=Ts(1),aq=Ts(2),sq=Ts(3),Do=Ts(4),oq=Ts(5),lq=Ts(6);Zp.range;wh.range;aq.range;sq.range;Do.range;oq.range;lq.range;function Cs(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Kx)}const Jp=Cs(0),xh=Cs(1),cq=Cs(2),uq=Cs(3),Mo=Cs(4),dq=Cs(5),fq=Cs(6);Jp.range;xh.range;cq.range;uq.range;Mo.range;dq.range;fq.range;const Yx=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Yx.range;const Xx=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Xx.range;const Ti=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const Ci=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ci.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ci.range;function hR(e,t,r,n,i,a){const s=[[Xa,1,ui],[Xa,5,5*ui],[Xa,15,15*ui],[Xa,30,30*ui],[a,1,ln],[a,5,5*ln],[a,15,15*ln],[a,30,30*ln],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[n,1,Pi],[n,2,2*Pi],[r,1,Kx],[t,1,nP],[t,3,3*nP],[e,1,Lg]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),g=m?m.range(c,+u+1):[];return p?g.reverse():g}function l(c,u,f){const p=Math.abs(u-c)/f,m=kx(([,,x])=>x).right(s,p);if(m===s.length)return e.every(Ky(c/Lg,u/Lg,f));if(m===0)return yh.every(Math.max(Ky(c,u,f),1));const[g,v]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(v)}return[o,l]}const[hq,pq]=hR(Ci,Xx,Jp,fR,Qx,Hx),[mq,gq]=hR(Ti,Yx,Zp,vu,Gx,Wx);function Vg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Nl(i),u=kl(i),f=Nl(a),p=kl(a),m=Nl(s),g=kl(s),v=Nl(o),x=kl(o),b=Nl(l),E=kl(l),A={a:se,A:U,b:W,B:te,c:null,d:cP,e:cP,f:$q,g:Yq,G:Zq,H:Lq,I:Vq,j:Fq,L:pR,m:zq,M:Uq,p:pe,q:ue,Q:fP,s:hP,S:Bq,u:qq,U:Kq,V:Wq,w:Hq,W:Gq,x:null,X:null,y:Qq,Y:Xq,Z:Jq,"%":dP},I={a:Je,A:Te,b:Ht,B:pt,c:null,d:uP,e:uP,f:nK,g:hK,G:mK,H:eK,I:tK,j:rK,L:gR,m:iK,M:aK,p:Me,q:ti,Q:fP,s:hP,S:sK,u:oK,U:lK,V:cK,w:uK,W:dK,x:null,X:null,y:fK,Y:pK,Z:gK,"%":dP},k={a:D,A:T,b:N,B:j,c:G,d:oP,e:oP,f:Oq,g:sP,G:aP,H:lP,I:lP,j:Iq,L:kq,m:Cq,M:jq,p:C,q:Tq,Q:Dq,s:Mq,S:Nq,u:_q,U:Eq,V:Sq,w:bq,W:Aq,x:ae,X:le,y:sP,Y:aP,Z:Pq,"%":Rq};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),I.x=O(r,I),I.X=O(n,I),I.c=O(t,I);function O(B,fe){return function(ye){var q=[],mt=-1,Pe=0,Rt=B.length,Et,Lr,Oa;for(ye instanceof Date||(ye=new Date(+ye));++mt<Rt;)B.charCodeAt(mt)===37&&(q.push(B.slice(Pe,mt)),(Lr=iP[Et=B.charAt(++mt)])!=null?Et=B.charAt(++mt):Lr=Et==="e"?" ":"0",(Oa=fe[Et])&&(Et=Oa(ye,Lr)),q.push(Et),Pe=mt+1);return q.push(B.slice(Pe,mt)),q.join("")}}function y(B,fe){return function(ye){var q=jl(1900,void 0,1),mt=S(q,B,ye+="",0),Pe,Rt;if(mt!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Pe=Fg(jl(q.y,0,1)),Rt=Pe.getUTCDay(),Pe=Rt>4||Rt===0?xh.ceil(Pe):xh(Pe),Pe=Xp.offset(Pe,(q.V-1)*7),q.y=Pe.getUTCFullYear(),q.m=Pe.getUTCMonth(),q.d=Pe.getUTCDate()+(q.w+6)%7):(Pe=Vg(jl(q.y,0,1)),Rt=Pe.getDay(),Pe=Rt>4||Rt===0?wh.ceil(Pe):wh(Pe),Pe=vu.offset(Pe,(q.V-1)*7),q.y=Pe.getFullYear(),q.m=Pe.getMonth(),q.d=Pe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Rt="Z"in q?Fg(jl(q.y,0,1)).getUTCDay():Vg(jl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Rt+5)%7:q.w+q.U*7-(Rt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Fg(q)):Vg(q)}}function S(B,fe,ye,q){for(var mt=0,Pe=fe.length,Rt=ye.length,Et,Lr;mt<Pe;){if(q>=Rt)return-1;if(Et=fe.charCodeAt(mt++),Et===37){if(Et=fe.charAt(mt++),Lr=k[Et in iP?fe.charAt(mt++):Et],!Lr||(q=Lr(B,ye,q))<0)return-1}else if(Et!=ye.charCodeAt(q++))return-1}return q}function C(B,fe,ye){var q=c.exec(fe.slice(ye));return q?(B.p=u.get(q[0].toLowerCase()),ye+q[0].length):-1}function D(B,fe,ye){var q=m.exec(fe.slice(ye));return q?(B.w=g.get(q[0].toLowerCase()),ye+q[0].length):-1}function T(B,fe,ye){var q=f.exec(fe.slice(ye));return q?(B.w=p.get(q[0].toLowerCase()),ye+q[0].length):-1}function N(B,fe,ye){var q=b.exec(fe.slice(ye));return q?(B.m=E.get(q[0].toLowerCase()),ye+q[0].length):-1}function j(B,fe,ye){var q=v.exec(fe.slice(ye));return q?(B.m=x.get(q[0].toLowerCase()),ye+q[0].length):-1}function G(B,fe,ye){return S(B,t,fe,ye)}function ae(B,fe,ye){return S(B,r,fe,ye)}function le(B,fe,ye){return S(B,n,fe,ye)}function se(B){return s[B.getDay()]}function U(B){return a[B.getDay()]}function W(B){return l[B.getMonth()]}function te(B){return o[B.getMonth()]}function pe(B){return i[+(B.getHours()>=12)]}function ue(B){return 1+~~(B.getMonth()/3)}function Je(B){return s[B.getUTCDay()]}function Te(B){return a[B.getUTCDay()]}function Ht(B){return l[B.getUTCMonth()]}function pt(B){return o[B.getUTCMonth()]}function Me(B){return i[+(B.getUTCHours()>=12)]}function ti(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=O(B+="",A);return fe.toString=function(){return B},fe},parse:function(B){var fe=y(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=O(B+="",I);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=y(B+="",!0);return fe.toString=function(){return B},fe}}}var iP={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,yq=/^%/,wq=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function xq(e){return e.replace(wq,"\\$&")}function Nl(e){return new RegExp("^(?:"+e.map(xq).join("|")+")","i")}function kl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function bq(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _q(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Eq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Aq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aP(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sP(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tq(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Cq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oP(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kq(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Oq(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rq(e,t,r){var n=yq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Dq(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Mq(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cP(e,t){return Se(e.getDate(),t,2)}function Lq(e,t){return Se(e.getHours(),t,2)}function Vq(e,t){return Se(e.getHours()%12||12,t,2)}function Fq(e,t){return Se(1+vu.count(Ti(e),e),t,3)}function pR(e,t){return Se(e.getMilliseconds(),t,3)}function $q(e,t){return pR(e,t)+"000"}function zq(e,t){return Se(e.getMonth()+1,t,2)}function Uq(e,t){return Se(e.getMinutes(),t,2)}function Bq(e,t){return Se(e.getSeconds(),t,2)}function qq(e){var t=e.getDay();return t===0?7:t}function Kq(e,t){return Se(Zp.count(Ti(e)-1,e),t,2)}function mR(e){var t=e.getDay();return t>=4||t===0?Do(e):Do.ceil(e)}function Wq(e,t){return e=mR(e),Se(Do.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function Hq(e){return e.getDay()}function Gq(e,t){return Se(wh.count(Ti(e)-1,e),t,2)}function Qq(e,t){return Se(e.getFullYear()%100,t,2)}function Yq(e,t){return e=mR(e),Se(e.getFullYear()%100,t,2)}function Xq(e,t){return Se(e.getFullYear()%1e4,t,4)}function Zq(e,t){var r=e.getDay();return e=r>=4||r===0?Do(e):Do.ceil(e),Se(e.getFullYear()%1e4,t,4)}function Jq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function uP(e,t){return Se(e.getUTCDate(),t,2)}function eK(e,t){return Se(e.getUTCHours(),t,2)}function tK(e,t){return Se(e.getUTCHours()%12||12,t,2)}function rK(e,t){return Se(1+Xp.count(Ci(e),e),t,3)}function gR(e,t){return Se(e.getUTCMilliseconds(),t,3)}function nK(e,t){return gR(e,t)+"000"}function iK(e,t){return Se(e.getUTCMonth()+1,t,2)}function aK(e,t){return Se(e.getUTCMinutes(),t,2)}function sK(e,t){return Se(e.getUTCSeconds(),t,2)}function oK(e){var t=e.getUTCDay();return t===0?7:t}function lK(e,t){return Se(Jp.count(Ci(e)-1,e),t,2)}function vR(e){var t=e.getUTCDay();return t>=4||t===0?Mo(e):Mo.ceil(e)}function cK(e,t){return e=vR(e),Se(Mo.count(Ci(e),e)+(Ci(e).getUTCDay()===4),t,2)}function uK(e){return e.getUTCDay()}function dK(e,t){return Se(xh.count(Ci(e)-1,e),t,2)}function fK(e,t){return Se(e.getUTCFullYear()%100,t,2)}function hK(e,t){return e=vR(e),Se(e.getUTCFullYear()%100,t,2)}function pK(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function mK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Mo(e):Mo.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function gK(){return"+0000"}function dP(){return"%"}function fP(e){return+e}function hP(e){return Math.floor(+e/1e3)}var Rs,yR,wR;vK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vK(e){return Rs=vq(e),yR=Rs.format,Rs.parse,wR=Rs.utcFormat,Rs.utcParse,Rs}function yK(e){return new Date(e)}function wK(e){return e instanceof Date?+e:+new Date(+e)}function Zx(e,t,r,n,i,a,s,o,l,c){var u=Vx(),f=u.invert,p=u.domain,m=c(".%L"),g=c(":%S"),v=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),E=c("%b %d"),A=c("%B"),I=c("%Y");function k(O){return(l(O)<O?m:o(O)<O?g:s(O)<O?v:a(O)<O?x:n(O)<O?i(O)<O?b:E:r(O)<O?A:I)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?p(Array.from(O,wK)):p().map(yK)},u.ticks=function(O){var y=p();return e(y[0],y[y.length-1],O??10)},u.tickFormat=function(O,y){return y==null?k:c(y)},u.nice=function(O){var y=p();return(!O||typeof O.range!="function")&&(O=t(y[0],y[y.length-1],O??10)),O?p(aR(y,O)):u},u.copy=function(){return gu(u,Zx(e,t,r,n,i,a,s,o,l,c))},u}function xK(){return gn.apply(Zx(mq,gq,Ti,Yx,Zp,vu,Gx,Wx,Xa,yR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bK(){return gn.apply(Zx(hq,pq,Ci,Xx,Jp,Xp,Qx,Hx,Xa,wR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,r,n,i,a,s=yr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var m,g;return arguments.length?([m,g]=p,s=f(m,g),c):[s(0),s(1)]}}return c.range=u(Go),c.rangeRound=u(Lx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xR(){var e=ja(em()(yr));return e.copy=function(){return Na(e,xR())},Di.apply(e,arguments)}function bR(){var e=zx(em()).domain([1,10]);return e.copy=function(){return Na(e,bR()).base(e.base())},Di.apply(e,arguments)}function _R(){var e=Ux(em());return e.copy=function(){return Na(e,_R()).constant(e.constant())},Di.apply(e,arguments)}function Jx(){var e=Bx(em());return e.copy=function(){return Na(e,Jx()).exponent(e.exponent())},Di.apply(e,arguments)}function _K(){return Jx.apply(null,arguments).exponent(.5)}function ER(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((pu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(pa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>o7(e,a/n))},r.copy=function(){return ER(t).domain(e)},Di.apply(r,arguments)}function tm(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=yr,u,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+u(v))-a)*(n*v<n*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,i=u(e=+e),a=u(t=+t),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(c=v,m):c};function g(v){return function(x){var b,E,A;return arguments.length?([b,E,A]=x,c=R7(v,[b,E,A]),m):[c(0),c(.5),c(1)]}}return m.range=g(Go),m.rangeRound=g(Lx),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return u=v,i=v(e),a=v(t),s=v(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function SR(){var e=ja(tm()(yr));return e.copy=function(){return Na(e,SR())},Di.apply(e,arguments)}function AR(){var e=zx(tm()).domain([.1,1,10]);return e.copy=function(){return Na(e,AR()).base(e.base())},Di.apply(e,arguments)}function PR(){var e=Ux(tm());return e.copy=function(){return Na(e,PR()).constant(e.constant())},Di.apply(e,arguments)}function eb(){var e=Bx(tm());return e.copy=function(){return Na(e,eb()).exponent(e.exponent())},Di.apply(e,arguments)}function EK(){return eb.apply(null,arguments).exponent(.5)}const ql=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rx,scaleDiverging:SR,scaleDivergingLog:AR,scaleDivergingPow:eb,scaleDivergingSqrt:EK,scaleDivergingSymlog:PR,scaleIdentity:iR,scaleImplicit:Wy,scaleLinear:nR,scaleLog:sR,scaleOrdinal:Ox,scalePoint:u7,scalePow:qx,scaleQuantile:cR,scaleQuantize:uR,scaleRadial:lR,scaleSequential:xR,scaleSequentialLog:bR,scaleSequentialPow:Jx,scaleSequentialQuantile:ER,scaleSequentialSqrt:_K,scaleSequentialSymlog:_R,scaleSqrt:nq,scaleSymlog:oR,scaleThreshold:dR,scaleTime:xK,scaleUtc:bK,tickFormat:rR},Symbol.toStringTag,{value:"Module"}));var ka=e=>e.chartData,tb=L([ka],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rb=(e,t,r,n)=>n?tb(e):ka(e);function Ea(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ht(t)&&ht(r))return!0}return!1}function pP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function TR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ht(r))i=r;else if(typeof r=="function")return;if(ht(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Ea(s))return s}}function SK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ea(n))return pP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(re(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&YS.test(i)){var l=YS.exec(i);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&XS.test(a)){var u=XS.exec(a);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[s,o];if(Ea(p))return t==null?p:pP(p,t,r)}}}var Qo=1e9,AK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ib,Xe=!0,mn="[DecimalError] ",as=mn+"Invalid argument: ",nb=mn+"Exponent out of range: ",Yo=Math.floor,Ka=Math.pow,PK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ur,$t=1e7,Ke=7,CR=9007199254740991,bh=Yo(CR/Ke),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return pi(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return Re(pi(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return _t(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ur))throw Error(mn+"NaN");if(r.s<1)throw Error(mn+(r.s?"NaN":"-Infinity"));return r.eq(Ur)?new n(0):(Xe=!1,t=pi(qc(r,a),qc(e,a),a),Xe=!0,Re(t,i))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NR(t,e):IR(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(mn+"NaN");return r.s?(Xe=!1,t=pi(r,e,0,1).times(e),Xe=!0,r.minus(t)):Re(new n(r),i)};J.naturalExponential=J.exp=function(){return jR(this)};J.naturalLogarithm=J.ln=function(){return qc(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IR(t,e):NR(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(as+e);if(t=_t(i)+1,n=i.d.length-1,r=n*Ke+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(mn+"NaN")}for(e=_t(o),Xe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=zn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Yo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(pi(o,a,s+2)).times(.5),zn(a.d).slice(0,s)===(t=zn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Re(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Xe=!0,Re(n,r)};J.times=J.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=m.length,l<c&&(a=p,p=m,m=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%$t|0,t=o/$t|0;a[i]=(a[i]+t)%$t|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xe?Re(e,f.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ei(e,0,Qo),t===void 0?t=n.rounding:ei(t,0,8),Re(r,e+_t(r)+1,t))};J.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=vs(n,!0):(ei(e,0,Qo),t===void 0?t=i.rounding:ei(t,0,8),n=Re(new i(n),e+1,t),r=vs(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?vs(i):(ei(e,0,Qo),t===void 0?t=a.rounding:ei(t,0,8),n=Re(new a(i),e+_t(i)+1,t),r=vs(n.abs(),!1,e+_t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return Re(new t(e),_t(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ur);if(o=new l(o),!o.s){if(e.s<1)throw Error(mn+"Infinity");return o}if(o.eq(Ur))return o;if(n=l.precision,e.eq(Ur))return Re(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=u<0?-u:u)<=CR){for(i=new l(Ur),t=Math.ceil(n/Ke+4),Xe=!1;r%2&&(i=i.times(o),gP(i.d,t)),r=Yo(r/2),r!==0;)o=o.times(o),gP(o.d,t);return Xe=!0,e.s<0?new l(Ur).div(i):Re(i,n)}}else if(a<0)throw Error(mn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xe=!1,i=e.times(qc(o,n+c)),Xe=!0,i=jR(i),i.s=a,i};J.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=_t(i),n=vs(i,r<=a.toExpNeg||r>=a.toExpPos)):(ei(e,1,Qo),t===void 0?t=a.rounding:ei(t,0,8),i=Re(new a(i),e,t),r=_t(i),n=vs(i,e<=r||r<=a.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ei(e,1,Qo),t===void 0?t=n.rounding:ei(t,0,8)),Re(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_t(e),r=e.constructor;return vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function IR(e,t){var r,n,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Xe?Re(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Ke),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/$t|0,l[a]%=$t;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xe?Re(t,f):t}function ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(as+e)}function zn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ke-n.length,r&&(a+=Gi(r)),a+=n;s=e[t],n=s+"",r=Ke-n.length,r&&(a+=Gi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var pi=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%$t|0,s=a/$t|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*$t+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,m,g,v,x,b,E,A,I,k,O,y,S,C=n.constructor,D=n.s==i.s?1:-1,T=n.d,N=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(mn+"Division by zero");for(l=n.e-i.e,y=N.length,k=T.length,m=new C(D),g=m.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,a==null?E=a=C.precision:s?E=a+(_t(n)-_t(i))+1:E=a,E<0)return new C(0);if(E=E/Ke+2|0,c=0,y==1)for(u=0,N=N[0],E++;(c<k||u)&&E--;c++)A=u*$t+(T[c]||0),g[c]=A/N|0,u=A%N|0;else{for(u=$t/(N[0]+1)|0,u>1&&(N=e(N,u),T=e(T,u),y=N.length,k=T.length),I=y,v=T.slice(0,y),x=v.length;x<y;)v[x++]=0;S=N.slice(),S.unshift(0),O=N[0],N[1]>=$t/2&&++O;do u=0,o=t(N,v,y,x),o<0?(b=v[0],y!=x&&(b=b*$t+(v[1]||0)),u=b/O|0,u>1?(u>=$t&&(u=$t-1),f=e(N,u),p=f.length,x=v.length,o=t(f,v,p,x),o==1&&(u--,r(f,y<p?S:N,p))):(u==0&&(o=u=1),f=N.slice()),p=f.length,p<x&&f.unshift(0),r(v,f,x),o==-1&&(x=v.length,o=t(N,v,y,x),o<1&&(u++,r(v,y<x?S:N,x))),x=v.length):o===0&&(u++,v=[0]),g[c++]=u,o&&v[0]?v[x++]=T[I]||0:(v=[T[I]],x=1);while((I++<k||v[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=l,Re(m,s?a+_t(m)+1:a)}}();function jR(e,t){var r,n,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(_t(e)>16)throw Error(nb+_t(e));if(!e.s)return new u(Ur);for(Xe=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Ka(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Ur),u.precision=o;;){if(i=Re(i.times(e),o),r=r.times(++l),s=a.plus(pi(i,r,o)),zn(s.d).slice(0,o)===zn(a.d).slice(0,o)){for(;c--;)a=Re(a.times(a),o);return u.precision=f,t==null?(Xe=!0,Re(a,f)):a}a=s}}function _t(e){for(var t=e.e*Ke,r=e.d[0];r>=10;r/=10)t++;return t}function $g(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(mn+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function Gi(e){for(var t="";e--;)t+="0";return t}function qc(e,t){var r,n,i,a,s,o,l,c,u,f=1,p=10,m=e,g=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(mn+(m.s?"NaN":"-Infinity"));if(m.eq(Ur))return new v(0);if(t==null?(Xe=!1,c=x):c=t,m.eq(10))return t==null&&(Xe=!0),$g(v,c);if(c+=p,v.precision=c,r=zn(g),n=r.charAt(0),a=_t(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=zn(m.d),n=r.charAt(0),f++;a=_t(m),n>1?(m=new v("0."+r),a++):m=new v(n+"."+r.slice(1))}else return l=$g(v,c+2,x).times(a+""),m=qc(new v(n+"."+r.slice(1)),c-p).plus(l),v.precision=x,t==null?(Xe=!0,Re(m,x)):m;for(o=s=m=pi(m.minus(Ur),m.plus(Ur),c),u=Re(m.times(m),c),i=3;;){if(s=Re(s.times(u),c),l=o.plus(pi(s,new v(i),c)),zn(l.d).slice(0,c)===zn(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus($g(v,c+2,x).times(a+""))),o=pi(o,new v(f),c),v.precision=x,t==null?(Xe=!0,Re(o,x)):o;o=l,i+=2}}function mP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Yo(r/Ke),e.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ke;n<i;)e.d.push(+t.slice(n,n+=Ke));t=t.slice(n),n=Ke-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>bh||e.e<-bh))throw Error(nb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ke,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Ke),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Ke,i=n-Ke+s}if(r!==void 0&&(a=Ka(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Ka(10,s-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=_t(e),f.length=1,t=t-a-1,f[0]=Ka(10,(Ke-t%Ke)%Ke),e.e=Yo(-t/Ke)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Ka(10,Ke-n),f[u]=i>0?(c/Ka(10,s-i)%Ka(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==$t&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=$t)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Xe&&(e.e>bh||e.e<-bh))throw Error(nb+_t(e));return e}function NR(e,t){var r,n,i,a,s,o,l,c,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xe?Re(t,m):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(m/Ke),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xe?Re(t,m):t):new p(0)}function vs(e,t,r){var n,i=_t(e),a=zn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Gi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Gi(-i-1)+a,r&&(n=r-s)>0&&(a+=Gi(n))):i>=s?(a+=Gi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Gi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Gi(n))),e.s<0?"-"+a:a}function gP(e,t){if(e.length>t)return e.length=t,!0}function kR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(as+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mP(s,a.toString())}else if(typeof a!="string")throw Error(as+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,PK.test(a))mP(s,a);else throw Error(as+a)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kR,i.config=i.set=TK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function TK(e){if(!e||typeof e!="object")throw Error(mn+"Object expected");var t,r,n,i=["precision",1,Qo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Yo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(as+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(as+r+": "+n);return this}var ib=kR(AK);Ur=new ib(1);const Ie=ib;var CK=e=>e,OR={},RR=e=>e===OR,vP=e=>function t(){return arguments.length===0||arguments.length===1&&RR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},DR=(e,t)=>e===1?t:vP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==OR).length;return a>=e?t(...n):DR(e-a,vP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>RR(u)?o.shift():u);return t(...c,...o)}))}),IK=e=>DR(e.length,e),Yy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jK=IK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),NK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return CK;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Xy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function MR(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function LR(e,t,r){for(var n=new Ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var VR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},FR=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=MR(e.toNumber()),i=new Ie(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Ie(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Ie(l.toNumber()):new Ie(Math.ceil(l.toNumber()))},kK=(e,t,r)=>{var n=new Ie(1),i=new Ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ie(10).pow(MR(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var s=Math.floor((t-1)/2),o=NK(jK(l=>i.add(new Ie(l-s).mul(n)).toNumber()),Yy);return o(0,t)},$R=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var s=FR(new Ie(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Ie(0):(o=new Ie(t).add(r).div(2),o=o.sub(new Ie(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Ie(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?$R(t,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new Ie(l).mul(s)),tickMax:o.add(new Ie(c).mul(s))})},OK=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=VR([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Yy(0,i-1).map(()=>1/0)]:[...Yy(0,i-1).map(()=>-1/0),l];return r>n?Xy(c):c}if(o===l)return kK(o,i,a);var{step:u,tickMin:f,tickMax:p}=$R(o,l,s,a,0),m=LR(f,p.add(new Ie(.1).mul(u)),u);return r>n?Xy(m):m},RK=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=VR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),c=FR(new Ie(o).sub(s).div(l-1),a,0),u=[...LR(new Ie(s),new Ie(o),c),o];return a===!1&&(u=u.map(f=>Math.round(f))),n>i?Xy(u):u},zR=e=>e.rootProps.maxBarSize,DK=e=>e.rootProps.barGap,UR=e=>e.rootProps.barCategoryGap,MK=e=>e.rootProps.barSize,yu=e=>e.rootProps.stackOffset,BR=e=>e.rootProps.reverseStackOrder,ab=e=>e.options.chartName,sb=e=>e.rootProps.syncId,qR=e=>e.rootProps.syncMethod,ob=e=>e.options.eventEmitter,Jt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},si={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},LK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:si.angleAxisId,includeHidden:!1,name:void 0,reversed:si.reversed,scale:si.scale,tick:si.tick,tickCount:void 0,ticks:void 0,type:si.type,unit:void 0},VK={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:zr.type,unit:void 0},FK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:si.scale,tick:si.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$K={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:"category",unit:void 0},lb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?FK:LK,cb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$K:VK,nm=e=>e.polarOptions,ub=L([Oi,Ri,jt],FO),KR=L([nm,ub],(e,t)=>{if(e!=null)return dr(e.innerRadius,t,0)}),WR=L([nm,ub],(e,t)=>{if(e!=null)return dr(e.outerRadius,t,t*.8)}),zK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},HR=L([nm],zK);L([lb,HR],rm);var GR=L([ub,KR,WR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([cb,GR],rm);var QR=L([Ae,nm,KR,WR,Oi,Ri],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:dr(s,i,i/2),cy:dr(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Ze=(e,t)=>t,wu=(e,t,r)=>r;function db(e){return e==null?void 0:e.id}function YR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=db(o);c.forEach((f,p)=>{var m=a==null||i?p:String(Ye(f,a,null)),g=Ye(f,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[u]:g}),s.set(m,v)})}}),Array.from(s.values())}function im(e){return e.stackId!=null&&e.dataKey!=null}var am=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function sm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function UK(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var kt=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xo=e=>e.tooltip.settings.axisId;function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){BK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zy=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XR=(e,t)=>e.cartesianAxis.xAxis[t],Mi=(e,t)=>{var r=XR(e,t);return r??Lt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:du},ZR=(e,t)=>e.cartesianAxis.yAxis[t],Li=(e,t)=>{var r=ZR(e,t);return r??Vt},WK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??WK},it=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Li(e,r);case"zAxis":return fb(e,r);case"angleAxis":return lb(e,r);case"radiusAxis":return cb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},HK=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Li(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xu=(e,t,r)=>{switch(t){case"xAxis":return Mi(e,r);case"yAxis":return Li(e,r);case"angleAxis":return lb(e,r);case"radiusAxis":return cb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},JR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function hb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var pb=e=>e.graphicalItems.cartesianItems,GK=L([Ze,wu],hb),mb=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),bu=L([pb,it,GK],mb,{memoizeOptions:{resultEqualityCheck:sm}}),e2=L([bu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(im)),t2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QK=L([bu],t2),gb=e=>e.map(t=>t.data).filter(Boolean).flat(1),YK=L([bu],gb,{memoizeOptions:{resultEqualityCheck:sm}}),vb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},yb=L([YK,rb],vb),wb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ye(i,n)}))):e.map(n=>({value:n})),om=L([yb,it,bu],wb);function r2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xd(e){if(Zn(e)||e instanceof Date){var t=Number(e);if(ht(t))return t}}function wP(e){if(Array.isArray(e)){var t=[Xd(e[0]),Xd(e[1])];return Ea(t)?t:void 0}var r=Xd(e);if(r!=null)return[r,r]}function Ii(e){return e.map(Xd).filter(lz)}function XK(e,t,r){return!r||typeof t!="number"||Nn(t)?[]:r.length?Ii(r.flatMap(n=>{var i=Ye(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ht(a)||!ht(s)))return[t-a,t+s]})):[]}var Ot=e=>{var t=kt(e),r=Xo(e);return xu(e,t,r)},_u=L([Ot],e=>e==null?void 0:e.dataKey),ZK=L([e2,rb,Ot],YR),n2=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=n?[...l].reverse():l,u=c.map(db);return[o,{stackedData:PU(e,u,r),graphicalItems:c}]}))},Jy=L([ZK,e2,yu,BR],n2),i2=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=NU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},JK=L([it],e=>e.allowDataOverflow),xb=e=>{var t;if(e==null||!("domain"in e))return Zy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ii(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Zy},bb=L([it],xb),_b=L([bb,JK],TR),eW=L([Jy,ka,Ze,_b],i2,{memoizeOptions:{resultEqualityCheck:am}}),lm=e=>e.errorBars,tW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>r2(r,n)),Eh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Eb=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,u,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(b=>r2(i,b)),p=Ye(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),m=XK(o,p,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||v>s)&&(s=v)}var x=wP(p);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=wP(Ye(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),ht(a)&&ht(s))return[a,s]},rW=L([yb,it,QK,lm,Ze],Eb,{memoizeOptions:{resultEqualityCheck:am}});function nW(e){var{value:t}=e;if(Zn(t)||t instanceof Date)return t}var iW=(e,t,r)=>{var n=e.map(nW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tk(n))?WO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},a2=e=>e.referenceElements.dots,Zo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),aW=L([a2,Ze,wu],Zo),s2=e=>e.referenceElements.areas,sW=L([s2,Ze,wu],Zo),o2=e=>e.referenceElements.lines,oW=L([o2,Ze,wu],Zo),l2=(e,t)=>{var r=Ii(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lW=L(aW,Ze,l2),c2=(e,t)=>{var r=Ii(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cW=L([sW,Ze],c2);function uW(e){var t;if(e.x!=null)return Ii([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ii(r)}function dW(e){var t;if(e.y!=null)return Ii([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ii(r)}var u2=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?uW(n):dW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fW=L([oW,Ze],u2),hW=L(lW,fW,cW,(e,t,r)=>Eh(e,r,t)),Sb=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Eh(n,a,i):Eh(a,i);return SK(t,c,e.allowDataOverflow)},pW=L([it,bb,_b,eW,rW,hW,Ae,Ze],Sb,{memoizeOptions:{resultEqualityCheck:am}}),mW=[0,1],Ab=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Ps(t,a);if(c&&o==null){var u;return WO(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return l==="category"?iW(n,e,c):i==="expand"?mW:s}},Pb=L([it,Ae,yb,om,yu,Ze,pW],Ab),d2=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(au(a));return o in ql?o:"point"}}},Jo=L([it,Ae,JR,ab,Ze],d2);function gW(e){if(e!=null){if(e in ql)return ql[e]();var t="scale".concat(au(e));if(t in ql)return ql[t]()}}function Tb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=gW(t);if(i!=null){var a=i.domain(r).range(n);return bU(a),a}}}var Cb=(e,t,r)=>{var n=xb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ea(e))return OK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ea(e))return RK(e,t.tickCount,t.allowDecimals)}},Ib=L([Pb,xu,Jo],Cb),jb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ea(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},vW=L([it,Pb,Ib,Ze],jb),yW=L(om,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ii(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),f2=L(yW,Ae,UR,jt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!ht(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=dr(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),wW=(e,t)=>{var r=Mi(e,t);return r==null||typeof r.padding!="string"?0:f2(e,"xAxis",t,r.padding)},xW=(e,t)=>{var r=Li(e,t);return r==null||typeof r.padding!="string"?0:f2(e,"yAxis",t,r.padding)},bW=L(Mi,wW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),_W=L(Li,xW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),EW=L([jt,bW,$p,Fp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),SW=L([jt,Ae,_W,$p,Fp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Eu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return EW(e,r,n);case"yAxis":return SW(e,r,n);case"zAxis":return(i=fb(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return HR(e);case"radiusAxis":return GR(e,r);default:return}},h2=L([it,Eu],rm),el=L([it,Jo,vW,h2],Tb);L([bu,lm,Ze],tW);function p2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cm=(e,t)=>t,um=(e,t,r)=>r,AW=L(Lp,cm,um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p2)),PW=L(Vp,cm,um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p2)),m2=(e,t)=>({width:e.width,height:t.height}),TW=(e,t)=>{var r=typeof t.width=="number"?t.width:du;return{width:r,height:e.height}},g2=L(jt,Mi,m2),CW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},IW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jW=L(Ri,jt,AW,cm,um,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=m2(t,o);s==null&&(s=CW(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),NW=L(Oi,jt,PW,cm,um,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=TW(t,o);s==null&&(s=IW(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),kW=(e,t)=>{var r=Mi(e,t);if(r!=null)return jW(e,r.orientation,r.mirror)},OW=L([jt,Mi,kW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),RW=(e,t)=>{var r=Li(e,t);if(r!=null)return NW(e,r.orientation,r.mirror)},DW=L([jt,Li,RW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),v2=L(jt,Li,(e,t)=>{var r=typeof t.width=="number"?t.width:du;return{width:r,height:e.height}}),xP=(e,t,r)=>{switch(t){case"xAxis":return g2(e,r).width;case"yAxis":return v2(e,r).height;default:return}},y2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Ps(e,n),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&tk(l))return l}},Nb=L([Ae,om,it,Ze],y2),w2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Ps(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},kb=L([Ae,om,xu,Ze],w2),bP=L([Ae,HK,Jo,el,Nb,kb,Eu,Ib,Ze],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var c=Ps(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),MW=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var c=Ps(e,l),{type:u,ticks:f,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ut(a[0]-a[1])*2*g:g;var v=f||i;if(v){var x=v.map((b,E)=>{var A=s?s.indexOf(b):b;return{index:E,coordinate:n(A)+g,value:b,offset:g}});return x.filter(b=>ht(b.coordinate))}return c&&o?o.map((b,E)=>({coordinate:n(b)+g,value:b,index:E,offset:g})).filter(b=>ht(b.coordinate)):n.ticks?n.ticks(p).map(b=>({coordinate:n(b)+g,value:b,offset:g})):n.domain().map((b,E)=>({coordinate:n(b)+g,value:s?s[b]:b,index:E,offset:g}))}},x2=L([Ae,xu,Jo,el,Ib,Eu,Nb,kb,Ze],MW),LW=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ps(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ut(n[0]-n[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:i?i[u]:u,index:f,offset:c}))}},Lo=L([Ae,xu,el,Eu,Nb,kb,Ze],LW),Vo=L(it,el,(e,t)=>{if(!(e==null||t==null))return _h(_h({},e),{},{scale:t})}),VW=L([it,Jo,Pb,h2],Tb);L((e,t,r)=>fb(e,r),VW,(e,t)=>{if(!(e==null||t==null))return _h(_h({},e),{},{scale:t})});var FW=L([Ae,Lp,Vp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b2=e=>e.options.defaultTooltipEventType,_2=e=>e.options.validateTooltipEventTypes;function E2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ob(e,t){var r=b2(e),n=_2(e);return E2(t,r,n)}function $W(e){return ee(t=>Ob(t,e))}var S2=(e,t)=>{var r,n=Number(t);if(!(Nn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},zW=e=>e.tooltip.settings,Zi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UW={itemInteraction:{click:Zi,hover:Zi},axisInteraction:{click:Zi,hover:Zi},keyboardInteraction:Zi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A2=Dr({name:"tooltip",initialState:UW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Tn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(e,t){var r=Tn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:BW,replaceTooltipEntrySettings:qW,removeTooltipEntrySettings:KW,setTooltipSettingsState:WW,setActiveMouseOverItemIndex:P2,mouseLeaveItem:HW,mouseLeaveChart:T2,setActiveClickItemIndex:GW,setMouseOverAxisIndex:C2,setMouseClickAxisIndex:QW,setSyncInteraction:e0,setKeyboardInteraction:t0}=A2.actions,YW=A2.reducer;function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=JW(e,"string");return typeof t=="symbol"?t:t+""}function JW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tH(e){return e.index!=null}var I2=(e,t,r,n)=>{if(t==null)return Zi;var i=eH(e,t,r);if(i==null)return Zi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(tH(i)){if(a)return Pd(Pd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Pd(Pd({},Zi),{},{coordinate:i.coordinate})};function rH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function nH(e,t){var r=rH(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function iH(e,t,r){if(r==null||t==null)return!0;var n=Ye(e,t);return n==null||!Ea(r)?!0:nH(n,r)}var Rb=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ht(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||iH(c,r,n)?String(l):null},j2=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},N2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Su=e=>e.options.tooltipPayloadSearcher,tl=e=>e.tooltip;function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){aH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){return e??t}var k2=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:v,settings:x}=m,b=lH(v,o),E=Array.isArray(b)?cO(b,c,u):b,A=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,I=x==null?void 0:x.nameKey,k;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?k=oz(E,n,i):k=a(E,t,l,I),Array.isArray(k))k.forEach(y=>{var S=SP(SP({},x),{},{name:y.name,unit:y.unit,color:void 0,fill:void 0});p.push(ZS({tooltipEntrySettings:S,dataKey:y.dataKey,payload:y.payload,value:Ye(y.payload,y.dataKey),name:y.name}))});else{var O;p.push(ZS({tooltipEntrySettings:x,dataKey:A,payload:k,value:Ye(k,A),name:(O=Ye(k,I))!==null&&O!==void 0?O:x==null?void 0:x.name}))}return p},f)}},Db=L([Ot,Ae,JR,ab,kt],d2),cH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uH=L([kt,Xo],hb),Au=L([cH,Ot,uH],mb,{memoizeOptions:{resultEqualityCheck:sm}}),dH=L([Au],e=>e.filter(im)),fH=L([Au],gb,{memoizeOptions:{resultEqualityCheck:sm}}),rl=L([fH,ka],vb),hH=L([dH,ka,Ot],YR),Mb=L([rl,Ot,Au],wb),O2=L([Ot],xb),pH=L([Ot],e=>e.allowDataOverflow),R2=L([O2,pH],TR),mH=L([Au],e=>e.filter(im)),gH=L([hH,mH,yu,BR],n2),vH=L([gH,ka,kt,R2],i2),yH=L([Au],t2),wH=L([rl,Ot,yH,lm,kt],Eb,{memoizeOptions:{resultEqualityCheck:am}}),xH=L([a2,kt,Xo],Zo),bH=L([xH,kt],l2),_H=L([s2,kt,Xo],Zo),EH=L([_H,kt],c2),SH=L([o2,kt,Xo],Zo),AH=L([SH,kt],u2),PH=L([bH,AH,EH],Eh),TH=L([Ot,O2,R2,vH,wH,PH,Ae,kt],Sb),Pu=L([Ot,Ae,rl,Mb,yu,kt,TH],Ab),CH=L([Pu,Ot,Db],Cb),IH=L([Ot,Pu,CH,kt],jb),D2=e=>{var t=kt(e),r=Xo(e),n=!1;return Eu(e,t,r,n)},M2=L([Ot,D2],rm),L2=L([Ot,Db,IH,M2],Tb),jH=L([Ae,Mb,Ot,kt],y2),NH=L([Ae,Mb,Ot,kt],w2),kH=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=Ps(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ut(i[0]-i[1])*2*f:f,c&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:a?a[p]:p,index:m,offset:f}))}}},Vi=L([Ae,Ot,Db,L2,D2,jH,NH,kt],kH),Lb=L([b2,_2,zW],(e,t,r)=>E2(r.shared,e,t)),V2=e=>e.tooltip.settings.trigger,Vb=e=>e.tooltip.settings.defaultIndex,Tu=L([tl,Lb,V2,Vb],I2),ys=L([Tu,rl,_u,Pu],Rb),F2=L([Vi,ys],S2),Fb=L([Tu],e=>{if(e)return e.dataKey}),OH=L([Tu],e=>{if(e)return e.graphicalItemId}),$2=L([tl,Lb,V2,Vb],N2),RH=L([Oi,Ri,Ae,jt,Vi,Vb,$2,Su],j2),DH=L([Tu,RH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MH=L([Tu],e=>e.active),LH=L([$2,ys,ka,_u,F2,Su,Lb],k2);L([LH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH=()=>ee(Ot),UH=()=>{var e=zH(),t=ee(Vi),r=ee(L2);return rh(!e||!r?void 0:PP(PP({},e),{},{scale:r}),t)};function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},HH=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ds(Ds(Ds({},n),bt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ds(Ds(Ds({},n),bt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var z2=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ut(u-c)!==Ut(f-u)){var m=[];if(Ut(f-u)===Ut(i[1]-i[0])){p=f;var g=u+i[1]-i[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=f+i[1]-i[0];m[0]=Math.min(u,(v+u)/2),m[1]=Math.max(u,(v+u)/2)}var x=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var b=Math.min(c,f),E=Math.max(c,f);if(e>(b+u)/2&&e<=(E+u)/2){({index:s}=r[l]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},QH=()=>ee(ab),$b=(e,t)=>t,U2=(e,t,r)=>r,zb=(e,t,r,n)=>n,YH=L(Vi,e=>Tp(e,t=>t.coordinate)),Ub=L([tl,$b,U2,zb],I2),Bb=L([Ub,rl,_u,Pu],Rb),XH=(e,t,r)=>{if(t!=null){var n=tl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},B2=L([tl,$b,U2,zb],N2),Sh=L([Oi,Ri,Ae,jt,Vi,zb,B2,Su],j2),ZH=L([Ub,Sh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),q2=L([Vi,Bb],S2),JH=L([B2,Bb,ka,_u,q2,Su,$b],k2),eG=L([Ub,Bb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),tG=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&GH(e,s)){var o=kU(e,t),l=z2(o,a,i,r,n),c=WH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},rG=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=q8(e,r);if(o){var l=OU(o,t),c=z2(l,s,a,n,i),u=HH(t,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},nG=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?tG(e,t,n,i,a,s,o):rG(e,t,r,n,i,a,s)},iG=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),aG=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Jt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:UK}});function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cG={},uG={zIndexMap:Object.values(Jt).reduce((e,t)=>IP(IP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),cG)},dG=new Set(Object.values(Jt));function fG(e){return dG.has(e)}var K2=Dr({name:"zIndex",initialState:uG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!fG(r)&&delete e.zIndexMap[r])},prepare:Ge()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ge()}}}),{registerZIndexPortal:hG,unregisterZIndexPortal:pG,registerZIndexPortalId:mG,unregisterZIndexPortalId:gG}=K2.actions,vG=K2.reducer;function Rn(e){var{zIndex:t,children:r}=e,n=sB(),i=n&&t!==void 0&&t!==0,a=Mr(),s=Ue();w.useLayoutEffect(()=>i?(s(hG({zIndex:t})),()=>{s(pG({zIndex:t}))}):su,[s,t,i]);var o=ee(c=>iG(c,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Qn.createPortal(r,l):null}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function _G(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,f=r,p=n,m=i;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var g,v,x;if(u==="ScatterChart")g=f,v=a8,x=Jt.cursorLine;else if(u==="BarChart")g=s8(o,f,a,s),v=VO,x=Jt.cursorRectangle;else if(o==="radial"&&nk(f)){var{cx:b,cy:E,radius:A,startAngle:I,endAngle:k}=$O(f);g={cx:b,cy:E,startAngle:I,endAngle:k,innerRadius:A,outerRadius:A},v=UO,x=Jt.cursorLine}else g={points:G8(o,f,a)},v=Nx,x=Jt.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,y=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},a),g),Nc(l)),{},{payload:p,payloadIndex:m,className:Ne("recharts-tooltip-cursor",O)});return w.createElement(Rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},w.createElement(bG,{cursor:l,cursorComp:v,cursorProps:y}))}function EG(e){var t=UH(),r=_O(),n=Up(),i=QH();return t==null||r==null||n==null||i==null?null:w.createElement(_G,r0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var W2=w.createContext(null),SG=()=>w.useContext(W2),H2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,f||l,p),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,m,g){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,E,A;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,p),!0;case 5:return x.fn.call(x.context,u,f,p,m),!0;case 6:return x.fn.call(x.context,u,f,p,m,g),!0}for(A=1,E=new Array(b-1);A<b;A++)E[A-1]=arguments[A];x.fn.apply(x.context,E)}else{var I=x.length,k;for(A=0;A<I;A++)switch(x[A].once&&this.removeListener(c,x[A].fn,void 0,!0),b){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,u);break;case 3:x[A].fn.call(x[A].context,u,f);break;case 4:x[A].fn.call(x[A].context,u,f,p);break;default:if(!E)for(k=1,E=new Array(b-1);k<b;k++)E[k-1]=arguments[k];x[A].fn.apply(x[A].context,E)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var m=r?r+c:c;if(!this._events[m])return this;if(!u)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var v=0,x=[],b=g.length;v<b;v++)(g[v].fn!==u||p&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(H2);var AG=H2.exports;const PG=Ni(AG);var Kc=new PG,n0="recharts.syncEvent.tooltip",NP="recharts.syncEvent.brush";function G2(e,t){if(t){var r=Number.parseInt(t,10);if(!Nn(r))return e==null?void 0:e[r]}}var TG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Q2=Dr({name:"options",initialState:TG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CG=Q2.reducer,{createEventEmitter:IG}=Q2.actions;function jG(e){return e.tooltip.syncInteraction}var NG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y2=Dr({name:"chartData",initialState:NG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:kP,setDataStartEndIndexes:kG,setComputedData:Zte}=Y2.actions,OG=Y2.reducer,RG=["x","y"];function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e,t){if(e==null)return{};var r,n,i=FG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $G(){var e=ee(sb),t=ee(ob),r=Ue(),n=ee(qR),i=ee(Vi),a=Up(),s=zp(),o=ee(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return su;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var p;if(s&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:g,y:v}=m,x=VG(m,RG),{x:b,y:E,width:A,height:I}=u.payload.sourceViewBox,k=Ms(Ms({},x),{},{x:s.x+(A?(g-b)/A:0)*s.width,y:s.y+(I?(v-E)/I:0)*s.height});r(Ms(Ms({},u),{},{payload:Ms(Ms({},u.payload),{},{coordinate:k})}))}else r(u);return}if(i!=null){var O;if(typeof n=="function"){var y={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=n(i,y);O=i[S]}else n==="value"&&(O=i.find(le=>String(le.value)===u.payload.label));var{coordinate:C}=u.payload;if(O==null||u.payload.active===!1||C==null||s==null){r(e0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:T}=C,N=Math.min(D,s.x+s.width),j=Math.min(T,s.y+s.height),G={x:a==="horizontal"?O.coordinate:N,y:a==="horizontal"?j:O.coordinate},ae=e0({active:u.payload.active,coordinate:G,dataKey:u.payload.dataKey,index:String(O.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(ae)}}};return Kc.on(n0,l),()=>{Kc.off(n0,l)}},[o,r,t,e,n,i,a,s])}function zG(){var e=ee(sb),t=ee(ob),r=Ue();w.useEffect(()=>{if(e==null)return su;var n=(i,a,s)=>{t!==s&&e===i&&r(kG(a))};return Kc.on(NP,n),()=>{Kc.off(NP,n)}},[r,t,e])}function UG(){var e=Ue();w.useEffect(()=>{e(IG())},[e]),$G(),zG()}function BG(e,t,r,n,i,a){var s=ee(m=>XH(m,e,t)),o=ee(ob),l=ee(sb),c=ee(qR),u=ee(jG),f=u==null?void 0:u.active,p=zp();w.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=e0({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Kc.emit(n0,l,m,o)}},[f,r,s,i,n,o,l,c,a,p])}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e){return e.dataKey}function GG(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(VB,t)}var MP=[],QG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qb(e){var t,r,n=Kt(e,QG),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:v,wrapperStyle:x,cursor:b,shared:E,trigger:A,defaultIndex:I,portal:k,axisId:O}=n,y=Ue(),S=typeof I=="number"?String(I):I;w.useEffect(()=>{y(WW({shared:E,trigger:A,axisId:O,active:i,defaultIndex:S}))},[y,E,A,O,i,S]);var C=zp(),D=OO(),T=$W(E),{activeIndex:N,isActive:j}=(t=ee(Me=>eG(Me,T,A,S)))!==null&&t!==void 0?t:{},G=ee(Me=>JH(Me,T,A,S)),ae=ee(Me=>q2(Me,T,A,S)),le=ee(Me=>ZH(Me,T,A,S)),se=G,U=SG(),W=(r=i??j)!==null&&r!==void 0?r:!1,[te,pe]=Ok([se,W]),ue=T==="axis"?ae:void 0;BG(T,A,le,ue,N,W);var Je=k??U;if(Je==null||C==null||T==null)return null;var Te=se??MP;W||(Te=MP),c&&Te.length&&(Te=bk(Te.filter(Me=>Me.value!=null&&(Me.hide!==!0||n.includeHidden)),p,HG));var Ht=Te.length>0,pt=w.createElement(KB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:W,coordinate:le,hasPayload:Ht,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:C,wrapperStyle:x,lastBoundingBox:te,innerRef:pe,hasPortalFromProps:!!k},GG(l,DP(DP({},n),{},{payload:Te,label:ue,active:W,activeIndex:N,coordinate:le,accessibilityLayer:D})));return w.createElement(w.Fragment,null,Qn.createPortal(pt,Je),W&&w.createElement(EG,{cursor:b,tooltipEventType:T,coordinate:le,payload:Te,index:N}))}var Cu=e=>null;Cu.displayName="Cell";function YG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JG{constructor(t){YG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){tQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tQ(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iQ={cacheSize:2e3,enableCache:!0},X2=eQ({},iQ),VP=new JG(X2.cacheSize),aQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FP="recharts_measurement_span";function sQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var $P=(e,t)=>{try{var r=document.getElementById(FP);r||(r=document.createElement("span"),r.setAttribute("id",FP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ac=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hu.isSsr)return{width:0,height:0};if(!X2.enableCache)return $P(t,r);var n=sQ(t,r),i=VP.get(n);if(i)return i;var a=$P(t,r);return VP.set(n,a),a},zP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cQ=Object.keys(Z2),ro="NaN";function uQ(e,t){return e*Z2[t]}class Ar{static parse(t){var r,[,n,i]=(r=lQ.exec(t))!==null&&r!==void 0?r:[];return new Ar(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Nn(t)&&(this.unit=""),r!==""&&!oQ.test(r)&&(this.num=NaN,this.unit=""),cQ.includes(r)&&(this.num=uQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nn(this.num)}}function J2(e){if(e.includes(ro))return ro;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=zP.exec(t))!==null&&r!==void 0?r:[],s=Ar.parse(n??""),o=Ar.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return ro;t=t.replace(zP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,p]=(c=UP.exec(t))!==null&&c!==void 0?c:[],m=Ar.parse(u??""),g=Ar.parse(p??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return ro;t=t.replace(UP,v.toString())}return t}var BP=/\(([^()]*)\)/;function dQ(e){for(var t=e,r;(r=BP.exec(t))!=null;){var[,n]=r;t=t.replace(BP,J2(n))}return t}function fQ(e){var t=e.replace(/\s+/g,"");return t=dQ(t),t=J2(t),t}function hQ(e){try{return fQ(e)}catch{return ro}}function zg(e){var t=hQ(e.slice(5,-1));return t===ro?"":t}var pQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mQ=["dx","dy","angle","className","breakAll"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function qP(e,t){if(e==null)return{};var r,n,i=gQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eD=/[ \f\n\r\t\v\u2028\u2029]+/,tD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];qt(t)||(r?i=t.toString().split(""):i=t.toString().split(eD));var a=i.map(o=>({word:o,width:ac(o,n).width})),s=r?0:ac("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function vQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var rD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var c={words:[s],width:o};i.push(c)}return i},[]),nD=e=>e.reduce((t,r)=>t.width>r.width?t:r),yQ="",KP=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),c=tD({breakAll:r,style:n,children:l+yQ});if(!c)return[!1,[]];var u=rD(c.wordsWithComputedWidth,a,s,o),f=u.length>i||nD(u).width>Number(a);return[f,u]},wQ=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=re(a),u=String(s),f=rD(t,n,r,i);if(!c||i)return f;var p=f.length>a||nD(f).width>Number(n);if(!p)return f;for(var m=0,g=u.length-1,v=0,x;m<=g&&v<=u.length-1;){var b=Math.floor((m+g)/2),E=b-1,[A,I]=KP(u,E,l,o,a,n,r,i),[k]=KP(u,b,l,o,a,n,r,i);if(!A&&!k&&(m=b+1),A&&k&&(g=b-1),!A&&k){x=I;break}v++}return x||f},WP=e=>{var t=qt(e)?[]:e.toString().split(eD);return[{words:t,width:void 0}]},xQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!hu.isSsr){var o,l,c=tD({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return WP(n);return wQ({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return WP(n)},iD="#808080",bQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:iD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dm=w.forwardRef((e,t)=>{var r=Kt(e,bQ),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,f=qP(r,pQ),p=w.useMemo(()=>xQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:g,angle:v,className:x,breakAll:b}=f,E=qP(f,mQ);if(!Zn(n)||!Zn(i)||p.length===0)return null;var A=Number(n)+(re(m)?m:0),I=Number(i)+(re(g)?g:0);if(!ht(A)||!ht(I))return null;var k;switch(u){case"start":k=zg("calc(".concat(s,")"));break;case"middle":k=zg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=zg("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var y=p[0].width,{width:S}=f;O.push("scale(".concat(re(S)&&re(y)?S/y:1,")"))}return v&&O.push("rotate(".concat(v,", ").concat(A,", ").concat(I,")")),O.length&&(E.transform=O.join(" ")),w.createElement("text",i0({},hn(E),{ref:t,x:A,y:I,className:Ne("recharts-text",x),textAnchor:c,fill:o.includes("url")?iD:o}),p.map((C,D)=>{var T=C.words.join(b?"":" ");return w.createElement("tspan",{x:A,dy:D===0?k:a,key:"".concat(T,"-").concat(D)},T)}))});dm.displayName="Text";var _Q=["labelRef"];function EQ(e,t){if(e==null)return{};var r,n,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}var aD=w.createContext(null),CQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return w.createElement(aD.Provider,{value:l},o)},sD=()=>{var e=w.useContext(aD),t=zp();return e||bO(t)},IQ=w.createContext(null),jQ=()=>{var e=w.useContext(IQ),t=ee(QR);return e||t},NQ=e=>{var{value:t,formatter:r}=e,n=qt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Kb=e=>e!=null&&typeof e=="function",kQ=(e,t)=>{var r=Ut(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OQ=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:p,clockWise:m}=i,g=(c+u)/2,v=kQ(f,p),x=v>=0?1:-1,b,E;switch(t){case"insideStart":b=f+x*a,E=m;break;case"insideEnd":b=p-x*a,E=!m;break;case"end":b=p+x*a,E=m;break;default:throw new Error("Unsupported position ".concat(t))}E=v<=0?E:!E;var A=bt(o,l,g,b),I=bt(o,l,g,b+(E?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(I.x,",").concat(I.y),O=qt(e.id)?kc("recharts-radial-line-"):e.id;return w.createElement("text",oi({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",s)}),w.createElement("defs",null,w.createElement("path",{id:O,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(O)},r))},RQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=bt(n,i,s+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=bt(n,i,p,c);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},a0=e=>"cx"in e&&re(e.cx),DQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!a0(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=t,f=s,p=s+(l-c)/2,m=(f+p)/2,g=(l+c)/2,v=f+l/2,x=u>=0?1:-1,b=x*n,E=x>0?"end":"start",A=x>0?"start":"end",I=l>=0?1:-1,k=I*n,O=I>0?"end":"start",y=I>0?"start":"end";if(i==="top"){var S={x:f+l/2,y:o-b,textAnchor:"middle",verticalAnchor:E};return ut(ut({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:p+c/2,y:o+u+b,textAnchor:"middle",verticalAnchor:A};return ut(ut({},C),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var D={x:m-k,y:o+u/2,textAnchor:O,verticalAnchor:"middle"};return ut(ut({},D),a?{width:Math.max(D.x-a.x,0),height:u}:{})}if(i==="right"){var T={x:m+g+k,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return ut(ut({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:u}:{})}var N=a?{width:g,height:u}:{};return i==="insideLeft"?ut({x:m+k,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?ut({x:m+g-k,y:o+u/2,textAnchor:O,verticalAnchor:"middle"},N):i==="insideTop"?ut({x:f+l/2,y:o+b,textAnchor:"middle",verticalAnchor:A},N):i==="insideBottom"?ut({x:p+c/2,y:o+u-b,textAnchor:"middle",verticalAnchor:E},N):i==="insideTopLeft"?ut({x:f+k,y:o+b,textAnchor:y,verticalAnchor:A},N):i==="insideTopRight"?ut({x:f+l-k,y:o+b,textAnchor:O,verticalAnchor:A},N):i==="insideBottomLeft"?ut({x:p+k,y:o+u-b,textAnchor:y,verticalAnchor:E},N):i==="insideBottomRight"?ut({x:p+c-k,y:o+u-b,textAnchor:O,verticalAnchor:E},N):i&&typeof i=="object"&&(re(i.x)||Si(i.x))&&(re(i.y)||Si(i.y))?ut({x:s+dr(i.x,g),y:o+dr(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):ut({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},MQ={angle:0,offset:5,zIndex:Jt.label,position:"middle",textBreakAll:!1};function Qi(e){var t=Kt(e,MQ),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=jQ(),f=sD(),p=n==="center"?f:u??f,m,g,v;if(r==null?m=p:a0(r)?m=r:m=bO(r),!m||qt(i)&&qt(a)&&!w.isValidElement(s)&&typeof s!="function")return null;var x=ut(ut({},t),{},{viewBox:m});if(w.isValidElement(s)){var{labelRef:b}=x,E=EQ(x,_Q);return w.cloneElement(s,E)}if(typeof s=="function"){if(g=w.createElement(s,x),w.isValidElement(g))return g}else g=NQ(t);var A=hn(t);if(a0(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return OQ(t,n,g,A,m);v=RQ(m,t.offset,t.position)}else v=DQ(t,m);return w.createElement(Rn,{zIndex:t.zIndex},w.createElement(dm,oi({ref:c,className:Ne("recharts-label",o)},A,v,{textAnchor:vQ(A.textAnchor)?A.textAnchor:v.textAnchor,breakAll:l}),g))}Qi.displayName="Label";var LQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Qi,oi({key:"label-implicit"},n)):Zn(e)?w.createElement(Qi,oi({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Qi?w.cloneElement(e,ut({key:"label-implicit"},n)):w.createElement(Qi,oi({key:"label-implicit",content:e},n)):Kb(e)?w.createElement(Qi,oi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Qi,oi({},e,{key:"label-implicit"},n)):null};function VQ(e){var{label:t,labelRef:r}=e,n=sD();return LQ(t,n,r)||null}var oD={},lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(lD);var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lD,r=cD,n=Ap;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(oD);var FQ=oD.last;const $Q=Ni(FQ);var zQ=["valueAccessor"],UQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function GP(e,t){if(e==null)return{};var r,n,i=BQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qQ=e=>Array.isArray(e.value)?$Q(e.value):e.value,uD=w.createContext(void 0),KQ=uD.Provider,dD=w.createContext(void 0),WQ=dD.Provider;function HQ(){return w.useContext(uD)}function GQ(){return w.useContext(dD)}function Zd(e){var{valueAccessor:t=qQ}=e,r=GP(e,zQ),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=GP(r,UQ),c=HQ(),u=GQ(),f=c||u;return!f||!f.length?null:w.createElement(Rn,{zIndex:o??Jt.label},w.createElement(xr,{className:"recharts-label-list"},f.map((p,m)=>{var g,v=qt(n)?t(p,m):Ye(p&&p.payload,n),x=qt(a)?{}:{id:"".concat(a,"-").concat(m)};return w.createElement(Qi,Ah({key:"label-".concat(m)},hn(p),l,x,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}Zd.displayName="LabelList";function fD(e){var{label:t}=e;return t?t===!0?w.createElement(Zd,{key:"labelList-implicit"}):w.isValidElement(t)||Kb(t)?w.createElement(Zd,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Zd,Ah({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var hD=e=>e.graphicalItems.polarItems,QQ=L([Ze,wu],hb),fm=L([hD,it,QQ],mb),YQ=L([fm],gb),hm=L([YQ,tb],vb),XQ=L([hm,it,fm],wb);L([hm,it,fm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ye(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var QP=()=>{},ZQ=L([hm,it,fm,lm,Ze],Eb),JQ=L([it,bb,_b,QP,ZQ,QP,Ae,Ze],Sb),pD=L([it,Ae,hm,XQ,yu,Ze,JQ],Ab),eY=L([pD,it,Jo],Cb);L([it,pD,eY,Ze],jb);var tY={radiusAxis:{},angleAxis:{}},mD=Dr({name:"polarAxis",initialState:tY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Jte,removeRadiusAxis:ere,addAngleAxis:tre,removeAngleAxis:rre}=mD.actions,rY=mD.reducer;function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY=(e,t)=>t,Wb=L([hD,sY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),oY=[],Hb=(e,t,r)=>(r==null?void 0:r.length)===0?oY:r,gD=L([tb,Wb,Hb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>XP(XP({},t.presentationProps),a.props))),i!=null)return i}}),lY=L([gD,Wb,Hb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ye(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Mp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),cY=L([gD,Wb,Hb,jt],(e,t,r,n)=>{if(!(t==null||e==null))return uX({offset:n,pieSettings:t,displayedData:e,cells:r})}),vD={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=Symbol.for("react.transitional.element"),Qb=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),vm=Symbol.for("react.consumer"),ym=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),uY=Symbol.for("react.view_transition"),dY=Symbol.for("react.client.reference");function vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gb:switch(e=e.type,e){case pm:case gm:case mm:case xm:case bm:case uY:return e;default:switch(e=e&&e.$$typeof,e){case ym:case wm:case Em:case _m:return e;case vm:return e;default:return t}}case Qb:return t}}}De.ContextConsumer=vm;De.ContextProvider=ym;De.Element=Gb;De.ForwardRef=wm;De.Fragment=pm;De.Lazy=Em;De.Memo=_m;De.Portal=Qb;De.Profiler=gm;De.StrictMode=mm;De.Suspense=xm;De.SuspenseList=bm;De.isContextConsumer=function(e){return vn(e)===vm};De.isContextProvider=function(e){return vn(e)===ym};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gb};De.isForwardRef=function(e){return vn(e)===wm};De.isFragment=function(e){return vn(e)===pm};De.isLazy=function(e){return vn(e)===Em};De.isMemo=function(e){return vn(e)===_m};De.isPortal=function(e){return vn(e)===Qb};De.isProfiler=function(e){return vn(e)===gm};De.isStrictMode=function(e){return vn(e)===mm};De.isSuspense=function(e){return vn(e)===xm};De.isSuspenseList=function(e){return vn(e)===bm};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pm||e===gm||e===mm||e===xm||e===bm||typeof e=="object"&&e!==null&&(e.$$typeof===Em||e.$$typeof===_m||e.$$typeof===ym||e.$$typeof===vm||e.$$typeof===wm||e.$$typeof===dY||e.getModuleId!==void 0)};De.typeOf=vn;vD.exports=De;var fY=vD.exports,ZP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JP=null,Ug=null,yD=e=>{if(e===JP&&Array.isArray(Ug))return Ug;var t=[];return w.Children.forEach(e,r=>{qt(r)||(fY.isFragment(r)?t=t.concat(yD(r.props.children)):t.push(r))}),Ug=t,JP=e,t};function Yb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>ZP(i)):n=[ZP(t)],yD(e).forEach(i=>{var a=ps(i,"type.displayName")||ps(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var wD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(wD);var hY=wD.isPlainObject;const pY=Ni(hY);function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return(t=gY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}var rT=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},yY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wY=e=>{var t=Kt(e,yY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,p=w.useRef(null),[m,g]=w.useState(-1),v=w.useRef(i),x=w.useRef(a),b=w.useRef(s),E=w.useRef(r),A=w.useRef(n),I=Qp(e,"trapezoid-");if(w.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var G=p.current.getTotalLength();G&&g(G)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=Ne("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",Ph({},hn(t),{className:k,d:rT(r,n,i,a,s)})));var O=v.current,y=x.current,S=b.current,C=E.current,D=A.current,T="0px ".concat(m===-1?1:m,"px"),N="".concat(m,"px 0px"),j=RO(["strokeDasharray"],c,l);return w.createElement(Gp,{animationId:I,key:I,canBegin:m>0,duration:c,easing:l,isActive:f,begin:u},G=>{var ae=Pt(O,i,G),le=Pt(y,a,G),se=Pt(S,s,G),U=Pt(C,r,G),W=Pt(D,n,G);p.current&&(v.current=ae,x.current=le,b.current=se,E.current=U,A.current=W);var te=G>0?{transition:j,strokeDasharray:N}:{strokeDasharray:T};return w.createElement("path",Ph({},hn(t),{className:k,d:rT(U,W,ae,le,se),ref:p,style:tT(tT({},te),t.style)}))})},xY=["option","shapeType","propTransformer","activeClassName"];function bY(e,t){if(e==null)return{};var r,n,i=_Y(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PY(e,t){return Th(Th({},t),e)}function TY(e,t){return e==="symbols"}function iT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(VO,r);case"trapezoid":return w.createElement(wY,r);case"sector":return w.createElement(UO,r);case"symbols":if(TY(t))return w.createElement(nx,r);break;case"curve":return w.createElement(Nx,r);default:return null}}function CY(e){return w.isValidElement(e)?e.props:e}function xD(e){var{option:t,shapeType:r,propTransformer:n=PY,activeClassName:i="recharts-active-shape"}=e,a=bY(e,xY),s;if(w.isValidElement(t))s=w.cloneElement(t,Th(Th({},a),CY(t)));else if(typeof t=="function")s=t(a,a.index);else if(pY(t)&&typeof t!="boolean"){var o=n(t,a);s=w.createElement(iT,{shapeType:r,elementProps:o})}else{var l=a;s=w.createElement(iT,{shapeType:r,elementProps:l})}return a.isActive?w.createElement(xr,{className:i},s):s}var Xb=(e,t,r)=>{var n=Ue();return(i,a)=>s=>{e==null||e(i,a,s),n(P2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Zb=e=>{var t=Ue();return(r,n)=>i=>{e==null||e(r,n,i),t(HW())}},Jb=(e,t,r)=>{var n=Ue();return(i,a)=>s=>{e==null||e(i,a,s),n(GW({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function bD(e){var{tooltipEntrySettings:t}=e,r=Ue(),n=Mr(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(BW(t)):i.current!==t&&r(qW({prev:i.current,next:t})),i.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{i.current&&(r(KW(i.current)),i.current=null)},[r]),null}function IY(e){var{legendPayload:t}=e,r=Ue(),n=Mr(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(jO(t)):i.current!==t&&r(NO({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(kO(i.current)),i.current=null)},[r]),null}function jY(e){var{legendPayload:t}=e,r=Ue(),n=ee(Ae),i=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(jO(t)):i.current!==t&&r(NO({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(kO(i.current)),i.current=null)},[r]),null}var Bg,NY=()=>{var[e]=w.useState(()=>kc("uid-"));return e},kY=(Bg=zM.useId)!==null&&Bg!==void 0?Bg:NY;function _D(e,t){var r=kY();return t||(e?"".concat(e,"-").concat(r):r)}var OY=w.createContext(void 0),ED=e=>{var{id:t,type:r,children:n}=e,i=_D("recharts-".concat(r),t);return w.createElement(OY.Provider,{value:i},n(i))},RY={cartesianItems:[],polarItems:[]},SD=Dr({name:"graphicalItems",initialState:RY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Tn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(e,t){var r=Tn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(e,t){var r=Tn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:DY,replaceCartesianGraphicalItem:MY,removeCartesianGraphicalItem:LY,addPolarGraphicalItem:VY,removePolarGraphicalItem:FY}=SD.actions,$Y=SD.reducer,zY=e=>{var t=Ue(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(DY(e)):r.current!==e&&t(MY({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(LY(r.current)),r.current=null)},[t]),null},UY=w.memo(zY);function BY(e){var t=Ue();return w.useLayoutEffect(()=>(t(VY(e)),()=>{t(FY(e))}),[t,e]),null}var qY=["key"],KY=["onMouseEnter","onClick","onMouseLeave"],WY=["id"],HY=["id"];function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){GY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(null,arguments)}function Sm(e,t){if(e==null)return{};var r,n,i=XY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZY(e){var t=w.useMemo(()=>Yb(e.children,Cu),[e.children]),r=ee(n=>lY(n,e.id,t));return r==null?null:w.createElement(jY,{legendPayload:r})}var JY=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Mp(o,t),hide:l,type:c,color:s,unit:""}};return w.createElement(bD,{tooltipEntrySettings:u})}),eX=(e,t)=>e>t?"start":e<t?"end":"middle",tX=(e,t,r)=>dr(typeof t=="function"?t(e):t,r,r*.8),rX=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=FO(a,s),l=i+dr(e.cx,a,a/2),c=n+dr(e.cy,s,s/2),u=dr(e.innerRadius,o,0),f=tX(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}},nX=(e,t)=>{var r=Ut(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function iX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aX=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ne("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Sm(t,qY);return w.createElement(Nx,Sa({},i,{type:"linear",className:r}))},sX=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var i=Ne("recharts-pie-label-text",iX(e));return w.createElement(dm,Sa({},t,{alignmentBaseline:"middle",className:i}),n)};function oX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=jn(r),l=Nc(i),c=Nc(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,v=bt(p.cx,p.cy,p.outerRadius+u,g),x=ot(ot(ot(ot({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:eX(v.x,p.cx)},v),b=ot(ot(ot(ot({},o),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[bt(p.cx,p.cy,p.outerRadius,g),v],key:"line"});return w.createElement(Rn,{zIndex:Jt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},w.createElement(xr,null,a&&aX(a,b),sX(i,x,Ye(p,s))))});return w.createElement(xr,{className:"recharts-pie-labels"},f)}function lX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(fD,{label:i}):w.createElement(oX,{sectors:t,props:r,showLabels:n})}function cX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ee(ys),l=ee(Fb),c=ee(OH),{onMouseEnter:u,onClick:f,onMouseLeave:p}=i,m=Sm(i,KY),g=Xb(u,i.dataKey,s),v=Zb(p),x=Jb(f,i.dataKey,s);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((b,E)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var A=c==null||c===s,I=String(E)===o&&(l==null||i.dataKey===l)&&A,k=o?n:null,O=r&&I?r:k,y=ot(ot({},b),{},{stroke:b.stroke,tabIndex:-1,[hO]:E,[pO]:i.dataKey});return w.createElement(xr,Sa({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},ou(m,b,E),{onMouseEnter:g(b,E),onMouseLeave:v(b,E),onClick:x(b,E)}),w.createElement(xD,Sa({option:a??O,index:E,shapeType:"sector",isActive:I},y)))}))}function uX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,p=Math.abs(r.minAngle),m=nX(o,l),g=Math.abs(m),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(O=>Ye(O,c,0)!==0).length,b=(g>=360?x:x-1)*v,E=g-x*p-b,A=n.reduce((O,y)=>{var S=Ye(y,c,0);return O+(re(S)?S:0)},0),I;if(A>0){var k;I=n.map((O,y)=>{var S=Ye(O,c,0),C=Ye(O,u,y),D=rX(r,a,O),T=(re(S)?S:0)/A,N,j=ot(ot({},O),i&&i[y]&&i[y].props);y?N=k.endAngle+Ut(m)*v*(S!==0?1:0):N=o;var G=N+Ut(m)*((S!==0?p:0)+T*E),ae=(N+G)/2,le=(D.innerRadius+D.outerRadius)/2,se=[{name:C,value:S,payload:j,dataKey:c,type:f}],U=bt(D.cx,D.cy,le,ae);return k=ot(ot(ot(ot({},r.presentationProps),{},{percent:T,cornerRadius:typeof s=="string"?parseFloat(s):s,name:C,tooltipPayload:se,midAngle:ae,middleRadius:le,tooltipPosition:U},j),D),{},{value:S,dataKey:c,startAngle:N,endAngle:G,payload:j,paddingAngle:Ut(m)*v}),k})}return I}function dX(e){var{showLabels:t,sectors:r,children:n}=e,i=w.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return w.createElement(WQ,{value:t?i:void 0},n)}function fX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:f,onAnimationEnd:p}=t,m=Qp(t,"recharts-pie-"),g=r.current,[v,x]=w.useState(!1),b=w.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),E=w.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return w.createElement(dX,{showLabels:!v,sectors:i},w.createElement(Gp,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:E,onAnimationEnd:b,key:m},A=>{var I=[],k=i&&i[0],O=k==null?void 0:k.startAngle;return i==null||i.forEach((y,S)=>{var C=g&&g[S],D=S>0?ps(y,"paddingAngle",0):0;if(C){var T=Pt(C.endAngle-C.startAngle,y.endAngle-y.startAngle,A),N=ot(ot({},y),{},{startAngle:O+D,endAngle:O+T+D});I.push(N),O=N.endAngle}else{var{endAngle:j,startAngle:G}=y,ae=Pt(0,j-G,A),le=ot(ot({},y),{},{startAngle:O+D,endAngle:O+ae+D});I.push(le),O=le.endAngle}}),r.current=I,w.createElement(xr,null,w.createElement(cX,{sectors:I,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),w.createElement(lX,{showLabels:!v,sectors:i,props:t}),t.children)}var hX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Jt.area};function pX(e){var{id:t}=e,r=Sm(e,WY),{hide:n,className:i,rootTabIndex:a}=e,s=w.useMemo(()=>Yb(e.children,Cu),[e.children]),o=ee(u=>cY(u,t,s)),l=w.useRef(null),c=Ne("recharts-pie",i);return n||o==null?(l.current=null,w.createElement(xr,{tabIndex:a,className:c})):w.createElement(Rn,{zIndex:e.zIndex},w.createElement(JY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(xr,{tabIndex:a,className:c},w.createElement(fX,{props:ot(ot({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function AD(e){var t=Kt(e,hX),{id:r}=t,n=Sm(t,HY),i=jn(n);return w.createElement(ED,{id:r,type:"pie"},a=>w.createElement(w.Fragment,null,w.createElement(BY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),w.createElement(ZY,Sa({},n,{id:a})),w.createElement(pX,Sa({},n,{id:a}))))}AD.displayName="Pie";function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){mX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yX={xAxis:{},yAxis:{},zAxis:{}},PD=Dr({name:"cartesianAxis",initialState:yX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ge()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ge()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ge()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ge()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ge()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ge()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=oT(oT({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:wX,replaceXAxis:xX,removeXAxis:bX,addYAxis:_X,replaceYAxis:EX,removeYAxis:SX,addZAxis:nre,replaceZAxis:ire,removeZAxis:are,updateYAxisWidth:AX}=PD.actions,PX=PD.reducer,TX=L([jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),CX=L([TX,Oi,Ri],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),TD=()=>ee(CX),IX="Invariant failed";function jX(e,t){throw new Error(IX)}var NX=["x","y"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){kX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var r,n,i=MX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LX(e,t){var{x:r,y:n}=e,i=DX(e,NX),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Ol(Ol(Ol(Ol(Ol({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function Ch(e){return w.createElement(xD,s0({shapeType:"rectangle",propTransformer:LX,activeClassName:"recharts-active-bar"},e))}var VX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||qt(n);return a?t(n,i):(a||jX(),r)}},FX={},CD=Dr({name:"errorBars",initialState:FX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sre,replaceErrorBar:ore,removeErrorBar:lre}=CD.actions,$X=CD.reducer,zX=["children"];function UX(e,t){if(e==null)return{};var r,n,i=BX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},KX=w.createContext(qX);function WX(e){var{children:t}=e,r=UX(e,zX);return w.createElement(KX.Provider,{value:r},t)}function ID(e,t){var r,n,i=ee(c=>Mi(c,e)),a=ee(c=>Li(c,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Lt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Vt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function HX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=TD(),{needClipX:a,needClipY:s,needClip:o}=ID(t,r);if(!o||!i)return null;var{x:l,y:c,width:u,height:f}=i;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}function GX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ht(e.zIndex)?e.zIndex:t}var QX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=w;function YX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XX=typeof Object.is=="function"?Object.is:YX,ZX=Iu.useSyncExternalStore,JX=Iu.useRef,eZ=Iu.useEffect,tZ=Iu.useMemo,rZ=Iu.useDebugValue;QX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=JX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tZ(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,XX(u,m))return g;var v=n(m);return i!==void 0&&i(g,v)?(u=m,g):(u=m,f=v)}var c=!1,u,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=ZX(e,a[0],a[1]);return eZ(function(){s.hasValue=!0,s.value=o},[o]),rZ(o),o};function nZ(e){e()}function iZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cT={notify(){},get:()=>[]};function aZ(e,t){let r,n=cT,i=0,a=!1;function s(v){u();const x=n.subscribe(v);let b=!1;return()=>{b||(b=!0,x(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return a}function u(){i++,r||(r=e.subscribe(l),n=iZ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=cT)}function p(){a||(a=!0,u())}function m(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var sZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oZ=sZ(),lZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cZ=lZ(),uZ=()=>oZ||cZ?w.useLayoutEffect:w.useEffect,dZ=uZ();function uT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fZ(e,t){if(uT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!uT(e[r[i]],t[r[i]]))return!1;return!0}var qg=Symbol.for("react-redux-context"),Kg=typeof globalThis<"u"?globalThis:{};function hZ(){if(!w.createContext)return{};const e=Kg[qg]??(Kg[qg]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var pZ=hZ();function mZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=w.useMemo(()=>{const l=aZ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=w.useMemo(()=>i.getState(),[i]);dZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||pZ;return w.createElement(o.Provider,{value:a},t)}var gZ=mZ,vZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function e_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(vZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!fZ(e[n],t[n]))return!1}else if(!yZ(e[n],t[n]))return!1;return!0}var wZ=["onMouseEnter","onMouseLeave","onClick"],xZ=["value","background","tooltipPosition"],bZ=["id"],_Z=["onMouseEnter","onClick","onMouseLeave"];function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(null,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){EZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EZ(e,t,r){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(e,t){if(e==null)return{};var r,n,i=PZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Mp(r,t),payload:e}]},CZ=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Mp(a,t),hide:s,type:l,color:i,unit:o}};return w.createElement(bD,{tooltipEntrySettings:c})});function IZ(e){var t=ee(ys),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=Ih(a,wZ),u=Xb(s,n),f=Zb(o),p=Jb(l,n);if(!i||r==null)return null;var m=Nc(i);return w.createElement(Rn,{zIndex:GX(i,Jt.barBackground)},r.map((g,v)=>{var{value:x,background:b,tooltipPosition:E}=g,A=Ih(g,xZ);if(!b)return null;var I=u(g,v),k=f(g,v),O=p(g,v),y=vr(vr(vr(vr(vr({option:i,isActive:String(v)===t},A),{},{fill:"#eee"},b),m),ou(c,g,v)),{},{onMouseEnter:I,onMouseLeave:k,onClick:O,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(Ch,ji({key:"background-bar-".concat(v)},y))}))}function jZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return vr(vr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return w.createElement(KQ,{value:t?i:void 0},r)}function NZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ee(ys),l=ee(Fb),c=r&&String(a)===o&&(l==null||s===l),u=c?r:t;return c?w.createElement(Rn,{zIndex:Jt.activeBar},w.createElement(Ch,ji({},n,{name:String(n.name)},i,{isActive:c,option:u,index:a,dataKey:s}))):w.createElement(Ch,ji({},n,{name:String(n.name)},i,{isActive:c,option:u,index:a,dataKey:s}))}function kZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return w.createElement(Ch,ji({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function OZ(e){var t,{data:r,props:n}=e,i=(t=jn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Ih(i,bZ),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:f,onMouseLeave:p}=n,m=Ih(n,_Z),g=Xb(u,l),v=Zb(p),x=Jb(f,l);return r?w.createElement(w.Fragment,null,r.map((b,E)=>w.createElement(xr,ji({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(E),className:"recharts-bar-rectangle"},ou(m,b,E),{onMouseEnter:g(b,E),onMouseLeave:v(b,E),onClick:x(b,E)}),c?w.createElement(NZ,{shape:o,activeBar:c,baseProps:s,entry:b,index:E,dataKey:l}):w.createElement(kZ,{shape:o,baseProps:s,entry:b,index:E,dataKey:l})))):null}function RZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,p=Qp(t,"recharts-bar-"),[m,g]=w.useState(!1),v=!m,x=w.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),b=w.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return w.createElement(jZ,{showLabels:v,rects:n},w.createElement(Gp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:p},E=>{var A=E===1?n:n==null?void 0:n.map((I,k)=>{var O=f&&f[k];if(O)return vr(vr({},I),{},{x:Pt(O.x,I.x,E),y:Pt(O.y,I.y,E),width:Pt(O.width,I.width,E),height:Pt(O.height,I.height,E)});if(i==="horizontal"){var y=Pt(0,I.height,E),S=Pt(I.stackedBarStart,I.y,E);return vr(vr({},I),{},{y:S,height:y})}var C=Pt(0,I.width,E),D=Pt(I.stackedBarStart,I.x,E);return vr(vr({},I),{},{width:C,x:D})});return E>0&&(r.current=A??null),A==null?null:w.createElement(xr,null,w.createElement(OZ,{props:t,data:A}))}),w.createElement(fD,{label:t.label}),t.children)}function DZ(e){var t=w.useRef(null);return w.createElement(RZ,{previousRectanglesRef:t,props:e})}var jD=0,MZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class LZ extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Ne("recharts-bar",i),f=c;return w.createElement(xr,{className:u,id:c},o&&w.createElement("defs",null,w.createElement(HX,{clipPathId:f,xAxisId:a,yAxisId:s})),w.createElement(xr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(IZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),w.createElement(DZ,this.props)))}}var VZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:jD,xAxisId:0,yAxisId:0,zIndex:Jt.bar};function FZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=ID(t,r),p=Up(),m=Mr(),g=Yb(e.children,Cu),v=ee(E=>hJ(E,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var x,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?x=0:x=p==="vertical"?b.height/2:b.width/2,w.createElement(WX,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:MZ,errorBarOffset:x},w.createElement(LZ,ji({},e,{layout:p,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function $Z(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:p,cells:m,parentViewBox:g,dataStartIndex:v}=e,x=t==="horizontal"?o:s,b=u?x.scale.domain():null,E=CU({numericAxis:x}),A=x.scale(E);return f.map((I,k)=>{var O,y,S,C,D,T;u?O=_U(u[k+v],b):(O=Ye(I,r),Array.isArray(O)||(O=[E,O]));var N=VX(n,jD)(O[1],k);if(t==="horizontal"){var j,[G,ae]=[o.scale(O[0]),o.scale(O[1])];y=QS({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:I,index:k}),S=(j=ae??G)!==null&&j!==void 0?j:void 0,C=i.size;var le=G-ae;if(D=Nn(le)?0:le,T={x:y,y:p.top,width:C,height:p.height},Math.abs(N)>0&&Math.abs(D)<Math.abs(N)){var se=Ut(D||N)*(Math.abs(N)-Math.abs(D));S-=se,D+=se}}else{var[U,W]=[s.scale(O[0]),s.scale(O[1])];if(y=U,S=QS({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:k}),C=W-U,D=i.size,T={x:p.left,y:S,width:p.width,height:D},Math.abs(N)>0&&Math.abs(C)<Math.abs(N)){var te=Ut(C||N)*(Math.abs(N)-Math.abs(C));C+=te}}if(y==null||S==null||C==null||D==null)return null;var pe=vr(vr({},I),{},{stackedBarStart:A,x:y,y:S,width:C,height:D,value:u?O:O[1],payload:I,background:T,tooltipPosition:{x:y+C/2,y:S+D/2},parentViewBox:g},m&&m[k]&&m[k].props);return pe}).filter(Boolean)}function zZ(e){var t=Kt(e,VZ),r=Mr();return w.createElement(ED,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(IY,{legendPayload:TZ(t)}),w.createElement(CZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(UY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:TU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Rn,{zIndex:t.zIndex},w.createElement(FZ,ji({},t,{id:n})))))}var po=w.memo(zZ,e_);po.displayName="Bar";function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=(e,t)=>t,WZ=(e,t,r)=>r,HZ=(e,t,r,n)=>n,GZ=(e,t,r,n,i)=>i,ju=L([pb,GZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),QZ=L([ju],e=>e==null?void 0:e.maxBarSize),YZ=(e,t,r,n,i,a)=>a,hT=(e,t,r)=>{var n=r??e;if(!qt(n))return dr(n,t,0)},XZ=L([Ae,pb,KZ,WZ,HZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),ZZ=(e,t,r,n)=>{var i=Ae(e);return i==="horizontal"?Jy(e,"yAxis",r,n):Jy(e,"xAxis",t,n)},JZ=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?xP(e,"xAxis",t):xP(e,"yAxis",r)},eJ=(e,t,r)=>{var n={},i=e.filter(im),a=e.filter(c=>c.stackId==null),s=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(s).map(c=>{var[u,f]=c,p=f.map(g=>g.dataKey),m=hT(t,r,f[0].barSize);return{stackId:u,dataKeys:p,barSize:m}}),l=a.map(c=>{var u=[c.dataKey].filter(p=>p!=null),f=hT(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},tJ=L([XZ,MK,JZ],eJ),rJ=(e,t,r,n,i)=>{var a,s,o=ju(e,t,r,n,i);if(o!=null){var l=Ae(e),c=zR(e),{maxBarSize:u}=o,f=qt(u)?c:u,p,m;return l==="horizontal"?(p=Vo(e,"xAxis",t,n),m=Lo(e,"xAxis",t,n)):(p=Vo(e,"yAxis",r,n),m=Lo(e,"yAxis",r,n)),(a=(s=rh(p,m,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},ND=(e,t,r,n)=>{var i=Ae(e),a,s;return i==="horizontal"?(a=Vo(e,"xAxis",t,n),s=Lo(e,"xAxis",t,n)):(a=Vo(e,"yAxis",r,n),s=Lo(e,"yAxis",r,n)),rh(a,s)};function nJ(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=dr(e,r,0,!0),o,l=[];if(ht(n[0].barSize)){var c=!1,u=r/a,f=n.reduce((b,E)=>b+(E.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&u>0&&(c=!0,u*=.9,f=a*u);var p=(r-f)/2>>0,m={offset:p-s,size:0};o=n.reduce((b,E)=>{var A,I={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+s,size:c?u:(A=E.barSize)!==null&&A!==void 0?A:0}},k=[...b,I];return m=k[k.length-1].position,k},l)}else{var g=dr(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var v=(r-2*g-(a-1)*s)/a;v>1&&(v>>=0);var x=ht(i)?Math.min(v,i):v;o=n.reduce((b,E,A)=>[...b,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(v+s)*A+(v-x)/2,size:x}}],l)}return o}}var iJ=(e,t,r,n,i,a,s)=>{var o=qt(s)?t:s,l=nJ(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(c=>Cd(Cd({},c),{},{position:Cd(Cd({},c.position),{},{offset:c.position.offset-i/2})}))),l},aJ=L([tJ,zR,DK,UR,rJ,ND,QZ],iJ),sJ=(e,t,r,n)=>Vo(e,"xAxis",t,n),oJ=(e,t,r,n)=>Vo(e,"yAxis",r,n),lJ=(e,t,r,n)=>Lo(e,"xAxis",t,n),cJ=(e,t,r,n)=>Lo(e,"yAxis",r,n),uJ=L([aJ,ju],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),dJ=(e,t)=>{var r=db(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},fJ=L([ZZ,ju],dJ),hJ=L([jt,Sx,sJ,oJ,lJ,cJ,uJ,Ae,rb,ND,fJ,ju,YZ],(e,t,r,n,i,a,s,o,l,c,u,f,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:x}=f,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(g,v+1),b!=null)return $Z({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:p,dataStartIndex:g})}}),kD=e=>{var{chartData:t}=e,r=Ue(),n=Mr();return w.useEffect(()=>n?()=>{}:(r(kP(t)),()=>{r(kP(void 0))}),[t,r,n]),null},pT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OD=Dr({name:"brush",initialState:pT,reducers:{setBrushSettings(e,t){return t.payload==null?pT:t.payload}}}),{setBrushSettings:cre}=OD.actions,pJ=OD.reducer;function mJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t_{static create(t){return new t_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}mJ(t_,"EPS",1e-4);function yJ(e){return(e%180+180)%180}var wJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yJ(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},xJ={dots:[],areas:[],lines:[]},RD=Dr({name:"referenceElements",initialState:xJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Tn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Tn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Tn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ure,removeDot:dre,addArea:fre,removeArea:hre,addLine:pre,removeLine:mre}=RD.actions,bJ=RD.reducer,_J=w.createContext(void 0),EJ=e=>{var{children:t}=e,[r]=w.useState("".concat(kc("recharts"),"-clip")),n=TD();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return w.createElement(_J.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function DD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function SJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wJ(n,r)}function AJ(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function jh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function PJ(e,t){return DD(e,t+1)}function TJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:DD(n,c)};var v=l,x,b=()=>(x===void 0&&(x=r(g,v)),x),E=g.coordinate,A=l===0||jh(e,E,b,u,o);A||(l=0,u=s,c+=1),A&&(u=E+e*(b()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){CJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t,r){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(p){var m=a[p],g,v=()=>(g===void 0&&(g=r(m,p)),g);if(p===s-1){var x=e*(m.coordinate+e*v()/2-l);a[p]=m=sr(sr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[p]=m=sr(sr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=jh(e,m.tickCoord,v,o,l);b&&(l=m.tickCoord-e*(v()/2+i),a[p]=sr(sr({},m),{},{isShow:!0}))}},u=s-1;u>=0;u--)c(u);return a}function kJ(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=n[o-1],f=r(u,o-1),p=e*(u.coordinate+e*f/2-c);if(s[o-1]=u=sr(sr({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),u.tickCoord!=null){var m=jh(e,u.tickCoord,()=>f,l,c);m&&(c=u.tickCoord-e*(f/2+i),s[o-1]=sr(sr({},u),{},{isShow:!0}))}}for(var g=a?o-1:o,v=function(E){var A=s[E],I,k=()=>(I===void 0&&(I=r(A,E)),I);if(E===0){var O=e*(A.coordinate-e*k()/2-l);s[E]=A=sr(sr({},A),{},{tickCoord:O<0?A.coordinate-O*e:A.coordinate})}else s[E]=A=sr(sr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var y=jh(e,A.tickCoord,k,l,c);y&&(l=A.tickCoord+e*(k()/2+i),s[E]=sr(sr({},A),{},{isShow:!0}))}},x=0;x<g;x++)v(x);return s}function r_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!n)return[];if(re(l)||hu.isSsr){var p;return(p=PJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",v=u&&g==="width"?ac(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(A,I)=>{var k=typeof c=="function"?c(A.value,I):A.value;return g==="width"?SJ(ac(k,{fontSize:t,letterSpacing:r}),v,f):ac(k,{fontSize:t,letterSpacing:r})[g]},b=i.length>=2?Ut(i[1].coordinate-i[0].coordinate):1,E=AJ(a,b,g);return l==="equidistantPreserveStart"?TJ(b,E,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=kJ(b,E,x,i,s,l==="preserveStartEnd"):m=NJ(b,E,x,i,s),m.filter(A=>A.isShow))}var OJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},RJ=["axisLine","width","height","className","hide","ticks","axisType"];function DJ(e,t){if(e==null)return{};var r,n,i=MJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(null,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jt.axis};function $J(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=vt(vt(vt({},l),jn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=vt(vt({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=vt(vt({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return w.createElement("line",ws({},c,{className:Ne("recharts-cartesian-axis-line",ps(o,"className"))}))}function zJ(e,t,r,n,i,a,s,o,l){var c,u,f,p,m,g,v=o?-1:1,x=e.tickSize||s,b=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=r+ +!o*i,f=p-v*x,g=f-v*l,m=b;break;case"left":f=p=e.coordinate,u=t+ +!o*n,c=u-v*x,m=c-v*l,g=b;break;case"right":f=p=e.coordinate,u=t+ +o*n,c=u+v*x,m=c+v*l,g=b;break;default:c=u=e.coordinate,p=r+ +o*i,f=p+v*x,g=f+v*l,m=b;break}return{line:{x1:c,y1:f,x2:u,y2:p},tick:{x:m,y:g}}}function UJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function BJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function qJ(e){var{option:t,tickProps:r,value:n}=e,i,a=Ne(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,vt(vt({},r),{},{className:a}));else if(typeof t=="function")i=t(vt(vt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ne(s,t==null?void 0:t.className)),i=w.createElement(dm,ws({},r,{className:s}),n)}return i}var KJ=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:p,y:m,width:g,height:v,tickSize:x,tickMargin:b,fontSize:E,letterSpacing:A,getTicksConfig:I,events:k,axisType:O}=e,y=r_(vt(vt({},I),{},{ticks:r}),E,A),S=UJ(u,f),C=BJ(u,f),D=jn(I),T=Nc(n),N={};typeof i=="object"&&(N=i);var j=vt(vt({},D),{},{fill:"none"},N),G=y.map(se=>vt({entry:se},zJ(se,p,m,g,v,u,x,f,b))),ae=G.map(se=>{var{entry:U,line:W}=se;return w.createElement(xr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&w.createElement("line",ws({},j,W,{className:Ne("recharts-cartesian-axis-tick-line",ps(i,"className"))})))}),le=G.map((se,U)=>{var{entry:W,tick:te}=se,pe=vt(vt(vt(vt({textAnchor:S,verticalAnchor:C},D),{},{stroke:"none",fill:a},T),te),{},{index:U,payload:W,visibleTicksCount:y.length,tickFormatter:s,padding:l},c);return w.createElement(xr,ws({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},ou(k,W,U)),n&&w.createElement(qJ,{option:n,tickProps:pe,value:"".concat(typeof s=="function"?s(W.value,U):W.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},le.length>0&&w.createElement(Rn,{zIndex:Jt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},le)),ae.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ae))}),WJ=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=DJ(e,RJ),[u,f]=w.useState(""),[p,m]=w.useState(""),g=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return OJ({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var E=b[0];if(E){var A=window.getComputedStyle(E),I=A.fontSize,k=A.letterSpacing;(I!==u||k!==p)&&(f(I),m(k))}}},[u,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:w.createElement(Rn,{zIndex:e.zIndex},w.createElement(xr,{className:Ne("recharts-cartesian-axis",a)},w.createElement($J,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:jn(e)}),w.createElement(KJ,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(CQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(VQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),n_=w.forwardRef((e,t)=>{var r=Kt(e,mi);return w.createElement(WJ,ws({},r,{ref:t}))});n_.displayName="CartesianAxis";var HJ=["x1","y1","x2","y2","key"],GJ=["offset"],QJ=["xAxisId","yAxisId"],YJ=["xAxisId","yAxisId"];function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){XJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XJ(e,t,r){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}function Nh(e,t){if(e==null)return{};var r,n,i=eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return w.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function MD(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=r,u=Nh(r,HJ),f=(i=jn(u))!==null&&i!==void 0?i:{},{offset:p}=f,m=Nh(f,GJ);n=w.createElement("line",Za({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return n}function ree(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Nh(e,QJ),l=i.map((c,u)=>{var f=ur(ur({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return w.createElement(MD,{key:"line-".concat(u),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function nee(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Nh(e,YJ),l=i.map((c,u)=>{var f=ur(ur({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return w.createElement(MD,{option:n,lineItemProps:f,key:"line-".concat(u)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function iee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var m=!c[p+1],g=m?i+s-f:c[p+1]-f;if(g<=0)return null;var v=p%t.length;return w.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function aee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==c[0]&&c.unshift(0);var u=c.map((f,p)=>{var m=!c[p+1],g=m?i+s-f:c[p+1]-f;if(g<=0)return null;var v=p%r.length;return w.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var see=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return uO(r_(ur(ur(ur({},mi),r),{},{ticks:dO(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},oee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return uO(r_(ur(ur(ur({},mi),r),{},{ticks:dO(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},lee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jt.grid};function i_(e){var t=Tx(),r=Cx(),n=_O(),i=ur(ur({},Kt(e,lee)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:m}=i,g=Mr(),v=ee(C=>bP(C,"xAxis",a,g)),x=ee(C=>bP(C,"yAxis",s,g));if(!Jn(c)||!Jn(u)||!re(o)||!re(l))return null;var b=i.verticalCoordinatesGenerator||see,E=i.horizontalCoordinatesGenerator||oee,{horizontalPoints:A,verticalPoints:I}=i;if((!A||!A.length)&&typeof E=="function"){var k=p&&p.length,O=E({yAxis:x?ur(ur({},x),{},{ticks:k?p:x.ticks}):void 0,width:t??c,height:r??u,offset:n},k?!0:f);nh(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}if((!I||!I.length)&&typeof b=="function"){var y=m&&m.length,S=b({xAxis:v?ur(ur({},v),{},{ticks:y?m:v.ticks}):void 0,width:t??c,height:r??u,offset:n},y?!0:f);nh(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(I=S)}return w.createElement(Rn,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(tee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(iee,Za({},i,{horizontalPoints:A})),w.createElement(aee,Za({},i,{verticalPoints:I})),w.createElement(ree,Za({},i,{offset:n,horizontalPoints:A,xAxis:v,yAxis:x})),w.createElement(nee,Za({},i,{offset:n,verticalPoints:I,xAxis:v,yAxis:x}))))}i_.displayName="CartesianGrid";var cee=["domain","range"],uee=["domain","range"];function yT(e,t){if(e==null)return{};var r,n,i=dee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function LD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=yT(e,cee),{domain:a,range:s}=t,o=yT(t,uee);return!wT(r,a)||!wT(n,s)?!1:e_(i,o)}var fee=["dangerouslySetInnerHTML","ticks"],hee=["id"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function xT(e,t){if(e==null)return{};var r,n,i=pee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mee(e){var t=Ue(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(wX(e)):r.current!==e&&t(xX({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(bX(r.current)),r.current=null)},[t]),null}var gee=e=>{var{xAxisId:t,className:r}=e,n=ee(Sx),i=Mr(),a="xAxis",s=ee(x=>el(x,a,t,i)),o=ee(x=>x2(x,a,t,i)),l=ee(x=>g2(x,t)),c=ee(x=>OW(x,t)),u=ee(x=>XR(x,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=xT(e,fee),{id:g}=u,v=xT(u,hee);return w.createElement(n_,o0({},m,v,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Ne("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},vee={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:mi.axisLine,height:Lt.height,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:mi.tickLine,tickSize:mi.tickSize,type:Lt.type,xAxisId:0},yee=e=>{var t=Kt(e,vee);return w.createElement(w.Fragment,null,w.createElement(mee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(gee,t))},a_=w.memo(yee,LD);a_.displayName="XAxis";var wee=["dangerouslySetInnerHTML","ticks"],xee=["id"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function bT(e,t){if(e==null)return{};var r,n,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ee(e){var t=Ue(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(_X(e)):r.current!==e&&t(EX({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(SX(r.current)),r.current=null)},[t]),null}var Eee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=w.useRef(null),s=w.useRef(null),o=ee(Sx),l=Mr(),c=Ue(),u="yAxis",f=ee(k=>el(k,u,t,l)),p=ee(k=>v2(k,t)),m=ee(k=>DW(k,t)),g=ee(k=>x2(k,u,t,l)),v=ee(k=>ZR(k,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Kb(i)||w.isValidElement(i)||v==null)){var k=a.current;if(k){var O=k.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&c(AX({id:t,width:O}))}}},[g,p,c,i,t,n,v]),p==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,E=bT(e,wee),{id:A}=v,I=bT(v,xee);return w.createElement(n_,l0({},E,I,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ne("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:g,axisType:u}))},See={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:mi.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:mi.tickLine,tickSize:mi.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},Aee=e=>{var t=Kt(e,See);return w.createElement(w.Fragment,null,w.createElement(_ee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(Eee,t))},s_=w.memo(Aee,LD);s_.displayName="YAxis";var Pee=(e,t)=>t,o_=L([Pee,Ae,QR,kt,M2,Vi,YH,jt],nG),l_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},VD=pn("mouseClick"),FD=uu();FD.startListening({actionCreator:VD,effect:(e,t)=>{var r=e.payload,n=o_(t.getState(),l_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(QW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var c0=pn("mouseMove"),$D=uu(),Id=null;$D.startListening({actionCreator:c0,effect:(e,t)=>{var r=e.payload;Id!==null&&cancelAnimationFrame(Id);var n=l_(r);Id=requestAnimationFrame(()=>{var i=t.getState(),a=Ob(i,i.tooltip.settings.shared);if(a==="axis"){var s=o_(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(C2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(T2())}Id=null})}});var _T={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},zD=Dr({name:"rootProps",initialState:_T,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:_T.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Tee=zD.reducer,{updateOptions:Cee}=zD.actions,UD=Dr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Iee}=UD.actions,jee=UD.reducer,BD=pn("keyDown"),qD=pn("focus"),c_=uu();c_.startListening({actionCreator:BD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Rb(i,rl(r),_u(r),Pu(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Vi(r);if(a==="Enter"){var c=Sh(r,"axis","hover",String(i.index));t.dispatch(t0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=FW(r),f=u==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*f;if(!(l==null||m>=l.length||m<0)){var g=Sh(r,"axis","hover",String(m));t.dispatch(t0({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});c_.startListening({actionCreator:qD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Sh(r,"axis","hover",String(a));t.dispatch(t0({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var tn=pn("externalEvent"),KD=uu(),Wg=new Map;KD.startListening({actionCreator:tn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Wg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:DH(o),activeDataKey:Fb(o),activeIndex:ys(o),activeLabel:F2(o),activeTooltipIndex:ys(o),isTooltipActive:MH(o)};r(l,n)}finally{Wg.delete(i)}});Wg.set(i,s)}}});var Nee=L([tl],e=>e.tooltipItemPayloads),kee=L([Nee,Su,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),WD=pn("touchMove"),HD=uu();HD.startListening({actionCreator:WD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Ob(n,n.tooltip.settings.shared);if(i==="axis"){var a=o_(n,l_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(C2({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(hO),u=(s=l.getAttribute(pO))!==null&&s!==void 0?s:void 0,f=kee(t.getState(),c,u);t.dispatch(P2({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}}});var Oee=Dk({brush:pJ,cartesianAxis:PX,chartData:OG,errorBars:$X,graphicalItems:$Y,layout:gU,legend:xB,options:CG,polarAxis:rY,polarOptions:jee,referenceElements:bJ,rootProps:Tee,tooltip:YW,zIndex:vG}),Ree=function(t){return z9({reducer:Oee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([FD.middleware,$D.middleware,c_.middleware,KD.middleware,HD.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(Yk({type:"raf"}))},devTools:hu.devToolsEnabled})};function GD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Mr(),a=w.useRef(null);if(i)return r;a.current==null&&(a.current=Ree(t));var s=hx;return w.createElement(gZ,{context:s,store:a.current},r)}function Dee(e){var{layout:t,margin:r}=e,n=Ue(),i=Mr();return w.useEffect(()=>{i||(n(hU(t)),n(fU(r)))},[n,i,t,r]),null}var QD=w.memo(Dee,e_);function YD(e){var t=Ue();return w.useEffect(()=>{t(Cee(e))},[t,e]),null}function ET(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=_D("".concat(n).concat(t)),a=Ue();return w.useLayoutEffect(()=>(a(mG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(gG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),w.createElement("g",{tabIndex:-1,id:i})}function ST(e){var{children:t,isPanorama:r}=e,n=ee(aG);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return w.createElement(w.Fragment,null,i.map(s=>w.createElement(ET,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>w.createElement(ET,{key:s,zIndex:s,isPanorama:r})))}var Mee=["children"];function Lee(e,t){if(e==null)return{};var r,n,i=Vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}var Fee={width:"100%",height:"100%",display:"block"},$ee=w.forwardRef((e,t)=>{var r=Tx(),n=Cx(),i=OO();if(!Jn(r)||!Jn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,u;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0),w.createElement(Zw,kh({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:Fee,ref:t}),a)}),zee=e=>{var{children:t}=e,r=ee($p);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return w.createElement(Zw,{width:n,height:i,x:s,y:a},t)},AT=w.forwardRef((e,t)=>{var{children:r}=e,n=Lee(e,Mee),i=Mr();return i?w.createElement(zee,null,w.createElement(ST,{isPanorama:!0},r)):w.createElement($ee,kh({ref:t},n),w.createElement(ST,{isPanorama:!1},r))});function Uee(){var e=Ue(),[t,r]=w.useState(null),n=ee(RU);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ht(a)&&a!==n&&e(mU(a))}},[t,e,n]),r}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var Hee=()=>(UG(),null);function Oh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gee=w.forwardRef((e,t)=>{var r,n,i=w.useRef(null),[a,s]=w.useState({containerWidth:Oh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Oh((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,u)=>{s(f=>{var p=Math.round(c),m=Math.round(u);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var p=g=>{var{width:v,height:x}=g[0].contentRect;o(v,x)},m=new ResizeObserver(p);m.observe(c),i.current=m}},[t,o]);return w.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(Bp,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",xs({ref:l},e)))}),Qee=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=w.useState({containerWidth:Oh(r),containerHeight:Oh(n)}),s=w.useCallback((l,c)=>{a(u=>{var f=Math.round(l),p=Math.round(c);return u.containerWidth===f&&u.containerHeight===p?u:{containerWidth:f,containerHeight:p}})},[]),o=w.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();s(c,u)}},[t,s]);return w.createElement(w.Fragment,null,w.createElement(Bp,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",xs({ref:o},e)))}),Yee=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Bp,{width:r,height:n}),w.createElement("div",xs({ref:t},e)))}),Xee=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return Si(r)||Si(n)?w.createElement(Qee,xs({},e,{ref:t})):w.createElement(Yee,xs({},e,{ref:t}))});function Zee(e){return e===!0?Gee:Xee}var Jee=w.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:x,width:b,responsive:E,dispatchTouchEvents:A=!0}=e,I=w.useRef(null),k=Ue(),[O,y]=w.useState(null),[S,C]=w.useState(null),D=Uee(),T=Ax(),N=(T==null?void 0:T.width)>0?T.width:b,j=(T==null?void 0:T.height)>0?T.height:i,G=w.useCallback(B=>{D(B),typeof t=="function"&&t(B),y(B),C(B),B!=null&&(I.current=B)},[D,t,y,C]),ae=w.useCallback(B=>{k(VD(B)),k(tn({handler:a,reactEvent:B}))},[k,a]),le=w.useCallback(B=>{k(c0(B)),k(tn({handler:c,reactEvent:B}))},[k,c]),se=w.useCallback(B=>{k(T2()),k(tn({handler:u,reactEvent:B}))},[k,u]),U=w.useCallback(B=>{k(c0(B)),k(tn({handler:f,reactEvent:B}))},[k,f]),W=w.useCallback(()=>{k(qD())},[k]),te=w.useCallback(B=>{k(BD(B.key))},[k]),pe=w.useCallback(B=>{k(tn({handler:s,reactEvent:B}))},[k,s]),ue=w.useCallback(B=>{k(tn({handler:o,reactEvent:B}))},[k,o]),Je=w.useCallback(B=>{k(tn({handler:l,reactEvent:B}))},[k,l]),Te=w.useCallback(B=>{k(tn({handler:p,reactEvent:B}))},[k,p]),Ht=w.useCallback(B=>{k(tn({handler:v,reactEvent:B}))},[k,v]),pt=w.useCallback(B=>{A&&k(WD(B)),k(tn({handler:g,reactEvent:B}))},[k,A,g]),Me=w.useCallback(B=>{k(tn({handler:m,reactEvent:B}))},[k,m]),ti=Zee(E);return w.createElement(W2.Provider,{value:O},w.createElement(MN.Provider,{value:S},w.createElement(ti,{width:N??(x==null?void 0:x.width),height:j??(x==null?void 0:x.height),className:Ne("recharts-wrapper",n),style:Bee({position:"relative",cursor:"default",width:N,height:j},x),onClick:ae,onContextMenu:pe,onDoubleClick:ue,onFocus:W,onKeyDown:te,onMouseDown:Je,onMouseEnter:le,onMouseLeave:se,onMouseMove:U,onMouseUp:Te,onTouchEnd:Me,onTouchMove:pt,onTouchStart:Ht,ref:G},w.createElement(Hee,null),r)))}),ete=["width","height","responsive","children","className","style","compact","title","desc"];function tte(e,t){if(e==null)return{};var r,n,i=rte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XD=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:u}=e,f=tte(e,ete),p=jn(f);return l?w.createElement(w.Fragment,null,w.createElement(Bp,{width:r,height:n}),w.createElement(AT,{otherAttributes:p,title:c,desc:u},a)):w.createElement(Jee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(AT,{otherAttributes:p,title:c,desc:u,ref:t},w.createElement(EJ,null,a)))});function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}var nte={top:5,right:5,bottom:5,left:5},ite={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ate=w.forwardRef(function(t,r){var n,i=Kt(t.categoricalChartProps,ite),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return w.createElement(GD,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},w.createElement(kD,{chartData:c.data}),w.createElement(QD,{layout:i.layout,margin:i.margin}),w.createElement(YD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(XD,u0({},i,{ref:r})))}),ste=["axis","item"],ZD=w.forwardRef((e,t)=>w.createElement(ate,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ste,tooltipPayloadSearcher:G2,categoricalChartProps:e,ref:t}));function ote(e){var t=Ue();return w.useEffect(()=>{t(Iee(e))},[t,e]),null}var lte=["layout"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(null,arguments)}function cte(e,t){if(e==null)return{};var r,n,i=ute(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dte={top:5,right:5,bottom:5,left:5},JD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fte=w.forwardRef(function(t,r){var n,i=Kt(t.categoricalChartProps,JD),{layout:a}=i,s=cte(i,lte),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(GD,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},w.createElement(kD,{chartData:i.data}),w.createElement(QD,{layout:a,margin:i.margin}),w.createElement(YD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(ote,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(XD,d0({},s,{ref:r})))});function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e,t,r){return(t=pte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=["item"],vte=CT(CT({},JD),{},{layout:"centric",startAngle:0,endAngle:360}),yte=w.forwardRef((e,t)=>{var r=Kt(e,vte);return w.createElement(fte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gte,tooltipPayloadSearcher:G2,categoricalChartProps:r,ref:t})});const wte=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(s=>s.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(s=>s.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(s=>s.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(s=>s.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(s=>s.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(s=>s.value>0);return a.length===0?d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx("div",{className:"chart-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})})]}):d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx(Px,{width:"100%",height:300,children:d.jsxs(yte,{children:[d.jsx(AD,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:o,percent:l})=>`${s}: ${o} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:s=>{t(s.status),r()},style:{cursor:"pointer"},children:a.map((s,o)=>d.jsx(Cu,{fill:s.fill},`cell-${o}`))}),d.jsx(qb,{formatter:s=>`${s} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),d.jsx(Hp,{})]})})]})};function xte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const c=new Date(l.creationDate);return c.getFullYear()===r&&c.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,s=e.filter(l=>l.status==="cerrada").length,o=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:s}];return d.jsx("div",{className:"incident-stats-container",children:d.jsx("div",{className:"stats-chart",children:d.jsx(Px,{width:"100%",height:300,children:d.jsxs(ZD,{data:o,children:[d.jsx(i_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),d.jsx(a_,{dataKey:"name",stroke:"#667eea"}),d.jsx(s_,{stroke:"#667eea"}),d.jsx(qb,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),d.jsx(Hp,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(po,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),d.jsx(po,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),d.jsx(po,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function bte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?d.jsxs("div",{className:"quick-incidents-container",children:[d.jsx("h3",{children:"Incidencias Pendientes"}),d.jsx("div",{className:"quick-incidents-empty",children:d.jsx("p",{children:" No hay incidencias pendientes"})})]}):d.jsxs("div",{className:"quick-incidents-container",children:[d.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),d.jsx("div",{className:"quick-incidents-list",children:r.map(a=>d.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:s=>{if(s.button===1){s.preventDefault();const o=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(o,"_blank")}},children:[d.jsx("div",{className:"quick-incident-name",children:a.name}),d.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function _te({incidents:e}){const t=()=>{const f=e.filter(m=>m.status==="cerrada");if(f.length===0)return 0;const p=f.reduce((m,g)=>{const v=new Date(g.creationDate),x=new Date(g.updatedAt),b=Math.abs(x.getTime()-v.getTime()),E=Math.ceil(b/(1e3*60*60*24));return m+E},0);return Math.round(p/f.length)},r=()=>({correctivo:e.filter(f=>f.type==="correctivo").length,evolutivo:e.filter(f=>f.type==="evolutivo").length,tarea:e.filter(f=>f.type==="tarea").length}),n=()=>{const f=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===f.getMonth()&&m.getFullYear()===f.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const f=e.filter(p=>p.status==="cerrada").length;return Math.round(f/e.length*100)},a=()=>e.filter(f=>(f.priority==="crtica"||f.priority==="alta")&&f.status!=="cerrada").length,s=t(),o=r(),l=n(),c=i(),u=a();return d.jsxs("div",{className:"metrics-dashboard",children:[d.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card metric-primary",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:s}),d.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-success",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[c,"%"]}),d.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-info",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:l}),d.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),d.jsxs("div",{className:"metric-card metric-warning",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:u}),d.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),d.jsxs("div",{className:"metrics-detail",children:[d.jsx("h3",{children:"Distribucin por Tipo"}),d.jsxs("div",{className:"type-stats",children:[d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Correctivo"}),d.jsx("span",{className:"type-stat-value",children:o.correctivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),d.jsx("span",{className:"type-stat-value",children:o.evolutivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Tarea"}),d.jsx("span",{className:"type-stat-value",children:o.tarea})]})]})]})]})}const Ete=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((o,l)=>{const c=e.filter(f=>{const p=new Date(f.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,u=e.filter(f=>{const p=new Date(f.updatedAt);return f.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:o,creadas:c,cerradas:u}})})();return d.jsxs("div",{className:"yearly-chart-container",children:[d.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),d.jsx(Px,{width:"100%",height:300,children:d.jsxs(ZD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(i_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),d.jsx(a_,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(s_,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(qb,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),d.jsx(Hp,{}),d.jsx(po,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),d.jsx(po,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),d.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function Ste({incidents:e,onViewIncident:t}){const r=()=>{const c=new Date,u=new Date(c.getTime()-7*24*60*60*1e3);return e.filter(f=>f.status==="cerrada"?!1:new Date(f.creationDate)<u&&(f.status==="abierta"||f.status==="en-progreso"))},n=()=>e.filter(c=>c.priority==="crtica"&&c.status!=="cerrada"&&c.status!=="resuelta"),i=()=>{const c=new Date,u=new Date(c.getTime()-3*24*60*60*1e3);return e.filter(f=>f.status!=="puesto-en-test"&&f.status!=="verificado-en-test"?!1:new Date(f.creationDate)<u)},a=r(),s=n(),o=i(),l=a.length+s.length+o.length;return l===0?null:d.jsxs("div",{className:"alerts-banner",children:[d.jsxs("div",{className:"alerts-header",children:[d.jsx("span",{className:"alerts-icon",children:""}),d.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&d.jsxs("div",{className:"alert-section alert-stale",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:a.length}),d.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),d.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(c=>d.jsxs("div",{className:"alert-item",onClick:()=>t(c),children:[d.jsx("span",{className:"alert-item-name",children:c.name}),d.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(c.creationDate).toLocaleDateString("es-ES")]}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},c.id)),a.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),s.length>0&&d.jsxs("div",{className:"alert-section alert-critical",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:s.length}),d.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),d.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(c=>d.jsxs("div",{className:"alert-item",onClick:()=>t(c),children:[d.jsx("span",{className:"alert-item-name",children:c.name}),d.jsx("span",{className:`alert-item-priority priority-${c.priority}`,children:c.priority==="crtica"?" Crtica":" Alta"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},c.id)),s.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]}),o.length>0&&d.jsxs("div",{className:"alert-section alert-test",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:o.length}),d.jsx("h4",{children:"En Test por ms de 3 das"})]}),d.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(c=>d.jsxs("div",{className:"alert-item",onClick:()=>t(c),children:[d.jsx("span",{className:"alert-item-name",children:c.name}),d.jsx("span",{className:"alert-item-status",children:c.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},c.id)),o.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]})]})}function eM(){return d.jsxs("div",{className:"logo-container",children:[d.jsx("div",{className:"logo-icon",children:d.jsxs("svg",{viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"globeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#4A9FD8",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#1E5A8E",stopOpacity:1}})]}),d.jsxs("linearGradient",{id:"arrowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#E91E63",stopOpacity:1}}),d.jsx("stop",{offset:"50%",style:{stopColor:"#D81B60",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#AD1457",stopOpacity:1}})]}),d.jsxs("linearGradient",{id:"orangeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#FFA726",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#FB8C00",stopOpacity:1}})]})]}),d.jsx("circle",{cx:"160",cy:"200",r:"120",fill:"url(#globeGradient)"}),d.jsxs("g",{fill:"rgba(255,255,255,0.3)",children:[d.jsx("ellipse",{cx:"140",cy:"170",rx:"45",ry:"35",transform:"rotate(-20 140 170)"}),d.jsx("ellipse",{cx:"180",cy:"190",rx:"35",ry:"25",transform:"rotate(10 180 190)"}),d.jsx("ellipse",{cx:"160",cy:"220",rx:"30",ry:"20"})]}),d.jsx("path",{d:"M 120 280 Q 180 240 240 180 L 260 200 L 280 170 L 250 150 L 230 170 L 250 190 Q 190 250 130 290 Z",fill:"url(#arrowGradient)"}),d.jsx("path",{d:"M 280 240 Q 320 220 340 250 Q 350 280 320 300 Q 300 310 280 300",fill:"url(#orangeGradient)",strokeWidth:"0"}),d.jsx("circle",{cx:"340",cy:"160",r:"18",fill:"#003B6F"})]})}),d.jsx("div",{className:"logo-text",children:d.jsx("h1",{children:"IncidentAlert"})})]})}function Ate({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n,onUpdateComment:i}){const[a,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(!1),[f,p]=w.useState(null),m=(E,A)=>{E.stopPropagation(),window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,A)},g=E=>{E.preventDefault(),a.trim()&&o.trim()&&(f&&i?i(e,f.id,o.trim(),a.trim()):r(e,o.trim(),a.trim()),s(""),l(""),u(!1),p(null))},v=E=>{E?(p(E),l(E.author),s(E.text)):(p(null),l(""),s("")),u(!0)},x=()=>{u(!1),p(null),l(""),s("")},b=[...t].sort((E,A)=>new Date(A.createdAt).getTime()-new Date(E.createdAt).getTime());return d.jsxs(d.Fragment,{children:[c&&Qn.createPortal(d.jsx("div",{className:"comment-modal-overlay",onClick:x,children:d.jsxs("div",{className:"comment-modal",onClick:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:f?" Editar Comentario":" Nuevo Comentario"}),d.jsx("button",{className:"btn-close-modal",onClick:x,children:""})]}),d.jsxs("form",{className:"comment-form-modal",onSubmit:g,children:[d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"author",children:"Autor"}),d.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:o,onChange:E=>l(E.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"comment",children:"Comentario"}),d.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:a,onChange:E=>s(E.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:x,children:"Cancelar"}),f&&d.jsx("button",{type:"button",className:"btn-delete-modal",onClick:E=>{m(E,f.id),x()},children:" Eliminar"}),d.jsx("button",{type:"submit",className:"btn-submit-modal",children:f?" Guardar":" Publicar"})]})]})]})}),document.body),d.jsxs("div",{className:"comments-section",children:[d.jsxs("div",{className:"comments-header",children:[d.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),d.jsx("button",{className:"btn-add-comment",onClick:()=>v(),title:"Aadir Comentario",children:"+"})]}),d.jsx("div",{className:"comments-list",children:b.length===0?d.jsxs("div",{className:"no-comments",children:[d.jsx("span",{className:"no-comments-icon",children:""}),d.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):b.map(E=>d.jsx("div",{className:"comment-item",onClick:()=>v(E),children:d.jsxs("div",{className:"comment-header",children:[d.jsxs("div",{className:"comment-author",children:[d.jsx("span",{className:"author-icon",children:""}),d.jsx("strong",{children:E.author})]}),d.jsxs("div",{className:"comment-header-right",children:[d.jsx("span",{className:"comment-date",children:new Date(E.createdAt).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),d.jsx("button",{className:"btn-delete-comment",onClick:A=>m(A,E.id),title:"Eliminar comentario",children:""})]})]})},E.id))})]})]})}function Pte({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[s,o]=w.useState(!1),[l,c]=w.useState(""),[u,f]=w.useState(!1),[p,m]=w.useState({show:!1,tag:null}),g=A=>{A.preventDefault(),l.trim()&&(n(e,l.trim()),c(""),o(!1),f(!1))},v=A=>{n(e,A),f(!1)},x=A=>{m({show:!0,tag:A})},b=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),f(!1))};u&&r.filter(A=>!t.includes(A));const E=r;return d.jsxs("div",{className:"tags-manager",children:[d.jsxs("div",{className:"tags-header",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"tags-actions",children:!s&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-add-tag",onClick:()=>o(!0),children:"+ Nueva"}),E.length>0&&d.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",u),console.log("Available tags:",E),f(!u)},children:" Gestionar"})]})})]}),s&&d.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[d.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:A=>c(A.target.value),autoFocus:!0,className:"tag-input"}),d.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),d.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{o(!1),c("")},children:""})]}),u&&E.length>0&&d.jsxs("div",{className:"tag-suggestions",children:[d.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),d.jsx("div",{className:"suggestions-list",children:E.map(A=>d.jsxs("div",{className:"suggestion-item",children:[!t.includes(A)&&d.jsxs("button",{className:"suggestion-tag",onClick:()=>v(A),children:["+ ",A]}),t.includes(A)&&d.jsxs("span",{className:"tag-already-added",children:[" ",A]}),a&&d.jsx("button",{className:"btn-delete-global-tag",onClick:()=>x(A),title:"Eliminar etiqueta del sistema",children:""})]},A))})]}),p.show&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:d.jsxs("div",{className:"delete-modal",onClick:A=>A.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Eliminar Etiqueta"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsxs("p",{children:["Eliminar la etiqueta ",d.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),d.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:b,children:" Eliminar"})]})]})}),d.jsx("div",{className:"tags-list",children:t.length===0?d.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):d.jsx("div",{className:"tags-container",children:t.map(A=>d.jsxs("div",{className:"tag-item",children:[d.jsx("span",{className:"tag-name",children:A}),d.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,A),title:"Eliminar etiqueta",children:""})]},A))})})]})}function Tte({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=w.useState(!1),a=l=>{const c=l.split("/");return c[c.length-1]||l},s=()=>{const l=new Date,c=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${c}/${u}/${f}`},o=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const c=document.createElement("div"),u=document.createElement("p");u.textContent="Buenas, os envo una PR para su subida a QA:",u.style.marginBottom="1rem",c.appendChild(u);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const b=p.querySelector("tr");b&&(b.style.background="#fbbf24"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#000",A.style.backgroundColor="#fbbf24"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),c.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",c.appendChild(g),document.body.appendChild(c);const v=document.createRange();v.selectNodeContents(c);const x=window.getSelection();x&&(x.removeAllRanges(),x.addRange(v),document.execCommand("copy"),x.removeAllRanges()),document.body.removeChild(c),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Qn.createPortal(d.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"qa-modal-header",children:[d.jsx("h2",{children:" Vista Tabla QA"}),d.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"qa-modal-body",children:[d.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),d.jsx("div",{className:"qa-table-container",children:d.jsxs("table",{className:"qa-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Owner"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"qa-modal-actions",children:[d.jsx("button",{className:"btn-copy-qa",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function Cte({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=w.useState(!1),a=l=>{const c=l.split("/");return c[c.length-1]||l},s=()=>{const l=new Date,c=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${c}/${u}/${f}`},o=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const c=document.createElement("div"),u=document.createElement("p");u.textContent="Buenas, os envo una PR para su subida a PRO:",u.style.marginBottom="1rem",c.appendChild(u);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const b=p.querySelector("tr");b&&(b.style.background="#10b981"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#fff",A.style.backgroundColor="#10b981"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),c.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",c.appendChild(g),document.body.appendChild(c);const v=document.createRange();v.selectNodeContents(c);const x=window.getSelection();x&&(x.removeAllRanges(),x.addRange(v),document.execCommand("copy"),x.removeAllRanges()),document.body.removeChild(c),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Qn.createPortal(d.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"main-modal-header",children:[d.jsx("h2",{children:" Vista Tabla MAIN"}),d.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"main-modal-body",children:[d.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),d.jsx("div",{className:"main-table-container",children:d.jsxs("table",{className:"main-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Persona de Contacto"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"main-modal-actions",children:[d.jsx("button",{className:"btn-copy-main",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const Ite=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:s,onUpdatePR:o})=>{const[l,c]=w.useState(!1),[u,f]=w.useState(!1),[p,m]=w.useState(null),[g,v]=w.useState(null),x=O=>{O.preventDefault();const y=new FormData(O.currentTarget),S=y.get("link").trim(),C=y.get("description").trim();S&&(p&&p.type==="qa2"?(o(e,"qa2",p.pr.id,S,C),m(null),v({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",S,C),v({type:"success",message:" PR QA2 agregado correctamente"})),c(!1),O.currentTarget.reset(),setTimeout(()=>v(null),3e3))},b=O=>{O.preventDefault();const y=new FormData(O.currentTarget),S=y.get("link").trim(),C=y.get("description").trim();S&&(p&&p.type==="main"?(o(e,"main",p.pr.id,S,C),m(null),v({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",S,C),v({type:"success",message:" PR MAIN agregado correctamente"})),f(!1),O.currentTarget.reset(),setTimeout(()=>v(null),3e3))},E=(O,y)=>{m({pr:O,type:y}),y==="qa2"?c(!0):f(!0)},A=O=>{m(null),O==="qa2"?c(!1):f(!1)},I=(O,y,S)=>{O.stopPropagation(),s(e,y,S),v({type:"error",message:` PR ${y==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>v(null),3e3)},k=O=>{const y=O.split("/");return y[y.length-1]||O};return d.jsxs(d.Fragment,{children:[g&&d.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[d.jsx("span",{children:g.message}),d.jsx("button",{className:"pr-notification-close",onClick:()=>v(null),children:""})]}),l&&Qn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("qa2"),children:d.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("qa2"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),d.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),d.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&d.jsx(Tte,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),u&&Qn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("main"),children:d.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("main"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:b,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),d.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),d.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&d.jsx(Cte,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),d.jsxs("div",{className:"pr-manager",children:[d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs QA2"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>c(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:r.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(O=>d.jsxs("div",{className:"pr-item",onClick:()=>E(O,"qa2"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:y=>y.stopPropagation(),children:[" PR ",k(O.link)]}),d.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:y=>I(y,"qa2",O.id),title:"Eliminar PR",children:""})]},O.id))})]}),d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs MAIN"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>f(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:n.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(O=>d.jsxs("div",{className:"pr-item",onClick:()=>E(O,"main"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:y=>y.stopPropagation(),children:[" PR ",k(O.link)]}),d.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:y=>I(y,"main",O.id),title:"Eliminar PR",children:""})]},O.id))})]})]})]})};function jte({incident:e,currentUser:t}){const[r,n]=w.useState(!1),[i,a]=w.useState(""),s=c=>!c||c.length===0?"-":c.map(u=>{const f=u.link.split("/");return f[f.length-1]||u.link}).join(", "),o=c=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[c]||c,l=async()=>{try{const c=document.querySelector(".excel-table");if(!c)return;const u=document.createElement("div"),f=document.createElement("p");f.textContent="Buenas, os envo una PR para su subida a PRO",f.style.marginBottom="1rem",u.appendChild(f);const p=c.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(O=>{O.style.padding="0.75rem 0.5rem",O.style.border="1px solid #e5e7eb",O.style.fontWeight="700",O.style.color="#000",O.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(k=>{k.style.padding="0.75rem 0.5rem",k.style.border="1px solid #e5e7eb",k.style.color="#333",k.style.fontWeight="500",k.style.backgroundColor="white"});const v=p.querySelector('input[type="date"]');if(v){const I=v.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const x=p.querySelector("textarea");if(x){const I=x.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}u.appendChild(p);const b=document.createElement("p");b.textContent="Un saludo, Gracias!",u.appendChild(b),document.body.appendChild(u);const E=document.createRange();E.selectNodeContents(u);const A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(E),document.execCommand("copy"),A.removeAllRanges()),document.body.removeChild(u),alert(" Tabla copiada al portapapeles con formato")}catch(c){console.error("Error al copiar:",c),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[r&&Qn.createPortal(d.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:d.jsxs("div",{className:"excel-modal",onClick:c=>c.stopPropagation(),children:[d.jsxs("div",{className:"excel-modal-header",children:[d.jsx("h2",{children:" Vista Previa Excel"}),d.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),d.jsxs("div",{className:"excel-modal-body",children:[d.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),d.jsx("div",{className:"excel-table-container",children:d.jsxs("table",{className:"excel-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"INCIDENCIA/S"}),d.jsx("th",{children:"Estado peticin Incidencias"}),d.jsx("th",{children:"DIA DESPLIEGUE"}),d.jsx("th",{children:"PERSONA CONTACTO"}),d.jsx("th",{children:"DESCRIPCIN"}),d.jsx("th",{children:"DEPENDENCIAS"}),d.jsx("th",{children:"PR PRO"}),d.jsx("th",{children:"PR QA"}),d.jsx("th",{children:"Desplegado"}),d.jsx("th",{children:"PUESTO EXCEL QA"}),d.jsx("th",{children:"TIPO MOV"}),d.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),d.jsx("tbody",{children:d.jsxs("tr",{children:[d.jsx("td",{children:e.name}),d.jsx("td",{children:"Verificado en Test"}),d.jsx("td",{children:d.jsx("input",{type:"date",value:i,onChange:c=>a(c.target.value),className:"excel-date-input"})}),d.jsx("td",{children:t}),d.jsx("td",{children:d.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),d.jsx("td",{children:"NO"}),d.jsx("td",{children:s(e.prMainList)}),d.jsx("td",{children:s(e.prQA2List)}),d.jsx("td",{children:"NO"}),d.jsx("td",{}),d.jsx("td",{children:o(e.type)}),d.jsx("td",{children:"-"})]})})]})}),d.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),d.jsxs("div",{className:"excel-modal-actions",children:[d.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const Nte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onUpdateComment:i,onDeleteComment:a,onDelete:s,onAddTag:o,onRemoveTag:l,onDeleteTagGlobally:c,allAvailableTags:u,onAddPR:f,onRemovePR:p,onUpdatePR:m})=>{const[g,v]=w.useState(e),[x,b]=w.useState(g.status),[E,A]=w.useState(g.priority),[I,k]=w.useState(g.type);w.useEffect(()=>{v(e),b(e.status),A(e.priority),k(e.type)},[e]);const y=(()=>{const T=mr.getUsers().find(N=>N.id===g.userId);return T?T.name:g.contactUser||"Usuario"})(),S=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${g.name}"? Esta accin no se puede deshacer.`)&&(s(g.id),r())},C=D=>{D.preventDefault();const T=new FormData(D.currentTarget),N={...g,name:(T.get("name")||"").trim(),title:(T.get("title")||"").trim(),description:(T.get("description")||"").trim(),contactUser:(T.get("contactUser")||"").trim(),prQA2:(T.get("prQA2")||"").trim(),prMain:(T.get("prMain")||"").trim(),creationDate:T.get("creationDate")||g.creationDate,relevante:(T.get("relevante")||"").trim(),realizado:(T.get("realizado")||"").trim(),clasesModificadas:(T.get("clasesModificadas")||"").trim(),priority:E,status:x,type:I,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",N),t(N)};return d.jsx("div",{className:"incident-detail-container",children:d.jsxs("div",{className:"incident-detail-layout",children:[d.jsx("div",{className:"detail-main-content",children:d.jsxs("div",{className:"incident-detail-card",children:[d.jsxs("div",{className:"incident-header-visual",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),d.jsx("h1",{children:g.name})]}),d.jsx(jte,{incident:g,currentUser:y})]}),d.jsxs("div",{className:"incident-badges",children:[d.jsxs("span",{className:`badge-status status-${g.status}`,children:[g.status==="abierta"&&"",g.status==="en-progreso"&&"",g.status==="puesto-en-test"&&"",g.status==="verificado-en-test"&&"",g.status==="resuelta"&&"",g.status==="cerrada"&&""," ",g.status.replace("-"," ")]}),d.jsxs("span",{className:`badge-priority priority-${g.priority}`,children:[g.priority==="baja"&&"",g.priority==="media"&&"",g.priority==="alta"&&"",g.priority==="crtica"&&""," ",g.priority]}),d.jsxs("span",{className:`badge-type type-${g.type}`,children:[g.type==="correctivo"&&"",g.type==="evolutivo"&&"",g.type==="tarea"&&""," ",g.type]})]})]}),d.jsxs("form",{onSubmit:C,className:"detail-form",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Editar Informacin"}),d.jsxs("div",{className:"visual-field-group",children:[d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),d.jsx("input",{id:"name",name:"name",type:"text",defaultValue:g.name,placeholder:"MOV-XXXX",required:!0})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),d.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:g.contactUser||"",placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),d.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:g.creationDate})]})]}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",name:"title",type:"text",defaultValue:g.title||"",placeholder:"Ttulo para envo a PRO"})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"description",children:" Descripcin"}),d.jsx("textarea",{id:"description",name:"description",defaultValue:g.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:g.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:g.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:g.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Estado y Clasificacin"}),d.jsxs("div",{className:"chip-selector-container",children:[d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Estado"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="abierta"?"selected":""}`,onClick:()=>b("abierta"),children:" Abierta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="en-progreso"?"selected":""}`,onClick:()=>b("en-progreso"),children:" En Progreso"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="puesto-en-test"?"selected":""}`,onClick:()=>b("puesto-en-test"),children:" En Test"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="verificado-en-test"?"selected":""}`,onClick:()=>b("verificado-en-test"),children:" Verificado"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="resuelta"?"selected":""}`,onClick:()=>b("resuelta"),children:" Resuelta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${x==="cerrada"?"selected":""}`,onClick:()=>b("cerrada"),children:" Cerrada"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Prioridad"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${E==="baja"?"selected":""}`,onClick:()=>A("baja"),children:" Baja"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${E==="media"?"selected":""}`,onClick:()=>A("media"),children:" Media"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${E==="alta"?"selected":""}`,onClick:()=>A("alta"),children:" Alta"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${E==="crtica"?"selected":""}`,onClick:()=>A("crtica"),children:" Crtica"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Tipo"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="correctivo"?"selected":""}`,onClick:()=>k("correctivo"),children:" Correctivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="evolutivo"?"selected":""}`,onClick:()=>k("evolutivo"),children:" Evolutivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="tarea"?"selected":""}`,onClick:()=>k("tarea"),children:" Tarea"})]})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),d.jsx("button",{type:"button",className:"btn-delete-incident",onClick:S,children:" Eliminar Incidencia"})]})]})]})}),d.jsxs("div",{className:"detail-sidebar",children:[d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ite,{incidentId:g.id,incidentName:g.name,prQA2List:g.prQA2List||[],prMainList:g.prMainList||[],ownerName:y,onAddPR:f,onRemovePR:p,onUpdatePR:m})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Pte,{incidentId:g.id,tags:g.tags||[],allAvailableTags:u,onAddTag:o,onRemoveTag:l,onDeleteTagGlobally:c})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ate,{incidentId:g.id,comments:g.comments||[],onAddComment:n,onUpdateComment:i,onDeleteComment:a})})]})]})})},kte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>d.jsxs("div",{className:"tabs-container",children:[d.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),d.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),d.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),d.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(s=>d.jsxs("div",{className:`tab-incident ${n===s.id?"active":""}`,onClick:()=>i==null?void 0:i(s.id),children:[d.jsxs("span",{className:"tab-incident-name",children:[" ",s.name]}),d.jsx("button",{className:"tab-incident-close",onClick:o=>{o.stopPropagation(),a==null||a(s.id)},children:""})]},s.id))]});function Ote({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,s]=w.useState(""),[o,l]=w.useState(n?[n]:[]),[c,u]=w.useState([]),[f,p]=w.useState([]),[m,g]=w.useState([]),[v,x]=w.useState(""),[b,E]=w.useState("");w.useEffect(()=>{n&&l([n])},[n]),w.useEffect(()=>{let T=[...e];if(a.trim()){const N=a.toLowerCase();T=T.filter(j=>j.name.toLowerCase().includes(N)||j.contactUser.toLowerCase().includes(N)||j.prQA2.toLowerCase().includes(N)||j.prMain.toLowerCase().includes(N)||j.comments&&j.comments.some(G=>G.text.toLowerCase().includes(N)||G.author.toLowerCase().includes(N)))}o.length>0&&(T=T.filter(N=>o.includes(N.status))),c.length>0&&(T=T.filter(N=>c.includes(N.priority))),f.length>0&&(T=T.filter(N=>f.includes(N.type))),m.length>0&&(T=T.filter(N=>m.some(j=>N.tags&&N.tags.includes(j)))),v&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()>=parseInt(v))),b&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()<=parseInt(b))),t(T)},[a,o,c,f,m,v,b,e,t]);const A=()=>{s(""),l([]),u([]),p([]),g([]),x(""),E(""),t(e),i&&i()},I=()=>{l([]),i&&i()},k=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,O=T=>{l(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},y=T=>{u(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},S=T=>{p(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},C=T=>{g(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},D=(a?1:0)+o.length+c.length+f.length+m.length+(v?1:0)+(b?1:0);return d.jsxs("div",{className:"advanced-search",children:[n&&d.jsxs("div",{className:"status-filter-banner",children:[d.jsxs("span",{children:[" Filtrando por estado: ",d.jsx("strong",{children:k(n)})]}),d.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),d.jsx("div",{className:"search-header",children:d.jsx("h3",{children:" Bsqueda Avanzada"})}),d.jsxs("div",{className:"search-main",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>s(T.target.value),className:"search-input"}),d.jsxs("button",{className:"btn-reset",onClick:A,children:[" Limpiar Filtros",D>0&&d.jsx("span",{className:"filters-badge-inline",children:D})]})]}),d.jsxs("div",{className:"filters-panel",children:[d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Estado"}),d.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>d.jsxs("button",{className:`filter-chip ${o.includes(T)?"active":""}`,onClick:()=>O(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Prioridad"}),d.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>d.jsxs("button",{className:`filter-chip priority-${T} ${c.includes(T)?"active":""}`,onClick:()=>y(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Tipo"}),d.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>d.jsxs("button",{className:`filter-chip ${f.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Rango de Aos"}),d.jsxs("div",{className:"date-filters",children:[d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Desde:"}),d.jsxs("select",{value:v,onChange:T=>x(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]}),d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Hasta:"}),d.jsxs("select",{value:b,onChange:T=>E(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"filter-chips",children:r.map(T=>d.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>C(T),children:T},T))})]})]})]})}const Rte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:s})=>{const[o,l]=w.useState(e||[]),[c,u]=w.useState(""),[f,p]=w.useState("asc"),[m,g]=w.useState({show:!1,incident:null});w.useEffect(()=>{l(e||[])},[e]);const v=y=>{const S=c===y&&f==="asc"?"desc":"asc";u(y),p(S);const C=[...o].sort((D,T)=>{let N=D[y],j=T[y];if((y==="creationDate"||y==="createdAt"||y==="updatedAt")&&(N=new Date(N).getTime(),j=new Date(j).getTime()),y==="name"&&typeof N=="string"&&typeof j=="string"){const G=N.match(/^\d+/),ae=j.match(/^\d+/);if(G&&ae){const le=parseInt(G[0],10),se=parseInt(ae[0],10);return le!==se?S==="asc"?le-se:se-le:S==="asc"?N.localeCompare(j):j.localeCompare(N)}}if(typeof N=="string"&&typeof j=="string")return S==="asc"?N.localeCompare(j):j.localeCompare(N);if(N!==void 0&&j!==void 0){if(N<j)return S==="asc"?-1:1;if(N>j)return S==="asc"?1:-1}return 0});l(C)},x=y=>c!==y?"":f==="asc"?"":"",b=y=>new Date(y).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),E=y=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[y]||y,A=y=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[y]||y,I=y=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[y]||y,k=y=>!y||!Array.isArray(y)||y.length===0?"":y.filter(S=>S&&S.link).map(S=>{const C=S.link.split("/");return C[C.length-1]||""}).filter(S=>S).join(", ")||"",O=()=>{const y=j=>{if(j==null)return"";const G=String(j);return G.includes(";")||G.includes('"')||G.includes(`
`)||G.includes("\r")?`"${G.replace(/"/g,'""')}"`:G},C=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(j=>y(j)).join(";"),...o.map(j=>[y(j.id),y(j.name),y(E(j.status)),y(A(j.priority)),y(I(j.type)),y(j.contactUser||""),y(j.prQA2||""),y(j.prMain||""),y(j.creationDate),y(b(j.createdAt)),y(b(j.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),N=URL.createObjectURL(D);T.setAttribute("href",N),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?d.jsx("div",{className:"all-incidents-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})}):d.jsxs("div",{className:"all-incidents-table-container",children:[d.jsx("div",{className:"search-sidebar",children:d.jsx(Ote,{incidents:e,onResults:l,allAvailableTags:ge.getAllTags(),initialStatus:a,onClearStatusFilter:s})}),d.jsxs("div",{className:"table-content",children:[d.jsxs("div",{className:"table-actions",children:[d.jsxs("p",{className:"filter-results",children:["Mostrando ",o.length," de ",e.length," incidencias"]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&d.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),d.jsx("button",{className:"btn-export-excel",onClick:O,children:" Exportar a Excel"})]})]}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{className:"all-incidents-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>v("name"),className:"sortable-header col-name",children:["Nombre ",x("name")]}),d.jsxs("th",{onClick:()=>v("status"),className:"sortable-header col-status",children:["Estado ",x("status")]}),d.jsxs("th",{onClick:()=>v("priority"),className:"sortable-header col-priority",children:["Prioridad ",x("priority")]}),d.jsxs("th",{onClick:()=>v("type"),className:"sortable-header col-type",children:["Tipo ",x("type")]}),d.jsxs("th",{onClick:()=>v("contactUser"),className:"sortable-header col-contact",children:["Contacto ",x("contactUser")]}),d.jsxs("th",{onClick:()=>v("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",x("prQA2")]}),d.jsxs("th",{onClick:()=>v("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",x("prMain")]}),d.jsx("th",{className:"col-actions",children:"Acciones"})]})}),d.jsx("tbody",{children:o.map(y=>d.jsxs("tr",{className:`row-priority-${y.priority} incident-row-clickable`,onClick:()=>n(y),onMouseDown:S=>{if(S.button===1){S.preventDefault();const C=`${window.location.origin}${window.location.pathname}?incident=${y.id}`;window.open(C,"_blank")}},children:[d.jsx("td",{className:"name-cell",title:y.name,children:y.name}),d.jsx("td",{title:E(y.status),children:d.jsx("span",{className:`status-badge status-${y.status}`,children:E(y.status)})}),d.jsx("td",{title:A(y.priority),children:d.jsx("span",{className:`priority-badge priority-${y.priority}`,children:A(y.priority)})}),d.jsx("td",{title:I(y.type),children:d.jsx("span",{className:`type-badge type-${y.type}`,children:I(y.type)})}),d.jsx("td",{className:"contact-cell",title:y.contactUser||"",children:y.contactUser||""}),d.jsx("td",{className:"pr-cell",title:k(y.prQA2List),children:k(y.prQA2List)}),d.jsx("td",{className:"pr-cell",title:k(y.prMainList),children:k(y.prMainList)}),d.jsx("td",{className:"actions-cell",onClick:S=>S.stopPropagation(),children:d.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:y}),title:"Eliminar incidencia",children:""})})]},y.id))})]})})]}),m.show&&m.incident&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:d.jsxs("div",{className:"delete-modal",onClick:y=>y.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Confirmar Eliminacin"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),d.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),d.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function Dte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=w.useState(!1),[s,o]=w.useState(null),[l,c]=w.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),u=g=>{g.preventDefault();const v={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};s?(r(s.id,v),o(null)):t(v),f()},f=()=>{c({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var v,x,b,E,A;o(g),c({name:g.name,trigger:g.trigger,conditionField:((v=g.conditions[0])==null?void 0:v.field)||"type",conditionOperator:((x=g.conditions[0])==null?void 0:x.operator)||"equals",conditionValue:((b=g.conditions[0])==null?void 0:b.value.toString())||"",actionType:((E=g.actions[0])==null?void 0:E.type)||"set-priority",actionValue:((A=g.actions[0])==null?void 0:A.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return d.jsxs("div",{className:"automation-rules-container",children:[d.jsxs("div",{className:"rules-header",children:[d.jsxs("div",{className:"header-title",children:[d.jsx("h2",{children:" Reglas de Automatizacin"}),d.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),d.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&d.jsx("form",{className:"rule-form",onSubmit:u,children:d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:s?"Editar Regla":"Nueva Regla"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre de la regla"}),d.jsx("input",{type:"text",value:l.name,onChange:g=>c({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Disparador"}),d.jsxs("select",{value:l.trigger,onChange:g=>c({...l,trigger:g.target.value}),children:[d.jsx("option",{value:"on-create",children:"Al crear incidencia"}),d.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),d.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),d.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"SI"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Campo"}),d.jsxs("select",{value:l.conditionField,onChange:g=>c({...l,conditionField:g.target.value}),children:[d.jsx("option",{value:"type",children:"Tipo"}),d.jsx("option",{value:"priority",children:"Prioridad"}),d.jsx("option",{value:"status",children:"Estado"}),d.jsx("option",{value:"days-open",children:"Das abierta"}),d.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Operador"}),d.jsxs("select",{value:l.conditionOperator,onChange:g=>c({...l,conditionOperator:g.target.value}),children:[d.jsx("option",{value:"equals",children:"Es igual a"}),d.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"greater-than",children:"Mayor que"}),d.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&d.jsx("option",{value:"contains",children:"Contiene"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.conditionField==="type"?d.jsxs("select",{value:l.conditionValue,onChange:g=>c({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?d.jsxs("select",{value:l.conditionValue,onChange:g=>c({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?d.jsxs("select",{value:l.conditionValue,onChange:g=>c({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?d.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>c({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):d.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>c({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"ENTONCES"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Accin"}),d.jsxs("select",{value:l.actionType,onChange:g=>c({...l,actionType:g.target.value}),children:[d.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),d.jsx("option",{value:"set-status",children:"Cambiar estado"}),d.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),d.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?d.jsxs("select",{value:l.actionValue,onChange:g=>c({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?d.jsxs("select",{value:l.actionValue,onChange:g=>c({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):d.jsx("input",{type:"text",value:l.actionValue,onChange:g=>c({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save-rule",children:s?" Actualizar Regla":" Crear Regla"}),d.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:f,children:"Cancelar"})]})]})}),d.jsx("div",{className:"rules-list",children:e.length===0?d.jsxs("div",{className:"no-rules",children:[d.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),d.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>d.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[d.jsxs("div",{className:"rule-header-card",children:[d.jsxs("div",{className:"rule-info",children:[d.jsx("h3",{children:g.name}),d.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),d.jsxs("div",{className:"rule-actions",children:[d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:g.enabled,onChange:v=>r(g.id,{enabled:v.target.checked})}),d.jsx("span",{className:"toggle-slider"})]}),d.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),d.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),d.jsxs("div",{className:"rule-logic",children:[d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"SI:"}),d.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((v,x)=>d.jsxs("span",{className:"condition-badge",children:[v.field," ",v.operator," ",v.value]},x))})]}),d.jsx("div",{className:"logic-arrow",children:""}),d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"ENTONCES:"}),d.jsx("div",{className:"logic-content",children:(g.actions||[]).map((v,x)=>d.jsxs("span",{className:"action-badge",children:[v.type,": ",v.value]},x))})]})]})]},g.id))})]})}function Mte({currentUser:e}){const[t,r]=w.useState([]),[n,i]=w.useState([]),[a,s]=w.useState(new Map),[o,l]=w.useState(!1),[c,u]=w.useState(null),[f,p]=w.useState({username:"",password:"",name:"",avatar:"",roleId:""}),[m,g]=w.useState(!1),[v,x]=w.useState(null);w.useEffect(()=>{const y=c5(S=>{console.log("Usuarios actualizados en tiempo real:",S),r(S)});return()=>{y()}},[]),w.useEffect(()=>{const y=kN(S=>{i(S)});return()=>{y()}},[]),w.useEffect(()=>{const y=async()=>{const S=new Map;for(const C of t)if(C.roleId){const D=await yp(C.roleId);D&&S.set(C.id,D)}s(S)};t.length>0&&y()},[t]);const b=(y,S)=>{x({type:y,message:S}),setTimeout(()=>x(null),3e3)},E=()=>{p({username:"",password:"",name:"",avatar:"",roleId:""}),l(!1),u(null),g(!1)},A=async y=>{if(y.preventDefault(),!f.username.trim()||!f.password.trim()||!f.name.trim()){b("error","Usuario, contrasea y nombre son obligatorios");return}if(!f.roleId){b("error","Debes seleccionar un rol para el usuario");return}try{if(await zf(f.username.toLowerCase())){b("error","Ya existe un usuario con ese nombre");return}await Qw({username:f.username.toLowerCase(),password:f.password,name:f.name,avatar:f.avatar,roleId:f.roleId,createdAt:new Date().toISOString()}),b("success",`Usuario "${f.username}" creado correctamente`),E()}catch(S){console.error("Error creating user:",S),b("error",S instanceof Error?S.message:"Error al crear usuario")}},I=async y=>{if(y.preventDefault(),!!c){if(!f.name.trim()){b("error","El nombre es obligatorio");return}if(!f.roleId){b("error","Debes seleccionar un rol para el usuario");return}try{const S={name:f.name,avatar:f.avatar,roleId:f.roleId};f.password.trim()&&(S.password=f.password),await Yw(c.id,S),b("success",`Usuario "${c.username}" actualizado correctamente`),E()}catch(S){console.error("Error updating user:",S),b("error",S instanceof Error?S.message:"Error al actualizar usuario")}}},k=y=>{u(y),p({username:y.username,password:"",name:y.name,avatar:y.avatar||"",roleId:y.roleId||""}),l(!0)},O=async y=>{if(y.id===e.id){b("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${y.username}"?`))try{await e5(y.id),b("success",`Usuario "${y.username}" eliminado correctamente`)}catch(S){console.error("Error deleting user:",S),b("error",S instanceof Error?S.message:"Error al eliminar usuario")}};return d.jsxs("div",{className:"user-management",children:[d.jsxs("div",{className:"user-management-header",children:[d.jsx("h3",{children:" Gestin de Usuarios"}),!o&&d.jsx("button",{className:"btn-create-user",onClick:()=>l(!0),children:" Crear Usuario"})]}),v&&d.jsxs("div",{className:`user-notification user-notification-${v.type}`,children:[v.type==="success"?"":""," ",v.message]}),o&&d.jsx("div",{className:"user-form-container",children:d.jsxs("form",{className:"user-form",onSubmit:c?I:A,children:[d.jsx("h4",{children:c?" Editar Usuario":" Nuevo Usuario"}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"username",children:"Usuario *"}),d.jsx("input",{id:"username",type:"text",value:f.username,onChange:y=>p({...f,username:y.target.value}),placeholder:"Nombre de usuario",disabled:!!c,required:!0}),c&&d.jsx("small",{className:"field-hint",children:"El usuario no se puede cambiar"})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),d.jsx("input",{id:"name",type:"text",value:f.name,onChange:y=>p({...f,name:y.target.value}),placeholder:"Nombre completo del usuario",required:!0})]})]}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"roleId",children:"Rol *"}),d.jsxs("select",{id:"roleId",value:f.roleId,onChange:y=>p({...f,roleId:y.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar rol..."}),n.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(y=>d.jsx("button",{type:"button",className:`avatar-option ${f.avatar===y?"selected":""}`,onClick:()=>p({...f,avatar:y}),children:y},y))})]})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"password",children:c?"Nueva Contrasea (dejar vaco para no cambiar)":"Contrasea *"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{id:"password",type:m?"text":"password",value:f.password,onChange:y=>p({...f,password:y.target.value}),placeholder:c?"Nueva contrasea (opcional)":"Contrasea",required:!c}),d.jsxs("label",{className:"show-password-toggle",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:y=>g(y.target.checked)}),d.jsx("span",{children:"Mostrar contrasea"})]})]})]}),d.jsxs("div",{className:"user-form-actions",children:[d.jsx("button",{type:"submit",className:"btn-submit",children:c?" Guardar Cambios":" Crear Usuario"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:E,children:" Cancelar"})]})]})}),d.jsxs("div",{className:"users-list",children:[d.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),d.jsx("div",{className:"users-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Avatar"}),d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Fecha de Creacin"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(y=>{var S;return d.jsxs("tr",{className:y.id===e.id?"current-user":"",children:[d.jsx("td",{children:d.jsx("span",{className:"user-avatar",children:y.avatar||""})}),d.jsx("td",{children:d.jsxs("span",{className:"user-username",children:[y.username,y.id===e.id&&d.jsx("span",{className:"badge-current",children:" (T)"})]})}),d.jsx("td",{children:y.name}),d.jsx("td",{children:d.jsx("span",{className:"role-badge",children:((S=a.get(y.id))==null?void 0:S.name)||d.jsx("span",{className:"text-muted",children:"Sin rol"})})}),d.jsx("td",{children:new Date(y.createdAt).toLocaleDateString("es-ES")}),d.jsx("td",{children:d.jsxs("div",{className:"user-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>k(y),title:"Editar usuario",children:""}),d.jsx("button",{className:"btn-delete",onClick:()=>O(y),disabled:y.id===e.id,title:y.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},y.id)})})]})})]})]})}const f0=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function Lte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=w.useState(t),a=async s=>{i(s),e(s);try{await t5(r.id,{...r.preferences,theme:s})}catch(o){console.error("Error saving theme preference:",o)}};return d.jsxs("div",{className:"appearance-settings",children:[d.jsx("h3",{children:" Apariencia"}),d.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),d.jsx("div",{className:"theme-grid",children:f0.map(s=>d.jsxs("div",{className:`theme-card ${n===s.id?"active":""}`,onClick:()=>a(s.id),children:[d.jsx("div",{className:"theme-preview",style:{background:s.preview},children:n===s.id&&d.jsx("div",{className:"theme-check",children:""})}),d.jsx("div",{className:"theme-name",children:s.name})]},s.id))}),n!==t&&d.jsx("div",{className:"theme-info",children:d.jsx("p",{children:" Tema aplicado correctamente"})})]})}const Ls={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},Hg="app_general_settings";function Vte({onSettingsChange:e}){const[t,r]=w.useState(()=>{try{const u=localStorage.getItem(Hg);return u?{...Ls,...JSON.parse(u)}:Ls}catch(u){return console.error("Error loading settings:",u),Ls}}),[n,i]=w.useState(null),a=(u,f)=>{const p={...t,[u]:f};r(p),localStorage.setItem(Hg,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},s=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(Ls),localStorage.setItem(Hg,JSON.stringify(Ls)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},o=async()=>{try{const u=await TN(),f=await vp(),p=await Ul(),m=await IN(),g={incidents:u,users:f,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},v=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),x=URL.createObjectURL(v),b=document.createElement("a");b.href=x,b.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,b.click(),URL.revokeObjectURL(x),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(u){console.error("Export error:",u),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=u=>{var m;const f=(m=u.target.files)==null?void 0:m[0];if(!f)return;const p=new FileReader;p.onload=async g=>{var v;try{const x=JSON.parse((v=g.target)==null?void 0:v.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(x)){if(!x.every(E=>E.id&&E.name&&E.title&&E.status&&E.priority&&E.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const E of x)await uy(E)}else{if(x.incidents)for(const b of x.incidents)await uy(b);if(x.users)for(const b of x.users)await Qw(b);if(x.automationRules)for(const b of x.automationRules)await CN(b);x.settings&&(await jN(x.settings),r({...Ls,...x.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(x){console.error("Import error:",x),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(f)},c=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return d.jsxs("div",{className:"general-settings",children:[n&&d.jsx("div",{className:"settings-notification",children:n}),d.jsxs("div",{className:"settings-header",children:[d.jsx("h2",{children:" Configuracin General"}),d.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),d.jsxs("div",{className:"settings-sections",children:[d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Interfaz"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),d.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),d.jsxs("select",{value:t.notificationDuration,onChange:u=>a("notificationDuration",parseInt(u.target.value)),children:[d.jsx("option",{value:"2000",children:"2 segundos"}),d.jsx("option",{value:"3000",children:"3 segundos"}),d.jsx("option",{value:"4000",children:"4 segundos"}),d.jsx("option",{value:"5000",children:"5 segundos"}),d.jsx("option",{value:"7000",children:"7 segundos"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),d.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),d.jsxs("select",{value:t.incidentsPerPage,onChange:u=>a("incidentsPerPage",parseInt(u.target.value)),children:[d.jsx("option",{value:"5",children:"5"}),d.jsx("option",{value:"10",children:"10"}),d.jsx("option",{value:"20",children:"20"}),d.jsx("option",{value:"50",children:"50"}),d.jsx("option",{value:"100",children:"100"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Vista compacta"}),d.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.compactView,onChange:u=>a("compactView",u.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("label",{children:[d.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),d.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:u=>a("showWelcomeMessage",u.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),d.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:u=>a("enableSounds",u.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Valores por Defecto"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Formato de fecha"}),d.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),d.jsxs("select",{value:t.dateFormat,onChange:u=>a("dateFormat",u.target.value),children:[d.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),d.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),d.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),d.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultIncidentType,onChange:u=>a("defaultIncidentType",u.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),d.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultPriority,onChange:u=>a("defaultPriority",u.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Comportamiento"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Autoguardado"}),d.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),d.jsxs("select",{value:t.autoSaveInterval,onChange:u=>a("autoSaveInterval",parseInt(u.target.value)),children:[d.jsx("option",{value:"15000",children:"15 segundos"}),d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"0",children:"Desactivado"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),d.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:u=>a("confirmBeforeDelete",u.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),d.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:u=>a("autoRefresh",u.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),d.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),d.jsxs("select",{value:t.autoRefreshInterval,onChange:u=>a("autoRefreshInterval",parseInt(u.target.value)),children:[d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Gestin de Datos"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Exportar datos"}),d.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),d.jsx("button",{className:"btn-export",onClick:o,children:" Exportar Todo"})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Importar datos"}),d.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),d.jsxs("label",{className:"btn-import",children:[" Importar",d.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),d.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),d.jsx("button",{className:"btn-reset",onClick:s,children:" Restaurar"})]}),d.jsxs("div",{className:"setting-item danger-zone",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:" Zona de peligro"}),d.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),d.jsx("button",{className:"btn-danger",onClick:c,children:" Borrar Todo"})]})]})]})]})}function Fte({onLogin:e}){const[t,r]=w.useState(""),[n,i]=w.useState(""),[a,s]=w.useState(!1),[o,l]=w.useState("");w.useEffect(()=>{const u=localStorage.getItem("saved_username"),f=localStorage.getItem("saved_password");u&&f&&(r(u),i(f),s(!0))},[]);const c=async u=>{if(u.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const f=await zf(t.toLowerCase());f&&f.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(f)),e(f)):l("Usuario o contrasea incorrectos")}catch(f){console.error("Error durante login:",f),l("Error al iniciar sesin. Intenta nuevamente.")}};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx(eM,{}),d.jsx("h1",{children:"Sistema de Incidencias"}),d.jsx("p",{children:"Inicia sesin para continuar"})]}),d.jsxs("form",{className:"login-form",onSubmit:c,children:[o&&d.jsxs("div",{className:"login-error",children:[" ",o]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"username",children:"Usuario"}),d.jsx("input",{id:"username",type:"text",value:t,onChange:u=>r(u.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsx("input",{id:"password",type:"password",value:n,onChange:u=>i(u.target.value),placeholder:"Ingresa tu contrasea"})]}),d.jsx("div",{className:"login-remember",children:d.jsxs("label",{className:"remember-checkbox",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:u=>s(u.target.checked)}),d.jsx("span",{children:"Guardar credenciales"})]})}),d.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function $te({currentUser:e,onUpdate:t}){const[r,n]=w.useState({name:e.name,password:"",confirmPassword:"",avatar:e.avatar||""}),[i,a]=w.useState(null),[s,o]=w.useState(null),[l,c]=w.useState(!1);w.useEffect(()=>{(async()=>{if(e.roleId){const g=await yp(e.roleId);a(g)}})()},[e.roleId]);const u=(m,g)=>{o({type:m,message:g}),setTimeout(()=>o(null),3e3)},f=async m=>{if(m.preventDefault(),!r.name.trim()){u("error","El nombre es obligatorio");return}if(r.password&&r.password!==r.confirmPassword){u("error","Las contraseas no coinciden");return}try{const g={name:r.name,avatar:r.avatar};r.password&&(g.password=r.password),await Yw(e.id,g),u("success","Perfil actualizado correctamente"),t(),n(v=>({...v,password:"",confirmPassword:""}))}catch(g){console.error("Error updating profile:",g),u("error","Error al actualizar el perfil")}},p=["","","","","","","","","","","",""];return d.jsxs("div",{className:"user-profile",children:[d.jsxs("div",{className:"profile-header",children:[d.jsx("h2",{children:" Mi Perfil"}),d.jsx("p",{className:"profile-description",children:"Administra tu informacin personal"})]}),s&&d.jsx("div",{className:`profile-notification profile-notification-${s.type}`,children:s.message}),d.jsxs("div",{className:"profile-content",children:[d.jsxs("div",{className:"profile-info-card",children:[d.jsx("h3",{children:"Informacin de la cuenta"}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Usuario:"}),d.jsx("span",{className:"info-value",children:e.username})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Rol:"}),d.jsx("span",{className:"info-value",children:(i==null?void 0:i.name)||"Sin rol"})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Fecha de creacin:"}),d.jsx("span",{className:"info-value",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),d.jsxs("form",{className:"profile-form",onSubmit:f,children:[d.jsx("h3",{children:"Editar informacin"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"avatar",children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:p.map(m=>d.jsx("button",{type:"button",className:`avatar-option ${r.avatar===m?"selected":""}`,onClick:()=>n({...r,avatar:m}),children:m},m))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre completo *"}),d.jsx("input",{id:"name",type:"text",value:r.name,onChange:m=>n({...r,name:m.target.value}),required:!0})]}),d.jsx("div",{className:"form-divider",children:d.jsx("h4",{children:"Cambiar contrasea (opcional)"})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Nueva contrasea"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:l?"text":"password",value:r.password,onChange:m=>n({...r,password:m.target.value}),placeholder:"Dejar vaco para no cambiar"}),d.jsx("button",{type:"button",className:"toggle-password",onClick:()=>c(!l),children:l?"":""})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),d.jsx("input",{id:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:m=>n({...r,confirmPassword:m.target.value}),placeholder:"Confirmar nueva contrasea"})]}),d.jsx("div",{className:"form-actions",children:d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar cambios"})})]}),i&&d.jsxs("div",{className:"profile-permissions-card",children:[d.jsx("h3",{children:" Permisos de tu rol"}),d.jsxs("div",{className:"permissions-grid",children:[d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.incidents.create?"allowed":"denied",children:[i.permissions.incidents.create?"":""," Crear"]}),d.jsxs("li",{className:i.permissions.incidents.update?"allowed":"denied",children:[i.permissions.incidents.update?"":""," Editar"]}),d.jsxs("li",{className:i.permissions.incidents.delete?"allowed":"denied",children:[i.permissions.incidents.delete?"":""," Eliminar"]}),d.jsxs("li",{className:i.permissions.incidents.viewAll?"allowed":"denied",children:[i.permissions.incidents.viewAll?"":""," Ver todas"]})]})]}),d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.users.viewOwn?"allowed":"denied",children:[i.permissions.users.viewOwn?"":""," Ver propio"]}),d.jsxs("li",{className:i.permissions.users.editOwn?"allowed":"denied",children:[i.permissions.users.editOwn?"":""," Editar propio"]}),d.jsxs("li",{className:i.permissions.users.viewAll?"allowed":"denied",children:[i.permissions.users.viewAll?"":""," Ver todos"]}),d.jsxs("li",{className:i.permissions.users.edit?"allowed":"denied",children:[i.permissions.users.edit?"":""," Editar otros"]})]})]})]})]})]})]})}const zte=({currentUser:e})=>{const[t,r]=w.useState([]),[n,i]=w.useState(null),[a,s]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(null),[f,p]=w.useState(null),[m,g]=w.useState({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}});w.useEffect(()=>{const y=kN(S=>{r(S)});return()=>y()},[]),w.useEffect(()=>{(async()=>{if(e!=null&&e.roleId){const S=await yp(e.roleId);i(S)}})()},[e]);const v=(y,S)=>{p({type:y,message:S}),setTimeout(()=>p(null),5e3)},x=y=>{if(!(n!=null&&n.permissions.roles.edit)&&y){v("error","No tienes permisos para editar roles");return}if(!(n!=null&&n.permissions.roles.create)&&!y){v("error","No tienes permisos para crear roles");return}y?(u(y),g({name:y.name,permissions:{...y.permissions}})):(u(null),g({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}})),l(!0)},b=()=>{l(!1),u(null)},E=(y,S,C)=>{g(D=>({...D,permissions:{...D.permissions,[y]:{...D.permissions[y],[S]:C}}}))},A=async y=>{if(y.preventDefault(),!m.name.trim()){v("error","El nombre del rol es obligatorio");return}try{c?(await u5(c.id,{name:m.name,permissions:m.permissions}),v("success","Rol actualizado correctamente")):(await NN({name:m.name,permissions:m.permissions,isSystem:!1,createdAt:new Date().toISOString()}),v("success","Rol creado correctamente")),b()}catch(S){console.error("Error al guardar rol:",S),v("error","Error al guardar el rol")}},I=async y=>{if(!(n!=null&&n.permissions.roles.delete)){v("error","No tienes permisos para eliminar roles");return}if(window.confirm(`Ests seguro de que deseas eliminar el rol "${y.name}"?`))try{await d5(y.id),v("success","Rol eliminado correctamente")}catch(S){console.error("Error al eliminar rol:",S),v("error","Error al eliminar el rol")}},k=t.filter(y=>y.name.toLowerCase().includes(a.toLowerCase())),O=y=>{const S=[];return y.incidents.create&&y.incidents.update&&y.incidents.delete?S.push("Incidencias: Completo"):y.incidents.read&&S.push("Incidencias: Lectura"),y.users.viewAll&&y.users.create&&y.users.edit&&y.users.delete?S.push("Usuarios: Completo"):y.users.viewOwn&&S.push("Usuarios: Propio"),y.roles.create&&y.roles.edit&&y.roles.delete&&S.push("Roles: Completo"),y.settings.edit?S.push("Configuracin: Edicin"):y.settings.view&&S.push("Configuracin: Vista"),y.automation.create&&y.automation.edit&&y.automation.delete&&S.push("Automatizacin: Completo"),S.join("  ")||"Sin permisos especiales"};return d.jsxs("div",{className:"role-management",children:[d.jsxs("div",{className:"role-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" Gestin de Roles"}),d.jsx("p",{className:"role-description",children:"Crea y administra roles con permisos personalizados"})]}),d.jsx("button",{className:"btn-create-role",onClick:()=>x(),children:"+ Crear Rol"})]}),f&&d.jsx("div",{className:`role-notification role-notification-${f.type}`,children:f.message}),d.jsx("div",{className:"role-search",children:d.jsx("input",{type:"text",placeholder:"Buscar roles...",value:a,onChange:y=>s(y.target.value),className:"search-input"})}),d.jsx("div",{className:"roles-grid",children:k.map(y=>d.jsxs("div",{className:"role-card",children:[d.jsxs("div",{className:"role-card-header",children:[d.jsx("h3",{children:y.name}),y.isSystem&&d.jsx("span",{className:"system-badge",children:"Sistema"})]}),d.jsx("p",{className:"role-summary",children:O(y.permissions)}),d.jsxs("div",{className:"role-card-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>x(y),children:"Editar"}),d.jsx("button",{className:"btn-delete",onClick:()=>I(y),children:"Eliminar"})]})]},y.id))}),o&&d.jsx("div",{className:"modal-overlay",onClick:b,children:d.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:c?"Editar Rol":"Crear Rol"}),d.jsx("button",{className:"modal-close",onClick:b,children:""})]}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre del Rol *"}),d.jsx("input",{type:"text",value:m.name,onChange:y=>g({...m,name:y.target.value}),placeholder:"Ej: Editor, Supervisor, etc.",required:!0})]}),d.jsxs("div",{className:"permissions-section",children:[d.jsx("h3",{children:"Permisos"}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.create,onChange:y=>E("incidents","create",y.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.read,onChange:y=>E("incidents","read",y.target.checked)}),"Leer"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.update,onChange:y=>E("incidents","update",y.target.checked)}),"Actualizar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.delete,onChange:y=>E("incidents","delete",y.target.checked)}),"Eliminar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.viewAll,onChange:y=>E("incidents","viewAll",y.target.checked)}),"Ver Todas"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewOwn,onChange:y=>E("users","viewOwn",y.target.checked)}),"Ver Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.editOwn,onChange:y=>E("users","editOwn",y.target.checked)}),"Editar Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewAll,onChange:y=>E("users","viewAll",y.target.checked)}),"Ver Todos"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.create,onChange:y=>E("users","create",y.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.edit,onChange:y=>E("users","edit",y.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.delete,onChange:y=>E("users","delete",y.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Roles"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.view,onChange:y=>E("roles","view",y.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.create,onChange:y=>E("roles","create",y.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.edit,onChange:y=>E("roles","edit",y.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.delete,onChange:y=>E("roles","delete",y.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Configuracin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.view,onChange:y=>E("settings","view",y.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.edit,onChange:y=>E("settings","edit",y.target.checked)}),"Editar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Automatizacin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.view,onChange:y=>E("automation","view",y.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.create,onChange:y=>E("automation","create",y.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.edit,onChange:y=>E("automation","edit",y.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.delete,onChange:y=>E("automation","delete",y.target.checked)}),"Eliminar"]})]})]})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel",onClick:b,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-save",children:c?"Guardar Cambios":"Crear Rol"})]})]})]})})]})},Ute=({isOpen:e,onClose:t,currentTab:r,onTabChange:n,onLogout:i,userRole:a,userName:s})=>{w.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const o=u=>{n(u),t()},l=[{id:"incidents",label:" Incidencias",icon:""},{id:"stats",label:" Estadsticas",icon:""},{id:"allIncidents",label:" Todas las Incidencias",icon:""},{id:"settings",label:" Ajustes",icon:""}],c=[{id:"users",label:" Usuarios",icon:""},{id:"roles",label:" Roles",icon:""}];return d.jsxs(d.Fragment,{children:[e&&d.jsx("div",{className:"mobile-menu-overlay",onClick:t}),d.jsxs("div",{className:`mobile-menu ${e?"mobile-menu-open":""}`,children:[d.jsxs("div",{className:"mobile-menu-header",children:[d.jsxs("div",{className:"mobile-menu-user-info",children:[d.jsx("div",{className:"mobile-menu-avatar",children:(s==null?void 0:s.charAt(0).toUpperCase())||"?"}),d.jsxs("div",{className:"mobile-menu-user-details",children:[d.jsx("div",{className:"mobile-menu-username",children:s||"Usuario"}),d.jsx("div",{className:"mobile-menu-role",children:a||"user"})]})]}),d.jsx("button",{className:"mobile-menu-close",onClick:t,children:""})]}),d.jsxs("nav",{className:"mobile-menu-nav",children:[d.jsx("div",{className:"mobile-menu-section",children:l.map(u=>d.jsxs("button",{className:`mobile-menu-item ${r===u.id?"mobile-menu-item-active":""}`,onClick:()=>o(u.id),children:[d.jsx("span",{className:"mobile-menu-icon",children:u.icon}),d.jsx("span",{className:"mobile-menu-label",children:u.label})]},u.id))}),a==="admin"&&d.jsxs("div",{className:"mobile-menu-section",children:[d.jsx("div",{className:"mobile-menu-section-title",children:"Administracin"}),c.map(u=>d.jsxs("button",{className:`mobile-menu-item ${r===u.id?"mobile-menu-item-active":""}`,onClick:()=>o(u.id),children:[d.jsx("span",{className:"mobile-menu-icon",children:u.icon}),d.jsx("span",{className:"mobile-menu-label",children:u.label})]},u.id))]})]}),d.jsx("div",{className:"mobile-menu-footer",children:d.jsxs("button",{className:"mobile-menu-logout",onClick:i,children:[d.jsx("span",{className:"mobile-menu-icon",children:""}),d.jsx("span",{className:"mobile-menu-label",children:"Cerrar Sesin"})]})})]})]})},Bte=({isOpen:e,onClose:t})=>{if(!e)return null;const r=[{key:"K",ctrl:!0,description:"Bsqueda rpida de incidencias"},{key:"N",description:"Crear nueva incidencia"},{key:"E",description:"Editar incidencia seleccionada"},{key:"?",shift:!0,description:"Mostrar este panel de ayuda"},{key:"Esc",description:"Cerrar modal o panel activo"},{key:"/",description:"Ir al buscador"},{key:"1-4",description:"Cambiar entre pestaas principales"}],n=(i,a,s)=>d.jsxs("div",{className:"shortcut-keys",children:[a&&d.jsx("kbd",{className:"key",children:"Ctrl"}),s&&d.jsx("kbd",{className:"key",children:"Shift"}),d.jsx("kbd",{className:"key",children:i})]});return d.jsx("div",{className:"shortcuts-overlay",onClick:t,children:d.jsxs("div",{className:"shortcuts-modal",onClick:i=>i.stopPropagation(),children:[d.jsxs("div",{className:"shortcuts-header",children:[d.jsx("h2",{children:" Atajos de Teclado"}),d.jsx("button",{className:"shortcuts-close",onClick:t,children:""})]}),d.jsxs("div",{className:"shortcuts-content",children:[d.jsx("p",{className:"shortcuts-intro",children:"Usa estos atajos para navegar ms rpido por la aplicacin"}),d.jsx("div",{className:"shortcuts-list",children:r.map((i,a)=>d.jsxs("div",{className:"shortcut-item",children:[n(i.key,i.ctrl,i.shift),d.jsx("span",{className:"shortcut-description",children:i.description})]},a))}),d.jsx("div",{className:"shortcuts-footer",children:d.jsxs("p",{className:"shortcuts-tip",children:[" ",d.jsx("strong",{children:"Tip:"})," Presiona ",d.jsx("kbd",{className:"key",children:"?"})," en cualquier momento para ver esta ayuda"]})})]})]})})},qte=({isOpen:e,onClose:t,incidents:r,onSelectIncident:n})=>{const[i,a]=w.useState(""),[s,o]=w.useState(0),l=w.useRef(null),c=w.useRef(null),u=r.filter(v=>{var b;const x=i.toLowerCase();return v.name.toLowerCase().includes(x)||v.description.toLowerCase().includes(x)||((b=v.assignedTo)==null?void 0:b.toLowerCase().includes(x))}).slice(0,8);w.useEffect(()=>{e&&(a(""),o(0),setTimeout(()=>{var v;return(v=l.current)==null?void 0:v.focus()},100))},[e]),w.useEffect(()=>{o(0)},[i]);const f=v=>{v.key==="ArrowDown"?(v.preventDefault(),o(x=>(x+1)%u.length)):v.key==="ArrowUp"?(v.preventDefault(),o(x=>(x-1+u.length)%u.length)):v.key==="Enter"&&u[s]?(v.preventDefault(),p(u[s])):v.key==="Escape"&&(v.preventDefault(),t())},p=v=>{n(v),t()},m=v=>({alta:"#ef4444",media:"#f59e0b",baja:"#10b981"})[v.toLowerCase()]||"#6b7280",g=v=>({abierta:"#3b82f6","en progreso":"#f59e0b",cerrada:"#10b981"})[v.toLowerCase()]||"#6b7280";return e?d.jsx("div",{className:"quick-search-overlay",onClick:t,children:d.jsxs("div",{className:"quick-search-modal",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"quick-search-header",children:[d.jsx("div",{className:"quick-search-icon",children:""}),d.jsx("input",{ref:l,type:"text",className:"quick-search-input",placeholder:"Buscar incidencias por nombre, descripcin, usuario...",value:i,onChange:v=>a(v.target.value),onKeyDown:f}),d.jsxs("div",{className:"quick-search-hint",children:[d.jsx("kbd",{children:"Esc"})," para cerrar"]})]}),d.jsx("div",{className:"quick-search-results",ref:c,children:u.length>0?u.map((v,x)=>d.jsxs("div",{className:`quick-search-result ${x===s?"quick-search-result-selected":""}`,onClick:()=>p(v),onMouseEnter:()=>o(x),children:[d.jsxs("div",{className:"quick-search-result-header",children:[d.jsx("span",{className:"quick-search-result-name",children:v.name}),d.jsxs("div",{className:"quick-search-result-badges",children:[d.jsx("span",{className:"quick-search-badge",style:{background:m(v.priority)},children:v.priority}),d.jsx("span",{className:"quick-search-badge",style:{background:g(v.status)},children:v.status})]})]}),d.jsxs("div",{className:"quick-search-result-description",children:[v.description.substring(0,80),v.description.length>80?"...":""]}),d.jsxs("div",{className:"quick-search-result-footer",children:[d.jsxs("span",{className:"quick-search-result-meta",children:[" ",v.assignedTo||"Sin asignar"]}),d.jsxs("span",{className:"quick-search-result-meta",children:[" ",new Date(v.createdAt).toLocaleDateString()]})]})]},v.id)):i?d.jsxs("div",{className:"quick-search-empty",children:[d.jsx("div",{className:"quick-search-empty-icon",children:""}),d.jsx("div",{className:"quick-search-empty-text",children:"No se encontraron incidencias"}),d.jsx("div",{className:"quick-search-empty-hint",children:"Intenta con otros trminos de bsqueda"})]}):d.jsxs("div",{className:"quick-search-empty",children:[d.jsx("div",{className:"quick-search-empty-icon",children:""}),d.jsx("div",{className:"quick-search-empty-text",children:"Comienza a escribir para buscar"}),d.jsx("div",{className:"quick-search-empty-hint",children:"Busca por nombre, descripcin o usuario"})]})}),d.jsx("div",{className:"quick-search-footer",children:d.jsxs("div",{className:"quick-search-navigation-hint",children:[d.jsx("kbd",{children:""})," ",d.jsx("kbd",{children:""})," para navegar",d.jsx("span",{className:"quick-search-separator",children:""}),d.jsx("kbd",{children:"Enter"})," para seleccionar",d.jsx("span",{className:"quick-search-separator",children:""}),d.jsx("kbd",{children:"Esc"})," para cerrar"]})})]})}):null},Kte=({isActive:e,onComplete:t,onSkip:r})=>{const[n,i]=w.useState(0),a=[{target:".app-header",title:" Bienvenido a Incident Manager",content:"Te guiaremos por las funciones principales de la aplicacin para que puedas empezar rpidamente.",position:"bottom"},{target:".tabs",title:" Navegacin Principal",content:"Usa estas pestaas para moverte entre las diferentes secciones: Incidencias, Estadsticas y ms.",position:"bottom"},{target:".keyboard-shortcut-trigger",title:" Atajos de Teclado",content:'Presiona "?" para ver todos los atajos disponibles. Usa Ctrl+K para bsqueda rpida.',position:"bottom"}];w.useEffect(()=>{if(e){const u=setTimeout(()=>{const f=a[n],p=document.querySelector(f.target);p&&p.scrollIntoView({behavior:"smooth",block:"center"})},300);return()=>clearTimeout(u)}},[e,n]);const s=()=>{n<a.length-1?i(n+1):t()},o=()=>{n>0&&i(n-1)};if(!e)return null;const l=a[n],c=document.querySelector(l.target);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"tour-overlay",onClick:r}),c&&d.jsx("div",{className:"tour-spotlight",style:{top:c.getBoundingClientRect().top+window.scrollY-8,left:c.getBoundingClientRect().left+window.scrollX-8,width:c.getBoundingClientRect().width+16,height:c.getBoundingClientRect().height+16}}),d.jsxs("div",{className:"tour-tooltip-modal",children:[d.jsxs("div",{className:"tour-tooltip-header",children:[d.jsx("h3",{className:"tour-tooltip-title",children:l.title}),d.jsx("button",{className:"tour-tooltip-close",onClick:r,title:"Cerrar tour",children:""})]}),d.jsx("div",{className:"tour-tooltip-content",children:d.jsx("p",{children:l.content})}),d.jsxs("div",{className:"tour-tooltip-footer",children:[d.jsxs("div",{className:"tour-progress",children:["Paso ",n+1," de ",a.length]}),d.jsxs("div",{className:"tour-actions",children:[d.jsx("button",{className:"tour-btn tour-btn-skip",onClick:r,children:"Saltar tour"}),n>0&&d.jsx("button",{className:"tour-btn tour-btn-secondary",onClick:o,children:" Anterior"}),d.jsx("button",{className:"tour-btn tour-btn-primary",onClick:s,children:n<a.length-1?"Siguiente ":" Finalizar"})]})]})]})]})},Wte=({enabled:e=!0,shortcuts:t})=>{const r=w.useCallback(n=>{const i=n.target,a=i.tagName==="INPUT"||i.tagName==="TEXTAREA"||i.isContentEditable;for(const s of t){const o=s.ctrl?n.ctrlKey||n.metaKey:!n.ctrlKey&&!n.metaKey,l=s.shift?n.shiftKey:!n.shiftKey,c=s.alt?n.altKey:!n.altKey,u=n.key.toLowerCase()===s.key.toLowerCase(),f=s.ctrl&&s.key.toLowerCase()==="k";if(o&&l&&c&&u){if(a&&!f)continue;n.preventDefault(),s.callback();break}}},[t]);return w.useEffect(()=>{if(e)return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[e,r]),t};function Hte(){const[e,t]=w.useState(null),[r,n]=w.useState(null),[i,a]=w.useState([]),[s,o]=w.useState([]),[l,c]=w.useState(null),[u,f]=w.useState(null),[p,m]=w.useState("dashboard"),[g,v]=w.useState("profile"),[x,b]=w.useState(null),[E,A]=w.useState("purple-gradient"),[I,k]=w.useState([]),[O,y]=w.useState(null),[S,C]=w.useState(!1),[D,T]=w.useState(!1),[N,j]=w.useState(!1),[G,ae]=w.useState(!1),[le,se]=w.useState(!1),[U,W]=w.useState(!1),[te,pe]=w.useState(window.innerWidth<=768),ue=e?i.filter(z=>z.userId===e.id):[],Je=z=>{try{console.log("Changing tab to:",z),C(!0),setTimeout(()=>{m(z),C(!1)},100)}catch(Q){console.error("Error changing tab:",Q),C(!1)}},Te=z=>{C(!0),setTimeout(()=>{I.find(Q=>Q.id===z.id)||k([...I,z]),b(z),m("incident-detail"),C(!1)},100)};w.useEffect(()=>{(async()=>{try{await f5();const ne=mr.getCurrentUser();if(ne){const ct=await zf(ne.username);if(ct){localStorage.setItem("current_user",JSON.stringify(ct)),t(ct);const Sr=await r5(ct.id);Sr.theme&&A(Sr.theme)}else mr.logout(),t(null)}const me=await Ul();o(me);const Ve=new URLSearchParams(window.location.search).get("incident");if(Ve){const ct=await ii(Ve);ct&&(b(ct),m("incident-detail"))}}catch(ne){console.error("Error loading data:",ne),y({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const Q=l5(ne=>{console.log("Incidencias actualizadas en tiempo real:",ne),a(ne),b(me=>me&&(ne.find(Ve=>Ve.id===me.id)||me)),k(me=>me.map(Le=>ne.find(ct=>ct.id===Le.id)||Le))});return()=>{Q()}},[]),Wte({enabled:e!==null&&!G,shortcuts:[{key:"k",ctrl:!0,callback:()=>se(!0),description:"Bsqueda rpida"},{key:"n",callback:()=>{p!=="new-incident"&&Je("new-incident")},description:"Nueva incidencia"},{key:"e",callback:()=>{x&&p==="incident-detail"&&c(x)},description:"Editar incidencia"},{key:"?",shift:!0,callback:()=>ae(!0),description:"Mostrar ayuda"},{key:"Escape",callback:()=>{le&&se(!1),G&&ae(!1),l&&c(null)},description:"Cerrar modal"}]}),w.useEffect(()=>{const z=()=>{pe(window.innerWidth<=768)};return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),w.useEffect(()=>{e&&(localStorage.getItem(`onboarding_completed_${e.id}`)||setTimeout(()=>W(!0),1e3))},[e]),w.useEffect(()=>{(async()=>{if(e!=null&&e.roleId)try{const Q=await yp(e.roleId);n(Q)}catch(Q){console.error("Error loading user role:",Q)}else n(null)})()},[e]),w.useEffect(()=>{if(O){const z=setTimeout(()=>{y(null)},4e3);return()=>clearTimeout(z)}},[O]);const Ht=async z=>{try{const Q={...z,userId:e.id},ne=ge.applyAutomationRules(Q,"on-create");await uy(ne),y({type:"success",message:` Incidencia "${z.name}" creada correctamente`,incidentId:z.id})}catch(Q){console.error("Error adding incident:",Q),y({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},pt=async z=>{console.log("handleUpdateIncident llamado con:",z);try{await Fr(z.id,z),c(null),console.log("Mostrando notificacin"),y({type:"success",message:` Incidencia "${z.name}" actualizada correctamente`,incidentId:z.id})}catch(Q){console.error("Error updating incident:",Q),y({type:"error",message:"Error al actualizar la incidencia."})}},Me=async z=>{try{await J$(z),k(I.filter(Q=>Q.id!==z)),(x==null?void 0:x.id)===z&&(b(null),m("all-incidents"))}catch(Q){console.error("Error deleting incident:",Q),y({type:"error",message:"Error al eliminar la incidencia."})}},ti=z=>{const Q=I.find(ne=>ne.id===z);Q&&(b(Q),m("incident-detail"))},B=z=>{k(I.filter(Q=>Q.id!==z)),(x==null?void 0:x.id)===z&&(b(null),m("all-incidents"))},fe=async(z,Q,ne)=>{try{const me={incidentId:z,author:Q,text:ne,timestamp:new Date().toISOString()};await n5(me)}catch(me){console.error("Error adding comment:",me)}},ye=async(z,Q,ne,me)=>{try{await a5(z,Q,ne,me)}catch(Le){console.error("Error updating comment:",Le)}},q=async(z,Q)=>{try{await i5(z,Q)}catch(ne){console.error("Error deleting comment:",ne)}},mt=async(z,Q)=>{try{const ne=await ii(z);if(!ne)return;const me=ne.tags||[];me.includes(Q)||await Fr(z,{tags:[...me,Q]})}catch(ne){console.error("Error adding tag:",ne)}},Pe=async(z,Q)=>{try{const ne=await ii(z);if(!ne)return;const me=(ne.tags||[]).filter(Le=>Le!==Q);await Fr(z,{tags:me})}catch(ne){console.error("Error removing tag:",ne)}},Rt=()=>{e&&localStorage.setItem(`onboarding_completed_${e.id}`,"true"),W(!1)},Et=z=>{Te(z)},Lr=()=>{const z=new Set;return i.forEach(Q=>{var ne;(ne=Q.tags)==null||ne.forEach(me=>z.add(me))}),Array.from(z)},Oa=async z=>{var Q;try{const ne=await TN();for(const me of ne)if((Q=me.tags)!=null&&Q.includes(z)){const Le=me.tags.filter(Ve=>Ve!==z);await Fr(me.id,{tags:Le})}y({type:"success",message:` Etiqueta "${z}" eliminada de todas las incidencias`})}catch(ne){console.error("Error deleting tag globally:",ne)}},Dt=async(z,Q,ne,me)=>{try{const Le=await ii(z);if(!Le)return;const Ve={id:`pr_${Date.now()}`,link:ne,description:me,createdAt:new Date().toISOString()};if(Q==="qa2"){const ct=[...Le.prQA2List||[],Ve];await Fr(z,{prQA2List:ct})}else{const ct=[...Le.prMainList||[],Ve];await Fr(z,{prMainList:ct})}}catch(Le){console.error("Error adding PR:",Le)}},Gt=async(z,Q,ne)=>{try{const me=await ii(z);if(!me)return;if(Q==="qa2"){const Le=(me.prQA2List||[]).filter(Ve=>Ve.id!==ne);await Fr(z,{prQA2List:Le})}else{const Le=(me.prMainList||[]).filter(Ve=>Ve.id!==ne);await Fr(z,{prMainList:Le})}}catch(me){console.error("Error removing PR:",me)}},Is=async(z,Q,ne,me,Le)=>{try{const Ve=await ii(z);if(!Ve)return;if(Q==="qa2"){const ct=(Ve.prQA2List||[]).map(Sr=>Sr.id===ne?{...Sr,link:me,description:Le}:Sr);await Fr(z,{prQA2List:ct})}else{const ct=(Ve.prMainList||[]).map(Sr=>Sr.id===ne?{...Sr,link:me,description:Le}:Sr);await Fr(z,{prMainList:ct})}}catch(Ve){console.error("Error updating PR:",Ve)}},Am=async z=>{try{const Q={...z,createdAt:new Date().toISOString()};await CN(Q);const ne=await Ul();o(ne)}catch(Q){console.error("Error adding automation rule:",Q)}},Nu=async(z,Q)=>{try{await s5(z,Q);const ne=await Ul();o(ne)}catch(ne){console.error("Error updating automation rule:",ne)}},Pm=async z=>{try{await o5(z);const Q=await Ul();o(Q)}catch(Q){console.error("Error deleting automation rule:",Q)}},Ra=z=>{A(z),localStorage.setItem("app_theme",z);const Q=f0.find(ne=>ne.id===z);Q&&document.documentElement.style.setProperty("--app-background",Q.gradient)};w.useEffect(()=>{const z=f0.find(Q=>Q.id===E);z&&document.documentElement.style.setProperty("--app-background",z.gradient)},[E]);const ku=async z=>{const Q=await zf(z.username);Q?(localStorage.setItem("current_user",JSON.stringify(Q)),t(Q)):t(z)},nl=()=>{mr.logout(),t(null),b(null),k([]),m("dashboard")};return e?d.jsxs("div",{className:"app-container",children:[d.jsxs("header",{className:"app-header",children:[d.jsxs("div",{className:"app-header-content",children:[te&&d.jsx("button",{className:"mobile-menu-trigger",onClick:()=>j(!0),"aria-label":"Abrir men",children:""}),d.jsx(eM,{})]}),d.jsxs("div",{className:"app-header-actions",children:[d.jsxs("button",{className:"app-header-badge keyboard-shortcut-trigger",onClick:()=>ae(!0),title:"Atajos de teclado (Shift + ?)",children:[d.jsx("span",{className:"badge-icon",children:""}),!te&&d.jsx("span",{className:"badge-text",children:"Atajos"})]}),d.jsxs("div",{className:"user-info",children:[d.jsxs("span",{className:"user-name",children:[" ",e.name]}),d.jsxs("button",{className:"btn-logout",onClick:nl,title:"Cerrar sesin",children:[" ",te?"":"Salir"]})]}),d.jsxs("div",{className:"app-header-badge",onClick:()=>T(!D),children:[d.jsx("span",{className:"badge-icon",children:""}),!te&&d.jsx("span",{className:"badge-text",children:"Alertas"}),ue.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length>0&&d.jsx("span",{className:"alerts-count",children:ue.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length})]}),!te&&d.jsxs("div",{className:"app-header-badge",onClick:()=>Je("settings"),children:[d.jsx("span",{className:"badge-icon",children:""}),d.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),O&&d.jsxs("div",{className:`notification-banner notification-${O.type}`,children:[d.jsx("span",{children:O.message}),d.jsxs("div",{className:"notification-actions",children:[O.type==="success"&&O.incidentId&&d.jsx("button",{className:"notification-view",onClick:()=>{const z=ue.find(Q=>Q.id===O.incidentId);z&&(b(z),m("incident-detail")),y(null)},"aria-label":"Ver incidencia",children:" Ver"}),d.jsx("button",{className:"notification-close",onClick:()=>y(null),"aria-label":"Cerrar notificacin",children:""})]})]}),d.jsx(kte,{activeTab:p,onTabChange:Je,openIncidents:I.map(z=>({id:z.id,name:z.name})),selectedIncidentId:x==null?void 0:x.id,onSelectIncident:ti,onCloseIncident:B}),D&&d.jsx("div",{className:"alerts-modal",children:d.jsxs("div",{className:"alerts-modal-content",children:[d.jsxs("div",{className:"alerts-modal-header",children:[d.jsx("h3",{children:" Alertas"}),d.jsx("button",{className:"alerts-modal-close",onClick:()=>T(!1),children:""})]}),d.jsx(Ste,{incidents:ue,onViewIncident:z=>{Te(z),T(!1)}})]})}),p==="dashboard"?d.jsx("main",{className:"app-main dashboard-transition",children:d.jsxs("div",{className:"app-content",children:[d.jsxs("div",{className:"form-section",children:[d.jsx(_te,{incidents:ue}),d.jsx(bte,{incidents:ue,onViewDetail:Te})]}),d.jsxs("div",{className:"list-section",children:[d.jsx(wte,{incidents:ue,onStatusClick:f,onNavigateToList:()=>m("all-incidents")}),d.jsx(Ete,{incidents:ue}),d.jsx(xte,{incidents:ue})]})]})}):p==="new-incident"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx(p5,{onAdd:Ht})}):p==="incident-detail"&&x?d.jsx("main",{className:"incident-detail-main",children:d.jsx(Nte,{incident:x,onUpdate:pt,onAddComment:fe,onUpdateComment:ye,onDeleteComment:q,onDelete:Me,onAddTag:mt,onRemoveTag:Pe,onDeleteTagGlobally:Oa,allAvailableTags:Lr(),onAddPR:Dt,onRemovePR:Gt,onUpdatePR:Is,onBack:()=>{b(null),m("all-incidents")}})}):p==="settings"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsxs("div",{className:"settings-container",children:[d.jsxs("div",{className:"settings-sidebar",children:[d.jsx("h2",{children:" Ajustes"}),d.jsxs("div",{className:"settings-menu",children:[d.jsxs("button",{className:`settings-menu-item ${g==="profile"?"active":""}`,onClick:()=>v("profile"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Mi Perfil"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="automation"?"active":""}`,onClick:()=>v("automation"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Automatizacin"})]}),(r==null?void 0:r.permissions.users.viewAll)&&d.jsxs("button",{className:`settings-menu-item ${g==="users"?"active":""}`,onClick:()=>v("users"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Usuarios"})]}),(r==null?void 0:r.permissions.roles.view)&&d.jsxs("button",{className:`settings-menu-item ${g==="roles"?"active":""}`,onClick:()=>v("roles"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Roles"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="appearance"?"active":""}`,onClick:()=>v("appearance"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Apariencia"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="general"?"active":""}`,onClick:()=>v("general"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"General"})]})]})]}),d.jsx("div",{className:"settings-content",children:g==="profile"?d.jsx($te,{currentUser:e,onUpdate:async()=>{const Q=(await vp()).find(ne=>ne.id===e.id);Q&&t(Q)}}):g==="automation"?d.jsx(Dte,{rules:s,onAddRule:Am,onUpdateRule:Nu,onDeleteRule:Pm}):g==="users"&&(r!=null&&r.permissions.users.viewAll)?d.jsx(Mte,{currentUser:e}):g==="roles"&&(r!=null&&r.permissions.roles.view)?d.jsx(zte,{currentUser:e}):g==="appearance"?d.jsx(Lte,{currentTheme:E,onThemeChange:Ra,currentUser:e}):g==="general"?d.jsx(Vte,{}):null})]})}):d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx("div",{className:"all-incidents-section",children:d.jsx(Rte,{incidents:ue,onEdit:c,onDelete:Me,onViewDetail:Te,onNewIncident:()=>Je("new-incident"),selectedStatus:u,onClearFilter:()=>f(null)})})}),l&&d.jsx(m5,{incident:l,onSave:pt,onCancel:()=>c(null)}),te&&d.jsx(Ute,{isOpen:N,onClose:()=>j(!1),currentTab:p,onTabChange:Je,onLogout:nl,userRole:r==null?void 0:r.name,userName:e.name}),d.jsx(Bte,{isOpen:G,onClose:()=>ae(!1)}),d.jsx(qte,{isOpen:le,onClose:()=>se(!1),incidents:i,onSelectIncident:Et}),d.jsx(Kte,{isActive:U,onComplete:Rt,onSkip:Rt})]}):d.jsx(Fte,{onLogin:ku})}Gg.createRoot(document.getElementById("root")).render(d.jsx(FT.StrictMode,{children:d.jsx(Hte,{})}));
