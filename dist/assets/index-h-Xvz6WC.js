var tM=Object.defineProperty;var rM=(e,t,r)=>t in e?tM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var bm=(e,t,r)=>rM(e,typeof t!="symbol"?t+"":t,r);function nM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aT={exports:{}},yh={},oT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),iM=Symbol.for("react.portal"),aM=Symbol.for("react.fragment"),oM=Symbol.for("react.strict_mode"),sM=Symbol.for("react.profiler"),lM=Symbol.for("react.provider"),uM=Symbol.for("react.context"),cM=Symbol.for("react.forward_ref"),dM=Symbol.for("react.suspense"),fM=Symbol.for("react.memo"),hM=Symbol.for("react.lazy"),Ob=Symbol.iterator;function pM(e){return e===null||typeof e!="object"?null:(e=Ob&&e[Ob]||e["@@iterator"],typeof e=="function"?e:null)}var sT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,uT={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=uT,this.updater=r||sT}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cT(){}cT.prototype=Ss.prototype;function Wy(e,t,r){this.props=e,this.context=t,this.refs=uT,this.updater=r||sT}var Ky=Wy.prototype=new cT;Ky.constructor=Wy;lT(Ky,Ss.prototype);Ky.isPureReactComponent=!0;var jb=Array.isArray,dT=Object.prototype.hasOwnProperty,Hy={current:null},fT={key:!0,ref:!0,__self:!0,__source:!0};function hT(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)dT.call(t,n)&&!fT.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Nu,type:e,key:a,ref:o,props:i,_owner:Hy.current}}function mM(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function gM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nb=/\/+/g;function Em(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gM(""+e.key):t.toString(36)}function gd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nu:case iM:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Em(o,0):n,jb(i)?(r="",e!=null&&(r=e.replace(Nb,"$&/")+"/"),gd(i,t,r,"",function(u){return u})):i!=null&&(Gy(i)&&(i=mM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",jb(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Em(a,s);o+=gd(a,t,r,l,i)}else if(l=pM(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Em(a,s++),o+=gd(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cc(e,t,r){if(e==null)return e;var n=[],i=0;return gd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function vM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},vd={transition:null},yM={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:vd,ReactCurrentOwner:Hy};function pT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Cc,forEach:function(e,t,r){Cc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cc(e,function(){t++}),t},toArray:function(e){return Cc(e,function(t){return t})||[]},only:function(e){if(!Gy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ss;ge.Fragment=aM;ge.Profiler=sM;ge.PureComponent=Wy;ge.StrictMode=oM;ge.Suspense=dM;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;ge.act=pT;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lT({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)dT.call(t,l)&&!fT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Nu,type:e.type,key:i,ref:a,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:uM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lM,_context:e},e.Consumer=e};ge.createElement=hT;ge.createFactory=function(e){var t=hT.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:cM,render:e}};ge.isValidElement=Gy;ge.lazy=function(e){return{$$typeof:hM,_payload:{_status:-1,_result:e},_init:vM}};ge.memo=function(e,t){return{$$typeof:fM,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=vd.transition;vd.transition={};try{e()}finally{vd.transition=t}};ge.unstable_act=pT;ge.useCallback=function(e,t){return mr.current.useCallback(e,t)};ge.useContext=function(e){return mr.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};ge.useEffect=function(e,t){return mr.current.useEffect(e,t)};ge.useId=function(){return mr.current.useId()};ge.useImperativeHandle=function(e,t,r){return mr.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return mr.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return mr.current.useReducer(e,t,r)};ge.useRef=function(e){return mr.current.useRef(e)};ge.useState=function(e){return mr.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return mr.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return mr.current.useTransition()};ge.version="18.3.1";oT.exports=ge;var _=oT.exports;const mT=wi(_),wM=nM({__proto__:null,default:mT},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M=_,xM=Symbol.for("react.element"),bM=Symbol.for("react.fragment"),EM=Object.prototype.hasOwnProperty,SM=_M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AM={key:!0,ref:!0,__self:!0,__source:!0};function gT(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)EM.call(t,n)&&!AM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:xM,type:e,key:a,ref:o,props:i,_owner:SM.current}}yh.Fragment=bM;yh.jsx=gT;yh.jsxs=gT;aT.exports=yh;var h=aT.exports,Ig={},vT={exports:{}},Fr={},yT={exports:{}},wT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var re=U.length;U.push(K);e:for(;0<re;){var me=re-1>>>1,_e=U[me];if(0<i(_e,K))U[me]=K,U[re]=_e,re=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],re=U.pop();if(re!==K){U[0]=re;e:for(var me=0,_e=U.length,yt=_e>>>1;me<yt;){var je=2*(me+1)-1,Bt=U[je],wt=je+1,$e=U[wt];if(0>i(Bt,re))wt<_e&&0>i($e,Bt)?(U[me]=$e,U[wt]=re,me=wt):(U[me]=Bt,U[je]=re,me=je);else if(wt<_e&&0>i($e,re))U[me]=$e,U[wt]=re,me=wt;else break e}}return K}function i(U,K){var re=U.sortIndex-K.sortIndex;return re!==0?re:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function I(U){if(y=!1,E(U),!g)if(r(l)!==null)g=!0,fe(j);else{var K=r(u);K!==null&&ue(I,K.startTime-U)}}function j(U,K){g=!1,y&&(y=!1,x(A),A=-1),m=!0;var re=p;try{for(E(K),d=r(l);d!==null&&(!(d.expirationTime>K)||U&&!T());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var _e=me(d.expirationTime<=K);K=e.unstable_now(),typeof _e=="function"?d.callback=_e:d===r(l)&&n(l),E(K)}else n(l);d=r(l)}if(d!==null)var yt=!0;else{var je=r(u);je!==null&&ue(I,je.startTime-K),yt=!1}return yt}finally{d=null,p=re,m=!1}}var R=!1,S=null,A=-1,C=5,D=-1;function T(){return!(e.unstable_now()-D<C)}function k(){if(S!==null){var U=e.unstable_now();D=U;var K=!0;try{K=S(!0,U)}finally{K?O():(R=!1,S=null)}}else R=!1}var O;if(typeof b=="function")O=function(){b(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=k,O=function(){se.postMessage(null)}}else O=function(){w(k,0)};function fe(U){S=U,R||(R=!0,O())}function ue(U,K){A=w(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,fe(j))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var re=p;p=K;try{return U()}finally{p=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return K()}finally{p=re}},e.unstable_scheduleCallback=function(U,K,re){var me=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,U={id:c++,callback:K,priorityLevel:U,startTime:re,expirationTime:_e,sortIndex:-1},re>me?(U.sortIndex=re,t(u,U),r(l)===null&&U===r(u)&&(y?(x(A),A=-1):y=!0,ue(I,re-me))):(U.sortIndex=_e,t(l,U),g||m||(g=!0,fe(j))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var K=p;return function(){var re=p;p=K;try{return U.apply(this,arguments)}finally{p=re}}}})(wT);yT.exports=wT;var PM=yT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=_,Lr=PM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _T=new Set,Kl={};function ao(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Kl[e]=t,e=0;e<t.length;e++)_T.add(t[e])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cg=Object.prototype.hasOwnProperty,IM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kb={},Rb={};function CM(e){return Cg.call(Rb,e)?!0:Cg.call(kb,e)?!1:IM.test(e)?Rb[e]=!0:(kb[e]=!0,!1)}function OM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jM(e,t,r,n){if(t===null||typeof t>"u"||OM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qy=/[\-:]([a-z])/g;function Yy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qy,Yy);Yt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qy,Yy);Yt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qy,Yy);Yt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xy(e,t,r,n){var i=Yt.hasOwnProperty(t)?Yt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jM(t,r,i,n)&&(r=null),n||i===null?CM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _i=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),Db=Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Sm;function xl(e){if(Sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sm=t&&t[1]||""}return`
`+Sm+e}var Am=!1;function Pm(e,t){if(!e||Am)return"";Am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Am=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xl(e):""}function NM(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=Pm(e.type,!1),e;case 11:return e=Pm(e.type.render,!1),e;case 1:return e=Pm(e.type,!0),e;default:return""}}function kg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Co:return"Fragment";case Io:return"Portal";case Og:return"Profiler";case Jy:return"StrictMode";case jg:return"Suspense";case Ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bT:return(e.displayName||"Context")+".Consumer";case xT:return(e._context.displayName||"Context")+".Provider";case Zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e0:return t=e.displayName||null,t!==null?t:kg(e.type)||"Memo";case Ri:t=e._payload,e=e._init;try{return kg(e(t))}catch{}}return null}function kM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kg(t);case 8:return t===Jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ST(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RM(e){var t=ST(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jc(e){e._valueTracker||(e._valueTracker=RM(e))}function AT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ST(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rg(e,t){var r=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=na(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PT(e,t){t=t.checked,t!=null&&Xy(e,"checked",t,!1)}function Dg(e,t){PT(e,t);var r=na(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mg(e,t.type,na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mg(e,t,r){(t!=="number"||Fd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bl=Array.isArray;function Uo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+na(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(bl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:na(r)}}function TT(e,t){var r=na(t.value),n=na(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nc,CT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nc=Nc||document.createElement("div"),Nc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DM=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){DM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function OT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function jT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=OT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var MM=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(e,t){if(t){if(MM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function $g(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=null;function t0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ug=null,Bo=null,qo=null;function $b(e){if(e=Du(e)){if(typeof Ug!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Eh(t),Ug(e.stateNode,e.type,t))}}function NT(e){Bo?qo?qo.push(e):qo=[e]:Bo=e}function kT(){if(Bo){var e=Bo,t=qo;if(qo=Bo=null,$b(e),t)for(e=0;e<t.length;e++)$b(t[e])}}function RT(e,t){return e(t)}function DT(){}var Tm=!1;function MT(e,t,r){if(Tm)return e(t,r);Tm=!0;try{return RT(e,t,r)}finally{Tm=!1,(Bo!==null||qo!==null)&&(DT(),kT())}}function Gl(e,t){var r=e.stateNode;if(r===null)return null;var n=Eh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Bg=!1;if(ii)try{var al={};Object.defineProperty(al,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Bg=!1}function LM(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Nl=!1,$d=null,zd=!1,qg=null,VM={onError:function(e){Nl=!0,$d=e}};function FM(e,t,r,n,i,a,o,s,l){Nl=!1,$d=null,LM.apply(VM,arguments)}function $M(e,t,r,n,i,a,o,s,l){if(FM.apply(this,arguments),Nl){if(Nl){var u=$d;Nl=!1,$d=null}else throw Error(W(198));zd||(zd=!0,qg=u)}}function oo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function LT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zb(e){if(oo(e)!==e)throw Error(W(188))}function zM(e){var t=e.alternate;if(!t){if(t=oo(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return zb(i),e;if(a===n)return zb(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function VT(e){return e=zM(e),e!==null?FT(e):null}function FT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FT(e);if(t!==null)return t;e=e.sibling}return null}var $T=Lr.unstable_scheduleCallback,Ub=Lr.unstable_cancelCallback,UM=Lr.unstable_shouldYield,BM=Lr.unstable_requestPaint,lt=Lr.unstable_now,qM=Lr.unstable_getCurrentPriorityLevel,r0=Lr.unstable_ImmediatePriority,zT=Lr.unstable_UserBlockingPriority,Ud=Lr.unstable_NormalPriority,WM=Lr.unstable_LowPriority,UT=Lr.unstable_IdlePriority,wh=null,Nn=null;function KM(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(wh,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:QM,HM=Math.log,GM=Math.LN2;function QM(e){return e>>>=0,e===0?32:31-(HM(e)/GM|0)|0}var kc=64,Rc=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=El(s):(a&=o,a!==0&&(n=El(a)))}else o=r&~i,o!==0?n=El(o):a!==0&&(n=El(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hn(t),i=1<<r,n|=e[r],t&=~i;return n}function YM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-hn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=YM(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Wg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BT(){var e=kc;return kc<<=1,!(kc&4194240)&&(kc=64),e}function Im(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=r}function JM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-hn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function n0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ce=0;function qT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WT,i0,KT,HT,GT,Kg=!1,Dc=[],qi=null,Wi=null,Ki=null,Ql=new Map,Yl=new Map,Vi=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bb(e,t){switch(e){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(t.pointerId)}}function ol(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Du(t),t!==null&&i0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function eL(e,t,r,n,i){switch(t){case"focusin":return qi=ol(qi,e,t,r,n,i),!0;case"dragenter":return Wi=ol(Wi,e,t,r,n,i),!0;case"mouseover":return Ki=ol(Ki,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ql.set(a,ol(Ql.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Yl.set(a,ol(Yl.get(a)||null,e,t,r,n,i)),!0}return!1}function QT(e){var t=Na(e.target);if(t!==null){var r=oo(t);if(r!==null){if(t=r.tag,t===13){if(t=LT(r),t!==null){e.blockedOn=t,GT(e.priority,function(){KT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zg=n,r.target.dispatchEvent(n),zg=null}else return t=Du(r),t!==null&&i0(t),e.blockedOn=r,!1;t.shift()}return!0}function qb(e,t,r){yd(e)&&r.delete(t)}function tL(){Kg=!1,qi!==null&&yd(qi)&&(qi=null),Wi!==null&&yd(Wi)&&(Wi=null),Ki!==null&&yd(Ki)&&(Ki=null),Ql.forEach(qb),Yl.forEach(qb)}function sl(e,t){e.blockedOn===t&&(e.blockedOn=null,Kg||(Kg=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,tL)))}function Xl(e){function t(i){return sl(i,e)}if(0<Dc.length){sl(Dc[0],e);for(var r=1;r<Dc.length;r++){var n=Dc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qi!==null&&sl(qi,e),Wi!==null&&sl(Wi,e),Ki!==null&&sl(Ki,e),Ql.forEach(t),Yl.forEach(t),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)QT(r),r.blockedOn===null&&Vi.shift()}var Wo=_i.ReactCurrentBatchConfig,qd=!0;function rL(e,t,r,n){var i=Ce,a=Wo.transition;Wo.transition=null;try{Ce=1,a0(e,t,r,n)}finally{Ce=i,Wo.transition=a}}function nL(e,t,r,n){var i=Ce,a=Wo.transition;Wo.transition=null;try{Ce=4,a0(e,t,r,n)}finally{Ce=i,Wo.transition=a}}function a0(e,t,r,n){if(qd){var i=Hg(e,t,r,n);if(i===null)Vm(e,t,n,Wd,r),Bb(e,n);else if(eL(i,e,t,r,n))n.stopPropagation();else if(Bb(e,n),t&4&&-1<ZM.indexOf(e)){for(;i!==null;){var a=Du(i);if(a!==null&&WT(a),a=Hg(e,t,r,n),a===null&&Vm(e,t,n,Wd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vm(e,t,n,null,r)}}var Wd=null;function Hg(e,t,r,n){if(Wd=null,e=t0(n),e=Na(e),e!==null)if(t=oo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=LT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function YT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qM()){case r0:return 1;case zT:return 4;case Ud:case WM:return 16;case UT:return 536870912;default:return 16}default:return 16}}var zi=null,o0=null,wd=null;function XT(){if(wd)return wd;var e,t=o0,r=t.length,n,i="value"in zi?zi.value:zi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return wd=i.slice(e,1<n?1-n:void 0)}function _d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mc(){return!0}function Wb(){return!1}function $r(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mc:Wb,this.isPropagationStopped=Wb,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=$r(As),Ru=Ze({},As,{view:0,detail:0}),iL=$r(Ru),Cm,Om,ll,_h=Ze({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?(Cm=e.screenX-ll.screenX,Om=e.screenY-ll.screenY):Om=Cm=0,ll=e),Cm)},movementY:function(e){return"movementY"in e?e.movementY:Om}}),Kb=$r(_h),aL=Ze({},_h,{dataTransfer:0}),oL=$r(aL),sL=Ze({},Ru,{relatedTarget:0}),jm=$r(sL),lL=Ze({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),uL=$r(lL),cL=Ze({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dL=$r(cL),fL=Ze({},As,{data:0}),Hb=$r(fL),hL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mL[e])?!!t[e]:!1}function l0(){return gL}var vL=Ze({},Ru,{key:function(e){if(e.key){var t=hL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l0,charCode:function(e){return e.type==="keypress"?_d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yL=$r(vL),wL=Ze({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gb=$r(wL),_L=Ze({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l0}),xL=$r(_L),bL=Ze({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),EL=$r(bL),SL=Ze({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AL=$r(SL),PL=[9,13,27,32],u0=ii&&"CompositionEvent"in window,kl=null;ii&&"documentMode"in document&&(kl=document.documentMode);var TL=ii&&"TextEvent"in window&&!kl,JT=ii&&(!u0||kl&&8<kl&&11>=kl),Qb=" ",Yb=!1;function ZT(e,t){switch(e){case"keyup":return PL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oo=!1;function IL(e,t){switch(e){case"compositionend":return eI(t);case"keypress":return t.which!==32?null:(Yb=!0,Qb);case"textInput":return e=t.data,e===Qb&&Yb?null:e;default:return null}}function CL(e,t){if(Oo)return e==="compositionend"||!u0&&ZT(e,t)?(e=XT(),wd=o0=zi=null,Oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JT&&t.locale!=="ko"?null:t.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OL[e.type]:t==="textarea"}function tI(e,t,r,n){NT(n),t=Kd(t,"onChange"),0<t.length&&(r=new s0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rl=null,Jl=null;function jL(e){fI(e,0)}function xh(e){var t=ko(e);if(AT(t))return e}function NL(e,t){if(e==="change")return t}var rI=!1;if(ii){var Nm;if(ii){var km="oninput"in document;if(!km){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),km=typeof Jb.oninput=="function"}Nm=km}else Nm=!1;rI=Nm&&(!document.documentMode||9<document.documentMode)}function Zb(){Rl&&(Rl.detachEvent("onpropertychange",nI),Jl=Rl=null)}function nI(e){if(e.propertyName==="value"&&xh(Jl)){var t=[];tI(t,Jl,e,t0(e)),MT(jL,t)}}function kL(e,t,r){e==="focusin"?(Zb(),Rl=t,Jl=r,Rl.attachEvent("onpropertychange",nI)):e==="focusout"&&Zb()}function RL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xh(Jl)}function DL(e,t){if(e==="click")return xh(t)}function ML(e,t){if(e==="input"||e==="change")return xh(t)}function LL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:LL;function Zl(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Cg.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function eE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tE(e,t){var r=eE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eE(r)}}function iI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aI(){for(var e=window,t=Fd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fd(e.document)}return t}function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VL(e){var t=aI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iI(r.ownerDocument.documentElement,r)){if(n!==null&&c0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=tE(r,a);var o=tE(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FL=ii&&"documentMode"in document&&11>=document.documentMode,jo=null,Gg=null,Dl=null,Qg=!1;function rE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qg||jo==null||jo!==Fd(n)||(n=jo,"selectionStart"in n&&c0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dl&&Zl(Dl,n)||(Dl=n,n=Kd(Gg,"onSelect"),0<n.length&&(t=new s0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function Lc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var No={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},Rm={},oI={};ii&&(oI=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function bh(e){if(Rm[e])return Rm[e];if(!No[e])return e;var t=No[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oI)return Rm[e]=t[r];return e}var sI=bh("animationend"),lI=bh("animationiteration"),uI=bh("animationstart"),cI=bh("transitionend"),dI=new Map,nE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(e,t){dI.set(e,t),ao(t,[e])}for(var Dm=0;Dm<nE.length;Dm++){var Mm=nE[Dm],$L=Mm.toLowerCase(),zL=Mm[0].toUpperCase()+Mm.slice(1);ha($L,"on"+zL)}ha(sI,"onAnimationEnd");ha(lI,"onAnimationIteration");ha(uI,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(cI,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function iE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$M(n,t,void 0,e),e.currentTarget=null}function fI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;iE(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;iE(i,s,u),a=l}}}if(zd)throw e=qg,zd=!1,qg=null,e}function Ue(e,t){var r=t[ev];r===void 0&&(r=t[ev]=new Set);var n=e+"__bubble";r.has(n)||(hI(t,e,2,!1),r.add(n))}function Lm(e,t,r){var n=0;t&&(n|=4),hI(r,e,n,t)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Vc]){e[Vc]=!0,_T.forEach(function(r){r!=="selectionchange"&&(UL.has(r)||Lm(r,!1,e),Lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vc]||(t[Vc]=!0,Lm("selectionchange",!1,t))}}function hI(e,t,r,n){switch(YT(t)){case 1:var i=rL;break;case 4:i=nL;break;default:i=a0}r=i.bind(null,t,r,e),i=void 0,!Bg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Na(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}MT(function(){var u=a,c=t0(r),d=[];e:{var p=dI.get(e);if(p!==void 0){var m=s0,g=e;switch(e){case"keypress":if(_d(r)===0)break e;case"keydown":case"keyup":m=yL;break;case"focusin":g="focus",m=jm;break;case"focusout":g="blur",m=jm;break;case"beforeblur":case"afterblur":m=jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xL;break;case sI:case lI:case uI:m=uL;break;case cI:m=EL;break;case"scroll":m=iL;break;case"wheel":m=AL;break;case"copy":case"cut":case"paste":m=dL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gb}var y=(t&4)!==0,w=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var b=u,E;b!==null;){E=b;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,x!==null&&(I=Gl(b,x),I!=null&&y.push(tu(b,I,E)))),w)break;b=b.return}0<y.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==zg&&(g=r.relatedTarget||r.fromElement)&&(Na(g)||g[ai]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Na(g):null,g!==null&&(w=oo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Kb,I="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Gb,I="onPointerLeave",x="onPointerEnter",b="pointer"),w=m==null?p:ko(m),E=g==null?p:ko(g),p=new y(I,b+"leave",m,r,c),p.target=w,p.relatedTarget=E,I=null,Na(c)===u&&(y=new y(x,b+"enter",g,r,c),y.target=E,y.relatedTarget=w,I=y),w=I,m&&g)t:{for(y=m,x=g,b=0,E=y;E;E=yo(E))b++;for(E=0,I=x;I;I=yo(I))E++;for(;0<b-E;)y=yo(y),b--;for(;0<E-b;)x=yo(x),E--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=yo(y),x=yo(x)}y=null}else y=null;m!==null&&aE(d,p,m,y,!1),g!==null&&w!==null&&aE(d,w,g,y,!0)}}e:{if(p=u?ko(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=NL;else if(Xb(p))if(rI)j=ML;else{j=RL;var R=kL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=DL);if(j&&(j=j(e,u))){tI(d,j,r,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Mg(p,"number",p.value)}switch(R=u?ko(u):window,e){case"focusin":(Xb(R)||R.contentEditable==="true")&&(jo=R,Gg=u,Dl=null);break;case"focusout":Dl=Gg=jo=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,rE(d,r,c);break;case"selectionchange":if(FL)break;case"keydown":case"keyup":rE(d,r,c)}var S;if(u0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Oo?ZT(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(JT&&r.locale!=="ko"&&(Oo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Oo&&(S=XT()):(zi=c,o0="value"in zi?zi.value:zi.textContent,Oo=!0)),R=Kd(u,A),0<R.length&&(A=new Hb(A,e,null,r,c),d.push({event:A,listeners:R}),S?A.data=S:(S=eI(r),S!==null&&(A.data=S)))),(S=TL?IL(e,r):CL(e,r))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(c=new Hb("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}fI(d,t)})}function tu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gl(e,r),a!=null&&n.unshift(tu(e,a,i)),a=Gl(e,t),a!=null&&n.push(tu(e,a,i))),e=e.return}return n}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aE(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Gl(r,a),l!=null&&o.unshift(tu(r,l,s))):i||(l=Gl(r,a),l!=null&&o.push(tu(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var BL=/\r\n?/g,qL=/\u0000|\uFFFD/g;function oE(e){return(typeof e=="string"?e:""+e).replace(BL,`
`).replace(qL,"")}function Fc(e,t,r){if(t=oE(t),oE(e)!==t&&r)throw Error(W(425))}function Hd(){}var Yg=null,Xg=null;function Jg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,WL=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,KL=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(e){return sE.resolve(null).then(e).catch(HL)}:Zg;function HL(e){setTimeout(function(){throw e})}function Fm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Xl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xl(t)}function Hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),On="__reactFiber$"+Ps,ru="__reactProps$"+Ps,ai="__reactContainer$"+Ps,ev="__reactEvents$"+Ps,GL="__reactListeners$"+Ps,QL="__reactHandles$"+Ps;function Na(e){var t=e[On];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ai]||r[On]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lE(e);e!==null;){if(r=e[On])return r;e=lE(e)}return t}e=r,r=e.parentNode}return null}function Du(e){return e=e[On]||e[ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Eh(e){return e[ru]||null}var tv=[],Ro=-1;function pa(e){return{current:e}}function We(e){0>Ro||(e.current=tv[Ro],tv[Ro]=null,Ro--)}function Ve(e,t){Ro++,tv[Ro]=e.current,e.current=t}var ia={},sr=pa(ia),Er=pa(!1),Wa=ia;function ts(e,t){var r=e.type.contextTypes;if(!r)return ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(e){return e=e.childContextTypes,e!=null}function Gd(){We(Er),We(sr)}function uE(e,t,r){if(sr.current!==ia)throw Error(W(168));Ve(sr,t),Ve(Er,r)}function pI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,kM(e)||"Unknown",i));return Ze({},r,n)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ia,Wa=sr.current,Ve(sr,e),Ve(Er,Er.current),!0}function cE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=pI(e,t,Wa),n.__reactInternalMemoizedMergedChildContext=e,We(Er),We(sr),Ve(sr,e)):We(Er),Ve(Er,r)}var Kn=null,Sh=!1,$m=!1;function mI(e){Kn===null?Kn=[e]:Kn.push(e)}function YL(e){Sh=!0,mI(e)}function ma(){if(!$m&&Kn!==null){$m=!0;var e=0,t=Ce;try{var r=Kn;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kn=null,Sh=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(e+1)),$T(r0,ma),i}finally{Ce=t,$m=!1}}return null}var Do=[],Mo=0,Yd=null,Xd=0,Wr=[],Kr=0,Ka=null,Yn=1,Xn="";function Pa(e,t){Do[Mo++]=Xd,Do[Mo++]=Yd,Yd=e,Xd=t}function gI(e,t,r){Wr[Kr++]=Yn,Wr[Kr++]=Xn,Wr[Kr++]=Ka,Ka=e;var n=Yn;e=Xn;var i=32-hn(n)-1;n&=~(1<<i),r+=1;var a=32-hn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Yn=1<<32-hn(t)+i|r<<i|n,Xn=a+e}else Yn=1<<a|r<<i|n,Xn=e}function d0(e){e.return!==null&&(Pa(e,1),gI(e,1,0))}function f0(e){for(;e===Yd;)Yd=Do[--Mo],Do[Mo]=null,Xd=Do[--Mo],Do[Mo]=null;for(;e===Ka;)Ka=Wr[--Kr],Wr[Kr]=null,Xn=Wr[--Kr],Wr[Kr]=null,Yn=Wr[--Kr],Wr[Kr]=null}var Dr=null,Nr=null,He=!1,un=null;function vI(e,t){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Nr=Hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ka!==null?{id:Yn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dr=e,Nr=null,!0):!1;default:return!1}}function rv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nv(e){if(He){var t=Nr;if(t){var r=t;if(!dE(e,t)){if(rv(e))throw Error(W(418));t=Hi(r.nextSibling);var n=Dr;t&&dE(e,t)?vI(n,r):(e.flags=e.flags&-4097|2,He=!1,Dr=e)}}else{if(rv(e))throw Error(W(418));e.flags=e.flags&-4097|2,He=!1,Dr=e}}}function fE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function $c(e){if(e!==Dr)return!1;if(!He)return fE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jg(e.type,e.memoizedProps)),t&&(t=Nr)){if(rv(e))throw yI(),Error(W(418));for(;t;)vI(e,t),t=Hi(t.nextSibling)}if(fE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nr=Hi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nr=null}}else Nr=Dr?Hi(e.stateNode.nextSibling):null;return!0}function yI(){for(var e=Nr;e;)e=Hi(e.nextSibling)}function rs(){Nr=Dr=null,He=!1}function h0(e){un===null?un=[e]:un.push(e)}var XL=_i.ReactCurrentBatchConfig;function ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function zc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hE(e){var t=e._init;return t(e._payload)}function wI(e){function t(x,b){if(e){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Xi(x,b),x.index=0,x.sibling=null,x}function a(x,b,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,E,I){return b===null||b.tag!==6?(b=Hm(E,x.mode,I),b.return=x,b):(b=i(b,E),b.return=x,b)}function l(x,b,E,I){var j=E.type;return j===Co?c(x,b,E.props.children,I,E.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ri&&hE(j)===b.type)?(I=i(b,E.props),I.ref=ul(x,b,E),I.return=x,I):(I=Td(E.type,E.key,E.props,null,x.mode,I),I.ref=ul(x,b,E),I.return=x,I)}function u(x,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Gm(E,x.mode,I),b.return=x,b):(b=i(b,E.children||[]),b.return=x,b)}function c(x,b,E,I,j){return b===null||b.tag!==7?(b=$a(E,x.mode,I,j),b.return=x,b):(b=i(b,E),b.return=x,b)}function d(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Hm(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oc:return E=Td(b.type,b.key,b.props,null,x.mode,E),E.ref=ul(x,null,b),E.return=x,E;case Io:return b=Gm(b,x.mode,E),b.return=x,b;case Ri:var I=b._init;return d(x,I(b._payload),E)}if(bl(b)||il(b))return b=$a(b,x.mode,E,null),b.return=x,b;zc(x,b)}return null}function p(x,b,E,I){var j=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:s(x,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Oc:return E.key===j?l(x,b,E,I):null;case Io:return E.key===j?u(x,b,E,I):null;case Ri:return j=E._init,p(x,b,j(E._payload),I)}if(bl(E)||il(E))return j!==null?null:c(x,b,E,I,null);zc(x,E)}return null}function m(x,b,E,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(E)||null,s(b,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Oc:return x=x.get(I.key===null?E:I.key)||null,l(b,x,I,j);case Io:return x=x.get(I.key===null?E:I.key)||null,u(b,x,I,j);case Ri:var R=I._init;return m(x,b,E,R(I._payload),j)}if(bl(I)||il(I))return x=x.get(E)||null,c(b,x,I,j,null);zc(b,I)}return null}function g(x,b,E,I){for(var j=null,R=null,S=b,A=b=0,C=null;S!==null&&A<E.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var D=p(x,S,E[A],I);if(D===null){S===null&&(S=C);break}e&&S&&D.alternate===null&&t(x,S),b=a(D,b,A),R===null?j=D:R.sibling=D,R=D,S=C}if(A===E.length)return r(x,S),He&&Pa(x,A),j;if(S===null){for(;A<E.length;A++)S=d(x,E[A],I),S!==null&&(b=a(S,b,A),R===null?j=S:R.sibling=S,R=S);return He&&Pa(x,A),j}for(S=n(x,S);A<E.length;A++)C=m(S,x,A,E[A],I),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),b=a(C,b,A),R===null?j=C:R.sibling=C,R=C);return e&&S.forEach(function(T){return t(x,T)}),He&&Pa(x,A),j}function y(x,b,E,I){var j=il(E);if(typeof j!="function")throw Error(W(150));if(E=j.call(E),E==null)throw Error(W(151));for(var R=j=null,S=b,A=b=0,C=null,D=E.next();S!==null&&!D.done;A++,D=E.next()){S.index>A?(C=S,S=null):C=S.sibling;var T=p(x,S,D.value,I);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(x,S),b=a(T,b,A),R===null?j=T:R.sibling=T,R=T,S=C}if(D.done)return r(x,S),He&&Pa(x,A),j;if(S===null){for(;!D.done;A++,D=E.next())D=d(x,D.value,I),D!==null&&(b=a(D,b,A),R===null?j=D:R.sibling=D,R=D);return He&&Pa(x,A),j}for(S=n(x,S);!D.done;A++,D=E.next())D=m(S,x,A,D.value,I),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=a(D,b,A),R===null?j=D:R.sibling=D,R=D);return e&&S.forEach(function(k){return t(x,k)}),He&&Pa(x,A),j}function w(x,b,E,I){if(typeof E=="object"&&E!==null&&E.type===Co&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Oc:e:{for(var j=E.key,R=b;R!==null;){if(R.key===j){if(j=E.type,j===Co){if(R.tag===7){r(x,R.sibling),b=i(R,E.props.children),b.return=x,x=b;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ri&&hE(j)===R.type){r(x,R.sibling),b=i(R,E.props),b.ref=ul(x,R,E),b.return=x,x=b;break e}r(x,R);break}else t(x,R);R=R.sibling}E.type===Co?(b=$a(E.props.children,x.mode,I,E.key),b.return=x,x=b):(I=Td(E.type,E.key,E.props,null,x.mode,I),I.ref=ul(x,b,E),I.return=x,x=I)}return o(x);case Io:e:{for(R=E.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(x,b.sibling),b=i(b,E.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Gm(E,x.mode,I),b.return=x,x=b}return o(x);case Ri:return R=E._init,w(x,b,R(E._payload),I)}if(bl(E))return g(x,b,E,I);if(il(E))return y(x,b,E,I);zc(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,E),b.return=x,x=b):(r(x,b),b=Hm(E,x.mode,I),b.return=x,x=b),o(x)):r(x,b)}return w}var ns=wI(!0),_I=wI(!1),Jd=pa(null),Zd=null,Lo=null,p0=null;function m0(){p0=Lo=Zd=null}function g0(e){var t=Jd.current;We(Jd),e._currentValue=t}function iv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ko(e,t){Zd=e,p0=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(p0!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(Zd===null)throw Error(W(308));Lo=e,Zd.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var ka=null;function v0(e){ka===null?ka=[e]:ka.push(e)}function xI(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,v0(t)):(r.next=i.next,i.next=r),t.interleaved=r,oi(e,n)}function oi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Di=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,oi(e,r)}return i=n.interleaved,i===null?(t.next=t,v0(n)):(t.next=i.next,i.next=t),n.interleaved=t,oi(e,r)}function xd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n0(e,r)}}function pE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ef(e,t,r,n){var i=e.updateQueue;Di=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Ze({},d,p);break e;case 2:Di=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ga|=o,e.lanes=o,e.memoizedState=d}}function mE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Mu={},kn=pa(Mu),nu=pa(Mu),iu=pa(Mu);function Ra(e){if(e===Mu)throw Error(W(174));return e}function w0(e,t){switch(Ve(iu,t),Ve(nu,e),Ve(kn,Mu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vg(t,e)}We(kn),Ve(kn,t)}function is(){We(kn),We(nu),We(iu)}function EI(e){Ra(iu.current);var t=Ra(kn.current),r=Vg(t,e.type);t!==r&&(Ve(nu,e),Ve(kn,r))}function _0(e){nu.current===e&&(We(kn),We(nu))}var Xe=pa(0);function tf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zm=[];function x0(){for(var e=0;e<zm.length;e++)zm[e]._workInProgressVersionPrimary=null;zm.length=0}var bd=_i.ReactCurrentDispatcher,Um=_i.ReactCurrentBatchConfig,Ha=0,Je=null,Et=null,Lt=null,rf=!1,Ml=!1,au=0,JL=0;function Jt(){throw Error(W(321))}function b0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gn(e[r],t[r]))return!1;return!0}function E0(e,t,r,n,i,a){if(Ha=a,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bd.current=e===null||e.memoizedState===null?rV:nV,e=r(n,i),Ml){a=0;do{if(Ml=!1,au=0,25<=a)throw Error(W(301));a+=1,Lt=Et=null,t.updateQueue=null,bd.current=iV,e=r(n,i)}while(Ml)}if(bd.current=nf,t=Et!==null&&Et.next!==null,Ha=0,Lt=Et=Je=null,rf=!1,t)throw Error(W(300));return e}function S0(){var e=au!==0;return au=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Je.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Zr(){if(Et===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Lt===null?Je.memoizedState:Lt.next;if(t!==null)Lt=t,Et=e;else{if(e===null)throw Error(W(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Lt===null?Je.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function ou(e,t){return typeof t=="function"?t(e):t}function Bm(e){var t=Zr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Et,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Ha&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,Je.lanes|=c,Ga|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,gn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Je.lanes|=a,Ga|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qm(e){var t=Zr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);gn(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function SI(){}function AI(e,t){var r=Je,n=Zr(),i=t(),a=!gn(n.memoizedState,i);if(a&&(n.memoizedState=i,xr=!0),n=n.queue,A0(II.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,su(9,TI.bind(null,r,n,i,t),void 0,null),Ft===null)throw Error(W(349));Ha&30||PI(r,t,i)}return i}function PI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TI(e,t,r,n){t.value=r,t.getSnapshot=n,CI(t)&&OI(e)}function II(e,t,r){return r(function(){CI(t)&&OI(e)})}function CI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gn(e,r)}catch{return!0}}function OI(e){var t=oi(e,1);t!==null&&pn(t,e,1,-1)}function gE(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:e},t.queue=e,e=e.dispatch=tV.bind(null,Je,e),[t.memoizedState,e]}function su(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jI(){return Zr().memoizedState}function Ed(e,t,r,n){var i=In();Je.flags|=e,i.memoizedState=su(1|t,r,void 0,n===void 0?null:n)}function Ah(e,t,r,n){var i=Zr();n=n===void 0?null:n;var a=void 0;if(Et!==null){var o=Et.memoizedState;if(a=o.destroy,n!==null&&b0(n,o.deps)){i.memoizedState=su(t,r,a,n);return}}Je.flags|=e,i.memoizedState=su(1|t,r,a,n)}function vE(e,t){return Ed(8390656,8,e,t)}function A0(e,t){return Ah(2048,8,e,t)}function NI(e,t){return Ah(4,2,e,t)}function kI(e,t){return Ah(4,4,e,t)}function RI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DI(e,t,r){return r=r!=null?r.concat([e]):null,Ah(4,4,RI.bind(null,t,e),r)}function P0(){}function MI(e,t){var r=Zr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LI(e,t){var r=Zr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VI(e,t,r){return Ha&21?(gn(r,t)||(r=BT(),Je.lanes|=r,Ga|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function ZL(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=Um.transition;Um.transition={};try{e(!1),t()}finally{Ce=r,Um.transition=n}}function FI(){return Zr().memoizedState}function eV(e,t,r){var n=Yi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$I(e))zI(t,r);else if(r=xI(e,t,r,n),r!==null){var i=fr();pn(r,e,n,i),UI(r,t,n)}}function tV(e,t,r){var n=Yi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($I(e))zI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,gn(s,o)){var l=t.interleaved;l===null?(i.next=i,v0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=xI(e,t,i,n),r!==null&&(i=fr(),pn(r,e,n,i),UI(r,t,n))}}function $I(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function zI(e,t){Ml=rf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n0(e,r)}}var nf={readContext:Jr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},rV={readContext:Jr,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:vE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ed(4194308,4,RI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ed(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ed(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eV.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:gE,useDebugValue:P0,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=gE(!1),t=e[0];return e=ZL.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,i=In();if(He){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Ft===null)throw Error(W(349));Ha&30||PI(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,vE(II.bind(null,n,a,e),[e]),n.flags|=2048,su(9,TI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=In(),t=Ft.identifierPrefix;if(He){var r=Xn,n=Yn;r=(n&~(1<<32-hn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=au++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nV={readContext:Jr,useCallback:MI,useContext:Jr,useEffect:A0,useImperativeHandle:DI,useInsertionEffect:NI,useLayoutEffect:kI,useMemo:LI,useReducer:Bm,useRef:jI,useState:function(){return Bm(ou)},useDebugValue:P0,useDeferredValue:function(e){var t=Zr();return VI(t,Et.memoizedState,e)},useTransition:function(){var e=Bm(ou)[0],t=Zr().memoizedState;return[e,t]},useMutableSource:SI,useSyncExternalStore:AI,useId:FI,unstable_isNewReconciler:!1},iV={readContext:Jr,useCallback:MI,useContext:Jr,useEffect:A0,useImperativeHandle:DI,useInsertionEffect:NI,useLayoutEffect:kI,useMemo:LI,useReducer:qm,useRef:jI,useState:function(){return qm(ou)},useDebugValue:P0,useDeferredValue:function(e){var t=Zr();return Et===null?t.memoizedState=e:VI(t,Et.memoizedState,e)},useTransition:function(){var e=qm(ou)[0],t=Zr().memoizedState;return[e,t]},useMutableSource:SI,useSyncExternalStore:AI,useId:FI,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function av(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ph={isMounted:function(e){return(e=e._reactInternals)?oo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),i=Yi(e),a=ei(n,i);a.payload=t,r!=null&&(a.callback=r),t=Gi(e,a,i),t!==null&&(pn(t,e,i,n),xd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),i=Yi(e),a=ei(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Gi(e,a,i),t!==null&&(pn(t,e,i,n),xd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=Yi(e),i=ei(r,n);i.tag=2,t!=null&&(i.callback=t),t=Gi(e,i,n),t!==null&&(pn(t,e,n,r),xd(t,e,n))}};function yE(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zl(r,n)||!Zl(i,a):!0}function BI(e,t,r){var n=!1,i=ia,a=t.contextType;return typeof a=="object"&&a!==null?a=Jr(a):(i=Sr(t)?Wa:sr.current,n=t.contextTypes,a=(n=n!=null)?ts(e,i):ia),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ph,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ph.enqueueReplaceState(t,t.state,null)}function ov(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},y0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Jr(a):(a=Sr(t)?Wa:sr.current,i.context=ts(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(av(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ph.enqueueReplaceState(i,i.state,null),ef(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var r="",n=t;do r+=NM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Wm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aV=typeof WeakMap=="function"?WeakMap:Map;function qI(e,t,r){r=ei(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){of||(of=!0,vv=n),sv(e,t)},r}function WI(e,t,r){r=ei(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){sv(e,t),typeof n!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _E(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=wV.bind(null,e,t,r),t.then(e,e))}function xE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ei(-1,1),t.tag=2,Gi(r,t,1))),r.lanes|=1),e)}var oV=_i.ReactCurrentOwner,xr=!1;function ur(e,t,r,n){t.child=e===null?_I(t,null,r,n):ns(t,e.child,r,n)}function EE(e,t,r,n,i){r=r.render;var a=t.ref;return Ko(t,i),n=E0(e,t,r,n,a,i),r=S0(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,si(e,t,i)):(He&&r&&d0(t),t.flags|=1,ur(e,t,n,i),t.child)}function SE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!R0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,KI(e,t,a,n,i)):(e=Td(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(o,n)&&e.ref===t.ref)return si(e,t,i)}return t.flags|=1,e=Xi(a,n),e.ref=t.ref,e.return=t,t.child=e}function KI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Zl(a,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,si(e,t,i)}return lv(e,t,r,n,i)}function HI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Fo,Cr),Cr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Fo,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ve(Fo,Cr),Cr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ve(Fo,Cr),Cr|=n;return ur(e,t,i,r),t.child}function GI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lv(e,t,r,n,i){var a=Sr(r)?Wa:sr.current;return a=ts(t,a),Ko(t,i),r=E0(e,t,r,n,a,i),n=S0(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,si(e,t,i)):(He&&n&&d0(t),t.flags|=1,ur(e,t,r,i),t.child)}function AE(e,t,r,n,i){if(Sr(r)){var a=!0;Qd(t)}else a=!1;if(Ko(t,i),t.stateNode===null)Sd(e,t),BI(t,r,n),ov(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=Sr(r)?Wa:sr.current,u=ts(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&wE(t,o,n,u),Di=!1;var p=t.memoizedState;o.state=p,ef(t,n,o,i),l=t.memoizedState,s!==n||p!==l||Er.current||Di?(typeof c=="function"&&(av(t,r,c,n),l=t.memoizedState),(s=Di||yE(t,r,s,n,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,bI(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:sn(t.type,s),o.props=u,d=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=Sr(r)?Wa:sr.current,l=ts(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&wE(t,o,n,l),Di=!1,p=t.memoizedState,o.state=p,ef(t,n,o,i);var g=t.memoizedState;s!==d||p!==g||Er.current||Di?(typeof m=="function"&&(av(t,r,m,n),g=t.memoizedState),(u=Di||yE(t,r,u,n,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return uv(e,t,r,n,a,i)}function uv(e,t,r,n,i,a){GI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&cE(t,r,!1),si(e,t,a);n=t.stateNode,oV.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,s,a)):ur(e,t,s,a),t.memoizedState=n.state,i&&cE(t,r,!0),t.child}function QI(e){var t=e.stateNode;t.pendingContext?uE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uE(e,t.context,!1),w0(e,t.containerInfo)}function PE(e,t,r,n,i){return rs(),h0(i),t.flags|=256,ur(e,t,r,n),t.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function dv(e){return{baseLanes:e,cachePool:null,transitions:null}}function YI(e,t,r){var n=t.pendingProps,i=Xe.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Xe,i&1),e===null)return nv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ch(o,n,0,null),e=$a(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dv(r),t.memoizedState=cv,e):T0(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return sV(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Xi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Xi(s,a):(a=$a(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?dv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=cv,n}return a=e.child,e=a.sibling,n=Xi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function T0(e,t){return t=Ch({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uc(e,t,r,n){return n!==null&&h0(n),ns(t,e.child,null,r),e=T0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sV(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Wm(Error(W(422))),Uc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ch({mode:"visible",children:n.children},i,0,null),a=$a(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ns(t,e.child,null,o),t.child.memoizedState=dv(o),t.memoizedState=cv,a);if(!(t.mode&1))return Uc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(W(419)),n=Wm(a,n,void 0),Uc(e,t,o,n)}if(s=(o&e.childLanes)!==0,xr||s){if(n=Ft,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oi(e,i),pn(n,e,i,-1))}return k0(),n=Wm(Error(W(421))),Uc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_V.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Nr=Hi(i.nextSibling),Dr=t,He=!0,un=null,e!==null&&(Wr[Kr++]=Yn,Wr[Kr++]=Xn,Wr[Kr++]=Ka,Yn=e.id,Xn=e.overflow,Ka=t),t=T0(t,n.children),t.flags|=4096,t)}function TE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),iv(e.return,t,r)}function Km(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function XI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TE(e,r,t);else if(e.tag===19)TE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ve(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&tf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Km(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Km(t,!0,r,null,a);break;case"together":Km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function si(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Xi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lV(e,t,r){switch(t.tag){case 3:QI(t),rs();break;case 5:EI(t);break;case 1:Sr(t.type)&&Qd(t);break;case 4:w0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ve(Jd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ve(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?YI(e,t,r):(Ve(Xe,Xe.current&1),e=si(e,t,r),e!==null?e.sibling:null);Ve(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return XI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,HI(e,t,r)}return si(e,t,r)}var JI,fv,ZI,eC;JI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fv=function(){};ZI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ra(kn.current);var a=null;switch(r){case"input":i=Rg(e,i),n=Rg(e,n),a=[];break;case"select":i=Ze({},i,{value:void 0}),n=Ze({},n,{value:void 0}),a=[];break;case"textarea":i=Lg(e,i),n=Lg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hd)}Fg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};eC=function(e,t,r,n){r!==n&&(t.flags|=4)};function cl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uV(e,t,r){var n=t.pendingProps;switch(f0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Sr(t.type)&&Gd(),Zt(t),null;case 3:return n=t.stateNode,is(),We(Er),We(sr),x0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($c(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(_v(un),un=null))),fv(e,t),Zt(t),null;case 5:_0(t);var i=Ra(iu.current);if(r=t.type,e!==null&&t.stateNode!=null)ZI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Zt(t),null}if(e=Ra(kn.current),$c(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[On]=t,n[ru]=a,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ue(Sl[i],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Mb(n,a),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ue("invalid",n);break;case"textarea":Vb(n,a),Ue("invalid",n)}Fg(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Fc(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Fc(n.textContent,s,e),i=["children",""+s]):Kl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ue("scroll",n)}switch(r){case"input":jc(n),Lb(n,a,!0);break;case"textarea":jc(n),Fb(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Hd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[On]=t,e[ru]=n,JI(e,t,!1,!1),t.stateNode=e;e:{switch(o=$g(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),i=n;break;case"iframe":case"object":case"embed":Ue("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ue(Sl[i],e);i=n;break;case"source":Ue("error",e),i=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=n;break;case"details":Ue("toggle",e),i=n;break;case"input":Mb(e,n),i=Rg(e,n),Ue("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ze({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":Vb(e,n),i=Lg(e,n),Ue("invalid",e);break;default:i=n}Fg(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?jT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hl(e,l):typeof l=="number"&&Hl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ue("scroll",e):l!=null&&Xy(e,a,l,o))}switch(r){case"input":jc(e),Lb(e,n,!1);break;case"textarea":jc(e),Fb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+na(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Uo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)eC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Ra(iu.current),Ra(kn.current),$c(t)){if(n=t.stateNode,r=t.memoizedProps,n[On]=t,(a=n.nodeValue!==r)&&(e=Dr,e!==null))switch(e.tag){case 3:Fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[On]=t,t.stateNode=n}return Zt(t),null;case 13:if(We(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Nr!==null&&t.mode&1&&!(t.flags&128))yI(),rs(),t.flags|=98560,a=!1;else if(a=$c(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[On]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else un!==null&&(_v(un),un=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?Pt===0&&(Pt=3):k0())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return is(),fv(e,t),e===null&&eu(t.stateNode.containerInfo),Zt(t),null;case 10:return g0(t.type._context),Zt(t),null;case 17:return Sr(t.type)&&Gd(),Zt(t),null;case 19:if(We(Xe),a=t.memoizedState,a===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)cl(a,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tf(e),o!==null){for(t.flags|=128,cl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(Xe,Xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&lt()>os&&(t.flags|=128,n=!0,cl(a,!1),t.lanes=4194304)}else{if(!n)if(e=tf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return Zt(t),null}else 2*lt()-a.renderingStartTime>os&&r!==1073741824&&(t.flags|=128,n=!0,cl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=lt(),t.sibling=null,r=Xe.current,Ve(Xe,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return N0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cr&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function cV(e,t){switch(f0(t),t.tag){case 1:return Sr(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),We(Er),We(sr),x0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _0(t),null;case 13:if(We(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Xe),null;case 4:return is(),null;case 10:return g0(t.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Bc=!1,nr=!1,dV=typeof WeakSet=="function"?WeakSet:Set,J=null;function Vo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function hv(e,t,r){try{r()}catch(n){nt(e,t,n)}}var IE=!1;function fV(e,t){if(Yg=qd,e=aI(),c0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(s=o),p===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xg={focusedElem:e,selectionRange:r},qd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:sn(t.type,y),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){nt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=IE,IE=!1,g}function Ll(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&hv(t,r,a)}i=i.next}while(i!==n)}}function Th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function tC(e){var t=e.alternate;t!==null&&(e.alternate=null,tC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[ru],delete t[ev],delete t[GL],delete t[QL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rC(e){return e.tag===5||e.tag===3||e.tag===4}function CE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hd));else if(n!==4&&(e=e.child,e!==null))for(mv(e,t,r),e=e.sibling;e!==null;)mv(e,t,r),e=e.sibling}function gv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gv(e,t,r),e=e.sibling;e!==null;)gv(e,t,r),e=e.sibling}var Wt=null,ln=!1;function ki(e,t,r){for(r=r.child;r!==null;)nC(e,t,r),r=r.sibling}function nC(e,t,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(wh,r)}catch{}switch(r.tag){case 5:nr||Vo(r,t);case 6:var n=Wt,i=ln;Wt=null,ki(e,t,r),Wt=n,ln=i,Wt!==null&&(ln?(e=Wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(ln?(e=Wt,r=r.stateNode,e.nodeType===8?Fm(e.parentNode,r):e.nodeType===1&&Fm(e,r),Xl(e)):Fm(Wt,r.stateNode));break;case 4:n=Wt,i=ln,Wt=r.stateNode.containerInfo,ln=!0,ki(e,t,r),Wt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hv(r,t,o),i=i.next}while(i!==n)}ki(e,t,r);break;case 1:if(!nr&&(Vo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){nt(r,t,s)}ki(e,t,r);break;case 21:ki(e,t,r);break;case 22:r.mode&1?(nr=(n=nr)||r.memoizedState!==null,ki(e,t,r),nr=n):ki(e,t,r);break;default:ki(e,t,r)}}function OE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dV),t.forEach(function(n){var i=xV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Wt=s.stateNode,ln=!1;break e;case 3:Wt=s.stateNode.containerInfo,ln=!0;break e;case 4:Wt=s.stateNode.containerInfo,ln=!0;break e}s=s.return}if(Wt===null)throw Error(W(160));nC(a,o,i),Wt=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iC(t,e),t=t.sibling}function iC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Tn(e),n&4){try{Ll(3,e,e.return),Th(3,e)}catch(y){nt(e,e.return,y)}try{Ll(5,e,e.return)}catch(y){nt(e,e.return,y)}}break;case 1:on(t,e),Tn(e),n&512&&r!==null&&Vo(r,r.return);break;case 5:if(on(t,e),Tn(e),n&512&&r!==null&&Vo(r,r.return),e.flags&32){var i=e.stateNode;try{Hl(i,"")}catch(y){nt(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&PT(i,a),$g(s,o);var u=$g(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?jT(i,d):c==="dangerouslySetInnerHTML"?CT(i,d):c==="children"?Hl(i,d):Xy(i,c,d,u)}switch(s){case"input":Dg(i,a);break;case"textarea":TT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Uo(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Uo(i,!!a.multiple,a.defaultValue,!0):Uo(i,!!a.multiple,a.multiple?[]:"",!1))}i[ru]=a}catch(y){nt(e,e.return,y)}}break;case 6:if(on(t,e),Tn(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){nt(e,e.return,y)}}break;case 3:if(on(t,e),Tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(y){nt(e,e.return,y)}break;case 4:on(t,e),Tn(e);break;case 13:on(t,e),Tn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(O0=lt())),n&4&&OE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(nr=(u=nr)||c,on(t,e),nr=u):on(t,e),Tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ll(4,p,p.return);break;case 1:Vo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){nt(n,r,y)}}break;case 5:Vo(p,p.return);break;case 22:if(p.memoizedState!==null){NE(d);continue}}m!==null?(m.return=p,J=m):NE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=OT("display",o))}catch(y){nt(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){nt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:on(t,e),Tn(e),n&4&&OE(e);break;case 21:break;default:on(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rC(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hl(i,""),n.flags&=-33);var a=CE(e);gv(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=CE(e);mv(e,s,o);break;default:throw Error(W(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hV(e,t,r){J=e,aC(e)}function aC(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Bc;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||nr;s=Bc;var u=nr;if(Bc=o,(nr=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?kE(i):l!==null?(l.return=o,J=l):kE(i);for(;a!==null;)J=a,aC(a),a=a.sibling;J=i,Bc=s,nr=u}jE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):jE(e)}}function jE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:sn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&mE(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mE(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nr||t.flags&512&&pv(t)}catch(p){nt(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function NE(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function kE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Th(4,t)}catch(l){nt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){nt(t,i,l)}}var a=t.return;try{pv(t)}catch(l){nt(t,a,l)}break;case 5:var o=t.return;try{pv(t)}catch(l){nt(t,o,l)}}}catch(l){nt(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var pV=Math.ceil,af=_i.ReactCurrentDispatcher,I0=_i.ReactCurrentOwner,Yr=_i.ReactCurrentBatchConfig,Ee=0,Ft=null,ht=null,Qt=0,Cr=0,Fo=pa(0),Pt=0,lu=null,Ga=0,Ih=0,C0=0,Vl=null,wr=null,O0=0,os=1/0,Wn=null,of=!1,vv=null,Qi=null,qc=!1,Ui=null,sf=0,Fl=0,yv=null,Ad=-1,Pd=0;function fr(){return Ee&6?lt():Ad!==-1?Ad:Ad=lt()}function Yi(e){return e.mode&1?Ee&2&&Qt!==0?Qt&-Qt:XL.transition!==null?(Pd===0&&(Pd=BT()),Pd):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:YT(e.type)),e):1}function pn(e,t,r,n){if(50<Fl)throw Fl=0,yv=null,Error(W(185));ku(e,r,n),(!(Ee&2)||e!==Ft)&&(e===Ft&&(!(Ee&2)&&(Ih|=r),Pt===4&&Fi(e,Qt)),Ar(e,n),r===1&&Ee===0&&!(t.mode&1)&&(os=lt()+500,Sh&&ma()))}function Ar(e,t){var r=e.callbackNode;XM(e,t);var n=Bd(e,e===Ft?Qt:0);if(n===0)r!==null&&Ub(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ub(r),t===1)e.tag===0?YL(RE.bind(null,e)):mI(RE.bind(null,e)),KL(function(){!(Ee&6)&&ma()}),r=null;else{switch(qT(n)){case 1:r=r0;break;case 4:r=zT;break;case 16:r=Ud;break;case 536870912:r=UT;break;default:r=Ud}r=hC(r,oC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oC(e,t){if(Ad=-1,Pd=0,Ee&6)throw Error(W(327));var r=e.callbackNode;if(Ho()&&e.callbackNode!==r)return null;var n=Bd(e,e===Ft?Qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lf(e,n);else{t=n;var i=Ee;Ee|=2;var a=lC();(Ft!==e||Qt!==t)&&(Wn=null,os=lt()+500,Fa(e,t));do try{vV();break}catch(s){sC(e,s)}while(!0);m0(),af.current=a,Ee=i,ht!==null?t=0:(Ft=null,Qt=0,t=Pt)}if(t!==0){if(t===2&&(i=Wg(e),i!==0&&(n=i,t=wv(e,i))),t===1)throw r=lu,Fa(e,0),Fi(e,n),Ar(e,lt()),r;if(t===6)Fi(e,n);else{if(i=e.current.alternate,!(n&30)&&!mV(i)&&(t=lf(e,n),t===2&&(a=Wg(e),a!==0&&(n=a,t=wv(e,a))),t===1))throw r=lu,Fa(e,0),Fi(e,n),Ar(e,lt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Ta(e,wr,Wn);break;case 3:if(Fi(e,n),(n&130023424)===n&&(t=O0+500-lt(),10<t)){if(Bd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zg(Ta.bind(null,e,wr,Wn),t);break}Ta(e,wr,Wn);break;case 4:if(Fi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-hn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pV(n/1960))-n,10<n){e.timeoutHandle=Zg(Ta.bind(null,e,wr,Wn),n);break}Ta(e,wr,Wn);break;case 5:Ta(e,wr,Wn);break;default:throw Error(W(329))}}}return Ar(e,lt()),e.callbackNode===r?oC.bind(null,e):null}function wv(e,t){var r=Vl;return e.current.memoizedState.isDehydrated&&(Fa(e,t).flags|=256),e=lf(e,t),e!==2&&(t=wr,wr=r,t!==null&&_v(t)),e}function _v(e){wr===null?wr=e:wr.push.apply(wr,e)}function mV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!gn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t){for(t&=~C0,t&=~Ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hn(t),n=1<<r;e[r]=-1,t&=~n}}function RE(e){if(Ee&6)throw Error(W(327));Ho();var t=Bd(e,0);if(!(t&1))return Ar(e,lt()),null;var r=lf(e,t);if(e.tag!==0&&r===2){var n=Wg(e);n!==0&&(t=n,r=wv(e,n))}if(r===1)throw r=lu,Fa(e,0),Fi(e,t),Ar(e,lt()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,wr,Wn),Ar(e,lt()),null}function j0(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(os=lt()+500,Sh&&ma())}}function Qa(e){Ui!==null&&Ui.tag===0&&!(Ee&6)&&Ho();var t=Ee;Ee|=1;var r=Yr.transition,n=Ce;try{if(Yr.transition=null,Ce=1,e)return e()}finally{Ce=n,Yr.transition=r,Ee=t,!(Ee&6)&&ma()}}function N0(){Cr=Fo.current,We(Fo)}function Fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WL(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(f0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gd();break;case 3:is(),We(Er),We(sr),x0();break;case 5:_0(n);break;case 4:is();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:g0(n.type._context);break;case 22:case 23:N0()}r=r.return}if(Ft=e,ht=e=Xi(e.current,null),Qt=Cr=t,Pt=0,lu=null,C0=Ih=Ga=0,wr=Vl=null,ka!==null){for(t=0;t<ka.length;t++)if(r=ka[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ka=null}return e}function sC(e,t){do{var r=ht;try{if(m0(),bd.current=nf,rf){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rf=!1}if(Ha=0,Lt=Et=Je=null,Ml=!1,au=0,I0.current=null,r===null||r.return===null){Pt=1,lu=t,ht=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=xE(o);if(m!==null){m.flags&=-257,bE(m,o,s,a,t),m.mode&1&&_E(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){_E(a,u,t),k0();break e}l=Error(W(426))}}else if(He&&s.mode&1){var w=xE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bE(w,o,s,a,t),h0(as(l,s));break e}}a=l=as(l,s),Pt!==4&&(Pt=2),Vl===null?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=qI(a,l,t);pE(a,x);break e;case 1:s=l;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qi===null||!Qi.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=WI(a,s,t);pE(a,I);break e}}a=a.return}while(a!==null)}cC(r)}catch(j){t=j,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function lC(){var e=af.current;return af.current=nf,e===null?nf:e}function k0(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ft===null||!(Ga&268435455)&&!(Ih&268435455)||Fi(Ft,Qt)}function lf(e,t){var r=Ee;Ee|=2;var n=lC();(Ft!==e||Qt!==t)&&(Wn=null,Fa(e,t));do try{gV();break}catch(i){sC(e,i)}while(!0);if(m0(),Ee=r,af.current=n,ht!==null)throw Error(W(261));return Ft=null,Qt=0,Pt}function gV(){for(;ht!==null;)uC(ht)}function vV(){for(;ht!==null&&!UM();)uC(ht)}function uC(e){var t=fC(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?cC(e):ht=t,I0.current=null}function cC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cV(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,ht=null;return}}else if(r=uV(r,t,Cr),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);Pt===0&&(Pt=5)}function Ta(e,t,r){var n=Ce,i=Yr.transition;try{Yr.transition=null,Ce=1,yV(e,t,r,n)}finally{Yr.transition=i,Ce=n}return null}function yV(e,t,r,n){do Ho();while(Ui!==null);if(Ee&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(JM(e,a),e===Ft&&(ht=Ft=null,Qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qc||(qc=!0,hC(Ud,function(){return Ho(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Yr.transition,Yr.transition=null;var o=Ce;Ce=1;var s=Ee;Ee|=4,I0.current=null,fV(e,r),iC(r,e),VL(Xg),qd=!!Yg,Xg=Yg=null,e.current=r,hV(r),BM(),Ee=s,Ce=o,Yr.transition=a}else e.current=r;if(qc&&(qc=!1,Ui=e,sf=i),a=e.pendingLanes,a===0&&(Qi=null),KM(r.stateNode),Ar(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(of)throw of=!1,e=vv,vv=null,e;return sf&1&&e.tag!==0&&Ho(),a=e.pendingLanes,a&1?e===yv?Fl++:(Fl=0,yv=e):Fl=0,ma(),null}function Ho(){if(Ui!==null){var e=qT(sf),t=Yr.transition,r=Ce;try{if(Yr.transition=null,Ce=16>e?16:e,Ui===null)var n=!1;else{if(e=Ui,Ui=null,sf=0,Ee&6)throw Error(W(331));var i=Ee;for(Ee|=4,J=e.current;J!==null;){var a=J,o=a.child;if(J.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ll(8,c,a)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(tC(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}J=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ll(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}var b=e.current;for(J=b;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=b;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Th(9,s)}}catch(j){nt(s,s.return,j)}if(s===o){J=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,J=I;break e}J=s.return}}if(Ee=i,ma(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(wh,e)}catch{}n=!0}return n}finally{Ce=r,Yr.transition=t}}return!1}function DE(e,t,r){t=as(r,t),t=qI(e,t,1),e=Gi(e,t,1),t=fr(),e!==null&&(ku(e,1,t),Ar(e,t))}function nt(e,t,r){if(e.tag===3)DE(e,e,r);else for(;t!==null;){if(t.tag===3){DE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qi===null||!Qi.has(n))){e=as(r,e),e=WI(t,e,1),t=Gi(t,e,1),e=fr(),t!==null&&(ku(t,1,e),Ar(t,e));break}}t=t.return}}function wV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(Qt&r)===r&&(Pt===4||Pt===3&&(Qt&130023424)===Qt&&500>lt()-O0?Fa(e,0):C0|=r),Ar(e,t)}function dC(e,t){t===0&&(e.mode&1?(t=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):t=1);var r=fr();e=oi(e,t),e!==null&&(ku(e,t,r),Ar(e,r))}function _V(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dC(e,r)}function xV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),dC(e,r)}var fC;fC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,lV(e,t,r);xr=!!(e.flags&131072)}else xr=!1,He&&t.flags&1048576&&gI(t,Xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sd(e,t),e=t.pendingProps;var i=ts(t,sr.current);Ko(t,r),i=E0(null,t,n,e,i,r);var a=S0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(n)?(a=!0,Qd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y0(t),i.updater=Ph,t.stateNode=i,i._reactInternals=t,ov(t,n,e,r),t=uv(null,t,n,!0,a,r)):(t.tag=0,He&&a&&d0(t),ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=EV(n),e=sn(n,e),i){case 0:t=lv(null,t,n,e,r);break e;case 1:t=AE(null,t,n,e,r);break e;case 11:t=EE(null,t,n,e,r);break e;case 14:t=SE(null,t,n,sn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sn(n,i),lv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sn(n,i),AE(e,t,n,i,r);case 3:e:{if(QI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,bI(e,t),ef(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=as(Error(W(423)),t),t=PE(e,t,n,r,i);break e}else if(n!==i){i=as(Error(W(424)),t),t=PE(e,t,n,r,i);break e}else for(Nr=Hi(t.stateNode.containerInfo.firstChild),Dr=t,He=!0,un=null,r=_I(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rs(),n===i){t=si(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return EI(t),e===null&&nv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Jg(n,i)?o=null:a!==null&&Jg(n,a)&&(t.flags|=32),GI(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&nv(t),null;case 13:return YI(e,t,r);case 4:return w0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ns(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sn(n,i),EE(e,t,n,i,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ve(Jd,n._currentValue),n._currentValue=o,a!==null)if(gn(a.value,o)){if(a.children===i.children&&!Er.current){t=si(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ei(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),iv(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),iv(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ko(t,r),i=Jr(i),n=n(i),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,i=sn(n,t.pendingProps),i=sn(n.type,i),SE(e,t,n,i,r);case 15:return KI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sn(n,i),Sd(e,t),t.tag=1,Sr(n)?(e=!0,Qd(t)):e=!1,Ko(t,r),BI(t,n,i),ov(t,n,i,r),uv(null,t,n,!0,e,r);case 19:return XI(e,t,r);case 22:return HI(e,t,r)}throw Error(W(156,t.tag))};function hC(e,t){return $T(e,t)}function bV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,r,n){return new bV(e,t,r,n)}function R0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EV(e){if(typeof e=="function")return R0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zy)return 11;if(e===e0)return 14}return 2}function Xi(e,t){var r=e.alternate;return r===null?(r=Gr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Td(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")R0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Co:return $a(r.children,i,a,t);case Jy:o=8,i|=8;break;case Og:return e=Gr(12,r,t,i|2),e.elementType=Og,e.lanes=a,e;case jg:return e=Gr(13,r,t,i),e.elementType=jg,e.lanes=a,e;case Ng:return e=Gr(19,r,t,i),e.elementType=Ng,e.lanes=a,e;case ET:return Ch(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xT:o=10;break e;case bT:o=9;break e;case Zy:o=11;break e;case e0:o=14;break e;case Ri:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Gr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function $a(e,t,r,n){return e=Gr(7,e,n,t),e.lanes=r,e}function Ch(e,t,r,n){return e=Gr(22,e,n,t),e.elementType=ET,e.lanes=r,e.stateNode={isHidden:!1},e}function Hm(e,t,r){return e=Gr(6,e,null,t),e.lanes=r,e}function Gm(e,t,r){return t=Gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D0(e,t,r,n,i,a,o,s,l){return e=new SV(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Gr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(a),e}function AV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pC(e){if(!e)return ia;e=e._reactInternals;e:{if(oo(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Sr(r))return pI(e,r,t)}return t}function mC(e,t,r,n,i,a,o,s,l){return e=D0(r,n,!0,e,i,a,o,s,l),e.context=pC(null),r=e.current,n=fr(),i=Yi(r),a=ei(n,i),a.callback=t??null,Gi(r,a,i),e.current.lanes=i,ku(e,i,n),Ar(e,n),e}function Oh(e,t,r,n){var i=t.current,a=fr(),o=Yi(i);return r=pC(r),t.context===null?t.context=r:t.pendingContext=r,t=ei(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gi(i,t,o),e!==null&&(pn(e,i,o,a),xd(e,i,o)),o}function uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ME(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function M0(e,t){ME(e,t),(e=e.alternate)&&ME(e,t)}function PV(){return null}var gC=typeof reportError=="function"?reportError:function(e){console.error(e)};function L0(e){this._internalRoot=e}jh.prototype.render=L0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Oh(e,t,null,null)};jh.prototype.unmount=L0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qa(function(){Oh(null,e,null,null)}),t[ai]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=HT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vi.length&&t!==0&&t<Vi[r].priority;r++);Vi.splice(r,0,e),r===0&&QT(e)}};function V0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LE(){}function TV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=uf(o);a.call(u)}}var o=mC(t,n,e,0,null,!1,!1,"",LE);return e._reactRootContainer=o,e[ai]=o.current,eu(e.nodeType===8?e.parentNode:e),Qa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=uf(l);s.call(u)}}var l=D0(e,0,!1,null,null,!1,!1,"",LE);return e._reactRootContainer=l,e[ai]=l.current,eu(e.nodeType===8?e.parentNode:e),Qa(function(){Oh(t,l,r,n)}),l}function kh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=uf(o);s.call(l)}}Oh(t,o,e,i)}else o=TV(r,t,e,i,n);return uf(o)}WT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=El(t.pendingLanes);r!==0&&(n0(t,r|1),Ar(t,lt()),!(Ee&6)&&(os=lt()+500,ma()))}break;case 13:Qa(function(){var n=oi(e,1);if(n!==null){var i=fr();pn(n,e,1,i)}}),M0(e,1)}};i0=function(e){if(e.tag===13){var t=oi(e,134217728);if(t!==null){var r=fr();pn(t,e,134217728,r)}M0(e,134217728)}};KT=function(e){if(e.tag===13){var t=Yi(e),r=oi(e,t);if(r!==null){var n=fr();pn(r,e,t,n)}M0(e,t)}};HT=function(){return Ce};GT=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};Ug=function(e,t,r){switch(t){case"input":if(Dg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Eh(n);if(!i)throw Error(W(90));AT(n),Dg(n,i)}}}break;case"textarea":TT(e,r);break;case"select":t=r.value,t!=null&&Uo(e,!!r.multiple,t,!1)}};RT=j0;DT=Qa;var IV={usingClientEntryPoint:!1,Events:[Du,ko,Eh,NT,kT,j0]},dl={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CV={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VT(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||PV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{wh=Wc.inject(CV),Nn=Wc}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IV;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V0(t))throw Error(W(200));return AV(e,t,null,r)};Fr.createRoot=function(e,t){if(!V0(e))throw Error(W(299));var r=!1,n="",i=gC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=D0(e,1,!1,null,null,r,!1,n,i),e[ai]=t.current,eu(e.nodeType===8?e.parentNode:e),new L0(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=VT(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return Qa(e)};Fr.hydrate=function(e,t,r){if(!Nh(t))throw Error(W(200));return kh(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!V0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=gC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mC(t,null,e,1,r??null,i,!1,a,o),e[ai]=t.current,eu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jh(t)};Fr.render=function(e,t,r){if(!Nh(t))throw Error(W(200));return kh(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!Nh(e))throw Error(W(40));return e._reactRootContainer?(Qa(function(){kh(null,null,e,!1,function(){e._reactRootContainer=null,e[ai]=null})}),!0):!1};Fr.unstable_batchedUpdates=j0;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return kh(e,t,r,!1,n)};Fr.version="18.3.1-next-f1338f8080-20240426";function vC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vC)}catch(e){console.error(e)}}vC(),vT.exports=Fr;var Fn=vT.exports,VE=Fn;Ig.createRoot=VE.createRoot,Ig.hydrateRoot=VE.hydrateRoot;const FE="incidents",$E="automation_rules",zE="system_tags",OV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ae={getIncidents:()=>{try{const e=localStorage.getItem(FE);if(!e)return[];const t=JSON.parse(e);return OV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(FE,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ae.getIncidents();return t.push(e),ae.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ae.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ae.saveIncidents(r)),r},deleteIncident:e=>{const t=ae.getIncidents().filter(r=>r.id!==e);return ae.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ae.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ae.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r)),r},addTag:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r),ae.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(zE);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(zE,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ae.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ae.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ae.getSystemTags().filter(r=>r!==e);return ae.saveSystemTags(t),t},getAllTags:()=>ae.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ae.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ae.saveIncidents(t),ae.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ae.getIncidents(),a=i.find(o=>o.id===e);if(a){const o={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(o)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(o)),a.updatedAt=new Date().toISOString(),ae.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ae.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ae.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ae.getIncidents(),o=a.find(s=>s.id===e);if(o){let s=t==="qa2"?o.prQA2List:o.prMainList;if(s){const l=s.findIndex(u=>u.id===r);l!==-1&&(s[l]={...s[l],link:n,description:i},o.updatedAt=new Date().toISOString(),ae.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem($E);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem($E,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ae.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ae.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ae.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ae.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ae.getAutomationRules().filter(r=>r.id!==e);return ae.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ae.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(o=>{const s=n[o.field];switch(o.operator){case"equals":return s===o.value;case"not-equals":return s!==o.value;case"greater-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>o.value:!1;case"less-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<o.value:!1;case"contains":return o.field==="has-tag"&&n.tags?n.tags.includes(o.value):!1;default:return!1}})&&i.actions.forEach(o=>{switch(o.type){case"set-priority":n.priority=o.value;break;case"set-status":n.status=o.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(o.value)||n.tags.push(o.value);break;case"assign-to":n.assignedTo=o.value;break}})}),n}},UE="users",Kc="current_user",ot={getUsers:()=>{const e=localStorage.getItem(UE);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(UE,JSON.stringify(e))},createUser:(e,t,r)=>{const n=ot.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),ot.saveUsers(n),i},login:(e,t)=>{const n=ot.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Kc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Kc)},getCurrentUser:()=>{const e=localStorage.getItem(Kc);return e?JSON.parse(e):null},isAuthenticated:()=>ot.getCurrentUser()!==null,initializeDefaultUser:()=>{ot.getUsers().length===0&&ot.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=ot.getUsers(),n=r.findIndex(o=>o.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(o=>o.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,ot.saveUsers(r);const a=ot.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Kc,JSON.stringify(i)),i},deleteUser:e=>{const t=ot.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");ot.saveUsers(r)}},jV=()=>{};var BE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},NV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},wC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new kV;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(e){const t=yC(e);return wC.encodeByteArray(t,!0)},cf=function(e){return RV(e).replace(/\./g,"")},DV=function(e){try{return wC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=()=>MV().__FIREBASE_DEFAULTS__,VV=()=>{if(typeof process>"u"||typeof BE>"u")return;const e=BE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},FV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&DV(e[1]);return t&&JSON.parse(t)},F0=()=>{try{return jV()||LV()||VV()||FV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$V=e=>{var t,r;return(r=(t=F0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},zV=e=>{const t=$V(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},_C=()=>{var e;return(e=F0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BV(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cf(JSON.stringify(r)),cf(JSON.stringify(o)),""].join(".")}const $l={};function WV(){const e={prod:[],emulator:[]};for(const t of Object.keys($l))$l[t]?e.emulator.push(t):e.prod.push(t);return e}function KV(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let qE=!1;function HV(e,t){if(typeof window>"u"||typeof document>"u"||!$0(window.location.host)||$l[e]===t||$l[e]||qE)return;$l[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=WV().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{qE=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=KV(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),y=r("learnmore"),w=document.getElementById(y)||document.createElement("a"),x=r("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),c(w,y);const I=u();l(b,x),E.append(b,g,w,I),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QV(){var t;const e=(t=F0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YV(){return!QV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XV(){try{return typeof indexedDB=="object"}catch{return!1}}function JV(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="FirebaseError";class Ts extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=ZV,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xC.prototype.create)}}class xC{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?e4(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,s,n)}}function e4(e,t){return e.replace(t4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const t4=/\{\$([^}]+)}/g;function df(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(WE(a)&&WE(o)){if(!df(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function WE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e){return e&&e._delegate?e._delegate:e}class uu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new UV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(i4(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:n4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n4(e){return e===Ia?void 0:e}function i4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new r4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));const o4={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},s4=be.INFO,l4={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},u4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=l4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bC{constructor(t){this.name=t,this._logLevel=s4,this._logHandler=u4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?o4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const c4=(e,t)=>t.some(r=>e instanceof r);let KE,HE;function d4(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f4(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,xv=new WeakMap,SC=new WeakMap,Qm=new WeakMap,z0=new WeakMap;function h4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Ji(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&EC.set(r,e)}).catch(()=>{}),z0.set(t,e),t}function p4(e){if(xv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});xv.set(e,t)}let bv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return xv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ji(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function m4(e){bv=e(bv)}function g4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Ym(this),t,...r);return SC.set(n,t.sort?t.sort():[t]),Ji(n)}:f4().includes(e)?function(...t){return e.apply(Ym(this),t),Ji(EC.get(this))}:function(...t){return Ji(e.apply(Ym(this),t))}}function v4(e){return typeof e=="function"?g4(e):(e instanceof IDBTransaction&&p4(e),c4(e,d4())?new Proxy(e,bv):e)}function Ji(e){if(e instanceof IDBRequest)return h4(e);if(Qm.has(e))return Qm.get(e);const t=v4(e);return t!==e&&(Qm.set(e,t),z0.set(t,e)),t}const Ym=e=>z0.get(e);function y4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Ji(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const w4=["get","getKey","getAll","getAllKeys","count"],_4=["put","add","delete","clear"],Xm=new Map;function GE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Xm.get(t))return Xm.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=_4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||w4.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Xm.set(t,a),a}m4(e=>({...e,get:(t,r,n)=>GE(t,r)||e.get(t,r,n),has:(t,r)=>!!GE(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(b4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function b4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ev="@firebase/app",QE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new bC("@firebase/app"),E4="@firebase/app-compat",S4="@firebase/analytics-compat",A4="@firebase/analytics",P4="@firebase/app-check-compat",T4="@firebase/app-check",I4="@firebase/auth",C4="@firebase/auth-compat",O4="@firebase/database",j4="@firebase/data-connect",N4="@firebase/database-compat",k4="@firebase/functions",R4="@firebase/functions-compat",D4="@firebase/installations",M4="@firebase/installations-compat",L4="@firebase/messaging",V4="@firebase/messaging-compat",F4="@firebase/performance",$4="@firebase/performance-compat",z4="@firebase/remote-config",U4="@firebase/remote-config-compat",B4="@firebase/storage",q4="@firebase/storage-compat",W4="@firebase/firestore",K4="@firebase/ai",H4="@firebase/firestore-compat",G4="firebase",Q4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="[DEFAULT]",Y4={[Ev]:"fire-core",[E4]:"fire-core-compat",[A4]:"fire-analytics",[S4]:"fire-analytics-compat",[T4]:"fire-app-check",[P4]:"fire-app-check-compat",[I4]:"fire-auth",[C4]:"fire-auth-compat",[O4]:"fire-rtdb",[j4]:"fire-data-connect",[N4]:"fire-rtdb-compat",[k4]:"fire-fn",[R4]:"fire-fn-compat",[D4]:"fire-iid",[M4]:"fire-iid-compat",[L4]:"fire-fcm",[V4]:"fire-fcm-compat",[F4]:"fire-perf",[$4]:"fire-perf-compat",[z4]:"fire-rc",[U4]:"fire-rc-compat",[B4]:"fire-gcs",[q4]:"fire-gcs-compat",[W4]:"fire-fst",[H4]:"fire-fst-compat",[K4]:"fire-vertex","fire-js":"fire-js",[G4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map,X4=new Map,Av=new Map;function YE(e,t){try{e.container.addComponent(t)}catch(r){ui.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function hf(e){const t=e.name;if(Av.has(t))return ui.debug(`There were multiple attempts to register component ${t}.`),!1;Av.set(t,e);for(const r of ff.values())YE(r,e);for(const r of X4.values())YE(r,e);return!0}function J4(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Z4(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new xC("app","Firebase",e3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=Q4;function AC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Sv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(r||(r=_C()),!r)throw Zi.create("no-options");const a=ff.get(i);if(a){if(df(r,a.options)&&df(n,a.config))return a;throw Zi.create("duplicate-app",{appName:i})}const o=new a4(i);for(const l of Av.values())o.addComponent(l);const s=new t3(r,n,o);return ff.set(i,s),s}function n3(e=Sv){const t=ff.get(e);if(!t&&e===Sv&&_C())return AC();if(!t)throw Zi.create("no-app",{appName:e});return t}function Go(e,t,r){let n=Y4[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ui.warn(o.join(" "));return}hf(new uu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="firebase-heartbeat-database",a3=1,cu="firebase-heartbeat-store";let Jm=null;function PC(){return Jm||(Jm=y4(i3,a3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cu)}catch(r){console.warn(r)}}}}).catch(e=>{throw Zi.create("idb-open",{originalErrorMessage:e.message})})),Jm}async function o3(e){try{const r=(await PC()).transaction(cu),n=await r.objectStore(cu).get(TC(e));return await r.done,n}catch(t){if(t instanceof Ts)ui.warn(t.message);else{const r=Zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ui.warn(r.message)}}}async function XE(e,t){try{const n=(await PC()).transaction(cu,"readwrite");await n.objectStore(cu).put(t,TC(e)),await n.done}catch(r){if(r instanceof Ts)ui.warn(r.message);else{const n=Zi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ui.warn(n.message)}}}function TC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1024,l3=30;class u3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new d3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=JE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>l3){const o=f3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ui.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=JE(),{heartbeatsToSend:n,unsentEntries:i}=c3(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ui.warn(r),""}}}function JE(){return new Date().toISOString().substring(0,10)}function c3(e,t=s3){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),ZE(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZE(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class d3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XV()?JV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await o3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function ZE(e){return cf(JSON.stringify({version:2,heartbeats:e})).length}function f3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(e){hf(new uu("platform-logger",t=>new x4(t),"PRIVATE")),hf(new uu("heartbeat",t=>new u3(t),"PRIVATE")),Go(Ev,QE,e),Go(Ev,QE,"esm2020"),Go("fire-js","")}h3("");var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,IC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(D,T,k){for(var O=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)O[Q-2]=arguments[Q];return A.prototype[T].apply(D,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,C){C||(C=0);const D=Array(16);if(typeof A=="string")for(var T=0;T<16;++T)D[T]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(T=0;T<16;++T)D[T]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],T=S.g[2];let k=S.g[3],O;O=A+(k^C&(T^k))+D[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[2]+606105819&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[3]+3250441966&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[6]+2821735955&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[7]+4249261313&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[10]+4294925233&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[11]+2304563134&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[14]+2792965006&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[15]+1236535329&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(T^k&(C^T))+D[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[11]+643717713&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[0]+3921069994&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[15]+3634488961&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[4]+3889429448&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[3]+4107603335&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[8]+1163531501&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[7]+1735328473&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[12]+2368359562&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(C^T^k)+D[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[11]+1839030562&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[14]+4259657740&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[7]+4139469664&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[10]+3200236656&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[3]+3572445317&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[6]+76029189&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[15]+530742520&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[2]+3299628645&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(T^(C|~k))+D[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[14]+2878612391&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[5]+4237533241&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[10]+4293915773&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[1]+2240044497&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[6]+2734768916&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[13]+1309151649&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[2]+718787259&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+k&4294967295}n.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,D=this.C;let T=this.h,k=0;for(;k<A;){if(T==0)for(;k<=C;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(D[T++]=S.charCodeAt(k++),T==this.blockSize){i(this,D),T=0;break}}else for(;k<A;)if(D[T++]=S[k++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=A},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)S[A++]=this.g[C]>>>D&255;return S};function a(S,A){var C=s;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function o(S,A){this.h=A;const C=[];let D=!0;for(let T=S.length-1;T>=0;T--){const k=S[T]|0;D&&k==A||(C[T]=k,D=!1)}this.g=C}var s={};function l(S){return-128<=S&&S<128?a(S,function(A){return new o([A|0],A<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(S<0)return w(u(-S));const A=[];let C=1;for(let D=0;S>=C;D++)A[D]=S/C|0,C*=4294967296;return new o(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return w(c(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(A,8));let D=d;for(let k=0;k<S.length;k+=8){var T=Math.min(8,S.length-k);const O=parseInt(S.substring(k,k+T),A);T<8?(T=u(Math.pow(A,T)),D=D.j(T).add(u(O))):(D=D.j(C),D=D.add(u(O)))}return D}var d=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-w(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);S+=(D>=0?D:4294967296+D)*A,A*=4294967296}return S},e.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+w(this).toString(S);const A=u(Math.pow(S,6));var C=this;let D="";for(;;){const T=I(C,A).g;C=x(C,T.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=T,g(C))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},e.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function y(S){return S.h==-1}e.l=function(S){return S=x(this,S),y(S)?-1:g(S)?0:1};function w(S){const A=S.g.length,C=[];for(let D=0;D<A;D++)C[D]=~S.g[D];return new o(C,~S.h).add(p)}e.abs=function(){return y(this)?w(this):this},e.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let D=0;for(let T=0;T<=A;T++){let k=D+(this.i(T)&65535)+(S.i(T)&65535),O=(k>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);D=O>>>16,k&=65535,O&=65535,C[T]=O<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,A){return S.add(w(A))}e.j=function(S){if(g(this)||g(S))return d;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<S.g.length;T++){const k=this.i(D)>>>16,O=this.i(D)&65535,Q=S.i(T)>>>16,se=S.i(T)&65535;C[2*D+2*T]+=O*se,b(C,2*D+2*T),C[2*D+2*T+1]+=k*se,b(C,2*D+2*T+1),C[2*D+2*T+1]+=O*Q,b(C,2*D+2*T+1),C[2*D+2*T+2]+=k*Q,b(C,2*D+2*T+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new o(C,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function E(S,A){this.g=S,this.h=A}function I(S,A){if(g(A))throw Error("division by zero");if(g(S))return new E(d,d);if(y(S))return A=I(w(S),A),new E(w(A.g),w(A.h));if(y(A))return A=I(S,w(A)),new E(w(A.g),A.h);if(S.g.length>30){if(y(S)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var C=p,D=A;D.l(S)<=0;)C=j(C),D=j(D);var T=R(C,1),k=R(D,1);for(D=R(D,2),C=R(C,2);!g(D);){var O=k.add(D);O.l(S)<=0&&(T=T.add(C),k=O),D=R(D,1),C=R(C,1)}return A=x(S,T.j(A)),new E(T,A)}for(T=d;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=u(C),O=k.j(A);y(O)||O.l(S)>0;)C-=D,k=u(C),O=k.j(A);g(k)&&(k=p),T=T.add(k),S=x(S,O)}return new E(T,S)}e.B=function(S){return I(this,S).h},e.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)&S.i(D);return new o(C,this.h&S.h)},e.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)|S.i(D);return new o(C,this.h|S.h)},e.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)^S.i(D);return new o(C,this.h^S.h)};function j(S){const A=S.g.length+1,C=[];for(let D=0;D<A;D++)C[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(C,S.h)}function R(S,A){const C=A>>5;A%=32;const D=S.g.length-C,T=[];for(let k=0;k<D;k++)T[k]=A>0?S.i(k+C)>>>A|S.i(k+C+1)<<32-A:S.i(k+C);return new o(T,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,IC=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ea=o}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CC,Al,OC,Id,Pv,jC,NC,kC;(function(){var e,t=Object.defineProperty;function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var v=0;v<f.length;++v){var P=f[v];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,v){if(v)e:{var P=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var M=f[N];if(!(M in P))break e;P=P[M]}f=f[f.length-1],N=P[f],v=v(N),v!=N&&v!=null&&t(P,f,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(v){var P=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&P.push([N,v[N]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function l(f,v,P){return f.call.apply(f.bind,arguments)}function u(f,v,P){return u=l,u.apply(null,arguments)}function c(f,v){var P=Array.prototype.slice.call(arguments,1);return function(){var N=P.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function d(f,v){function P(){}P.prototype=v.prototype,f.Z=v.prototype,f.prototype=new P,f.prototype.constructor=f,f.Ob=function(N,M,V){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return v.prototype[M].apply(N,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function m(f){const v=f.length;if(v>0){const P=Array(v);for(let N=0;N<v;N++)P[N]=f[N];return P}return[]}function g(f,v){for(let N=1;N<arguments.length;N++){const M=arguments[N];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=f.length||0;const V=M.length||0;f.length=P+V;for(let G=0;G<V;G++)f[P+G]=M[G]}else f.push(M)}}class y{constructor(v,P){this.i=v,this.j=P,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(f){o.setTimeout(()=>{throw f},0)}function x(){var f=S;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class b{constructor(){this.h=this.g=null}add(v,P){const N=E.get();N.set(v,P),this.h?this.h.next=N:this.g=N,this.h=N}}var E=new y(()=>new I,f=>f.reset());class I{constructor(){this.next=this.g=this.h=null}set(v,P){this.h=v,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let j,R=!1,S=new b,A=()=>{const f=Promise.resolve(void 0);j=()=>{f.then(C)}};function C(){for(var f;f=x();){try{f.h.call(f.g)}catch(P){w(P)}var v=E;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}R=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,v),o.removeEventListener("test",P,v)}catch{}return f}();function O(f){return/^[\s\xa0]*$/.test(f)}function Q(f,v){T.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}d(Q,T),Q.prototype.init=function(f,v){const P=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(P=="mouseover"?v=f.fromElement:P=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),fe=0;function ue(f,v,P,N,M){this.listener=f,this.proxy=null,this.src=v,this.type=P,this.capture=!!N,this.ha=M,this.key=++fe,this.da=this.fa=!1}function U(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,v,P){for(const N in f)v.call(P,f[N],N,f)}function re(f,v){for(const P in f)v.call(void 0,f[P],P,f)}function me(f){const v={};for(const P in f)v[P]=f[P];return v}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(f,v){let P,N;for(let M=1;M<arguments.length;M++){N=arguments[M];for(P in N)f[P]=N[P];for(let V=0;V<_e.length;V++)P=_e[V],Object.prototype.hasOwnProperty.call(N,P)&&(f[P]=N[P])}}function je(f){this.src=f,this.g={},this.h=0}je.prototype.add=function(f,v,P,N,M){const V=f.toString();f=this.g[V],f||(f=this.g[V]=[],this.h++);const G=wt(f,v,N,M);return G>-1?(v=f[G],P||(v.fa=!1)):(v=new ue(v,this.src,V,!!N,M),v.fa=P,f.push(v)),v};function Bt(f,v){const P=v.type;if(P in f.g){var N=f.g[P],M=Array.prototype.indexOf.call(N,v,void 0),V;(V=M>=0)&&Array.prototype.splice.call(N,M,1),V&&(U(v),f.g[P].length==0&&(delete f.g[P],f.h--))}}function wt(f,v,P,N){for(let M=0;M<f.length;++M){const V=f[M];if(!V.da&&V.listener==v&&V.capture==!!P&&V.ha==N)return M}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),qn={};function B(f,v,P,N,M){if(Array.isArray(v)){for(let V=0;V<v.length;V++)B(f,v[V],P,N,M);return null}return P=_t(P),f&&f[se]?f.J(v,P,s(N)?!!N.capture:!1,M):he(f,v,P,!1,N,M)}function he(f,v,P,N,M,V){if(!v)throw Error("Invalid event type");const G=s(M)?!!M.capture:!!M;let pe=le(f);if(pe||(f[$e]=pe=new je(f)),P=pe.add(v,P,N,G,V),P.proxy)return P;if(N=ve(),P.proxy=N,N.src=f,N.listener=P,f.addEventListener)k||(M=G),M===void 0&&(M=!1),f.addEventListener(v.toString(),N,M);else if(f.attachEvent)f.attachEvent(H(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ve(){function f(P){return v.call(f.src,f.listener,P)}const v=ie;return f}function q(f,v,P,N,M){if(Array.isArray(v))for(var V=0;V<v.length;V++)q(f,v[V],P,N,M);else N=s(N)?!!N.capture:!!N,P=_t(P),f&&f[se]?(f=f.i,V=String(v).toString(),V in f.g&&(v=f.g[V],P=wt(v,P,N,M),P>-1&&(U(v[P]),Array.prototype.splice.call(v,P,1),v.length==0&&(delete f.g[V],f.h--)))):f&&(f=le(f))&&(v=f.g[v.toString()],f=-1,v&&(f=wt(v,P,N,M)),(P=f>-1?v[f]:null)&&$(P))}function $(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[se])Bt(v.i,f);else{var P=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(P,N,f.capture):v.detachEvent?v.detachEvent(H(P),N):v.addListener&&v.removeListener&&v.removeListener(N),(P=le(v))?(Bt(P,f),P.h==0&&(P.src=null,v[$e]=null)):U(f)}}}function H(f){return f in qn?qn[f]:qn[f]="on"+f}function ie(f,v){if(f.da)f=!0;else{v=new Q(v,this);const P=f.listener,N=f.ha||f.src;f.fa&&$(f),f=P.call(N,v)}return f}function le(f){return f=f[$e],f instanceof je?f:null}var Te="__closure_events_fn_"+(Math.random()*1e9>>>0);function _t(f){return typeof f=="function"?f:(f[Te]||(f[Te]=function(v){return f.handleEvent(v)}),f[Te])}function De(){D.call(this),this.i=new je(this),this.M=this,this.G=null}d(De,D),De.prototype[se]=!0,De.prototype.removeEventListener=function(f,v,P,N){q(this,f,v,P,N)};function xt(f,v){var P,N=f.G;if(N)for(P=[];N;N=N.G)P.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new T(v,f);else if(v instanceof T)v.target=v.target||f;else{var M=v;v=new T(N,f),yt(v,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=v.g=P[G],M=vc(V,N,!0,v)&&M;if(V=v.g=f,M=vc(V,N,!0,v)&&M,M=vc(V,N,!1,v)&&M,P)for(G=0;G<P.length;G++)V=v.g=P[G],M=vc(V,N,!1,v)&&M}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const P=f.g[v];for(let N=0;N<P.length;N++)U(P[N]);delete f.g[v],f.h--}}this.G=null},De.prototype.J=function(f,v,P,N){return this.i.add(String(f),v,!1,P,N)},De.prototype.K=function(f,v,P,N){return this.i.add(String(f),v,!0,P,N)};function vc(f,v,P,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let M=!0;for(let V=0;V<v.length;++V){const G=v[V];if(G&&!G.da&&G.capture==P){const pe=G.listener,bt=G.ha||G.src;G.fa&&Bt(f.i,G),M=pe.call(bt,N)!==!1&&M}}return M&&!N.defaultPrevented}function CD(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:o.setTimeout(f,v||0)}function Mx(f){f.g=CD(()=>{f.g=null,f.i&&(f.i=!1,Mx(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class OD extends D{constructor(v,P){super(),this.m=v,this.l=P,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Mx(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(f){D.call(this),this.h=f,this.g={}}d(Us,D);var Lx=[];function Vx(f){K(f.g,function(v,P){this.g.hasOwnProperty(P)&&$(v)},f),f.g={}}Us.prototype.N=function(){Us.Z.N.call(this),Vx(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var am=o.JSON.stringify,jD=o.JSON.parse,ND=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Fx(){}function $x(){}var Bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function om(){T.call(this,"d")}d(om,T);function sm(){T.call(this,"c")}d(sm,T);var xa={},zx=null;function yc(){return zx=zx||new De}xa.Ia="serverreachability";function Ux(f){T.call(this,xa.Ia,f)}d(Ux,T);function qs(f){const v=yc();xt(v,new Ux(v))}xa.STAT_EVENT="statevent";function Bx(f,v){T.call(this,xa.STAT_EVENT,f),this.stat=v}d(Bx,T);function lr(f){const v=yc();xt(v,new Bx(v,f))}xa.Ja="timingevent";function qx(f,v){T.call(this,xa.Ja,f),this.size=v}d(qx,T);function Ws(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},v)}function Ks(){this.g=!0}Ks.prototype.ua=function(){this.g=!1};function kD(f,v,P,N,M,V){f.info(function(){if(f.g)if(V){var G="",pe=V.split("&");for(let Ne=0;Ne<pe.length;Ne++){var bt=pe[Ne].split("=");if(bt.length>1){const Nt=bt[0];bt=bt[1];const Pn=Nt.split("_");G=Pn.length>=2&&Pn[1]=="type"?G+(Nt+"="+bt+"&"):G+(Nt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+N+") [attempt "+M+"]: "+v+`
`+P+`
`+G})}function RD(f,v,P,N,M,V,G){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+M+"]: "+v+`
`+P+`
`+V+" "+G})}function mo(f,v,P,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+MD(f,P)+(N?" "+N:"")})}function DD(f,v){f.info(function(){return"TIMEOUT: "+v})}Ks.prototype.info=function(){};function MD(f,v){if(!f.g)return v;if(!v)return null;try{const V=JSON.parse(v);if(V){for(f=0;f<V.length;f++)if(Array.isArray(V[f])){var P=V[f];if(!(P.length<2)){var N=P[1];if(Array.isArray(N)&&!(N.length<1)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<N.length;G++)N[G]=""}}}}return am(V)}catch{return v}}var wc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kx;function lm(){}d(lm,Fx),lm.prototype.g=function(){return new XMLHttpRequest},Kx=new lm;function Hs(f){return encodeURIComponent(String(f))}function LD(f){var v=1;f=f.split(":");const P=[];for(;v>0&&f.length;)P.push(f.shift()),v--;return f.length&&P.push(f.join(":")),P}function Ti(f,v,P,N){this.j=f,this.i=v,this.l=P,this.S=N||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hx}function Hx(){this.i=null,this.g="",this.h=!1}var Gx={},um={};function cm(f,v,P){f.M=1,f.A=xc(An(v)),f.u=P,f.R=!0,Qx(f,null)}function Qx(f,v){f.F=Date.now(),_c(f),f.B=An(f.A);var P=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),lb(P.i,"t",N),f.C=0,P=f.j.L,f.h=new Hx,f.g=Pb(f.j,P?v:null,!f.u),f.P>0&&(f.O=new OD(u(f.Y,f,f.g),f.P)),v=f.V,P=f.g,N=f.ba;var M="readystatechange";Array.isArray(M)||(M&&(Lx[0]=M.toString()),M=Lx);for(let V=0;V<M.length;V++){const G=B(P,M[V],N||v.handleEvent,!1,v.h||v);if(!G)break;v.g[G.key]=G}v=f.J?me(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),qs(),kD(f.i,f.v,f.B,f.l,f.S,f.u)}Ti.prototype.ba=function(f){f=f.target;const v=this.O;v&&Oi(f)==3?v.j():this.Y(f)},Ti.prototype.Y=function(f){try{if(f==this.g)e:{const pe=Oi(this.g),bt=this.g.ya(),Ne=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||mb(this.g)))){this.K||pe!=4||bt==7||(bt==8||Ne<=0?qs(3):qs(2)),dm(this);var v=this.g.ca();this.X=v;var P=VD(this);if(this.o=v==200,RD(this.i,this.v,this.B,this.l,this.S,pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,M=this.g;if((N=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var V=N;break t}}V=null}if(f=V)mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fm(this,f);else{this.o=!1,this.m=3,lr(12),ba(this),Gs(this);break e}}if(this.R){f=!0;let Nt;for(;!this.K&&this.C<P.length;)if(Nt=FD(this,P),Nt==um){pe==4&&(this.m=4,lr(14),f=!1),mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==Gx){this.m=4,lr(15),mo(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else mo(this.i,this.l,Nt,null),fm(this,Nt);if(Yx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||P.length!=0||this.h.h||(this.m=1,lr(16),f=!1),this.o=this.o&&f,!f)mo(this.i,this.l,P,"[Invalid Chunked Response]"),ba(this),Gs(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),_m(G),G.P=!0,lr(11))}}else mo(this.i,this.l,P,null),fm(this,P);pe==4&&ba(this),this.o&&!this.K&&(pe==4?bb(this.j,this):(this.o=!1,_c(this)))}else ZD(this.g),v==400&&P.indexOf("Unknown SID")>0?(this.m=3,lr(12)):(this.m=0,lr(13)),ba(this),Gs(this)}}}catch{}finally{}};function VD(f){if(!Yx(f))return f.g.la();const v=mb(f.g);if(v==="")return"";let P="";const N=v.length,M=Oi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ba(f),Gs(f),"";f.h.i=new o.TextDecoder}for(let V=0;V<N;V++)f.h.h=!0,P+=f.h.i.decode(v[V],{stream:!(M&&V==N-1)});return v.length=0,f.h.g+=P,f.C=0,f.h.g}function Yx(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function FD(f,v){var P=f.C,N=v.indexOf(`
`,P);return N==-1?um:(P=Number(v.substring(P,N)),isNaN(P)?Gx:(N+=1,N+P>v.length?um:(v=v.slice(N,N+P),f.C=N+P,v)))}Ti.prototype.cancel=function(){this.K=!0,ba(this)};function _c(f){f.T=Date.now()+f.H,Xx(f,f.H)}function Xx(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ws(u(f.aa,f),v)}function dm(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(DD(this.i,this.B),this.M!=2&&(qs(),lr(17)),ba(this),this.m=2,Gs(this)):Xx(this,this.T-f)};function Gs(f){f.j.I==0||f.K||bb(f.j,f)}function ba(f){dm(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Vx(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function fm(f,v){try{var P=f.j;if(P.I!=0&&(P.g==f||hm(P.h,f))){if(!f.L&&hm(P.h,f)&&P.I==3){try{var N=P.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var M=N;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<f.F)Pc(P),Sc(P);else break e;wm(P),lr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ws(u(P.Va,P),6e3));eb(P.h)<=1&&P.ta&&(P.ta=void 0)}else Sa(P,11)}else if((f.L||P.g==f)&&Pc(P),!O(v))for(M=P.Ba.g.parse(v),v=0;v<M.length;v++){let Ne=M[v];const Nt=Ne[0];if(!(Nt<=P.K))if(P.K=Nt,Ne=Ne[1],P.I==2)if(Ne[0]=="c"){P.M=Ne[1],P.ba=Ne[2];const Pn=Ne[3];Pn!=null&&(P.ka=Pn,P.j.info("VER="+P.ka));const Aa=Ne[4];Aa!=null&&(P.za=Aa,P.j.info("SVER="+P.za));const ji=Ne[5];ji!=null&&typeof ji=="number"&&ji>0&&(N=1.5*ji,P.O=N,P.j.info("backChannelRequestTimeoutMs_="+N)),N=P;const Ni=f.g;if(Ni){const Ic=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var V=N.h;V.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(pm(V,V.h),V.h=null))}if(N.G){const xm=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(N.wa=xm,ze(N.J,N.G,xm))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-f.F,P.j.info("Handshake RTT: "+P.T+"ms")),N=P;var G=f;if(N.na=Ab(N,N.L?N.ba:null,N.W),G.L){tb(N.h,G);var pe=G,bt=N.O;bt&&(pe.H=bt),pe.D&&(dm(pe),_c(pe)),N.g=G}else _b(N);P.i.length>0&&Ac(P)}else Ne[0]!="stop"&&Ne[0]!="close"||Sa(P,7);else P.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Sa(P,7):ym(P):Ne[0]!="noop"&&P.l&&P.l.qa(Ne),P.A=0)}}qs(4)}catch{}}var $D=class{constructor(f,v){this.g=f,this.map=v}};function Jx(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zx(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function eb(f){return f.h?1:f.g?f.g.size:0}function hm(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function pm(f,v){f.g?f.g.add(v):f.h=v}function tb(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Jx.prototype.cancel=function(){if(this.i=rb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rb(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const P of f.g.values())v=v.concat(P.G);return v}return m(f.i)}var nb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zD(f,v){if(f){f=f.split("&");for(let P=0;P<f.length;P++){const N=f[P].indexOf("=");let M,V=null;N>=0?(M=f[P].substring(0,N),V=f[P].substring(N+1)):M=f[P],v(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ii(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Ii?(this.l=f.l,Qs(this,f.j),this.o=f.o,this.g=f.g,Ys(this,f.u),this.h=f.h,mm(this,ub(f.i)),this.m=f.m):f&&(v=String(f).match(nb))?(this.l=!1,Qs(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),Ys(this,v[4]),this.h=Xs(v[5]||"",!0),mm(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}Ii.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Js(v,ib,!0),":");var P=this.g;return(P||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Js(v,ib,!0),"@"),f.push(Hs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&f.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(Js(P,P.charAt(0)=="/"?qD:BD,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Js(P,KD)),f.join("")},Ii.prototype.resolve=function(f){const v=An(this);let P=!!f.j;P?Qs(v,f.j):P=!!f.o,P?v.o=f.o:P=!!f.g,P?v.g=f.g:P=f.u!=null;var N=f.h;if(P)Ys(v,f.u);else if(P=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var M=v.h.lastIndexOf("/");M!=-1&&(N=v.h.slice(0,M+1)+N)}if(M=N,M==".."||M==".")N="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){N=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const pe=M[G++];pe=="."?N&&G==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&G==M.length&&V.push("")):(V.push(pe),N=!0)}N=V.join("/")}else N=M}return P?v.h=N:P=f.i.toString()!=="",P?mm(v,ub(f.i)):P=!!f.m,P&&(v.m=f.m),v};function An(f){return new Ii(f)}function Qs(f,v,P){f.j=P?Xs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ys(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function mm(f,v,P){v instanceof Zs?(f.i=v,HD(f.i,f.l)):(P||(v=Js(v,WD)),f.i=new Zs(v,f.l))}function ze(f,v,P){f.i.set(v,P)}function xc(f){return ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Xs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Js(f,v,P){return typeof f=="string"?(f=encodeURI(f).replace(v,UD),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function UD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ib=/[#\/\?@]/g,BD=/[#\?:]/g,qD=/[#\?]/g,WD=/[#\?@]/g,KD=/#/g;function Zs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ea(f){f.g||(f.g=new Map,f.h=0,f.i&&zD(f.i,function(v,P){f.add(decodeURIComponent(v.replace(/\+/g," ")),P)}))}e=Zs.prototype,e.add=function(f,v){Ea(this),this.i=null,f=go(this,f);let P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(v),this.h+=1,this};function ab(f,v){Ea(f),v=go(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function ob(f,v){return Ea(f),v=go(f,v),f.g.has(v)}e.forEach=function(f,v){Ea(this),this.g.forEach(function(P,N){P.forEach(function(M){f.call(v,M,N,this)},this)},this)};function sb(f,v){Ea(f);let P=[];if(typeof v=="string")ob(f,v)&&(P=P.concat(f.g.get(go(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)P=P.concat(f[v]);return P}e.set=function(f,v){return Ea(this),this.i=null,f=go(this,f),ob(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=sb(this,f),f.length>0?String(f[0]):v):v};function lb(f,v,P){ab(f,v),P.length>0&&(f.i=null,f.g.set(go(f,v),m(P)),f.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var P=v[N];const M=Hs(P);P=sb(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+Hs(P[V])),f.push(G)}}return this.i=f.join("&")};function ub(f){const v=new Zs;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function go(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function HD(f,v){v&&!f.j&&(Ea(f),f.i=null,f.g.forEach(function(P,N){const M=N.toLowerCase();N!=M&&(ab(this,N),lb(this,M,P))},f)),f.j=v}function GD(f,v){const P=new Ks;if(o.Image){const N=new Image;N.onload=c(Ci,P,"TestLoadImage: loaded",!0,v,N),N.onerror=c(Ci,P,"TestLoadImage: error",!1,v,N),N.onabort=c(Ci,P,"TestLoadImage: abort",!1,v,N),N.ontimeout=c(Ci,P,"TestLoadImage: timeout",!1,v,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function QD(f,v){const P=new Ks,N=new AbortController,M=setTimeout(()=>{N.abort(),Ci(P,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(V=>{clearTimeout(M),V.ok?Ci(P,"TestPingServer: ok",!0,v):Ci(P,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(M),Ci(P,"TestPingServer: error",!1,v)})}function Ci(f,v,P,N,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),N(P)}catch{}}function YD(){this.g=new ND}function gm(f){this.i=f.Sb||null,this.h=f.ab||!1}d(gm,Fx),gm.prototype.g=function(){return new bc(this.i,this.h)};function bc(f,v){De.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(bc,De),e=bc.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,tl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||o).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cb(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function cb(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?el(this):tl(this),this.readyState==3&&cb(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,el(this))},e.Na=function(f){this.g&&(this.response=f,el(this))},e.ga=function(){this.g&&el(this)};function el(f){f.readyState=4,f.l=null,f.j=null,f.B=null,tl(f)}e.setRequestHeader=function(f,v){this.A.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var P=v.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=v.next();return f.join(`\r
`)};function tl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function db(f){let v="";return K(f,function(P,N){v+=N,v+=":",v+=P,v+=`\r
`}),v}function vm(f,v,P){e:{for(N in P){var N=!1;break e}N=!0}N||(P=db(P),typeof f=="string"?P!=null&&Hs(P):ze(f,v,P))}function rt(f){De.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(rt,De);var XD=/^https?$/i,JD=["POST","PUT"];e=rt.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,v,P,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kx.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(V){fb(this,V);return}if(f=P||"",P=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var M in N)P.set(M,N[M]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())P.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(JD,v,void 0)>=0)||N||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(V){fb(this,V)}};function fb(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,hb(f),Ec(f)}function hb(f){f.A||(f.A=!0,xt(f,"complete"),xt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,xt(this,"complete"),xt(this,"abort"),Ec(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),rt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?pb(this):this.Xa())},e.Xa=function(){pb(this)};function pb(f){if(f.h&&typeof a<"u"){if(f.v&&Oi(f)==4)setTimeout(f.Ca.bind(f),0);else if(xt(f,"readystatechange"),Oi(f)==4){f.h=!1;try{const V=f.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var P;if(!(P=v)){var N;if(N=V===0){let G=String(f.D).match(nb)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),N=!XD.test(G?G.toLowerCase():"")}P=N}if(P)xt(f,"complete"),xt(f,"success");else{f.o=6;try{var M=Oi(f)>2?f.g.statusText:""}catch{M=""}f.l=M+" ["+f.ca()+"]",hb(f)}}finally{Ec(f)}}}}function Ec(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const P=f.g;f.g=null,v||xt(f,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Oi(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),jD(v)}};function mb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ZD(f){const v={};f=(f.g&&Oi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(O(f[N]))continue;var P=LD(f[N]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=v[M]||[];v[M]=V,V.push(P)}re(v,function(N){return N.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(f,v,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||v}function gb(f){this.za=0,this.i=[],this.j=new Ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rl("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rl("baseRetryDelayMs",5e3,f),this.Za=rl("retryDelaySeedMs",1e4,f),this.Ta=rl("forwardChannelMaxRetries",2,f),this.va=rl("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Jx(f&&f.concurrentRequestLimit),this.Ba=new YD,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=gb.prototype,e.ka=8,e.I=1,e.connect=function(f,v,P,N){lr(0),this.W=f,this.H=v||{},P&&N!==void 0&&(this.H.OSID=P,this.H.OAID=N),this.F=this.X,this.J=Ab(this,null,this.W),Ac(this)};function ym(f){if(vb(f),f.I==3){var v=f.V++,P=An(f.J);if(ze(P,"SID",f.M),ze(P,"RID",v),ze(P,"TYPE","terminate"),nl(f,P),v=new Ti(f,f.j,v),v.M=2,v.A=xc(An(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(v.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=v.A,P=!0),P||(v.g=Pb(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_c(v)}Sb(f)}function Sc(f){f.g&&(_m(f),f.g.cancel(),f.g=null)}function vb(f){Sc(f),f.v&&(o.clearTimeout(f.v),f.v=null),Pc(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function Ac(f){if(!Zx(f.h)&&!f.m){f.m=!0;var v=f.Ea;j||A(),R||(j(),R=!0),S.add(v,f),f.D=0}}function eM(f,v){return eb(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ws(u(f.Ea,f,v),Eb(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const M=new Ti(this,this.j,f);let V=this.o;if(this.U&&(V?(V=me(V),yt(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var v=0,P=0;P<this.i.length;P++){t:{var N=this.i[P];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=P;break e}if(v===4096||P===this.i.length-1){v=P+1;break e}}v=1e3}else v=1e3;v=wb(this,M,v),P=An(this.J),ze(P,"RID",f),ze(P,"CVER",22),this.G&&ze(P,"X-HTTP-Session-Id",this.G),nl(this,P),V&&(this.R?v="headers="+Hs(db(V))+"&"+v:this.u&&vm(P,this.u,V)),pm(this.h,M),this.Ra&&ze(P,"TYPE","init"),this.S?(ze(P,"$req",v),ze(P,"SID","null"),M.U=!0,cm(M,P,null)):cm(M,P,v),this.I=2}}else this.I==3&&(f?yb(this,f):this.i.length==0||Zx(this.h)||yb(this))};function yb(f,v){var P;v?P=v.l:P=f.V++;const N=An(f.J);ze(N,"SID",f.M),ze(N,"RID",P),ze(N,"AID",f.K),nl(f,N),f.u&&f.o&&vm(N,f.u,f.o),P=new Ti(f,f.j,P,f.D+1),f.u===null&&(P.J=f.o),v&&(f.i=v.G.concat(f.i)),v=wb(f,P,1e3),P.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),pm(f.h,P),cm(P,N,v)}function nl(f,v){f.H&&K(f.H,function(P,N){ze(v,N,P)}),f.l&&K({},function(P,N){ze(v,N,P)})}function wb(f,v,P){P=Math.min(f.i.length,P);const N=f.l?u(f.l.Ka,f.l,f):null;e:{var M=f.i;let pe=-1;for(;;){const bt=["count="+P];pe==-1?P>0?(pe=M[0].g,bt.push("ofs="+pe)):pe=0:bt.push("ofs="+pe);let Ne=!0;for(let Nt=0;Nt<P;Nt++){var V=M[Nt].g;const Pn=M[Nt].map;if(V-=pe,V<0)pe=Math.max(0,M[Nt].g-100),Ne=!1;else try{V="req"+V+"_"||"";try{var G=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Aa,ji]of G){let Ni=ji;s(ji)&&(Ni=am(ji)),bt.push(V+Aa+"="+encodeURIComponent(Ni))}}catch(Aa){throw bt.push(V+"type="+encodeURIComponent("_badmap")),Aa}}catch{N&&N(Pn)}}if(Ne){G=bt.join("&");break e}}G=void 0}return f=f.i.splice(0,P),v.G=f,G}function _b(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;j||A(),R||(j(),R=!0),S.add(v,f),f.A=0}}function wm(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ws(u(f.Da,f),Eb(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,xb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ws(u(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lr(10),Sc(this),xb(this))};function _m(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function xb(f){f.g=new Ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=An(f.na);ze(v,"RID","rpc"),ze(v,"SID",f.M),ze(v,"AID",f.K),ze(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&ze(v,"TO",f.ia),ze(v,"TYPE","xmlhttp"),nl(f,v),f.u&&f.o&&vm(v,f.u,f.o),f.O&&(f.g.H=f.O);var P=f.g;f=f.ba,P.M=1,P.A=xc(An(v)),P.u=null,P.R=!0,Qx(P,f)}e.Va=function(){this.C!=null&&(this.C=null,Sc(this),wm(this),lr(19))};function Pc(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function bb(f,v){var P=null;if(f.g==v){Pc(f),_m(f),f.g=null;var N=2}else if(hm(f.h,v))P=v.G,tb(f.h,v),N=1;else return;if(f.I!=0){if(v.o)if(N==1){P=v.u?v.u.length:0,v=Date.now()-v.F;var M=f.D;N=yc(),xt(N,new qx(N,P)),Ac(f)}else _b(f);else if(M=v.m,M==3||M==0&&v.X>0||!(N==1&&eM(f,v)||N==2&&wm(f)))switch(P&&P.length>0&&(v=f.h,v.i=v.i.concat(P)),M){case 1:Sa(f,5);break;case 4:Sa(f,10);break;case 3:Sa(f,6);break;default:Sa(f,2)}}}function Eb(f,v){let P=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(P*=2),P*v}function Sa(f,v){if(f.j.info("Error code "+v),v==2){var P=u(f.bb,f),N=f.Ua;const M=!N;N=new Ii(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qs(N,"https"),xc(N),M?GD(N.toString(),P):QD(N.toString(),P)}else lr(2);f.I=0,f.l&&f.l.pa(v),Sb(f),vb(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))};function Sb(f){if(f.I=0,f.ja=[],f.l){const v=rb(f.h);(v.length!=0||f.i.length!=0)&&(g(f.ja,v),g(f.ja,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.oa()}}function Ab(f,v,P){var N=P instanceof Ii?An(P):new Ii(P);if(N.g!="")v&&(N.g=v+"."+N.g),Ys(N,N.u);else{var M=o.location;N=M.protocol,v=v?v+"."+M.hostname:M.hostname,M=+M.port;const V=new Ii(null);N&&Qs(V,N),v&&(V.g=v),M&&Ys(V,M),P&&(V.h=P),N=V}return P=f.G,v=f.wa,P&&v&&ze(N,P,v),ze(N,"VER",f.ka),nl(f,N),N}function Pb(f,v,P){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new rt(new gm({ab:P})):new rt(f.ma),v.Fa(f.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tb(){}e=Tb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Tc(){}Tc.prototype.g=function(f,v){return new Ir(f,v)};function Ir(f,v){De.call(this),this.g=new gb(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!O(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new vo(this)}d(Ir,De),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){ym(this.g)},Ir.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.v&&(P={},P.__data__=am(f),f=P);v.i.push(new $D(v.Ya++,f)),v.I==3&&Ac(v)},Ir.prototype.N=function(){this.g.l=null,delete this.j,ym(this.g),delete this.g,Ir.Z.N.call(this)};function Ib(f){om.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const P in v){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}d(Ib,om);function Cb(){sm.call(this),this.status=1}d(Cb,sm);function vo(f){this.g=f}d(vo,Tb),vo.prototype.ra=function(){xt(this.g,"a")},vo.prototype.qa=function(f){xt(this.g,new Ib(f))},vo.prototype.pa=function(f){xt(this.g,new Cb)},vo.prototype.oa=function(){xt(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,kC=function(){return new Tc},NC=function(){return yc()},jC=xa,Pv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wc.NO_ERROR=0,wc.TIMEOUT=8,wc.HTTP_ERROR=6,Id=wc,Wx.COMPLETE="complete",OC=Wx,$x.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",De.prototype.listen=De.prototype.J,Al=$x,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,CC=rt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const t1="@firebase/firestore",r1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new bC("@firebase/firestore");function Eo(){return Ya.logLevel}function X(e,...t){if(Ya.logLevel<=be.DEBUG){const r=t.map(U0);Ya.debug(`Firestore (${Is}): ${e}`,...r)}}function ci(e,...t){if(Ya.logLevel<=be.ERROR){const r=t.map(U0);Ya.error(`Firestore (${Is}): ${e}`,...r)}}function ss(e,...t){if(Ya.logLevel<=be.WARN){const r=t.map(U0);Ya.warn(`Firestore (${Is}): ${e}`,...r)}}function U0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,RC(e,n,r)}function RC(e,t,r){let n=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ci(n),new Error(n)}function Pe(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||RC(t,i,n)}function de(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ts{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(rr.UNAUTHENTICATED))}shutdown(){}}class m3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class g3{constructor(t){this.t=t,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Pe(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ti,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ti)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Pe(typeof n.accessToken=="string",31837,{l:n}),new DC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new rr(t)}}class v3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new v3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Z4(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Pe(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Pe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new n1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=_3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function ye(e,t){return e<t?-1:e>t?1:0}function Tv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return Zm(i)===Zm(a)?ye(i,a):Zm(i)?1:-1}return ye(e.length,t.length)}const x3=55296,b3=57343;function Zm(e){const t=e.charCodeAt(0);return t>=x3&&t<=b3}function ls(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="__name__";class Cn{constructor(t,r,n){r===void 0?r=0:r>t.length&&oe(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&oe(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Cn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Cn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Cn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return ye(t.length,r.length)}static compareSegments(t,r){const n=Cn.isNumericId(t),i=Cn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Cn.extractNumericId(t).compare(Cn.extractNumericId(r)):Tv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ea.fromString(t.substring(4,t.length-2))}}class Le extends Cn{construct(t,r,n){return new Le(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Le(r)}static emptyPath(){return new Le([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Cn{construct(t,r,n){return new Ht(t,r,n)}static isValidIdentifier(t){return E3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i1}static keyField(){return new Ht([i1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ht(r)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.path=t}static fromPath(t){return new ne(Le.fromString(t))}static fromName(t){return new ne(Le.fromString(t).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ne(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function S3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function a1(e){if(!ne.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function o1(e){if(ne.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function LC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Rh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":oe(12329,{type:typeof e})}function vn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Rh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Lu(e,t){if(!LC(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const o=e[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=-62135596800,l1=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*l1);return new qe(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<s1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lu(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:mt("string",qe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(t){return new ce(t)}static min(){return new ce(new qe(0,0))}static max(){return new ce(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function A3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(n===1e9?new qe(r+1,0):new qe(r,n));return new aa(i,ne.empty(),t)}function P3(e){return new aa(e.readTime,e.key,du)}class aa{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new aa(ce.min(),ne.empty(),du)}static max(){return new aa(ce.max(),ne.empty(),du)}}function T3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ne.comparator(e.documentKey,t.documentKey),r!==0?r:ye(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==I3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new z((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):z.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):z.reject(r)}static resolve(t){return new z((r,n)=>{r(t)})}static reject(t){return new z((r,n)=>{n(t)})}static waitFor(t){return new z((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=z.resolve(!1);for(const n of t)r=r.next(i=>i?z.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new z((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new z((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function O3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Os(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-1;function Mh(e){return e==null}function pf(e){return e===0&&1/e==-1/0}function j3(e){return typeof e=="number"&&Number.isInteger(e)&&!pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="";function N3(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=u1(t)),t=k3(e.get(r),t);return u1(t)}function k3(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case VC:r+="";break;default:r+=a}}return r}function u1(e){return e+VC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ga(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function FC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,r){this.comparator=t,this.root=r||Kt.EMPTY}insert(t,r){return new et(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kt{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Kt(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw oe(27949);return t+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Kt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new d1(this.data.getIterator())}getIteratorFrom(t){return new d1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Tt)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Tt(this.comparator);return r.data=t,r}}class d1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t){this.fields=t,t.sort(Ht.comparator)}static empty(){return new kr([])}unionWith(t){let r=new Tt(Ht.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new kr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ls(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $C("Invalid base64 string: "+a):a}}(t);return new Xt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new Xt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(e){if(Pe(!!e,39018),typeof e=="string"){let t=0;const r=R3.exec(e);if(Pe(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:st(e.seconds),nanos:st(e.nanos)}}function st(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function sa(e){return typeof e=="string"?Xt.fromBase64String(e):Xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="server_timestamp",UC="__type__",BC="__previous_value__",qC="__local_write_time__";function W0(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[UC])==null?void 0:n.stringValue)===zC}function Lh(e){const t=e.mapValue.fields[BC];return W0(t)?Lh(t):t}function fu(e){const t=oa(e.mapValue.fields[qC].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t,r,n,i,a,o,s,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const mf="(default)";class hu{constructor(t,r){this.projectId=t,this.database=r||mf}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(t){return t instanceof hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__type__",M3="__max__",Qc={mapValue:{}},KC="__vector__",gf="value";function la(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?W0(e)?4:V3(e)?9007199254740991:L3(e)?10:11:oe(28295,{value:e})}function $n(e,t){if(e===t)return!0;const r=la(e);if(r!==la(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fu(e).isEqual(fu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=oa(i.timestampValue),s=oa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return sa(i.bytesValue).isEqual(sa(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return st(i.geoPointValue.latitude)===st(a.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return st(i.integerValue)===st(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=st(i.doubleValue),s=st(a.doubleValue);return o===s?pf(o)===pf(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return ls(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(c1(o)!==c1(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!$n(o[l],s[l])))return!1;return!0}(e,t);default:return oe(52216,{left:e})}}function pu(e,t){return(e.values||[]).find(r=>$n(r,t))!==void 0}function us(e,t){if(e===t)return 0;const r=la(e),n=la(t);if(r!==n)return ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ye(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=st(a.integerValue||a.doubleValue),l=st(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return f1(e.timestampValue,t.timestampValue);case 4:return f1(fu(e),fu(t));case 5:return Tv(e.stringValue,t.stringValue);case 6:return function(a,o){const s=sa(a),l=sa(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=ye(st(a.latitude),st(o.latitude));return s!==0?s:ye(st(a.longitude),st(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return h1(e.arrayValue,t.arrayValue);case 10:return function(a,o){var p,m,g,y;const s=a.fields||{},l=o.fields||{},u=(p=s[gf])==null?void 0:p.arrayValue,c=(m=l[gf])==null?void 0:m.arrayValue,d=ye(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:h1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===Qc.mapValue&&o===Qc.mapValue)return 0;if(a===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Tv(l[d],c[d]);if(p!==0)return p;const m=us(s[l[d]],u[c[d]]);if(m!==0)return m}return ye(l.length,c.length)}(e.mapValue,t.mapValue);default:throw oe(23264,{he:r})}}function f1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ye(e,t);const r=oa(e),n=oa(t),i=ye(r.seconds,n.seconds);return i!==0?i:ye(r.nanos,n.nanos)}function h1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=us(r[i],n[i]);if(a)return a}return ye(r.length,n.length)}function cs(e){return Iv(e)}function Iv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=oa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return sa(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ne.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Iv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Iv(r.fields[o])}`;return i+"}"}(e.mapValue):oe(61005,{value:e})}function Cd(e){switch(la(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(e);return t?16+Cd(t):16;case 5:return 2*e.stringValue.length;case 6:return sa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Cd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return ga(n.fields,(a,o)=>{i+=a.length+Cd(o)}),i}(e.mapValue);default:throw oe(13486,{value:e})}}function p1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Cv(e){return!!e&&"integerValue"in e}function K0(e){return!!e&&"arrayValue"in e}function m1(e){return!!e&&"nullValue"in e}function g1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Od(e){return!!e&&"mapValue"in e}function L3(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[WC])==null?void 0:n.stringValue)===KC}function zl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ga(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=zl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=zl(e.arrayValue.values[r]);return t}return{...e}}function V3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===M3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.value=t}static empty(){return new _r({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Od(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(r)}setAll(t){let r=Ht.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=zl(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Od(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){ga(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new _r(zl(this.value))}}function HC(e){const t=[];return ga(e.fields,(r,n)=>{const i=new Ht([r]);if(Od(n)){const a=HC(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new kr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new ir(t,0,ce.min(),ce.min(),ce.min(),_r.empty(),0)}static newFoundDocument(t,r,n,i){return new ir(t,1,r,ce.min(),n,i,0)}static newNoDocument(t,r){return new ir(t,2,r,ce.min(),ce.min(),_r.empty(),0)}static newUnknownDocument(t,r){return new ir(t,3,r,ce.min(),ce.min(),_r.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ir&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,r){this.position=t,this.inclusive=r}}function v1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=ne.comparator(ne.fromName(o.referenceValue),r.key):n=us(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function y1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!$n(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,r="asc"){this.field=t,this.dir=r}}function F3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{}class pt extends GC{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new z3(t,r,n):r==="array-contains"?new q3(t,n):r==="in"?new W3(t,n):r==="not-in"?new K3(t,n):r==="array-contains-any"?new H3(t,n):new pt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new U3(t,n):new B3(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(us(r,this.value)):r!==null&&la(this.value)===la(r)&&this.matchesComparison(us(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends GC{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new yn(t,r)}matches(t){return QC(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QC(e){return e.op==="and"}function YC(e){return $3(e)&&QC(e)}function $3(e){for(const t of e.filters)if(t instanceof yn)return!1;return!0}function Ov(e){if(e instanceof pt)return e.field.canonicalString()+e.op.toString()+cs(e.value);if(YC(e))return e.filters.map(t=>Ov(t)).join(",");{const t=e.filters.map(r=>Ov(r)).join(",");return`${e.op}(${t})`}}function XC(e,t){return e instanceof pt?function(n,i){return i instanceof pt&&n.op===i.op&&n.field.isEqual(i.field)&&$n(n.value,i.value)}(e,t):e instanceof yn?function(n,i){return i instanceof yn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&XC(o,i.filters[s]),!0):!1}(e,t):void oe(19439)}function JC(e){return e instanceof pt?function(r){return`${r.field.canonicalString()} ${r.op} ${cs(r.value)}`}(e):e instanceof yn?function(r){return r.op.toString()+" {"+r.getFilters().map(JC).join(" ,")+"}"}(e):"Filter"}class z3 extends pt{constructor(t,r,n){super(t,r,n),this.key=ne.fromName(n.referenceValue)}matches(t){const r=ne.comparator(t.key,this.key);return this.matchesComparison(r)}}class U3 extends pt{constructor(t,r){super(t,"in",r),this.keys=ZC("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class B3 extends pt{constructor(t,r){super(t,"not-in",r),this.keys=ZC("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function ZC(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ne.fromName(n.referenceValue))}class q3 extends pt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return K0(r)&&pu(r.arrayValue,this.value)}}class W3 extends pt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&pu(this.value.arrayValue,r)}}class K3 extends pt{constructor(t,r){super(t,"not-in",r)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!pu(this.value.arrayValue,r)}}class H3 extends pt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!K0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>pu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function w1(e,t=null,r=[],n=[],i=null,a=null,o=null){return new G3(e,t,r,n,i,a,o)}function H0(e){const t=de(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Ov(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Mh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>cs(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>cs(n)).join(",")),t.Te=r}return t.Te}function G0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!F3(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!XC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!y1(e.startAt,t.startAt)&&y1(e.endAt,t.endAt)}function jv(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q3(e,t,r,n,i,a,o,s){return new Vu(e,t,r,n,i,a,o,s)}function Q0(e){return new Vu(e)}function _1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function eO(e){return e.collectionGroup!==null}function Ul(e){const t=de(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Tt(Ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new yf(a,n))}),r.has(Ht.keyField().canonicalString())||t.Ie.push(new yf(Ht.keyField(),n))}return t.Ie}function Rn(e){const t=de(e);return t.Ee||(t.Ee=Y3(t,Ul(e))),t.Ee}function Y3(e,t){if(e.limitType==="F")return w1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new yf(i.field,a)});const r=e.endAt?new vf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new vf(e.startAt.position,e.startAt.inclusive):null;return w1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Nv(e,t){const r=e.filters.concat([t]);return new Vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function kv(e,t,r){return new Vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Vh(e,t){return G0(Rn(e),Rn(t))&&e.limitType===t.limitType}function tO(e){return`${H0(Rn(e))}|lt:${e.limitType}`}function So(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>JC(i)).join(", ")}]`),Mh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cs(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cs(i)).join(",")),`Target(${n})`}(Rn(e))}; limitType=${e.limitType})`}function Fh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ne.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Ul(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=v1(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Ul(n),i)||n.endAt&&!function(o,s,l){const u=v1(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Ul(n),i))}(e,t)}function X3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rO(e){return(t,r)=>{let n=!1;for(const i of Ul(e)){const a=J3(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function J3(e,t,r){const n=e.field.isKeyField()?ne.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?us(l,u):oe(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return oe(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ga(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return FC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new et(ne.comparator);function di(){return Z3}const nO=new et(ne.comparator);function Pl(...e){let t=nO;for(const r of e)t=t.insert(r.key,r);return t}function iO(e){let t=nO;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Da(){return Bl()}function aO(){return Bl()}function Bl(){return new so(e=>e.toString(),(e,t)=>e.isEqual(t))}const eF=new et(ne.comparator),tF=new Tt(ne.comparator);function we(...e){let t=tF;for(const r of e)t=t.add(r);return t}const rF=new Tt(ye);function nF(){return rF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(t)?"-0":t}}function oO(e){return{integerValue:""+e}}function iF(e,t){return j3(t)?oO(t):Y0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function aF(e,t,r){return e instanceof wf?function(i,a){const o={fields:{[UC]:{stringValue:zC},[qC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&W0(a)&&(a=Lh(a)),a&&(o.fields[BC]=a),{mapValue:o}}(r,t):e instanceof mu?lO(e,t):e instanceof gu?uO(e,t):function(i,a){const o=sO(i,a),s=x1(o)+x1(i.Ae);return Cv(o)&&Cv(i.Ae)?oO(s):Y0(i.serializer,s)}(e,t)}function oF(e,t,r){return e instanceof mu?lO(e,t):e instanceof gu?uO(e,t):r}function sO(e,t){return e instanceof _f?function(n){return Cv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class wf extends $h{}class mu extends $h{constructor(t){super(),this.elements=t}}function lO(e,t){const r=cO(t);for(const n of e.elements)r.some(i=>$n(i,n))||r.push(n);return{arrayValue:{values:r}}}class gu extends $h{constructor(t){super(),this.elements=t}}function uO(e,t){let r=cO(t);for(const n of e.elements)r=r.filter(i=>!$n(i,n));return{arrayValue:{values:r}}}class _f extends $h{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function x1(e){return st(e.integerValue||e.doubleValue)}function cO(e){return K0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function sF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof mu&&i instanceof mu||n instanceof gu&&i instanceof gu?ls(n.elements,i.elements,$n):n instanceof _f&&i instanceof _f?$n(n.Ae,i.Ae):n instanceof wf&&i instanceof wf}(e.transform,t.transform)}class lF{constructor(t,r){this.version=t,this.transformResults=r}}class Xr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Xr}static exists(t){return new Xr(void 0,t)}static updateTime(t){return new Xr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class zh{}function dO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new X0(e.key,Xr.none()):new Fu(e.key,e.data,Xr.none());{const r=e.data,n=_r.empty();let i=new Tt(Ht.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new va(e.key,n,new kr(i.toArray()),Xr.none())}}function uF(e,t,r){e instanceof Fu?function(i,a,o){const s=i.value.clone(),l=E1(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof va?function(i,a,o){if(!jd(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=E1(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(fO(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function ql(e,t,r,n){return e instanceof Fu?function(a,o,s,l){if(!jd(a.precondition,o))return s;const u=a.value.clone(),c=S1(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof va?function(a,o,s,l){if(!jd(a.precondition,o))return s;const u=S1(a.fieldTransforms,l,o),c=o.data;return c.setAll(fO(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return jd(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function cF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=sO(n.transform,i||null);a!=null&&(r===null&&(r=_r.empty()),r.set(n.field,a))}return r||null}function b1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ls(n,i,(a,o)=>sF(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fu extends zh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class va extends zh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fO(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function E1(e,t,r){const n=new Map;Pe(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,oF(o,s,r[i]))}return n}function S1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,aF(a,o,t))}return n}class X0 extends zh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dF extends zh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&uF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=ql(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=ql(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=aO();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=dO(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),we())}isEqual(t){return this.batchId===t.batchId&&ls(this.mutations,t.mutations,(r,n)=>b1(r,n))&&ls(this.baseMutations,t.baseMutations,(r,n)=>b1(r,n))}}class J0{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Pe(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return eF}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new J0(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,xe;function mF(e){switch(e){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:e})}}function hO(e){if(e===void 0)return ci("GRPC error has no .code"),F.UNKNOWN;switch(e){case dt.OK:return F.OK;case dt.CANCELLED:return F.CANCELLED;case dt.UNKNOWN:return F.UNKNOWN;case dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case dt.INTERNAL:return F.INTERNAL;case dt.UNAVAILABLE:return F.UNAVAILABLE;case dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case dt.NOT_FOUND:return F.NOT_FOUND;case dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case dt.ABORTED:return F.ABORTED;case dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case dt.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:e})}}(xe=dt||(dt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=new ea([4294967295,4294967295],0);function A1(e){const t=gF().encode(e),r=new IC;return r.update(t),new Uint8Array(r.digest())}function P1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ea([r,n],0),new ea([i,a],0)]}class Z0{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Tl(`Invalid padding: ${r}`);if(n<0)throw new Tl(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=ea.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(ea.fromNumber(n)));return i.compare(vF)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=A1(t),[n,i]=P1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new Z0(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.ge===0)return;const r=A1(t),[n,i]=P1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Uh(ce.min(),i,new et(ye),di(),we())}}class $u{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new $u(n,r,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class pO{constructor(t,r){this.targetId=t,this.Ce=r}}class mO{constructor(t,r,n=Xt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class T1{constructor(){this.ve=0,this.Fe=I1(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=we(),r=we(),n=we();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:oe(38017,{changeType:a})}}),new $u(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=I1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yF{constructor(t){this.Ge=t,this.ze=new Map,this.je=di(),this.Je=Yc(),this.He=Yc(),this.Ye=new et(ye)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:oe(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(jv(a))if(n===0){const o=new ne(a.path);this.et(r,o,ir.newNoDocument(o,ce.min()))}else Pe(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(t),l=s?this.ct(s,t,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=sa(n).toUint8Array()}catch(l){if(l instanceof $C)return ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Z0(o,i,a)}catch(l){return ss(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&jv(s.target)){const l=new ne(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ir.newNoDocument(l,t))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=we();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(t));const i=new Uh(t,r,this.Ye,this.je,n);return this.je=di(),this.Je=Yc(),this.He=Yc(),this.Ye=new et(ye),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new T1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Tt(ye),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Tt(ye),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new T1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Yc(){return new et(ne.comparator)}function I1(){return new et(ne.comparator)}const wF={asc:"ASCENDING",desc:"DESCENDING"},_F={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xF={and:"AND",or:"OR"};class bF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Rv(e,t){return e.useProto3Json||Mh(t)?t:{value:t}}function xf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EF(e,t){return xf(e,t.toTimestamp())}function Dn(e){return Pe(!!e,49232),ce.fromTimestamp(function(r){const n=oa(r);return new qe(n.seconds,n.nanos)}(e))}function ew(e,t){return Dv(e,t).canonicalString()}function Dv(e,t){const r=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function vO(e){const t=Le.fromString(e);return Pe(bO(t),10190,{key:t.toString()}),t}function Mv(e,t){return ew(e.databaseId,t.path)}function eg(e,t){const r=vO(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ne(wO(r))}function yO(e,t){return ew(e.databaseId,t)}function SF(e){const t=vO(e);return t.length===4?Le.emptyPath():wO(t)}function Lv(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wO(e){return Pe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function C1(e,t,r){return{name:Mv(e,t),fields:r.value.mapValue.fields}}function AF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Pe(c===void 0||typeof c=="string",58123),Xt.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Xt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?F.UNKNOWN:hO(u.code);return new Y(c,u.message||"")}(o);r=new mO(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=eg(e,n.document.name),a=Dn(n.document.updateTime),o=n.document.createTime?Dn(n.document.createTime):ce.min(),s=new _r({mapValue:{fields:n.document.fields}}),l=ir.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Nd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=eg(e,n.document),a=n.readTime?Dn(n.readTime):ce.min(),o=ir.newNoDocument(i,a),s=n.removedTargetIds||[];r=new Nd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=eg(e,n.document),a=n.removedTargetIds||[];r=new Nd([],a,i,null)}else{if(!("filter"in t))return oe(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new pF(i,a),s=n.targetId;r=new pO(s,o)}}return r}function PF(e,t){let r;if(t instanceof Fu)r={update:C1(e,t.key,t.value)};else if(t instanceof X0)r={delete:Mv(e,t.key)};else if(t instanceof va)r={update:C1(e,t.key,t.data),updateMask:DF(t.fieldMask)};else{if(!(t instanceof dF))return oe(16599,{Vt:t.type});r={verify:Mv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof wf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof _f)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw oe(20930,{transform:o.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:EF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:oe(27497)}(e,t.precondition)),r}function TF(e,t){return e&&e.length>0?(Pe(t!==void 0,14353),e.map(r=>function(i,a){let o=i.updateTime?Dn(i.updateTime):Dn(a);return o.isEqual(ce.min())&&(o=Dn(a)),new lF(o,i.transformResults||[])}(r,t))):[]}function IF(e,t){return{documents:[yO(e,t.path)]}}function CF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=yO(e,i);const a=function(u){if(u.length!==0)return xO(yn.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Ao(p.field),direction:NF(p.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Rv(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function OF(e){let t=SF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Pe(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=_O(d);return p instanceof yn&&YC(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(p=>function(g){return new yf(Po(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Mh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new vf(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new vf(m,p)}(r.endAt)),Q3(t,i,o,a,s,"F",l,u)}function jF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function _O(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Po(r.unaryFilter.field);return pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Po(r.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Po(r.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Po(r.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(e):e.fieldFilter!==void 0?function(r){return pt.create(Po(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return yn.create(r.compositeFilter.filters.map(n=>_O(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(r.compositeFilter.op))}(e):oe(30097,{filter:e})}function NF(e){return wF[e]}function kF(e){return _F[e]}function RF(e){return xF[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function Po(e){return Ht.fromServerFormat(e.fieldPath)}function xO(e){return e instanceof pt?function(r){if(r.op==="=="){if(g1(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NAN"}};if(m1(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(g1(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NOT_NAN"}};if(m1(r.value))return{unaryFilter:{field:Ao(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(r.field),op:kF(r.op),value:r.value}}}(e):e instanceof yn?function(r){const n=r.getFilters().map(i=>xO(i));return n.length===1?n[0]:{compositeFilter:{op:RF(r.op),filters:n}}}(e):oe(54877,{filter:e})}function DF(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function bO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t,r,n,i,a=ce.min(),o=ce.min(),s=Xt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Bi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t){this.yt=t}}function LF(e){const t=OF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?kv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Cn=new FF}addToCollectionParentIndex(t,r){return this.Cn.add(r),z.resolve()}getCollectionParents(t,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return z.resolve()}deleteFieldIndex(t,r){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,r){return z.resolve()}getDocumentsMatchingTarget(t,r){return z.resolve(null)}getIndexType(t,r){return z.resolve(0)}getFieldIndexes(t,r){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,r){return z.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,r){return z.resolve(aa.min())}updateCollectionGroup(t,r,n){return z.resolve()}updateIndexEntries(t,r){return z.resolve()}}class FF{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Tt(Le.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Tt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EO=41943040;class yr{static withCacheSize(t){return new yr(t,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(EO,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ds(0)}static cr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LruGarbageCollector",$F=1048576;function N1([e,t],[r,n]){const i=ye(e,r);return i===0?ye(t,n):i}class zF{constructor(t){this.Ir=t,this.buffer=new Tt(N1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();N1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class UF{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(j1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Os(r)?X(j1,"Ignoring IndexedDB error during garbage collection: ",r):await Cs(r)}await this.Vr(3e5)})}}class BF{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return z.resolve(Dh.ce);const n=new zF(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(O1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(t,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(u=Date.now(),Eo()<=be.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function qF(e,t){return new BF(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.changes=new so(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ir.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&ql(n.mutation,i,kr.empty(),qe.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,we()).next(()=>n))}getLocalViewOfDocuments(t,r,n=we()){const i=Da();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=Pl();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=Da();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,we()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=di();const o=Bl(),s=function(){return Bl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof va)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ql(c.mutation,u,c.mutation.getFieldMask(),qe.now())):o.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>s.set(u,new KF(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(t,r){const n=Bl();let i=new et((o,s)=>o-s),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||kr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=aO();c.forEach(p=>{if(!a.has(p)){const m=dO(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return z.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):eO(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):z.resolve(Da());let s=du,l=a;return o.next(u=>z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?z.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,we())).next(c=>({batchId:s,changes:iO(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ne(r)).next(n=>{let i=Pl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=Pl();return this.indexManager.getCollectionParents(t,a).next(s=>z.forEach(s,l=>{const u=function(d,p){return new Vu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ir.newInvalidDocument(c)))});let s=Pl();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ql(c.mutation,u,kr.empty(),qe.now()),Fh(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}}(r)),z.resolve()}getNamedQuery(t,r){return z.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:LF(i.bundledQuery),readTime:Dn(i.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.overlays=new et(ne.comparator),this.qr=new Map}getOverlay(t,r){return z.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Da();return z.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),z.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(t,r,n){const i=Da(),a=r.length+1,o=new ne(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Da(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Da(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return z.resolve(s)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new hF(r,n));let a=this.qr.get(r);a===void 0&&(a=we(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Qr=new Tt(Dt.$r),this.Ur=new Tt(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Dt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Dt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ne(new Le([])),n=new Dt(r,t),i=new Dt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ne(new Le([])),n=new Dt(r,t),i=new Dt(r,t+1);let a=we();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new Dt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Dt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ne.comparator(t.key,r.key)||ye(t.Yr,r.Yr)}static Kr(t,r){return ye(t.Yr,r.Yr)||ne.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Dt.$r)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fF(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Dt(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return z.resolve(o)}lookupMutationBatch(t,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?q0:this.tr-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Dt(r,0),i=new Dt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Tt(ye);return r.forEach(i=>{const a=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{n=n.add(s.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ne.isDocumentKey(a)||(a=a.child(""));const o=new Dt(new ne(a),0);let s=new Tt(ye);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),z.resolve(this.ti(s))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Pe(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,i=>{const a=new Dt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Dt(r,0),i=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t){this.ri=t,this.docs=function(){return new et(ne.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():ir.newInvalidDocument(r))}getEntries(t,r){let n=di();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ir.newInvalidDocument(i))}),z.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=di();const o=r.path,s=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||T3(P3(c),n)<=0||(i.has(c.key)||Fh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(t,r,n,i){oe(9500)}ii(t,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new ZF(this)}getSize(t){return z.resolve(this.size)}}class ZF extends WF{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.persistence=t,this.si=new so(r=>H0(r),G0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new tw,this.targetCount=0,this.ai=ds.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new ds(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(t,r){return this.Pr(r),z.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),z.waitFor(a).next(()=>i)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),z.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(t,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,r){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new YF,this.referenceDelegate=t(this),this.Pi=new e6(this),this.indexManager=new VF,this.remoteDocumentCache=function(i){return new JF(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new MF(r),this.Ii=new GF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new QF,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new XF(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new t6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class t6 extends C3{constructor(t){super(),this.currentSequenceNumber=t}}class rw{constructor(t){this.persistence=t,this.Ri=new tw,this.Vi=null}static mi(t){return new rw(t)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const i=ne.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class bf{constructor(t,r){this.persistence=t,this.pi=new so(n=>N3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=qF(this,r)}static mi(t,r){return new bf(t,r)}Ei(){}di(t){return z.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return z.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?z.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,r).next(s=>{s||(n++,a.removeEntry(o,ce.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Cd(t.data.value)),r}br(t,r,n){return z.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return z.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=we(),i=we();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YV()?8:O3(GV())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new r6;return this.Ss(t,r,o).next(s=>{if(a.result=s,this.Vs)return this.bs(t,r,o,s.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Eo()<=be.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",So(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Eo()<=be.DEBUG&&X("QueryEngine","Query:",So(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Eo()<=be.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",So(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(r))):z.resolve())}ys(t,r){if(_1(r))return z.resolve(null);let n=Rn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=kv(r,null,"F"),n=Rn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=we(...a);return this.ps.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(t,kv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return _1(r)||i.isEqual(ce.min())?z.resolve(null):this.ps.getDocuments(t,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?z.resolve(null):(Eo()<=be.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),So(r)),this.vs(t,o,r,A3(i,du)).next(s=>s))})}Ds(t,r){let n=new Tt(rO(t));return r.forEach((i,a)=>{Fh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Eo()<=be.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",So(r)),this.ps.getDocumentsMatchingQuery(t,r,aa.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LocalStore",i6=3e8;class a6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new et(ye),this.xs=new so(a=>H0(a),G0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function o6(e,t,r,n){return new a6(e,t,r,n)}async function AO(e,t){const r=de(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=we();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function s6(e,t){const r=de(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=z.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);Pe(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function PO(e){const t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function l6(e,t){const r=de(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Xt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(y,w,x){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=i6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&s.push(r.Pi.updateTargetData(a,m))});let l=di(),u=we();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(u6(a,o,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(ce.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return z.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function u6(e,t,r){let n=we(),i=we();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=di();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ce.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):X(iw,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function c6(e,t){const r=de(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=q0),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function d6(e,t){const r=de(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,z.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new Bi(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Vv(e,t,r){const n=de(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Os(o))throw o;X(iw,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function k1(e,t,r){const n=de(e);let i=ce.min(),a=we();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=de(l),p=d.xs.get(c);return p!==void 0?z.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(n,o,Rn(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,t,r?i:ce.min(),r?a:we())).next(s=>(f6(n,X3(t),s),{documents:s,Qs:a})))}function f6(e,t,r){let n=e.Os.get(t)||ce.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class R1{constructor(){this.activeTargetIds=nF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class h6{constructor(){this.Mo=new R1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new R1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="ConnectivityMonitor";class M1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(D1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(D1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Fv(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",m6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===mf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const o=Fv(),s=this.zo(t,r.toUriEncodedString());X(tg,`Sending RPC '${t}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=$0(u);return this.Jo(t,s,l,n,c).then(d=>(X(tg,`Received RPC '${t}' ${o}: `,d),d),d=>{throw ss(tg,`RPC '${t}' ${o} failed with error: `,d,"url: ",s,"request:",n),d})}Ho(t,r,n,i,a,o){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=m6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class y6 extends g6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const o=Fv();return new Promise((s,l)=>{const u=new CC;u.setWithCredentials(!0),u.listenOnce(OC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Id.NO_ERROR:const d=u.getResponseJson();X(er,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Id.TIMEOUT:X(er,`RPC '${t}' ${o} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const p=u.getStatus();if(X(er,`RPC '${t}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(er,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);X(er,`RPC '${t}' ${o} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Fv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kC(),s=NC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(er,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new v6({Yo:w=>{m?X(er,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(p||(X(er,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),X(er,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),y=(w,x,b)=>{w.listen(x,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return y(d,Al.EventType.OPEN,()=>{m||(X(er,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),y(d,Al.EventType.CLOSE,()=>{m||(m=!0,X(er,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(d))}),y(d,Al.EventType.ERROR,w=>{m||(m=!0,ss(er,`RPC '${t}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(d,Al.EventType.MESSAGE,w=>{var x;if(!m){const b=w.data[0];Pe(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((x=E[0])==null?void 0:x.error);if(I){X(er,`RPC '${t}' stream ${i} received error:`,I);const j=I.status;let R=function(C){const D=dt[C];if(D!==void 0)return hO(D)}(j),S=I.message;R===void 0&&(R=F.INTERNAL,S="Unknown error status: "+j+" with message "+I.message),m=!0,g.a_(new Y(R,S)),d.close()}else X(er,`RPC '${t}' stream ${i} received:`,b),g.u_(b)}}),y(s,jC.STAT_EVENT,w=>{w.stat===Pv.PROXY?X(er,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===Pv.NOPROXY&&X(er,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e){return new bF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="PersistentStream";class IO{constructor(t,r,n,i,a,o,s,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TO(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(ci(r.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(L1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w6 extends IO{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=AF(this.serializer,t),n=function(a){if(!("targetChange"in a))return ce.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Dn(o.readTime):ce.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Lv(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=jv(l)?{documents:IF(a,l)}:{query:CF(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=gO(a,o.resumeToken);const u=Rv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){s.readTime=xf(a,o.snapshotVersion.toTimestamp());const u=Rv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=jF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Lv(this.serializer),r.removeTarget=t,this.q_(r)}}class _6 extends IO{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=TF(t.writeResults,t.commitTime),n=Dn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Lv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>PF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{}class b6 extends x6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(t,Dv(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(t,Dv(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class E6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class S6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{lo(this)&&(X(Xa,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await zu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qh(u)}(this))})}),this.Ra=new E6(n,i)}}async function qh(e){if(lo(e))for(const t of e.da)await t(!0)}async function zu(e){for(const t of e.da)await t(!1)}function CO(e,t){const r=de(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),lw(r)?sw(r):js(r).O_()&&ow(r,t))}function aw(e,t){const r=de(e),n=js(r);r.Ia.delete(t),n.O_()&&OO(r,t),r.Ia.size===0&&(n.O_()?n.L_():lo(r)&&r.Ra.set("Unknown"))}function ow(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ce.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}js(e).Y_(t)}function OO(e,t){e.Va.Ue(t),js(e).Z_(t)}function sw(e){e.Va=new yF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),js(e).start(),e.Ra.ua()}function lw(e){return lo(e)&&!js(e).x_()&&e.Ia.size>0}function lo(e){return de(e).Ea.size===0}function jO(e){e.Va=void 0}async function A6(e){e.Ra.set("Online")}async function P6(e){e.Ia.forEach((t,r)=>{ow(e,t)})}async function T6(e,t){jO(e),lw(e)?(e.Ra.ha(t),sw(e)):e.Ra.set("Unknown")}async function I6(e,t,r){if(e.Ra.set("Online"),t instanceof mO&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(e,t)}catch(n){X(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ef(e,n)}else if(t instanceof Nd?e.Va.Ze(t):t instanceof pO?e.Va.st(t):e.Va.tt(t),!r.isEqual(ce.min()))try{const n=await PO(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Xt.EMPTY_BYTE_STRING,c.snapshotVersion)),OO(a,l);const d=new Bi(c.target,l,u,c.sequenceNumber);ow(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){X(Xa,"Failed to raise snapshot:",n),await Ef(e,n)}}async function Ef(e,t,r){if(!Os(t))throw t;e.Ea.add(1),await zu(e),e.Ra.set("Offline"),r||(r=()=>PO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(Xa,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await qh(e)})}function NO(e,t){return t().catch(r=>Ef(e,r,t))}async function Wh(e){const t=de(e),r=ua(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:q0;for(;C6(t);)try{const i=await c6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,O6(t,i)}catch(i){await Ef(t,i)}kO(t)&&RO(t)}function C6(e){return lo(e)&&e.Ta.length<10}function O6(e,t){e.Ta.push(t);const r=ua(e);r.O_()&&r.X_&&r.ea(t.mutations)}function kO(e){return lo(e)&&!ua(e).x_()&&e.Ta.length>0}function RO(e){ua(e).start()}async function j6(e){ua(e).ra()}async function N6(e){const t=ua(e);for(const r of e.Ta)t.ea(r.mutations)}async function k6(e,t,r){const n=e.Ta.shift(),i=J0.from(n,t,r);await NO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Wh(e)}async function R6(e,t){t&&ua(e).X_&&await async function(n,i){if(function(o){return mF(o)&&o!==F.ABORTED}(i.code)){const a=n.Ta.shift();ua(n).B_(),await NO(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Wh(n)}}(e,t),kO(e)&&RO(e)}async function V1(e,t){const r=de(e);r.asyncQueue.verifyOperationInProgress(),X(Xa,"RemoteStore received new credentials");const n=lo(r);r.Ea.add(3),await zu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await qh(r)}async function D6(e,t){const r=de(e);t?(r.Ea.delete(2),await qh(r)):t||(r.Ea.add(2),await zu(r),r.Ra.set("Unknown"))}function js(e){return e.ma||(e.ma=function(r,n,i){const a=de(r);return a.sa(),new w6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:A6.bind(null,e),t_:P6.bind(null,e),r_:T6.bind(null,e),H_:I6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),lw(e)?sw(e):e.Ra.set("Unknown")):(await e.ma.stop(),jO(e))})),e.ma}function ua(e){return e.fa||(e.fa=function(r,n,i){const a=de(r);return a.sa(),new _6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:j6.bind(null,e),r_:R6.bind(null,e),ta:N6.bind(null,e),na:k6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Wh(e)):(await e.fa.stop(),e.Ta.length>0&&(X(Xa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new uw(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(e,t){if(ci("AsyncQueue",`${t}: ${e}`),Os(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ne.comparator(r.key,n.key):(r,n)=>ne.comparator(r.key,n.key),this.keyedMap=Pl(),this.sortedSet=new et(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Qo;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.ga=new et(ne.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):oe(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class fs{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new fs(t,r,Qo.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class L6{constructor(){this.queries=$1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=de(r),a=i.queries;i.queries=$1(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function $1(){return new so(e=>tO(e),Vh)}async function DO(e,t){const r=de(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new M6,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=cw(o,`Initialization of query '${So(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&dw(r)}async function MO(e,t){const r=de(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(t);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function V6(e,t){const r=de(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&dw(r)}function F6(e,t,r){const n=de(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function dw(e){e.Ca.forEach(t=>{t.next()})}var $v,z1;(z1=$v||($v={})).Ma="default",z1.Cache="cache";class LO{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new fs(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.key=t}}class FO{constructor(t){this.key=t}}class $6{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=rO(t),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new F1,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Fh(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),w=!0):this.su(p,m)||(n.track({type:2,doc:m}),w=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),w=!0):p&&!m&&(n.track({type:1,doc:p}),w=!0,(l||u)&&(s=!0)),w&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((c,d)=>function(m,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:w})}};return y(m)-y(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new fs(this.query,t.tu,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=we(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new FO(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new VO(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=we();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return fs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fw="SyncEngine";class z6{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class U6{constructor(t){this.key=t,this.hu=!1}}class B6{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new so(s=>tO(s),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new et(ne.comparator),this.Au=new Map,this.Ru=new tw,this.Vu={},this.mu=new Map,this.fu=ds.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q6(e,t,r=!0){const n=WO(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $O(n,t,r,!0),i}async function W6(e,t){const r=WO(e);await $O(r,t,!0,!1)}async function $O(e,t,r,n){const i=await d6(e.localStore,Rn(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await K6(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&CO(e.remoteStore,i),s}async function K6(e,t,r,n,i){e.pu=(d,p,m)=>async function(y,w,x,b){let E=w.view.ru(x);E.Cs&&(E=await k1(y.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,E)));const I=b&&b.targetChanges.get(w.targetId),j=b&&b.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(E,y.isPrimaryClient,I,j);return B1(y,w.targetId,R.au),R.snapshot}(e,d,p,m);const a=await k1(e.localStore,t,!0),o=new $6(t,a.Qs),s=o.ru(a.documents),l=$u.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);B1(e,r,u.au);const c=new z6(t,r,o);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function H6(e,t,r){const n=de(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!Vh(o,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Vv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&aw(n.remoteStore,i.targetId),zv(n,i.targetId)}).catch(Cs)):(zv(n,i.targetId),await Vv(n.localStore,i.targetId,!0))}async function G6(e,t){const r=de(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),aw(r.remoteStore,n.targetId))}async function Q6(e,t,r){const n=r$(e);try{const i=await function(o,s){const l=de(o),u=qe.now(),c=s.reduce((m,g)=>m.add(g.key),we());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=di(),y=we();return l.Ns.getEntries(m,c).next(w=>{g=w,g.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(w=>{d=w;const x=[];for(const b of s){const E=cF(b,d.get(b.key).overlayedDocument);E!=null&&x.push(new va(b.key,E,HC(E.value.mapValue),Xr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,s)}).next(w=>{p=w;const x=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,x)})}).then(()=>({batchId:p.batchId,changes:iO(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new et(ye)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await Uu(n,i.changes),await Wh(n.remoteStore)}catch(i){const a=cw(i,"Failed to persist write");r.reject(a)}}async function zO(e,t){const r=de(e);try{const n=await l6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Pe(o.hu,14607):i.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))}),await Uu(r,n,t)}catch(n){await Cs(n)}}function U1(e,t,r){const n=de(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const s=o.view.va(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=de(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)}),u&&dw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Y6(e,t,r){const n=de(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let o=new et(ne.comparator);o=o.insert(a,ir.newNoDocument(a,ce.min()));const s=we().add(a),l=new Uh(ce.min(),new Map,new et(ye),o,s);await zO(n,l),n.du=n.du.remove(a),n.Au.delete(t),hw(n)}else await Vv(n.localStore,t,!1).then(()=>zv(n,t,r)).catch(Cs)}async function X6(e,t){const r=de(e),n=t.batch.batchId;try{const i=await s6(r.localStore,t);BO(r,n,null),UO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Uu(r,i)}catch(i){await Cs(i)}}async function J6(e,t,r){const n=de(e);try{const i=await function(o,s){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Pe(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);BO(n,t,r),UO(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Uu(n,i)}catch(i){await Cs(i)}}function UO(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function BO(e,t,r){const n=de(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function zv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||qO(e,n)})}function qO(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(aw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),hw(e))}function B1(e,t,r){for(const n of r)n instanceof VO?(e.Ru.addReference(n.key,t),Z6(e,n)):n instanceof FO?(X(fw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||qO(e,n.key)):oe(19791,{wu:n})}function Z6(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(fw,"New document in limbo: "+r),e.Eu.add(n),hw(e))}function hw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ne(Le.fromString(t)),n=e.fu.next();e.Au.set(n,new U6(r)),e.du=e.du.insert(r,n),CO(e.remoteStore,new Bi(Rn(Q0(r.path)),n,"TargetPurposeLimboResolution",Dh.ce))}}async function Uu(e,t,r){const n=de(e),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{o.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=nw.As(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,p=>z.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>z.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Os(d))throw d;X(iw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,y)}}}(n.localStore,a))}async function e$(e,t){const r=de(e);if(!r.currentUser.isEqual(t)){X(fw,"User change. New user:",t.toKey());const n=await AO(r.localStore,t);r.currentUser=t,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Uu(r,n.Ls)}}function t$(e,t){const r=de(e),n=r.Au.get(t);if(n&&n.hu)return we().add(n.key);{let i=we();const a=r.Iu.get(t);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function WO(e){const t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Y6.bind(null,t),t.Pu.H_=V6.bind(null,t.eventManager),t.Pu.yu=F6.bind(null,t.eventManager),t}function r$(e){const t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=J6.bind(null,t),t}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return o6(this.persistence,new n6,t.initialUser,this.serializer)}Cu(t){return new SO(rw.mi,this.serializer)}Du(t){return new h6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class n$ extends Sf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Pe(this.persistence.referenceDelegate instanceof bf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new UF(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new SO(n=>bf.mi(n,r),this.serializer)}}class Uv{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>U1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=e$.bind(null,this.syncEngine),await D6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new L6}()}createDatastore(t){const r=Bh(t.databaseInfo.databaseId),n=function(a){return new y6(a)}(t.databaseInfo);return function(a,o,s,l){return new b6(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new S6(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>U1(this.syncEngine,r,0),function(){return M1.v()?new M1:new p6}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new B6(i,a,o,s,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=de(i);X(Xa,"RemoteStore shutting down."),a.Ea.add(5),await zu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}Uv.provider={build:()=>new Uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ci("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class i${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=B0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{X(ca,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(X(ca,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=cw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function ng(e,t){e.asyncQueue.verifyOperationInProgress(),X(ca,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await AO(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function q1(e,t){e.asyncQueue.verifyOperationInProgress();const r=await a$(e);X(ca,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>V1(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>V1(t.remoteStore,i)),e._onlineComponents=t}async function a$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(ca,"Using user provided OfflineComponentProvider");try{await ng(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ss("Error using user provided cache. Falling back to memory cache: "+r),await ng(e,new Sf)}}else X(ca,"Using default OfflineComponentProvider"),await ng(e,new n$(void 0));return e._offlineComponents}async function HO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(ca,"Using user provided OnlineComponentProvider"),await q1(e,e._uninitializedComponentsProvider._online)):(X(ca,"Using default OnlineComponentProvider"),await q1(e,new Uv))),e._onlineComponents}function o$(e){return HO(e).then(t=>t.syncEngine)}async function GO(e){const t=await HO(e),r=t.eventManager;return r.onListen=q6.bind(null,t.syncEngine),r.onUnlisten=H6.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=W6.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=G6.bind(null,t.syncEngine),r}function s$(e,t,r={}){const n=new ti;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new KO({next:p=>{c.Nu(),o.enqueueAndForget(()=>MO(a,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new LO(Q0(s.path),c,{includeMetadataChanges:!0,qa:!0});return DO(a,d)}(await GO(e),e.asyncQueue,t,r,n)),n.promise}function l$(e,t,r={}){const n=new ti;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new KO({next:p=>{c.Nu(),o.enqueueAndForget(()=>MO(a,d)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new LO(s,c,{includeMetadataChanges:!0,qa:!0});return DO(a,d)}(await GO(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firestore.googleapis.com",K1=!0;class H1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YO,this.ssl=K1}else this.host=t.host,this.ssl=t.ssl??K1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=EO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$F)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QO(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kh{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new p3;switch(n.type){case"firstParty":return new y3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=W1.get(r);n&&(X("ComponentProvider","Removing Datastore"),W1.delete(r),n.terminate())}(this),Promise.resolve()}}function u$(e,t,r,n={}){var u;e=vn(e,Kh);const i=$0(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;i&&(BV(`https://${s}`),HV("Firestore",!0)),a.host!==YO&&a.host!==s&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!df(l,o)&&(e._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=rr.MOCK_USER;else{c=qV(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new rr(p)}e._authCredentials=new m3(new DC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ns(this.firestore,t,this._query)}}class ut{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ut(this.firestore,t,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Lu(r,ut._jsonSchema))return new ut(t,n||null,new ne(Le.fromString(r.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:mt("string",ut._jsonSchemaVersion),referencePath:mt("string")};class ta extends Ns{constructor(t,r,n){super(t,r,Q0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ut(this.firestore,null,new ne(t))}withConverter(t){return new ta(this.firestore,t,this._path)}}function uo(e,t,...r){if(e=li(e),MC("collection","path",t),e instanceof Kh){const n=Le.fromString(t,...r);return o1(n),new ta(e,null,n)}{if(!(e instanceof ut||e instanceof ta))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Le.fromString(t,...r));return o1(n),new ta(e.firestore,null,n)}}function Bu(e,t,...r){if(e=li(e),arguments.length===1&&(t=B0.newId()),MC("doc","path",t),e instanceof Kh){const n=Le.fromString(t,...r);return a1(n),new ut(e,null,new ne(n))}{if(!(e instanceof ut||e instanceof ta))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Le.fromString(t,...r));return a1(n),new ut(e.firestore,e instanceof ta?e.converter:null,new ne(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="AsyncQueue";class Q1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TO(this,"async_queue_retry"),this._c=()=>{const n=rg();n&&X(G1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=rg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=rg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ti;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Os(t))throw t;X(G1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",Y1(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=uw.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:Y1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Y1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class co extends Kh{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new Q1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q1(t),this._firestoreClient=void 0,await t}}}function c$(e,t){const r=typeof e=="object"?e:n3(),n=typeof e=="string"?e:mf,i=J4(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=zV("firestore");a&&u$(i,...a)}return i}function pw(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||d$(e),e._firestoreClient}function d$(e){var n,i,a;const t=e._freezeSettings(),r=function(s,l,u,c){return new D3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new i$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hr(Xt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Hr(Xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lu(t,Hr._jsonSchema))return Hr.fromBase64String(t.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:mt("string",Hr._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(t){if(Lu(t,Mn._jsonSchema))return new Mn(t.latitude,t.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:mt("string",Mn._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ln._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lu(t,Ln._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Ln(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ln._jsonSchemaVersion="firestore/vectorValue/1.0",Ln._jsonSchema={type:mt("string",Ln._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=/^__.*__$/;class h${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new va(t,this.data,this.fieldMask,r,this.fieldTransforms):new Fu(t,this.data,r,this.fieldTransforms)}}class XO{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new va(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function JO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:e})}}class gw{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Af(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JO(this.Ac)&&f$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class p${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Bh(t)}Cc(t,r,n,i=!1){return new gw({Ac:t,methodName:r,Dc:n,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gh(e){const t=e._freezeSettings(),r=Bh(e._databaseId);return new p$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ZO(e,t,r,n,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);vw("Data must be an object, but it was:",o,n);const s=ej(n,o);let l,u;if(a.merge)l=new kr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=Bv(t,d,r);if(!o.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rj(c,p)||c.push(p)}l=new kr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new h$(new _r(s),l,u)}class Qh extends mw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qh}}function m$(e,t,r,n){const i=e.Cc(1,t,r);vw("Data must be an object, but it was:",i,n);const a=[],o=_r.empty();ga(n,(l,u)=>{const c=yw(t,l,r);u=li(u);const d=i.yc(c);if(u instanceof Qh)a.push(c);else{const p=qu(u,d);p!=null&&(a.push(c),o.set(c,p))}});const s=new kr(a);return new XO(o,s,i.fieldTransforms)}function g$(e,t,r,n,i,a){const o=e.Cc(1,t,r),s=[Bv(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(Bv(t,a[p])),l.push(a[p+1]);const u=[],c=_r.empty();for(let p=s.length-1;p>=0;--p)if(!rj(u,s[p])){const m=s[p];let g=l[p];g=li(g);const y=o.yc(m);if(g instanceof Qh)u.push(m);else{const w=qu(g,y);w!=null&&(u.push(m),c.set(m,w))}}const d=new kr(u);return new XO(c,d,o.fieldTransforms)}function v$(e,t,r,n=!1){return qu(r,e.Cc(n?4:3,t))}function qu(e,t){if(tj(e=li(e)))return vw("Unsupported field value:",t,e),ej(e,t);if(e instanceof mw)return function(n,i){if(!JO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=qu(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=li(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=qe.fromDate(n);return{timestampValue:xf(i.serializer,a)}}if(n instanceof qe){const a=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xf(i.serializer,a)}}if(n instanceof Mn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hr)return{bytesValue:gO(i.serializer,n._byteString)};if(n instanceof ut){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ew(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ln)return function(o,s){return{mapValue:{fields:{[WC]:{stringValue:KC},[gf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return Y0(s.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Rh(n)}`)}(e,t)}function ej(e,t){const r={};return FC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ga(e,(n,i)=>{const a=qu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function tj(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof Mn||e instanceof Hr||e instanceof ut||e instanceof mw||e instanceof Ln)}function vw(e,t,r){if(!tj(r)||!LC(r)){const n=Rh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function Bv(e,t,r){if((t=li(t))instanceof Hh)return t._internalPath;if(typeof t=="string")return yw(e,t);throw Af("Field path arguments must be of type string or ",e,!1,void 0,r)}const y$=new RegExp("[~\\*/\\[\\]]");function yw(e,t,r){if(t.search(y$)>=0)throw Af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Hh(...t.split("."))._internalPath}catch{throw Af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Af(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,s+e+l)}function rj(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new w$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ww("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class w$ extends nj{data(){return super.data()}}function ww(e,t){return typeof t=="string"?yw(e,t):t instanceof Hh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _w{}class x$ extends _w{}function b$(e,t,...r){let n=[];t instanceof _w&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof xw).length,s=a.filter(l=>l instanceof Yh).length;if(o>1||o>0&&s>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Yh extends x${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Yh(t,r,n)}_apply(t){const r=this._parse(t);return ij(t._query,r),new Ns(t.firestore,t.converter,Nv(t._query,r))}_parse(t){const r=Gh(t.firestore);return function(a,o,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){J1(d,c);const g=[];for(const y of d)g.push(X1(l,a,y));p={arrayValue:{values:g}}}else p=X1(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||J1(d,c),p=v$(s,o,d,c==="in"||c==="not-in");return pt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function E$(e,t,r){const n=t,i=ww("where",e);return Yh._create(i,n,r)}class xw extends _w{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new xw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:yn.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)ij(o,l),o=Nv(o,l)}(t._query,r),new Ns(t.firestore,t.converter,Nv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X1(e,t,r){if(typeof(r=li(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eO(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Le.fromString(r));if(!ne.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return p1(e,new ne(n))}if(r instanceof ut)return p1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(r)}.`)}function J1(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ij(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class S${convertValue(t,r="none"){switch(la(t)){case 0:return null;case 1:return t.booleanValue;case 2:return st(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw oe(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ga(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[gf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>st(o.doubleValue));return new Ln(r)}convertGeoPoint(t){return new Mn(st(t.latitude),st(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Lh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const r=oa(t);return new qe(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Le.fromString(t);Pe(bO(n),9688,{name:t});const i=new hu(n.get(1),n.get(3)),a=new ne(n.popFirst(5));return i.isEqual(r)||ci(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Il{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends nj{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(ww("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=za._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:mt("string",za._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class kd extends za{data(t={}){return super.data(t)}}class Yo{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new kd(this._firestore,this._userDataWriter,n.key,n,new Il(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new kd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Il(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new kd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Il(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:A$(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=B0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function A$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(e){e=vn(e,ut);const t=vn(e.firestore,co);return s$(pw(t),e._key).then(r=>O$(t,e,r))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:mt("string",Yo._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class oj extends S${constructor(t){super(),this.firestore=t}convertBytes(t){return new Hr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ut(this.firestore,null,r)}}function Xh(e){e=vn(e,Ns);const t=vn(e.firestore,co),r=pw(t),n=new oj(t);return _$(e._query),l$(r,e._query).then(i=>new Yo(t,n,e,i))}function T$(e,t,r){e=vn(e,ut);const n=vn(e.firestore,co),i=aj(e.converter,t,r);return Jh(n,[ZO(Gh(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Xr.none())])}function I$(e,t,r,...n){e=vn(e,ut);const i=vn(e.firestore,co),a=Gh(i);let o;return o=typeof(t=li(t))=="string"||t instanceof Hh?g$(a,"updateDoc",e._key,t,r,n):m$(a,"updateDoc",e._key,t),Jh(i,[o.toMutation(e._key,Xr.exists(!0))])}function C$(e){return Jh(vn(e.firestore,co),[new X0(e._key,Xr.none())])}function bw(e,t){const r=vn(e.firestore,co),n=Bu(e),i=aj(e.converter,t);return Jh(r,[ZO(Gh(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Xr.exists(!1))]).then(()=>n)}function Jh(e,t){return function(n,i){const a=new ti;return n.asyncQueue.enqueueAndForget(async()=>Q6(await o$(n),i,a)),a.promise}(pw(e),t)}function O$(e,t,r){const n=r.docs.get(t._key),i=new oj(e);return new za(e,i,t._key,n,new Il(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(i){Is=i})(r3),hf(new uu("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new co(new g3(n.getProvider("auth-internal")),new w3(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Go(t1,r1,t),Go(t1,r1,"esm2020")})();var j$="firebase",N$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go(j$,N$,"app");const k$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},R$=AC(k$),bn=c$(R$),fl=async()=>(await Xh(uo(bn,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),D$=async e=>(await bw(uo(bn,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,M$=async(e,t)=>{const r=Bu(bn,"incidents",e);await I$(r,{...t})},L$=async e=>{await C$(Bu(bn,"incidents",e))},V$=async()=>(await Xh(uo(bn,"users"))).docs.map(t=>({...t.data(),id:t.id})),F$=async e=>{const t=b$(uo(bn,"users"),E$("username","==",e)),r=await Xh(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},$$=async e=>(await bw(uo(bn,"users"),e)).id,z$=async e=>(await bw(uo(bn,"comments"),{...e,timestamp:e.timestamp||new Date().toISOString()})).id,U$=async()=>(await Xh(uo(bn,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),B$=async()=>{const e=Bu(bn,"settings","app"),t=await P$(e);return t.exists()?t.data():null},q$=async e=>{const t=Bu(bn,"settings","app");await T$(t,e,{merge:!0})},W$=async()=>{(await V$()).length===0&&await $$({username:"admin",password:"admin123",name:"Administrador",role:"admin",avatar:"",email:"admin@incidentalert.com"}),await B$()||await q$({theme:"light",notifications:!0,autoAssign:!1,language:"es"})},K$=({onAdd:e})=>{const[t,r]=_.useState("MOV-"),[n,i]=_.useState(""),[a,o]=_.useState(""),[s,l]=_.useState(""),[u,c]=_.useState(""),[d,p]=_.useState(""),[m,g]=_.useState(""),[y,w]=_.useState(new Date().toISOString().split("T")[0]),[x,b]=_.useState("abierta"),[E,I]=_.useState("media"),[j,R]=_.useState("correctivo"),S=A=>{if(A.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const C={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:s.trim(),relevante:u.trim(),realizado:d.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:y,status:x,priority:E,type:j,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(C),r("MOV-"),i(""),o(""),l(""),c(""),p(""),g(""),w(new Date().toISOString().split("T")[0]),b("abierta"),I("media"),R("correctivo")};return h.jsx("div",{className:"incident-form-container",children:h.jsxs("form",{className:"incident-form",onSubmit:S,children:[h.jsx("h2",{children:" Crear Nueva Incidencia"}),h.jsxs("div",{className:"form-section",children:[h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),h.jsx("input",{id:"name",type:"text",value:t,onChange:A=>r(A.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"description",children:"Descripcin"}),h.jsx("textarea",{id:"description",value:a,onChange:A=>o(A.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",value:u,onChange:A=>c(A.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",value:d,onChange:A=>p(A.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",value:m,onChange:A=>g(A.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Prioridad"}),h.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(A=>h.jsxs("button",{type:"button",className:`chip-option priority-${A} ${E===A?"selected":""}`,onClick:()=>I(A),children:[A==="baja"&&" Baja",A==="media"&&" Media",A==="alta"&&" Alta",A==="crtica"&&" Crtica"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Estado"}),h.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${x===A?"selected":""}`,onClick:()=>b(A),children:[A==="abierta"&&"Abierta",A==="en-progreso"&&"En Progreso",A==="puesto-en-test"&&"Puesto en Test",A==="verificado-en-test"&&"Verificado en Test",A==="resuelta"&&"Resuelta",A==="cerrada"&&"Cerrada"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Tipo"}),h.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${j===A?"selected":""}`,onClick:()=>R(A),children:[A==="correctivo"&&" Correctivo",A==="evolutivo"&&" Evolutivo",A==="tarea"&&" Tarea"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Informacin Adicional"}),h.jsxs("div",{className:"form-grid",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"creationDate",type:"date",value:y,onChange:A=>w(A.target.value)})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"contactUser",type:"text",value:s,onChange:A=>l(A.target.value),placeholder:"Nombre del contacto"})]})]})]}),h.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},H$=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=_.useState(e.name),[a,o]=_.useState(e.contactUser||""),[s,l]=_.useState(e.prQA2||""),[u,c]=_.useState(e.prMain||""),[d,p]=_.useState(e.creationDate||""),[m,g]=_.useState(e.status),[y,w]=_.useState(e.priority),[x,b]=_.useState(e.type),E=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:s.trim(),prMain:u.trim(),creationDate:d,status:m,priority:y,type:x})};return h.jsx("div",{className:"incident-edit-overlay",children:h.jsxs("form",{className:"incident-edit-form",onSubmit:E,children:[h.jsx("h2",{children:"Editar Incidencia"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),h.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>o(I.target.value),placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),h.jsx("input",{id:"edit-prQA2",type:"text",value:s,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),h.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:I=>c(I.target.value),placeholder:"ID de PR para MAIN"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"edit-creationDate",type:"date",value:d,onChange:I=>p(I.target.value)})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-status",children:"Estado"}),h.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),h.jsxs("select",{id:"edit-priority",value:y,onChange:I=>w(I.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),h.jsxs("select",{id:"edit-type",value:x,onChange:I=>b(I.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function sj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sj(e))&&(n&&(n+=" "),n+=t);return n}var G$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ew(e){if(typeof e!="string")return!1;var t=G$;return t.includes(e)}var Q$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y$=new Set(Q$);function lj(e){return typeof e!="string"?!1:Y$.has(e)}function uj(e){return typeof e=="string"&&e.startsWith("data-")}function wn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(lj(r)||uj(r))&&(t[r]=e[r]);return t}function vu(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wn(t)}return typeof e=="object"&&!Array.isArray(e)?wn(e):null}function en(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(lj(r)||uj(r)||Ew(r))&&(t[r]=e[r]);return t}var X$=["children","width","height","viewBox","className","style","title","desc"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}function J$(e,t){if(e==null)return{};var r,n,i=Z$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Z$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sw=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=J$(e,X$),d=a||{width:n,height:i,x:0,y:0},p=Oe("recharts-surface",o);return _.createElement("svg",qv({},en(c),{className:p,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,l),_.createElement("desc",null,u),r)}),e5=["children","className"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function t5(e,t){if(e==null)return{};var r,n,i=r5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hr=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=t5(e,e5),a=Oe("recharts-layer",n);return _.createElement("g",Wv({className:a},en(i),{ref:t}),r)}),cj=_.createContext(null),n5=()=>_.useContext(cj);function Me(e){return function(){return e}}const dj=Math.cos,Pf=Math.sin,En=Math.sqrt,Tf=Math.PI,Zh=2*Tf,Kv=Math.PI,Hv=2*Kv,Ca=1e-6,i5=Hv-Ca;function fj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function a5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fj;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class o5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fj:a5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ca)if(!(Math.abs(d*l-u*c)>Ca)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,y=l*l+u*u,w=m*m+g*g,x=Math.sqrt(y),b=Math.sqrt(p),E=a*Math.tan((Kv-Math.acos((y+p-w)/(2*x*b)))/2),I=E/b,j=E/x;Math.abs(I-1)>Ca&&this._append`L${t+I*c},${r+I*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+j*l},${this._y1=r+j*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ca||Math.abs(this._y1-c)>Ca)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%Hv+Hv),p>i5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Ca&&this._append`A${n},${n},0,${+(p>=Kv)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Aw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new o5(t)}function Pw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hj(e){this._context=e}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ep(e){return new hj(e)}function pj(e){return e[0]}function mj(e){return e[1]}function gj(e,t){var r=Me(!0),n=null,i=ep,a=null,o=Aw(s);e=typeof e=="function"?e:e===void 0?pj:Me(e),t=typeof t=="function"?t:t===void 0?mj:Me(t);function s(l){var u,c=(l=Pw(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Me(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Jc(e,t,r){var n=null,i=Me(!0),a=null,o=ep,s=null,l=Aw(u);e=typeof e=="function"?e:e===void 0?pj:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mj:Me(+r);function u(d){var p,m,g,y=(d=Pw(d)).length,w,x=!1,b,E=new Array(y),I=new Array(y);for(a==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&i(w=d[p],p,d))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],I[g]);s.lineEnd(),s.areaEnd()}x&&(E[p]=+e(w,p,d),I[p]=+t(w,p,d),s.point(n?+n(w,p,d):E[p],r?+r(w,p,d):I[p]))}if(b)return s=null,b+""||null}function c(){return gj().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Me(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Me(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class vj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s5(e){return new vj(e,!0)}function l5(e){return new vj(e,!1)}const Tw={draw(e,t){const r=En(t/Tf);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},u5={draw(e,t){const r=En(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yj=En(1/3),c5=yj*2,d5={draw(e,t){const r=En(t/c5),n=r*yj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},f5={draw(e,t){const r=En(t),n=-r/2;e.rect(n,n,r,r)}},h5=.8908130915292852,wj=Pf(Tf/10)/Pf(7*Tf/10),p5=Pf(Zh/10)*wj,m5=-dj(Zh/10)*wj,g5={draw(e,t){const r=En(t*h5),n=p5*r,i=m5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Zh*a/5,s=dj(o),l=Pf(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ig=En(3),v5={draw(e,t){const r=-En(t/(ig*3));e.moveTo(0,r*2),e.lineTo(-ig*r,-r),e.lineTo(ig*r,-r),e.closePath()}},zr=-.5,Ur=En(3)/2,Gv=1/En(12),y5=(Gv/2+1)*3,w5={draw(e,t){const r=En(t/y5),n=r/2,i=r*Gv,a=n,o=r*Gv+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(zr*n-Ur*i,Ur*n+zr*i),e.lineTo(zr*a-Ur*o,Ur*a+zr*o),e.lineTo(zr*s-Ur*l,Ur*s+zr*l),e.lineTo(zr*n+Ur*i,zr*i-Ur*n),e.lineTo(zr*a+Ur*o,zr*o-Ur*a),e.lineTo(zr*s+Ur*l,zr*l-Ur*s),e.closePath()}};function _5(e,t){let r=null,n=Aw(i);e=typeof e=="function"?e:Me(e||Tw),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function If(){}function Cf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _j(e){this._context=e}_j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x5(e){return new _j(e)}function xj(e){this._context=e}xj.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b5(e){return new xj(e)}function bj(e){this._context=e}bj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E5(e){return new bj(e)}function Ej(e){this._context=e}Ej.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S5(e){return new Ej(e)}function Z1(e){return e<0?-1:1}function eS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Z1(a)+Z1(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function tS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ag(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Of(e){this._context=e}Of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ag(this,this._t0,tS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ag(this,tS(this,r=eS(this,e,t)),r);break;default:ag(this,this._t0,r=eS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Sj(e){this._context=new Aj(e)}(Sj.prototype=Object.create(Of.prototype)).point=function(e,t){Of.prototype.point.call(this,t,e)};function Aj(e){this._context=e}Aj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function A5(e){return new Of(e)}function P5(e){return new Sj(e)}function Pj(e){this._context=e}Pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rS(e),i=rS(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function T5(e){return new Pj(e)}function tp(e,t){this._context=e,this._t=t}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function I5(e){return new tp(e,.5)}function C5(e){return new tp(e,0)}function O5(e){return new tp(e,1)}function hs(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function j5(e,t){return e[t]}function N5(e){const t=[];return t.key=e,t}function k5(){var e=Me([]),t=Qv,r=hs,n=j5;function i(a){var o=Array.from(e.apply(this,arguments),N5),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=Pw(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Me(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Qv:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??hs,i):r},i}function R5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}hs(e,t)}}function D5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}hs(e,t)}}function M5(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var y=e[t[g]],w=y[n][1]||0,x=y[n-1][1]||0;m+=w-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,hs(e,t)}}var rp={},Tj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Tj);var Iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Iw);var np={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(np);var ip={},Ij={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Ij);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ij,r=np;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(ip);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tj,r=Iw,n=np,i=ip;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(rp);var L5=rp.get;const Ja=wi(L5);var Vt=e=>e===0?0:e>0?1:-1,_n=e=>typeof e=="number"&&e!=+e,fi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,te=e=>(typeof e=="number"||e instanceof Number)&&!_n(e),zn=e=>te(e)||typeof e=="string",V5=0,yu=e=>{var t=++V5;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&typeof t!="string")return n;var a;if(fi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return _n(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Cj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function St(e,t,r){return te(e)&&te(t)?e+r*(t-e):t}function F5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ja(n,t))===r)}var $t=e=>e===null||typeof e>"u",Wu=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $5(e){return e!=null}function Ku(){}var z5=["type","size","sizeType"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){U5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U5(e,t,r){return(t=B5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5(e){var t=q5(e,"string");return typeof t=="symbol"?t:t+""}function q5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W5(e,t){if(e==null)return{};var r,n,i=K5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function K5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oj={symbolCircle:Tw,symbolCross:u5,symbolDiamond:d5,symbolSquare:f5,symbolStar:g5,symbolTriangle:v5,symbolWye:w5},H5=Math.PI/180,G5=e=>{var t="symbol".concat(Wu(e));return Oj[t]||Tw},Q5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*H5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Y5=(e,t)=>{Oj["symbol".concat(Wu(e))]=t},Cw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=W5(e,z5),a=iS(iS({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=G5(o),m=_5().type(p).size(Q5(r,n,o)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=en(a);return te(u)&&te(c)&&te(r)?_.createElement("path",Yv({},d,{className:Oe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Cw.registerSymbol=Y5;var jj=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,X5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ew(i)&&(n[i]=a=>r[i](r,a))}),n},J5=(e,t,r)=>n=>(e(t,r,n),null),Hu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Ew(i)&&typeof a=="function"&&(n||(n={}),n[i]=J5(a,t,r))}),n};function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t){var r=Z5({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iz(e,t,r){return(t=az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qr=32,sz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function lz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=qr/2,a=qr/6,o=qr/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:qr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(qr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var c=nz({},t);return delete c.legendIcon,_.cloneElement(t.legendIcon,c)}return _.createElement(Cw,{fill:s,cx:i,cy:i,size:qr,sizeType:"diameter",type:l})}function uz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:qr,height:qr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Oe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,d):c.value;return _.createElement("li",jf({className:m,style:l,key:"legend-item-".concat(d)},Hu(e,c,d)),_.createElement(Sw,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},_.createElement(lz,{data:c,iconType:o,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var cz=e=>{var t=zt(e,sz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(uz,jf({},t,{payload:r})))},Nj={},kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(kj);var Ow={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ow);var Rj={},ap={},Dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Dj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ap);var Mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ap,r=Mj;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Rj);var Lj={},Vj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Vj);var Fj={},jw={},$j={},Nw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Nw);var kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kw);var Rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Rw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nw,r=kw,n=Rw;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(g,y,w,x,b,E){const I=p(g,y,w,x,b,E);return I!==void 0?!!I:a(g,y,m,E)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return s(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let y=0;y<g.length;y++){const w=g[y];if(!r.isPrimitive(c)&&!(w in c)||d[w]===void 0&&c[w]!==void 0||d[w]===null&&c[w]!==null||!p(c[w],d[w],w,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of d.entries()){const w=c.get(g);if(p(w,y,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<d.length;y++){const w=d[y];let x=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const E=c[b];let I=!1;if(p(E,w,y,c,d,m)&&(I=!0),I){g.add(b),x=!0;break}}if(!x)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})($j);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$j;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(jw);var zj={},Dw={},Uj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Uj);var Mw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Mw);var Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",I="[object BigUint64Array]",j="[object Int8Array]",R="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",C="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=y,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=R,e.int32ArrayTag=S,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=E,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=x})(Lw);var Bj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Bj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uj,r=Mw,n=Lw,i=kw,a=Bj;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,d,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const w=new Array(c.length);m.set(c,w);for(let x=0;x<c.length;x++)w[x]=s(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(w.index=c.index),Object.hasOwn(c,"input")&&(w.input=c.input),w}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const w=new RegExp(c.source,c.flags);return w.lastIndex=c.lastIndex,w}if(c instanceof Map){const w=new Map;m.set(c,w);for(const[x,b]of c)w.set(x,s(b,x,p,m,g));return w}if(c instanceof Set){const w=new Set;m.set(c,w);for(const x of c)w.add(s(x,void 0,p,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const w=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,w);for(let x=0;x<c.length;x++)w[x]=s(c[x],x,p,m,g);return w}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const w=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,w),l(w,c,p,m,g),w}if(typeof File<"u"&&c instanceof File){const w=new File([c],c.name,{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(typeof Blob<"u"&&c instanceof Blob){const w=new Blob([c],{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Error){const w=new c.constructor;return m.set(c,w),w.message=c.message,w.name=c.name,w.stack=c.stack,w.cause=c.cause,l(w,c,p,m,g),w}if(c instanceof Boolean){const w=new Boolean(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Number){const w=new Number(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof String){const w=new String(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(typeof c=="object"&&u(c)){const w=Object.create(Object.getPrototypeOf(c));return m.set(c,w),l(w,c,p,m,g),w}return c}function l(c,d,p=c,m,g){const y=[...Object.keys(d),...t.getSymbols(d)];for(let w=0;w<y.length;w++){const x=y[w],b=Object.getOwnPropertyDescriptor(c,x);(b==null||b.writable)&&(c[x]=s(d[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Dw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jw,r=zj;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(Fj);var qj={},Wj={},Kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw,r=Lw;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kj;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Wj);var Hj={},Vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Vw);var Gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Gj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw,r=Vw,n=Gj,i=ip;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(Hj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jw,r=np,n=Wj,i=rp,a=Hj;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(qj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow,r=Vj,n=Fj,i=qj;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(Lj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj,r=Ow,n=Rj,i=Lj;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(Nj);var dz=Nj.uniqBy;const sS=wi(dz);function Qj(e,t,r){return t===!0?sS(e,r):typeof t=="function"?sS(e,t):e}var Yj={exports:{}},Xj={},Jj={exports:{}},Zj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=_;function fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hz=typeof Object.is=="function"?Object.is:fz,pz=ps.useState,mz=ps.useEffect,gz=ps.useLayoutEffect,vz=ps.useDebugValue;function yz(e,t){var r=t(),n=pz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return gz(function(){i.value=r,i.getSnapshot=t,og(i)&&a({inst:i})},[e,r,t]),mz(function(){return og(i)&&a({inst:i}),e(function(){og(i)&&a({inst:i})})},[e]),vz(r),r}function og(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hz(e,r)}catch{return!0}}function wz(e,t){return t()}var _z=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wz:yz;Zj.useSyncExternalStore=ps.useSyncExternalStore!==void 0?ps.useSyncExternalStore:_z;Jj.exports=Zj;var xz=Jj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=_,bz=xz;function Ez(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sz=typeof Object.is=="function"?Object.is:Ez,Az=bz.useSyncExternalStore,Pz=op.useRef,Tz=op.useEffect,Iz=op.useMemo,Cz=op.useDebugValue;Xj.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Pz(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Iz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,Sz(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=Az(e,a[0],a[1]);return Tz(function(){o.hasValue=!0,o.value=s},[s]),Cz(s),s};Yj.exports=Xj;var Oz=Yj.exports,Fw=_.createContext(null),jz=e=>e,Fe=()=>{var e=_.useContext(Fw);return e?e.store.dispatch:jz},Rd=()=>{},Nz=()=>Rd,kz=(e,t)=>e===t;function ee(e){var t=_.useContext(Fw);return Oz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Nz,t?t.store.getState:Rd,t?t.store.getState:Rd,t?e:Rd,kz)}function Rz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Dz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Mz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var lS=e=>Array.isArray(e)?e:[e];function Lz(e){const t=Array.isArray(e[0])?e[0]:e;return Mz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Vz(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Fz=class{constructor(e){this.value=e}deref(){return this.value}},$z=typeof WeakRef<"u"?WeakRef:Fz,zz=0,uS=1;function Zc(){return{s:zz,v:void 0,o:null,p:null}}function eN(e,t={}){let r=Zc();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const w=y.get(g);w===void 0?(s=Zc(),y.set(g,s)):s=w}else{let y=s.p;y===null&&(s.p=y=new Map);const w=y.get(g);w===void 0?(s=Zc(),y.set(g,s)):s=w}}const u=s;let c;if(s.s===uS)c=s.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new $z(c):c}return u.s=uS,u.v=c,c}return o.clearCache=()=>{r=Zc(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Uz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Rz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=eN,argsMemoizeOptions:g=[]}=c,y=lS(p),w=lS(g),x=Lz(i),b=d(function(){return a++,u.apply(null,arguments)},...y),E=m(function(){o++;const j=Vz(x,arguments);return s=b.apply(null,j),s},...w);return Object.assign(E,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=Uz(eN),Bz=Object.assign((e,t=L)=>{Dz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>Bz}),tN={},rN={},nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(nN);var iN={},$w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($w);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(iN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nN,r=iN,n=ip;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,g)=>{let y=m;for(let w=0;w<g.length&&y!=null;++w)y=y[g[w]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<d.length;y++){const w=t.compareValues(m.criteria[y],g.criteria[y],s[y]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(rN);var aN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(aN);var zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vw,r=ap,n=Nw,i=Rw;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN,r=aN,n=zw;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(tN);var qz=tN.sortBy;const sp=wi(qz);var oN=e=>e.legend.settings,Wz=e=>e.legend.size,Kz=e=>e.legend.payload,Hz=L([Kz,oN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sp(n,r):n});function Gz(){return ee(Hz)}var ed=1;function sN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ed||Math.abs(o.left-t.left)>ed||Math.abs(o.top-t.top)>ed||Math.abs(o.width-t.width)>ed)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qz=typeof Symbol=="function"&&Symbol.observable||"@@observable",cS=Qz,sg=()=>Math.random().toString(36).substring(7).split("").join("."),Yz={INIT:`@@redux/INIT${sg()}`,REPLACE:`@@redux/REPLACE${sg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sg()}`},Nf=Yz;function Uw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lN(e,t,r){if(typeof e!="function")throw new Error(qt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qt(1));return r(lN)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((w,x)=>{o.set(x,w)}))}function c(){if(l)throw new Error(qt(3));return i}function d(w){if(typeof w!="function")throw new Error(qt(4));if(l)throw new Error(qt(5));let x=!0;u();const b=s++;return o.set(b,w),function(){if(x){if(l)throw new Error(qt(6));x=!1,u(),o.delete(b),a=null}}}function p(w){if(!Uw(w))throw new Error(qt(7));if(typeof w.type>"u")throw new Error(qt(8));if(typeof w.type!="string")throw new Error(qt(17));if(l)throw new Error(qt(9));try{l=!0,i=n(i,w)}finally{l=!1}return(a=o).forEach(b=>{b()}),w}function m(w){if(typeof w!="function")throw new Error(qt(10));n=w,p({type:Nf.REPLACE})}function g(){const w=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(qt(11));function b(){const I=x;I.next&&I.next(c())}return b(),{unsubscribe:w(b)}},[cS](){return this}}}return p({type:Nf.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[cS]:g}}function Xz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nf.INIT})>"u")throw new Error(qt(12));if(typeof r(void 0,{type:Nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qt(13))})}function uN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{Xz(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=o[d],g=p(m,s);if(typeof g>"u")throw s&&s.type,new Error(qt(14));u[d]=g,l=l||g!==m}return l=l||n.length!==Object.keys(o).length,l?u:o}}function kf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Jz(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(qt(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=kf(...s)(i.dispatch),{...i,dispatch:a}}}function cN(e){return Uw(e)&&"type"in e&&typeof e.type=="string"}var dN=Symbol.for("immer-nothing"),dS=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rr=Object,ms=Rr.getPrototypeOf,Rf="constructor",lp="prototype",Xv="configurable",Df="enumerable",Dd="writable",wu="value",hi=e=>!!e&&!!e[pr];function xn(e){var t;return e?fN(e)||up(e)||!!e[dS]||!!((t=e[Rf])!=null&&t[dS])||cp(e)||dp(e):!1}var Zz=Rr[lp][Rf].toString(),fS=new WeakMap;function fN(e){if(!e||!Bw(e))return!1;const t=ms(e);if(t===null||t===Rr[lp])return!0;const r=Rr.hasOwnProperty.call(t,Rf)&&t[Rf];if(r===Object)return!0;if(!To(r))return!1;let n=fS.get(r);return n===void 0&&(n=Function.toString.call(r),fS.set(r,n)),n===Zz}function Gu(e,t,r=!0){Qu(e)===0?(r?Reflect.ownKeys(e):Rr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Qu(e){const t=e[pr];return t?t.type_:up(e)?1:cp(e)?2:dp(e)?3:0}var hS=(e,t,r=Qu(e))=>r===2?e.has(t):Rr[lp].hasOwnProperty.call(e,t),Jv=(e,t,r=Qu(e))=>r===2?e.get(t):e[t],Mf=(e,t,r,n=Qu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function e9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var up=Array.isArray,cp=e=>e instanceof Map,dp=e=>e instanceof Set,Bw=e=>typeof e=="object",To=e=>typeof e=="function",lg=e=>typeof e=="boolean",Hn=e=>e.copy_||e.base_,qw=e=>e.modified_?e.copy_:e.base_;function Zv(e,t){if(cp(e))return new Map(e);if(dp(e))return new Set(e);if(up(e))return Array[lp].slice.call(e);const r=fN(e);if(t===!0||t==="class_only"&&!r){const n=Rr.getOwnPropertyDescriptors(e);delete n[pr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[Dd]===!1&&(s[Dd]=!0,s[Xv]=!0),(s.get||s.set)&&(n[o]={[Xv]:!0,[Dd]:!0,[Df]:s[Df],[wu]:e[o]})}return Rr.create(ms(e),n)}else{const n=ms(e);if(n!==null&&r)return{...e};const i=Rr.create(n);return Rr.assign(i,e)}}function Ww(e,t=!1){return fp(e)||hi(e)||!xn(e)||(Qu(e)>1&&Rr.defineProperties(e,{set:td,add:td,clear:td,delete:td}),Rr.freeze(e),t&&Gu(e,(r,n)=>{Ww(n,!0)},!1)),e}function t9(){cn(2)}var td={[wu]:t9};function fp(e){return e===null||!Bw(e)?!0:Rr.isFrozen(e)}var Lf="MapSet",ey="Patches",hN={};function gs(e){const t=hN[e];return t||cn(0,e),t}var r9=e=>!!hN[e],_u,pN=()=>_u,n9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:r9(Lf)?gs(Lf):void 0});function pS(e,t){t&&(e.patchPlugin_=gs(ey),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ty(e){ry(e),e.drafts_.forEach(i9),e.drafts_=null}function ry(e){e===_u&&(_u=e.parent_)}var mS=e=>_u=n9(_u,e);function i9(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pr].modified_&&(ty(t),cn(4)),xn(e)&&(e=vS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[pr].base_,e,t)}else e=vS(t,r);return a9(t,e,!0),ty(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dN?e:void 0}function vS(e,t){if(fp(t))return t;const r=t[pr];if(!r)return Kw(t,e.handledSet_,e);if(!hp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);vN(r,e)}return r.copy_}function a9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ww(t,r)}function mN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hp=(e,t)=>e.scope_===t,o9=[];function gN(e,t,r,n){const i=Hn(e),a=e.type_;if(n!==void 0&&Jv(i,n,a)===t){Mf(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Gu(i,(l,u)=>{if(hi(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??o9;for(const s of o)Mf(i,s,r,a)}function s9(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!hp(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=qw(a);gN(e,a.draft_??a,o,r),vN(a,i)})}function vN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}mN(e)}}function l9(e,t,r){const{scope_:n}=e;if(hi(r)){const i=r[pr];hp(i,n)&&i.callbacks_.push(function(){Md(e);const o=qw(i);gN(e,r,o,t)})}else xn(r)&&e.callbacks_.push(function(){const a=Hn(e);Jv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Kw(Jv(e.copy_,t,e.type_),n.handledSet_,n)})}function Kw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||hi(e)||t.has(e)||!xn(e)||fp(e)||(t.add(e),Gu(e,(n,i)=>{if(hi(i)){const a=i[pr];if(hp(a,r)){const o=qw(a);Mf(e,n,o,e.type_),mN(a)}}else xn(i)&&Kw(i,t,r)})),e}function u9(e,t){const r=up(e),n={type_:r?1:0,scope_:t?t.scope_:pN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Hw;r&&(i=[n],a=xu);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var Hw={get(e,t){if(t===pr)return e;const r=Hn(e);if(!hS(r,t,e.type_))return c9(e,r,t);const n=r[t];if(e.finalized_||!xn(n))return n;if(n===ug(e.base_,t)){Md(e);const i=e.type_===1?+t:t,a=iy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Hn(e)},ownKeys(e){return Reflect.ownKeys(Hn(e))},set(e,t,r){const n=yN(Hn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ug(Hn(e),t),a=i==null?void 0:i[pr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(e9(r,i)&&(r!==void 0||hS(e.base_,t,e.type_)))return!0;Md(e),ny(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),l9(e,t,r)),!0},deleteProperty(e,t){return Md(e),ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ny(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Dd]:!0,[Xv]:e.type_!==1||t!=="length",[Df]:n[Df],[wu]:r[t]}},defineProperty(){cn(11)},getPrototypeOf(e){return ms(e.base_)},setPrototypeOf(){cn(12)}},xu={};Gu(Hw,(e,t)=>{xu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});xu.deleteProperty=function(e,t){return xu.set.call(this,e,t,void 0)};xu.set=function(e,t,r){return Hw.set.call(this,e[0],t,r,e[0])};function ug(e,t){const r=e[pr];return(r?Hn(r):e)[t]}function c9(e,t,r){var i;const n=yN(t,r);return n?wu in n?n[wu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function yN(e,t){if(!(t in e))return;let r=ms(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ms(r)}}function ny(e){e.modified_||(e.modified_=!0,e.parent_&&ny(e.parent_))}function Md(e){e.copy_||(e.assigned_=new Map,e.copy_=Zv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var d9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(To(r)&&!To(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}To(n)||cn(6),i!==void 0&&!To(i)&&cn(7);let a;if(xn(r)){const o=mS(this),s=iy(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?ty(o):ry(o)}return pS(o,i),gS(a,o)}else if(!r||!Bw(r)){if(a=n(r),a===void 0&&(a=r),a===dN&&(a=void 0),this.autoFreeze_&&Ww(a,!0),i){const o=[],s=[];gs(ey).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else cn(1,r)},this.produceWithPatches=(r,n)=>{if(To(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},lg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xn(t)||cn(8),hi(t)&&(t=mn(t));const r=mS(this),n=iy(r,t,void 0);return n[pr].isManual_=!0,ry(r),n}finishDraft(t,r){const n=t&&t[pr];(!n||!n.isManual_)&&cn(9);const{scope_:i}=n;return pS(i,r),gS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=gs(ey).applyPatches_;return hi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function iy(e,t,r,n){const[i,a]=cp(t)?gs(Lf).proxyMap_(t,r):dp(t)?gs(Lf).proxySet_(t,r):u9(t,r);return((r==null?void 0:r.scope_)??pN()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?s9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function mn(e){return hi(e)||cn(10,e),wN(e)}function wN(e){if(!xn(e)||fp(e))return e;const t=e[pr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Zv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Zv(e,!0);return Gu(r,(i,a)=>{Mf(r,i,wN(a))},n),t&&(t.finalized_=!1),r}var f9=new d9,_N=f9.produce;function xN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var h9=xN(),p9=xN,m9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kf:kf.apply(null,arguments)};function tn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Mr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>cN(n)&&n.type===e,r}var bN=class Cl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cl.prototype)}static get[Symbol.species](){return Cl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cl(...t[0].concat(this)):new Cl(...t.concat(this))}};function yS(e){return xn(e)?_N(e,()=>{}):e}function rd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function g9(e){return typeof e=="boolean"}var v9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new bN;return r&&(g9(r)?o.push(h9):o.push(p9(r.extraArgument))),o},EN="RTK_autoBatch",Ke=()=>e=>({payload:e,meta:{[EN]:!0}}),wS=e=>t=>{setTimeout(t,e)},SN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wS(10):e.type==="callback"?e.queueNotification:wS(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return s.add(c),()=>{p(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[EN]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},y9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new bN(e);return n&&i.push(SN(typeof n=="object"?n:void 0)),i};function w9(e){const t=v9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Uw(r))s=uN(r);else throw new Error(Mr(1));let l;typeof n=="function"?l=n(t):l=t();let u=kf;i&&(u=m9({trace:!1,...typeof i=="object"&&i}));const c=Jz(...l),d=y9(c);let p=typeof o=="function"?o(d):d();const m=u(...p);return lN(s,a,m)}function AN(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Mr(28));if(s in t)throw new Error(Mr(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function _9(e){return typeof e=="function"}function x9(e,t){let[r,n,i]=AN(t),a;if(_9(e))a=()=>yS(e());else{const s=yS(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(hi(c)){const m=d(c,l);return m===void 0?c:m}else{if(xn(c))return _N(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},s)}return o.getInitialState=a,o}var b9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E9=(e=21)=>{let t="",r=e;for(;r--;)t+=b9[Math.random()*64|0];return t},S9=Symbol.for("rtk-slice-createasyncthunk");function A9(e,t){return`${e}/${t}`}function P9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[S9];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Mr(11));const s=(typeof i.reducers=="function"?i.reducers(I9()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,j){const R=typeof I=="string"?I:I.type;if(!R)throw new Error(Mr(12));if(R in u.sliceCaseReducersByType)throw new Error(Mr(13));return u.sliceCaseReducersByType[R]=j,c},addMatcher(I,j){return u.sliceMatchers.push({matcher:I,reducer:j}),c},exposeAction(I,j){return u.actionCreators[I]=j,c},exposeCaseReducer(I,j){return u.sliceCaseReducersByName[I]=j,c}};l.forEach(I=>{const j=s[I],R={reducerName:I,type:A9(a,I),createNotation:typeof i.reducers=="function"};O9(j)?N9(R,j,c,t):C9(R,j,c)});function d(){const[I={},j=[],R=void 0]=typeof i.extraReducers=="function"?AN(i.extraReducers):[i.extraReducers],S={...I,...u.sliceCaseReducersByType};return x9(i.initialState,A=>{for(let C in S)A.addCase(C,S[C]);for(let C of u.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of j)A.addMatcher(C.matcher,C.reducer);R&&A.addDefaultCase(R)})}const p=I=>I,m=new Map,g=new WeakMap;let y;function w(I,j){return y||(y=d()),y(I,j)}function x(){return y||(y=d()),y.getInitialState()}function b(I,j=!1){function R(A){let C=A[I];return typeof C>"u"&&j&&(C=rd(g,R,x)),C}function S(A=p){const C=rd(m,j,()=>new WeakMap);return rd(C,A,()=>{const D={};for(const[T,k]of Object.entries(i.selectors??{}))D[T]=T9(k,A,()=>rd(g,A,x),j);return D})}return{reducerPath:I,getSelectors:S,get selectors(){return S(R)},selectSlice:R}}const E={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(I,{reducerPath:j,...R}={}){const S=j??o;return I.inject({reducerPath:S,reducer:w},R),{...E,...b(S,!0)}}};return E}}function T9(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Pr=P9();function I9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function C9({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!j9(n))throw new Error(Mr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?tn(e,o):tn(e))}function O9(e){return e._reducerDefinitionType==="asyncThunk"}function j9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function N9({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Mr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||nd,pending:s||nd,rejected:l||nd,settled:u||nd})}function nd(){}var k9="task",PN="listener",TN="completed",Gw="cancelled",R9=`task-${Gw}`,D9=`task-${TN}`,ay=`${PN}-${Gw}`,M9=`${PN}-${TN}`,pp=class{constructor(e){bm(this,"name","TaskAbortError");bm(this,"message");this.code=e,this.message=`${k9} ${Gw} (reason: ${e})`}},Qw=(e,t)=>{if(typeof e!="function")throw new TypeError(Mr(32))},Vf=()=>{},IN=(e,t=Vf)=>(e.catch(t),e),CN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ua=e=>{if(e.aborted)throw new pp(e.reason)};function ON(e,t){let r=Vf;return new Promise((n,i)=>{const a=()=>i(new pp(e.reason));if(e.aborted){a();return}r=CN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Vf})}var L9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof pp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ff=e=>t=>IN(ON(e,t).then(r=>(Ua(e),r))),jN=e=>{const t=Ff(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xo}=Object,_S={},mp="listenerMiddleware",V9=(e,t)=>{const r=n=>CN(e,()=>n.abort(e.reason));return(n,i)=>{Qw(n);const a=new AbortController;r(a);const o=L9(async()=>{Ua(e),Ua(a.signal);const s=await n({pause:Ff(a.signal),delay:jN(a.signal),signal:a.signal});return Ua(a.signal),s},()=>a.abort(D9));return i!=null&&i.autoJoin&&t.push(o.catch(Vf)),{result:Ff(e)(o),cancel(){a.abort(R9)}}}},F9=(e,t)=>{const r=async(n,i)=>{Ua(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ON(t,Promise.race(s));return Ua(t),l}finally{a()}};return(n,i)=>IN(r(n,i))},NN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=tn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Mr(21));return Qw(a),{predicate:i,type:t,effect:a}},kN=Xo(e=>{const{type:t,predicate:r,effect:n}=NN(e);return{id:E9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Mr(22))}}},{withTypes:()=>kN}),xS=(e,t)=>{const{type:r,effect:n,predicate:i}=NN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},oy=e=>{e.pending.forEach(t=>{t.abort(ay)})},$9=(e,t)=>()=>{for(const r of t.keys())oy(r);e.clear()},bS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},RN=Xo(tn(`${mp}/add`),{withTypes:()=>RN}),z9=tn(`${mp}/removeAll`),DN=Xo(tn(`${mp}/remove`),{withTypes:()=>DN}),U9=(...e)=>{console.error(`${mp}/error`,...e)},Yu=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:o=U9}=e;Qw(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&oy(m)}),l=m=>{const g=xS(t,m)??kN(m);return s(g)};Xo(l,{withTypes:()=>l});const u=m=>{const g=xS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&oy(g)),!!g};Xo(u,{withTypes:()=>u});const c=async(m,g,y,w)=>{const x=new AbortController,b=F9(l,x.signal),E=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,Xo({},y,{getOriginalState:w,condition:(I,j)=>b(I,j).then(Boolean),take:b,delay:jN(x.signal),pause:Ff(x.signal),extra:a,signal:x.signal,fork:V9(x.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,j,R)=>{I!==x&&(I.abort(ay),R.delete(I))})},cancel:()=>{x.abort(ay),m.pending.delete(x)},throwIfCancelled:()=>{Ua(x.signal)}})))}catch(I){I instanceof pp||bS(o,I,{raisedBy:"effect"})}finally{await Promise.all(E),x.abort(M9),i(m),m.pending.delete(x)}},d=$9(t,r);return{middleware:m=>g=>y=>{if(!cN(y))return g(y);if(RN.match(y))return l(y.payload);if(z9.match(y)){d();return}if(DN.match(y))return u(y.payload);let w=m.getState();const x=()=>{if(w===_S)throw new Error(Mr(23));return w};let b;try{if(b=g(y),t.size>0){const E=m.getState(),I=Array.from(t.values());for(const j of I){let R=!1;try{R=j.predicate(y,E,w)}catch(S){R=!1,bS(o,S,{raisedBy:"predicate"})}R&&c(j,y,m,x)}}}finally{w=_S}return b},startListening:l,stopListening:u,clearListeners:d}};function Mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var B9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MN=Pr({name:"chartLayout",initialState:B9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:q9,setLayout:W9,setChartSize:K9,setScale:H9}=MN.actions,G9=MN.reducer;function LN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ge(e,t,r){return $t(e)||$t(t)?r:zn(t)?Ja(e,t,r):typeof t=="function"?t(e):r}var J9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&te(e[a]))return $o($o({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&te(e[o]))return $o($o({},e),{},{[o]:e[o]+(i||0)})}return e},fo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},FN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Vt(a[0]-a[1])*2*y:y,d||p){var w=(d||p||[]).map((x,b)=>{var E=n?n.indexOf(x):x;return{coordinate:o(E)+y,value:x,offset:y,index:b}});return w.filter(x=>!_n(x.coordinate))}return l&&u?u.map((x,b)=>({coordinate:o(x)+y,value:x,index:b,offset:y})):o.ticks&&c!=null?o.ticks(c).map((x,b)=>({coordinate:o(x)+y,value:x,offset:y,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+y,value:n?n[x]:x,index:b,offset:y}))},SS=1e-4,Z9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-SS,a=Math.max(n[0],n[1])+SS,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},eU=(e,t)=>{if(!t||t.length!==2||!te(t[0])||!te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(i[0]=r),(!te(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},tU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=_n(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},rU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=_n(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},nU={sign:tU,expand:R5,none:hs,silhouette:D5,wiggle:M5,positive:rU},iU=(e,t,r)=>{var n=nU[r],i=k5().keys(t).value((a,o)=>Number(Ge(a,o,0))).order(Qv).offset(n);return i(e)};function aU(e){return e==null?void 0:String(e)}var AS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ge(a,t.dataKey,t.scale.domain()[o]);return $t(s)?null:t.scale(s)-i/2+n},oU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},sU=e=>{var t=e.flat(2).filter(te);return[Math.min(...t),Math.max(...t)]},lU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uU=(e,t,r)=>{if(e!=null)return lU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=LN(u,t,r),d=sU(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},PS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$f=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=sp(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function IS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return $o($o({},t),{},{dataKey:r,payload:n,value:i,name:a})}function gp(e,t){if(e)return String(e);if(typeof t=="string")return t}var cU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},dU=(e,t)=>t==="centric"?e.angle:e.radius,xi=e=>e.layout.width,bi=e=>e.layout.height,fU=e=>e.layout.scale,$N=e=>e.layout.margin,vp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yp=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zN="data-recharts-item-index",UN="data-recharts-item-data-key",Xu=60;function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gU=e=>e.brush.height;function vU(e){var t=yp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xu;return r+i}return r},0)}function yU(e){var t=yp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xu;return r+i}return r},0)}function wU(e){var t=vp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _U(e){var t=vp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var It=L([xi,bi,$N,gU,vU,yU,wU,_U,oN,Wz],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},p=id(id({},d),c),m=p.bottom;p.bottom+=n,p=J9(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return id(id({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),xU=L(It,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yw=L(xi,bi,(e,t)=>({x:0,y:0,width:e,height:t})),bU=_.createContext(null),Tr=()=>_.useContext(bU)!=null,wp=e=>e.brush,_p=L([wp,It,$N],(e,t,r)=>({height:e.height,x:te(e.x)?e.x:t.left,y:te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:te(e.width)?e.width:t.width})),BN={},qN={},WN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),o=void 0,s=null},w=()=>{c()},x=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const E=p==null;m(),l&&E&&c()};return x.schedule=m,x.cancel=y,x.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(WN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...y){c=n.apply(this,y),d=null},i,{edges:u}),m=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,y),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(qN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(BN);var EU=BN.throttle;const SU=wi(EU);var zf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},KN=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=fi(n)?e:Number(n),l=fi(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},AU={width:0,height:0,overflow:"visible"},PU={width:0,overflowX:"visible"},TU={height:0,overflowY:"visible"},IU={},CU=e=>{var{width:t,height:r}=e,n=fi(t),i=fi(r);return n&&i?AU:n?PU:i?TU:IU};function OU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ct(e){return Number.isFinite(e)}function Un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HN=_.createContext({width:-1,height:-1});function RU(e){return Un(e.width)&&Un(e.height)}function GN(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return RU(i)?_.createElement(HN.Provider,{value:i},t):null}var Xw=()=>_.useContext(HN),DU=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,y=_.useRef(null),w=_.useRef();w.current=m,_.useImperativeHandle(t,()=>y.current);var[x,b]=_.useState({containerWidth:n.width,containerHeight:n.height}),E=_.useCallback((A,C)=>{b(D=>{var T=Math.round(A),k=Math.round(C);return D.containerWidth===T&&D.containerHeight===k?D:{containerWidth:T,containerHeight:k}})},[]);_.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ku;var A=k=>{var O,{width:Q,height:se}=k[0].contentRect;E(Q,se),(O=w.current)===null||O===void 0||O.call(w,Q,se)};c>0&&(A=SU(A,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(A),{width:D,height:T}=y.current.getBoundingClientRect();return E(D,T),C.observe(y.current),()=>{C.disconnect()}},[E,c]);var{containerWidth:I,containerHeight:j}=x;zf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:S}=KN(I,j,{width:i,height:a,aspect:r,maxHeight:l});return zf(R!=null&&R>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,S,i,a,o,s,r),_.createElement("div",{id:d?"".concat(d):void 0,className:Oe("recharts-responsive-container",p),style:jS(jS({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},_.createElement("div",{style:CU({width:i,height:a})},_.createElement(GN,{width:R,height:S},u)))}),Jw=_.forwardRef((e,t)=>{var r=Xw();if(Un(r.width)&&Un(r.height))return e.children;var{width:n,height:i}=OU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=KN(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return te(a)&&te(o)?_.createElement(GN,{width:a,height:o},e.children):_.createElement(DU,sy({},e,{width:n,height:i,ref:t}))});function QN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xp=()=>{var e,t=Tr(),r=ee(xU),n=ee(_p),i=(e=ee(wp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},MU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YN=()=>{var e;return(e=ee(It))!==null&&e!==void 0?e:MU},Zw=()=>ee(xi),e_=()=>ee(bi),LU=()=>ee(e=>e.layout.margin),Ae=e=>e.layout.layoutType,bp=()=>ee(Ae),VU=()=>{var e=bp();return e!==void 0},Ep=e=>{var t=Fe(),r=Tr(),{width:n,height:i}=e,a=Xw(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),_.useEffect(()=>{!r&&Un(o)&&Un(s)&&t(K9({width:o,height:s}))},[t,r,o,s]),null},XN=Symbol.for("immer-nothing"),NS=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bu=Object.getPrototypeOf;function vs(e){return!!e&&!!e[Vr]}function Za(e){var t;return e?JN(e)||Array.isArray(e)||!!e[NS]||!!((t=e.constructor)!=null&&t[NS])||Ju(e)||Ap(e):!1}var FU=Object.prototype.constructor.toString(),kS=new WeakMap;function JN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=kS.get(r);return n===void 0&&(n=Function.toString.call(r),kS.set(r,n)),n===FU}function Uf(e,t,r=!0){Sp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Sp(e){const t=e[Vr];return t?t.type_:Array.isArray(e)?1:Ju(e)?2:Ap(e)?3:0}function ly(e,t){return Sp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ZN(e,t,r){const n=Sp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function $U(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ju(e){return e instanceof Map}function Ap(e){return e instanceof Set}function Oa(e){return e.copy_||e.base_}function uy(e,t){if(Ju(e))return new Map(e);if(Ap(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=JN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(bu(e),n)}else{const n=bu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function t_(e,t=!1){return Pp(e)||vs(e)||!Za(e)||(Sp(e)>1&&Object.defineProperties(e,{set:ad,add:ad,clear:ad,delete:ad}),Object.freeze(e),t&&Object.values(e).forEach(r=>t_(r,!0))),e}function zU(){dn(2)}var ad={value:zU};function Pp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var UU={};function eo(e){const t=UU[e];return t||dn(0,e),t}var Eu;function ek(){return Eu}function BU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RS(e,t){t&&(eo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cy(e){dy(e),e.drafts_.forEach(qU),e.drafts_=null}function dy(e){e===Eu&&(Eu=e.parent_)}function DS(e){return Eu=BU(Eu,e)}function qU(e){const t=e[Vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vr].modified_&&(cy(t),dn(4)),Za(e)&&(e=Bf(t,e),t.parent_||qf(t,e)),t.patches_&&eo("Patches").generateReplacementPatches_(r[Vr].base_,e,t.patches_,t.inversePatches_)):e=Bf(t,r,[]),cy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XN?e:void 0}function Bf(e,t,r){if(Pp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Vr];if(!i)return Uf(t,(a,o)=>LS(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return qf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Uf(o,(l,u)=>LS(e,i,a,l,u,r,s),n),qf(e,a,!1),r&&e.patches_&&eo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function LS(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=Pp(i);if(!(s&&!o)){if(vs(i)){const l=a&&t&&t.type_!==3&&!ly(t.assigned_,n)?a.concat(n):void 0,u=Bf(e,i,l);if(ZN(r,n,u),vs(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Za(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Bf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ju(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&qf(e,i)}}}function qf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t_(t,r)}function WU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ek(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=r_;r&&(i=[n],a=Su);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var r_={get(e,t){if(t===Vr)return e;const r=Oa(e);if(!ly(r,t))return KU(e,r,t);const n=r[t];return e.finalized_||!Za(n)?n:n===cg(e.base_,t)?(dg(e),e.copy_[t]=hy(n,e)):n},has(e,t){return t in Oa(e)},ownKeys(e){return Reflect.ownKeys(Oa(e))},set(e,t,r){const n=tk(Oa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=cg(Oa(e),t),a=i==null?void 0:i[Vr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if($U(r,i)&&(r!==void 0||ly(e.base_,t)))return!0;dg(e),fy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dg(e),fy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){dn(11)},getPrototypeOf(e){return bu(e.base_)},setPrototypeOf(){dn(12)}},Su={};Uf(r_,(e,t)=>{Su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,r){return r_.set.call(this,e[0],t,r,e[0])};function cg(e,t){const r=e[Vr];return(r?Oa(r):e)[t]}function KU(e,t,r){var i;const n=tk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function tk(e,t){if(!(t in e))return;let r=bu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bu(r)}}function fy(e){e.modified_||(e.modified_=!0,e.parent_&&fy(e.parent_))}function dg(e){e.copy_||(e.copy_=uy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&dn(6),n!==void 0&&typeof n!="function"&&dn(7);let i;if(Za(t)){const a=DS(this),o=hy(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?cy(a):dy(a)}return RS(a,n),MS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===XN&&(i=void 0),this.autoFreeze_&&t_(i,!0),n){const a=[],o=[];eo("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Za(e)||dn(8),vs(e)&&(e=GU(e));const t=DS(this),r=hy(e,void 0);return r[Vr].isManual_=!0,dy(t),r}finishDraft(e,t){const r=e&&e[Vr];(!r||!r.isManual_)&&dn(9);const{scope_:n}=r;return RS(n,t),MS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=eo("Patches").applyPatches_;return vs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hy(e,t){const r=Ju(e)?eo("MapSet").proxyMap_(e,t):Ap(e)?eo("MapSet").proxySet_(e,t):WU(e,t);return(t?t.scope_:ek()).drafts_.push(r),r}function GU(e){return vs(e)||dn(10,e),rk(e)}function rk(e){if(!Za(e)||Pp(e))return e;const t=e[Vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=uy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=uy(e,!0);return Uf(r,(i,a)=>{ZN(r,i,rk(a))},n),t&&(t.finalized_=!1),r}var QU=new HU;QU.produce;var YU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nk=Pr({name:"legend",initialState:YU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=mn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ke()},removeLegendPayload:{reducer(e,t){var r=mn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ke()}}}),{setLegendSize:VS,setLegendSettings:XU,addLegendPayload:ik,replaceLegendPayload:ak,removeLegendPayload:ok}=nk.actions,JU=nk.reducer,ZU=["contextPayload"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nB(e,t){if(e==null)return{};var r,n,i=iB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aB(e){return e.value}function oB(e){var{contextPayload:t}=e,r=nB(e,ZU),n=Qj(t,e.payloadUniqBy,aB),i=ys(ys({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(cz,i)}function sB(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ys(ys({},u),c)}function lB(e){var t=Fe();return _.useEffect(()=>{t(XU(e))},[t,e]),null}function uB(e){var t=Fe();return _.useEffect(()=>(t(VS(e)),()=>{t(VS({width:0,height:0}))}),[t,e]),null}function cB(e,t,r,n){return e==="vertical"&&te(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var dB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Tp(e){var t=zt(e,dB),r=Gz(),n=n5(),i=LU(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=sN([r]),d=Zw(),p=e_();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=cB(t.layout,o,a,m),y=l?s:ys(ys({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||o||"auto"},sB(s,t,i,d,p,u)),s),w=l??n;if(w==null||r==null)return null;var x=_.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},_.createElement(lB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&_.createElement(uB,{width:u.width,height:u.height}),_.createElement(oB,py({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return Fn.createPortal(x,w)}Tp.displayName="Legend";function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=pB(e,"string");return typeof t=="symbol"?t:t+""}function pB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mB(e){return Array.isArray(e)&&zn(e[0])&&zn(e[1])?e.join(" ~ "):e}var gB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},R=(s?sp(a,s):a).map((S,A)=>{if(S.type==="none")return null;var C=S.formatter||o||mB,{value:D,name:T}=S,k=D,O=T;if(C){var Q=C(D,T,S,A,a);if(Array.isArray(Q))[k,O]=Q;else if(Q!=null)k=Q;else return null}var se=fg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:se},zn(O)?_.createElement("span",{className:"recharts-tooltip-item-name"},O):null,zn(O)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},k),_.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},R)}return null},g=fg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=fg({margin:0},i),w=!$t(c),x=w?c:"",b=Oe("recharts-default-tooltip",l),E=Oe("recharts-tooltip-label",u);w&&d&&a!==void 0&&a!==null&&(x=d(c,a));var I=p?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",my({className:b,style:g},I),_.createElement("p",{className:E,style:y},_.isValidElement(x)?x:"".concat(x)),m())},hl="recharts-tooltip-wrapper",vB={visibility:"hidden"};function yB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Oe(hl,{["".concat(hl,"-right")]:te(r)&&t&&te(t.x)&&r>=t.x,["".concat(hl,"-left")]:te(r)&&t&&te(t.x)&&r<t.x,["".concat(hl,"-bottom")]:te(n)&&t&&te(t.y)&&n>=t.y,["".concat(hl,"-top")]:te(n)&&t&&te(t.y)&&n<t.y})}function zS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&te(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var p=l[n];if(p==null)return 0;if(o[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var y=d+s,w=p+u;return y>w?Math.max(c,p):Math.max(d,p)}function wB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _B(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=zS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=zS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=wB({translateX:c,translateY:d,useTranslate3d:s})):u=vB,{cssProperties:u,cssClasses:yB({translateX:c,translateY:d,coordinate:r})}}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gy(e,t,r){return(t=xB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EB extends _.PureComponent{constructor(){super(...arguments),gy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:E}=_B({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),I=x?{}:od(od({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=od(od({},I),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:w},a)}}var sk=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){SB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WS={curveBasisClosed:b5,curveBasisOpen:E5,curveBasis:x5,curveBumpX:s5,curveBumpY:l5,curveLinearClosed:S5,curveLinear:ep,curveMonotoneX:A5,curveMonotoneY:P5,curveNatural:T5,curveStep:I5,curveStepAfter:O5,curveStepBefore:C5},Wf=e=>ct(e.x)&&ct(e.y),KS=e=>e.base!=null&&Wf(e.base)&&Wf(e),pl=e=>e.x,ml=e=>e.y,TB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wu(e));return(r==="curveMonotone"||r==="curveBump")&&t?WS["".concat(r).concat(t==="vertical"?"Y":"X")]:WS[r]||ep},IB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=TB(t,i),s=a?r.filter(Wf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>qS(qS({},m),{},{base:n[g]}));i==="vertical"?l=Jc().y(ml).x1(pl).x0(m=>m.base.x):l=Jc().x(pl).y1(ml).y0(m=>m.base.y);var c=l.defined(KS).curve(o),d=a?u.filter(KS):u;return c(d)}i==="vertical"&&te(n)?l=Jc().y(ml).x1(pl).x0(n):te(n)?l=Jc().x(pl).y1(ml).y0(n):l=gj().x(pl).y(ml);var p=l.defined(Wf).curve(o);return p(s)},n_=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?IB(e):n;return _.createElement("path",vy({},wn(e),X5(e),{className:Oe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},CB=["x","y","top","left","width","height","className"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=NB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RB(e,t){if(e==null)return{};var r,n,i=DB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MB=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),LB=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=RB(e,CB),u=OB({x:t,y:r,top:n,left:i,width:a,height:o},l);return!te(t)||!te(r)||!te(a)||!te(o)||!te(n)||!te(i)?null:_.createElement("path",yy({},en(u),{className:Oe("recharts-cross",s),d:MB(t,r,a,o,n,i)}))};function VB(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){FB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FB(e,t,r){return(t=$B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=zB(e,"string");return typeof t=="symbol"?t:t+""}function zB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lk=(e,t,r)=>e.map(n=>"".concat(UB(n)," ").concat(t,"ms ").concat(r)).join(","),BB=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Au=(e,t)=>Object.keys(t).reduce((r,n)=>QS(QS({},r),{},{[n]:e(n,t[n])}),{});function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return(t=WB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=KB(e,"string");return typeof t=="symbol"?t:t+""}function KB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=(e,t,r)=>e+(t-e)*r,wy=e=>{var{from:t,to:r}=e;return t!==r},uk=(e,t,r)=>{var n=Au((i,a)=>{if(wy(a)){var[o,s]=e(a.from,a.to,a.velocity);return At(At({},a),{},{from:o,velocity:s})}return a},t);return r<1?Au((i,a)=>wy(a)?At(At({},a),{},{velocity:Kf(a.velocity,n[i].velocity,r),from:Kf(a.from,n[i].from,r)}):a,t):uk(e,n,r-1)};function HB(e,t,r,n,i,a){var o,s=n.reduce((p,m)=>At(At({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Au((p,m)=>m.from,s),u=()=>!Object.values(s).filter(wy).length,c=null,d=p=>{o||(o=p);var m=p-o,g=m/r.dt;s=uk(r,s,g),i(At(At(At({},e),t),l())),o=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function GB(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,p)=>At(At({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Au((y,w)=>Kf(...w,r(p)),l);if(a(At(At(At({},e),t),m)),p<1)s=o.setTimeout(c);else{var g=Au((y,w)=>Kf(...w,r(1)),l);a(At(At(At({},e),t),g))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const QB=(e,t,r,n,i,a)=>{var o=BB(e,t);return r==null?()=>(i(At(At({},e),t)),()=>{}):r.isStepper===!0?HB(e,t,r,o,i,a):GB(e,t,r,n,o,i,a)};var Hf=1e-4,ck=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),XS=(e,t)=>r=>{var n=ck(e,t);return dk(n,r)},YB=(e,t)=>r=>{var n=ck(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return dk(i,r)},XB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},JB=(e,t,r,n)=>{var i=XS(e,r),a=XS(t,n),o=YB(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=o(d);if(Math.abs(m-c)<Hf||g<Hf)return a(d);d=s(d-m/g)}return a(d)};return l.isStepper=!1,l},JS=function(){return JB(...XB(...arguments))},ZB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+o;return Math.abs(p-s)<Hf&&Math.abs(d)<Hf?[s,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},e8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JS(e);case"spring":return ZB();default:if(e.split("(")[0]==="cubic-bezier")return JS(e)}return typeof e=="function"?e:null};function t8(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class r8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function n8(){return t8(new r8)}var i8=_.createContext(n8);function a8(e,t){var r=_.useContext(i8);return _.useMemo(()=>t??r(e),[e,t,r])}var o8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zu={devToolsEnabled:!1,isSsr:o8()},s8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZS={t:0},hg={t:1};function Ip(e){var t=zt(e,s8),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!Zu.isSsr:r,d=a8(t.animationId,t.animationManager),[p,m]=_.useState(c?ZS:hg),g=_.useRef(null);return _.useEffect(()=>{c||m(hg)},[c]),_.useEffect(()=>{if(!c||!n)return Ku;var y=QB(ZS,hg,e8(a),i,m,d.getTimeoutController()),w=()=>{g.current=y()};return d.start([l,o,w,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,n,i,a,o,l,s,d]),u(p.t)}function Cp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(yu(t)),n=_.useRef(e);return n.current!==e&&(r.current=yu(t),n.current=e),r.current}var l8=["radius"],u8=["radius"];function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}function rA(e,t){if(e==null)return{};var r,n,i=h8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},iA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fk=e=>{var t=zt(e,iA),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,w=_.useRef(s),x=_.useRef(l),b=_.useRef(a),E=_.useRef(o),I=_.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),j=Cp(I,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var R=Oe("recharts-rectangle",c);if(!y){var S=en(t),{radius:A}=S,C=rA(S,l8);return _.createElement("path",Gf({},C,{radius:typeof u=="number"?u:void 0,className:R,d:nA(a,o,s,l,u)}))}var D=w.current,T=x.current,k=b.current,O=E.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),fe=lk(["strokeDasharray"],p,typeof d=="string"?d:iA.animationEasing);return _.createElement(Ip,{animationId:j,key:j,canBegin:n>0,duration:p,easing:d,isActive:y,begin:m},ue=>{var U=St(D,s,ue),K=St(T,l,ue),re=St(k,a,ue),me=St(O,o,ue);r.current&&(w.current=U,x.current=K,b.current=re,E.current=me);var _e;g?ue>0?_e={transition:fe,strokeDasharray:se}:_e={strokeDasharray:Q}:_e={strokeDasharray:se};var yt=en(t),{radius:je}=yt,Bt=rA(yt,u8);return _.createElement("path",Gf({},Bt,{radius:typeof u=="number"?u:void 0,className:R,d:nA(re,me,U,K,u),ref:r,style:tA(tA({},_e),t.style)}))})};function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return(t=m8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=g8(e,"string");return typeof t=="symbol"?t:t+""}function g8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf=Math.PI/180,v8=e=>e*180/Math.PI,gt=(e,t,r,n)=>({x:e+Math.cos(-Qf*n)*r,y:t+Math.sin(-Qf*n)*r}),hk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},y8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},w8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=y8({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:v8(l),angleInRadian:l}},_8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},x8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},b8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=w8({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=_8(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?oA(oA({},t),{},{radius:i,angle:x8(c,t)}):null};function pk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=gt(t,r,n,i),s=gt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}var E8=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},sd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Qf,d=l?i:i+a*c,p=gt(t,r,u,d),m=gt(t,r,n,d),g=l?i-a*c:i,y=gt(t,r,u*Math.cos(c*Qf),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},mk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=E8(a,o),l=a+s,u=gt(t,r,i,a),c=gt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=gt(t,r,n,a),m=gt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},S8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Vt(u-l),{circleTangency:d,lineTangency:p,theta:m}=sd({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:y,theta:w}=sd({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-m-w;if(x<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):mk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:I,theta:j}=sd({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:R,lineTangency:S,theta:A}=sd({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=s?Math.abs(l-u):Math.abs(l-u)-j-A;if(C<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},A8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gk=e=>{var t=zt(e,A8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Oe("recharts-sector",d),m=a-i,g=or(o,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=S8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=mk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",_y({},en(t),{className:p,d:y}))};function P8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(jj(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=gt(n,i,a,s),u=gt(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return pk(t)}}var vk={},yk={},wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,r=yk;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(vk);var T8=vk.range;const _k=wi(T8);function ra(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i_(e){let t,r,n;e.length!==2?(t=ra,r=(s,l)=>ra(e(s),l),n=(s,l)=>e(s)-l):(t=e===ra||e===I8?e:C8,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function C8(){return 0}function xk(e){return e===null?NaN:+e}function*O8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const j8=i_(ra),ec=j8.right;i_(xk).center;class sA extends Map{constructor(t,r=R8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(lA(this,t))}has(t){return super.has(lA(this,t))}set(t,r){return super.set(N8(this,t),r)}delete(t){return super.delete(k8(this,t))}}function lA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function N8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function k8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function R8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D8(e=ra){if(e===ra)return bk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const M8=Math.sqrt(50),L8=Math.sqrt(10),V8=Math.sqrt(2);function Yf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=M8?10:a>=L8?5:a>=V8?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Yf(e,t,r*2):[s,l,u]}function xy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Yf(t,e,r):Yf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function by(e,t,r){return t=+t,e=+e,r=+r,Yf(e,t,r)[2]}function Ey(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?by(t,e,r):by(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function uA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Ek(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?bk:D8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));Ek(e,t,m,g,i)}const a=e[t];let o=r,s=n;for(gl(e,r,t),i(e[n],a)>0&&gl(e,r,n);o<s;){for(gl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function F8(e,t,r){if(e=Float64Array.from(O8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return cA(e);if(t>=1)return uA(e);var n,i=(n-1)*t,a=Math.floor(i),o=uA(Ek(e,a).subarray(0,a+1)),s=cA(e.subarray(a+1));return o+(s-o)*(i-a)}}function $8(e,t,r=xk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function z8(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sy=Symbol("implicit");function a_(){var e=new sA,t=[],r=[],n=Sy;function i(a){let o=e.get(a);if(o===void 0){if(n!==Sy)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new sA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return a_(t,r).unknown(n)},nn.apply(i,arguments),i}function o_(){var e=a_().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var w=z8(p).map(function(x){return g+a*x});return r(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return o_(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},nn.apply(d(),arguments)}function Sk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sk(t())},e}function U8(){return Sk(o_.apply(null,arguments).paddingInner(1))}function s_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ak(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tc(){}var Pu=.7,Xf=1/Pu,Jo="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B8=/^#([0-9a-f]{3,8})$/,q8=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),W8=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),K8=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Tu}\\)$`),H8=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Tu}\\)$`),G8=new RegExp(`^hsl\\(${Tu},${Vn},${Vn}\\)$`),Q8=new RegExp(`^hsla\\(${Tu},${Vn},${Vn},${Tu}\\)$`),dA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s_(tc,Iu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fA,formatHex:fA,formatHex8:Y8,formatHsl:X8,formatRgb:hA,toString:hA});function fA(){return this.rgb().formatHex()}function Y8(){return this.rgb().formatHex8()}function X8(){return Pk(this).formatHsl()}function hA(){return this.rgb().formatRgb()}function Iu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=B8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pA(t):r===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ld(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ld(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=q8.exec(e))?new br(t[1],t[2],t[3],1):(t=W8.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=K8.exec(e))?ld(t[1],t[2],t[3],t[4]):(t=H8.exec(e))?ld(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G8.exec(e))?vA(t[1],t[2]/100,t[3]/100,1):(t=Q8.exec(e))?vA(t[1],t[2]/100,t[3]/100,t[4]):dA.hasOwnProperty(e)?pA(dA[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function pA(e){return new br(e>>16&255,e>>8&255,e&255,1)}function ld(e,t,r,n){return n<=0&&(e=t=r=NaN),new br(e,t,r,n)}function J8(e){return e instanceof tc||(e=Iu(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function Ay(e,t,r,n){return arguments.length===1?J8(e):new br(e,t,r,n??1)}function br(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}s_(br,Ay,Ak(tc,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pu:Math.pow(Pu,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(Ba(this.r),Ba(this.g),Ba(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mA,formatHex:mA,formatHex8:Z8,formatRgb:gA,toString:gA}));function mA(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}`}function Z8(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}${Ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function gA(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ba(this.r)}, ${Ba(this.g)}, ${Ba(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ma(e){return e=Ba(e),(e<16?"0":"")+e.toString(16)}function vA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,r,n)}function Pk(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof tc||(e=Iu(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new fn(o,s,l,e.opacity)}function e7(e,t,r,n){return arguments.length===1?Pk(e):new fn(e,t,r,n??1)}function fn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}s_(fn,e7,Ak(tc,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pu:Math.pow(Pu,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new br(pg(e>=240?e-240:e+120,i,n),pg(e,i,n),pg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new fn(yA(this.h),ud(this.s),ud(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${yA(this.h)}, ${ud(this.s)*100}%, ${ud(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yA(e){return e=(e||0)%360,e<0?e+360:e}function ud(e){return Math.max(0,Math.min(1,e||0))}function pg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l_=e=>()=>e;function t7(e,t){return function(r){return e+r*t}}function r7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function n7(e){return(e=+e)==1?Tk:function(t,r){return r-t?r7(t,r,e):l_(isNaN(t)?r:t)}}function Tk(e,t){var r=t-e;return r?t7(e,r):l_(isNaN(e)?t:e)}const wA=function e(t){var r=n7(t);function n(i,a){var o=r((i=Ay(i)).r,(a=Ay(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Tk(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function i7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function a7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ks(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function s7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function l7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ks(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mg=new RegExp(Py.source,"g");function u7(e){return function(){return e}}function c7(e){return function(t){return e(t)+""}}function d7(e,t){var r=Py.lastIndex=mg.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Py.exec(e))&&(i=mg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Zf(n,i)})),r=mg.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?c7(l[0].x):u7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ks(e,t){var r=typeof t,n;return t==null||r==="boolean"?l_(t):(r==="number"?Zf:r==="string"?(n=Iu(t))?(t=n,wA):d7:t instanceof Iu?wA:t instanceof Date?s7:a7(t)?i7:Array.isArray(t)?o7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?l7:Zf)(e,t)}function u_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function f7(e,t){t===void 0&&(t=e,e=ks);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function h7(e){return function(){return e}}function eh(e){return+e}var _A=[0,1];function dr(e){return e}function Ty(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:h7(isNaN(t)?NaN:.5)}function p7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function m7(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Ty(i,n),a=r(o,a)):(n=Ty(n,i),a=r(a,o)),function(s){return a(n(s))}}function g7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Ty(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=ec(e,s,1,n)-1;return a[l](i[l](s))}}function rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Op(){var e=_A,t=_A,r=ks,n,i,a,o=dr,s,l,u;function c(){var p=Math.min(e.length,t.length);return o!==dr&&(o=p7(e[0],e[p-1])),s=p>2?g7:m7,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(t,e.map(n),Zf)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,eh),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=u_,c()},d.clamp=function(p){return arguments.length?(o=p?!0:dr,c()):o!==dr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function c_(){return Op()(dr,dr)}function v7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function th(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ws(e){return e=th(Math.abs(e)),e?e[1]:NaN}function y7(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function w7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cu(e){if(!(t=_7.exec(e)))throw new Error("invalid format: "+e);var t;return new d_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cu.prototype=d_.prototype;function d_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}d_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function x7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ik;function b7(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Ik=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+th(e,Math.max(0,t+a-1))[0]}function xA(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const bA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:v7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xA(e*100,t),r:xA,s:b7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EA(e){return e}var SA=Array.prototype.map,AA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E7(e){var t=e.grouping===void 0||e.thousands===void 0?EA:y7(SA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?EA:w7(SA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Cu(d);var p=d.fill,m=d.align,g=d.sign,y=d.symbol,w=d.zero,x=d.width,b=d.comma,E=d.precision,I=d.trim,j=d.type;j==="n"?(b=!0,j="g"):bA[j]||(E===void 0&&(E=12),I=!0,j="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=y==="$"?n:/[%p]/.test(j)?o:"",A=bA[j],C=/[defgprs%]/.test(j);E=E===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function D(T){var k=R,O=S,Q,se,fe;if(j==="c")O=A(T)+O,T="";else{T=+T;var ue=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),E),I&&(T=x7(T)),ue&&+T==0&&g!=="+"&&(ue=!1),k=(ue?g==="("?g:s:g==="-"||g==="("?"":g)+k,O=(j==="s"?AA[8+Ik/3]:"")+O+(ue&&g==="("?")":""),C){for(Q=-1,se=T.length;++Q<se;)if(fe=T.charCodeAt(Q),48>fe||fe>57){O=(fe===46?i+T.slice(Q+1):T.slice(Q))+O,T=T.slice(0,Q);break}}}b&&!w&&(T=t(T,1/0));var U=k.length+T.length+O.length,K=U<x?new Array(x-U+1).join(p):"";switch(b&&w&&(T=t(K+T,K.length?x-O.length:1/0),K=""),m){case"<":T=k+T+O+K;break;case"=":T=k+K+T+O;break;case"^":T=K.slice(0,U=K.length>>1)+k+T+O+K.slice(U);break;default:T=K+k+T+O;break}return a(T)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=Cu(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(ws(p)/3)))*3,y=Math.pow(10,-g),w=AA[8+g/3];return function(x){return m(y*x)+w}}return{format:u,formatPrefix:c}}var cd,f_,Ck;S7({thousands:",",grouping:[3],currency:["$",""]});function S7(e){return cd=E7(e),f_=cd.format,Ck=cd.formatPrefix,cd}function A7(e){return Math.max(0,-ws(Math.abs(e)))}function P7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ws(t)/3)))*3-ws(Math.abs(e)))}function T7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ws(t)-ws(e))+1}function Ok(e,t,r,n){var i=Ey(e,t,r),a;switch(n=Cu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=P7(i,o))&&(n.precision=a),Ck(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=T7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=A7(i))&&(n.precision=a-(n.type==="%")*2);break}}return f_(n)}function ya(e){var t=e.domain;return e.ticks=function(r){var n=t();return xy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Ok(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=by(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function jk(){var e=c_();return e.copy=function(){return rc(e,jk())},nn.apply(e,arguments),ya(e)}function Nk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,eh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Nk(e).unknown(t)},e=arguments.length?Array.from(e,eh):[0,1],ya(r)}function kk(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function PA(e){return Math.log(e)}function TA(e){return Math.exp(e)}function I7(e){return-Math.log(-e)}function C7(e){return-Math.exp(-e)}function O7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function j7(e){return e===10?O7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function N7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IA(e){return(t,r)=>-e(-t,r)}function h_(e){const t=e(PA,TA),r=t.domain;let n=10,i,a;function o(){return i=N7(n),a=j7(n),r()[0]<0?(i=IA(i),a=IA(a),e(I7,C7)):e(PA,TA),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const w=s==null?10:+s;let x=[];if(!(n%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}x.length*2<w&&(x=xy(u,c,w))}else x=xy(p,m,Math.min(m-p,w)).map(a);return d?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cu(l)).precision==null&&(l.trim=!0),l=f_(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(kk(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function Rk(){const e=h_(Op()).domain([1,10]);return e.copy=()=>rc(e,Rk()).base(e.base()),nn.apply(e,arguments),e}function CA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function OA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p_(e){var t=1,r=e(CA(t),OA(t));return r.constant=function(n){return arguments.length?e(CA(t=+n),OA(t)):t},ya(r)}function Dk(){var e=p_(Op());return e.copy=function(){return rc(e,Dk()).constant(e.constant())},nn.apply(e,arguments)}function jA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function R7(e){return e<0?-e*e:e*e}function m_(e){var t=e(dr,dr),r=1;function n(){return r===1?e(dr,dr):r===.5?e(k7,R7):e(jA(r),jA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ya(t)}function g_(){var e=m_(Op());return e.copy=function(){return rc(e,g_()).exponent(e.exponent())},nn.apply(e,arguments),e}function D7(){return g_.apply(null,arguments).exponent(.5)}function NA(e){return Math.sign(e)*e*e}function M7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Mk(){var e=c_(),t=[0,1],r=!1,n;function i(a){var o=M7(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(NA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,eh)).map(NA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nn.apply(i,arguments),ya(i)}function Lk(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=$8(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[ec(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ra),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Lk().domain(e).range(t).unknown(n)},nn.apply(a,arguments)}function Vk(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[ec(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Vk().domain([e,t]).range(i).unknown(a)},nn.apply(ya(o),arguments)}function Fk(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ec(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Fk().domain(e).range(t).unknown(r)},nn.apply(i,arguments)}const gg=new Date,vg=new Date;function Ct(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Ct(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(gg.setTime(+a),vg.setTime(+o),e(gg),e(vg),Math.floor(r(gg,vg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const rh=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rh);rh.range;const Jn=1e3,Qr=Jn*60,Zn=Qr*60,pi=Zn*24,v_=pi*7,kA=pi*30,yg=pi*365,La=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCSeconds());La.range;const y_=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jn)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());y_.range;const w_=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());w_.range;const __=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jn-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getHours());__.range;const x_=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCHours());x_.range;const nc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/pi,e=>e.getDate()-1);nc.range;const jp=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>e.getUTCDate()-1);jp.range;const $k=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>Math.floor(e/pi));$k.range;function ho(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/v_)}const Np=ho(0),nh=ho(1),L7=ho(2),V7=ho(3),_s=ho(4),F7=ho(5),$7=ho(6);Np.range;nh.range;L7.range;V7.range;_s.range;F7.range;$7.range;function po(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/v_)}const kp=po(0),ih=po(1),z7=po(2),U7=po(3),xs=po(4),B7=po(5),q7=po(6);kp.range;ih.range;z7.range;U7.range;xs.range;B7.range;q7.range;const b_=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b_.range;const E_=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E_.range;const mi=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mi.range;const gi=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gi.range;function zk(e,t,r,n,i,a){const o=[[La,1,Jn],[La,5,5*Jn],[La,15,15*Jn],[La,30,30*Jn],[a,1,Qr],[a,5,5*Qr],[a,15,15*Qr],[a,30,30*Qr],[i,1,Zn],[i,3,3*Zn],[i,6,6*Zn],[i,12,12*Zn],[n,1,pi],[n,2,2*pi],[r,1,v_],[t,1,kA],[t,3,3*kA],[e,1,yg]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=i_(([,,w])=>w).right(o,p);if(m===o.length)return e.every(Ey(u/yg,c/yg,d));if(m===0)return rh.every(Math.max(Ey(u,c,d),1));const[g,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(y)}return[s,l]}const[W7,K7]=zk(gi,E_,kp,$k,x_,w_),[H7,G7]=zk(mi,b_,Np,nc,__,y_);function wg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _g(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Q7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=yl(i),c=wl(i),d=yl(a),p=wl(a),m=yl(o),g=wl(o),y=yl(s),w=wl(s),x=yl(l),b=wl(l),E={a:ue,A:U,b:K,B:re,c:null,d:FA,e:FA,f:yq,g:Iq,G:Oq,H:mq,I:gq,j:vq,L:Uk,m:wq,M:_q,p:me,q:_e,Q:UA,s:BA,S:xq,u:bq,U:Eq,V:Sq,w:Aq,W:Pq,x:null,X:null,y:Tq,Y:Cq,Z:jq,"%":zA},I={a:yt,A:je,b:Bt,B:wt,c:null,d:$A,e:$A,f:Dq,g:Wq,G:Hq,H:Nq,I:kq,j:Rq,L:qk,m:Mq,M:Lq,p:$e,q:qn,Q:UA,s:BA,S:Vq,u:Fq,U:$q,V:zq,w:Uq,W:Bq,x:null,X:null,y:qq,Y:Kq,Z:Gq,"%":zA},j={a:D,A:T,b:k,B:O,c:Q,d:LA,e:LA,f:dq,g:MA,G:DA,H:VA,I:VA,j:sq,L:cq,m:oq,M:lq,p:C,q:aq,Q:hq,s:pq,S:uq,u:eq,U:tq,V:rq,w:Z7,W:nq,x:se,X:fe,y:MA,Y:DA,Z:iq,"%":fq};E.x=R(r,E),E.X=R(n,E),E.c=R(t,E),I.x=R(r,I),I.X=R(n,I),I.c=R(t,I);function R(B,he){return function(ve){var q=[],$=-1,H=0,ie=B.length,le,Te,_t;for(ve instanceof Date||(ve=new Date(+ve));++$<ie;)B.charCodeAt($)===37&&(q.push(B.slice(H,$)),(Te=RA[le=B.charAt(++$)])!=null?le=B.charAt(++$):Te=le==="e"?" ":"0",(_t=he[le])&&(le=_t(ve,Te)),q.push(le),H=$+1);return q.push(B.slice(H,$)),q.join("")}}function S(B,he){return function(ve){var q=vl(1900,void 0,1),$=A(q,B,ve+="",0),H,ie;if($!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(he&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(H=_g(vl(q.y,0,1)),ie=H.getUTCDay(),H=ie>4||ie===0?ih.ceil(H):ih(H),H=jp.offset(H,(q.V-1)*7),q.y=H.getUTCFullYear(),q.m=H.getUTCMonth(),q.d=H.getUTCDate()+(q.w+6)%7):(H=wg(vl(q.y,0,1)),ie=H.getDay(),H=ie>4||ie===0?nh.ceil(H):nh(H),H=nc.offset(H,(q.V-1)*7),q.y=H.getFullYear(),q.m=H.getMonth(),q.d=H.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ie="Z"in q?_g(vl(q.y,0,1)).getUTCDay():wg(vl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ie+5)%7:q.w+q.U*7-(ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,_g(q)):wg(q)}}function A(B,he,ve,q){for(var $=0,H=he.length,ie=ve.length,le,Te;$<H;){if(q>=ie)return-1;if(le=he.charCodeAt($++),le===37){if(le=he.charAt($++),Te=j[le in RA?he.charAt($++):le],!Te||(q=Te(B,ve,q))<0)return-1}else if(le!=ve.charCodeAt(q++))return-1}return q}function C(B,he,ve){var q=u.exec(he.slice(ve));return q?(B.p=c.get(q[0].toLowerCase()),ve+q[0].length):-1}function D(B,he,ve){var q=m.exec(he.slice(ve));return q?(B.w=g.get(q[0].toLowerCase()),ve+q[0].length):-1}function T(B,he,ve){var q=d.exec(he.slice(ve));return q?(B.w=p.get(q[0].toLowerCase()),ve+q[0].length):-1}function k(B,he,ve){var q=x.exec(he.slice(ve));return q?(B.m=b.get(q[0].toLowerCase()),ve+q[0].length):-1}function O(B,he,ve){var q=y.exec(he.slice(ve));return q?(B.m=w.get(q[0].toLowerCase()),ve+q[0].length):-1}function Q(B,he,ve){return A(B,t,he,ve)}function se(B,he,ve){return A(B,r,he,ve)}function fe(B,he,ve){return A(B,n,he,ve)}function ue(B){return o[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function re(B){return s[B.getMonth()]}function me(B){return i[+(B.getHours()>=12)]}function _e(B){return 1+~~(B.getMonth()/3)}function yt(B){return o[B.getUTCDay()]}function je(B){return a[B.getUTCDay()]}function Bt(B){return l[B.getUTCMonth()]}function wt(B){return s[B.getUTCMonth()]}function $e(B){return i[+(B.getUTCHours()>=12)]}function qn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var he=R(B+="",E);return he.toString=function(){return B},he},parse:function(B){var he=S(B+="",!1);return he.toString=function(){return B},he},utcFormat:function(B){var he=R(B+="",I);return he.toString=function(){return B},he},utcParse:function(B){var he=S(B+="",!0);return he.toString=function(){return B},he}}}var RA={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Y7=/^%/,X7=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function J7(e){return e.replace(X7,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(J7).join("|")+")","i")}function wl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Z7(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eq(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function DA(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function MA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aq(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sq(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function VA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cq(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dq(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fq(e,t,r){var n=Y7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hq(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pq(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function FA(e,t){return Se(e.getDate(),t,2)}function mq(e,t){return Se(e.getHours(),t,2)}function gq(e,t){return Se(e.getHours()%12||12,t,2)}function vq(e,t){return Se(1+nc.count(mi(e),e),t,3)}function Uk(e,t){return Se(e.getMilliseconds(),t,3)}function yq(e,t){return Uk(e,t)+"000"}function wq(e,t){return Se(e.getMonth()+1,t,2)}function _q(e,t){return Se(e.getMinutes(),t,2)}function xq(e,t){return Se(e.getSeconds(),t,2)}function bq(e){var t=e.getDay();return t===0?7:t}function Eq(e,t){return Se(Np.count(mi(e)-1,e),t,2)}function Bk(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function Sq(e,t){return e=Bk(e),Se(_s.count(mi(e),e)+(mi(e).getDay()===4),t,2)}function Aq(e){return e.getDay()}function Pq(e,t){return Se(nh.count(mi(e)-1,e),t,2)}function Tq(e,t){return Se(e.getFullYear()%100,t,2)}function Iq(e,t){return e=Bk(e),Se(e.getFullYear()%100,t,2)}function Cq(e,t){return Se(e.getFullYear()%1e4,t,4)}function Oq(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Se(e.getFullYear()%1e4,t,4)}function jq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function $A(e,t){return Se(e.getUTCDate(),t,2)}function Nq(e,t){return Se(e.getUTCHours(),t,2)}function kq(e,t){return Se(e.getUTCHours()%12||12,t,2)}function Rq(e,t){return Se(1+jp.count(gi(e),e),t,3)}function qk(e,t){return Se(e.getUTCMilliseconds(),t,3)}function Dq(e,t){return qk(e,t)+"000"}function Mq(e,t){return Se(e.getUTCMonth()+1,t,2)}function Lq(e,t){return Se(e.getUTCMinutes(),t,2)}function Vq(e,t){return Se(e.getUTCSeconds(),t,2)}function Fq(e){var t=e.getUTCDay();return t===0?7:t}function $q(e,t){return Se(kp.count(gi(e)-1,e),t,2)}function Wk(e){var t=e.getUTCDay();return t>=4||t===0?xs(e):xs.ceil(e)}function zq(e,t){return e=Wk(e),Se(xs.count(gi(e),e)+(gi(e).getUTCDay()===4),t,2)}function Uq(e){return e.getUTCDay()}function Bq(e,t){return Se(ih.count(gi(e)-1,e),t,2)}function qq(e,t){return Se(e.getUTCFullYear()%100,t,2)}function Wq(e,t){return e=Wk(e),Se(e.getUTCFullYear()%100,t,2)}function Kq(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function Hq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xs(e):xs.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function Gq(){return"+0000"}function zA(){return"%"}function UA(e){return+e}function BA(e){return Math.floor(+e/1e3)}var wo,Kk,Hk;Qq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qq(e){return wo=Q7(e),Kk=wo.format,wo.parse,Hk=wo.utcFormat,wo.utcParse,wo}function Yq(e){return new Date(e)}function Xq(e){return e instanceof Date?+e:+new Date(+e)}function S_(e,t,r,n,i,a,o,s,l,u){var c=c_(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),b=u("%b %d"),E=u("%B"),I=u("%Y");function j(R){return(l(R)<R?m:s(R)<R?g:o(R)<R?y:a(R)<R?w:n(R)<R?i(R)<R?x:b:r(R)<R?E:I)(R)}return c.invert=function(R){return new Date(d(R))},c.domain=function(R){return arguments.length?p(Array.from(R,Xq)):p().map(Yq)},c.ticks=function(R){var S=p();return e(S[0],S[S.length-1],R??10)},c.tickFormat=function(R,S){return S==null?j:u(S)},c.nice=function(R){var S=p();return(!R||typeof R.range!="function")&&(R=t(S[0],S[S.length-1],R??10)),R?p(kk(S,R)):c},c.copy=function(){return rc(c,S_(e,t,r,n,i,a,o,s,l,u))},c}function Jq(){return nn.apply(S_(H7,G7,mi,b_,Np,nc,__,y_,La,Kk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zq(){return nn.apply(S_(W7,K7,gi,E_,kp,jp,x_,w_,La,Hk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rp(){var e=0,t=1,r,n,i,a,o=dr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(ks),u.rangeRound=c(u_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function wa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gk(){var e=ya(Rp()(dr));return e.copy=function(){return wa(e,Gk())},Ei.apply(e,arguments)}function Qk(){var e=h_(Rp()).domain([1,10]);return e.copy=function(){return wa(e,Qk()).base(e.base())},Ei.apply(e,arguments)}function Yk(){var e=p_(Rp());return e.copy=function(){return wa(e,Yk()).constant(e.constant())},Ei.apply(e,arguments)}function A_(){var e=m_(Rp());return e.copy=function(){return wa(e,A_()).exponent(e.exponent())},Ei.apply(e,arguments)}function eW(){return A_.apply(null,arguments).exponent(.5)}function Xk(){var e=[],t=dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((ec(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ra),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>F8(e,a/n))},r.copy=function(){return Xk(t).domain(e)},Ei.apply(r,arguments)}function Dp(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=dr,c,d=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var x,b,E;return arguments.length?([x,b,E]=w,u=f7(y,[x,b,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(ks),m.rangeRound=g(u_),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function Jk(){var e=ya(Dp()(dr));return e.copy=function(){return wa(e,Jk())},Ei.apply(e,arguments)}function Zk(){var e=h_(Dp()).domain([.1,1,10]);return e.copy=function(){return wa(e,Zk()).base(e.base())},Ei.apply(e,arguments)}function eR(){var e=p_(Dp());return e.copy=function(){return wa(e,eR()).constant(e.constant())},Ei.apply(e,arguments)}function P_(){var e=m_(Dp());return e.copy=function(){return wa(e,P_()).exponent(e.exponent())},Ei.apply(e,arguments)}function tW(){return P_.apply(null,arguments).exponent(.5)}const Ol=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o_,scaleDiverging:Jk,scaleDivergingLog:Zk,scaleDivergingPow:P_,scaleDivergingSqrt:tW,scaleDivergingSymlog:eR,scaleIdentity:Nk,scaleImplicit:Sy,scaleLinear:jk,scaleLog:Rk,scaleOrdinal:a_,scalePoint:U8,scalePow:g_,scaleQuantile:Lk,scaleQuantize:Vk,scaleRadial:Mk,scaleSequential:Gk,scaleSequentialLog:Qk,scaleSequentialPow:A_,scaleSequentialQuantile:Xk,scaleSequentialSqrt:eW,scaleSequentialSymlog:Yk,scaleSqrt:D7,scaleSymlog:Dk,scaleThreshold:Fk,scaleTime:Jq,scaleUtc:Zq,tickFormat:Ok},Symbol.toStringTag,{value:"Module"}));var _a=e=>e.chartData,T_=L([_a],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),I_=(e,t,r,n)=>n?T_(e):_a(e);function da(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ct(t)&&ct(r))return!0}return!1}function qA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function tR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ct(r))i=r;else if(typeof r=="function")return;if(ct(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(da(o))return o}}function rW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(da(n))return qA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(te(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&PS.test(i)){var l=PS.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(te(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&TS.test(a)){var c=TS.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var p=[o,s];if(da(p))return t==null?p:qA(p,t,r)}}}var Rs=1e9,nW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O_,Qe=!0,rn="[DecimalError] ",qa=rn+"Invalid argument: ",C_=rn+"Exponent out of range: ",Ds=Math.floor,ja=Math.pow,iW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr,Mt=1e7,Be=7,rR=9007199254740991,ah=Ds(rR/Be),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Z.dividedBy=Z.div=function(e){return ri(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return ke(ri(t,new r(e),0,1),r.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return vt(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jr))throw Error(rn+"NaN");if(r.s<1)throw Error(rn+(r.s?"NaN":"-Infinity"));return r.eq(jr)?new n(0):(Qe=!1,t=ri(Ou(r,a),Ou(e,a),a),Qe=!0,ke(t,i))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aR(t,e):nR(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(rn+"NaN");return r.s?(Qe=!1,t=ri(r,e,0,1).times(e),Qe=!0,r.minus(t)):ke(new n(r),i)};Z.naturalExponential=Z.exp=function(){return iR(this)};Z.naturalLogarithm=Z.ln=function(){return Ou(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nR(t,e):aR(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qa+e);if(t=vt(i)+1,n=i.d.length-1,r=n*Be+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(rn+"NaN")}for(e=vt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=jn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ds((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ri(s,a,o+2)).times(.5),jn(a.d).slice(0,o)===(t=jn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ke(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Qe=!0,ke(n,r)};Z.times=Z.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%Mt|0,t=s/Mt|0;a[i]=(a[i]+t)%Mt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Qe?ke(e,d.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bn(e,0,Rs),t===void 0?t=n.rounding:Bn(t,0,8),ke(r,e+vt(r)+1,t))};Z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=to(n,!0):(Bn(e,0,Rs),t===void 0?t=i.rounding:Bn(t,0,8),n=ke(new i(n),e+1,t),r=to(n,!0,e+1)),r};Z.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?to(i):(Bn(e,0,Rs),t===void 0?t=a.rounding:Bn(t,0,8),n=ke(new a(i),e+vt(i)+1,t),r=to(n.abs(),!1,e+vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return ke(new t(e),vt(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(jr);if(s=new l(s),!s.s){if(e.s<1)throw Error(rn+"Infinity");return s}if(s.eq(jr))return s;if(n=l.precision,e.eq(jr))return ke(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=rR){for(i=new l(jr),t=Math.ceil(n/Be+4),Qe=!1;r%2&&(i=i.times(s),KA(i.d,t)),r=Ds(r/2),r!==0;)s=s.times(s),KA(s.d,t);return Qe=!0,e.s<0?new l(jr).div(i):ke(i,n)}}else if(a<0)throw Error(rn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qe=!1,i=e.times(Ou(s,n+u)),Qe=!0,i=iR(i),i.s=a,i};Z.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=vt(i),n=to(i,r<=a.toExpNeg||r>=a.toExpPos)):(Bn(e,1,Rs),t===void 0?t=a.rounding:Bn(t,0,8),i=ke(new a(i),e,t),r=vt(i),n=to(i,e<=r||r<=a.toExpNeg,e)),n};Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bn(e,1,Rs),t===void 0?t=n.rounding:Bn(t,0,8)),ke(new n(r),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return to(e,t<=r.toExpNeg||t>=r.toExpPos)};function nR(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Qe?ke(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Be),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Mt|0,l[a]%=Mt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Qe?ke(t,d):t}function Bn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qa+e)}function jn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Be-n.length,r&&(a+=Mi(r)),a+=n;o=e[t],n=o+"",r=Be-n.length,r&&(a+=Mi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ri=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Mt|0,o=a/Mt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Mt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,p,m,g,y,w,x,b,E,I,j,R,S,A,C=n.constructor,D=n.s==i.s?1:-1,T=n.d,k=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(rn+"Division by zero");for(l=n.e-i.e,S=k.length,j=T.length,m=new C(D),g=m.d=[],u=0;k[u]==(T[u]||0);)++u;if(k[u]>(T[u]||0)&&--l,a==null?b=a=C.precision:o?b=a+(vt(n)-vt(i))+1:b=a,b<0)return new C(0);if(b=b/Be+2|0,u=0,S==1)for(c=0,k=k[0],b++;(u<j||c)&&b--;u++)E=c*Mt+(T[u]||0),g[u]=E/k|0,c=E%k|0;else{for(c=Mt/(k[0]+1)|0,c>1&&(k=e(k,c),T=e(T,c),S=k.length,j=T.length),I=S,y=T.slice(0,S),w=y.length;w<S;)y[w++]=0;A=k.slice(),A.unshift(0),R=k[0],k[1]>=Mt/2&&++R;do c=0,s=t(k,y,S,w),s<0?(x=y[0],S!=w&&(x=x*Mt+(y[1]||0)),c=x/R|0,c>1?(c>=Mt&&(c=Mt-1),d=e(k,c),p=d.length,w=y.length,s=t(d,y,p,w),s==1&&(c--,r(d,S<p?A:k,p))):(c==0&&(s=c=1),d=k.slice()),p=d.length,p<w&&d.unshift(0),r(y,d,w),s==-1&&(w=y.length,s=t(k,y,S,w),s<1&&(c++,r(y,S<w?A:k,w))),w=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[w++]=T[I]||0:(y=[T[I]],w=1);while((I++<j||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,ke(m,o?a+vt(m)+1:a)}}();function iR(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(vt(e)>16)throw Error(C_+vt(e));if(!e.s)return new c(jr);for(Qe=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ja(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(jr),c.precision=s;;){if(i=ke(i.times(e),s),r=r.times(++l),o=a.plus(ri(i,r,s)),jn(o.d).slice(0,s)===jn(a.d).slice(0,s)){for(;u--;)a=ke(a.times(a),s);return c.precision=d,t==null?(Qe=!0,ke(a,d)):a}a=o}}function vt(e){for(var t=e.e*Be,r=e.d[0];r>=10;r/=10)t++;return t}function xg(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(rn+"LN10 precision limit exceeded");return ke(new e(e.LN10),t)}function Mi(e){for(var t="";e--;)t+="0";return t}function Ou(e,t){var r,n,i,a,o,s,l,u,c,d=1,p=10,m=e,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(rn+(m.s?"NaN":"-Infinity"));if(m.eq(jr))return new y(0);if(t==null?(Qe=!1,u=w):u=t,m.eq(10))return t==null&&(Qe=!0),xg(y,u);if(u+=p,y.precision=u,r=jn(g),n=r.charAt(0),a=vt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=jn(m.d),n=r.charAt(0),d++;a=vt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=xg(y,u+2,w).times(a+""),m=Ou(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=w,t==null?(Qe=!0,ke(m,w)):m;for(s=o=m=ri(m.minus(jr),m.plus(jr),u),c=ke(m.times(m),u),i=3;;){if(o=ke(o.times(c),u),l=s.plus(ri(o,new y(i),u)),jn(l.d).slice(0,u)===jn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(xg(y,u+2,w).times(a+""))),s=ri(s,new y(d),u),y.precision=w,t==null?(Qe=!0,ke(s,w)):s;s=l,i+=2}}function WA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ds(r/Be),e.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Be;n<i;)e.d.push(+t.slice(n,n+=Be));t=t.slice(n),n=Be-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>ah||e.e<-ah))throw Error(C_+r)}else e.s=0,e.e=0,e.d=[0];return e}function ke(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Be,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/Be),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=Be,i=n-Be+o}if(r!==void 0&&(a=ja(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/ja(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=vt(e),d.length=1,t=t-a-1,d[0]=ja(10,(Be-t%Be)%Be),e.e=Ds(-t/Be)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=ja(10,Be-n),d[c]=i>0?(u/ja(10,o-i)%ja(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Mt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Mt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Qe&&(e.e>ah||e.e<-ah))throw Error(C_+vt(e));return e}function aR(e,t){var r,n,i,a,o,s,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?ke(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Be),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Mt-1;--l[a],l[i]+=Mt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qe?ke(t,m):t):new p(0)}function to(e,t,r){var n,i=vt(e),a=jn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Mi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Mi(-i-1)+a,r&&(n=r-o)>0&&(a+=Mi(n))):i>=o?(a+=Mi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Mi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Mi(n))),e.s<0?"-"+a:a}function KA(e,t){if(e.length>t)return e.length=t,!0}function oR(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return WA(o,a.toString())}else if(typeof a!="string")throw Error(qa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,iW.test(a))WA(o,a);else throw Error(qa+a)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oR,i.config=i.set=aW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function aW(e){if(!e||typeof e!="object")throw Error(rn+"Object expected");var t,r,n,i=["precision",1,Rs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ds(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qa+r+": "+n);return this}var O_=oR(nW);jr=new O_(1);const Ie=O_;var oW=e=>e,sR={},lR=e=>e===sR,HA=e=>function t(){return arguments.length===0||arguments.length===1&&lR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},uR=(e,t)=>e===1?t:HA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==sR).length;return a>=e?t(...n):uR(e-a,HA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>lR(c)?s.shift():c);return t(...u,...s)}))}),sW=e=>uR(e.length,e),Iy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lW=sW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),uW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oW;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Cy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function cR(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function dR(e,t,r){for(var n=new Ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var fR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},hR=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=cR(e.toNumber()),i=new Ie(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Ie(l.toNumber()):new Ie(Math.ceil(l.toNumber()))},cW=(e,t,r)=>{var n=new Ie(1),i=new Ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ie(10).pow(cR(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var o=Math.floor((t-1)/2),s=uW(lW(l=>i.add(new Ie(l-o).mul(n)).toNumber()),Iy);return s(0,t)},pR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var o=hR(new Ie(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ie(0):(s=new Ie(t).add(r).div(2),s=s.sub(new Ie(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ie(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?pR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Ie(l).mul(o)),tickMax:s.add(new Ie(u).mul(o))})},dW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=fR([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Iy(0,i-1).map(()=>1/0)]:[...Iy(0,i-1).map(()=>-1/0),l];return r>n?Cy(u):u}if(s===l)return cW(s,i,a);var{step:c,tickMin:d,tickMax:p}=pR(s,l,o,a,0),m=dR(d,p.add(new Ie(.1).mul(c)),c);return r>n?Cy(m):m},fW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=fR([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=hR(new Ie(s).sub(o).div(l-1),a,0),c=[...dR(new Ie(o),new Ie(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?Cy(c):c},mR=e=>e.rootProps.maxBarSize,hW=e=>e.rootProps.barGap,gR=e=>e.rootProps.barCategoryGap,pW=e=>e.rootProps.barSize,ic=e=>e.rootProps.stackOffset,vR=e=>e.rootProps.reverseStackOrder,j_=e=>e.options.chartName,N_=e=>e.rootProps.syncId,yR=e=>e.rootProps.syncMethod,k_=e=>e.options.eventEmitter,Gt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gn.angleAxisId,includeHidden:!1,name:void 0,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:void 0,ticks:void 0,type:Gn.type,unit:void 0},gW={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:Or.type,unit:void 0},vW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gn.scale,tick:Gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yW={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:"category",unit:void 0},R_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vW:mW,D_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yW:gW,Lp=e=>e.polarOptions,M_=L([xi,bi,It],hk),wR=L([Lp,M_],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),_R=L([Lp,M_],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),wW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},xR=L([Lp],wW);L([R_,xR],Mp);var bR=L([M_,wR,_R],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([D_,bR],Mp);var ER=L([Ae,Lp,wR,_R,xi,bi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:or(o,i,i/2),cy:or(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ye=(e,t)=>t,ac=(e,t,r)=>r;function L_(e){return e==null?void 0:e.id}function SR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=L_(s);u.forEach((d,p)=>{var m=a==null||i?p:String(Ge(d,a,null)),g=Ge(d,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[c]:g}),o.set(m,y)})}}),Array.from(o.values())}function Vp(e){return e.stackId!=null&&e.dataKey!=null}var Fp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _W(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ot=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ms=e=>e.tooltip.settings.axisId;function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oy=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AR=(e,t)=>e.cartesianAxis.xAxis[t],Si=(e,t)=>{var r=AR(e,t);return r??kt},Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Oy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xu},PR=(e,t)=>e.cartesianAxis.yAxis[t],Ai=(e,t)=>{var r=PR(e,t);return r??Rt},SW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},V_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??SW},tt=(e,t,r)=>{switch(t){case"xAxis":return Si(e,r);case"yAxis":return Ai(e,r);case"zAxis":return V_(e,r);case"angleAxis":return R_(e,r);case"radiusAxis":return D_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},AW=(e,t,r)=>{switch(t){case"xAxis":return Si(e,r);case"yAxis":return Ai(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oc=(e,t,r)=>{switch(t){case"xAxis":return Si(e,r);case"yAxis":return Ai(e,r);case"angleAxis":return R_(e,r);case"radiusAxis":return D_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},TR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function F_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var $_=e=>e.graphicalItems.cartesianItems,PW=L([Ye,ac],F_),z_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),sc=L([$_,tt,PW],z_,{memoizeOptions:{resultEqualityCheck:$p}}),IR=L([sc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vp)),CR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TW=L([sc],CR),U_=e=>e.map(t=>t.data).filter(Boolean).flat(1),IW=L([sc],U_,{memoizeOptions:{resultEqualityCheck:$p}}),B_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},q_=L([IW,I_],B_),W_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ge(i,n)}))):e.map(n=>({value:n})),zp=L([q_,tt,sc],W_);function OR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ld(e){if(zn(e)||e instanceof Date){var t=Number(e);if(ct(t))return t}}function QA(e){if(Array.isArray(e)){var t=[Ld(e[0]),Ld(e[1])];return da(t)?t:void 0}var r=Ld(e);if(r!=null)return[r,r]}function vi(e){return e.map(Ld).filter($5)}function CW(e,t,r){return!r||typeof t!="number"||_n(t)?[]:r.length?vi(r.flatMap(n=>{var i=Ge(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ct(a)||!ct(o)))return[t-a,t+o]})):[]}var jt=e=>{var t=Ot(e),r=Ms(e);return oc(e,t,r)},lc=L([jt],e=>e==null?void 0:e.dataKey),OW=L([IR,I_,jt],SR),jR=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(L_);return[s,{stackedData:iU(e,c,r),graphicalItems:u}]}))},jy=L([OW,IR,ic,vR],jR),NR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=uU(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},jW=L([tt],e=>e.allowDataOverflow),K_=e=>{var t;if(e==null||!("domain"in e))return Oy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=vi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Oy},H_=L([tt],K_),G_=L([H_,jW],tR),NW=L([jy,_a,Ye,G_],NR,{memoizeOptions:{resultEqualityCheck:Fp}}),Up=e=>e.errorBars,kW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>OR(r,n)),sh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},Q_=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>OR(i,x)),p=Ge(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=CW(s,p,d);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(o==null||y>o)&&(o=y)}var w=QA(p);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=QA(Ge(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),ct(a)&&ct(o))return[a,o]},RW=L([q_,tt,TW,Up,Ye],Q_,{memoizeOptions:{resultEqualityCheck:Fp}});function DW(e){var{value:t}=e;if(zn(t)||t instanceof Date)return t}var MW=(e,t,r)=>{var n=e.map(DW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Cj(n))?_k(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},kR=e=>e.referenceElements.dots,Ls=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),LW=L([kR,Ye,ac],Ls),RR=e=>e.referenceElements.areas,VW=L([RR,Ye,ac],Ls),DR=e=>e.referenceElements.lines,FW=L([DR,Ye,ac],Ls),MR=(e,t)=>{var r=vi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$W=L(LW,Ye,MR),LR=(e,t)=>{var r=vi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zW=L([VW,Ye],LR);function UW(e){var t;if(e.x!=null)return vi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:vi(r)}function BW(e){var t;if(e.y!=null)return vi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:vi(r)}var VR=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?UW(n):BW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qW=L([FW,Ye],VR),WW=L($W,qW,zW,(e,t,r)=>sh(e,r,t)),Y_=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?sh(n,a,i):sh(a,i);return rW(t,u,e.allowDataOverflow)},KW=L([tt,H_,G_,NW,RW,WW,Ae,Ye],Y_,{memoizeOptions:{resultEqualityCheck:Fp}}),HW=[0,1],X_=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=fo(t,a);if(u&&s==null){var c;return _k(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?MW(n,e,u):i==="expand"?HW:o}},J_=L([tt,Ae,q_,zp,ic,Ye,KW],X_),FR=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Wu(a));return s in Ol?s:"point"}}},Vs=L([tt,Ae,TR,j_,Ye],FR);function GW(e){if(e!=null){if(e in Ol)return Ol[e]();var t="scale".concat(Wu(e));if(t in Ol)return Ol[t]()}}function Z_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=GW(t);if(i!=null){var a=i.domain(r).range(n);return Z9(a),a}}}var ex=(e,t,r)=>{var n=K_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&da(e))return dW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&da(e))return fW(e,t.tickCount,t.allowDecimals)}},tx=L([J_,oc,Vs],ex),rx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&da(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},QW=L([tt,J_,tx,Ye],rx),YW=L(zp,tt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(vi(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),$R=L(YW,Ae,gR,It,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!ct(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=or(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),XW=(e,t)=>{var r=Si(e,t);return r==null||typeof r.padding!="string"?0:$R(e,"xAxis",t,r.padding)},JW=(e,t)=>{var r=Ai(e,t);return r==null||typeof r.padding!="string"?0:$R(e,"yAxis",t,r.padding)},ZW=L(Si,XW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),eK=L(Ai,JW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),tK=L([It,ZW,_p,wp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),rK=L([It,Ae,eK,_p,wp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),uc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return tK(e,r,n);case"yAxis":return rK(e,r,n);case"zAxis":return(i=V_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return xR(e);case"radiusAxis":return bR(e,r);default:return}},zR=L([tt,uc],Mp),Fs=L([tt,Vs,QW,zR],Z_);L([sc,Up,Ye],kW);function UR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bp=(e,t)=>t,qp=(e,t,r)=>r,nK=L(vp,Bp,qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UR)),iK=L(yp,Bp,qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UR)),BR=(e,t)=>({width:e.width,height:t.height}),aK=(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}},qR=L(It,Si,BR),oK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},lK=L(bi,It,nK,Bp,qp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=BR(t,s);o==null&&(o=oK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),uK=L(xi,It,iK,Bp,qp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=aK(t,s);o==null&&(o=sK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),cK=(e,t)=>{var r=Si(e,t);if(r!=null)return lK(e,r.orientation,r.mirror)},dK=L([It,Si,cK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),fK=(e,t)=>{var r=Ai(e,t);if(r!=null)return uK(e,r.orientation,r.mirror)},hK=L([It,Ai,fK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),WR=L(It,Ai,(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}}),YA=(e,t,r)=>{switch(t){case"xAxis":return qR(e,r).width;case"yAxis":return WR(e,r).height;default:return}},KR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=fo(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&Cj(l))return l}},nx=L([Ae,zp,tt,Ye],KR),HR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=fo(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},ix=L([Ae,zp,oc,Ye],HR),XA=L([Ae,AW,Vs,Fs,nx,ix,uc,tx,Ye],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=fo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),pK=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=fo(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Vt(a[0]-a[1])*2*g:g;var y=d||i;if(y){var w=y.map((x,b)=>{var E=o?o.indexOf(x):x;return{index:b,coordinate:n(E)+g,value:x,offset:g}});return w.filter(x=>ct(x.coordinate))}return u&&s?s.map((x,b)=>({coordinate:n(x)+g,value:x,index:b,offset:g})).filter(x=>ct(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,b)=>({coordinate:n(x)+g,value:o?o[x]:x,index:b,offset:g}))}},GR=L([Ae,oc,Vs,Fs,tx,uc,nx,ix,Ye],pK),mK=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=fo(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},bs=L([Ae,oc,Fs,uc,nx,ix,Ye],mK),Es=L(tt,Fs,(e,t)=>{if(!(e==null||t==null))return oh(oh({},e),{},{scale:t})}),gK=L([tt,Vs,J_,zR],Z_);L((e,t,r)=>V_(e,r),gK,(e,t)=>{if(!(e==null||t==null))return oh(oh({},e),{},{scale:t})});var vK=L([Ae,vp,yp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QR=e=>e.options.defaultTooltipEventType,YR=e=>e.options.validateTooltipEventTypes;function XR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ax(e,t){var r=QR(e),n=YR(e);return XR(t,r,n)}function yK(e){return ee(t=>ax(t,e))}var JR=(e,t)=>{var r,n=Number(t);if(!(_n(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wK=e=>e.tooltip.settings,$i={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_K={itemInteraction:{click:$i,hover:$i},axisInteraction:{click:$i,hover:$i},keyboardInteraction:$i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZR=Pr({name:"tooltip",initialState:_K,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=mn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ke()},removeTooltipEntrySettings:{reducer(e,t){var r=mn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xK,replaceTooltipEntrySettings:bK,removeTooltipEntrySettings:EK,setTooltipSettingsState:SK,setActiveMouseOverItemIndex:e2,mouseLeaveItem:AK,mouseLeaveChart:t2,setActiveClickItemIndex:PK,setMouseOverAxisIndex:r2,setMouseClickAxisIndex:TK,setSyncInteraction:Ny,setKeyboardInteraction:ky}=ZR.actions,IK=ZR.reducer;function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kK(e){return e.index!=null}var n2=(e,t,r,n)=>{if(t==null)return $i;var i=NK(e,t,r);if(i==null)return $i;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(kK(i)){if(a)return dd(dd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return dd(dd({},$i),{},{coordinate:i.coordinate})};function RK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function DK(e,t){var r=RK(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function MK(e,t,r){if(r==null||t==null)return!0;var n=Ge(e,t);return n==null||!da(r)?!0:DK(n,r)}var ox=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ct(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||MK(u,r,n)?String(l):null},i2=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},a2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},cc=e=>e.options.tooltipPayloadSearcher,$s=e=>e.tooltip;function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return(t=VK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $K(e,t){return e??t}var o2=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:w}=m,x=$K(y,s),b=Array.isArray(x)?LN(x,u,c):x,E=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n,I=w==null?void 0:w.nameKey,j;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=F5(b,n,i):j=a(b,t,l,I),Array.isArray(j))j.forEach(S=>{var A=eP(eP({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(IS({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:Ge(S.payload,S.dataKey),name:S.name}))});else{var R;p.push(IS({tooltipEntrySettings:w,dataKey:E,payload:j,value:Ge(j,E),name:(R=Ge(j,I))!==null&&R!==void 0?R:w==null?void 0:w.name}))}return p},d)}},sx=L([jt,Ae,TR,j_,Ot],FR),zK=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),UK=L([Ot,Ms],F_),dc=L([zK,jt,UK],z_,{memoizeOptions:{resultEqualityCheck:$p}}),BK=L([dc],e=>e.filter(Vp)),qK=L([dc],U_,{memoizeOptions:{resultEqualityCheck:$p}}),zs=L([qK,_a],B_),WK=L([BK,_a,jt],SR),lx=L([zs,jt,dc],W_),s2=L([jt],K_),KK=L([jt],e=>e.allowDataOverflow),l2=L([s2,KK],tR),HK=L([dc],e=>e.filter(Vp)),GK=L([WK,HK,ic,vR],jR),QK=L([GK,_a,Ot,l2],NR),YK=L([dc],CR),XK=L([zs,jt,YK,Up,Ot],Q_,{memoizeOptions:{resultEqualityCheck:Fp}}),JK=L([kR,Ot,Ms],Ls),ZK=L([JK,Ot],MR),eH=L([RR,Ot,Ms],Ls),tH=L([eH,Ot],LR),rH=L([DR,Ot,Ms],Ls),nH=L([rH,Ot],VR),iH=L([ZK,nH,tH],sh),aH=L([jt,s2,l2,QK,XK,iH,Ae,Ot],Y_),fc=L([jt,Ae,zs,lx,ic,Ot,aH],X_),oH=L([fc,jt,sx],ex),sH=L([jt,fc,oH,Ot],rx),u2=e=>{var t=Ot(e),r=Ms(e),n=!1;return uc(e,t,r,n)},c2=L([jt,u2],Mp),d2=L([jt,sx,sH,c2],Z_),lH=L([Ae,lx,jt,Ot],KR),uH=L([Ae,lx,jt,Ot],HR),cH=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=fo(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vt(i[0]-i[1])*2*d:d,u&&o?o.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},Pi=L([Ae,jt,sx,d2,u2,lH,uH,Ot],cH),ux=L([QR,YR,wK],(e,t,r)=>XR(r.shared,e,t)),f2=e=>e.tooltip.settings.trigger,cx=e=>e.tooltip.settings.defaultIndex,hc=L([$s,ux,f2,cx],n2),ro=L([hc,zs,lc,fc],ox),h2=L([Pi,ro],JR),dx=L([hc],e=>{if(e)return e.dataKey}),dH=L([hc],e=>{if(e)return e.graphicalItemId}),p2=L([$s,ux,f2,cx],a2),fH=L([xi,bi,Ae,It,Pi,cx,p2,cc],i2),hH=L([hc,fH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pH=L([hc],e=>e.active),mH=L([p2,ro,_a,lc,h2,cc,ux],o2);L([mH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){gH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gH(e,t,r){return(t=vH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wH=()=>ee(jt),_H=()=>{var e=wH(),t=ee(Pi),r=ee(d2);return $f(!e||!r?void 0:rP(rP({},e),{},{scale:r}),t)};function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return(t=bH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},AH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return _o(_o(_o({},n),gt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return _o(_o(_o({},n),gt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var m2=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Vt(c-u)!==Vt(d-c)){var m=[];if(Vt(d-c)===Vt(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=d+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:o}=r[l]);break}}else{var x=Math.min(u,d),b=Math.max(u,d);if(e>(x+c)/2&&e<=(b+c)/2){({index:o}=r[l]);break}}}else if(t){for(var E=0;E<s;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},TH=()=>ee(j_),fx=(e,t)=>t,g2=(e,t,r)=>r,hx=(e,t,r,n)=>n,IH=L(Pi,e=>sp(e,t=>t.coordinate)),px=L([$s,fx,g2,hx],n2),mx=L([px,zs,lc,fc],ox),CH=(e,t,r)=>{if(t!=null){var n=$s(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},v2=L([$s,fx,g2,hx],a2),lh=L([xi,bi,Ae,It,Pi,hx,v2,cc],i2),OH=L([px,lh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),y2=L([Pi,mx],JR),jH=L([v2,mx,_a,lc,y2,cc,fx],o2),NH=L([px,mx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),kH=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&PH(e,o)){var s=cU(e,t),l=m2(s,a,i,r,n),u=SH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},RH=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=b8(e,r);if(s){var l=dU(s,t),u=m2(l,o,a,n,i),c=AH(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},DH=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?kH(e,t,n,i,a,o,s):RH(e,t,r,n,i,a,o)},MH=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),LH=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Gt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:_W}});function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH={},UH={zIndexMap:Object.values(Gt).reduce((e,t)=>aP(aP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zH)},BH=new Set(Object.values(Gt));function qH(e){return BH.has(e)}var w2=Pr({name:"zIndex",initialState:UH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!qH(r)&&delete e.zIndexMap[r])},prepare:Ke()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ke()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ke()}}}),{registerZIndexPortal:WH,unregisterZIndexPortal:KH,registerZIndexPortalId:HH,unregisterZIndexPortalId:GH}=w2.actions,QH=w2.reducer;function Sn(e){var{zIndex:t,children:r}=e,n=VU(),i=n&&t!==void 0&&t!==0,a=Tr(),o=Fe();_.useLayoutEffect(()=>i?(o(WH({zIndex:t})),()=>{o(KH({zIndex:t}))}):Ku,[o,t,i]);var s=ee(u=>MH(u,t,a));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?Fn.createPortal(r,l):null}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZH(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function eG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,y,w;if(c==="ScatterChart")g=d,y=LB,w=Gt.cursorLine;else if(c==="BarChart")g=VB(s,d,a,o),y=fk,w=Gt.cursorRectangle;else if(s==="radial"&&jj(d)){var{cx:x,cy:b,radius:E,startAngle:I,endAngle:j}=pk(d);g={cx:x,cy:b,startAngle:I,endAngle:j,innerRadius:E,outerRadius:E},y=gk,w=Gt.cursorLine}else g={points:P8(s,d,a)},y=n_,w=Gt.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,S=fd(fd(fd(fd({stroke:"#ccc",pointerEvents:"none"},a),g),vu(l)),{},{payload:p,payloadIndex:m,className:Oe("recharts-tooltip-cursor",R)});return _.createElement(Sn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},_.createElement(ZH,{cursor:l,cursorComp:y,cursorProps:S}))}function tG(e){var t=_H(),r=YN(),n=bp(),i=TH();return t==null||r==null||n==null||i==null?null:_.createElement(eG,Ry({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var _2=_.createContext(null),rG=()=>_.useContext(_2),x2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],x=arguments.length,b,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,p),!0;case 5:return w.fn.call(w.context,c,d,p,m),!0;case 6:return w.fn.call(w.context,c,d,p,m,g),!0}for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];w.fn.apply(w.context,b)}else{var I=w.length,j;for(E=0;E<I;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),x){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,d);break;case 4:w[E].fn.call(w[E].context,c,d,p);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];w[E].fn.apply(w[E].context,b)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,w=[],x=g.length;y<x;y++)(g[y].fn!==c||p&&!g[y].once||d&&g[y].context!==d)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(x2);var nG=x2.exports;const iG=wi(nG);var ju=new iG,Dy="recharts.syncEvent.tooltip",sP="recharts.syncEvent.brush";function b2(e,t){if(t){var r=Number.parseInt(t,10);if(!_n(r))return e==null?void 0:e[r]}}var aG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},E2=Pr({name:"options",initialState:aG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oG=E2.reducer,{createEventEmitter:sG}=E2.actions;function lG(e){return e.tooltip.syncInteraction}var uG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S2=Pr({name:"chartData",initialState:uG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:lP,setDataStartEndIndexes:cG,setComputedData:Ete}=S2.actions,dG=S2.reducer,fG=["x","y"];function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e,t){if(e==null)return{};var r,n,i=vG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yG(){var e=ee(N_),t=ee(k_),r=Fe(),n=ee(yR),i=ee(Pi),a=bp(),o=xp(),s=ee(l=>l.rootProps.className);_.useEffect(()=>{if(e==null)return Ku;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(o&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,w=gG(m,fG),{x,y:b,width:E,height:I}=c.payload.sourceViewBox,j=xo(xo({},w),{},{x:o.x+(E?(g-x)/E:0)*o.width,y:o.y+(I?(y-b)/I:0)*o.height});r(xo(xo({},c),{},{payload:xo(xo({},c.payload),{},{coordinate:j})}))}else r(c);return}if(i!=null){var R;if(typeof n=="function"){var S={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=n(i,S);R=i[A]}else n==="value"&&(R=i.find(fe=>String(fe.value)===c.payload.label));var{coordinate:C}=c.payload;if(R==null||c.payload.active===!1||C==null||o==null){r(Ny({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:T}=C,k=Math.min(D,o.x+o.width),O=Math.min(T,o.y+o.height),Q={x:a==="horizontal"?R.coordinate:k,y:a==="horizontal"?O:R.coordinate},se=Ny({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(R.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return ju.on(Dy,l),()=>{ju.off(Dy,l)}},[s,r,t,e,n,i,a,o])}function wG(){var e=ee(N_),t=ee(k_),r=Fe();_.useEffect(()=>{if(e==null)return Ku;var n=(i,a,o)=>{t!==o&&e===i&&r(cG(a))};return ju.on(sP,n),()=>{ju.off(sP,n)}},[r,t,e])}function _G(){var e=Fe();_.useEffect(()=>{e(sG())},[e]),yG(),wG()}function xG(e,t,r,n,i,a){var o=ee(m=>CH(m,e,t)),s=ee(k_),l=ee(N_),u=ee(yR),c=ee(lG),d=c==null?void 0:c.active,p=xp();_.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=Ny({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});ju.emit(Dy,l,m,s)}},[d,r,o,i,n,s,l,u,a,p])}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return(t=EG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AG(e){return e.dataKey}function PG(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(gB,t)}var fP=[],TG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gx(e){var t,r,n=zt(e,TG),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:x,shared:b,trigger:E,defaultIndex:I,portal:j,axisId:R}=n,S=Fe(),A=typeof I=="number"?String(I):I;_.useEffect(()=>{S(SK({shared:b,trigger:E,axisId:R,active:i,defaultIndex:A}))},[S,b,E,R,i,A]);var C=xp(),D=sk(),T=yK(b),{activeIndex:k,isActive:O}=(t=ee($e=>NH($e,T,E,A)))!==null&&t!==void 0?t:{},Q=ee($e=>jH($e,T,E,A)),se=ee($e=>y2($e,T,E,A)),fe=ee($e=>OH($e,T,E,A)),ue=Q,U=rG(),K=(r=i??O)!==null&&r!==void 0?r:!1,[re,me]=sN([ue,K]),_e=T==="axis"?se:void 0;xG(T,E,fe,_e,k,K);var yt=j??U;if(yt==null||C==null||T==null)return null;var je=ue??fP;K||(je=fP),u&&je.length&&(je=Qj(je.filter($e=>$e.value!=null&&($e.hide!==!0||n.includeHidden)),p,AG));var Bt=je.length>0,wt=_.createElement(EB,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:K,coordinate:fe,hasPayload:Bt,offset:d,position:m,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:w,lastBoundingBox:re,innerRef:me,hasPortalFromProps:!!j},PG(l,dP(dP({},n),{},{payload:je,label:_e,active:K,activeIndex:k,coordinate:fe,accessibilityLayer:D})));return _.createElement(_.Fragment,null,Fn.createPortal(wt,yt),K&&_.createElement(tG,{cursor:x,tooltipEventType:T,coordinate:fe,payload:je,index:k}))}var pc=e=>null;pc.displayName="Cell";function IG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jG{constructor(t){IG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){kG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MG={cacheSize:2e3,enableCache:!0},A2=NG({},MG),pP=new jG(A2.cacheSize),LG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mP="recharts_measurement_span";function VG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var gP=(e,t)=>{try{var r=document.getElementById(mP);r||(r=document.createElement("span"),r.setAttribute("id",mP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,LG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zu.isSsr)return{width:0,height:0};if(!A2.enableCache)return gP(t,r);var n=VG(t,r),i=pP.get(n);if(i)return i;var a=gP(t,r);return pP.set(n,a),a},vP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$G=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zG=Object.keys(P2),zo="NaN";function UG(e,t){return e*P2[t]}class vr{static parse(t){var r,[,n,i]=(r=$G.exec(t))!==null&&r!==void 0?r:[];return new vr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_n(t)&&(this.unit=""),r!==""&&!FG.test(r)&&(this.num=NaN,this.unit=""),zG.includes(r)&&(this.num=UG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _n(this.num)}}function T2(e){if(e.includes(zo))return zo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=vP.exec(t))!==null&&r!==void 0?r:[],o=vr.parse(n??""),s=vr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return zo;t=t.replace(vP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=yP.exec(t))!==null&&u!==void 0?u:[],m=vr.parse(c??""),g=vr.parse(p??""),y=d==="+"?m.add(g):m.subtract(g);if(y.isNaN())return zo;t=t.replace(yP,y.toString())}return t}var wP=/\(([^()]*)\)/;function BG(e){for(var t=e,r;(r=wP.exec(t))!=null;){var[,n]=r;t=t.replace(wP,T2(n))}return t}function qG(e){var t=e.replace(/\s+/g,"");return t=BG(t),t=T2(t),t}function WG(e){try{return qG(e)}catch{return zo}}function bg(e){var t=WG(e.slice(5,-1));return t===zo?"":t}var KG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],HG=["dx","dy","angle","className","breakAll"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function _P(e,t){if(e==null)return{};var r,n,i=GG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I2=/[ \f\n\r\t\v\u2028\u2029]+/,C2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];$t(t)||(r?i=t.toString().split(""):i=t.toString().split(I2));var a=i.map(s=>({word:s,width:Wl(s,n).width})),o=r?0:Wl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function QG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var O2=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),j2=e=>e.reduce((t,r)=>t.width>r.width?t:r),YG="",xP=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=C2({breakAll:r,style:n,children:l+YG});if(!u)return[!1,[]];var c=O2(u.wordsWithComputedWidth,a,o,s),d=c.length>i||j2(c).width>Number(a);return[d,c]},XG=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=te(a),c=String(o),d=O2(t,n,r,i);if(!u||i)return d;var p=d.length>a||j2(d).width>Number(n);if(!p)return d;for(var m=0,g=c.length-1,y=0,w;m<=g&&y<=c.length-1;){var x=Math.floor((m+g)/2),b=x-1,[E,I]=xP(c,b,l,s,a,n,r,i),[j]=xP(c,x,l,s,a,n,r,i);if(!E&&!j&&(m=x+1),E&&j&&(g=x-1),!E&&j){w=I;break}y++}return w||d},bP=e=>{var t=$t(e)?[]:e.toString().split(I2);return[{words:t,width:void 0}]},JG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Zu.isSsr){var s,l,u=C2({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return bP(n);return XG({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return bP(n)},N2="#808080",ZG={angle:0,breakAll:!1,capHeight:"0.71em",fill:N2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Wp=_.forwardRef((e,t)=>{var r=zt(e,ZG),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=_P(r,KG),p=_.useMemo(()=>JG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:y,className:w,breakAll:x}=d,b=_P(d,HG);if(!zn(n)||!zn(i)||p.length===0)return null;var E=Number(n)+(te(m)?m:0),I=Number(i)+(te(g)?g:0);if(!ct(E)||!ct(I))return null;var j;switch(c){case"start":j=bg("calc(".concat(o,")"));break;case"middle":j=bg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:j=bg("calc(".concat(p.length-1," * -").concat(a,")"));break}var R=[];if(l){var S=p[0].width,{width:A}=d;R.push("scale(".concat(te(A)&&te(S)?A/S:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(E,", ").concat(I,")")),R.length&&(b.transform=R.join(" ")),_.createElement("text",My({},en(b),{ref:t,x:E,y:I,className:Oe("recharts-text",w),textAnchor:u,fill:s.includes("url")?N2:s}),p.map((C,D)=>{var T=C.words.join(x?"":" ");return _.createElement("tspan",{x:E,dy:D===0?j:a,key:"".concat(T,"-").concat(D)},T)}))});Wp.displayName="Text";var eQ=["labelRef"];function tQ(e,t){if(e==null)return{};var r,n,i=rQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(null,arguments)}var k2=_.createContext(null),oQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return _.createElement(k2.Provider,{value:l},s)},R2=()=>{var e=_.useContext(k2),t=xp();return e||QN(t)},sQ=_.createContext(null),lQ=()=>{var e=_.useContext(sQ),t=ee(ER);return e||t},uQ=e=>{var{value:t,formatter:r}=e,n=$t(e.children)?t:e.children;return typeof r=="function"?r(n):n},vx=e=>e!=null&&typeof e=="function",cQ=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dQ=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=cQ(d,p),w=y>=0?1:-1,x,b;switch(t){case"insideStart":x=d+w*a,b=m;break;case"insideEnd":x=p-w*a,b=!m;break;case"end":x=p+w*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var E=gt(s,l,g,x),I=gt(s,l,g,x+(b?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(I.x,",").concat(I.y),R=$t(e.id)?yu("recharts-radial-line-"):e.id;return _.createElement("text",Qn({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:R,d:j})),_.createElement("textPath",{xlinkHref:"#".concat(R)},r))},fQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=gt(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+o)/2,{x:m,y:g}=gt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Ly=e=>"cx"in e&&te(e.cx),hQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Ly(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,p=o+(l-u)/2,m=(d+p)/2,g=(l+u)/2,y=d+l/2,w=c>=0?1:-1,x=w*n,b=w>0?"end":"start",E=w>0?"start":"end",I=l>=0?1:-1,j=I*n,R=I>0?"end":"start",S=I>0?"start":"end";if(i==="top"){var A={x:d+l/2,y:s-x,textAnchor:"middle",verticalAnchor:b};return at(at({},A),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:p+u/2,y:s+c+x,textAnchor:"middle",verticalAnchor:E};return at(at({},C),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var D={x:m-j,y:s+c/2,textAnchor:R,verticalAnchor:"middle"};return at(at({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var T={x:m+g+j,y:s+c/2,textAnchor:S,verticalAnchor:"middle"};return at(at({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:c}:{})}var k=a?{width:g,height:c}:{};return i==="insideLeft"?at({x:m+j,y:s+c/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?at({x:m+g-j,y:s+c/2,textAnchor:R,verticalAnchor:"middle"},k):i==="insideTop"?at({x:d+l/2,y:s+x,textAnchor:"middle",verticalAnchor:E},k):i==="insideBottom"?at({x:p+u/2,y:s+c-x,textAnchor:"middle",verticalAnchor:b},k):i==="insideTopLeft"?at({x:d+j,y:s+x,textAnchor:S,verticalAnchor:E},k):i==="insideTopRight"?at({x:d+l-j,y:s+x,textAnchor:R,verticalAnchor:E},k):i==="insideBottomLeft"?at({x:p+j,y:s+c-x,textAnchor:S,verticalAnchor:b},k):i==="insideBottomRight"?at({x:p+u-j,y:s+c-x,textAnchor:R,verticalAnchor:b},k):i&&typeof i=="object"&&(te(i.x)||fi(i.x))&&(te(i.y)||fi(i.y))?at({x:o+or(i.x,g),y:s+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):at({x:y,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},pQ={angle:0,offset:5,zIndex:Gt.label,position:"middle",textBreakAll:!1};function Li(e){var t=zt(e,pQ),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=lQ(),d=R2(),p=n==="center"?d:c??d,m,g,y;if(r==null?m=p:Ly(r)?m=r:m=QN(r),!m||$t(i)&&$t(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var w=at(at({},t),{},{viewBox:m});if(_.isValidElement(o)){var{labelRef:x}=w,b=tQ(w,eQ);return _.cloneElement(o,b)}if(typeof o=="function"){if(g=_.createElement(o,w),_.isValidElement(g))return g}else g=uQ(t);var E=en(t);if(Ly(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return dQ(t,n,g,E,m);y=fQ(m,t.offset,t.position)}else y=hQ(t,m);return _.createElement(Sn,{zIndex:t.zIndex},_.createElement(Wp,Qn({ref:u,className:Oe("recharts-label",s)},E,y,{textAnchor:QG(E.textAnchor)?E.textAnchor:y.textAnchor,breakAll:l}),g))}Li.displayName="Label";var mQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Li,Qn({key:"label-implicit"},n)):zn(e)?_.createElement(Li,Qn({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Li?_.cloneElement(e,at({key:"label-implicit"},n)):_.createElement(Li,Qn({key:"label-implicit",content:e},n)):vx(e)?_.createElement(Li,Qn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Li,Qn({},e,{key:"label-implicit"},n)):null};function gQ(e){var{label:t,labelRef:r}=e,n=R2();return mQ(t,n,r)||null}var D2={},M2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(M2);var L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M2,r=L2,n=ap;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(D2);var vQ=D2.last;const yQ=wi(vQ);var wQ=["valueAccessor"],_Q=["dataKey","clockWise","id","textBreakAll","zIndex"];function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function SP(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bQ=e=>Array.isArray(e.value)?yQ(e.value):e.value,V2=_.createContext(void 0),EQ=V2.Provider,F2=_.createContext(void 0),SQ=F2.Provider;function AQ(){return _.useContext(V2)}function PQ(){return _.useContext(F2)}function Vd(e){var{valueAccessor:t=bQ}=e,r=SP(e,wQ),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=SP(r,_Q),u=AQ(),c=PQ(),d=u||c;return!d||!d.length?null:_.createElement(Sn,{zIndex:s??Gt.label},_.createElement(hr,{className:"recharts-label-list"},d.map((p,m)=>{var g,y=$t(n)?t(p,m):Ge(p&&p.payload,n),w=$t(a)?{}:{id:"".concat(a,"-").concat(m)};return _.createElement(Li,uh({key:"label-".concat(m)},en(p),l,w,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Vd.displayName="LabelList";function $2(e){var{label:t}=e;return t?t===!0?_.createElement(Vd,{key:"labelList-implicit"}):_.isValidElement(t)||vx(t)?_.createElement(Vd,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Vd,uh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var z2=e=>e.graphicalItems.polarItems,TQ=L([Ye,ac],F_),Kp=L([z2,tt,TQ],z_),IQ=L([Kp],U_),Hp=L([IQ,T_],B_),CQ=L([Hp,tt,Kp],W_);L([Hp,tt,Kp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ge(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var AP=()=>{},OQ=L([Hp,tt,Kp,Up,Ye],Q_),jQ=L([tt,H_,G_,AP,OQ,AP,Ae,Ye],Y_),U2=L([tt,Ae,Hp,CQ,ic,Ye,jQ],X_),NQ=L([U2,tt,Vs],ex);L([tt,U2,NQ,Ye],rx);var kQ={radiusAxis:{},angleAxis:{}},B2=Pr({name:"polarAxis",initialState:kQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ste,removeRadiusAxis:Ate,addAngleAxis:Pte,removeAngleAxis:Tte}=B2.actions,RQ=B2.reducer;function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VQ=(e,t)=>t,yx=L([z2,VQ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),FQ=[],wx=(e,t,r)=>(r==null?void 0:r.length)===0?FQ:r,q2=L([T_,yx,wx],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>TP(TP({},t.presentationProps),a.props))),i!=null)return i}}),$Q=L([q2,yx,wx],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Ge(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:gp(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),zQ=L([q2,yx,wx,It],(e,t,r,n)=>{if(!(t==null||e==null))return UY({offset:n,pieSettings:t,displayedData:e,cells:r})}),W2={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x=Symbol.for("react.transitional.element"),xx=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),Xp=Symbol.for("react.consumer"),Jp=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),nm=Symbol.for("react.lazy"),UQ=Symbol.for("react.view_transition"),BQ=Symbol.for("react.client.reference");function an(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _x:switch(e=e.type,e){case Gp:case Yp:case Qp:case em:case tm:case UQ:return e;default:switch(e=e&&e.$$typeof,e){case Jp:case Zp:case nm:case rm:return e;case Xp:return e;default:return t}}case xx:return t}}}Re.ContextConsumer=Xp;Re.ContextProvider=Jp;Re.Element=_x;Re.ForwardRef=Zp;Re.Fragment=Gp;Re.Lazy=nm;Re.Memo=rm;Re.Portal=xx;Re.Profiler=Yp;Re.StrictMode=Qp;Re.Suspense=em;Re.SuspenseList=tm;Re.isContextConsumer=function(e){return an(e)===Xp};Re.isContextProvider=function(e){return an(e)===Jp};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_x};Re.isForwardRef=function(e){return an(e)===Zp};Re.isFragment=function(e){return an(e)===Gp};Re.isLazy=function(e){return an(e)===nm};Re.isMemo=function(e){return an(e)===rm};Re.isPortal=function(e){return an(e)===xx};Re.isProfiler=function(e){return an(e)===Yp};Re.isStrictMode=function(e){return an(e)===Qp};Re.isSuspense=function(e){return an(e)===em};Re.isSuspenseList=function(e){return an(e)===tm};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gp||e===Yp||e===Qp||e===em||e===tm||typeof e=="object"&&e!==null&&(e.$$typeof===nm||e.$$typeof===rm||e.$$typeof===Jp||e.$$typeof===Xp||e.$$typeof===Zp||e.$$typeof===BQ||e.getModuleId!==void 0)};Re.typeOf=an;W2.exports=Re;var qQ=W2.exports,IP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CP=null,Eg=null,K2=e=>{if(e===CP&&Array.isArray(Eg))return Eg;var t=[];return _.Children.forEach(e,r=>{$t(r)||(qQ.isFragment(r)?t=t.concat(K2(r.props.children)):t.push(r))}),Eg=t,CP=e,t};function bx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>IP(i)):n=[IP(t)],K2(e).forEach(i=>{var a=Ja(i,"type.displayName")||Ja(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var H2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(H2);var WQ=H2.isPlainObject;const KQ=wi(WQ);function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}var NP=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},YQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XQ=e=>{var t=zt(e,YQ),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=_.useRef(null),[m,g]=_.useState(-1),y=_.useRef(i),w=_.useRef(a),x=_.useRef(o),b=_.useRef(r),E=_.useRef(n),I=Cp(e,"trapezoid-");if(_.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=Oe("recharts-trapezoid",s);if(!d)return _.createElement("g",null,_.createElement("path",ch({},en(t),{className:j,d:NP(r,n,i,a,o)})));var R=y.current,S=w.current,A=x.current,C=b.current,D=E.current,T="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),O=lk(["strokeDasharray"],u,l);return _.createElement(Ip,{animationId:I,key:I,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var se=St(R,i,Q),fe=St(S,a,Q),ue=St(A,o,Q),U=St(C,r,Q),K=St(D,n,Q);p.current&&(y.current=se,w.current=fe,x.current=ue,b.current=U,E.current=K);var re=Q>0?{transition:O,strokeDasharray:k}:{strokeDasharray:T};return _.createElement("path",ch({},en(t),{className:j,d:NP(U,K,se,fe,ue),ref:p,style:jP(jP({},re),t.style)}))})},JQ=["option","shapeType","propTransformer","activeClassName"];function ZQ(e,t){if(e==null)return{};var r,n,i=eY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iY(e,t){return dh(dh({},t),e)}function aY(e,t){return e==="symbols"}function RP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(fk,r);case"trapezoid":return _.createElement(XQ,r);case"sector":return _.createElement(gk,r);case"symbols":if(aY(t))return _.createElement(Cw,r);break;case"curve":return _.createElement(n_,r);default:return null}}function oY(e){return _.isValidElement(e)?e.props:e}function G2(e){var{option:t,shapeType:r,propTransformer:n=iY,activeClassName:i="recharts-active-shape"}=e,a=ZQ(e,JQ),o;if(_.isValidElement(t))o=_.cloneElement(t,dh(dh({},a),oY(t)));else if(typeof t=="function")o=t(a,a.index);else if(KQ(t)&&typeof t!="boolean"){var s=n(t,a);o=_.createElement(RP,{shapeType:r,elementProps:s})}else{var l=a;o=_.createElement(RP,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(hr,{className:i},o):o}var Ex=(e,t,r)=>{var n=Fe();return(i,a)=>o=>{e==null||e(i,a,o),n(e2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Sx=e=>{var t=Fe();return(r,n)=>i=>{e==null||e(r,n,i),t(AK())}},Ax=(e,t,r)=>{var n=Fe();return(i,a)=>o=>{e==null||e(i,a,o),n(PK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Q2(e){var{tooltipEntrySettings:t}=e,r=Fe(),n=Tr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(xK(t)):i.current!==t&&r(bK({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(EK(i.current)),i.current=null)},[r]),null}function sY(e){var{legendPayload:t}=e,r=Fe(),n=Tr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(ik(t)):i.current!==t&&r(ak({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(ok(i.current)),i.current=null)},[r]),null}function lY(e){var{legendPayload:t}=e,r=Fe(),n=ee(Ae),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(ik(t)):i.current!==t&&r(ak({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(ok(i.current)),i.current=null)},[r]),null}var Sg,uY=()=>{var[e]=_.useState(()=>yu("uid-"));return e},cY=(Sg=wM.useId)!==null&&Sg!==void 0?Sg:uY;function Y2(e,t){var r=cY();return t||(e?"".concat(e,"-").concat(r):r)}var dY=_.createContext(void 0),X2=e=>{var{id:t,type:r,children:n}=e,i=Y2("recharts-".concat(r),t);return _.createElement(dY.Provider,{value:i},n(i))},fY={cartesianItems:[],polarItems:[]},J2=Pr({name:"graphicalItems",initialState:fY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=mn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=mn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ke()},removePolarGraphicalItem:{reducer(e,t){var r=mn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ke()}}}),{addCartesianGraphicalItem:hY,replaceCartesianGraphicalItem:pY,removeCartesianGraphicalItem:mY,addPolarGraphicalItem:gY,removePolarGraphicalItem:vY}=J2.actions,yY=J2.reducer,wY=e=>{var t=Fe(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(hY(e)):r.current!==e&&t(pY({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(mY(r.current)),r.current=null)},[t]),null},_Y=_.memo(wY);function xY(e){var t=Fe();return _.useLayoutEffect(()=>(t(gY(e)),()=>{t(vY(e))}),[t,e]),null}var bY=["key"],EY=["onMouseEnter","onClick","onMouseLeave"],SY=["id"],AY=["id"];function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=IY(e,"string");return typeof t=="symbol"?t:t+""}function IY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(null,arguments)}function im(e,t){if(e==null)return{};var r,n,i=CY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OY(e){var t=_.useMemo(()=>bx(e.children,pc),[e.children]),r=ee(n=>$Q(n,e.id,t));return r==null?null:_.createElement(lY,{legendPayload:r})}var jY=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:gp(s,t),hide:l,type:u,color:o,unit:""}};return _.createElement(Q2,{tooltipEntrySettings:c})}),NY=(e,t)=>e>t?"start":e<t?"end":"middle",kY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),RY=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=hk(a,o),l=i+or(e.cx,a,a/2),u=n+or(e.cy,o,o/2),c=or(e.innerRadius,s,0),d=kY(r,e.outerRadius,s),p=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},DY=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function MY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var LY=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Oe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=im(t,bY);return _.createElement(n_,fa({},i,{type:"linear",className:r}))},VY=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=Oe("recharts-pie-label-text",MY(e));return _.createElement(Wp,fa({},t,{alignmentBaseline:"middle",className:i}),n)};function FY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=wn(r),l=vu(i),u=vu(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=gt(p.cx,p.cy,p.outerRadius+c,g),w=it(it(it(it({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:NY(y.x,p.cx)},y),x=it(it(it(it({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[gt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return _.createElement(Sn,{zIndex:Gt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},_.createElement(hr,null,a&&LY(a,x),VY(i,w,Ge(p,o))))});return _.createElement(hr,{className:"recharts-pie-labels"},d)}function $Y(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement($2,{label:i}):_.createElement(FY,{sectors:t,props:r,showLabels:n})}function zY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=ee(ro),l=ee(dx),u=ee(dH),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=im(i,EY),g=Ex(c,i.dataKey,o),y=Sx(p),w=Ax(d,i.dataKey,o);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var E=u==null||u===o,I=String(b)===s&&(l==null||i.dataKey===l)&&E,j=s?n:null,R=r&&I?r:j,S=it(it({},x),{},{stroke:x.stroke,tabIndex:-1,[zN]:b,[UN]:i.dataKey});return _.createElement(hr,fa({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Hu(m,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:w(x,b)}),_.createElement(G2,fa({option:a??R,index:b,shapeType:"sector",isActive:I},S)))}))}function UY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=DY(s,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(R=>Ge(R,u,0)!==0).length,x=(g>=360?w:w-1)*y,b=g-w*p-x,E=n.reduce((R,S)=>{var A=Ge(S,u,0);return R+(te(A)?A:0)},0),I;if(E>0){var j;I=n.map((R,S)=>{var A=Ge(R,u,0),C=Ge(R,c,S),D=RY(r,a,R),T=(te(A)?A:0)/E,k,O=it(it({},R),i&&i[S]&&i[S].props);S?k=j.endAngle+Vt(m)*y*(A!==0?1:0):k=s;var Q=k+Vt(m)*((A!==0?p:0)+T*b),se=(k+Q)/2,fe=(D.innerRadius+D.outerRadius)/2,ue=[{name:C,value:A,payload:O,dataKey:u,type:d}],U=gt(D.cx,D.cy,fe,se);return j=it(it(it(it({},r.presentationProps),{},{percent:T,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:ue,midAngle:se,middleRadius:fe,tooltipPosition:U},O),D),{},{value:A,dataKey:u,startAngle:k,endAngle:Q,payload:O,paddingAngle:Vt(m)*y}),j})}return I}function BY(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(SQ,{value:t?i:void 0},n)}function qY(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=Cp(t,"recharts-pie-"),g=r.current,[y,w]=_.useState(!1),x=_.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),b=_.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return _.createElement(BY,{showLabels:!y,sectors:i},_.createElement(Ip,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},E=>{var I=[],j=i&&i[0],R=j==null?void 0:j.startAngle;return i==null||i.forEach((S,A)=>{var C=g&&g[A],D=A>0?Ja(S,"paddingAngle",0):0;if(C){var T=St(C.endAngle-C.startAngle,S.endAngle-S.startAngle,E),k=it(it({},S),{},{startAngle:R+D,endAngle:R+T+D});I.push(k),R=k.endAngle}else{var{endAngle:O,startAngle:Q}=S,se=St(0,O-Q,E),fe=it(it({},S),{},{startAngle:R+D,endAngle:R+se+D});I.push(fe),R=fe.endAngle}}),r.current=I,_.createElement(hr,null,_.createElement(zY,{sectors:I,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement($Y,{showLabels:!y,sectors:i,props:t}),t.children)}var WY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gt.area};function KY(e){var{id:t}=e,r=im(e,SY),{hide:n,className:i,rootTabIndex:a}=e,o=_.useMemo(()=>bx(e.children,pc),[e.children]),s=ee(c=>zQ(c,t,o)),l=_.useRef(null),u=Oe("recharts-pie",i);return n||s==null?(l.current=null,_.createElement(hr,{tabIndex:a,className:u})):_.createElement(Sn,{zIndex:e.zIndex},_.createElement(jY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),_.createElement(hr,{tabIndex:a,className:u},_.createElement(qY,{props:it(it({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Z2(e){var t=zt(e,WY),{id:r}=t,n=im(t,AY),i=wn(n);return _.createElement(X2,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(xY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(OY,fa({},n,{id:a})),_.createElement(KY,fa({},n,{id:a}))))}Z2.displayName="Pie";function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YY={xAxis:{},yAxis:{},zAxis:{}},eD=Pr({name:"cartesianAxis",initialState:YY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=LP(LP({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:XY,replaceXAxis:JY,removeXAxis:ZY,addYAxis:eX,replaceYAxis:tX,removeYAxis:rX,addZAxis:Ite,replaceZAxis:Cte,removeZAxis:Ote,updateYAxisWidth:nX}=eD.actions,iX=eD.reducer,aX=L([It],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),oX=L([aX,xi,bi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tD=()=>ee(oX),sX="Invariant failed";function lX(e,t){throw new Error(sX)}var uX=["x","y"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hX(e,t){if(e==null)return{};var r,n,i=pX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mX(e,t){var{x:r,y:n}=e,i=hX(e,uX),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return _l(_l(_l(_l(_l({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function fh(e){return _.createElement(G2,Vy({shapeType:"rectangle",propTransformer:mX,activeClassName:"recharts-active-bar"},e))}var gX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(te(t))return t;var a=te(n)||$t(n);return a?t(n,i):(a||lX(),r)}},vX={},rD=Pr({name:"errorBars",initialState:vX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:jte,replaceErrorBar:Nte,removeErrorBar:kte}=rD.actions,yX=rD.reducer,wX=["children"];function _X(e,t){if(e==null)return{};var r,n,i=xX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},EX=_.createContext(bX);function SX(e){var{children:t}=e,r=_X(e,wX);return _.createElement(EX.Provider,{value:r},t)}function nD(e,t){var r,n,i=ee(u=>Si(u,e)),a=ee(u=>Ai(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:kt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Rt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function AX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=tD(),{needClipX:a,needClipY:o,needClip:s}=nD(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function PX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ct(e.zIndex)?e.zIndex:t}var TX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=_;function IX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CX=typeof Object.is=="function"?Object.is:IX,OX=mc.useSyncExternalStore,jX=mc.useRef,NX=mc.useEffect,kX=mc.useMemo,RX=mc.useDebugValue;TX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=jX(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=kX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,CX(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=OX(e,a[0],a[1]);return NX(function(){o.hasValue=!0,o.value=s},[s]),RX(s),s};function DX(e){e()}function MX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var FP={notify(){},get:()=>[]};function LX(e,t){let r,n=FP,i=0,a=!1;function o(y){c();const w=n.subscribe(y);let x=!1;return()=>{x||(x=!0,w(),d())}}function s(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=MX())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=FP)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var VX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FX=VX(),$X=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zX=$X(),UX=()=>FX||zX?_.useLayoutEffect:_.useEffect,BX=UX();function $P(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qX(e,t){if($P(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!$P(e[r[i]],t[r[i]]))return!1;return!0}var Ag=Symbol.for("react-redux-context"),Pg=typeof globalThis<"u"?globalThis:{};function WX(){if(!_.createContext)return{};const e=Pg[Ag]??(Pg[Ag]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var KX=WX();function HX(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const l=LX(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=_.useMemo(()=>i.getState(),[i]);BX(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||KX;return _.createElement(s.Provider,{value:a},t)}var GX=HX,QX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function YX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Px(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(QX.has(n)){if(e[n]==null&&t[n]==null)continue;if(!qX(e[n],t[n]))return!1}else if(!YX(e[n],t[n]))return!1;return!0}var XX=["onMouseEnter","onMouseLeave","onClick"],JX=["value","background","tooltipPosition"],ZX=["id"],eJ=["onMouseEnter","onClick","onMouseLeave"];function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(null,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(e,t){if(e==null)return{};var r,n,i=iJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aJ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:gp(r,t),payload:e}]},oJ=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:gp(a,t),hide:o,type:l,color:i,unit:s}};return _.createElement(Q2,{tooltipEntrySettings:u})});function sJ(e){var t=ee(ro),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=hh(a,XX),c=Ex(o,n),d=Sx(s),p=Ax(l,n);if(!i||r==null)return null;var m=vu(i);return _.createElement(Sn,{zIndex:PX(i,Gt.barBackground)},r.map((g,y)=>{var{value:w,background:x,tooltipPosition:b}=g,E=hh(g,JX);if(!x)return null;var I=c(g,y),j=d(g,y),R=p(g,y),S=cr(cr(cr(cr(cr({option:i,isActive:String(y)===t},E),{},{fill:"#eee"},x),m),Hu(u,g,y)),{},{onMouseEnter:I,onMouseLeave:j,onClick:R,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return _.createElement(fh,yi({key:"background-bar-".concat(y)},S))}))}function lJ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return cr(cr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return _.createElement(EQ,{value:t?i:void 0},r)}function uJ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ee(ro),l=ee(dx),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?_.createElement(Sn,{zIndex:Gt.activeBar},_.createElement(fh,yi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):_.createElement(fh,yi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function cJ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(fh,yi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function dJ(e){var t,{data:r,props:n}=e,i=(t=wn(n))!==null&&t!==void 0?t:{},{id:a}=i,o=hh(i,ZX),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=hh(n,eJ),g=Ex(c,l),y=Sx(p),w=Ax(d,l);return r?_.createElement(_.Fragment,null,r.map((x,b)=>_.createElement(hr,yi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},Hu(m,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:w(x,b)}),u?_.createElement(uJ,{shape:s,activeBar:u,baseProps:o,entry:x,index:b,dataKey:l}):_.createElement(cJ,{shape:s,baseProps:o,entry:x,index:b,dataKey:l})))):null}function fJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=Cp(t,"recharts-bar-"),[m,g]=_.useState(!1),y=!m,w=_.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=_.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return _.createElement(lJ,{showLabels:y,rects:n},_.createElement(Ip,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:w,onAnimationStart:x,key:p},b=>{var E=b===1?n:n==null?void 0:n.map((I,j)=>{var R=d&&d[j];if(R)return cr(cr({},I),{},{x:St(R.x,I.x,b),y:St(R.y,I.y,b),width:St(R.width,I.width,b),height:St(R.height,I.height,b)});if(i==="horizontal"){var S=St(0,I.height,b),A=St(I.stackedBarStart,I.y,b);return cr(cr({},I),{},{y:A,height:S})}var C=St(0,I.width,b),D=St(I.stackedBarStart,I.x,b);return cr(cr({},I),{},{width:C,x:D})});return b>0&&(r.current=E??null),E==null?null:_.createElement(hr,null,_.createElement(dJ,{props:t,data:E}))}),_.createElement($2,{label:t.label}),t.children)}function hJ(e){var t=_.useRef(null);return _.createElement(fJ,{previousRectanglesRef:t,props:e})}var iD=0,pJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ge(e,t)}};class mJ extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=Oe("recharts-bar",i),d=u;return _.createElement(hr,{className:c,id:u},s&&_.createElement("defs",null,_.createElement(AX,{clipPathId:d,xAxisId:a,yAxisId:o})),_.createElement(hr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},_.createElement(sJ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),_.createElement(hJ,this.props)))}}var gJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:iD,xAxisId:0,yAxisId:0,zIndex:Gt.bar};function vJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=nD(t,r),p=bp(),m=Tr(),g=bx(e.children,pc),y=ee(b=>WJ(b,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var w,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?w=0:w=p==="vertical"?x.height/2:x.width/2,_.createElement(SX,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:pJ,errorBarOffset:w},_.createElement(mJ,yi({},e,{layout:p,needClip:d,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function yJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:y}=e,w=t==="horizontal"?s:o,x=c?w.scale.domain():null,b=oU({numericAxis:w}),E=w.scale(b);return d.map((I,j)=>{var R,S,A,C,D,T;c?R=eU(c[j+y],x):(R=Ge(I,r),Array.isArray(R)||(R=[b,R]));var k=gX(n,iD)(R[1],j);if(t==="horizontal"){var O,[Q,se]=[s.scale(R[0]),s.scale(R[1])];S=AS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:I,index:j}),A=(O=se??Q)!==null&&O!==void 0?O:void 0,C=i.size;var fe=Q-se;if(D=_n(fe)?0:fe,T={x:S,y:p.top,width:C,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var ue=Vt(D||k)*(Math.abs(k)-Math.abs(D));A-=ue,D+=ue}}else{var[U,K]=[o.scale(R[0]),o.scale(R[1])];if(S=U,A=AS({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:I,index:j}),C=K-U,D=i.size,T={x:p.left,y:A,width:p.width,height:D},Math.abs(k)>0&&Math.abs(C)<Math.abs(k)){var re=Vt(C||k)*(Math.abs(k)-Math.abs(C));C+=re}}if(S==null||A==null||C==null||D==null)return null;var me=cr(cr({},I),{},{stackedBarStart:E,x:S,y:A,width:C,height:D,value:c?R:R[1],payload:I,background:T,tooltipPosition:{x:S+C/2,y:A+D/2},parentViewBox:g},m&&m[j]&&m[j].props);return me}).filter(Boolean)}function wJ(e){var t=zt(e,gJ),r=Tr();return _.createElement(X2,{id:t.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(sY,{legendPayload:aJ(t)}),_.createElement(oJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(_Y,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),_.createElement(Sn,{zIndex:t.zIndex},_.createElement(vJ,yi({},t,{id:n})))))}var Zo=_.memo(wJ,Px);Zo.displayName="Bar";function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){_J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _J(e,t,r){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EJ=(e,t)=>t,SJ=(e,t,r)=>r,AJ=(e,t,r,n)=>n,PJ=(e,t,r,n,i)=>i,gc=L([$_,PJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),TJ=L([gc],e=>e==null?void 0:e.maxBarSize),IJ=(e,t,r,n,i,a)=>a,BP=(e,t,r)=>{var n=r??e;if(!$t(n))return or(n,t,0)},CJ=L([Ae,$_,EJ,SJ,AJ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),OJ=(e,t,r,n)=>{var i=Ae(e);return i==="horizontal"?jy(e,"yAxis",r,n):jy(e,"xAxis",t,n)},jJ=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?YA(e,"xAxis",t):YA(e,"yAxis",r)},NJ=(e,t,r)=>{var n={},i=e.filter(Vp),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=BP(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=BP(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]},kJ=L([CJ,pW,jJ],NJ),RJ=(e,t,r,n,i)=>{var a,o,s=gc(e,t,r,n,i);if(s!=null){var l=Ae(e),u=mR(e),{maxBarSize:c}=s,d=$t(c)?u:c,p,m;return l==="horizontal"?(p=Es(e,"xAxis",t,n),m=bs(e,"xAxis",t,n)):(p=Es(e,"yAxis",r,n),m=bs(e,"yAxis",r,n)),(a=(o=$f(p,m,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},aD=(e,t,r,n)=>{var i=Ae(e),a,o;return i==="horizontal"?(a=Es(e,"xAxis",t,n),o=bs(e,"xAxis",t,n)):(a=Es(e,"yAxis",r,n),o=bs(e,"yAxis",r,n)),$f(a,o)};function DJ(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=or(e,r,0,!0),s,l=[];if(ct(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((x,b)=>x+(b.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-o,size:0};s=n.reduce((x,b)=>{var E,I={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},j=[...x,I];return m=j[j.length-1].position,j},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var y=(r-2*g-(a-1)*o)/a;y>1&&(y>>=0);var w=ct(i)?Math.min(y,i):y;s=n.reduce((x,b,E)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+o)*E+(y-w)/2,size:w}}],l)}return s}}var MJ=(e,t,r,n,i,a,o)=>{var s=$t(o)?t:o,l=DJ(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>hd(hd({},u),{},{position:hd(hd({},u.position),{},{offset:u.position.offset-i/2})}))),l},LJ=L([kJ,mR,hW,gR,RJ,aD,TJ],MJ),VJ=(e,t,r,n)=>Es(e,"xAxis",t,n),FJ=(e,t,r,n)=>Es(e,"yAxis",r,n),$J=(e,t,r,n)=>bs(e,"xAxis",t,n),zJ=(e,t,r,n)=>bs(e,"yAxis",r,n),UJ=L([LJ,gc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),BJ=(e,t)=>{var r=L_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},qJ=L([OJ,gc],BJ),WJ=L([It,Yw,VJ,FJ,$J,zJ,UJ,Ae,I_,aD,qJ,gc,IJ],(e,t,r,n,i,a,o,s,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:w}=d,x;if(w!=null&&w.length>0?x=w:x=m==null?void 0:m.slice(g,y+1),x!=null)return yJ({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),oD=e=>{var{chartData:t}=e,r=Fe(),n=Tr();return _.useEffect(()=>n?()=>{}:(r(lP(t)),()=>{r(lP(void 0))}),[t,r,n]),null},qP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sD=Pr({name:"brush",initialState:qP,reducers:{setBrushSettings(e,t){return t.payload==null?qP:t.payload}}}),{setBrushSettings:Rte}=sD.actions,KJ=sD.reducer;function HJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tx{static create(t){return new Tx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}HJ(Tx,"EPS",1e-4);function YJ(e){return(e%180+180)%180}var XJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=YJ(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},JJ={dots:[],areas:[],lines:[]},lD=Pr({name:"referenceElements",initialState:JJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=mn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=mn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=mn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Dte,removeDot:Mte,addArea:Lte,removeArea:Vte,addLine:Fte,removeLine:$te}=lD.actions,ZJ=lD.reducer,eZ=_.createContext(void 0),tZ=e=>{var{children:t}=e,[r]=_.useState("".concat(yu("recharts"),"-clip")),n=tD();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return _.createElement(eZ.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function uD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function rZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XJ(n,r)}function nZ(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ph(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function iZ(e,t){return uD(e,t+1)}function aZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:uD(n,u)};var y=l,w,x=()=>(w===void 0&&(w=r(g,y)),w),b=g.coordinate,E=l===0||ph(e,b,x,c,s);E||(l=0,c=o,u+=1),E&&(c=b+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uZ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===o-1){var w=e*(m.coordinate+e*y()/2-l);a[p]=m=tr(tr({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[p]=m=tr(tr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=ph(e,m.tickCoord,y,s,l);x&&(l=m.tickCoord-e*(y()/2+i),a[p]=tr(tr({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function cZ(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),p=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=tr(tr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=ph(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=tr(tr({},c),{},{isShow:!0}))}}for(var g=a?s-1:s,y=function(b){var E=o[b],I,j=()=>(I===void 0&&(I=r(E,b)),I);if(b===0){var R=e*(E.coordinate-e*j()/2-l);o[b]=E=tr(tr({},E),{},{tickCoord:R<0?E.coordinate-R*e:E.coordinate})}else o[b]=E=tr(tr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var S=ph(e,E.tickCoord,j,l,u);S&&(l=E.tickCoord+e*(j()/2+i),o[b]=tr(tr({},E),{},{isShow:!0}))}},w=0;w<g;w++)y(w);return o}function Ix(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(te(l)||Zu.isSsr){var p;return(p=iZ(i,te(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?Wl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(E,I)=>{var j=typeof u=="function"?u(E.value,I):E.value;return g==="width"?rZ(Wl(j,{fontSize:t,letterSpacing:r}),y,d):Wl(j,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Vt(i[1].coordinate-i[0].coordinate):1,b=nZ(a,x,g);return l==="equidistantPreserveStart"?aZ(x,b,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=cZ(x,b,w,i,o,l==="preserveStartEnd"):m=uZ(x,b,w,i,o),m.filter(E=>E.isShow))}var dZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},fZ=["axisLine","width","height","className","hide","ticks","axisType"];function hZ(e,t){if(e==null)return{};var r,n,i=pZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(null,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gt.axis};function yZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=ft(ft(ft({},l),wn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=ft(ft({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=ft(ft({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return _.createElement("line",no({},u,{className:Oe("recharts-cartesian-axis-line",Ja(s,"className"))}))}function wZ(e,t,r,n,i,a,o,s,l){var u,c,d,p,m,g,y=s?-1:1,w=e.tickSize||o,x=te(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!s*i,d=p-y*w,g=d-y*l,m=x;break;case"left":d=p=e.coordinate,c=t+ +!s*n,u=c-y*w,m=u-y*l,g=x;break;case"right":d=p=e.coordinate,c=t+ +s*n,u=c+y*w,m=u+y*l,g=x;break;default:u=c=e.coordinate,p=r+ +s*i,d=p+y*w,g=d+y*l,m=x;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function _Z(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function xZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function bZ(e){var{option:t,tickProps:r,value:n}=e,i,a=Oe(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,ft(ft({},r),{},{className:a}));else if(typeof t=="function")i=t(ft(ft({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Oe(o,t==null?void 0:t.className)),i=_.createElement(Wp,no({},r,{className:o}),n)}return i}var EZ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:y,tickSize:w,tickMargin:x,fontSize:b,letterSpacing:E,getTicksConfig:I,events:j,axisType:R}=e,S=Ix(ft(ft({},I),{},{ticks:r}),b,E),A=_Z(c,d),C=xZ(c,d),D=wn(I),T=vu(n),k={};typeof i=="object"&&(k=i);var O=ft(ft({},D),{},{fill:"none"},k),Q=S.map(ue=>ft({entry:ue},wZ(ue,p,m,g,y,c,w,d,x))),se=Q.map(ue=>{var{entry:U,line:K}=ue;return _.createElement(hr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&_.createElement("line",no({},O,K,{className:Oe("recharts-cartesian-axis-tick-line",Ja(i,"className"))})))}),fe=Q.map((ue,U)=>{var{entry:K,tick:re}=ue,me=ft(ft(ft(ft({textAnchor:A,verticalAnchor:C},D),{},{stroke:"none",fill:a},T),re),{},{index:U,payload:K,visibleTicksCount:S.length,tickFormatter:o,padding:l},u);return _.createElement(hr,no({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Hu(j,K,U)),n&&_.createElement(bZ,{option:n,tickProps:me,value:"".concat(typeof o=="function"?o(K.value,U):K.value).concat(s||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},fe.length>0&&_.createElement(Sn,{zIndex:Gt.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},fe)),se.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},se))}),SZ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=hZ(e,fZ),[c,d]=_.useState(""),[p,m]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return dZ({ticks:g.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=_.useCallback(w=>{if(w){var x=w.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var b=x[0];if(b){var E=window.getComputedStyle(b),I=E.fontSize,j=E.letterSpacing;(I!==c||j!==p)&&(d(I),m(j))}}},[c,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Sn,{zIndex:e.zIndex},_.createElement(hr,{className:Oe("recharts-cartesian-axis",a)},_.createElement(yZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:wn(e)}),_.createElement(EZ,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(oQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(gQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Cx=_.forwardRef((e,t)=>{var r=zt(e,ni);return _.createElement(SZ,no({},r,{ref:t}))});Cx.displayName="CartesianAxis";var AZ=["x1","y1","x2","y2","key"],PZ=["offset"],TZ=["xAxisId","yAxisId"],IZ=["xAxisId","yAxisId"];function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){CZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(null,arguments)}function mh(e,t){if(e==null)return{};var r,n,i=NZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return _.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cD(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=mh(r,AZ),d=(i=wn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=mh(d,PZ);n=_.createElement("line",Va({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function RZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=mh(e,TZ),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return _.createElement(cD,{key:"line-".concat(c),option:n,lineItemProps:d})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function DZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=mh(e,IZ),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(cD,{option:n,lineItemProps:d,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function MZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%t.length;return _.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function LZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%r.length;return _.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:s,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var VZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return VN(Ix(ar(ar(ar({},ni),r),{},{ticks:FN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},FZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return VN(Ix(ar(ar(ar({},ni),r),{},{ticks:FN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},$Z={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gt.grid};function Ox(e){var t=Zw(),r=e_(),n=YN(),i=ar(ar({},zt(e,$Z)),{},{x:te(e.x)?e.x:n.left,y:te(e.y)?e.y:n.top,width:te(e.width)?e.width:n.width,height:te(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,g=Tr(),y=ee(C=>XA(C,"xAxis",a,g)),w=ee(C=>XA(C,"yAxis",o,g));if(!Un(u)||!Un(c)||!te(s)||!te(l))return null;var x=i.verticalCoordinatesGenerator||VZ,b=i.horizontalCoordinatesGenerator||FZ,{horizontalPoints:E,verticalPoints:I}=i;if((!E||!E.length)&&typeof b=="function"){var j=p&&p.length,R=b({yAxis:w?ar(ar({},w),{},{ticks:j?p:w.ticks}):void 0,width:t??u,height:r??c,offset:n},j?!0:d);zf(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(E=R)}if((!I||!I.length)&&typeof x=="function"){var S=m&&m.length,A=x({xAxis:y?ar(ar({},y),{},{ticks:S?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},S?!0:d);zf(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(I=A)}return _.createElement(Sn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(kZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(MZ,Va({},i,{horizontalPoints:E})),_.createElement(LZ,Va({},i,{verticalPoints:I})),_.createElement(RZ,Va({},i,{offset:n,horizontalPoints:E,xAxis:y,yAxis:w})),_.createElement(DZ,Va({},i,{offset:n,verticalPoints:I,xAxis:y,yAxis:w}))))}Ox.displayName="CartesianGrid";var zZ=["domain","range"],UZ=["domain","range"];function GP(e,t){if(e==null)return{};var r,n,i=BZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=GP(e,zZ),{domain:a,range:o}=t,s=GP(t,UZ);return!QP(r,a)||!QP(n,o)?!1:Px(i,s)}var qZ=["dangerouslySetInnerHTML","ticks"],WZ=["id"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function YP(e,t){if(e==null)return{};var r,n,i=KZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HZ(e){var t=Fe(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(XY(e)):r.current!==e&&t(JY({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(ZY(r.current)),r.current=null)},[t]),null}var GZ=e=>{var{xAxisId:t,className:r}=e,n=ee(Yw),i=Tr(),a="xAxis",o=ee(w=>Fs(w,a,t,i)),s=ee(w=>GR(w,a,t,i)),l=ee(w=>qR(w,t)),u=ee(w=>dK(w,t)),c=ee(w=>AR(w,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,m=YP(e,qZ),{id:g}=c,y=YP(c,WZ);return _.createElement(Cx,Fy({},m,y,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:Oe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},QZ={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:ni.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:ni.tickLine,tickSize:ni.tickSize,type:kt.type,xAxisId:0},YZ=e=>{var t=zt(e,QZ);return _.createElement(_.Fragment,null,_.createElement(HZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(GZ,t))},jx=_.memo(YZ,dD);jx.displayName="XAxis";var XZ=["dangerouslySetInnerHTML","ticks"],JZ=["id"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function XP(e,t){if(e==null)return{};var r,n,i=ZZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eee(e){var t=Fe(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(eX(e)):r.current!==e&&t(tX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(rX(r.current)),r.current=null)},[t]),null}var tee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),o=_.useRef(null),s=ee(Yw),l=Tr(),u=Fe(),c="yAxis",d=ee(j=>Fs(j,c,t,l)),p=ee(j=>WR(j,t)),m=ee(j=>hK(j,t)),g=ee(j=>GR(j,c,t,l)),y=ee(j=>PR(j,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!p||vx(i)||_.isValidElement(i)||y==null)){var j=a.current;if(j){var R=j.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&u(nX({id:t,width:R}))}}},[g,p,u,i,t,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:x}=e,b=XP(e,XZ),{id:E}=y,I=XP(y,JZ);return _.createElement(Cx,$y({},b,I,{ref:a,labelRef:o,scale:d,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Oe("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:g,axisType:c}))},ree={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:ni.axisLine,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:ni.tickLine,tickSize:ni.tickSize,type:Rt.type,width:Rt.width,yAxisId:0},nee=e=>{var t=zt(e,ree);return _.createElement(_.Fragment,null,_.createElement(eee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(tee,t))},Nx=_.memo(nee,dD);Nx.displayName="YAxis";var iee=(e,t)=>t,kx=L([iee,Ae,ER,Ot,c2,Pi,IH,It],DH),Rx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fD=tn("mouseClick"),hD=Yu();hD.startListening({actionCreator:fD,effect:(e,t)=>{var r=e.payload,n=kx(t.getState(),Rx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(TK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var zy=tn("mouseMove"),pD=Yu(),pd=null;pD.startListening({actionCreator:zy,effect:(e,t)=>{var r=e.payload;pd!==null&&cancelAnimationFrame(pd);var n=Rx(r);pd=requestAnimationFrame(()=>{var i=t.getState(),a=ax(i,i.tooltip.settings.shared);if(a==="axis"){var o=kx(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(r2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(t2())}pd=null})}});var JP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mD=Pr({name:"rootProps",initialState:JP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),aee=mD.reducer,{updateOptions:oee}=mD.actions,gD=Pr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:see}=gD.actions,lee=gD.reducer,vD=tn("keyDown"),yD=tn("focus"),Dx=Yu();Dx.startListening({actionCreator:vD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=ox(i,zs(r),lc(r),fc(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Pi(r);if(a==="Enter"){var u=lh(r,"axis","hover",String(i.index));t.dispatch(ky({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=vK(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=s+p*d;if(!(l==null||m>=l.length||m<0)){var g=lh(r,"axis","hover",String(m));t.dispatch(ky({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});Dx.startListening({actionCreator:yD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=lh(r,"axis","hover",String(a));t.dispatch(ky({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Br=tn("externalEvent"),wD=Yu(),Tg=new Map;wD.startListening({actionCreator:Br,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Tg.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:hH(s),activeDataKey:dx(s),activeIndex:ro(s),activeLabel:h2(s),activeTooltipIndex:ro(s),isTooltipActive:pH(s)};r(l,n)}finally{Tg.delete(i)}});Tg.set(i,o)}}});var uee=L([$s],e=>e.tooltipItemPayloads),cee=L([uee,cc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),_D=tn("touchMove"),xD=Yu();xD.startListening({actionCreator:_D,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=ax(n,n.tooltip.settings.shared);if(i==="axis"){var a=kx(n,Rx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(r2({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(zN),c=(o=l.getAttribute(UN))!==null&&o!==void 0?o:void 0,d=cee(t.getState(),u,c);t.dispatch(e2({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var dee=uN({brush:KJ,cartesianAxis:iX,chartData:dG,errorBars:yX,graphicalItems:yY,layout:G9,legend:JU,options:oG,polarAxis:RQ,polarOptions:lee,referenceElements:ZJ,rootProps:aee,tooltip:IK,zIndex:QH}),fee=function(t){return w9({reducer:dee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([hD.middleware,pD.middleware,Dx.middleware,wD.middleware,xD.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(SN({type:"raf"}))},devTools:Zu.devToolsEnabled})};function bD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Tr(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=fee(t));var o=Fw;return _.createElement(GX,{context:o,store:a.current},r)}function hee(e){var{layout:t,margin:r}=e,n=Fe(),i=Tr();return _.useEffect(()=>{i||(n(W9(t)),n(q9(r)))},[n,i,t,r]),null}var ED=_.memo(hee,Px);function SD(e){var t=Fe();return _.useEffect(()=>{t(oee(e))},[t,e]),null}function ZP(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=Y2("".concat(n).concat(t)),a=Fe();return _.useLayoutEffect(()=>(a(HH({zIndex:t,elementId:i,isPanorama:r})),()=>{a(GH({zIndex:t,isPanorama:r}))}),[a,t,i,r]),_.createElement("g",{tabIndex:-1,id:i})}function eT(e){var{children:t,isPanorama:r}=e,n=ee(LH);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(ZP,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>_.createElement(ZP,{key:o,zIndex:o,isPanorama:r})))}var pee=["children"];function mee(e,t){if(e==null)return{};var r,n,i=gee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var vee={width:"100%",height:"100%",display:"block"},yee=_.forwardRef((e,t)=>{var r=Zw(),n=e_(),i=sk();if(!Un(r)||!Un(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),_.createElement(Sw,gh({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:vee,ref:t}),a)}),wee=e=>{var{children:t}=e,r=ee(_p);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return _.createElement(Sw,{width:n,height:i,x:o,y:a},t)},tT=_.forwardRef((e,t)=>{var{children:r}=e,n=mee(e,pee),i=Tr();return i?_.createElement(wee,null,_.createElement(eT,{isPanorama:!0},r)):_.createElement(yee,gh({ref:t},n),_.createElement(eT,{isPanorama:!1},r))});function _ee(){var e=Fe(),[t,r]=_.useState(null),n=ee(fU);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ct(a)&&a!==n&&e(H9(a))}},[t,e,n]),r}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(null,arguments)}var Aee=()=>(_G(),null);function vh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Pee=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,o]=_.useState({containerWidth:vh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:vh((n=e.style)===null||n===void 0?void 0:n.height)}),s=_.useCallback((u,c)=>{o(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var p=g=>{var{width:y,height:w}=g[0].contentRect;s(y,w)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,s]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),_.createElement(_.Fragment,null,_.createElement(Ep,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",io({ref:l},e)))}),Tee=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:vh(r),containerHeight:vh(n)}),o=_.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),s=_.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Ep,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",io({ref:s},e)))}),Iee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Ep,{width:r,height:n}),_.createElement("div",io({ref:t},e)))}),Cee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return fi(r)||fi(n)?_.createElement(Tee,io({},e,{ref:t})):_.createElement(Iee,io({},e,{ref:t}))});function Oee(e){return e===!0?Pee:Cee}var jee=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:w,width:x,responsive:b,dispatchTouchEvents:E=!0}=e,I=_.useRef(null),j=Fe(),[R,S]=_.useState(null),[A,C]=_.useState(null),D=_ee(),T=Xw(),k=(T==null?void 0:T.width)>0?T.width:x,O=(T==null?void 0:T.height)>0?T.height:i,Q=_.useCallback(B=>{D(B),typeof t=="function"&&t(B),S(B),C(B),B!=null&&(I.current=B)},[D,t,S,C]),se=_.useCallback(B=>{j(fD(B)),j(Br({handler:a,reactEvent:B}))},[j,a]),fe=_.useCallback(B=>{j(zy(B)),j(Br({handler:u,reactEvent:B}))},[j,u]),ue=_.useCallback(B=>{j(t2()),j(Br({handler:c,reactEvent:B}))},[j,c]),U=_.useCallback(B=>{j(zy(B)),j(Br({handler:d,reactEvent:B}))},[j,d]),K=_.useCallback(()=>{j(yD())},[j]),re=_.useCallback(B=>{j(vD(B.key))},[j]),me=_.useCallback(B=>{j(Br({handler:o,reactEvent:B}))},[j,o]),_e=_.useCallback(B=>{j(Br({handler:s,reactEvent:B}))},[j,s]),yt=_.useCallback(B=>{j(Br({handler:l,reactEvent:B}))},[j,l]),je=_.useCallback(B=>{j(Br({handler:p,reactEvent:B}))},[j,p]),Bt=_.useCallback(B=>{j(Br({handler:y,reactEvent:B}))},[j,y]),wt=_.useCallback(B=>{E&&j(_D(B)),j(Br({handler:g,reactEvent:B}))},[j,E,g]),$e=_.useCallback(B=>{j(Br({handler:m,reactEvent:B}))},[j,m]),qn=Oee(b);return _.createElement(_2.Provider,{value:R},_.createElement(cj.Provider,{value:A},_.createElement(qn,{width:k??(w==null?void 0:w.width),height:O??(w==null?void 0:w.height),className:Oe("recharts-wrapper",n),style:xee({position:"relative",cursor:"default",width:k,height:O},w),onClick:se,onContextMenu:me,onDoubleClick:_e,onFocus:K,onKeyDown:re,onMouseDown:yt,onMouseEnter:fe,onMouseLeave:ue,onMouseMove:U,onMouseUp:je,onTouchEnd:$e,onTouchMove:wt,onTouchStart:Bt,ref:Q},_.createElement(Aee,null),r)))}),Nee=["width","height","responsive","children","className","style","compact","title","desc"];function kee(e,t){if(e==null)return{};var r,n,i=Ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AD=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=kee(e,Nee),p=wn(d);return l?_.createElement(_.Fragment,null,_.createElement(Ep,{width:r,height:n}),_.createElement(tT,{otherAttributes:p,title:u,desc:c},a)):_.createElement(jee,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(tT,{otherAttributes:p,title:u,desc:c,ref:t},_.createElement(tZ,null,a)))});function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}var Dee={top:5,right:5,bottom:5,left:5},Mee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Lee=_.forwardRef(function(t,r){var n,i=zt(t.categoricalChartProps,Mee),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return _.createElement(bD,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},_.createElement(oD,{chartData:u.data}),_.createElement(ED,{layout:i.layout,margin:i.margin}),_.createElement(SD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(AD,Uy({},i,{ref:r})))}),Vee=["axis","item"],PD=_.forwardRef((e,t)=>_.createElement(Lee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vee,tooltipPayloadSearcher:b2,categoricalChartProps:e,ref:t}));function Fee(e){var t=Fe();return _.useEffect(()=>{t(see(e))},[t,e]),null}var $ee=["layout"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function zee(e,t){if(e==null)return{};var r,n,i=Uee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bee={top:5,right:5,bottom:5,left:5},TD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qee=_.forwardRef(function(t,r){var n,i=zt(t.categoricalChartProps,TD),{layout:a}=i,o=zee(i,$ee),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(bD,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},_.createElement(oD,{chartData:i.data}),_.createElement(ED,{layout:a,margin:i.margin}),_.createElement(SD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Fee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(AD,By({},o,{ref:r})))});function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gee=["item"],Qee=iT(iT({},TD),{},{layout:"centric",startAngle:0,endAngle:360}),Yee=_.forwardRef((e,t)=>{var r=zt(e,Qee);return _.createElement(qee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gee,tooltipPayloadSearcher:b2,categoricalChartProps:r,ref:t})});const Xee=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(o=>o.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(o=>o.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(o=>o.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(o=>o.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(o=>o.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(o=>o.value>0);return a.length===0?h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx("div",{className:"chart-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})})]}):h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx(Jw,{width:"100%",height:300,children:h.jsxs(Yee,{children:[h.jsx(Z2,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,value:s,percent:l})=>`${o}: ${s} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:o=>{t(o.status),r()},style:{cursor:"pointer"},children:a.map((o,s)=>h.jsx(pc,{fill:o.fill},`cell-${s}`))}),h.jsx(gx,{formatter:o=>`${o} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),h.jsx(Tp,{})]})})]})};function Jee({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,o=e.filter(l=>l.status==="cerrada").length,s=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:o}];return h.jsx("div",{className:"incident-stats-container",children:h.jsx("div",{className:"stats-chart",children:h.jsx(Jw,{width:"100%",height:300,children:h.jsxs(PD,{data:s,children:[h.jsx(Ox,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),h.jsx(jx,{dataKey:"name",stroke:"#667eea"}),h.jsx(Nx,{stroke:"#667eea"}),h.jsx(gx,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),h.jsx(Tp,{wrapperStyle:{paddingTop:"20px"}}),h.jsx(Zo,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),h.jsx(Zo,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),h.jsx(Zo,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function Zee({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?h.jsxs("div",{className:"quick-incidents-container",children:[h.jsx("h3",{children:"Incidencias Pendientes"}),h.jsx("div",{className:"quick-incidents-empty",children:h.jsx("p",{children:" No hay incidencias pendientes"})})]}):h.jsxs("div",{className:"quick-incidents-container",children:[h.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),h.jsx("div",{className:"quick-incidents-list",children:r.map(a=>h.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:o=>{if(o.button===1){o.preventDefault();const s=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(s,"_blank")}},children:[h.jsx("div",{className:"quick-incident-name",children:a.name}),h.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function ete({incidents:e}){const t=()=>{const d=e.filter(m=>m.status==="cerrada");if(d.length===0)return 0;const p=d.reduce((m,g)=>{const y=new Date(g.creationDate),w=new Date(g.updatedAt),x=Math.abs(w.getTime()-y.getTime()),b=Math.ceil(x/(1e3*60*60*24));return m+b},0);return Math.round(p/d.length)},r=()=>({correctivo:e.filter(d=>d.type==="correctivo").length,evolutivo:e.filter(d=>d.type==="evolutivo").length,tarea:e.filter(d=>d.type==="tarea").length}),n=()=>{const d=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===d.getMonth()&&m.getFullYear()===d.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const d=e.filter(p=>p.status==="cerrada").length;return Math.round(d/e.length*100)},a=()=>e.filter(d=>(d.priority==="crtica"||d.priority==="alta")&&d.status!=="cerrada").length,o=t(),s=r(),l=n(),u=i(),c=a();return h.jsxs("div",{className:"metrics-dashboard",children:[h.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),h.jsxs("div",{className:"metrics-grid",children:[h.jsxs("div",{className:"metric-card metric-primary",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:o}),h.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-success",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsxs("div",{className:"metric-value",children:[u,"%"]}),h.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-info",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:l}),h.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),h.jsxs("div",{className:"metric-card metric-warning",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:c}),h.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),h.jsxs("div",{className:"metrics-detail",children:[h.jsx("h3",{children:"Distribucin por Tipo"}),h.jsxs("div",{className:"type-stats",children:[h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Correctivo"}),h.jsx("span",{className:"type-stat-value",children:s.correctivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),h.jsx("span",{className:"type-stat-value",children:s.evolutivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Tarea"}),h.jsx("span",{className:"type-stat-value",children:s.tarea})]})]})]})]})}const tte=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((s,l)=>{const u=e.filter(d=>{const p=new Date(d.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(d=>{const p=new Date(d.updatedAt);return d.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:s,creadas:u,cerradas:c}})})();return h.jsxs("div",{className:"yearly-chart-container",children:[h.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),h.jsx(Jw,{width:"100%",height:300,children:h.jsxs(PD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(Ox,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),h.jsx(jx,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(Nx,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(gx,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),h.jsx(Tp,{}),h.jsx(Zo,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),h.jsx(Zo,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),h.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function rte({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(d=>d.status==="cerrada"?!1:new Date(d.creationDate)<c&&(d.status==="abierta"||d.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(d=>d.status!=="puesto-en-test"&&d.status!=="verificado-en-test"?!1:new Date(d.creationDate)<c)},a=r(),o=n(),s=i(),l=a.length+o.length+s.length;return l===0?null:h.jsxs("div",{className:"alerts-banner",children:[h.jsxs("div",{className:"alerts-header",children:[h.jsx("span",{className:"alerts-icon",children:""}),h.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&h.jsxs("div",{className:"alert-section alert-stale",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:a.length}),h.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),h.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),o.length>0&&h.jsxs("div",{className:"alert-section alert-critical",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:o.length}),h.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),h.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]}),s.length>0&&h.jsxs("div",{className:"alert-section alert-test",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:s.length}),h.jsx("h4",{children:"En Test por ms de 3 das"})]}),h.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]})]})}function ID(){return h.jsxs("div",{className:"logo-container",children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),h.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),h.jsxs("g",{transform:"translate(30, 30)",children:[h.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),h.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),h.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),h.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),h.jsx("div",{className:"logo-text",children:h.jsx("h1",{children:"IncidentAlert"})})]})}function nte({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},d=m=>{m.preventDefault(),i.trim()&&o.trim()&&(r(e,o.trim(),i.trim()),a(""),s(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return h.jsxs(h.Fragment,{children:[l&&Fn.createPortal(h.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:h.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:" Nuevo Comentario"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),h.jsxs("form",{className:"comment-form-modal",onSubmit:d,children:[h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"author",children:"Tu nombre"}),h.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:o,onChange:m=>s(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"comment",children:"Comentario"}),h.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),h.jsxs("div",{className:"comments-section",children:[h.jsxs("div",{className:"comments-header",children:[h.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),h.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),h.jsx("div",{className:"comments-list",children:p.length===0?h.jsxs("div",{className:"no-comments",children:[h.jsx("span",{className:"no-comments-icon",children:""}),h.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>h.jsxs("div",{className:"comment-item",children:[h.jsxs("div",{className:"comment-header",children:[h.jsxs("div",{className:"comment-author",children:[h.jsx("span",{className:"author-icon",children:""}),h.jsx("strong",{children:m.author})]}),h.jsxs("div",{className:"comment-header-right",children:[h.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),h.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function ite({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[o,s]=_.useState(!1),[l,u]=_.useState(""),[c,d]=_.useState(!1),[p,m]=_.useState({show:!1,tag:null}),g=E=>{E.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),s(!1),d(!1))},y=E=>{n(e,E),d(!1)},w=E=>{m({show:!0,tag:E})},x=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),d(!1))};c&&r.filter(E=>!t.includes(E));const b=r;return h.jsxs("div",{className:"tags-manager",children:[h.jsxs("div",{className:"tags-header",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"tags-actions",children:!o&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-add-tag",onClick:()=>s(!0),children:"+ Nueva"}),b.length>0&&h.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",b),d(!c)},children:" Gestionar"})]})})]}),o&&h.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[h.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:E=>u(E.target.value),autoFocus:!0,className:"tag-input"}),h.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),h.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{s(!1),u("")},children:""})]}),c&&b.length>0&&h.jsxs("div",{className:"tag-suggestions",children:[h.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),h.jsx("div",{className:"suggestions-list",children:b.map(E=>h.jsxs("div",{className:"suggestion-item",children:[!t.includes(E)&&h.jsxs("button",{className:"suggestion-tag",onClick:()=>y(E),children:["+ ",E]}),t.includes(E)&&h.jsxs("span",{className:"tag-already-added",children:[" ",E]}),a&&h.jsx("button",{className:"btn-delete-global-tag",onClick:()=>w(E),title:"Eliminar etiqueta del sistema",children:""})]},E))})]}),p.show&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:h.jsxs("div",{className:"delete-modal",onClick:E=>E.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Eliminar Etiqueta"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsxs("p",{children:["Eliminar la etiqueta ",h.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),h.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:x,children:" Eliminar"})]})]})}),h.jsx("div",{className:"tags-list",children:t.length===0?h.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):h.jsx("div",{className:"tags-container",children:t.map(E=>h.jsxs("div",{className:"tag-item",children:[h.jsx("span",{className:"tag-name",children:E}),h.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,E),title:"Eliminar etiqueta",children:""})]},E))})})]})}function ate({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#fbbf24"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#000",E.style.backgroundColor="#fbbf24"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&Fn.createPortal(h.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"qa-modal-header",children:[h.jsx("h2",{children:" Vista Tabla QA"}),h.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"qa-modal-body",children:[h.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),h.jsx("div",{className:"qa-table-container",children:h.jsxs("table",{className:"qa-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Owner"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"qa-modal-actions",children:[h.jsx("button",{className:"btn-copy-qa",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function ote({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#10b981"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#fff",E.style.backgroundColor="#10b981"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&Fn.createPortal(h.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"main-modal-header",children:[h.jsx("h2",{children:" Vista Tabla MAIN"}),h.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"main-modal-body",children:[h.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),h.jsx("div",{className:"main-table-container",children:h.jsxs("table",{className:"main-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Persona de Contacto"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"main-modal-actions",children:[h.jsx("button",{className:"btn-copy-main",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const ste=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:o,onUpdatePR:s})=>{const[l,u]=_.useState(!1),[c,d]=_.useState(!1),[p,m]=_.useState(null),[g,y]=_.useState(null),w=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),C=S.get("description").trim();A&&(p&&p.type==="qa2"?(s(e,"qa2",p.pr.id,A,C),m(null),y({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",A,C),y({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},x=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),C=S.get("description").trim();A&&(p&&p.type==="main"?(s(e,"main",p.pr.id,A,C),m(null),y({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",A,C),y({type:"success",message:" PR MAIN agregado correctamente"})),d(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},b=(R,S)=>{m({pr:R,type:S}),S==="qa2"?u(!0):d(!0)},E=R=>{m(null),R==="qa2"?u(!1):d(!1)},I=(R,S,A)=>{R.stopPropagation(),o(e,S,A),y({type:"error",message:` PR ${S==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>y(null),3e3)},j=R=>{const S=R.split("/");return S[S.length-1]||R};return h.jsxs(h.Fragment,{children:[g&&h.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[h.jsx("span",{children:g.message}),h.jsx("button",{className:"pr-notification-close",onClick:()=>y(null),children:""})]}),l&&Fn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("qa2"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("qa2"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:w,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),h.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),h.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&h.jsx(ate,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Fn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("main"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("main"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),h.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),h.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&h.jsx(ote,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),h.jsxs("div",{className:"pr-manager",children:[h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs QA2"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:r.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"qa2"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",j(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"qa2",R.id),title:"Eliminar PR",children:""})]},R.id))})]}),h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs MAIN"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>d(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:n.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"main"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",j(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"main",R.id),title:"Eliminar PR",children:""})]},R.id))})]})]})]})};function lte({incident:e,currentUser:t}){const[r,n]=_.useState(!1),[i,a]=_.useState(""),o=u=>!u||u.length===0?"-":u.map(c=>{const d=c.link.split("/");return d[d.length-1]||c.link}).join(", "),s=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),d=document.createElement("p");d.textContent="Buenas, os envo una PR para su subida a PRO",d.style.marginBottom="1rem",c.appendChild(d);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(R=>{R.style.padding="0.75rem 0.5rem",R.style.border="1px solid #e5e7eb",R.style.fontWeight="700",R.style.color="#000",R.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(j=>{j.style.padding="0.75rem 0.5rem",j.style.border="1px solid #e5e7eb",j.style.color="#333",j.style.fontWeight="500",j.style.backgroundColor="white"});const y=p.querySelector('input[type="date"]');if(y){const I=y.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const w=p.querySelector("textarea");if(w){const I=w.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}c.appendChild(p);const x=document.createElement("p");x.textContent="Un saludo, Gracias!",c.appendChild(x),document.body.appendChild(c);const b=document.createRange();b.selectNodeContents(c);const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(b),document.execCommand("copy"),E.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[r&&Fn.createPortal(h.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:h.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[h.jsxs("div",{className:"excel-modal-header",children:[h.jsx("h2",{children:" Vista Previa Excel"}),h.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),h.jsxs("div",{className:"excel-modal-body",children:[h.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),h.jsx("div",{className:"excel-table-container",children:h.jsxs("table",{className:"excel-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"INCIDENCIA/S"}),h.jsx("th",{children:"Estado peticin Incidencias"}),h.jsx("th",{children:"DIA DESPLIEGUE"}),h.jsx("th",{children:"PERSONA CONTACTO"}),h.jsx("th",{children:"DESCRIPCIN"}),h.jsx("th",{children:"DEPENDENCIAS"}),h.jsx("th",{children:"PR PRO"}),h.jsx("th",{children:"PR QA"}),h.jsx("th",{children:"Desplegado"}),h.jsx("th",{children:"PUESTO EXCEL QA"}),h.jsx("th",{children:"TIPO MOV"}),h.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),h.jsx("tbody",{children:h.jsxs("tr",{children:[h.jsx("td",{children:e.name}),h.jsx("td",{children:"Verificado en Test"}),h.jsx("td",{children:h.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),h.jsx("td",{children:t}),h.jsx("td",{children:h.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),h.jsx("td",{children:"NO"}),h.jsx("td",{children:o(e.prMainList)}),h.jsx("td",{children:o(e.prQA2List)}),h.jsx("td",{children:"NO"}),h.jsx("td",{}),h.jsx("td",{children:s(e.type)}),h.jsx("td",{children:"-"})]})})]})}),h.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),h.jsxs("div",{className:"excel-modal-actions",children:[h.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const ute=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:d,onUpdatePR:p})=>{const[m,g]=_.useState(e.status),[y,w]=_.useState(e.priority),[x,b]=_.useState(e.type),I=(()=>{const A=ot.getUsers().find(C=>C.id===e.userId);return A?A.name:e.contactUser||"Usuario"})(),j=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${e.name}"? Esta accin no se puede deshacer.`)&&(a(e.id),r())},R=S=>{S.preventDefault();const A=new FormData(S.currentTarget),C={...e,name:(A.get("name")||"").trim(),title:(A.get("title")||"").trim(),description:(A.get("description")||"").trim(),contactUser:(A.get("contactUser")||"").trim(),prQA2:(A.get("prQA2")||"").trim(),prMain:(A.get("prMain")||"").trim(),creationDate:A.get("creationDate")||e.creationDate,relevante:(A.get("relevante")||"").trim(),realizado:(A.get("realizado")||"").trim(),clasesModificadas:(A.get("clasesModificadas")||"").trim(),priority:y,status:m,type:x,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",C),t(C)};return h.jsx("div",{className:"incident-detail-container",children:h.jsxs("div",{className:"incident-detail-layout",children:[h.jsx("div",{className:"detail-main-content",children:h.jsxs("div",{className:"incident-detail-card",children:[h.jsxs("div",{className:"incident-header-visual",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),h.jsx("h1",{children:e.name})]}),h.jsx(lte,{incident:e,currentUser:I})]}),h.jsxs("div",{className:"incident-badges",children:[h.jsxs("span",{className:`badge-status status-${e.status}`,children:[e.status==="abierta"&&"",e.status==="en-progreso"&&"",e.status==="puesto-en-test"&&"",e.status==="verificado-en-test"&&"",e.status==="resuelta"&&"",e.status==="cerrada"&&""," ",e.status.replace("-"," ")]}),h.jsxs("span",{className:`badge-priority priority-${e.priority}`,children:[e.priority==="baja"&&"",e.priority==="media"&&"",e.priority==="alta"&&"",e.priority==="crtica"&&""," ",e.priority]}),h.jsxs("span",{className:`badge-type type-${e.type}`,children:[e.type==="correctivo"&&"",e.type==="evolutivo"&&"",e.type==="tarea"&&""," ",e.type]})]})]}),h.jsxs("form",{onSubmit:R,className:"detail-form",children:[h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Editar Informacin"}),h.jsxs("div",{className:"visual-field-group",children:[h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),h.jsx("input",{id:"name",name:"name",type:"text",defaultValue:e.name,placeholder:"MOV-XXXX",required:!0})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),h.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:e.contactUser||"",placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),h.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:e.creationDate})]})]}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",name:"title",type:"text",defaultValue:e.title||"",placeholder:"Ttulo para envo a PRO"})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"description",children:" Descripcin"}),h.jsx("textarea",{id:"description",name:"description",defaultValue:e.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:e.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:e.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:e.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Estado y Clasificacin"}),h.jsxs("div",{className:"chip-selector-container",children:[h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Estado"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="abierta"?"selected":""}`,onClick:()=>g("abierta"),children:" Abierta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="en-progreso"?"selected":""}`,onClick:()=>g("en-progreso"),children:" En Progreso"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="puesto-en-test"?"selected":""}`,onClick:()=>g("puesto-en-test"),children:" En Test"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="verificado-en-test"?"selected":""}`,onClick:()=>g("verificado-en-test"),children:" Verificado"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="resuelta"?"selected":""}`,onClick:()=>g("resuelta"),children:" Resuelta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="cerrada"?"selected":""}`,onClick:()=>g("cerrada"),children:" Cerrada"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Prioridad"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${y==="baja"?"selected":""}`,onClick:()=>w("baja"),children:" Baja"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${y==="media"?"selected":""}`,onClick:()=>w("media"),children:" Media"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${y==="alta"?"selected":""}`,onClick:()=>w("alta"),children:" Alta"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${y==="crtica"?"selected":""}`,onClick:()=>w("crtica"),children:" Crtica"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Tipo"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="correctivo"?"selected":""}`,onClick:()=>b("correctivo"),children:" Correctivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="evolutivo"?"selected":""}`,onClick:()=>b("evolutivo"),children:" Evolutivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="tarea"?"selected":""}`,onClick:()=>b("tarea"),children:" Tarea"})]})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-delete-incident",onClick:j,children:" Eliminar Incidencia"})]})]})]})}),h.jsxs("div",{className:"detail-sidebar",children:[h.jsx("div",{className:"incident-detail-card",children:h.jsx(ste,{incidentId:e.id,incidentName:e.name,prQA2List:e.prQA2List||[],prMainList:e.prMainList||[],ownerName:I,onAddPR:c,onRemovePR:d,onUpdatePR:p})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(ite,{incidentId:e.id,tags:e.tags||[],allAvailableTags:u,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(nte,{incidentId:e.id,comments:e.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},cte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>h.jsxs("div",{className:"tabs-container",children:[h.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),h.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),h.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),h.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(o=>h.jsxs("div",{className:`tab-incident ${n===o.id?"active":""}`,onClick:()=>i==null?void 0:i(o.id),children:[h.jsxs("span",{className:"tab-incident-name",children:[" ",o.name]}),h.jsx("button",{className:"tab-incident-close",onClick:s=>{s.stopPropagation(),a==null||a(o.id)},children:""})]},o.id))]});function dte({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,o]=_.useState(""),[s,l]=_.useState(n?[n]:[]),[u,c]=_.useState([]),[d,p]=_.useState([]),[m,g]=_.useState([]),[y,w]=_.useState(""),[x,b]=_.useState("");_.useEffect(()=>{n&&l([n])},[n]),_.useEffect(()=>{let T=[...e];if(a.trim()){const k=a.toLowerCase();T=T.filter(O=>O.name.toLowerCase().includes(k)||O.contactUser.toLowerCase().includes(k)||O.prQA2.toLowerCase().includes(k)||O.prMain.toLowerCase().includes(k)||O.comments&&O.comments.some(Q=>Q.text.toLowerCase().includes(k)||Q.author.toLowerCase().includes(k)))}s.length>0&&(T=T.filter(k=>s.includes(k.status))),u.length>0&&(T=T.filter(k=>u.includes(k.priority))),d.length>0&&(T=T.filter(k=>d.includes(k.type))),m.length>0&&(T=T.filter(k=>m.some(O=>k.tags&&k.tags.includes(O)))),y&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()>=parseInt(y))),x&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()<=parseInt(x))),t(T)},[a,s,u,d,m,y,x,e,t]);const E=()=>{o(""),l([]),c([]),p([]),g([]),w(""),b(""),t(e),i&&i()},I=()=>{l([]),i&&i()},j=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,R=T=>{l(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},S=T=>{c(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},A=T=>{p(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},C=T=>{g(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},D=(a?1:0)+s.length+u.length+d.length+m.length+(y?1:0)+(x?1:0);return h.jsxs("div",{className:"advanced-search",children:[n&&h.jsxs("div",{className:"status-filter-banner",children:[h.jsxs("span",{children:[" Filtrando por estado: ",h.jsx("strong",{children:j(n)})]}),h.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),h.jsx("div",{className:"search-header",children:h.jsx("h3",{children:" Bsqueda Avanzada"})}),h.jsxs("div",{className:"search-main",children:[h.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>o(T.target.value),className:"search-input"}),h.jsxs("button",{className:"btn-reset",onClick:E,children:[" Limpiar Filtros",D>0&&h.jsx("span",{className:"filters-badge-inline",children:D})]})]}),h.jsxs("div",{className:"filters-panel",children:[h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Estado"}),h.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>h.jsxs("button",{className:`filter-chip ${s.includes(T)?"active":""}`,onClick:()=>R(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Prioridad"}),h.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>h.jsxs("button",{className:`filter-chip priority-${T} ${u.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Tipo"}),h.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>h.jsxs("button",{className:`filter-chip ${d.includes(T)?"active":""}`,onClick:()=>A(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Rango de Aos"}),h.jsxs("div",{className:"date-filters",children:[h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Desde:"}),h.jsxs("select",{value:y,onChange:T=>w(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]}),h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Hasta:"}),h.jsxs("select",{value:x,onChange:T=>b(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"filter-chips",children:r.map(T=>h.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>C(T),children:T},T))})]})]})]})}const fte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:o})=>{const[s,l]=_.useState(e||[]),[u,c]=_.useState(""),[d,p]=_.useState("asc"),[m,g]=_.useState({show:!1,incident:null});_.useEffect(()=>{l(e||[])},[e]);const y=S=>{const A=u===S&&d==="asc"?"desc":"asc";c(S),p(A);const C=[...s].sort((D,T)=>{let k=D[S],O=T[S];if((S==="creationDate"||S==="createdAt"||S==="updatedAt")&&(k=new Date(k).getTime(),O=new Date(O).getTime()),typeof k=="string"&&typeof O=="string")return A==="asc"?k.localeCompare(O):O.localeCompare(k);if(k!==void 0&&O!==void 0){if(k<O)return A==="asc"?-1:1;if(k>O)return A==="asc"?1:-1}return 0});l(C)},w=S=>u!==S?"":d==="asc"?"":"",x=S=>new Date(S).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),b=S=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[S]||S,E=S=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[S]||S,I=S=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[S]||S,j=S=>!S||!Array.isArray(S)||S.length===0?"":S.filter(A=>A&&A.link).map(A=>{const C=A.link.split("/");return C[C.length-1]||""}).filter(A=>A).join(", ")||"",R=()=>{const S=O=>{if(O==null)return"";const Q=String(O);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},C=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(O=>S(O)).join(";"),...s.map(O=>[S(O.id),S(O.name),S(b(O.status)),S(E(O.priority)),S(I(O.type)),S(O.contactUser||""),S(O.prQA2||""),S(O.prMain||""),S(O.creationDate),S(x(O.createdAt)),S(x(O.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),k=URL.createObjectURL(D);T.setAttribute("href",k),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?h.jsx("div",{className:"all-incidents-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})}):h.jsxs("div",{className:"all-incidents-table-container",children:[h.jsx("div",{className:"search-sidebar",children:h.jsx(dte,{incidents:e,onResults:l,allAvailableTags:ae.getAllTags(),initialStatus:a,onClearStatusFilter:o})}),h.jsxs("div",{className:"table-content",children:[h.jsxs("div",{className:"table-actions",children:[h.jsxs("p",{className:"filter-results",children:["Mostrando ",s.length," de ",e.length," incidencias"]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&h.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),h.jsx("button",{className:"btn-export-excel",onClick:R,children:" Exportar a Excel"})]})]}),h.jsx("div",{className:"table-wrapper",children:h.jsxs("table",{className:"all-incidents-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsxs("th",{onClick:()=>y("name"),className:"sortable-header col-name",children:["Nombre ",w("name")]}),h.jsxs("th",{onClick:()=>y("status"),className:"sortable-header col-status",children:["Estado ",w("status")]}),h.jsxs("th",{onClick:()=>y("priority"),className:"sortable-header col-priority",children:["Prioridad ",w("priority")]}),h.jsxs("th",{onClick:()=>y("type"),className:"sortable-header col-type",children:["Tipo ",w("type")]}),h.jsxs("th",{onClick:()=>y("contactUser"),className:"sortable-header col-contact",children:["Contacto ",w("contactUser")]}),h.jsxs("th",{onClick:()=>y("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",w("prQA2")]}),h.jsxs("th",{onClick:()=>y("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",w("prMain")]}),h.jsx("th",{className:"col-actions",children:"Acciones"})]})}),h.jsx("tbody",{children:s.map(S=>h.jsxs("tr",{className:`row-priority-${S.priority} incident-row-clickable`,onClick:()=>n(S),onMouseDown:A=>{if(A.button===1){A.preventDefault();const C=`${window.location.origin}${window.location.pathname}?incident=${S.id}`;window.open(C,"_blank")}},children:[h.jsx("td",{className:"name-cell",title:S.name,children:S.name}),h.jsx("td",{title:b(S.status),children:h.jsx("span",{className:`status-badge status-${S.status}`,children:b(S.status)})}),h.jsx("td",{title:E(S.priority),children:h.jsx("span",{className:`priority-badge priority-${S.priority}`,children:E(S.priority)})}),h.jsx("td",{title:I(S.type),children:h.jsx("span",{className:`type-badge type-${S.type}`,children:I(S.type)})}),h.jsx("td",{className:"contact-cell",title:S.contactUser||"",children:S.contactUser||""}),h.jsx("td",{className:"pr-cell",title:j(S.prQA2List),children:j(S.prQA2List)}),h.jsx("td",{className:"pr-cell",title:j(S.prMainList),children:j(S.prMainList)}),h.jsx("td",{className:"actions-cell",onClick:A=>A.stopPropagation(),children:h.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:S}),title:"Eliminar incidencia",children:""})})]},S.id))})]})})]}),m.show&&m.incident&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:h.jsxs("div",{className:"delete-modal",onClick:S=>S.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Confirmar Eliminacin"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),h.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),h.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function hte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=_.useState(!1),[o,s]=_.useState(null),[l,u]=_.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const y={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};o?(r(o.id,y),s(null)):t(y),d()},d=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var y,w,x,b,E;s(g),u({name:g.name,trigger:g.trigger,conditionField:((y=g.conditions[0])==null?void 0:y.field)||"type",conditionOperator:((w=g.conditions[0])==null?void 0:w.operator)||"equals",conditionValue:((x=g.conditions[0])==null?void 0:x.value.toString())||"",actionType:((b=g.actions[0])==null?void 0:b.type)||"set-priority",actionValue:((E=g.actions[0])==null?void 0:E.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return h.jsxs("div",{className:"automation-rules-container",children:[h.jsxs("div",{className:"rules-header",children:[h.jsxs("div",{className:"header-title",children:[h.jsx("h2",{children:" Reglas de Automatizacin"}),h.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),h.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&h.jsx("form",{className:"rule-form",onSubmit:c,children:h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:o?"Editar Regla":"Nueva Regla"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Nombre de la regla"}),h.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),h.jsx("div",{className:"form-row",children:h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Disparador"}),h.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[h.jsx("option",{value:"on-create",children:"Al crear incidencia"}),h.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),h.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),h.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"SI"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Campo"}),h.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[h.jsx("option",{value:"type",children:"Tipo"}),h.jsx("option",{value:"priority",children:"Prioridad"}),h.jsx("option",{value:"status",children:"Estado"}),h.jsx("option",{value:"days-open",children:"Das abierta"}),h.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Operador"}),h.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[h.jsx("option",{value:"equals",children:"Es igual a"}),h.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&h.jsxs(h.Fragment,{children:[h.jsx("option",{value:"greater-than",children:"Mayor que"}),h.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&h.jsx("option",{value:"contains",children:"Contiene"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.conditionField==="type"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?h.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):h.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"ENTONCES"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Accin"}),h.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[h.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),h.jsx("option",{value:"set-status",children:"Cambiar estado"}),h.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),h.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):h.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save-rule",children:o?" Actualizar Regla":" Crear Regla"}),h.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:d,children:"Cancelar"})]})]})}),h.jsx("div",{className:"rules-list",children:e.length===0?h.jsxs("div",{className:"no-rules",children:[h.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),h.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>h.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[h.jsxs("div",{className:"rule-header-card",children:[h.jsxs("div",{className:"rule-info",children:[h.jsx("h3",{children:g.name}),h.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),h.jsxs("div",{className:"rule-actions",children:[h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:g.enabled,onChange:y=>r(g.id,{enabled:y.target.checked})}),h.jsx("span",{className:"toggle-slider"})]}),h.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),h.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),h.jsxs("div",{className:"rule-logic",children:[h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"SI:"}),h.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((y,w)=>h.jsxs("span",{className:"condition-badge",children:[y.field," ",y.operator," ",y.value]},w))})]}),h.jsx("div",{className:"logic-arrow",children:""}),h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"ENTONCES:"}),h.jsx("div",{className:"logic-content",children:(g.actions||[]).map((y,w)=>h.jsxs("span",{className:"action-badge",children:[y.type,": ",y.value]},w))})]})]})]},g.id))})]})}function pte({currentUser:e}){const[t,r]=_.useState(ot.getUsers()),[n,i]=_.useState(!1),[a,o]=_.useState(null),[s,l]=_.useState({username:"",password:"",name:""}),[u,c]=_.useState(!1),[d,p]=_.useState(null),m=(E,I)=>{p({type:E,message:I}),setTimeout(()=>p(null),3e3)},g=()=>{l({username:"",password:"",name:""}),i(!1),o(null),c(!1)},y=E=>{if(E.preventDefault(),!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{const I=ot.createUser(s.username,s.password,s.name);r(ot.getUsers()),m("success",`Usuario "${I.username}" creado correctamente`),g()}catch(I){m("error",I instanceof Error?I.message:"Error al crear usuario")}},w=E=>{if(E.preventDefault(),!!a){if(!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{ot.updateUser(a.id,{username:s.username,password:s.password,name:s.name}),r(ot.getUsers()),m("success",`Usuario "${s.username}" actualizado correctamente`),g()}catch(I){m("error",I instanceof Error?I.message:"Error al actualizar usuario")}}},x=E=>{o(E),l({username:E.username,password:E.password,name:E.name}),i(!0)},b=E=>{if(E.id===e.id){m("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${E.username}"?`))try{ot.deleteUser(E.id),r(ot.getUsers()),m("success",`Usuario "${E.username}" eliminado correctamente`)}catch(I){m("error",I instanceof Error?I.message:"Error al eliminar usuario")}};return h.jsxs("div",{className:"user-management",children:[h.jsxs("div",{className:"user-management-header",children:[h.jsx("h3",{children:" Gestin de Usuarios"}),!n&&h.jsx("button",{className:"btn-create-user",onClick:()=>i(!0),children:" Crear Usuario"})]}),d&&h.jsxs("div",{className:`user-notification user-notification-${d.type}`,children:[d.type==="success"?"":""," ",d.message]}),n&&h.jsx("div",{className:"user-form-container",children:h.jsxs("form",{className:"user-form",onSubmit:a?w:y,children:[h.jsx("h4",{children:a?" Editar Usuario":" Nuevo Usuario"}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:s.username,onChange:E=>l({...s,username:E.target.value}),placeholder:"Nombre de usuario",disabled:!!a})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"name",children:"Nombre Completo"}),h.jsx("input",{id:"name",type:"text",value:s.name,onChange:E=>l({...s,name:E.target.value}),placeholder:"Nombre completo del usuario"})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsxs("div",{className:"password-input-wrapper",children:[h.jsx("input",{id:"password",type:u?"text":"password",value:s.password,onChange:E=>l({...s,password:E.target.value}),placeholder:a?"Nueva contrasea":"Contrasea"}),h.jsxs("label",{className:"show-password-toggle",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:E=>c(E.target.checked)}),h.jsx("span",{children:"Mostrar contrasea"})]})]})]}),h.jsxs("div",{className:"user-form-actions",children:[h.jsx("button",{type:"submit",className:"btn-submit",style:{flex:"1 1 0",minWidth:0,width:"auto"},children:a?" Guardar Cambios":" Crear Usuario"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:g,style:{flex:"1 1 0",minWidth:0,width:"auto"},children:" Cancelar"})]})]})}),h.jsxs("div",{className:"users-list",children:[h.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),h.jsx("div",{className:"users-table",children:h.jsxs("table",{children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Usuario"}),h.jsx("th",{children:"Nombre"}),h.jsx("th",{children:"Fecha de Creacin"}),h.jsx("th",{children:"Acciones"})]})}),h.jsx("tbody",{children:t.map(E=>h.jsxs("tr",{className:E.id===e.id?"current-user":"",children:[h.jsx("td",{children:h.jsxs("span",{className:"user-username",children:[E.username,E.id===e.id&&h.jsx("span",{className:"badge-current",children:" (T)"})]})}),h.jsx("td",{children:E.name}),h.jsx("td",{children:new Date(E.createdAt).toLocaleDateString("es-ES")}),h.jsx("td",{children:h.jsxs("div",{className:"user-actions",children:[h.jsx("button",{className:"btn-edit",onClick:()=>x(E),title:"Editar usuario",children:""}),h.jsx("button",{className:"btn-delete",onClick:()=>b(E),disabled:E.id===e.id,title:E.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},E.id))})]})})]})]})}const qy=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function mte({onThemeChange:e,currentTheme:t}){const[r,n]=_.useState(t),i=a=>{n(a),e(a)};return h.jsxs("div",{className:"appearance-settings",children:[h.jsx("h3",{children:" Apariencia"}),h.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),h.jsx("div",{className:"theme-grid",children:qy.map(a=>h.jsxs("div",{className:`theme-card ${r===a.id?"active":""}`,onClick:()=>i(a.id),children:[h.jsx("div",{className:"theme-preview",style:{background:a.preview},children:r===a.id&&h.jsx("div",{className:"theme-check",children:""})}),h.jsx("div",{className:"theme-name",children:a.name})]},a.id))}),r!==t&&h.jsx("div",{className:"theme-info",children:h.jsx("p",{children:" Tema aplicado correctamente"})})]})}const bo={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},md="app_general_settings";function gte({onSettingsChange:e}){const[t,r]=_.useState(()=>{try{const c=localStorage.getItem(md);return c?{...bo,...JSON.parse(c)}:bo}catch(c){return console.error("Error loading settings:",c),bo}}),[n,i]=_.useState(null),a=(c,d)=>{const p={...t,[c]:d};r(p),localStorage.setItem(md,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},o=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(bo),localStorage.setItem(md,JSON.stringify(bo)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},s=()=>{try{const c={incidents:JSON.parse(localStorage.getItem("incidents")||"[]"),comments:JSON.parse(localStorage.getItem("incident_comments")||"{}"),automationRules:JSON.parse(localStorage.getItem("automation_rules")||"[]"),systemTags:JSON.parse(localStorage.getItem("system_tags")||"[]"),users:JSON.parse(localStorage.getItem("users")||"[]"),settings:t,exportDate:new Date().toISOString()},d=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),p=URL.createObjectURL(d),m=document.createElement("a");m.href=p,m.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,m.click(),URL.revokeObjectURL(p),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const d=(m=c.target.files)==null?void 0:m[0];if(!d)return;const p=new FileReader;p.onload=g=>{var y;try{const w=JSON.parse((y=g.target)==null?void 0:y.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(w)){if(!w.every(b=>b.id&&b.name&&b.title&&b.status&&b.priority&&b.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}localStorage.setItem("incidents",JSON.stringify(w))}else w.incidents&&localStorage.setItem("incidents",JSON.stringify(w.incidents)),w.comments&&localStorage.setItem("incident_comments",JSON.stringify(w.comments)),w.automationRules&&localStorage.setItem("automation_rules",JSON.stringify(w.automationRules)),w.systemTags&&localStorage.setItem("system_tags",JSON.stringify(w.systemTags)),w.users&&localStorage.setItem("users",JSON.stringify(w.users)),w.settings&&(r({...bo,...w.settings}),localStorage.setItem(md,JSON.stringify(w.settings)));i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(w){console.error("Import error:",w),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(d)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return h.jsxs("div",{className:"general-settings",children:[n&&h.jsx("div",{className:"settings-notification",children:n}),h.jsxs("div",{className:"settings-header",children:[h.jsx("h2",{children:" Configuracin General"}),h.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),h.jsxs("div",{className:"settings-sections",children:[h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Interfaz"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),h.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),h.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[h.jsx("option",{value:"2000",children:"2 segundos"}),h.jsx("option",{value:"3000",children:"3 segundos"}),h.jsx("option",{value:"4000",children:"4 segundos"}),h.jsx("option",{value:"5000",children:"5 segundos"}),h.jsx("option",{value:"7000",children:"7 segundos"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),h.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),h.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[h.jsx("option",{value:"5",children:"5"}),h.jsx("option",{value:"10",children:"10"}),h.jsx("option",{value:"20",children:"20"}),h.jsx("option",{value:"50",children:"50"}),h.jsx("option",{value:"100",children:"100"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Vista compacta"}),h.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{children:[h.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),h.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),h.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Valores por Defecto"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Formato de fecha"}),h.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),h.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[h.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),h.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),h.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),h.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),h.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Comportamiento"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Autoguardado"}),h.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),h.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"15000",children:"15 segundos"}),h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"0",children:"Desactivado"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),h.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),h.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),h.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),h.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Gestin de Datos"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Exportar datos"}),h.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),h.jsx("button",{className:"btn-export",onClick:s,children:" Exportar Todo"})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Importar datos"}),h.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),h.jsxs("label",{className:"btn-import",children:[" Importar",h.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),h.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),h.jsx("button",{className:"btn-reset",onClick:o,children:" Restaurar"})]}),h.jsxs("div",{className:"setting-item danger-zone",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:" Zona de peligro"}),h.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),h.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function vte({onLogin:e}){const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,o]=_.useState(!1),[s,l]=_.useState("");_.useEffect(()=>{const c=localStorage.getItem("saved_username"),d=localStorage.getItem("saved_password");c&&d&&(r(c),i(d),o(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const d=await F$(t.toLowerCase());d&&d.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(d)),e(d)):l("Usuario o contrasea incorrectos")}catch(d){console.error("Error durante login:",d),l("Error al iniciar sesin. Intenta nuevamente.")}};return h.jsx("div",{className:"login-container",children:h.jsxs("div",{className:"login-card",children:[h.jsxs("div",{className:"login-header",children:[h.jsx(ID,{}),h.jsx("h1",{children:"Sistema de Incidencias"}),h.jsx("p",{children:"Inicia sesin para continuar"})]}),h.jsxs("form",{className:"login-form",onSubmit:u,children:[s&&h.jsxs("div",{className:"login-error",children:[" ",s]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),h.jsx("div",{className:"login-remember",children:h.jsxs("label",{className:"remember-checkbox",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:c=>o(c.target.checked)}),h.jsx("span",{children:"Guardar credenciales"})]})}),h.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function yte(){const[e,t]=_.useState(null),[r,n]=_.useState([]),[i,a]=_.useState([]),[o,s]=_.useState(null),[l,u]=_.useState(null),[c,d]=_.useState("dashboard"),[p,m]=_.useState("automation"),[g,y]=_.useState(null),[w,x]=_.useState(()=>localStorage.getItem("app_theme")||"purple-gradient"),[b,E]=_.useState([]),[I,j]=_.useState(null),[R,S]=_.useState(!1),[A,C]=_.useState(!1),D=e?r.filter($=>$.userId===e.id):[],T=$=>{try{console.log("Changing tab to:",$),S(!0),setTimeout(()=>{d($),S(!1)},100)}catch(H){console.error("Error changing tab:",H),S(!1)}},k=$=>{S(!0),setTimeout(()=>{b.find(H=>H.id===$.id)||E([...b,$]),y($),d("incident-detail"),S(!1)},100)};_.useEffect(()=>{(async()=>{try{await W$();const H=ot.getCurrentUser();t(H);const ie=await fl();n(ie);const le=await U$();a(le);const _t=new URLSearchParams(window.location.search).get("incident");if(_t){const De=ie.find(xt=>xt.id===_t);De&&(y(De),d("incident-detail"))}}catch(H){console.error("Error loading data:",H),j({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})()},[]),_.useEffect(()=>{if(I){const $=setTimeout(()=>{j(null)},4e3);return()=>clearTimeout($)}},[I]);const O=async $=>{try{const H={...$,userId:e.id},ie=ae.applyAutomationRules(H,"on-create");await D$(ie);const le=await fl();n(le),j({type:"success",message:` Incidencia "${$.name}" creada correctamente`,incidentId:$.id})}catch(H){console.error("Error adding incident:",H),j({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},Q=async $=>{console.log("handleUpdateIncident llamado con:",$);try{await M$($.id,$);const H=await fl();console.log("Incidentes actualizados:",H),n(H),s(null);const ie=H.find(le=>le.id===$.id);ie&&(g==null?void 0:g.id)===$.id&&(y(ie),E(b.map(le=>le.id===$.id?ie:le))),console.log("Mostrando notificacin"),j({type:"success",message:` Incidencia "${$.name}" actualizada correctamente`,incidentId:$.id})}catch(H){console.error("Error updating incident:",H),j({type:"error",message:"Error al actualizar la incidencia."})}},se=async $=>{try{await L$($);const H=await fl();n(H),E(b.filter(ie=>ie.id!==$)),(g==null?void 0:g.id)===$&&(y(null),d("all-incidents"))}catch(H){console.error("Error deleting incident:",H),j({type:"error",message:"Error al eliminar la incidencia."})}},fe=$=>{const H=b.find(ie=>ie.id===$);H&&(y(H),d("incident-detail"))},ue=$=>{E(b.filter(H=>H.id!==$)),(g==null?void 0:g.id)===$&&(y(null),d("all-incidents"))},U=async($,H,ie)=>{try{const le={incidentId:$,author:H,text:ie,timestamp:new Date().toISOString()};await z$(le);const Te=await fl();if(n(Te),g&&g.id===$){const _t=Te.find(De=>De.id===$);_t&&y(_t)}}catch(le){console.error("Error adding comment:",le)}},K=($,H)=>{const ie=ae.deleteComment($,H);if(n(ie),g&&g.id===$){const le=ie.find(Te=>Te.id===$);le&&y(le)}},re=($,H)=>{const ie=ae.addTag($,H);if(n(ie),g&&g.id===$){const le=ie.find(Te=>Te.id===$);le&&y(le)}},me=($,H)=>{const ie=ae.removeTag($,H);if(n(ie),g&&g.id===$){const le=ie.find(Te=>Te.id===$);le&&y(le)}},_e=()=>ae.getAllTags(),yt=$=>{const H=ae.deleteTagFromAllIncidents($);if(n(H),g){const ie=H.find(le=>le.id===g.id);ie&&y(ie)}j({type:"success",message:` Etiqueta "${$}" eliminada de todas las incidencias`})},je=($,H,ie,le)=>{const Te=ae.addPR($,H,ie,le);if(n(Te),g&&g.id===$){const _t=Te.find(De=>De.id===$);_t&&y(_t)}},Bt=($,H,ie)=>{const le=ae.removePR($,H,ie);if(n(le),g&&g.id===$){const Te=le.find(_t=>_t.id===$);Te&&y(Te)}},wt=($,H,ie,le,Te)=>{const _t=ae.updatePR($,H,ie,le,Te);if(n(_t),g&&g.id===$){const De=_t.find(xt=>xt.id===$);De&&y(De)}},$e=$=>{const H=ae.addAutomationRule($);a(H)},qn=($,H)=>{const ie=ae.updateAutomationRule($,H);a(ie)},B=$=>{const H=ae.deleteAutomationRule($);a(H)},he=$=>{x($),localStorage.setItem("app_theme",$);const H=qy.find(ie=>ie.id===$);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};_.useEffect(()=>{const $=qy.find(H=>H.id===w);$&&document.documentElement.style.setProperty("--app-background",$.gradient)},[w]);const ve=$=>{t($)},q=()=>{ot.logout(),t(null),y(null),E([]),d("dashboard")};return e?h.jsxs("div",{className:"app-container",children:[h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"app-header-content",children:h.jsx(ID,{})}),h.jsxs("div",{className:"app-header-actions",children:[h.jsxs("div",{className:"user-info",children:[h.jsxs("span",{className:"user-name",children:[" ",e.name]}),h.jsx("button",{className:"btn-logout",onClick:q,title:"Cerrar sesin",children:" Salir"})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>C(!A),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Alertas"}),D.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length>0&&h.jsx("span",{className:"alerts-count",children:D.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>T("settings"),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),I&&h.jsxs("div",{className:`notification-banner notification-${I.type}`,children:[h.jsx("span",{children:I.message}),h.jsxs("div",{className:"notification-actions",children:[I.type==="success"&&I.incidentId&&h.jsx("button",{className:"notification-view",onClick:()=>{const $=D.find(H=>H.id===I.incidentId);$&&(y($),d("incident-detail")),j(null)},"aria-label":"Ver incidencia",children:" Ver"}),h.jsx("button",{className:"notification-close",onClick:()=>j(null),"aria-label":"Cerrar notificacin",children:""})]})]}),h.jsx(cte,{activeTab:c,onTabChange:T,openIncidents:b.map($=>({id:$.id,name:$.name})),selectedIncidentId:g==null?void 0:g.id,onSelectIncident:fe,onCloseIncident:ue}),A&&h.jsx("div",{className:"alerts-modal",children:h.jsxs("div",{className:"alerts-modal-content",children:[h.jsxs("div",{className:"alerts-modal-header",children:[h.jsx("h3",{children:" Alertas"}),h.jsx("button",{className:"alerts-modal-close",onClick:()=>C(!1),children:""})]}),h.jsx(rte,{incidents:D,onViewIncident:$=>{k($),C(!1)}})]})}),c==="dashboard"?h.jsx("main",{className:"app-main dashboard-transition",children:h.jsxs("div",{className:"app-content",children:[h.jsxs("div",{className:"form-section",children:[h.jsx(ete,{incidents:D}),h.jsx(Zee,{incidents:D,onViewDetail:k})]}),h.jsxs("div",{className:"list-section",children:[h.jsx(Xee,{incidents:D,onStatusClick:u,onNavigateToList:()=>d("all-incidents")}),h.jsx(tte,{incidents:D}),h.jsx(Jee,{incidents:D})]})]})}):c==="new-incident"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"new-incident-section",children:h.jsx("div",{className:"form-section-centered",children:h.jsx(K$,{onAdd:O})})})}):c==="incident-detail"&&g?h.jsx("main",{className:"incident-detail-main",children:h.jsx(ute,{incident:g,onUpdate:Q,onAddComment:U,onDeleteComment:K,onDelete:se,onAddTag:re,onRemoveTag:me,onDeleteTagGlobally:yt,allAvailableTags:_e(),onAddPR:je,onRemovePR:Bt,onUpdatePR:wt,onBack:()=>{y(null),d("all-incidents")}})}):c==="settings"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsxs("div",{className:"settings-container",children:[h.jsxs("div",{className:"settings-sidebar",children:[h.jsx("h2",{children:" Ajustes"}),h.jsxs("div",{className:"settings-menu",children:[h.jsxs("button",{className:`settings-menu-item ${p==="automation"?"active":""}`,onClick:()=>m("automation"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Automatizacin"})]}),e&&e.username==="admin"&&h.jsxs("button",{className:`settings-menu-item ${p==="users"?"active":""}`,onClick:()=>m("users"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Usuarios"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="appearance"?"active":""}`,onClick:()=>m("appearance"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Apariencia"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="general"?"active":""}`,onClick:()=>m("general"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"General"})]})]})]}),h.jsx("div",{className:"settings-content",children:p==="automation"?h.jsx(hte,{rules:i,onAddRule:$e,onUpdateRule:qn,onDeleteRule:B}):p==="users"&&e&&e.username==="admin"?h.jsx(pte,{currentUser:e}):p==="appearance"?h.jsx(mte,{currentTheme:w,onThemeChange:he}):p==="general"?h.jsx(gte,{}):null})]})}):h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"all-incidents-section",children:h.jsx(fte,{incidents:D,onEdit:s,onDelete:se,onViewDetail:k,onNewIncident:()=>T("new-incident"),selectedStatus:l,onClearFilter:()=>u(null)})})}),o&&h.jsx(H$,{incident:o,onSave:Q,onCancel:()=>s(null)})]}):h.jsx(vte,{onLogin:ve})}Ig.createRoot(document.getElementById("root")).render(h.jsx(mT.StrictMode,{children:h.jsx(yte,{})}));
