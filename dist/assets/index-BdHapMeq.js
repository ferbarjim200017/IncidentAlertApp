var EM=Object.defineProperty;var SM=(e,t,r)=>t in e?EM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Om=(e,t,r)=>SM(e,typeof t!="symbol"?t+"":t,r);function AM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AT={exports:{}},Sh={},PT={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=Symbol.for("react.element"),PM=Symbol.for("react.portal"),TM=Symbol.for("react.fragment"),CM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),jM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),OM=Symbol.for("react.forward_ref"),kM=Symbol.for("react.suspense"),RM=Symbol.for("react.memo"),DM=Symbol.for("react.lazy"),Qb=Symbol.iterator;function MM(e){return e===null||typeof e!="object"?null:(e=Qb&&e[Qb]||e["@@iterator"],typeof e=="function"?e:null)}var TT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CT=Object.assign,IT={};function No(e,t,r){this.props=e,this.context=t,this.refs=IT,this.updater=r||TT}No.prototype.isReactComponent={};No.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};No.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jT(){}jT.prototype=No.prototype;function i0(e,t,r){this.props=e,this.context=t,this.refs=IT,this.updater=r||TT}var a0=i0.prototype=new jT;a0.constructor=i0;CT(a0,No.prototype);a0.isPureReactComponent=!0;var Yb=Array.isArray,NT=Object.prototype.hasOwnProperty,s0={current:null},OT={key:!0,ref:!0,__self:!0,__source:!0};function kT(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)NT.call(t,n)&&!OT.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Fu,type:e,key:a,ref:s,props:i,_owner:s0.current}}function LM(e,t){return{$$typeof:Fu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fu}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xb=/\/+/g;function km(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function _d(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Fu:case PM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+km(s,0):n,Yb(i)?(r="",e!=null&&(r=e.replace(Xb,"$&/")+"/"),_d(i,t,r,"",function(u){return u})):i!=null&&(o0(i)&&(i=LM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Yb(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+km(a,o);s+=_d(a,t,r,l,i)}else if(l=MM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+km(a,o++),s+=_d(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dc(e,t,r){if(e==null)return e;var n=[],i=0;return _d(e,n,"","",function(a){return t.call(r,a,i++)}),n}function FM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},bd={transition:null},$M={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:bd,ReactCurrentOwner:s0};function RT(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!o0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=No;ve.Fragment=TM;ve.Profiler=IM;ve.PureComponent=i0;ve.StrictMode=CM;ve.Suspense=kM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M;ve.act=RT;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=CT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=s0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)NT.call(t,l)&&!OT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Fu,type:e.type,key:i,ref:a,props:n,_owner:s}};ve.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jM,_context:e},e.Consumer=e};ve.createElement=kT;ve.createFactory=function(e){var t=kT.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:OM,render:e}};ve.isValidElement=o0;ve.lazy=function(e){return{$$typeof:DM,_payload:{_status:-1,_result:e},_init:FM}};ve.memo=function(e,t){return{$$typeof:RM,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ve.unstable_act=RT;ve.useCallback=function(e,t){return vr.current.useCallback(e,t)};ve.useContext=function(e){return vr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return vr.current.useEffect(e,t)};ve.useId=function(){return vr.current.useId()};ve.useImperativeHandle=function(e,t,r){return vr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return vr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return vr.current.useReducer(e,t,r)};ve.useRef=function(e){return vr.current.useRef(e)};ve.useState=function(e){return vr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return vr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return vr.current.useTransition()};ve.version="18.3.1";PT.exports=ve;var _=PT.exports;const DT=Ai(_),zM=AM({__proto__:null,default:DT},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM=_,BM=Symbol.for("react.element"),qM=Symbol.for("react.fragment"),WM=Object.prototype.hasOwnProperty,KM=UM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HM={key:!0,ref:!0,__self:!0,__source:!0};function MT(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)WM.call(t,n)&&!HM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BM,type:e,key:a,ref:s,props:i,_owner:KM.current}}Sh.Fragment=qM;Sh.jsx=MT;Sh.jsxs=MT;AT.exports=Sh;var d=AT.exports,Fg={},LT={exports:{}},Br={},VT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var me=ne-1>>>1,be=U[me];if(0<i(be,K))U[me]=K,U[ne]=be,ne=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var me=0,be=U.length,_t=be>>>1;me<_t;){var Re=2*(me+1)-1,qt=U[Re],bt=Re+1,Ue=U[bt];if(0>i(qt,ne))bt<be&&0>i(Ue,qt)?(U[me]=Ue,U[bt]=ne,me=bt):(U[me]=qt,U[Re]=ne,me=Re);else if(bt<be&&0>i(Ue,ne))U[me]=Ue,U[bt]=ne,me=bt;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function I(U){if(y=!1,A(U),!g)if(r(l)!==null)g=!0,de(R);else{var K=r(u);K!==null&&oe(I,K.startTime-U)}}function R(U,K){g=!1,y&&(y=!1,x(S),S=-1),m=!0;var ne=p;try{for(A(K),f=r(l);f!==null&&(!(f.expirationTime>K)||U&&!T());){var me=f.callback;if(typeof me=="function"){f.callback=null,p=f.priorityLevel;var be=me(f.expirationTime<=K);K=e.unstable_now(),typeof be=="function"?f.callback=be:f===r(l)&&n(l),A(K)}else n(l);f=r(l)}if(f!==null)var _t=!0;else{var Re=r(u);Re!==null&&oe(I,Re.startTime-K),_t=!1}return _t}finally{f=null,p=ne,m=!1}}var O=!1,v=null,S=-1,C=5,k=-1;function T(){return!(e.unstable_now()-k<C)}function N(){if(v!==null){var U=e.unstable_now();k=U;var K=!0;try{K=v(!0,U)}finally{K?j():(O=!1,v=null)}}else O=!1}var j;if(typeof E=="function")j=function(){E(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=N,j=function(){se.postMessage(null)}}else j=function(){b(N,0)};function de(U){v=U,O||(O=!0,j())}function oe(U,K){S=b(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,de(R))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},e.unstable_scheduleCallback=function(U,K,ne){var me=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,U){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ne+be,U={id:c++,callback:K,priorityLevel:U,startTime:ne,expirationTime:be,sortIndex:-1},ne>me?(U.sortIndex=ne,t(u,U),r(l)===null&&U===r(u)&&(y?(x(S),S=-1):y=!0,oe(I,ne-me))):(U.sortIndex=be,t(l,U),g||m||(g=!0,de(R))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})(FT);VT.exports=FT;var GM=VT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QM=_,zr=GM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $T=new Set,Jl={};function ps(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(Jl[e]=t,e=0;e<t.length;e++)$T.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,YM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zb={},Jb={};function XM(e){return $g.call(Jb,e)?!0:$g.call(Zb,e)?!1:YM.test(e)?Jb[e]=!0:(Zb[e]=!0,!1)}function ZM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JM(e,t,r,n){if(t===null||typeof t>"u"||ZM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function u0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function c0(e,t,r,n){var i=Xt.hasOwnProperty(t)?Xt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JM(t,r,i,n)&&(r=null),n||i===null?XM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pi=QM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),zT=Symbol.for("react.provider"),UT=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Bg=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),BT=Symbol.for("react.offscreen"),eE=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=eE&&e[eE]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Rm;function Tl(e){if(Rm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rm=t&&t[1]||""}return`
`+Rm+e}var Dm=!1;function Mm(e,t){if(!e||Dm)return"";Dm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Dm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tl(e):""}function eL(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=Mm(e.type,!1),e;case 11:return e=Mm(e.type.render,!1),e;case 1:return e=Mm(e.type,!0),e;default:return""}}function qg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Ds:return"Portal";case zg:return"Profiler";case d0:return"StrictMode";case Ug:return"Suspense";case Bg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case UT:return(e.displayName||"Context")+".Consumer";case zT:return(e._context.displayName||"Context")+".Provider";case f0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h0:return t=e.displayName||null,t!==null?t:qg(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return qg(e(t))}catch{}}return null}function tL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rL(e){var t=qT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lc(e){e._valueTracker||(e._valueTracker=rL(e))}function WT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wg(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KT(e,t){t=t.checked,t!=null&&c0(e,"checked",t,!1)}function Kg(e,t){KT(e,t);var r=ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hg(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hg(e,t,r){(t!=="number"||qd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cl=Array.isArray;function Qs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Cl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function HT(e,t){var r=ua(t.value),n=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vc,QT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nL=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){nL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function YT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function XT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=YT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var iL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yg(e,t){if(t){if(iL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Xg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jg=null,Ys=null,Xs=null;function aE(e){if(e=Uu(e)){if(typeof Jg!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Ih(t),Jg(e.stateNode,e.type,t))}}function ZT(e){Ys?Xs?Xs.push(e):Xs=[e]:Ys=e}function JT(){if(Ys){var e=Ys,t=Xs;if(Xs=Ys=null,aE(e),t)for(e=0;e<t.length;e++)aE(t[e])}}function eC(e,t){return e(t)}function tC(){}var Lm=!1;function rC(e,t,r){if(Lm)return e(t,r);Lm=!0;try{return eC(e,t,r)}finally{Lm=!1,(Ys!==null||Xs!==null)&&(tC(),JT())}}function tu(e,t){var r=e.stateNode;if(r===null)return null;var n=Ih(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var ev=!1;if(ci)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){ev=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{ev=!1}function aL(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Fl=!1,Wd=null,Kd=!1,tv=null,sL={onError:function(e){Fl=!0,Wd=e}};function oL(e,t,r,n,i,a,s,o,l){Fl=!1,Wd=null,aL.apply(sL,arguments)}function lL(e,t,r,n,i,a,s,o,l){if(oL.apply(this,arguments),Fl){if(Fl){var u=Wd;Fl=!1,Wd=null}else throw Error(W(198));Kd||(Kd=!0,tv=u)}}function ms(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sE(e){if(ms(e)!==e)throw Error(W(188))}function uL(e){var t=e.alternate;if(!t){if(t=ms(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return sE(i),e;if(a===n)return sE(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function iC(e){return e=uL(e),e!==null?aC(e):null}function aC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aC(e);if(t!==null)return t;e=e.sibling}return null}var sC=zr.unstable_scheduleCallback,oE=zr.unstable_cancelCallback,cL=zr.unstable_shouldYield,dL=zr.unstable_requestPaint,ct=zr.unstable_now,fL=zr.unstable_getCurrentPriorityLevel,m0=zr.unstable_ImmediatePriority,oC=zr.unstable_UserBlockingPriority,Hd=zr.unstable_NormalPriority,hL=zr.unstable_LowPriority,lC=zr.unstable_IdlePriority,Ah=null,Mn=null;function pL(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Ah,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:vL,mL=Math.log,gL=Math.LN2;function vL(e){return e>>>=0,e===0?32:31-(mL(e)/gL|0)|0}var Fc=64,$c=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Il(o):(a&=s,a!==0&&(n=Il(a)))}else s=r&~i,s!==0?n=Il(s):a!==0&&(n=Il(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wn(t),i=1<<r,n|=e[r],t&=~i;return n}function yL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-wn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=yL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function rv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uC(){var e=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),e}function Vm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $u(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=r}function xL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-wn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function g0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ne=0;function cC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dC,v0,fC,hC,pC,nv=!1,zc=[],Yi=null,Xi=null,Zi=null,ru=new Map,nu=new Map,qi=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lE(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ru.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(t.pointerId)}}function hl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Uu(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bL(e,t,r,n,i){switch(t){case"focusin":return Yi=hl(Yi,e,t,r,n,i),!0;case"dragenter":return Xi=hl(Xi,e,t,r,n,i),!0;case"mouseover":return Zi=hl(Zi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ru.set(a,hl(ru.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,nu.set(a,hl(nu.get(a)||null,e,t,r,n,i)),!0}return!1}function mC(e){var t=Fa(e.target);if(t!==null){var r=ms(t);if(r!==null){if(t=r.tag,t===13){if(t=nC(r),t!==null){e.blockedOn=t,pC(e.priority,function(){fC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=iv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zg=n,r.target.dispatchEvent(n),Zg=null}else return t=Uu(r),t!==null&&v0(t),e.blockedOn=r,!1;t.shift()}return!0}function uE(e,t,r){Ed(e)&&r.delete(t)}function EL(){nv=!1,Yi!==null&&Ed(Yi)&&(Yi=null),Xi!==null&&Ed(Xi)&&(Xi=null),Zi!==null&&Ed(Zi)&&(Zi=null),ru.forEach(uE),nu.forEach(uE)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,nv||(nv=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,EL)))}function iu(e){function t(i){return pl(i,e)}if(0<zc.length){pl(zc[0],e);for(var r=1;r<zc.length;r++){var n=zc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&pl(Yi,e),Xi!==null&&pl(Xi,e),Zi!==null&&pl(Zi,e),ru.forEach(t),nu.forEach(t),r=0;r<qi.length;r++)n=qi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qi.length&&(r=qi[0],r.blockedOn===null);)mC(r),r.blockedOn===null&&qi.shift()}var Zs=Pi.ReactCurrentBatchConfig,Qd=!0;function SL(e,t,r,n){var i=Ne,a=Zs.transition;Zs.transition=null;try{Ne=1,y0(e,t,r,n)}finally{Ne=i,Zs.transition=a}}function AL(e,t,r,n){var i=Ne,a=Zs.transition;Zs.transition=null;try{Ne=4,y0(e,t,r,n)}finally{Ne=i,Zs.transition=a}}function y0(e,t,r,n){if(Qd){var i=iv(e,t,r,n);if(i===null)Gm(e,t,n,Yd,r),lE(e,n);else if(bL(i,e,t,r,n))n.stopPropagation();else if(lE(e,n),t&4&&-1<_L.indexOf(e)){for(;i!==null;){var a=Uu(i);if(a!==null&&dC(a),a=iv(e,t,r,n),a===null&&Gm(e,t,n,Yd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Gm(e,t,n,null,r)}}var Yd=null;function iv(e,t,r,n){if(Yd=null,e=p0(n),e=Fa(e),e!==null)if(t=ms(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yd=e,null}function gC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fL()){case m0:return 1;case oC:return 4;case Hd:case hL:return 16;case lC:return 536870912;default:return 16}default:return 16}}var Hi=null,w0=null,Sd=null;function vC(){if(Sd)return Sd;var e,t=w0,r=t.length,n,i="value"in Hi?Hi.value:Hi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Sd=i.slice(e,1<n?1-n:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function cE(){return!1}function qr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uc:cE,this.isPropagationStopped=cE,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=qr(Oo),zu=tt({},Oo,{view:0,detail:0}),PL=qr(zu),Fm,$m,ml,Ph=tt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(Fm=e.screenX-ml.screenX,$m=e.screenY-ml.screenY):$m=Fm=0,ml=e),Fm)},movementY:function(e){return"movementY"in e?e.movementY:$m}}),dE=qr(Ph),TL=tt({},Ph,{dataTransfer:0}),CL=qr(TL),IL=tt({},zu,{relatedTarget:0}),zm=qr(IL),jL=tt({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),NL=qr(jL),OL=tt({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kL=qr(OL),RL=tt({},Oo,{data:0}),fE=qr(RL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LL[e])?!!t[e]:!1}function _0(){return VL}var FL=tt({},zu,{key:function(e){if(e.key){var t=DL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ML[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$L=qr(FL),zL=tt({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=qr(zL),UL=tt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),BL=qr(UL),qL=tt({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=qr(qL),KL=tt({},Ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HL=qr(KL),GL=[9,13,27,32],b0=ci&&"CompositionEvent"in window,$l=null;ci&&"documentMode"in document&&($l=document.documentMode);var QL=ci&&"TextEvent"in window&&!$l,yC=ci&&(!b0||$l&&8<$l&&11>=$l),pE=" ",mE=!1;function wC(e,t){switch(e){case"keyup":return GL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function YL(e,t){switch(e){case"compositionend":return xC(t);case"keypress":return t.which!==32?null:(mE=!0,pE);case"textInput":return e=t.data,e===pE&&mE?null:e;default:return null}}function XL(e,t){if(Ls)return e==="compositionend"||!b0&&wC(e,t)?(e=vC(),Sd=w0=Hi=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yC&&t.locale!=="ko"?null:t.data;default:return null}}var ZL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZL[e.type]:t==="textarea"}function _C(e,t,r,n){ZT(n),t=Xd(t,"onChange"),0<t.length&&(r=new x0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zl=null,au=null;function JL(e){OC(e,0)}function Th(e){var t=$s(e);if(WT(t))return e}function eV(e,t){if(e==="change")return t}var bC=!1;if(ci){var Um;if(ci){var Bm="oninput"in document;if(!Bm){var vE=document.createElement("div");vE.setAttribute("oninput","return;"),Bm=typeof vE.oninput=="function"}Um=Bm}else Um=!1;bC=Um&&(!document.documentMode||9<document.documentMode)}function yE(){zl&&(zl.detachEvent("onpropertychange",EC),au=zl=null)}function EC(e){if(e.propertyName==="value"&&Th(au)){var t=[];_C(t,au,e,p0(e)),rC(JL,t)}}function tV(e,t,r){e==="focusin"?(yE(),zl=t,au=r,zl.attachEvent("onpropertychange",EC)):e==="focusout"&&yE()}function rV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Th(au)}function nV(e,t){if(e==="click")return Th(t)}function iV(e,t){if(e==="input"||e==="change")return Th(t)}function aV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:aV;function su(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$g.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function wE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xE(e,t){var r=wE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wE(r)}}function SC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AC(){for(var e=window,t=qd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qd(e.document)}return t}function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sV(e){var t=AC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&SC(r.ownerDocument.documentElement,r)){if(n!==null&&E0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=xE(r,a);var s=xE(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oV=ci&&"documentMode"in document&&11>=document.documentMode,Vs=null,av=null,Ul=null,sv=!1;function _E(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sv||Vs==null||Vs!==qd(n)||(n=Vs,"selectionStart"in n&&E0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ul&&su(Ul,n)||(Ul=n,n=Xd(av,"onSelect"),0<n.length&&(t=new x0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vs)))}function Bc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fs={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},qm={},PC={};ci&&(PC=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Ch(e){if(qm[e])return qm[e];if(!Fs[e])return e;var t=Fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PC)return qm[e]=t[r];return e}var TC=Ch("animationend"),CC=Ch("animationiteration"),IC=Ch("animationstart"),jC=Ch("transitionend"),NC=new Map,bE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){NC.set(e,t),ps(t,[e])}for(var Wm=0;Wm<bE.length;Wm++){var Km=bE[Wm],lV=Km.toLowerCase(),uV=Km[0].toUpperCase()+Km.slice(1);wa(lV,"on"+uV)}wa(TC,"onAnimationEnd");wa(CC,"onAnimationIteration");wa(IC,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(jC,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cV=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function EE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lL(n,t,void 0,e),e.currentTarget=null}function OC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;EE(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;EE(i,o,u),a=l}}}if(Kd)throw e=tv,Kd=!1,tv=null,e}function qe(e,t){var r=t[dv];r===void 0&&(r=t[dv]=new Set);var n=e+"__bubble";r.has(n)||(kC(t,e,2,!1),r.add(n))}function Hm(e,t,r){var n=0;t&&(n|=4),kC(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[qc]){e[qc]=!0,$T.forEach(function(r){r!=="selectionchange"&&(cV.has(r)||Hm(r,!1,e),Hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Hm("selectionchange",!1,t))}}function kC(e,t,r,n){switch(gC(t)){case 1:var i=SL;break;case 4:i=AL;break;default:i=y0}r=i.bind(null,t,r,e),i=void 0,!ev||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}rC(function(){var u=a,c=p0(r),f=[];e:{var p=NC.get(e);if(p!==void 0){var m=x0,g=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":m=$L;break;case"focusin":g="focus",m=zm;break;case"focusout":g="blur",m=zm;break;case"beforeblur":case"afterblur":m=zm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BL;break;case TC:case CC:case IC:m=NL;break;case jC:m=WL;break;case"scroll":m=PL;break;case"wheel":m=HL;break;case"copy":case"cut":case"paste":m=kL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hE}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var E=u,A;E!==null;){A=E;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,x!==null&&(I=tu(E,x),I!=null&&y.push(lu(E,I,A)))),b)break;E=E.return}0<y.length&&(p=new m(p,g,null,r,c),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Zg&&(g=r.relatedTarget||r.fromElement)&&(Fa(g)||g[di]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Fa(g):null,g!==null&&(b=ms(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=dE,I="onMouseLeave",x="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(y=hE,I="onPointerLeave",x="onPointerEnter",E="pointer"),b=m==null?p:$s(m),A=g==null?p:$s(g),p=new y(I,E+"leave",m,r,c),p.target=b,p.relatedTarget=A,I=null,Fa(c)===u&&(y=new y(x,E+"enter",g,r,c),y.target=A,y.relatedTarget=b,I=y),b=I,m&&g)t:{for(y=m,x=g,E=0,A=y;A;A=As(A))E++;for(A=0,I=x;I;I=As(I))A++;for(;0<E-A;)y=As(y),E--;for(;0<A-E;)x=As(x),A--;for(;E--;){if(y===x||x!==null&&y===x.alternate)break t;y=As(y),x=As(x)}y=null}else y=null;m!==null&&SE(f,p,m,y,!1),g!==null&&b!==null&&SE(f,b,g,y,!0)}}e:{if(p=u?$s(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=eV;else if(gE(p))if(bC)R=iV;else{R=rV;var O=tV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=nV);if(R&&(R=R(e,u))){_C(f,R,r,c);break e}O&&O(e,p,u),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Hg(p,"number",p.value)}switch(O=u?$s(u):window,e){case"focusin":(gE(O)||O.contentEditable==="true")&&(Vs=O,av=u,Ul=null);break;case"focusout":Ul=av=Vs=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,_E(f,r,c);break;case"selectionchange":if(oV)break;case"keydown":case"keyup":_E(f,r,c)}var v;if(b0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ls?wC(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(yC&&r.locale!=="ko"&&(Ls||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ls&&(v=vC()):(Hi=c,w0="value"in Hi?Hi.value:Hi.textContent,Ls=!0)),O=Xd(u,S),0<O.length&&(S=new fE(S,e,null,r,c),f.push({event:S,listeners:O}),v?S.data=v:(v=xC(r),v!==null&&(S.data=v)))),(v=QL?YL(e,r):XL(e,r))&&(u=Xd(u,"onBeforeInput"),0<u.length&&(c=new fE("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=v))}OC(f,t)})}function lu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=tu(e,r),a!=null&&n.unshift(lu(e,a,i)),a=tu(e,t),a!=null&&n.push(lu(e,a,i))),e=e.return}return n}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SE(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=tu(r,a),l!=null&&s.unshift(lu(r,l,o))):i||(l=tu(r,a),l!=null&&s.push(lu(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var dV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function AE(e){return(typeof e=="string"?e:""+e).replace(dV,`
`).replace(fV,"")}function Wc(e,t,r){if(t=AE(t),AE(e)!==t&&r)throw Error(W(425))}function Zd(){}var ov=null,lv=null;function uv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cv=typeof setTimeout=="function"?setTimeout:void 0,hV=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(e){return PE.resolve(null).then(e).catch(mV)}:cv;function mV(e){setTimeout(function(){throw e})}function Qm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),iu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);iu(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Rn="__reactFiber$"+ko,uu="__reactProps$"+ko,di="__reactContainer$"+ko,dv="__reactEvents$"+ko,gV="__reactListeners$"+ko,vV="__reactHandles$"+ko;function Fa(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[di]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=TE(e);e!==null;){if(r=e[Rn])return r;e=TE(e)}return t}e=r,r=e.parentNode}return null}function Uu(e){return e=e[Rn]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Ih(e){return e[uu]||null}var fv=[],zs=-1;function xa(e){return{current:e}}function He(e){0>zs||(e.current=fv[zs],fv[zs]=null,zs--)}function $e(e,t){zs++,fv[zs]=e.current,e.current=t}var ca={},lr=xa(ca),Pr=xa(!1),Ja=ca;function oo(e,t){var r=e.type.contextTypes;if(!r)return ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(e){return e=e.childContextTypes,e!=null}function Jd(){He(Pr),He(lr)}function CE(e,t,r){if(lr.current!==ca)throw Error(W(168));$e(lr,t),$e(Pr,r)}function RC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,tL(e)||"Unknown",i));return tt({},r,n)}function ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,Ja=lr.current,$e(lr,e),$e(Pr,Pr.current),!0}function IE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=RC(e,t,Ja),n.__reactInternalMemoizedMergedChildContext=e,He(Pr),He(lr),$e(lr,e)):He(Pr),$e(Pr,r)}var Zn=null,jh=!1,Ym=!1;function DC(e){Zn===null?Zn=[e]:Zn.push(e)}function yV(e){jh=!0,DC(e)}function _a(){if(!Ym&&Zn!==null){Ym=!0;var e=0,t=Ne;try{var r=Zn;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zn=null,jh=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),sC(m0,_a),i}finally{Ne=t,Ym=!1}}return null}var Us=[],Bs=0,tf=null,rf=0,Yr=[],Xr=0,es=null,ri=1,ni="";function Oa(e,t){Us[Bs++]=rf,Us[Bs++]=tf,tf=e,rf=t}function MC(e,t,r){Yr[Xr++]=ri,Yr[Xr++]=ni,Yr[Xr++]=es,es=e;var n=ri;e=ni;var i=32-wn(n)-1;n&=~(1<<i),r+=1;var a=32-wn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ri=1<<32-wn(t)+i|r<<i|n,ni=a+e}else ri=1<<a|r<<i|n,ni=e}function S0(e){e.return!==null&&(Oa(e,1),MC(e,1,0))}function A0(e){for(;e===tf;)tf=Us[--Bs],Us[Bs]=null,rf=Us[--Bs],Us[Bs]=null;for(;e===es;)es=Yr[--Xr],Yr[Xr]=null,ni=Yr[--Xr],Yr[Xr]=null,ri=Yr[--Xr],Yr[Xr]=null}var Fr=null,Mr=null,Qe=!1,mn=null;function LC(e,t){var r=Jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=es!==null?{id:ri,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fr=e,Mr=null,!0):!1;default:return!1}}function hv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pv(e){if(Qe){var t=Mr;if(t){var r=t;if(!jE(e,t)){if(hv(e))throw Error(W(418));t=Ji(r.nextSibling);var n=Fr;t&&jE(e,t)?LC(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Fr=e)}}else{if(hv(e))throw Error(W(418));e.flags=e.flags&-4097|2,Qe=!1,Fr=e}}}function NE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function Kc(e){if(e!==Fr)return!1;if(!Qe)return NE(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uv(e.type,e.memoizedProps)),t&&(t=Mr)){if(hv(e))throw VC(),Error(W(418));for(;t;)LC(e,t),t=Ji(t.nextSibling)}if(NE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=Ji(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Fr?Ji(e.stateNode.nextSibling):null;return!0}function VC(){for(var e=Mr;e;)e=Ji(e.nextSibling)}function lo(){Mr=Fr=null,Qe=!1}function P0(e){mn===null?mn=[e]:mn.push(e)}var wV=Pi.ReactCurrentBatchConfig;function gl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OE(e){var t=e._init;return t(e._payload)}function FC(e){function t(x,E){if(e){var A=x.deletions;A===null?(x.deletions=[E],x.flags|=16):A.push(E)}}function r(x,E){if(!e)return null;for(;E!==null;)t(x,E),E=E.sibling;return null}function n(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=na(x,E),x.index=0,x.sibling=null,x}function a(x,E,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<E?(x.flags|=2,E):A):(x.flags|=2,E)):(x.flags|=1048576,E)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,E,A,I){return E===null||E.tag!==6?(E=ng(A,x.mode,I),E.return=x,E):(E=i(E,A),E.return=x,E)}function l(x,E,A,I){var R=A.type;return R===Ms?c(x,E,A.props.children,I,A.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$i&&OE(R)===E.type)?(I=i(E,A.props),I.ref=gl(x,E,A),I.return=x,I):(I=Od(A.type,A.key,A.props,null,x.mode,I),I.ref=gl(x,E,A),I.return=x,I)}function u(x,E,A,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=ig(A,x.mode,I),E.return=x,E):(E=i(E,A.children||[]),E.return=x,E)}function c(x,E,A,I,R){return E===null||E.tag!==7?(E=Ha(A,x.mode,I,R),E.return=x,E):(E=i(E,A),E.return=x,E)}function f(x,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ng(""+E,x.mode,A),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:return A=Od(E.type,E.key,E.props,null,x.mode,A),A.ref=gl(x,null,E),A.return=x,A;case Ds:return E=ig(E,x.mode,A),E.return=x,E;case $i:var I=E._init;return f(x,I(E._payload),A)}if(Cl(E)||dl(E))return E=Ha(E,x.mode,A,null),E.return=x,E;Hc(x,E)}return null}function p(x,E,A,I){var R=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return R!==null?null:o(x,E,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mc:return A.key===R?l(x,E,A,I):null;case Ds:return A.key===R?u(x,E,A,I):null;case $i:return R=A._init,p(x,E,R(A._payload),I)}if(Cl(A)||dl(A))return R!==null?null:c(x,E,A,I,null);Hc(x,A)}return null}function m(x,E,A,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(A)||null,o(E,x,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Mc:return x=x.get(I.key===null?A:I.key)||null,l(E,x,I,R);case Ds:return x=x.get(I.key===null?A:I.key)||null,u(E,x,I,R);case $i:var O=I._init;return m(x,E,A,O(I._payload),R)}if(Cl(I)||dl(I))return x=x.get(A)||null,c(E,x,I,R,null);Hc(E,I)}return null}function g(x,E,A,I){for(var R=null,O=null,v=E,S=E=0,C=null;v!==null&&S<A.length;S++){v.index>S?(C=v,v=null):C=v.sibling;var k=p(x,v,A[S],I);if(k===null){v===null&&(v=C);break}e&&v&&k.alternate===null&&t(x,v),E=a(k,E,S),O===null?R=k:O.sibling=k,O=k,v=C}if(S===A.length)return r(x,v),Qe&&Oa(x,S),R;if(v===null){for(;S<A.length;S++)v=f(x,A[S],I),v!==null&&(E=a(v,E,S),O===null?R=v:O.sibling=v,O=v);return Qe&&Oa(x,S),R}for(v=n(x,v);S<A.length;S++)C=m(v,x,S,A[S],I),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?S:C.key),E=a(C,E,S),O===null?R=C:O.sibling=C,O=C);return e&&v.forEach(function(T){return t(x,T)}),Qe&&Oa(x,S),R}function y(x,E,A,I){var R=dl(A);if(typeof R!="function")throw Error(W(150));if(A=R.call(A),A==null)throw Error(W(151));for(var O=R=null,v=E,S=E=0,C=null,k=A.next();v!==null&&!k.done;S++,k=A.next()){v.index>S?(C=v,v=null):C=v.sibling;var T=p(x,v,k.value,I);if(T===null){v===null&&(v=C);break}e&&v&&T.alternate===null&&t(x,v),E=a(T,E,S),O===null?R=T:O.sibling=T,O=T,v=C}if(k.done)return r(x,v),Qe&&Oa(x,S),R;if(v===null){for(;!k.done;S++,k=A.next())k=f(x,k.value,I),k!==null&&(E=a(k,E,S),O===null?R=k:O.sibling=k,O=k);return Qe&&Oa(x,S),R}for(v=n(x,v);!k.done;S++,k=A.next())k=m(v,x,S,k.value,I),k!==null&&(e&&k.alternate!==null&&v.delete(k.key===null?S:k.key),E=a(k,E,S),O===null?R=k:O.sibling=k,O=k);return e&&v.forEach(function(N){return t(x,N)}),Qe&&Oa(x,S),R}function b(x,E,A,I){if(typeof A=="object"&&A!==null&&A.type===Ms&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Mc:e:{for(var R=A.key,O=E;O!==null;){if(O.key===R){if(R=A.type,R===Ms){if(O.tag===7){r(x,O.sibling),E=i(O,A.props.children),E.return=x,x=E;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$i&&OE(R)===O.type){r(x,O.sibling),E=i(O,A.props),E.ref=gl(x,O,A),E.return=x,x=E;break e}r(x,O);break}else t(x,O);O=O.sibling}A.type===Ms?(E=Ha(A.props.children,x.mode,I,A.key),E.return=x,x=E):(I=Od(A.type,A.key,A.props,null,x.mode,I),I.ref=gl(x,E,A),I.return=x,x=I)}return s(x);case Ds:e:{for(O=A.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(x,E.sibling),E=i(E,A.children||[]),E.return=x,x=E;break e}else{r(x,E);break}else t(x,E);E=E.sibling}E=ig(A,x.mode,I),E.return=x,x=E}return s(x);case $i:return O=A._init,b(x,E,O(A._payload),I)}if(Cl(A))return g(x,E,A,I);if(dl(A))return y(x,E,A,I);Hc(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(x,E.sibling),E=i(E,A),E.return=x,x=E):(r(x,E),E=ng(A,x.mode,I),E.return=x,x=E),s(x)):r(x,E)}return b}var uo=FC(!0),$C=FC(!1),nf=xa(null),af=null,qs=null,T0=null;function C0(){T0=qs=af=null}function I0(e){var t=nf.current;He(nf),e._currentValue=t}function mv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Js(e,t){af=e,T0=qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sr=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(T0!==e)if(e={context:e,memoizedValue:t,next:null},qs===null){if(af===null)throw Error(W(308));qs=e,af.dependencies={lanes:0,firstContext:e}}else qs=qs.next=e;return t}var $a=null;function j0(e){$a===null?$a=[e]:$a.push(e)}function zC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,j0(t)):(r.next=i.next,i.next=r),t.interleaved=r,fi(e,n)}function fi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function N0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,fi(e,r)}return i=n.interleaved,i===null?(t.next=t,j0(n)):(t.next=i.next,i.next=t),n.interleaved=t,fi(e,r)}function Pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}function kE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sf(e,t,r,n){var i=e.updateQueue;zi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=tt({},f,p);break e;case 2:zi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);rs|=s,e.lanes=s,e.memoizedState=f}}function RE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Bu={},Ln=xa(Bu),cu=xa(Bu),du=xa(Bu);function za(e){if(e===Bu)throw Error(W(174));return e}function O0(e,t){switch($e(du,t),$e(cu,e),$e(Ln,Bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qg(t,e)}He(Ln),$e(Ln,t)}function co(){He(Ln),He(cu),He(du)}function BC(e){za(du.current);var t=za(Ln.current),r=Qg(t,e.type);t!==r&&($e(cu,e),$e(Ln,r))}function k0(e){cu.current===e&&(He(Ln),He(cu))}var Je=xa(0);function of(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xm=[];function R0(){for(var e=0;e<Xm.length;e++)Xm[e]._workInProgressVersionPrimary=null;Xm.length=0}var Td=Pi.ReactCurrentDispatcher,Zm=Pi.ReactCurrentBatchConfig,ts=0,et=null,St=null,Vt=null,lf=!1,Bl=!1,fu=0,xV=0;function Jt(){throw Error(W(321))}function D0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function M0(e,t,r,n,i,a){if(ts=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?SV:AV,e=r(n,i),Bl){a=0;do{if(Bl=!1,fu=0,25<=a)throw Error(W(301));a+=1,Vt=St=null,t.updateQueue=null,Td.current=PV,e=r(n,i)}while(Bl)}if(Td.current=uf,t=St!==null&&St.next!==null,ts=0,Vt=St=et=null,lf=!1,t)throw Error(W(300));return e}function L0(){var e=fu!==0;return fu=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function an(){if(St===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Vt===null?et.memoizedState:Vt.next;if(t!==null)Vt=t,St=e;else{if(e===null)throw Error(W(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function hu(e,t){return typeof t=="function"?t(e):t}function Jm(e){var t=an(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((ts&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,et.lanes|=c,rs|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,bn(n,t.memoizedState)||(Sr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,rs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eg(e){var t=an(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);bn(a,t.memoizedState)||(Sr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function qC(){}function WC(e,t){var r=et,n=an(),i=t(),a=!bn(n.memoizedState,i);if(a&&(n.memoizedState=i,Sr=!0),n=n.queue,V0(GC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,pu(9,HC.bind(null,r,n,i,t),void 0,null),$t===null)throw Error(W(349));ts&30||KC(r,t,i)}return i}function KC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HC(e,t,r,n){t.value=r,t.getSnapshot=n,QC(t)&&YC(e)}function GC(e,t,r){return r(function(){QC(t)&&YC(e)})}function QC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch{return!0}}function YC(e){var t=fi(e,1);t!==null&&xn(t,e,1,-1)}function DE(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:e},t.queue=e,e=e.dispatch=EV.bind(null,et,e),[t.memoizedState,e]}function pu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function XC(){return an().memoizedState}function Cd(e,t,r,n){var i=On();et.flags|=e,i.memoizedState=pu(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var i=an();n=n===void 0?null:n;var a=void 0;if(St!==null){var s=St.memoizedState;if(a=s.destroy,n!==null&&D0(n,s.deps)){i.memoizedState=pu(t,r,a,n);return}}et.flags|=e,i.memoizedState=pu(1|t,r,a,n)}function ME(e,t){return Cd(8390656,8,e,t)}function V0(e,t){return Nh(2048,8,e,t)}function ZC(e,t){return Nh(4,2,e,t)}function JC(e,t){return Nh(4,4,e,t)}function eI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tI(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,eI.bind(null,t,e),r)}function F0(){}function rI(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nI(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function iI(e,t,r){return ts&21?(bn(r,t)||(r=uC(),et.lanes|=r,rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sr=!0),e.memoizedState=r)}function _V(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=Zm.transition;Zm.transition={};try{e(!1),t()}finally{Ne=r,Zm.transition=n}}function aI(){return an().memoizedState}function bV(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sI(e))oI(t,r);else if(r=zC(e,t,r,n),r!==null){var i=pr();xn(r,e,n,i),lI(r,t,n)}}function EV(e,t,r){var n=ra(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sI(e))oI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,bn(o,s)){var l=t.interleaved;l===null?(i.next=i,j0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=zC(e,t,i,n),r!==null&&(i=pr(),xn(r,e,n,i),lI(r,t,n))}}function sI(e){var t=e.alternate;return e===et||t!==null&&t===et}function oI(e,t){Bl=lf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}var uf={readContext:nn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},SV={readContext:nn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:ME,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cd(4194308,4,eI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cd(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=On();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bV.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:DE,useDebugValue:F0,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=DE(!1),t=e[0];return e=_V.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,i=On();if(Qe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),$t===null)throw Error(W(349));ts&30||KC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,ME(GC.bind(null,n,a,e),[e]),n.flags|=2048,pu(9,HC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=On(),t=$t.identifierPrefix;if(Qe){var r=ni,n=ri;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=xV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AV={readContext:nn,useCallback:rI,useContext:nn,useEffect:V0,useImperativeHandle:tI,useInsertionEffect:ZC,useLayoutEffect:JC,useMemo:nI,useReducer:Jm,useRef:XC,useState:function(){return Jm(hu)},useDebugValue:F0,useDeferredValue:function(e){var t=an();return iI(t,St.memoizedState,e)},useTransition:function(){var e=Jm(hu)[0],t=an().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:WC,useId:aI,unstable_isNewReconciler:!1},PV={readContext:nn,useCallback:rI,useContext:nn,useEffect:V0,useImperativeHandle:tI,useInsertionEffect:ZC,useLayoutEffect:JC,useMemo:nI,useReducer:eg,useRef:XC,useState:function(){return eg(hu)},useDebugValue:F0,useDeferredValue:function(e){var t=an();return St===null?t.memoizedState=e:iI(t,St.memoizedState,e)},useTransition:function(){var e=eg(hu)[0],t=an().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:WC,useId:aI,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oh={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pr(),i=ra(e),a=si(n,i);a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pr(),i=ra(e),a=si(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pr(),n=ra(e),i=si(r,n);i.tag=2,t!=null&&(i.callback=t),t=ea(e,i,n),t!==null&&(xn(t,e,n,r),Pd(t,e,n))}};function LE(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!su(r,n)||!su(i,a):!0}function uI(e,t,r){var n=!1,i=ca,a=t.contextType;return typeof a=="object"&&a!==null?a=nn(a):(i=Tr(t)?Ja:lr.current,n=t.contextTypes,a=(n=n!=null)?oo(e,i):ca),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function VE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function vv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},N0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=nn(a):(a=Tr(t)?Ja:lr.current,i.context=oo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oh.enqueueReplaceState(i,i.state,null),sf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var r="",n=t;do r+=eL(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function yv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TV=typeof WeakMap=="function"?WeakMap:Map;function cI(e,t,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){df||(df=!0,Cv=n),yv(e,t)},r}function dI(e,t,r){r=si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){yv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){yv(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function FE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=zV.bind(null,e,t,r),t.then(e,e))}function $E(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=si(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var CV=Pi.ReactCurrentOwner,Sr=!1;function dr(e,t,r,n){t.child=e===null?$C(t,null,r,n):uo(t,e.child,r,n)}function UE(e,t,r,n,i){r=r.render;var a=t.ref;return Js(t,i),n=M0(e,t,r,n,a,i),r=L0(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&r&&S0(t),t.flags|=1,dr(e,t,n,i),t.child)}function BE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!H0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,fI(e,t,a,n,i)):(e=Od(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:su,r(s,n)&&e.ref===t.ref)return hi(e,t,i)}return t.flags|=1,e=na(a,n),e.ref=t.ref,e.return=t,t.child=e}function fI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(su(a,n)&&e.ref===t.ref)if(Sr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Sr=!0);else return t.lanes=e.lanes,hi(e,t,i)}return wv(e,t,r,n,i)}function hI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ks,kr),kr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Ks,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$e(Ks,kr),kr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,$e(Ks,kr),kr|=n;return dr(e,t,i,r),t.child}function pI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wv(e,t,r,n,i){var a=Tr(r)?Ja:lr.current;return a=oo(t,a),Js(t,i),r=M0(e,t,r,n,a,i),n=L0(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&n&&S0(t),t.flags|=1,dr(e,t,r,i),t.child)}function qE(e,t,r,n,i){if(Tr(r)){var a=!0;ef(t)}else a=!1;if(Js(t,i),t.stateNode===null)Id(e,t),uI(t,r,n),vv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Tr(r)?Ja:lr.current,u=oo(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&VE(t,s,n,u),zi=!1;var p=t.memoizedState;s.state=p,sf(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Pr.current||zi?(typeof c=="function"&&(gv(t,r,c,n),l=t.memoizedState),(o=zi||LE(t,r,o,n,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,UC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:hn(t.type,o),s.props=u,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=Tr(r)?Ja:lr.current,l=oo(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&VE(t,s,n,l),zi=!1,p=t.memoizedState,s.state=p,sf(t,n,s,i);var g=t.memoizedState;o!==f||p!==g||Pr.current||zi?(typeof m=="function"&&(gv(t,r,m,n),g=t.memoizedState),(u=zi||LE(t,r,u,n,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return xv(e,t,r,n,a,i)}function xv(e,t,r,n,i,a){pI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&IE(t,r,!1),hi(e,t,a);n=t.stateNode,CV.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,o,a)):dr(e,t,o,a),t.memoizedState=n.state,i&&IE(t,r,!0),t.child}function mI(e){var t=e.stateNode;t.pendingContext?CE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CE(e,t.context,!1),O0(e,t.containerInfo)}function WE(e,t,r,n,i){return lo(),P0(i),t.flags|=256,dr(e,t,r,n),t.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function bv(e){return{baseLanes:e,cachePool:null,transitions:null}}function gI(e,t,r){var n=t.pendingProps,i=Je.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Je,i&1),e===null)return pv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Dh(s,n,0,null),e=Ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bv(r),t.memoizedState=_v,e):$0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return IV(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=na(o,a):(a=Ha(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?bv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=_v,n}return a=e.child,e=a.sibling,n=na(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $0(e,t){return t=Dh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,r,n){return n!==null&&P0(n),uo(t,e.child,null,r),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IV(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=tg(Error(W(422))),Gc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Dh({mode:"visible",children:n.children},i,0,null),a=Ha(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&uo(t,e.child,null,s),t.child.memoizedState=bv(s),t.memoizedState=_v,a);if(!(t.mode&1))return Gc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(W(419)),n=tg(a,n,void 0),Gc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Sr||o){if(n=$t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fi(e,i),xn(n,e,i,-1))}return K0(),n=tg(Error(W(421))),Gc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mr=Ji(i.nextSibling),Fr=t,Qe=!0,mn=null,e!==null&&(Yr[Xr++]=ri,Yr[Xr++]=ni,Yr[Xr++]=es,ri=e.id,ni=e.overflow,es=t),t=$0(t,n.children),t.flags|=4096,t)}function KE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mv(e.return,t,r)}function rg(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function vI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(dr(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KE(e,r,t);else if(e.tag===19)KE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&of(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),rg(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&of(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}rg(t,!0,r,null,a);break;case"together":rg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jV(e,t,r){switch(t.tag){case 3:mI(t),lo();break;case 5:BC(t);break;case 1:Tr(t.type)&&ef(t);break;case 4:O0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;$e(nf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?gI(e,t,r):($e(Je,Je.current&1),e=hi(e,t,r),e!==null?e.sibling:null);$e(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,hI(e,t,r)}return hi(e,t,r)}var yI,Ev,wI,xI;yI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ev=function(){};wI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,za(Ln.current);var a=null;switch(r){case"input":i=Wg(e,i),n=Wg(e,n),a=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),a=[];break;case"textarea":i=Gg(e,i),n=Gg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zd)}Yg(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};xI=function(e,t,r,n){r!==n&&(t.flags|=4)};function vl(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NV(e,t,r){var n=t.pendingProps;switch(A0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Tr(t.type)&&Jd(),er(t),null;case 3:return n=t.stateNode,co(),He(Pr),He(lr),R0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Nv(mn),mn=null))),Ev(e,t),er(t),null;case 5:k0(t);var i=za(du.current);if(r=t.type,e!==null&&t.stateNode!=null)wI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return er(t),null}if(e=za(Ln.current),Kc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Rn]=t,n[uu]=a,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<jl.length;i++)qe(jl[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":tE(n,a),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qe("invalid",n);break;case"textarea":nE(n,a),qe("invalid",n)}Yg(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",""+o]):Jl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&qe("scroll",n)}switch(r){case"input":Lc(n),rE(n,a,!0);break;case"textarea":Lc(n),iE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Zd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Rn]=t,e[uu]=n,yI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Xg(r,n),r){case"dialog":qe("cancel",e),qe("close",e),i=n;break;case"iframe":case"object":case"embed":qe("load",e),i=n;break;case"video":case"audio":for(i=0;i<jl.length;i++)qe(jl[i],e);i=n;break;case"source":qe("error",e),i=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=n;break;case"details":qe("toggle",e),i=n;break;case"input":tE(e,n),i=Wg(e,n),qe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),qe("invalid",e);break;case"textarea":nE(e,n),i=Gg(e,n),qe("invalid",e);break;default:i=n}Yg(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?XT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&eu(e,l):typeof l=="number"&&eu(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",e):l!=null&&c0(e,a,l,s))}switch(r){case"input":Lc(e),rE(e,n,!1);break;case"textarea":Lc(e),iE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ua(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Qs(e,!!n.multiple,a,!1):n.defaultValue!=null&&Qs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)xI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=za(du.current),za(Ln.current),Kc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rn]=t,(a=n.nodeValue!==r)&&(e=Fr,e!==null))switch(e.tag){case 3:Wc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rn]=t,t.stateNode=n}return er(t),null;case 13:if(He(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Mr!==null&&t.mode&1&&!(t.flags&128))VC(),lo(),t.flags|=98560,a=!1;else if(a=Kc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Rn]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),a=!1}else mn!==null&&(Nv(mn),mn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?Tt===0&&(Tt=3):K0())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return co(),Ev(e,t),e===null&&ou(t.stateNode.containerInfo),er(t),null;case 10:return I0(t.type._context),er(t),null;case 17:return Tr(t.type)&&Jd(),er(t),null;case 19:if(He(Je),a=t.memoizedState,a===null)return er(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)vl(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=of(e),s!==null){for(t.flags|=128,vl(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>ho&&(t.flags|=128,n=!0,vl(a,!1),t.lanes=4194304)}else{if(!n)if(e=of(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return er(t),null}else 2*ct()-a.renderingStartTime>ho&&r!==1073741824&&(t.flags|=128,n=!0,vl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=Je.current,$e(Je,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return W0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kr&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function OV(e,t){switch(A0(t),t.tag){case 1:return Tr(t.type)&&Jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),He(Pr),He(lr),R0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(He(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Je),null;case 4:return co(),null;case 10:return I0(t.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var Qc=!1,ir=!1,kV=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ws(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function Sv(e,t,r){try{r()}catch(n){at(e,t,n)}}var HE=!1;function RV(e,t){if(ov=Qd,e=AC(),E0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(lv={focusedElem:e,selectionRange:r},Qd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,x=t.stateNode,E=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:hn(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){at(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=HE,HE=!1,g}function ql(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Sv(t,r,a)}i=i.next}while(i!==n)}}function kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Av(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _I(e){var t=e.alternate;t!==null&&(e.alternate=null,_I(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[uu],delete t[dv],delete t[gV],delete t[vV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bI(e){return e.tag===5||e.tag===3||e.tag===4}function GE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zd));else if(n!==4&&(e=e.child,e!==null))for(Pv(e,t,r),e=e.sibling;e!==null;)Pv(e,t,r),e=e.sibling}function Tv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tv(e,t,r),e=e.sibling;e!==null;)Tv(e,t,r),e=e.sibling}var Kt=null,pn=!1;function Fi(e,t,r){for(r=r.child;r!==null;)EI(e,t,r),r=r.sibling}function EI(e,t,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Ah,r)}catch{}switch(r.tag){case 5:ir||Ws(r,t);case 6:var n=Kt,i=pn;Kt=null,Fi(e,t,r),Kt=n,pn=i,Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?Qm(e.parentNode,r):e.nodeType===1&&Qm(e,r),iu(e)):Qm(Kt,r.stateNode));break;case 4:n=Kt,i=pn,Kt=r.stateNode.containerInfo,pn=!0,Fi(e,t,r),Kt=n,pn=i;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Sv(r,t,s),i=i.next}while(i!==n)}Fi(e,t,r);break;case 1:if(!ir&&(Ws(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){at(r,t,o)}Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Fi(e,t,r),ir=n):Fi(e,t,r);break;default:Fi(e,t,r)}}function QE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kV),t.forEach(function(n){var i=BV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,pn=!1;break e;case 3:Kt=o.stateNode.containerInfo,pn=!0;break e;case 4:Kt=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(Kt===null)throw Error(W(160));EI(a,s,i),Kt=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SI(t,e),t=t.sibling}function SI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Nn(e),n&4){try{ql(3,e,e.return),kh(3,e)}catch(y){at(e,e.return,y)}try{ql(5,e,e.return)}catch(y){at(e,e.return,y)}}break;case 1:dn(t,e),Nn(e),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(dn(t,e),Nn(e),n&512&&r!==null&&Ws(r,r.return),e.flags&32){var i=e.stateNode;try{eu(i,"")}catch(y){at(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&KT(i,a),Xg(o,s);var u=Xg(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?XT(i,f):c==="dangerouslySetInnerHTML"?QT(i,f):c==="children"?eu(i,f):c0(i,c,f,u)}switch(o){case"input":Kg(i,a);break;case"textarea":HT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Qs(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Qs(i,!!a.multiple,a.defaultValue,!0):Qs(i,!!a.multiple,a.multiple?[]:"",!1))}i[uu]=a}catch(y){at(e,e.return,y)}}break;case 6:if(dn(t,e),Nn(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){at(e,e.return,y)}}break;case 3:if(dn(t,e),Nn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{iu(t.containerInfo)}catch(y){at(e,e.return,y)}break;case 4:dn(t,e),Nn(e);break;case 13:dn(t,e),Nn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=ct())),n&4&&QE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(u=ir)||c,dn(t,e),ir=u):dn(t,e),Nn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:ql(4,p,p.return);break;case 1:Ws(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){at(n,r,y)}}break;case 5:Ws(p,p.return);break;case 22:if(p.memoizedState!==null){XE(f);continue}}m!==null?(m.return=p,J=m):XE(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=YT("display",s))}catch(y){at(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){at(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dn(t,e),Nn(e),n&4&&QE(e);break;case 21:break;default:dn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bI(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(eu(i,""),n.flags&=-33);var a=GE(e);Tv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=GE(e);Pv(e,o,s);break;default:throw Error(W(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DV(e,t,r){J=e,AI(e)}function AI(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Qc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ir;o=Qc;var u=ir;if(Qc=s,(ir=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?ZE(i):l!==null?(l.return=s,J=l):ZE(i);for(;a!==null;)J=a,AI(a),a=a.sibling;J=i,Qc=o,ir=u}YE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):YE(e)}}function YE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:hn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&RE(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}RE(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&iu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ir||t.flags&512&&Av(t)}catch(p){at(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function XE(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function ZE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kh(4,t)}catch(l){at(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){at(t,i,l)}}var a=t.return;try{Av(t)}catch(l){at(t,a,l)}break;case 5:var s=t.return;try{Av(t)}catch(l){at(t,s,l)}}}catch(l){at(t,t.return,l)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var MV=Math.ceil,cf=Pi.ReactCurrentDispatcher,z0=Pi.ReactCurrentOwner,tn=Pi.ReactCurrentBatchConfig,Ae=0,$t=null,gt=null,Yt=0,kr=0,Ks=xa(0),Tt=0,mu=null,rs=0,Rh=0,U0=0,Wl=null,br=null,B0=0,ho=1/0,Xn=null,df=!1,Cv=null,ta=null,Yc=!1,Gi=null,ff=0,Kl=0,Iv=null,jd=-1,Nd=0;function pr(){return Ae&6?ct():jd!==-1?jd:jd=ct()}function ra(e){return e.mode&1?Ae&2&&Yt!==0?Yt&-Yt:wV.transition!==null?(Nd===0&&(Nd=uC()),Nd):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:gC(e.type)),e):1}function xn(e,t,r,n){if(50<Kl)throw Kl=0,Iv=null,Error(W(185));$u(e,r,n),(!(Ae&2)||e!==$t)&&(e===$t&&(!(Ae&2)&&(Rh|=r),Tt===4&&Wi(e,Yt)),Cr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(ho=ct()+500,jh&&_a()))}function Cr(e,t){var r=e.callbackNode;wL(e,t);var n=Gd(e,e===$t?Yt:0);if(n===0)r!==null&&oE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oE(r),t===1)e.tag===0?yV(JE.bind(null,e)):DC(JE.bind(null,e)),pV(function(){!(Ae&6)&&_a()}),r=null;else{switch(cC(n)){case 1:r=m0;break;case 4:r=oC;break;case 16:r=Hd;break;case 536870912:r=lC;break;default:r=Hd}r=kI(r,PI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function PI(e,t){if(jd=-1,Nd=0,Ae&6)throw Error(W(327));var r=e.callbackNode;if(eo()&&e.callbackNode!==r)return null;var n=Gd(e,e===$t?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hf(e,n);else{t=n;var i=Ae;Ae|=2;var a=CI();($t!==e||Yt!==t)&&(Xn=null,ho=ct()+500,Ka(e,t));do try{FV();break}catch(o){TI(e,o)}while(!0);C0(),cf.current=a,Ae=i,gt!==null?t=0:($t=null,Yt=0,t=Tt)}if(t!==0){if(t===2&&(i=rv(e),i!==0&&(n=i,t=jv(e,i))),t===1)throw r=mu,Ka(e,0),Wi(e,n),Cr(e,ct()),r;if(t===6)Wi(e,n);else{if(i=e.current.alternate,!(n&30)&&!LV(i)&&(t=hf(e,n),t===2&&(a=rv(e),a!==0&&(n=a,t=jv(e,a))),t===1))throw r=mu,Ka(e,0),Wi(e,n),Cr(e,ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:ka(e,br,Xn);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=B0+500-ct(),10<t)){if(Gd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){pr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=cv(ka.bind(null,e,br,Xn),t);break}ka(e,br,Xn);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-wn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MV(n/1960))-n,10<n){e.timeoutHandle=cv(ka.bind(null,e,br,Xn),n);break}ka(e,br,Xn);break;case 5:ka(e,br,Xn);break;default:throw Error(W(329))}}}return Cr(e,ct()),e.callbackNode===r?PI.bind(null,e):null}function jv(e,t){var r=Wl;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=hf(e,t),e!==2&&(t=br,br=r,t!==null&&Nv(t)),e}function Nv(e){br===null?br=e:br.push.apply(br,e)}function LV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~U0,t&=~Rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wn(t),n=1<<r;e[r]=-1,t&=~n}}function JE(e){if(Ae&6)throw Error(W(327));eo();var t=Gd(e,0);if(!(t&1))return Cr(e,ct()),null;var r=hf(e,t);if(e.tag!==0&&r===2){var n=rv(e);n!==0&&(t=n,r=jv(e,n))}if(r===1)throw r=mu,Ka(e,0),Wi(e,t),Cr(e,ct()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,br,Xn),Cr(e,ct()),null}function q0(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(ho=ct()+500,jh&&_a())}}function ns(e){Gi!==null&&Gi.tag===0&&!(Ae&6)&&eo();var t=Ae;Ae|=1;var r=tn.transition,n=Ne;try{if(tn.transition=null,Ne=1,e)return e()}finally{Ne=n,tn.transition=r,Ae=t,!(Ae&6)&&_a()}}function W0(){kr=Ks.current,He(Ks)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hV(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(A0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jd();break;case 3:co(),He(Pr),He(lr),R0();break;case 5:k0(n);break;case 4:co();break;case 13:He(Je);break;case 19:He(Je);break;case 10:I0(n.type._context);break;case 22:case 23:W0()}r=r.return}if($t=e,gt=e=na(e.current,null),Yt=kr=t,Tt=0,mu=null,U0=Rh=rs=0,br=Wl=null,$a!==null){for(t=0;t<$a.length;t++)if(r=$a[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}$a=null}return e}function TI(e,t){do{var r=gt;try{if(C0(),Td.current=uf,lf){for(var n=et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lf=!1}if(ts=0,Vt=St=et=null,Bl=!1,fu=0,z0.current=null,r===null||r.return===null){Tt=1,mu=t,gt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Yt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=$E(s);if(m!==null){m.flags&=-257,zE(m,s,o,a,t),m.mode&1&&FE(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){FE(a,u,t),K0();break e}l=Error(W(426))}}else if(Qe&&o.mode&1){var b=$E(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zE(b,s,o,a,t),P0(fo(l,o));break e}}a=l=fo(l,o),Tt!==4&&(Tt=2),Wl===null?Wl=[a]:Wl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=cI(a,l,t);kE(a,x);break e;case 1:o=l;var E=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ta===null||!ta.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=dI(a,o,t);kE(a,I);break e}}a=a.return}while(a!==null)}jI(r)}catch(R){t=R,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function CI(){var e=cf.current;return cf.current=uf,e===null?uf:e}function K0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(rs&268435455)&&!(Rh&268435455)||Wi($t,Yt)}function hf(e,t){var r=Ae;Ae|=2;var n=CI();($t!==e||Yt!==t)&&(Xn=null,Ka(e,t));do try{VV();break}catch(i){TI(e,i)}while(!0);if(C0(),Ae=r,cf.current=n,gt!==null)throw Error(W(261));return $t=null,Yt=0,Tt}function VV(){for(;gt!==null;)II(gt)}function FV(){for(;gt!==null&&!cL();)II(gt)}function II(e){var t=OI(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?jI(e):gt=t,z0.current=null}function jI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OV(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,gt=null;return}}else if(r=NV(r,t,kr),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);Tt===0&&(Tt=5)}function ka(e,t,r){var n=Ne,i=tn.transition;try{tn.transition=null,Ne=1,$V(e,t,r,n)}finally{tn.transition=i,Ne=n}return null}function $V(e,t,r,n){do eo();while(Gi!==null);if(Ae&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(xL(e,a),e===$t&&(gt=$t=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yc||(Yc=!0,kI(Hd,function(){return eo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=tn.transition,tn.transition=null;var s=Ne;Ne=1;var o=Ae;Ae|=4,z0.current=null,RV(e,r),SI(r,e),sV(lv),Qd=!!ov,lv=ov=null,e.current=r,DV(r),dL(),Ae=o,Ne=s,tn.transition=a}else e.current=r;if(Yc&&(Yc=!1,Gi=e,ff=i),a=e.pendingLanes,a===0&&(ta=null),pL(r.stateNode),Cr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,e=Cv,Cv=null,e;return ff&1&&e.tag!==0&&eo(),a=e.pendingLanes,a&1?e===Iv?Kl++:(Kl=0,Iv=e):Kl=0,_a(),null}function eo(){if(Gi!==null){var e=cC(ff),t=tn.transition,r=Ne;try{if(tn.transition=null,Ne=16>e?16:e,Gi===null)var n=!1;else{if(e=Gi,Gi=null,ff=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,J=e.current;J!==null;){var a=J,s=a.child;if(J.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:ql(8,c,a)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(_I(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}J=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,J=s;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ql(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}var E=e.current;for(J=E;J!==null;){s=J;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,J=A;else e:for(s=E;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kh(9,o)}}catch(R){at(o,o.return,R)}if(o===s){J=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,J=I;break e}J=o.return}}if(Ae=i,_a(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Ah,e)}catch{}n=!0}return n}finally{Ne=r,tn.transition=t}}return!1}function e1(e,t,r){t=fo(r,t),t=cI(e,t,1),e=ea(e,t,1),t=pr(),e!==null&&($u(e,1,t),Cr(e,t))}function at(e,t,r){if(e.tag===3)e1(e,e,r);else for(;t!==null;){if(t.tag===3){e1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=fo(r,e),e=dI(t,e,1),t=ea(t,e,1),e=pr(),t!==null&&($u(t,1,e),Cr(t,e));break}}t=t.return}}function zV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pr(),e.pingedLanes|=e.suspendedLanes&r,$t===e&&(Yt&r)===r&&(Tt===4||Tt===3&&(Yt&130023424)===Yt&&500>ct()-B0?Ka(e,0):U0|=r),Cr(e,t)}function NI(e,t){t===0&&(e.mode&1?(t=$c,$c<<=1,!($c&130023424)&&($c=4194304)):t=1);var r=pr();e=fi(e,t),e!==null&&($u(e,t,r),Cr(e,r))}function UV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NI(e,r)}function BV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),NI(e,r)}var OI;OI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pr.current)Sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Sr=!1,jV(e,t,r);Sr=!!(e.flags&131072)}else Sr=!1,Qe&&t.flags&1048576&&MC(t,rf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Id(e,t),e=t.pendingProps;var i=oo(t,lr.current);Js(t,r),i=M0(null,t,n,e,i,r);var a=L0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(n)?(a=!0,ef(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(t),i.updater=Oh,t.stateNode=i,i._reactInternals=t,vv(t,n,e,r),t=xv(null,t,n,!0,a,r)):(t.tag=0,Qe&&a&&S0(t),dr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=WV(n),e=hn(n,e),i){case 0:t=wv(null,t,n,e,r);break e;case 1:t=qE(null,t,n,e,r);break e;case 11:t=UE(null,t,n,e,r);break e;case 14:t=BE(null,t,n,hn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),wv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),qE(e,t,n,i,r);case 3:e:{if(mI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,UC(e,t),sf(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=fo(Error(W(423)),t),t=WE(e,t,n,r,i);break e}else if(n!==i){i=fo(Error(W(424)),t),t=WE(e,t,n,r,i);break e}else for(Mr=Ji(t.stateNode.containerInfo.firstChild),Fr=t,Qe=!0,mn=null,r=$C(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lo(),n===i){t=hi(e,t,r);break e}dr(e,t,n,r)}t=t.child}return t;case 5:return BC(t),e===null&&pv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,uv(n,i)?s=null:a!==null&&uv(n,a)&&(t.flags|=32),pI(e,t),dr(e,t,s,r),t.child;case 6:return e===null&&pv(t),null;case 13:return gI(e,t,r);case 4:return O0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uo(t,null,n,r):dr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),UE(e,t,n,i,r);case 7:return dr(e,t,t.pendingProps,r),t.child;case 8:return dr(e,t,t.pendingProps.children,r),t.child;case 12:return dr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,$e(nf,n._currentValue),n._currentValue=s,a!==null)if(bn(a.value,s)){if(a.children===i.children&&!Pr.current){t=hi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=si(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),mv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(W(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),mv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}dr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Js(t,r),i=nn(i),n=n(i),t.flags|=1,dr(e,t,n,r),t.child;case 14:return n=t.type,i=hn(n,t.pendingProps),i=hn(n.type,i),BE(e,t,n,i,r);case 15:return fI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),Id(e,t),t.tag=1,Tr(n)?(e=!0,ef(t)):e=!1,Js(t,r),uI(t,n,i),vv(t,n,i,r),xv(null,t,n,!0,e,r);case 19:return vI(e,t,r);case 22:return hI(e,t,r)}throw Error(W(156,t.tag))};function kI(e,t){return sC(e,t)}function qV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(e,t,r,n){return new qV(e,t,r,n)}function H0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WV(e){if(typeof e=="function")return H0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===f0)return 11;if(e===h0)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=Jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Od(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")H0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ms:return Ha(r.children,i,a,t);case d0:s=8,i|=8;break;case zg:return e=Jr(12,r,t,i|2),e.elementType=zg,e.lanes=a,e;case Ug:return e=Jr(13,r,t,i),e.elementType=Ug,e.lanes=a,e;case Bg:return e=Jr(19,r,t,i),e.elementType=Bg,e.lanes=a,e;case BT:return Dh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zT:s=10;break e;case UT:s=9;break e;case f0:s=11;break e;case h0:s=14;break e;case $i:s=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Jr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ha(e,t,r,n){return e=Jr(7,e,n,t),e.lanes=r,e}function Dh(e,t,r,n){return e=Jr(22,e,n,t),e.elementType=BT,e.lanes=r,e.stateNode={isHidden:!1},e}function ng(e,t,r){return e=Jr(6,e,null,t),e.lanes=r,e}function ig(e,t,r){return t=Jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(e,t,r,n,i,a,s,o,l){return e=new KV(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Jr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(a),e}function HV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function RI(e){if(!e)return ca;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Tr(r))return RC(e,r,t)}return t}function DI(e,t,r,n,i,a,s,o,l){return e=G0(r,n,!0,e,i,a,s,o,l),e.context=RI(null),r=e.current,n=pr(),i=ra(r),a=si(n,i),a.callback=t??null,ea(r,a,i),e.current.lanes=i,$u(e,i,n),Cr(e,n),e}function Mh(e,t,r,n){var i=t.current,a=pr(),s=ra(i);return r=RI(r),t.context===null?t.context=r:t.pendingContext=r,t=si(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(i,t,s),e!==null&&(xn(e,i,s,a),Pd(e,i,s)),s}function pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q0(e,t){t1(e,t),(e=e.alternate)&&t1(e,t)}function GV(){return null}var MI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y0(e){this._internalRoot=e}Lh.prototype.render=Y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Mh(e,t,null,null)};Lh.prototype.unmount=Y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){Mh(null,e,null,null)}),t[di]=null}};function Lh(e){this._internalRoot=e}Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=hC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qi.length&&t!==0&&t<qi[r].priority;r++);qi.splice(r,0,e),r===0&&mC(e)}};function X0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r1(){}function QV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=pf(s);a.call(u)}}var s=DI(t,n,e,0,null,!1,!1,"",r1);return e._reactRootContainer=s,e[di]=s.current,ou(e.nodeType===8?e.parentNode:e),ns(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=pf(l);o.call(u)}}var l=G0(e,0,!1,null,null,!1,!1,"",r1);return e._reactRootContainer=l,e[di]=l.current,ou(e.nodeType===8?e.parentNode:e),ns(function(){Mh(t,l,r,n)}),l}function Fh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=pf(s);o.call(l)}}Mh(t,s,e,i)}else s=QV(r,t,e,i,n);return pf(s)}dC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(g0(t,r|1),Cr(t,ct()),!(Ae&6)&&(ho=ct()+500,_a()))}break;case 13:ns(function(){var n=fi(e,1);if(n!==null){var i=pr();xn(n,e,1,i)}}),Q0(e,1)}};v0=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var r=pr();xn(t,e,134217728,r)}Q0(e,134217728)}};fC=function(e){if(e.tag===13){var t=ra(e),r=fi(e,t);if(r!==null){var n=pr();xn(r,e,t,n)}Q0(e,t)}};hC=function(){return Ne};pC=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};Jg=function(e,t,r){switch(t){case"input":if(Kg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ih(n);if(!i)throw Error(W(90));WT(n),Kg(n,i)}}}break;case"textarea":HT(e,r);break;case"select":t=r.value,t!=null&&Qs(e,!!r.multiple,t,!1)}};eC=q0;tC=ns;var YV={usingClientEntryPoint:!1,Events:[Uu,$s,Ih,ZT,JT,q0]},yl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XV={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iC(e),e===null?null:e.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||GV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Ah=Xc.inject(XV),Mn=Xc}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YV;Br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(t))throw Error(W(200));return HV(e,t,null,r)};Br.createRoot=function(e,t){if(!X0(e))throw Error(W(299));var r=!1,n="",i=MI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=G0(e,1,!1,null,null,r,!1,n,i),e[di]=t.current,ou(e.nodeType===8?e.parentNode:e),new Y0(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=iC(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return ns(e)};Br.hydrate=function(e,t,r){if(!Vh(t))throw Error(W(200));return Fh(null,e,t,!0,r)};Br.hydrateRoot=function(e,t,r){if(!X0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=MI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=DI(t,null,e,1,r??null,i,!1,a,s),e[di]=t.current,ou(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Lh(t)};Br.render=function(e,t,r){if(!Vh(t))throw Error(W(200));return Fh(null,e,t,!1,r)};Br.unmountComponentAtNode=function(e){if(!Vh(e))throw Error(W(40));return e._reactRootContainer?(ns(function(){Fh(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Br.unstable_batchedUpdates=q0;Br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Fh(e,t,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function LI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LI)}catch(e){console.error(e)}}LI(),LT.exports=Br;var Bn=LT.exports,n1=Bn;Fg.createRoot=n1.createRoot,Fg.hydrateRoot=n1.hydrateRoot;const i1="incidents",a1="automation_rules",s1="system_tags",ZV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ge={getIncidents:()=>{try{const e=localStorage.getItem(i1);if(!e)return[];const t=JSON.parse(e);return ZV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(i1,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ge.getIncidents();return t.push(e),ge.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ge.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ge.saveIncidents(r)),r},deleteIncident:e=>{const t=ge.getIncidents().filter(r=>r.id!==e);return ge.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},addTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r),ge.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(s1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(s1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ge.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ge.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ge.getSystemTags().filter(r=>r!==e);return ge.saveSystemTags(t),t},getAllTags:()=>ge.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ge.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ge.saveIncidents(t),ge.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ge.getIncidents(),a=i.find(s=>s.id===e);if(a){const s={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(s)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(s)),a.updatedAt=new Date().toISOString(),ge.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ge.getIncidents(),s=a.find(o=>o.id===e);if(s){let o=t==="qa2"?s.prQA2List:s.prMainList;if(o){const l=o.findIndex(u=>u.id===r);l!==-1&&(o[l]={...o[l],link:n,description:i},s.updatedAt=new Date().toISOString(),ge.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(a1);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(a1,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ge.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ge.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ge.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ge.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ge.getAutomationRules().filter(r=>r.id!==e);return ge.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ge.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(s=>{const o=n[s.field];switch(s.operator){case"equals":return o===s.value;case"not-equals":return o!==s.value;case"greater-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>s.value:!1;case"less-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<s.value:!1;case"contains":return s.field==="has-tag"&&n.tags?n.tags.includes(s.value):!1;default:return!1}})&&i.actions.forEach(s=>{switch(s.type){case"set-priority":n.priority=s.value;break;case"set-status":n.status=s.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(s.value)||n.tags.push(s.value);break;case"assign-to":n.assignedTo=s.value;break}})}),n}},o1="users",Zc="current_user",wr={getUsers:()=>{const e=localStorage.getItem(o1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(o1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=wr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),wr.saveUsers(n),i},login:(e,t)=>{const n=wr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Zc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Zc)},getCurrentUser:()=>{const e=localStorage.getItem(Zc);return e?JSON.parse(e):null},isAuthenticated:()=>wr.getCurrentUser()!==null,initializeDefaultUser:()=>{wr.getUsers().length===0&&wr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=wr.getUsers(),n=r.findIndex(s=>s.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(s=>s.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,wr.saveUsers(r);const a=wr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Zc,JSON.stringify(i)),i},deleteUser:e=>{const t=wr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");wr.saveUsers(r)}},JV=()=>{};var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},e4=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},FI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),n.push(r[c],r[f],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):e4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new t4;const p=a<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r4=function(e){const t=VI(e);return FI.encodeByteArray(t,!0)},mf=function(e){return r4(e).replace(/\./g,"")},n4=function(e){try{return FI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=()=>i4().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof l1>"u")return;const e=l1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},o4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&n4(e[1]);return t&&JSON.parse(t)},Z0=()=>{try{return JV()||a4()||s4()||o4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l4=e=>{var t,r;return(r=(t=Z0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},u4=e=>{const t=l4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},$I=()=>{var e;return(e=Z0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mf(JSON.stringify(r)),mf(JSON.stringify(s)),""].join(".")}const Hl={};function h4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?e.emulator.push(t):e.prod.push(t);return e}function p4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let u1=!1;function m4(e,t){if(typeof window>"u"||typeof document>"u"||!J0(window.location.host)||Hl[e]===t||Hl[e]||u1)return;Hl[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=h4().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{u1=!0,s()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=p4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),y=r("learnmore"),b=document.getElementById(y)||document.createElement("a"),x=r("preprendIcon"),E=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;o(A),c(b,y);const I=u();l(E,x),A.append(E,g,b,I),document.body.appendChild(A)}a?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){var t;const e=(t=Z0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y4(){return!v4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w4(){try{return typeof indexedDB=="object"}catch{return!1}}function x4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="FirebaseError";class Ro extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=_4,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zI.prototype.create)}}class zI{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?b4(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ro(i,o,n)}}function b4(e,t){return e.replace(E4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const E4=/\{\$([^}]+)}/g;function gf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(c1(a)&&c1(s)){if(!gf(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function c1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e){return e&&e._delegate?e._delegate:e}class gu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new c4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P4(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A4(e){return e===Ra?void 0:e}function P4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new S4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const C4={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},I4=Se.INFO,j4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},N4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=j4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class UI{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const O4=(e,t)=>t.some(r=>e instanceof r);let d1,f1;function k4(){return d1||(d1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BI=new WeakMap,Ov=new WeakMap,qI=new WeakMap,ag=new WeakMap,ew=new WeakMap;function D4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(ia(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&BI.set(r,e)}).catch(()=>{}),ew.set(t,e),t}function M4(e){if(Ov.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Ov.set(e,t)}let kv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Ov.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L4(e){kv=e(kv)}function V4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(sg(this),t,...r);return qI.set(n,t.sort?t.sort():[t]),ia(n)}:R4().includes(e)?function(...t){return e.apply(sg(this),t),ia(BI.get(this))}:function(...t){return ia(e.apply(sg(this),t))}}function F4(e){return typeof e=="function"?V4(e):(e instanceof IDBTransaction&&M4(e),O4(e,k4())?new Proxy(e,kv):e)}function ia(e){if(e instanceof IDBRequest)return D4(e);if(ag.has(e))return ag.get(e);const t=F4(e);return t!==e&&(ag.set(e,t),ew.set(t,e)),t}const sg=e=>ew.get(e);function $4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ia(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ia(s.result),l.oldVersion,l.newVersion,ia(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const z4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],og=new Map;function h1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(og.get(t))return og.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=U4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||z4.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return og.set(t,a),a}L4(e=>({...e,get:(t,r,n)=>h1(t,r)||e.get(t,r,n),has:(t,r)=>!!h1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(q4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rv="@firebase/app",p1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new UI("@firebase/app"),W4="@firebase/app-compat",K4="@firebase/analytics-compat",H4="@firebase/analytics",G4="@firebase/app-check-compat",Q4="@firebase/app-check",Y4="@firebase/auth",X4="@firebase/auth-compat",Z4="@firebase/database",J4="@firebase/data-connect",e3="@firebase/database-compat",t3="@firebase/functions",r3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",a3="@firebase/messaging",s3="@firebase/messaging-compat",o3="@firebase/performance",l3="@firebase/performance-compat",u3="@firebase/remote-config",c3="@firebase/remote-config-compat",d3="@firebase/storage",f3="@firebase/storage-compat",h3="@firebase/firestore",p3="@firebase/ai",m3="@firebase/firestore-compat",g3="firebase",v3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="[DEFAULT]",y3={[Rv]:"fire-core",[W4]:"fire-core-compat",[H4]:"fire-analytics",[K4]:"fire-analytics-compat",[Q4]:"fire-app-check",[G4]:"fire-app-check-compat",[Y4]:"fire-auth",[X4]:"fire-auth-compat",[Z4]:"fire-rtdb",[J4]:"fire-data-connect",[e3]:"fire-rtdb-compat",[t3]:"fire-fn",[r3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[a3]:"fire-fcm",[s3]:"fire-fcm-compat",[o3]:"fire-perf",[l3]:"fire-perf-compat",[u3]:"fire-rc",[c3]:"fire-rc-compat",[d3]:"fire-gcs",[f3]:"fire-gcs-compat",[h3]:"fire-fst",[m3]:"fire-fst-compat",[p3]:"fire-vertex","fire-js":"fire-js",[g3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,w3=new Map,Mv=new Map;function m1(e,t){try{e.container.addComponent(t)}catch(r){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function yf(e){const t=e.name;if(Mv.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Mv.set(t,e);for(const r of vf.values())m1(r,e);for(const r of w3.values())m1(r,e);return!0}function x3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function _3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new zI("app","Firebase",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=v3;function WI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Dv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw aa.create("bad-app-name",{appName:String(i)});if(r||(r=$I()),!r)throw aa.create("no-options");const a=vf.get(i);if(a){if(gf(r,a.options)&&gf(n,a.config))return a;throw aa.create("duplicate-app",{appName:i})}const s=new T4(i);for(const l of Mv.values())s.addComponent(l);const o=new E3(r,n,s);return vf.set(i,o),o}function A3(e=Dv){const t=vf.get(e);if(!t&&e===Dv&&$I())return WI();if(!t)throw aa.create("no-app",{appName:e});return t}function to(e,t,r){let n=y3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(s.join(" "));return}yf(new gu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebase-heartbeat-database",T3=1,vu="firebase-heartbeat-store";let lg=null;function KI(){return lg||(lg=$4(P3,T3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vu)}catch(r){console.warn(r)}}}}).catch(e=>{throw aa.create("idb-open",{originalErrorMessage:e.message})})),lg}async function C3(e){try{const r=(await KI()).transaction(vu),n=await r.objectStore(vu).get(HI(e));return await r.done,n}catch(t){if(t instanceof Ro)pi.warn(t.message);else{const r=aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(r.message)}}}async function g1(e,t){try{const n=(await KI()).transaction(vu,"readwrite");await n.objectStore(vu).put(t,HI(e)),await n.done}catch(r){if(r instanceof Ro)pi.warn(r.message);else{const n=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pi.warn(n.message)}}}function HI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1024,j3=30;class N3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new k3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>j3){const s=R3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=v1(),{heartbeatsToSend:n,unsentEntries:i}=O3(this._heartbeatsCache.heartbeats),a=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return pi.warn(r),""}}}function v1(){return new Date().toISOString().substring(0,10)}function O3(e,t=I3){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),y1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),y1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class k3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w4()?x4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await C3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return g1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return g1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function y1(e){return mf(JSON.stringify({version:2,heartbeats:e})).length}function R3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e){yf(new gu("platform-logger",t=>new B4(t),"PRIVATE")),yf(new gu("heartbeat",t=>new N3(t),"PRIVATE")),to(Rv,p1,e),to(Rv,p1,"esm2020"),to("fire-js","")}D3("");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,GI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(v,S){function C(){}C.prototype=S.prototype,v.F=S.prototype,v.prototype=new C,v.prototype.constructor=v,v.D=function(k,T,N){for(var j=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];return S.prototype[T].apply(k,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,S,C){C||(C=0);const k=Array(16);if(typeof S=="string")for(var T=0;T<16;++T)k[T]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(T=0;T<16;++T)k[T]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=v.g[0],C=v.g[1],T=v.g[2];let N=v.g[3],j;j=S+(N^C&(T^N))+k[0]+3614090360&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+k[1]+3905402710&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+k[2]+606105819&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+k[3]+3250441966&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+k[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+k[5]+1200080426&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+k[6]+2821735955&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+k[7]+4249261313&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+k[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+k[9]+2336552879&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+k[10]+4294925233&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+k[11]+2304563134&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+k[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+k[13]+4254626195&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+k[14]+2792965006&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+k[15]+1236535329&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(T^N&(C^T))+k[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+k[6]+3225465664&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+k[11]+643717713&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+k[0]+3921069994&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+k[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+k[10]+38016083&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+k[15]+3634488961&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+k[4]+3889429448&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+k[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+k[14]+3275163606&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+k[3]+4107603335&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+k[8]+1163531501&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+k[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+k[2]+4243563512&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+k[7]+1735328473&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+k[12]+2368359562&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(C^T^N)+k[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+k[8]+2272392833&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+k[11]+1839030562&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+k[14]+4259657740&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+k[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+k[4]+1272893353&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+k[7]+4139469664&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+k[10]+3200236656&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+k[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+k[0]+3936430074&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+k[3]+3572445317&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+k[6]+76029189&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+k[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+k[12]+3873151461&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+k[15]+530742520&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+k[2]+3299628645&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(T^(C|~N))+k[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+k[7]+1126891415&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+k[14]+2878612391&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+k[5]+4237533241&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+k[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+k[3]+2399980690&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+k[10]+4293915773&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+k[1]+2240044497&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+k[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+k[15]+4264355552&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+k[6]+2734768916&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+k[13]+1309151649&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+k[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+k[11]+3174756917&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+k[2]+718787259&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+k[9]+3951481745&4294967295,v.g[0]=v.g[0]+S&4294967295,v.g[1]=v.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,v.g[2]=v.g[2]+T&4294967295,v.g[3]=v.g[3]+N&4294967295}n.prototype.v=function(v,S){S===void 0&&(S=v.length);const C=S-this.blockSize,k=this.C;let T=this.h,N=0;for(;N<S;){if(T==0)for(;N<=C;)i(this,v,N),N+=this.blockSize;if(typeof v=="string"){for(;N<S;)if(k[T++]=v.charCodeAt(N++),T==this.blockSize){i(this,k),T=0;break}}else for(;N<S;)if(k[T++]=v[N++],T==this.blockSize){i(this,k),T=0;break}}this.h=T,this.o+=S},n.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var S=1;S<v.length-8;++S)v[S]=0;S=this.o*8;for(var C=v.length-8;C<v.length;++C)v[C]=S&255,S/=256;for(this.v(v),v=Array(16),S=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)v[S++]=this.g[C]>>>k&255;return v};function a(v,S){var C=o;return Object.prototype.hasOwnProperty.call(C,v)?C[v]:C[v]=S(v)}function s(v,S){this.h=S;const C=[];let k=!0;for(let T=v.length-1;T>=0;T--){const N=v[T]|0;k&&N==S||(C[T]=N,k=!1)}this.g=C}var o={};function l(v){return-128<=v&&v<128?a(v,function(S){return new s([S|0],S<0?-1:0)}):new s([v|0],v<0?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return f;if(v<0)return b(u(-v));const S=[];let C=1;for(let k=0;v>=C;k++)S[k]=v/C|0,C*=4294967296;return new s(S,0)}function c(v,S){if(v.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v.charAt(0)=="-")return b(c(v.substring(1),S));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(S,8));let k=f;for(let N=0;N<v.length;N+=8){var T=Math.min(8,v.length-N);const j=parseInt(v.substring(N,N+T),S);T<8?(T=u(Math.pow(S,T)),k=k.j(T).add(u(j))):(k=k.j(C),k=k.add(u(j)))}return k}var f=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(y(this))return-b(this).m();let v=0,S=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);v+=(k>=0?k:4294967296+k)*S,S*=4294967296}return v},e.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(g(this))return"0";if(y(this))return"-"+b(this).toString(v);const S=u(Math.pow(v,6));var C=this;let k="";for(;;){const T=I(C,S).g;C=x(C,T.j(S));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(v);if(C=T,g(C))return N+k;for(;N.length<6;)N="0"+N;k=N+k}},e.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function g(v){if(v.h!=0)return!1;for(let S=0;S<v.g.length;S++)if(v.g[S]!=0)return!1;return!0}function y(v){return v.h==-1}e.l=function(v){return v=x(this,v),y(v)?-1:g(v)?0:1};function b(v){const S=v.g.length,C=[];for(let k=0;k<S;k++)C[k]=~v.g[k];return new s(C,~v.h).add(p)}e.abs=function(){return y(this)?b(this):this},e.add=function(v){const S=Math.max(this.g.length,v.g.length),C=[];let k=0;for(let T=0;T<=S;T++){let N=k+(this.i(T)&65535)+(v.i(T)&65535),j=(N>>>16)+(this.i(T)>>>16)+(v.i(T)>>>16);k=j>>>16,N&=65535,j&=65535,C[T]=j<<16|N}return new s(C,C[C.length-1]&-2147483648?-1:0)};function x(v,S){return v.add(b(S))}e.j=function(v){if(g(this)||g(v))return f;if(y(this))return y(v)?b(this).j(b(v)):b(b(this).j(v));if(y(v))return b(this.j(b(v)));if(this.l(m)<0&&v.l(m)<0)return u(this.m()*v.m());const S=this.g.length+v.g.length,C=[];for(var k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let T=0;T<v.g.length;T++){const N=this.i(k)>>>16,j=this.i(k)&65535,Q=v.i(T)>>>16,se=v.i(T)&65535;C[2*k+2*T]+=j*se,E(C,2*k+2*T),C[2*k+2*T+1]+=N*se,E(C,2*k+2*T+1),C[2*k+2*T+1]+=j*Q,E(C,2*k+2*T+1),C[2*k+2*T+2]+=N*Q,E(C,2*k+2*T+2)}for(v=0;v<S;v++)C[v]=C[2*v+1]<<16|C[2*v];for(v=S;v<2*S;v++)C[v]=0;return new s(C,0)};function E(v,S){for(;(v[S]&65535)!=v[S];)v[S+1]+=v[S]>>>16,v[S]&=65535,S++}function A(v,S){this.g=v,this.h=S}function I(v,S){if(g(S))throw Error("division by zero");if(g(v))return new A(f,f);if(y(v))return S=I(b(v),S),new A(b(S.g),b(S.h));if(y(S))return S=I(v,b(S)),new A(b(S.g),S.h);if(v.g.length>30){if(y(v)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=p,k=S;k.l(v)<=0;)C=R(C),k=R(k);var T=O(C,1),N=O(k,1);for(k=O(k,2),C=O(C,2);!g(k);){var j=N.add(k);j.l(v)<=0&&(T=T.add(C),N=j),k=O(k,1),C=O(C,1)}return S=x(v,T.j(S)),new A(T,S)}for(T=f;v.l(S)>=0;){for(C=Math.max(1,Math.floor(v.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),N=u(C),j=N.j(S);y(j)||j.l(v)>0;)C-=k,N=u(C),j=N.j(S);g(N)&&(N=p),T=T.add(N),v=x(v,j)}return new A(T,v)}e.B=function(v){return I(this,v).h},e.and=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)&v.i(k);return new s(C,this.h&v.h)},e.or=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)|v.i(k);return new s(C,this.h|v.h)},e.xor=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)^v.i(k);return new s(C,this.h^v.h)};function R(v){const S=v.g.length+1,C=[];for(let k=0;k<S;k++)C[k]=v.i(k)<<1|v.i(k-1)>>>31;return new s(C,v.h)}function O(v,S){const C=S>>5;S%=32;const k=v.g.length-C,T=[];for(let N=0;N<k;N++)T[N]=S>0?v.i(N+C)>>>S|v.i(N+C+1)<<32-S:v.i(N+C);return new s(T,v.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,GI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,sa=s}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QI,Nl,YI,kd,Lv,XI,ZI,JI;(function(){var e,t=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var w=0;w<h.length;++w){var P=h[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,w){if(w)e:{var P=n;h=h.split(".");for(var D=0;D<h.length-1;D++){var M=h[D];if(!(M in P))break e;P=P[M]}h=h[h.length-1],D=P[h],w=w(D),w!=D&&w!=null&&t(P,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var P=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&P.push([D,w[D]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,P){return h.call.apply(h.bind,arguments)}function u(h,w,P){return u=l,u.apply(null,arguments)}function c(h,w){var P=Array.prototype.slice.call(arguments,1);return function(){var D=P.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function f(h,w){function P(){}P.prototype=w.prototype,h.Z=w.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(D,M,V){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return w.prototype[M].apply(D,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const w=h.length;if(w>0){const P=Array(w);for(let D=0;D<w;D++)P[D]=h[D];return P}return[]}function g(h,w){for(let D=1;D<arguments.length;D++){const M=arguments[D];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=h.length||0;const V=M.length||0;h.length=P+V;for(let G=0;G<V;G++)h[P+G]=M[G]}else h.push(M)}}class y{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(h){s.setTimeout(()=>{throw h},0)}function x(){var h=v;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class E{constructor(){this.h=this.g=null}add(w,P){const D=A.get();D.set(w,P),this.h?this.h.next=D:this.g=D,this.h=D}}var A=new y(()=>new I,h=>h.reset());class I{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let R,O=!1,v=new E,S=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(C)}};function C(){for(var h;h=x();){try{h.h.call(h.g)}catch(P){b(P)}var w=A;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}O=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,w),s.removeEventListener("test",P,w)}catch{}return h}();function j(h){return/^[\s\xa0]*$/.test(h)}function Q(h,w){T.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(Q,T),Q.prototype.init=function(h,w){const P=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(P=="mouseover"?w=h.fromElement:P=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),de=0;function oe(h,w,P,D,M){this.listener=h,this.proxy=null,this.src=w,this.type=P,this.capture=!!D,this.ha=M,this.key=++de,this.da=this.fa=!1}function U(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,w,P){for(const D in h)w.call(P,h[D],D,h)}function ne(h,w){for(const P in h)w.call(void 0,h[P],P,h)}function me(h){const w={};for(const P in h)w[P]=h[P];return w}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(h,w){let P,D;for(let M=1;M<arguments.length;M++){D=arguments[M];for(P in D)h[P]=D[P];for(let V=0;V<be.length;V++)P=be[V],Object.prototype.hasOwnProperty.call(D,P)&&(h[P]=D[P])}}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,w,P,D,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const G=bt(h,w,D,M);return G>-1?(w=h[G],P||(w.fa=!1)):(w=new oe(w,this.src,V,!!D,M),w.fa=P,h.push(w)),w};function qt(h,w){const P=w.type;if(P in h.g){var D=h.g[P],M=Array.prototype.indexOf.call(D,w,void 0),V;(V=M>=0)&&Array.prototype.splice.call(D,M,1),V&&(U(w),h.g[P].length==0&&(delete h.g[P],h.h--))}}function bt(h,w,P,D){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==w&&V.capture==!!P&&V.ha==D)return M}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Qn={};function B(h,w,P,D,M){if(Array.isArray(w)){for(let V=0;V<w.length;V++)B(h,w[V],P,D,M);return null}return P=ce(P),h&&h[se]?h.J(w,P,o(D)?!!D.capture:!1,M):fe(h,w,P,!1,D,M)}function fe(h,w,P,D,M,V){if(!w)throw Error("Invalid event type");const G=o(M)?!!M.capture:!!M;let pe=H(h);if(pe||(h[Ue]=pe=new Re(h)),P=pe.add(w,P,D,G,V),P.proxy)return P;if(D=ye(),P.proxy=D,D.src=h,D.listener=P,h.addEventListener)N||(M=G),M===void 0&&(M=!1),h.addEventListener(w.toString(),D,M);else if(h.attachEvent)h.attachEvent(Ce(w.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function h(P){return w.call(h.src,h.listener,P)}const w=z;return h}function q(h,w,P,D,M){if(Array.isArray(w))for(var V=0;V<w.length;V++)q(h,w[V],P,D,M);else D=o(D)?!!D.capture:!!D,P=ce(P),h&&h[se]?(h=h.i,V=String(w).toString(),V in h.g&&(w=h.g[V],P=bt(w,P,D,M),P>-1&&(U(w[P]),Array.prototype.splice.call(w,P,1),w.length==0&&(delete h.g[V],h.h--)))):h&&(h=H(h))&&(w=h.g[w.toString()],h=-1,w&&(h=bt(w,P,D,M)),(P=h>-1?w[h]:null)&&ft(P))}function ft(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[se])qt(w.i,h);else{var P=h.type,D=h.proxy;w.removeEventListener?w.removeEventListener(P,D,h.capture):w.detachEvent?w.detachEvent(Ce(P),D):w.addListener&&w.removeListener&&w.removeListener(D),(P=H(w))?(qt(P,h),P.h==0&&(P.src=null,w[Ue]=null)):U(h)}}}function Ce(h){return h in Qn?Qn[h]:Qn[h]="on"+h}function z(h,w){if(h.da)h=!0;else{w=new Q(w,this);const P=h.listener,D=h.ha||h.src;h.fa&&ft(h),h=P.call(D,w)}return h}function H(h){return h=h[Ue],h instanceof Re?h:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function ce(h){return typeof h=="function"?h:(h[Z]||(h[Z]=function(w){return h.handleEvent(w)}),h[Z])}function he(){k.call(this),this.i=new Re(this),this.M=this,this.G=null}f(he,k),he.prototype[se]=!0,he.prototype.removeEventListener=function(h,w,P,D){q(this,h,w,P,D)};function we(h,w){var P,D=h.G;if(D)for(P=[];D;D=D.G)P.push(D);if(h=h.M,D=w.type||w,typeof w=="string")w=new T(w,h);else if(w instanceof T)w.target=w.target||h;else{var M=w;w=new T(D,h),_t(w,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=w.g=P[G],M=ht(V,D,!0,w)&&M;if(V=w.g=h,M=ht(V,D,!0,w)&&M,M=ht(V,D,!1,w)&&M,P)for(G=0;G<P.length;G++)V=w.g=P[G],M=ht(V,D,!1,w)&&M}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const P=h.g[w];for(let D=0;D<P.length;D++)U(P[D]);delete h.g[w],h.h--}}this.G=null},he.prototype.J=function(h,w,P,D){return this.i.add(String(h),w,!1,P,D)},he.prototype.K=function(h,w,P,D){return this.i.add(String(h),w,!0,P,D)};function ht(h,w,P,D){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let M=!0;for(let V=0;V<w.length;++V){const G=w[V];if(G&&!G.da&&G.capture==P){const pe=G.listener,Et=G.ha||G.src;G.fa&&qt(h.i,G),M=pe.call(Et,D)!==!1&&M}}return M&&!D.defaultPrevented}function Yn(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(h,w||0)}function tb(h){h.g=Yn(()=>{h.g=null,h.i&&(h.i=!1,tb(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Z2 extends k{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:tb(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(h){k.call(this),this.h=h,this.g={}}f(Qo,k);var rb=[];function nb(h){K(h.g,function(w,P){this.g.hasOwnProperty(P)&&ft(w)},h),h.g={}}Qo.prototype.N=function(){Qo.Z.N.call(this),nb(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mm=s.JSON.stringify,J2=s.JSON.parse,eM=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function ib(){}function ab(){}var Yo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gm(){T.call(this,"d")}f(gm,T);function vm(){T.call(this,"c")}f(vm,T);var Ta={},sb=null;function Sc(){return sb=sb||new he}Ta.Ia="serverreachability";function ob(h){T.call(this,Ta.Ia,h)}f(ob,T);function Xo(h){const w=Sc();we(w,new ob(w))}Ta.STAT_EVENT="statevent";function lb(h,w){T.call(this,Ta.STAT_EVENT,h),this.stat=w}f(lb,T);function cr(h){const w=Sc();we(w,new lb(w,h))}Ta.Ja="timingevent";function ub(h,w){T.call(this,Ta.Ja,h),this.size=w}f(ub,T);function Zo(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function Jo(){this.g=!0}Jo.prototype.ua=function(){this.g=!1};function tM(h,w,P,D,M,V){h.info(function(){if(h.g)if(V){var G="",pe=V.split("&");for(let De=0;De<pe.length;De++){var Et=pe[De].split("=");if(Et.length>1){const kt=Et[0];Et=Et[1];const jn=kt.split("_");G=jn.length>=2&&jn[1]=="type"?G+(kt+"="+Et+"&"):G+(kt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+D+") [attempt "+M+"]: "+w+`
`+P+`
`+G})}function rM(h,w,P,D,M,V,G){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+M+"]: "+w+`
`+P+`
`+V+" "+G})}function bs(h,w,P,D){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+iM(h,P)+(D?" "+D:"")})}function nM(h,w){h.info(function(){return"TIMEOUT: "+w})}Jo.prototype.info=function(){};function iM(h,w){if(!h.g)return w;if(!w)return null;try{const V=JSON.parse(w);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var P=V[h];if(!(P.length<2)){var D=P[1];if(Array.isArray(D)&&!(D.length<1)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<D.length;G++)D[G]=""}}}}return mm(V)}catch{return w}}var Ac={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cb={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},db;function ym(){}f(ym,ib),ym.prototype.g=function(){return new XMLHttpRequest},db=new ym;function el(h){return encodeURIComponent(String(h))}function aM(h){var w=1;h=h.split(":");const P=[];for(;w>0&&h.length;)P.push(h.shift()),w--;return h.length&&P.push(h.join(":")),P}function ki(h,w,P,D){this.j=h,this.i=w,this.l=P,this.S=D||1,this.V=new Qo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fb}function fb(){this.i=null,this.g="",this.h=!1}var hb={},wm={};function xm(h,w,P){h.M=1,h.A=Tc(In(w)),h.u=P,h.R=!0,pb(h,null)}function pb(h,w){h.F=Date.now(),Pc(h),h.B=In(h.A);var P=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),Tb(P.i,"t",D),h.C=0,P=h.j.L,h.h=new fb,h.g=Wb(h.j,P?w:null,!h.u),h.P>0&&(h.O=new Z2(u(h.Y,h,h.g),h.P)),w=h.V,P=h.g,D=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(rb[0]=M.toString()),M=rb);for(let V=0;V<M.length;V++){const G=B(P,M[V],D||w.handleEvent,!1,w.h||w);if(!G)break;w.g[G.key]=G}w=h.J?me(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Xo(),tM(h.i,h.v,h.B,h.l,h.S,h.u)}ki.prototype.ba=function(h){h=h.target;const w=this.O;w&&Mi(h)==3?w.j():this.Y(h)},ki.prototype.Y=function(h){try{if(h==this.g)e:{const pe=Mi(this.g),Et=this.g.ya(),De=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||Rb(this.g)))){this.K||pe!=4||Et==7||(Et==8||De<=0?Xo(3):Xo(2)),_m(this);var w=this.g.ca();this.X=w;var P=sM(this);if(this.o=w==200,rM(this.i,this.v,this.B,this.l,this.S,pe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(D)){var V=D;break t}}V=null}if(h=V)bs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bm(this,h);else{this.o=!1,this.m=3,cr(12),Ca(this),tl(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<P.length;)if(kt=oM(this,P),kt==wm){pe==4&&(this.m=4,cr(14),h=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==hb){this.m=4,cr(15),bs(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else bs(this.i,this.l,kt,null),bm(this,kt);if(mb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||P.length!=0||this.h.h||(this.m=1,cr(16),h=!1),this.o=this.o&&h,!h)bs(this.i,this.l,P,"[Invalid Chunked Response]"),Ca(this),tl(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),jm(G),G.P=!0,cr(11))}}else bs(this.i,this.l,P,null),bm(this,P);pe==4&&Ca(this),this.o&&!this.K&&(pe==4?zb(this.j,this):(this.o=!1,Pc(this)))}else _M(this.g),w==400&&P.indexOf("Unknown SID")>0?(this.m=3,cr(12)):(this.m=0,cr(13)),Ca(this),tl(this)}}}catch{}finally{}};function sM(h){if(!mb(h))return h.g.la();const w=Rb(h.g);if(w==="")return"";let P="";const D=w.length,M=Mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ca(h),tl(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<D;V++)h.h.h=!0,P+=h.h.i.decode(w[V],{stream:!(M&&V==D-1)});return w.length=0,h.h.g+=P,h.C=0,h.h.g}function mb(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oM(h,w){var P=h.C,D=w.indexOf(`
`,P);return D==-1?wm:(P=Number(w.substring(P,D)),isNaN(P)?hb:(D+=1,D+P>w.length?wm:(w=w.slice(D,D+P),h.C=D+P,w)))}ki.prototype.cancel=function(){this.K=!0,Ca(this)};function Pc(h){h.T=Date.now()+h.H,gb(h,h.H)}function gb(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Zo(u(h.aa,h),w)}function _m(h){h.D&&(s.clearTimeout(h.D),h.D=null)}ki.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(nM(this.i,this.B),this.M!=2&&(Xo(),cr(17)),Ca(this),this.m=2,tl(this)):gb(this,this.T-h)};function tl(h){h.j.I==0||h.K||zb(h.j,h)}function Ca(h){_m(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,nb(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function bm(h,w){try{var P=h.j;if(P.I!=0&&(P.g==h||Em(P.h,h))){if(!h.L&&Em(P.h,h)&&P.I==3){try{var D=P.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var M=D;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)Oc(P),jc(P);else break e;Im(P),cr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Zo(u(P.Va,P),6e3));wb(P.h)<=1&&P.ta&&(P.ta=void 0)}else ja(P,11)}else if((h.L||P.g==h)&&Oc(P),!j(w))for(M=P.Ba.g.parse(w),w=0;w<M.length;w++){let De=M[w];const kt=De[0];if(!(kt<=P.K))if(P.K=kt,De=De[1],P.I==2)if(De[0]=="c"){P.M=De[1],P.ba=De[2];const jn=De[3];jn!=null&&(P.ka=jn,P.j.info("VER="+P.ka));const Na=De[4];Na!=null&&(P.za=Na,P.j.info("SVER="+P.za));const Li=De[5];Li!=null&&typeof Li=="number"&&Li>0&&(D=1.5*Li,P.O=D,P.j.info("backChannelRequestTimeoutMs_="+D)),D=P;const Vi=h.g;if(Vi){const Rc=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var V=D.h;V.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Sm(V,V.h),V.h=null))}if(D.G){const Nm=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Nm&&(D.wa=Nm,Be(D.J,D.G,Nm))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),D=P;var G=h;if(D.na=qb(D,D.L?D.ba:null,D.W),G.L){xb(D.h,G);var pe=G,Et=D.O;Et&&(pe.H=Et),pe.D&&(_m(pe),Pc(pe)),D.g=G}else Fb(D);P.i.length>0&&Nc(P)}else De[0]!="stop"&&De[0]!="close"||ja(P,7);else P.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ja(P,7):Cm(P):De[0]!="noop"&&P.l&&P.l.qa(De),P.A=0)}}Xo(4)}catch{}}var lM=class{constructor(h,w){this.g=h,this.map=w}};function vb(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wb(h){return h.h?1:h.g?h.g.size:0}function Em(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Sm(h,w){h.g?h.g.add(w):h.h=w}function xb(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}vb.prototype.cancel=function(){if(this.i=_b(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _b(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const P of h.g.values())w=w.concat(P.G);return w}return m(h.i)}var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uM(h,w){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const D=h[P].indexOf("=");let M,V=null;D>=0?(M=h[P].substring(0,D),V=h[P].substring(D+1)):M=h[P],w(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ri(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Ri?(this.l=h.l,rl(this,h.j),this.o=h.o,this.g=h.g,nl(this,h.u),this.h=h.h,Am(this,Cb(h.i)),this.m=h.m):h&&(w=String(h).match(bb))?(this.l=!1,rl(this,w[1]||"",!0),this.o=il(w[2]||""),this.g=il(w[3]||"",!0),nl(this,w[4]),this.h=il(w[5]||"",!0),Am(this,w[6]||"",!0),this.m=il(w[7]||"")):(this.l=!1,this.i=new sl(null,this.l))}Ri.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(al(w,Eb,!0),":");var P=this.g;return(P||w=="file")&&(h.push("//"),(w=this.o)&&h.push(al(w,Eb,!0),"@"),h.push(el(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(al(P,P.charAt(0)=="/"?fM:dM,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",al(P,pM)),h.join("")},Ri.prototype.resolve=function(h){const w=In(this);let P=!!h.j;P?rl(w,h.j):P=!!h.o,P?w.o=h.o:P=!!h.g,P?w.g=h.g:P=h.u!=null;var D=h.h;if(P)nl(w,h.u);else if(P=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var M=w.h.lastIndexOf("/");M!=-1&&(D=w.h.slice(0,M+1)+D)}if(M=D,M==".."||M==".")D="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){D=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const pe=M[G++];pe=="."?D&&G==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),D&&G==M.length&&V.push("")):(V.push(pe),D=!0)}D=V.join("/")}else D=M}return P?w.h=D:P=h.i.toString()!=="",P?Am(w,Cb(h.i)):P=!!h.m,P&&(w.m=h.m),w};function In(h){return new Ri(h)}function rl(h,w,P){h.j=P?il(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function nl(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Am(h,w,P){w instanceof sl?(h.i=w,mM(h.i,h.l)):(P||(w=al(w,hM)),h.i=new sl(w,h.l))}function Be(h,w,P){h.i.set(w,P)}function Tc(h){return Be(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function il(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function al(h,w,P){return typeof h=="string"?(h=encodeURI(h).replace(w,cM),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Eb=/[#\/\?@]/g,dM=/[#\?:]/g,fM=/[#\?]/g,hM=/[#\?@]/g,pM=/#/g;function sl(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Ia(h){h.g||(h.g=new Map,h.h=0,h.i&&uM(h.i,function(w,P){h.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}e=sl.prototype,e.add=function(h,w){Ia(this),this.i=null,h=Es(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(w),this.h+=1,this};function Sb(h,w){Ia(h),w=Es(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Ab(h,w){return Ia(h),w=Es(h,w),h.g.has(w)}e.forEach=function(h,w){Ia(this),this.g.forEach(function(P,D){P.forEach(function(M){h.call(w,M,D,this)},this)},this)};function Pb(h,w){Ia(h);let P=[];if(typeof w=="string")Ab(h,w)&&(P=P.concat(h.g.get(Es(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)P=P.concat(h[w]);return P}e.set=function(h,w){return Ia(this),this.i=null,h=Es(this,h),Ab(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},e.get=function(h,w){return h?(h=Pb(this,h),h.length>0?String(h[0]):w):w};function Tb(h,w,P){Sb(h,w),P.length>0&&(h.i=null,h.g.set(Es(h,w),m(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var P=w[D];const M=el(P);P=Pb(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+el(P[V])),h.push(G)}}return this.i=h.join("&")};function Cb(h){const w=new sl;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function Es(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function mM(h,w){w&&!h.j&&(Ia(h),h.i=null,h.g.forEach(function(P,D){const M=D.toLowerCase();D!=M&&(Sb(this,D),Tb(this,M,P))},h)),h.j=w}function gM(h,w){const P=new Jo;if(s.Image){const D=new Image;D.onload=c(Di,P,"TestLoadImage: loaded",!0,w,D),D.onerror=c(Di,P,"TestLoadImage: error",!1,w,D),D.onabort=c(Di,P,"TestLoadImage: abort",!1,w,D),D.ontimeout=c(Di,P,"TestLoadImage: timeout",!1,w,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else w(!1)}function vM(h,w){const P=new Jo,D=new AbortController,M=setTimeout(()=>{D.abort(),Di(P,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:D.signal}).then(V=>{clearTimeout(M),V.ok?Di(P,"TestPingServer: ok",!0,w):Di(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(M),Di(P,"TestPingServer: error",!1,w)})}function Di(h,w,P,D,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),D(P)}catch{}}function yM(){this.g=new eM}function Pm(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Pm,ib),Pm.prototype.g=function(){return new Cc(this.i,this.h)};function Cc(h,w){he.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Cc,he),e=Cc.prototype,e.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,ll(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ib(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ib(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ol(this):ll(this),this.readyState==3&&Ib(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,ol(this))},e.Na=function(h){this.g&&(this.response=h,ol(this))},e.ga=function(){this.g&&ol(this)};function ol(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ll(h)}e.setRequestHeader=function(h,w){this.A.append(h,w)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=w.next();return h.join(`\r
`)};function ll(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jb(h){let w="";return K(h,function(P,D){w+=D,w+=":",w+=P,w+=`\r
`}),w}function Tm(h,w,P){e:{for(D in P){var D=!1;break e}D=!0}D||(P=jb(P),typeof h=="string"?P!=null&&el(P):Be(h,w,P))}function it(h){he.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(it,he);var wM=/^https?$/i,xM=["POST","PUT"];e=it.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,w,P,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():db.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(V){Nb(this,V);return}if(h=P||"",P=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var M in D)P.set(M,D[M]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const V of D.keys())P.set(V,D.get(V));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(xM,w,void 0)>=0)||D||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){Nb(this,V)}};function Nb(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,Ob(h),Ic(h)}function Ob(h){h.A||(h.A=!0,we(h,"complete"),we(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,we(this,"complete"),we(this,"abort"),Ic(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),it.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?kb(this):this.Xa())},e.Xa=function(){kb(this)};function kb(h){if(h.h&&typeof a<"u"){if(h.v&&Mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(we(h,"readystatechange"),Mi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var D;if(D=V===0){let G=String(h.D).match(bb)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),D=!wM.test(G?G.toLowerCase():"")}P=D}if(P)we(h,"complete"),we(h,"success");else{h.o=6;try{var M=Mi(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",Ob(h)}}finally{Ic(h)}}}}function Ic(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,w||we(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Mi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),J2(w)}};function Rb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(h){const w={};h=(h.g&&Mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(j(h[D]))continue;var P=aM(h[D]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=w[M]||[];w[M]=V,V.push(P)}ne(w,function(D){return D.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(h,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||w}function Db(h){this.za=0,this.i=[],this.j=new Jo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ul("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ul("baseRetryDelayMs",5e3,h),this.Za=ul("retryDelaySeedMs",1e4,h),this.Ta=ul("forwardChannelMaxRetries",2,h),this.va=ul("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new vb(h&&h.concurrentRequestLimit),this.Ba=new yM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Db.prototype,e.ka=8,e.I=1,e.connect=function(h,w,P,D){cr(0),this.W=h,this.H=w||{},P&&D!==void 0&&(this.H.OSID=P,this.H.OAID=D),this.F=this.X,this.J=qb(this,null,this.W),Nc(this)};function Cm(h){if(Mb(h),h.I==3){var w=h.V++,P=In(h.J);if(Be(P,"SID",h.M),Be(P,"RID",w),Be(P,"TYPE","terminate"),cl(h,P),w=new ki(h,h.j,w),w.M=2,w.A=Tc(In(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=w.A,P=!0),P||(w.g=Wb(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Pc(w)}Bb(h)}function jc(h){h.g&&(jm(h),h.g.cancel(),h.g=null)}function Mb(h){jc(h),h.v&&(s.clearTimeout(h.v),h.v=null),Oc(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Nc(h){if(!yb(h.h)&&!h.m){h.m=!0;var w=h.Ea;R||S(),O||(R(),O=!0),v.add(w,h),h.D=0}}function bM(h,w){return wb(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Zo(u(h.Ea,h,w),Ub(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new ki(this,this.j,h);let V=this.o;if(this.U&&(V?(V=me(V),_t(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var D=this.i[P];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=Vb(this,M,w),P=In(this.J),Be(P,"RID",h),Be(P,"CVER",22),this.G&&Be(P,"X-HTTP-Session-Id",this.G),cl(this,P),V&&(this.R?w="headers="+el(jb(V))+"&"+w:this.u&&Tm(P,this.u,V)),Sm(this.h,M),this.Ra&&Be(P,"TYPE","init"),this.S?(Be(P,"$req",w),Be(P,"SID","null"),M.U=!0,xm(M,P,null)):xm(M,P,w),this.I=2}}else this.I==3&&(h?Lb(this,h):this.i.length==0||yb(this.h)||Lb(this))};function Lb(h,w){var P;w?P=w.l:P=h.V++;const D=In(h.J);Be(D,"SID",h.M),Be(D,"RID",P),Be(D,"AID",h.K),cl(h,D),h.u&&h.o&&Tm(D,h.u,h.o),P=new ki(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Vb(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Sm(h.h,P),xm(P,D,w)}function cl(h,w){h.H&&K(h.H,function(P,D){Be(w,D,P)}),h.l&&K({},function(P,D){Be(w,D,P)})}function Vb(h,w,P){P=Math.min(h.i.length,P);const D=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let pe=-1;for(;;){const Et=["count="+P];pe==-1?P>0?(pe=M[0].g,Et.push("ofs="+pe)):pe=0:Et.push("ofs="+pe);let De=!0;for(let kt=0;kt<P;kt++){var V=M[kt].g;const jn=M[kt].map;if(V-=pe,V<0)pe=Math.max(0,M[kt].g-100),De=!1;else try{V="req"+V+"_"||"";try{var G=jn instanceof Map?jn:Object.entries(jn);for(const[Na,Li]of G){let Vi=Li;o(Li)&&(Vi=mm(Li)),Et.push(V+Na+"="+encodeURIComponent(Vi))}}catch(Na){throw Et.push(V+"type="+encodeURIComponent("_badmap")),Na}}catch{D&&D(jn)}}if(De){G=Et.join("&");break e}}G=void 0}return h=h.i.splice(0,P),w.G=h,G}function Fb(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;R||S(),O||(R(),O=!0),v.add(w,h),h.A=0}}function Im(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Zo(u(h.Da,h),Ub(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,$b(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Zo(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cr(10),jc(this),$b(this))};function jm(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function $b(h){h.g=new ki(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=In(h.na);Be(w,"RID","rpc"),Be(w,"SID",h.M),Be(w,"AID",h.K),Be(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Be(w,"TO",h.ia),Be(w,"TYPE","xmlhttp"),cl(h,w),h.u&&h.o&&Tm(w,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=Tc(In(w)),P.u=null,P.R=!0,pb(P,h)}e.Va=function(){this.C!=null&&(this.C=null,jc(this),Im(this),cr(19))};function Oc(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function zb(h,w){var P=null;if(h.g==w){Oc(h),jm(h),h.g=null;var D=2}else if(Em(h.h,w))P=w.G,xb(h.h,w),D=1;else return;if(h.I!=0){if(w.o)if(D==1){P=w.u?w.u.length:0,w=Date.now()-w.F;var M=h.D;D=Sc(),we(D,new ub(D,P)),Nc(h)}else Fb(h);else if(M=w.m,M==3||M==0&&w.X>0||!(D==1&&bM(h,w)||D==2&&Im(h)))switch(P&&P.length>0&&(w=h.h,w.i=w.i.concat(P)),M){case 1:ja(h,5);break;case 4:ja(h,10);break;case 3:ja(h,6);break;default:ja(h,2)}}}function Ub(h,w){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*w}function ja(h,w){if(h.j.info("Error code "+w),w==2){var P=u(h.bb,h),D=h.Ua;const M=!D;D=new Ri(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||rl(D,"https"),Tc(D),M?gM(D.toString(),P):vM(D.toString(),P)}else cr(2);h.I=0,h.l&&h.l.pa(w),Bb(h),Mb(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),cr(2)):(this.j.info("Failed to ping google.com"),cr(1))};function Bb(h){if(h.I=0,h.ja=[],h.l){const w=_b(h.h);(w.length!=0||h.i.length!=0)&&(g(h.ja,w),g(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function qb(h,w,P){var D=P instanceof Ri?In(P):new Ri(P);if(D.g!="")w&&(D.g=w+"."+D.g),nl(D,D.u);else{var M=s.location;D=M.protocol,w=w?w+"."+M.hostname:M.hostname,M=+M.port;const V=new Ri(null);D&&rl(V,D),w&&(V.g=w),M&&nl(V,M),P&&(V.h=P),D=V}return P=h.G,w=h.wa,P&&w&&Be(D,P,w),Be(D,"VER",h.ka),cl(h,D),D}function Wb(h,w,P){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new it(new Pm({ab:P})):new it(h.ma),w.Fa(h.L),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kb(){}e=Kb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function kc(){}kc.prototype.g=function(h,w){return new Or(h,w)};function Or(h,w){he.call(this),this.g=new Db(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!j(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Ss(this)}f(Or,he),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Cm(this.g)},Or.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=mm(h),h=P);w.i.push(new lM(w.Ya++,h)),w.I==3&&Nc(w)},Or.prototype.N=function(){this.g.l=null,delete this.j,Cm(this.g),delete this.g,Or.Z.N.call(this)};function Hb(h){gm.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const P in w){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(Hb,gm);function Gb(){vm.call(this),this.status=1}f(Gb,vm);function Ss(h){this.g=h}f(Ss,Kb),Ss.prototype.ra=function(){we(this.g,"a")},Ss.prototype.qa=function(h){we(this.g,new Hb(h))},Ss.prototype.pa=function(h){we(this.g,new Gb)},Ss.prototype.oa=function(){we(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,JI=function(){return new kc},ZI=function(){return Sc()},XI=Ta,Lv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,kd=Ac,cb.COMPLETE="complete",YI=cb,ab.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",he.prototype.listen=he.prototype.J,Nl=ab,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,QI=it}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const x1="@firebase/firestore",_1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new UI("@firebase/firestore");function js(){return is.logLevel}function X(e,...t){if(is.logLevel<=Se.DEBUG){const r=t.map(tw);is.debug(`Firestore (${Do}): ${e}`,...r)}}function mi(e,...t){if(is.logLevel<=Se.ERROR){const r=t.map(tw);is.error(`Firestore (${Do}): ${e}`,...r)}}function po(e,...t){if(is.logLevel<=Se.WARN){const r=t.map(tw);is.warn(`Firestore (${Do}): ${e}`,...r)}}function tw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,ej(e,n,r)}function ej(e,t,r){let n=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw mi(n),new Error(n)}function Ie(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||ej(t,i,n)}function ue(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ro{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(nr.UNAUTHENTICATED))}shutdown(){}}class L3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class V3{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ie(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oi)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ie(typeof n.accessToken=="string",31837,{l:n}),new tj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ie(t===null||typeof t=="string",2055,{h:t}),new nr(t)}}class F3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new F3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ie(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ie(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new b1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=U3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function xe(e,t){return e<t?-1:e>t?1:0}function Vv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return ug(i)===ug(a)?xe(i,a):ug(i)?1:-1}return xe(e.length,t.length)}const B3=55296,q3=57343;function ug(e){const t=e.charCodeAt(0);return t>=B3&&t<=q3}function mo(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__name__";class kn{constructor(t,r,n){r===void 0?r=0:r>t.length&&ae(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ae(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return kn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof kn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=kn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return xe(t.length,r.length)}static compareSegments(t,r){const n=kn.isNumericId(t),i=kn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?kn.extractNumericId(t).compare(kn.extractNumericId(r)):Vv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class Fe extends kn{construct(t,r,n){return new Fe(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Fe(r)}static emptyPath(){return new Fe([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends kn{construct(t,r,n){return new Gt(t,r,n)}static isValidIdentifier(t){return W3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E1}static keyField(){return new Gt([E1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gt(r)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie(Fe.fromString(t))}static fromName(t){return new ie(Fe.fromString(t).popFirst(5))}static empty(){return new ie(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Fe.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new Fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function K3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function S1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function A1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function $h(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ae(12329,{type:typeof e})}function Ir(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=$h(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e,t){const r={typeString:e};return t&&(r.value=t),r}function qu(e,t){if(!nj(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=-62135596800,T1=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*T1);return new Ke(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<P1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T1}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qu(t,Ke._jsonSchema))return new Ke(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-P1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:yt("string",Ke._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(t){return new le(t)}static min(){return new le(new Ke(0,0))}static max(){return new le(new Ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function H3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=le.fromTimestamp(n===1e9?new Ke(r+1,0):new Ke(r,n));return new da(i,ie.empty(),t)}function G3(e){return new da(e.readTime,e.key,yu)}class da{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new da(le.min(),ie.empty(),yu)}static max(){return new da(le.max(),ie.empty(),yu)}}function Q3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:xe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==Y3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof $?r:$.resolve(r)}catch(r){return $.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):$.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):$.reject(r)}static resolve(t){return new $((r,n)=>{r(t)})}static reject(t){return new $((r,n)=>{n(t)})}static waitFor(t){return new $((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=$.resolve(!1);for(const n of t)r=r.next(i=>i?$.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new $((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new $((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function Z3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Lo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-1;function Uh(e){return e==null}function wf(e){return e===0&&1/e==-1/0}function J3(e){return typeof e=="number"&&Number.isInteger(e)&&!wf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="";function eF(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=C1(t)),t=tF(e.get(r),t);return C1(t)}function tF(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case ij:r+="";break;default:r+=a}}return r}function C1(e){return e+ij+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ba(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function aj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||Ht.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ed(this.root,t,this.comparator,!0)}}class ed{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ht(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ae(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ht(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new j1(this.data.getIterator())}getIteratorFrom(t){return new j1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ct)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ct(this.comparator);return r.data=t,r}}class j1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.fields=t,t.sort(Gt.comparator)}static empty(){return new Lr([])}unionWith(t){let r=new Ct(Gt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Lr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sj("Invalid base64 string: "+a):a}}(t);return new Zt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Zt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const rF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(e){if(Ie(!!e,39018),typeof e=="string"){let t=0;const r=rF.exec(e);if(Ie(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ha(e){return typeof e=="string"?Zt.fromBase64String(e):Zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="server_timestamp",lj="__type__",uj="__previous_value__",cj="__local_write_time__";function iw(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[lj])==null?void 0:n.stringValue)===oj}function Bh(e){const t=e.mapValue.fields[uj];return iw(t)?Bh(t):t}function wu(e){const t=fa(e.mapValue.fields[cj].timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(t,r,n,i,a,s,o,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const xf="(default)";class xu{constructor(t,r){this.projectId=t,this.database=r||xf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="__type__",iF="__max__",td={mapValue:{}},fj="__vector__",_f="value";function pa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iw(e)?4:sF(e)?9007199254740991:aF(e)?10:11:ae(28295,{value:e})}function Wn(e,t){if(e===t)return!0;const r=pa(e);if(r!==pa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wu(e).isEqual(wu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=fa(i.timestampValue),o=fa(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return ha(i.bytesValue).isEqual(ha(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ut(i.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ut(i.integerValue)===ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ut(i.doubleValue),o=ut(a.doubleValue);return s===o?wf(s)===wf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return mo(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(I1(s)!==I1(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Wn(s[l],o[l])))return!1;return!0}(e,t);default:return ae(52216,{left:e})}}function _u(e,t){return(e.values||[]).find(r=>Wn(r,t))!==void 0}function go(e,t){if(e===t)return 0;const r=pa(e),n=pa(t);if(r!==n)return xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xe(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ut(a.integerValue||a.doubleValue),l=ut(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return N1(e.timestampValue,t.timestampValue);case 4:return N1(wu(e),wu(t));case 5:return Vv(e.stringValue,t.stringValue);case 6:return function(a,s){const o=ha(a),l=ha(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=xe(o[u],l[u]);if(c!==0)return c}return xe(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=xe(ut(a.latitude),ut(s.latitude));return o!==0?o:xe(ut(a.longitude),ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return O1(e.arrayValue,t.arrayValue);case 10:return function(a,s){var p,m,g,y;const o=a.fields||{},l=s.fields||{},u=(p=o[_f])==null?void 0:p.arrayValue,c=(m=l[_f])==null?void 0:m.arrayValue,f=xe(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:O1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===td.mapValue&&s===td.mapValue)return 0;if(a===td.mapValue)return 1;if(s===td.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=Vv(l[f],c[f]);if(p!==0)return p;const m=go(o[l[f]],u[c[f]]);if(m!==0)return m}return xe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ae(23264,{he:r})}}function N1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xe(e,t);const r=fa(e),n=fa(t),i=xe(r.seconds,n.seconds);return i!==0?i:xe(r.nanos,n.nanos)}function O1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=go(r[i],n[i]);if(a)return a}return xe(r.length,n.length)}function vo(e){return Fv(e)}function Fv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=fa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return ha(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Fv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Fv(r.fields[s])}`;return i+"}"}(e.mapValue):ae(61005,{value:e})}function Rd(e){switch(pa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bh(e);return t?16+Rd(t):16;case 5:return 2*e.stringValue.length;case 6:return ha(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Rd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return ba(n.fields,(a,s)=>{i+=a.length+Rd(s)}),i}(e.mapValue);default:throw ae(13486,{value:e})}}function k1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $v(e){return!!e&&"integerValue"in e}function aw(e){return!!e&&"arrayValue"in e}function R1(e){return!!e&&"nullValue"in e}function D1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dd(e){return!!e&&"mapValue"in e}function aF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[dj])==null?void 0:n.stringValue)===fj}function Gl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ba(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Gl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Gl(e.arrayValue.values[r]);return t}return{...e}}function sF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.value=t}static empty(){return new Er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Dd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(r)}setAll(t){let r=Gt.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Gl(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Dd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){ba(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Er(Gl(this.value))}}function hj(e){const t=[];return ba(e.fields,(r,n)=>{const i=new Gt([r]);if(Dd(n)){const a=hj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Lr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ar(t,0,le.min(),le.min(),le.min(),Er.empty(),0)}static newFoundDocument(t,r,n,i){return new ar(t,1,r,le.min(),n,i,0)}static newNoDocument(t,r){return new ar(t,2,r,le.min(),le.min(),Er.empty(),0)}static newUnknownDocument(t,r){return new ar(t,3,r,le.min(),le.min(),Er.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,r){this.position=t,this.inclusive=r}}function M1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(s.referenceValue),r.key):n=go(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function L1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Wn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r="asc"){this.field=t,this.dir=r}}function oF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{}class vt extends pj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new uF(t,r,n):r==="array-contains"?new fF(t,n):r==="in"?new hF(t,n):r==="not-in"?new pF(t,n):r==="array-contains-any"?new mF(t,n):new vt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new cF(t,n):new dF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(go(r,this.value)):r!==null&&pa(this.value)===pa(r)&&this.matchesComparison(go(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends pj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new En(t,r)}matches(t){return mj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mj(e){return e.op==="and"}function gj(e){return lF(e)&&mj(e)}function lF(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function zv(e){if(e instanceof vt)return e.field.canonicalString()+e.op.toString()+vo(e.value);if(gj(e))return e.filters.map(t=>zv(t)).join(",");{const t=e.filters.map(r=>zv(r)).join(",");return`${e.op}(${t})`}}function vj(e,t){return e instanceof vt?function(n,i){return i instanceof vt&&n.op===i.op&&n.field.isEqual(i.field)&&Wn(n.value,i.value)}(e,t):e instanceof En?function(n,i){return i instanceof En&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&vj(s,i.filters[o]),!0):!1}(e,t):void ae(19439)}function yj(e){return e instanceof vt?function(r){return`${r.field.canonicalString()} ${r.op} ${vo(r.value)}`}(e):e instanceof En?function(r){return r.op.toString()+" {"+r.getFilters().map(yj).join(" ,")+"}"}(e):"Filter"}class uF extends vt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class cF extends vt{constructor(t,r){super(t,"in",r),this.keys=wj("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class dF extends vt{constructor(t,r){super(t,"not-in",r),this.keys=wj("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function wj(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class fF extends vt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return aw(r)&&_u(r.arrayValue,this.value)}}class hF extends vt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&_u(this.value.arrayValue,r)}}class pF extends vt{constructor(t,r){super(t,"not-in",r)}matches(t){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!_u(this.value.arrayValue,r)}}class mF extends vt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!aw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>_u(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function V1(e,t=null,r=[],n=[],i=null,a=null,s=null){return new gF(e,t,r,n,i,a,s)}function sw(e){const t=ue(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>zv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Uh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>vo(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>vo(n)).join(",")),t.Te=r}return t.Te}function ow(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!oF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!vj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!L1(e.startAt,t.startAt)&&L1(e.endAt,t.endAt)}function Uv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vF(e,t,r,n,i,a,s,o){return new Wu(e,t,r,n,i,a,s,o)}function qh(e){return new Wu(e)}function F1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xj(e){return e.collectionGroup!==null}function Ql(e){const t=ue(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(Gt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Ef(a,n))}),r.has(Gt.keyField().canonicalString())||t.Ie.push(new Ef(Gt.keyField(),n))}return t.Ie}function Vn(e){const t=ue(e);return t.Ee||(t.Ee=yF(t,Ql(e))),t.Ee}function yF(e,t){if(e.limitType==="F")return V1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ef(i.field,a)});const r=e.endAt?new bf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new bf(e.startAt.position,e.startAt.inclusive):null;return V1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Bv(e,t){const r=e.filters.concat([t]);return new Wu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function qv(e,t,r){return new Wu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Wh(e,t){return ow(Vn(e),Vn(t))&&e.limitType===t.limitType}function _j(e){return`${sw(Vn(e))}|lt:${e.limitType}`}function Ns(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>yj(i)).join(", ")}]`),Uh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>vo(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>vo(i)).join(",")),`Target(${n})`}(Vn(e))}; limitType=${e.limitType})`}function Kh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Ql(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=M1(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Ql(n),i)||n.endAt&&!function(s,o,l){const u=M1(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Ql(n),i))}(e,t)}function wF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bj(e){return(t,r)=>{let n=!1;for(const i of Ql(e)){const a=xF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function xF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?go(l,u):ae(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ae(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ba(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return aj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new rt(ie.comparator);function gi(){return _F}const Ej=new rt(ie.comparator);function Ol(...e){let t=Ej;for(const r of e)t=t.insert(r.key,r);return t}function Sj(e){let t=Ej;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ua(){return Yl()}function Aj(){return Yl()}function Yl(){return new gs(e=>e.toString(),(e,t)=>e.isEqual(t))}const bF=new rt(ie.comparator),EF=new Ct(ie.comparator);function _e(...e){let t=EF;for(const r of e)t=t.add(r);return t}const SF=new Ct(xe);function AF(){return SF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function Pj(e){return{integerValue:""+e}}function PF(e,t){return J3(t)?Pj(t):lw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function TF(e,t,r){return e instanceof Sf?function(i,a){const s={fields:{[lj]:{stringValue:oj},[cj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iw(a)&&(a=Bh(a)),a&&(s.fields[uj]=a),{mapValue:s}}(r,t):e instanceof bu?Cj(e,t):e instanceof Eu?Ij(e,t):function(i,a){const s=Tj(i,a),o=$1(s)+$1(i.Ae);return $v(s)&&$v(i.Ae)?Pj(o):lw(i.serializer,o)}(e,t)}function CF(e,t,r){return e instanceof bu?Cj(e,t):e instanceof Eu?Ij(e,t):r}function Tj(e,t){return e instanceof Af?function(n){return $v(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Sf extends Hh{}class bu extends Hh{constructor(t){super(),this.elements=t}}function Cj(e,t){const r=jj(t);for(const n of e.elements)r.some(i=>Wn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Eu extends Hh{constructor(t){super(),this.elements=t}}function Ij(e,t){let r=jj(t);for(const n of e.elements)r=r.filter(i=>!Wn(i,n));return{arrayValue:{values:r}}}class Af extends Hh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function $1(e){return ut(e.integerValue||e.doubleValue)}function jj(e){return aw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function IF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof bu&&i instanceof bu||n instanceof Eu&&i instanceof Eu?mo(n.elements,i.elements,Wn):n instanceof Af&&i instanceof Af?Wn(n.Ae,i.Ae):n instanceof Sf&&i instanceof Sf}(e.transform,t.transform)}class jF{constructor(t,r){this.version=t,this.transformResults=r}}class rn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new rn}static exists(t){return new rn(void 0,t)}static updateTime(t){return new rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Md(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Gh{}function Nj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uw(e.key,rn.none()):new Ku(e.key,e.data,rn.none());{const r=e.data,n=Er.empty();let i=new Ct(Gt.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Ea(e.key,n,new Lr(i.toArray()),rn.none())}}function NF(e,t,r){e instanceof Ku?function(i,a,s){const o=i.value.clone(),l=U1(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Ea?function(i,a,s){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=U1(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Oj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Xl(e,t,r,n){return e instanceof Ku?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=a.value.clone(),c=B1(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Ea?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=B1(a.fieldTransforms,l,s),c=s.data;return c.setAll(Oj(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return Md(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function OF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Tj(n.transform,i||null);a!=null&&(r===null&&(r=Er.empty()),r.set(n.field,a))}return r||null}function z1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&mo(n,i,(a,s)=>IF(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ku extends Gh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ea extends Gh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Oj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function U1(e,t,r){const n=new Map;Ie(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,CF(s,o,r[i]))}return n}function B1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,TF(a,s,t))}return n}class uw extends Gh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kF extends Gh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&NF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Xl(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Xl(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Aj();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=Nj(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(le.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),_e())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(r,n)=>z1(r,n))&&mo(this.baseMutations,t.baseMutations,(r,n)=>z1(r,n))}}class cw{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ie(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return bF}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new cw(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ee;function LF(e){switch(e){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:e})}}function kj(e){if(e===void 0)return mi("GRPC error has no .code"),F.UNKNOWN;switch(e){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:e})}}(Ee=pt||(pt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new sa([4294967295,4294967295],0);function q1(e){const t=VF().encode(e),r=new GI;return r.update(t),new Uint8Array(r.digest())}function W1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new sa([r,n],0),new sa([i,a],0)]}class dw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new kl(`Invalid padding: ${r}`);if(n<0)throw new kl(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new kl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=sa.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(sa.fromNumber(n)));return i.compare(FF)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=q1(t),[n,i]=W1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new dw(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=q1(t),[n,i]=W1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Hu.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Qh(le.min(),i,new rt(xe),gi(),_e())}}class Hu{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Hu(n,r,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Rj{constructor(t,r){this.targetId=t,this.Ce=r}}class Dj{constructor(t,r,n=Zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class K1{constructor(){this.ve=0,this.Fe=H1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=_e(),r=_e(),n=_e();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ae(38017,{changeType:a})}}),new Hu(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=H1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $F{constructor(t){this.Ge=t,this.ze=new Map,this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ae(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Uv(a))if(n===0){const s=new ie(a.path);this.et(r,s,ar.newNoDocument(s,le.min()))}else Ie(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ha(n).toUint8Array()}catch(l){if(l instanceof sj)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new dw(s,i,a)}catch(l){return po(l instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Uv(o.target)){const l=new ie(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,ar.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=_e();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new Qh(t,r,this.Ye,this.je,n);return this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new K1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Ct(xe),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Ct(xe),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function rd(){return new rt(ie.comparator)}function H1(){return new rt(ie.comparator)}const zF={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BF={and:"AND",or:"OR"};class qF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Wv(e,t){return e.useProto3Json||Uh(t)?t:{value:t}}function Pf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WF(e,t){return Pf(e,t.toTimestamp())}function Fn(e){return Ie(!!e,49232),le.fromTimestamp(function(r){const n=fa(r);return new Ke(n.seconds,n.nanos)}(e))}function fw(e,t){return Kv(e,t).canonicalString()}function Kv(e,t){const r=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Lj(e){const t=Fe.fromString(e);return Ie(Uj(t),10190,{key:t.toString()}),t}function Hv(e,t){return fw(e.databaseId,t.path)}function cg(e,t){const r=Lj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie(Fj(r))}function Vj(e,t){return fw(e.databaseId,t)}function KF(e){const t=Lj(e);return t.length===4?Fe.emptyPath():Fj(t)}function Gv(e){return new Fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fj(e){return Ie(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function G1(e,t,r){return{name:Hv(e,t),fields:r.value.mapValue.fields}}function HF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ie(c===void 0||typeof c=="string",58123),Zt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?F.UNKNOWN:kj(u.code);return new Y(c,u.message||"")}(s);r=new Dj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=cg(e,n.document.name),a=Fn(n.document.updateTime),s=n.document.createTime?Fn(n.document.createTime):le.min(),o=new Er({mapValue:{fields:n.document.fields}}),l=ar.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Ld(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=cg(e,n.document),a=n.readTime?Fn(n.readTime):le.min(),s=ar.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Ld([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=cg(e,n.document),a=n.removedTargetIds||[];r=new Ld([],a,i,null)}else{if(!("filter"in t))return ae(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new MF(i,a),o=n.targetId;r=new Rj(o,s)}}return r}function GF(e,t){let r;if(t instanceof Ku)r={update:G1(e,t.key,t.value)};else if(t instanceof uw)r={delete:Hv(e,t.key)};else if(t instanceof Ea)r={update:G1(e,t.key,t.data),updateMask:n6(t.fieldMask)};else{if(!(t instanceof kF))return ae(16599,{Vt:t.type});r={verify:Hv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Sf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Af)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ae(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ae(27497)}(e,t.precondition)),r}function QF(e,t){return e&&e.length>0?(Ie(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?Fn(i.updateTime):Fn(a);return s.isEqual(le.min())&&(s=Fn(a)),new jF(s,i.transformResults||[])}(r,t))):[]}function YF(e,t){return{documents:[Vj(e,t.path)]}}function XF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Vj(e,i);const a=function(u){if(u.length!==0)return zj(En.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Os(p.field),direction:e6(p.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Wv(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function ZF(e){let t=KF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ie(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(f){const p=$j(f);return p instanceof En&&gj(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(p=>function(g){return new Ef(ks(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,Uh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new bf(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new bf(m,p)}(r.endAt)),vF(t,i,s,a,o,"F",l,u)}function JF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function $j(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ks(r.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ks(r.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ks(r.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ks(r.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(e):e.fieldFilter!==void 0?function(r){return vt.create(ks(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return En.create(r.compositeFilter.filters.map(n=>$j(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(r.compositeFilter.op))}(e):ae(30097,{filter:e})}function e6(e){return zF[e]}function t6(e){return UF[e]}function r6(e){return BF[e]}function Os(e){return{fieldPath:e.canonicalString()}}function ks(e){return Gt.fromServerFormat(e.fieldPath)}function zj(e){return e instanceof vt?function(r){if(r.op==="=="){if(D1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NAN"}};if(R1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(D1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NAN"}};if(R1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(r.field),op:t6(r.op),value:r.value}}}(e):e instanceof En?function(r){const n=r.getFilters().map(i=>zj(i));return n.length===1?n[0]:{compositeFilter:{op:r6(r.op),filters:n}}}(e):ae(54877,{filter:e})}function n6(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Uj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r,n,i,a=le.min(),s=le.min(),o=Zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.yt=t}}function a6(e){const t=ZF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Cn=new o6}addToCollectionParentIndex(t,r){return this.Cn.add(r),$.resolve()}getCollectionParents(t,r){return $.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $.resolve()}deleteFieldIndex(t,r){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,r){return $.resolve()}getDocumentsMatchingTarget(t,r){return $.resolve(null)}getIndexType(t,r){return $.resolve(0)}getFieldIndexes(t,r){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,r){return $.resolve(da.min())}getMinOffsetFromCollectionGroup(t,r){return $.resolve(da.min())}updateCollectionGroup(t,r,n){return $.resolve()}updateIndexEntries(t,r){return $.resolve()}}class o6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Ct(Fe.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ct(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bj=41943040;class _r{static withCacheSize(t){return new _r(t,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(Bj,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="LruGarbageCollector",l6=1048576;function X1([e,t],[r,n]){const i=xe(e,r);return i===0?xe(t,n):i}class u6{constructor(t){this.Ir=t,this.buffer=new Ct(X1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();X1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(Y1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Lo(r)?X(Y1,"Ignoring IndexedDB error during garbage collection: ",r):await Mo(r)}await this.Vr(3e5)})}}class d6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return $.resolve(zh.ce);const n=new u6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),js()<=Se.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function f6(e,t){return new d6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.changes=new gs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ar.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Xl(n.mutation,i,Lr.empty(),Ke.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,_e()).next(()=>n))}getLocalViewOfDocuments(t,r,n=_e()){const i=Ua();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=Ol();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Ua();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,_e()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=gi();const s=Yl(),o=function(){return Yl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ea)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Xl(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>o.set(u,new p6(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Yl();let i=new rt((s,o)=>s-o),a=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Lr.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||_e()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=Aj();c.forEach(p=>{if(!a.has(p)){const m=Nj(r.get(p),n.get(p));m!==null&&f.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return $.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):xj(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$.resolve(Ua());let o=yu,l=a;return s.next(u=>$.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,_e())).next(c=>({batchId:o,changes:Sj(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=Ol();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=Ol();return this.indexManager.getCollectionParents(t,a).next(o=>$.forEach(o,l=>{const u=function(f,p){return new Wu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ar.newInvalidDocument(c)))});let o=Ol();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Xl(c.mutation,u,Lr.empty(),Ke.now()),Kh(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(r)),$.resolve()}getNamedQuery(t,r){return $.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:a6(i.bundledQuery),readTime:Fn(i.readTime)}}(r)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(t,r){return $.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ua();return $.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),$.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(t,r,n){const i=Ua(),a=r.length+1,s=new ie(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new rt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ua(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Ua(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return $.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new DF(r,n));let a=this.qr.get(r);a===void 0&&(a=_e(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Qr=new Ct(Mt.$r),this.Ur=new Ct(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Mt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Mt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new Fe([])),n=new Mt(r,t),i=new Mt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new Fe([])),n=new Mt(r,t),i=new Mt(r,t+1);let a=_e();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Mt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Mt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||xe(t.Yr,r.Yr)}static Kr(t,r){return xe(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RF(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Mt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(t,r){return $.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?nw:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Mt(r,0),i=new Mt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ct(xe);return r.forEach(i=>{const a=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const s=new Mt(new ie(a),0);let o=new Ct(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),$.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ie(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(r.mutations,i=>{const a=new Mt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Mt(r,0),i=this.Zr.firstAfterOrEqual(n);return $.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.ri=t,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $.resolve(n?n.document.mutableCopy():ar.newInvalidDocument(r))}getEntries(t,r){let n=gi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))}),$.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=gi();const s=r.path,o=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Q3(G3(c),n)<=0||(i.has(c.key)||Kh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(t,r,n,i){ae(9500)}ii(t,r){return $.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new _6(this)}getSize(t){return $.resolve(this.size)}}class _6 extends h6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),$.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t){this.persistence=t,this.si=new gs(r=>sw(r),ow),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new hw,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new yo(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$.resolve()}updateTargetData(t,r){return this.Pr(r),$.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),$.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $.resolve(n)}containsKey(t,r){return $.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t,r){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=t(this),this.Pi=new b6(this),this.indexManager=new s6,this.remoteDocumentCache=function(i){return new x6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new i6(r),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new v6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new w6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new E6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class E6 extends X3{constructor(t){super(),this.currentSequenceNumber=t}}class pw{constructor(t){this.persistence=t,this.Ri=new hw,this.Vi=null}static mi(t){return new pw(t)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,le.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return $.or([()=>$.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Tf{constructor(t,r){this.persistence=t,this.pi=new gs(n=>eF(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=f6(this,r)}static mi(t,r){return new Tf(t,r)}Ei(){}di(t){return $.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return $.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?$.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,le.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Rd(t.data.value)),r}br(t,r,n){return $.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return $.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=_e(),i=_e();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y4()?8:Z3(g4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new S6;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(js()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ns(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(js()<=Se.DEBUG&&X("QueryEngine","Query:",Ns(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(js()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ns(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vn(r))):$.resolve())}ys(t,r){if(F1(r))return $.resolve(null);let n=Vn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=qv(r,null,"F"),n=Vn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=_e(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(t,qv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return F1(r)||i.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?$.resolve(null):(js()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(r)),this.vs(t,s,r,H3(i,yu)).next(o=>o))})}Ds(t,r){let n=new Ct(bj(t));return r.forEach((i,a)=>{Kh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return js()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ns(r)),this.ps.getDocumentsMatchingQuery(t,r,da.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LocalStore",P6=3e8;class T6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new rt(xe),this.xs=new gs(a=>sw(a),ow),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new m6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function C6(e,t,r,n){return new T6(e,t,r,n)}async function Wj(e,t){const r=ue(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=_e();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function I6(e,t){const r=ue(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,p=f.keys();let m=$.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);Ie(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=_e();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function Kj(e){const t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function j6(e,t){const r=ue(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,f)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Zt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(f,m),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=P6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&o.push(r.Pi.updateTargetData(a,m))});let l=gi(),u=_e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(N6(a,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(le.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return $.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function N6(e,t,r){let n=_e(),i=_e();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=gi();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(le.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):X(gw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function O6(e,t){const r=ue(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=nw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function k6(e,t){const r=ue(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,$.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Qi(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Qv(e,t,r){const n=ue(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Lo(s))throw s;X(gw,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function Z1(e,t,r){const n=ue(e);let i=le.min(),a=_e();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=ue(l),p=f.xs.get(c);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,c)}(n,s,Vn(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:le.min(),r?a:_e())).next(o=>(R6(n,wF(t),o),{documents:o,Qs:a})))}function R6(e,t,r){let n=e.Os.get(t)||le.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class J1{constructor(){this.activeTargetIds=AF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D6{constructor(){this.Mo=new J1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new J1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="ConnectivityMonitor";class tS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(eS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(eS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Yv(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===xf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=Yv(),o=this.zo(t,r.toUriEncodedString());X(dg,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=J0(u);return this.Jo(t,o,l,n,c).then(f=>(X(dg,`Received RPC '${t}' ${s}: `,f),f),f=>{throw po(dg,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=L6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class $6 extends V6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=Yv();return new Promise((o,l)=>{const u=new QI;u.setWithCredentials(!0),u.listenOnce(YI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kd.NO_ERROR:const f=u.getResponseJson();X(tr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case kd.TIMEOUT:X(tr,`RPC '${t}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const p=u.getStatus();if(X(tr,`RPC '${t}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(tr,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);X(tr,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Yv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=JI(),o=ZI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(tr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let p=!1,m=!1;const g=new F6({Yo:b=>{m?X(tr,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(X(tr,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),X(tr,`RPC '${t}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),y=(b,x,E)=>{b.listen(x,A=>{try{E(A)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,Nl.EventType.OPEN,()=>{m||(X(tr,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),y(f,Nl.EventType.CLOSE,()=>{m||(m=!0,X(tr,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(f))}),y(f,Nl.EventType.ERROR,b=>{m||(m=!0,po(tr,`RPC '${t}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(f,Nl.EventType.MESSAGE,b=>{var x;if(!m){const E=b.data[0];Ie(!!E,16349);const A=E,I=(A==null?void 0:A.error)||((x=A[0])==null?void 0:x.error);if(I){X(tr,`RPC '${t}' stream ${i} received error:`,I);const R=I.status;let O=function(C){const k=pt[C];if(k!==void 0)return kj(k)}(R),v=I.message;O===void 0&&(O=F.INTERNAL,v="Unknown error status: "+R+" with message "+I.message),m=!0,g.a_(new Y(O,v)),f.close()}else X(tr,`RPC '${t}' stream ${i} received:`,E),g.u_(E)}}),y(o,XI.STAT_EVENT,b=>{b.stat===Lv.PROXY?X(tr,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===Lv.NOPROXY&&X(tr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return new qF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="PersistentStream";class Gj{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(mi(r.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(rS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends Gj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=HF(this.serializer,t),n=function(a){if(!("targetChange"in a))return le.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Fn(s.readTime):le.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Gv(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Uv(l)?{documents:YF(a,l)}:{query:XF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Mj(a,s.resumeToken);const u=Wv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){o.readTime=Pf(a,s.snapshotVersion.toTimestamp());const u=Wv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=JF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Gv(this.serializer),r.removeTarget=t,this.q_(r)}}class U6 extends Gj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=QF(t.writeResults,t.commitTime),n=Fn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Gv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>GF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{}class q6 extends B6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,Kv(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,Kv(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class W6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class K6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{vs(this)&&(X(as,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Gu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Xh(u)}(this))})}),this.Ra=new W6(n,i)}}async function Xh(e){if(vs(e))for(const t of e.da)await t(!0)}async function Gu(e){for(const t of e.da)await t(!1)}function Qj(e,t){const r=ue(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),xw(r)?ww(r):Vo(r).O_()&&yw(r,t))}function vw(e,t){const r=ue(e),n=Vo(r);r.Ia.delete(t),n.O_()&&Yj(r,t),r.Ia.size===0&&(n.O_()?n.L_():vs(r)&&r.Ra.set("Unknown"))}function yw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(le.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Vo(e).Y_(t)}function Yj(e,t){e.Va.Ue(t),Vo(e).Z_(t)}function ww(e){e.Va=new $F({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Vo(e).start(),e.Ra.ua()}function xw(e){return vs(e)&&!Vo(e).x_()&&e.Ia.size>0}function vs(e){return ue(e).Ea.size===0}function Xj(e){e.Va=void 0}async function H6(e){e.Ra.set("Online")}async function G6(e){e.Ia.forEach((t,r)=>{yw(e,t)})}async function Q6(e,t){Xj(e),xw(e)?(e.Ra.ha(t),ww(e)):e.Ra.set("Unknown")}async function Y6(e,t,r){if(e.Ra.set("Online"),t instanceof Dj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){X(as,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cf(e,n)}else if(t instanceof Ld?e.Va.Ze(t):t instanceof Rj?e.Va.st(t):e.Va.tt(t),!r.isEqual(le.min()))try{const n=await Kj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Zt.EMPTY_BYTE_STRING,c.snapshotVersion)),Yj(a,l);const f=new Qi(c.target,l,u,c.sequenceNumber);yw(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){X(as,"Failed to raise snapshot:",n),await Cf(e,n)}}async function Cf(e,t,r){if(!Lo(t))throw t;e.Ea.add(1),await Gu(e),e.Ra.set("Offline"),r||(r=()=>Kj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(as,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Xh(e)})}function Zj(e,t){return t().catch(r=>Cf(e,r,t))}async function Zh(e){const t=ue(e),r=ma(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nw;for(;X6(t);)try{const i=await O6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,Z6(t,i)}catch(i){await Cf(t,i)}Jj(t)&&eN(t)}function X6(e){return vs(e)&&e.Ta.length<10}function Z6(e,t){e.Ta.push(t);const r=ma(e);r.O_()&&r.X_&&r.ea(t.mutations)}function Jj(e){return vs(e)&&!ma(e).x_()&&e.Ta.length>0}function eN(e){ma(e).start()}async function J6(e){ma(e).ra()}async function e$(e){const t=ma(e);for(const r of e.Ta)t.ea(r.mutations)}async function t$(e,t,r){const n=e.Ta.shift(),i=cw.from(n,t,r);await Zj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Zh(e)}async function r$(e,t){t&&ma(e).X_&&await async function(n,i){if(function(s){return LF(s)&&s!==F.ABORTED}(i.code)){const a=n.Ta.shift();ma(n).B_(),await Zj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Zh(n)}}(e,t),Jj(e)&&eN(e)}async function nS(e,t){const r=ue(e);r.asyncQueue.verifyOperationInProgress(),X(as,"RemoteStore received new credentials");const n=vs(r);r.Ea.add(3),await Gu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Xh(r)}async function n$(e,t){const r=ue(e);t?(r.Ea.delete(2),await Xh(r)):t||(r.Ea.add(2),await Gu(r),r.Ra.set("Unknown"))}function Vo(e){return e.ma||(e.ma=function(r,n,i){const a=ue(r);return a.sa(),new z6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:H6.bind(null,e),t_:G6.bind(null,e),r_:Q6.bind(null,e),H_:Y6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xw(e)?ww(e):e.Ra.set("Unknown")):(await e.ma.stop(),Xj(e))})),e.ma}function ma(e){return e.fa||(e.fa=function(r,n,i){const a=ue(r);return a.sa(),new U6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:J6.bind(null,e),r_:r$.bind(null,e),ta:e$.bind(null,e),na:t$.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Zh(e)):(await e.fa.stop(),e.Ta.length>0&&(X(as,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new _w(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bw(e,t){if(mi("AsyncQueue",`${t}: ${e}`),Lo(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=Ol(),this.sortedSet=new rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ro;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.ga=new rt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ae(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class wo{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new wo(t,r,ro.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class a${constructor(){this.queries=aS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ue(r),a=i.queries;i.queries=aS(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function aS(){return new gs(e=>_j(e),Wh)}async function Ew(e,t){const r=ue(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new i$,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=bw(s,`Initialization of query '${Ns(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&Aw(r)}async function Sw(e,t){const r=ue(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function s$(e,t){const r=ue(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Aw(r)}function o$(e,t,r){const n=ue(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function Aw(e){e.Ca.forEach(t=>{t.next()})}var Xv,sS;(sS=Xv||(Xv={})).Ma="default",sS.Cache="cache";class Pw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new wo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.key=t}}class rN{constructor(t){this.key=t}}class l${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=bj(t),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new iS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const p=i.get(c),m=Kh(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),b=!0):this.su(p,m)||(n.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),b=!0):p&&!m&&(n.track({type:1,doc:p}),b=!0,(l||u)&&(o=!0)),b&&(m?(s=s.add(m),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(m,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:b})}};return y(m)-y(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new wo(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=_e(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new rN(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new tN(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=_e();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tw="SyncEngine";class u${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class c${constructor(t){this.key=t,this.hu=!1}}class d${constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new gs(o=>_j(o),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new hw,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f$(e,t,r=!0){const n=lN(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await nN(n,t,r,!0),i}async function h$(e,t){const r=lN(e);await nN(r,t,!0,!1)}async function nN(e,t,r,n){const i=await k6(e.localStore,Vn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await p$(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Qj(e.remoteStore,i),o}async function p$(e,t,r,n,i){e.pu=(f,p,m)=>async function(y,b,x,E){let A=b.view.ru(x);A.Cs&&(A=await Z1(y.localStore,b.query,!1).then(({documents:v})=>b.view.ru(v,A)));const I=E&&E.targetChanges.get(b.targetId),R=E&&E.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(A,y.isPrimaryClient,I,R);return lS(y,b.targetId,O.au),O.snapshot}(e,f,p,m);const a=await Z1(e.localStore,t,!0),s=new l$(t,a.Qs),o=s.ru(a.documents),l=Hu.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);lS(e,r,u.au);const c=new u$(t,r,s);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function m$(e,t,r){const n=ue(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Wh(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Qv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&vw(n.remoteStore,i.targetId),Zv(n,i.targetId)}).catch(Mo)):(Zv(n,i.targetId),await Qv(n.localStore,i.targetId,!0))}async function g$(e,t){const r=ue(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),vw(r.remoteStore,n.targetId))}async function v$(e,t,r){const n=S$(e);try{const i=await function(s,o){const l=ue(s),u=Ke.now(),c=o.reduce((m,g)=>m.add(g.key),_e());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=gi(),y=_e();return l.Ns.getEntries(m,c).next(b=>{g=b,g.forEach((x,E)=>{E.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(b=>{f=b;const x=[];for(const E of o){const A=OF(E,f.get(E.key).overlayedDocument);A!=null&&x.push(new Ea(E.key,A,hj(A.value.mapValue),rn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:Sj(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new rt(xe)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await Qu(n,i.changes),await Zh(n.remoteStore)}catch(i){const a=bw(i,"Failed to persist write");r.reject(a)}}async function iN(e,t){const r=ue(e);try{const n=await j6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ie(s.hu,14607):i.removedDocuments.size>0&&(Ie(s.hu,42227),s.hu=!1))}),await Qu(r,n,t)}catch(n){await Mo(n)}}function oS(e,t,r){const n=ue(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ue(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.Sa)p.va(o)&&(u=!0)}),u&&Aw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function y$(e,t,r){const n=ue(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new rt(ie.comparator);s=s.insert(a,ar.newNoDocument(a,le.min()));const o=_e().add(a),l=new Qh(le.min(),new Map,new rt(xe),s,o);await iN(n,l),n.du=n.du.remove(a),n.Au.delete(t),Cw(n)}else await Qv(n.localStore,t,!1).then(()=>Zv(n,t,r)).catch(Mo)}async function w$(e,t){const r=ue(e),n=t.batch.batchId;try{const i=await I6(r.localStore,t);sN(r,n,null),aN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Qu(r,i)}catch(i){await Mo(i)}}async function x$(e,t,r){const n=ue(e);try{const i=await function(s,o){const l=ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Ie(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);sN(n,t,r),aN(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Qu(n,i)}catch(i){await Mo(i)}}function aN(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function sN(e,t,r){const n=ue(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Zv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||oN(e,n)})}function oN(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(vw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),Cw(e))}function lS(e,t,r){for(const n of r)n instanceof tN?(e.Ru.addReference(n.key,t),_$(e,n)):n instanceof rN?(X(Tw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||oN(e,n.key)):ae(19791,{wu:n})}function _$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(Tw,"New document in limbo: "+r),e.Eu.add(n),Cw(e))}function Cw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie(Fe.fromString(t)),n=e.fu.next();e.Au.set(n,new c$(r)),e.du=e.du.insert(r,n),Qj(e.remoteStore,new Qi(Vn(qh(r.path)),n,"TargetPurposeLimboResolution",zh.ce))}}async function Qu(e,t,r){const n=ue(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=mw.As(l.targetId,u);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Lo(f))throw f;X(gw,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,y)}}}(n.localStore,a))}async function b$(e,t){const r=ue(e);if(!r.currentUser.isEqual(t)){X(Tw,"User change. New user:",t.toKey());const n=await Wj(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Qu(r,n.Ls)}}function E$(e,t){const r=ue(e),n=r.Au.get(t);if(n&&n.hu)return _e().add(n.key);{let i=_e();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function lN(e){const t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y$.bind(null,t),t.Pu.H_=s$.bind(null,t.eventManager),t.Pu.yu=o$.bind(null,t.eventManager),t}function S$(e){const t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x$.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return C6(this.persistence,new A6,t.initialUser,this.serializer)}Cu(t){return new qj(pw.mi,this.serializer)}Du(t){return new D6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class A$ extends If{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ie(this.persistence.referenceDelegate instanceof Tf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new c6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new qj(n=>Tf.mi(n,r),this.serializer)}}class Jv{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>oS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=b$.bind(null,this.syncEngine),await n$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new a$}()}createDatastore(t){const r=Yh(t.databaseInfo.databaseId),n=function(a){return new $6(a)}(t.databaseInfo);return function(a,s,o,l){return new q6(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new K6(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>oS(this.syncEngine,r,0),function(){return tS.v()?new tS:new M6}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const f=new d$(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ue(i);X(as,"RemoteStore shutting down."),a.Ea.add(5),await Gu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}Jv.provider={build:()=>new Jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class P${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{X(ga,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X(ga,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=bw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function hg(e,t){e.asyncQueue.verifyOperationInProgress(),X(ga,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Wj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function uS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await T$(e);X(ga,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>nS(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>nS(t.remoteStore,i)),e._onlineComponents=t}async function T$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(ga,"Using user provided OfflineComponentProvider");try{await hg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;po("Error using user provided cache. Falling back to memory cache: "+r),await hg(e,new If)}}else X(ga,"Using default OfflineComponentProvider"),await hg(e,new A$(void 0));return e._offlineComponents}async function uN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(ga,"Using user provided OnlineComponentProvider"),await uS(e,e._uninitializedComponentsProvider._online)):(X(ga,"Using default OnlineComponentProvider"),await uS(e,new Jv))),e._onlineComponents}function C$(e){return uN(e).then(t=>t.syncEngine)}async function jf(e){const t=await uN(e),r=t.eventManager;return r.onListen=f$.bind(null,t.syncEngine),r.onUnlisten=m$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=h$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=g$.bind(null,t.syncEngine),r}function I$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,f));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Pw(qh(o.path),c,{includeMetadataChanges:!0,qa:!0});return Ew(a,f)}(await jf(e),e.asyncQueue,t,r,n)),n.promise}function j$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,f)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Pw(o,c,{includeMetadataChanges:!0,qa:!0});return Ew(a,f)}(await jf(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firestore.googleapis.com",dS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dN,this.ssl=dS}else this.host=t.host,this.ssl=t.ssl??dS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Bj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<l6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}K3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cN(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new M3;switch(n.type){case"firstParty":return new $3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=cS.get(r);n&&(X("ComponentProvider","Removing Datastore"),cS.delete(r),n.terminate())}(this),Promise.resolve()}}function N$(e,t,r,n={}){var u;e=Ir(e,Jh);const i=J0(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(d4(`https://${o}`),m4("Firestore",!0)),a.host!==dN&&a.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!gf(l,s)&&(e._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=nr.MOCK_USER;else{c=f4(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nr(p)}e._authCredentials=new L3(new tj(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ys(this.firestore,t,this._query)}}class ot{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ot(this.firestore,t,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(qu(r,ot._jsonSchema))return new ot(t,n||null,new ie(Fe.fromString(r.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:yt("string",ot._jsonSchemaVersion),referencePath:yt("string")};class oa extends ys{constructor(t,r,n){super(t,r,qh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ot(this.firestore,null,new ie(t))}withConverter(t){return new oa(this.firestore,t,this._path)}}function Wr(e,t,...r){if(e=qn(e),rj("collection","path",t),e instanceof Jh){const n=Fe.fromString(t,...r);return A1(n),new oa(e,null,n)}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fe.fromString(t,...r));return A1(n),new oa(e.firestore,null,n)}}function ur(e,t,...r){if(e=qn(e),arguments.length===1&&(t=rw.newId()),rj("doc","path",t),e instanceof Jh){const n=Fe.fromString(t,...r);return S1(n),new ot(e,null,new ie(n))}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fe.fromString(t,...r));return S1(n),new ot(e.firestore,e instanceof oa?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="AsyncQueue";class pS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hj(this,"async_queue_retry"),this._c=()=>{const n=fg();n&&X(hS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=fg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=fg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;X(hS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",mS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=_w.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ae(47125,{Pc:mS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function mS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class vi extends Jh{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new pS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pS(t),this._firestoreClient=void 0,await t}}}function O$(e,t){const r=typeof e=="object"?e:A3(),n=typeof e=="string"?e:xf,i=x3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=u4("firestore");a&&N$(i,...a)}return i}function ep(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||k$(e),e._firestoreClient}function k$(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,u,c){return new nF(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new P$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zr(Zt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Zr(Zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qu(t,Zr._jsonSchema))return Zr.fromBase64String(t.bytes)}}Zr._jsonSchemaVersion="firestore/bytes/1.0",Zr._jsonSchema={type:yt("string",Zr._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$n._jsonSchemaVersion}}static fromJSON(t){if(qu(t,$n._jsonSchema))return new $n(t.latitude,t.longitude)}}$n._jsonSchemaVersion="firestore/geoPoint/1.0",$n._jsonSchema={type:yt("string",$n._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qu(t,zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new zn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:yt("string",zn._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=/^__.*__$/;class D${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms):new Ku(t,this.data,r,this.fieldTransforms)}}class fN{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function hN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:e})}}class Nw{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(hN(this.Ac)&&R$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class M${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Yh(t)}Cc(t,r,n,i=!1){return new Nw({Ac:t,methodName:r,Dc:n,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(e){const t=e._freezeSettings(),r=Yh(e._databaseId);return new M$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function pN(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);Ow("Data must be an object, but it was:",s,n);const o=mN(n,s);let l,u;if(a.merge)l=new Lr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const p=ey(t,f,r);if(!s.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);vN(c,p)||c.push(p)}l=new Lr(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new D$(new Er(o),l,u)}class Yu extends jw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yu}}function L$(e,t,r,n){const i=e.Cc(1,t,r);Ow("Data must be an object, but it was:",i,n);const a=[],s=Er.empty();ba(n,(l,u)=>{const c=kw(t,l,r);u=qn(u);const f=i.yc(c);if(u instanceof Yu)a.push(c);else{const p=Xu(u,f);p!=null&&(a.push(c),s.set(c,p))}});const o=new Lr(a);return new fN(s,o,i.fieldTransforms)}function V$(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[ey(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(ey(t,a[p])),l.push(a[p+1]);const u=[],c=Er.empty();for(let p=o.length-1;p>=0;--p)if(!vN(u,o[p])){const m=o[p];let g=l[p];g=qn(g);const y=s.yc(m);if(g instanceof Yu)u.push(m);else{const b=Xu(g,y);b!=null&&(u.push(m),c.set(m,b))}}const f=new Lr(u);return new fN(c,f,s.fieldTransforms)}function F$(e,t,r,n=!1){return Xu(r,e.Cc(n?4:3,t))}function Xu(e,t){if(gN(e=qn(e)))return Ow("Unsupported field value:",t,e),mN(e,t);if(e instanceof jw)return function(n,i){if(!hN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Xu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=qn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return PF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ke.fromDate(n);return{timestampValue:Pf(i.serializer,a)}}if(n instanceof Ke){const a=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pf(i.serializer,a)}}if(n instanceof $n)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:Mj(i.serializer,n._byteString)};if(n instanceof ot){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof zn)return function(s,o){return{mapValue:{fields:{[dj]:{stringValue:fj},[_f]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return lw(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${$h(n)}`)}(e,t)}function mN(e,t){const r={};return aj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(e,(n,i)=>{const a=Xu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function gN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ke||e instanceof $n||e instanceof Zr||e instanceof ot||e instanceof jw||e instanceof zn)}function Ow(e,t,r){if(!gN(r)||!nj(r)){const n=$h(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ey(e,t,r){if((t=qn(t))instanceof tp)return t._internalPath;if(typeof t=="string")return kw(e,t);throw Nf("Field path arguments must be of type string or ",e,!1,void 0,r)}const $$=new RegExp("[~\\*/\\[\\]]");function kw(e,t,r){if(t.search($$)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new tp(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Nf(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function vN(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Rw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class z$ extends yN{data(){return super.data()}}function Rw(e,t){return typeof t=="string"?kw(e,t):t instanceof tp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class U$ extends Dw{}function B$(e,t,...r){let n=[];t instanceof Dw&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof Mw).length,o=a.filter(l=>l instanceof np).length;if(s>1||s>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class np extends U${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new np(t,r,n)}_apply(t){const r=this._parse(t);return xN(t._query,r),new ys(t.firestore,t.converter,Bv(t._query,r))}_parse(t){const r=rp(t.firestore);return function(a,s,o,l,u,c,f){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yS(f,c);const g=[];for(const y of f)g.push(vS(l,a,y));p={arrayValue:{values:g}}}else p=vS(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yS(f,c),p=F$(o,s,f,c==="in"||c==="not-in");return vt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function q$(e,t,r){const n=t,i=Rw("where",e);return np._create(i,n,r)}class Mw extends Dw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Mw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:En.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)xN(s,l),s=Bv(s,l)}(t._query,r),new ys(t.firestore,t.converter,Bv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vS(e,t,r){if(typeof(r=qn(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xj(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Fe.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return k1(e,new ie(n))}if(r instanceof ot)return k1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(r)}.`)}function yS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xN(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class W${convertValue(t,r="none"){switch(pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ae(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ba(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[_f].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ut(s.doubleValue));return new zn(r)}convertGeoPoint(t){return new $n(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Bh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(wu(t));default:return null}}convertTimestamp(t){const r=fa(t);return new Ke(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Fe.fromString(t);Ie(Uj(n),9688,{name:t});const i=new xu(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||mi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Rl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ga extends yN{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ga._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:yt("string",Ga._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vd extends Ga{data(t={}){return super.data(t)}}class Qa{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Rl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Vd(this._firestore,this._userDataWriter,n.key,n,new Rl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:K$(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function K$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){e=Ir(e,ot);const t=Ir(e.firestore,vi);return I$(ep(t),e._key).then(r=>bN(t,e,r))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:yt("string",Qa._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vw extends W${constructor(t){super(),this.firestore=t}convertBytes(t){return new Zr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ot(this.firestore,null,r)}}function Fo(e){e=Ir(e,ys);const t=Ir(e.firestore,vi),r=ep(t),n=new Vw(t);return wN(e._query),j$(r,e._query).then(i=>new Qa(t,n,e,i))}function H$(e,t,r){e=Ir(e,ot);const n=Ir(e.firestore,vi),i=_N(e.converter,t,r);return sp(n,[pN(rp(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,rn.none())])}function ss(e,t,r,...n){e=Ir(e,ot);const i=Ir(e.firestore,vi),a=rp(i);let s;return s=typeof(t=qn(t))=="string"||t instanceof tp?V$(a,"updateDoc",e._key,t,r,n):L$(a,"updateDoc",e._key,t),sp(i,[s.toMutation(e._key,rn.exists(!0))])}function ip(e){return sp(Ir(e.firestore,vi),[new uw(e._key,rn.none())])}function ap(e,t){const r=Ir(e.firestore,vi),n=ur(e),i=_N(e.converter,t);return sp(r,[pN(rp(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,rn.exists(!1))]).then(()=>n)}function Fw(e,...t){var l,u,c;e=qn(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||gS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(gS(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(c=f.complete)==null?void 0:c.bind(f)}let a,s,o;if(e instanceof ot)s=Ir(e.firestore,vi),o=qh(e._key.path),a={next:f=>{t[n]&&t[n](bN(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=Ir(e,ys);s=Ir(f.firestore,vi),o=f._query;const p=new Vw(s);a={next:m=>{t[n]&&t[n](new Qa(s,p,f,m))},error:t[n+1],complete:t[n+2]},wN(e._query)}return function(p,m,g,y){const b=new Iw(y),x=new Pw(m,b,g);return p.asyncQueue.enqueueAndForget(async()=>Ew(await jf(p),x)),()=>{b.Nu(),p.asyncQueue.enqueueAndForget(async()=>Sw(await jf(p),x))}}(ep(s),o,i,a)}function sp(e,t){return function(n,i){const a=new oi;return n.asyncQueue.enqueueAndForget(async()=>v$(await C$(n),i,a)),a.promise}(ep(e),t)}function bN(e,t,r){const n=r.docs.get(t._key),i=new Vw(e);return new Ga(e,i,t._key,n,new Rl(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return new Yu("deleteField")}(function(t,r=!0){(function(i){Do=i})(S3),yf(new gu("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new vi(new V3(n.getProvider("auth-internal")),new z3(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),to(x1,_1,t),to(x1,_1,"esm2020")})();var Q$="firebase",Y$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(Q$,Y$,"app");const X$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},Z$=WI(X$),ke=O$(Z$),EN=async()=>(await Fo(Wr(ke,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),Da=async e=>{const t=ur(ke,"incidents",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},ty=async e=>(await ap(Wr(ke,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,fn=async(e,t)=>{const r=ur(ke,"incidents",e);await ss(r,{...t})},J$=async e=>{await ip(ur(ke,"incidents",e))},op=async()=>(await Fo(Wr(ke,"users"))).docs.map(t=>({...t.data(),id:t.id})),SN=async e=>{const t=B$(Wr(ke,"users"),q$("username","==",e)),r=await Fo(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},$w=async e=>(await ap(Wr(ke,"users"),e)).id,zw=async(e,t)=>{const r=ur(ke,"users",e);await ss(r,{...t})},e5=async e=>{await ip(ur(ke,"users",e))},t5=async(e,t)=>{const r=ur(ke,"users",e);await ss(r,{preferences:t})},r5=async e=>{const r=(await op()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},n5=async e=>{const t=await Da(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await fn(e.incidentId,{comments:n}),r.id},Dl=async()=>(await Fo(Wr(ke,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),AN=async e=>(await ap(Wr(ke,"automationRules"),e)).id,i5=async(e,t)=>{const r=ur(ke,"automationRules",e);await ss(r,{...t})},a5=async e=>{await ip(ur(ke,"automationRules",e))},PN=async()=>{const e=ur(ke,"settings","app"),t=await Lw(e);return t.exists()?t.data():null},TN=async e=>{const t=ur(ke,"settings","app");await H$(t,e,{merge:!0})},s5=e=>Fw(Wr(ke,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),o5=e=>Fw(Wr(ke,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),ry=async()=>(await Fo(Wr(ke,"roles"))).docs.map(t=>({...t.data(),id:t.id})),lp=async e=>{const t=ur(ke,"roles",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},CN=async e=>(await ap(Wr(ke,"roles"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,l5=async(e,t)=>{const r=ur(ke,"roles",e);await ss(r,{...t})},u5=async e=>{await ip(ur(ke,"roles",e))},IN=e=>Fw(Wr(ke,"roles"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),c5=async()=>{let t=(await ry()).find(a=>a.name==="Administrador");if(!t){const a=await CN({name:"Administrador",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!0,viewAll:!0},users:{viewOwn:!0,editOwn:!0,viewAll:!0,create:!0,edit:!0,delete:!0},roles:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0},automation:{view:!0,create:!0,edit:!0,delete:!0}}});t=(await ry()).find(o=>o.id===a)}const n=(await op()).find(a=>a.username==="admin");n?n&&(!n.roleId||n.roleId!==t.id)&&(await zw(n.id,{roleId:t.id}),console.log(" Usuario admin actualizado con rol de Administrador")):await $w({username:"admin",password:"admin123",name:"Administrador",roleId:t.id,avatar:""}),await PN()||await TN({theme:"light",notifications:!0,autoAssign:!1,language:"es"}),await d5()},d5=async()=>{try{const e=Wr(ke,"users"),t=await Fo(e),r=await ry(),n=r.find(o=>o.name==="Administrador"),i=r.find(o=>o.name==="Usuario");if(!n||!i){console.log(" Roles no encontrados para migracin");return}const a=[];let s=0;t.forEach(o=>{const l=o.data();if(l.role&&!l.roleId){s++,console.log(` Migrando usuario "${l.username}" de role: "${l.role}" a roleId`);let u=i.id;l.role==="admin"||l.username==="admin"?(u=n.id,console.log(`    Asignando rol "Administrador" (${u})`)):console.log(`    Asignando rol "Usuario" (${u})`);const c=ur(ke,"users",o.id);a.push(ss(c,{roleId:u,role:G$()}))}else if(!l.roleId&&!l.role){s++,console.log(` Usuario "${l.username}" sin rol, asignando rol "Usuario"`);const u=ur(ke,"users",o.id);a.push(ss(u,{roleId:i.id}))}}),a.length>0?(await Promise.all(a),console.log(` Migracin completada: ${s} usuarios actualizados al nuevo sistema de roles`)):console.log(" Todos los usuarios ya tienen roleId asignado")}catch(e){console.error(" Error en migracin de usuarios:",e)}},f5=({onAdd:e})=>{const[t,r]=_.useState("MOV-"),[n,i]=_.useState(""),[a,s]=_.useState(""),[o,l]=_.useState(""),[u,c]=_.useState(""),[f,p]=_.useState(""),[m,g]=_.useState(""),[y,b]=_.useState(new Date().toISOString().split("T")[0]),[x,E]=_.useState("abierta"),[A,I]=_.useState("media"),[R,O]=_.useState("correctivo"),v=S=>{if(S.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const C={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:o.trim(),relevante:u.trim(),realizado:f.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:y,status:x,priority:A,type:R,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(C),r("MOV-"),i(""),s(""),l(""),c(""),p(""),g(""),b(new Date().toISOString().split("T")[0]),E("abierta"),I("media"),O("correctivo")};return d.jsx("div",{className:"incident-form-container",children:d.jsxs("form",{className:"incident-form",onSubmit:v,children:[d.jsx("h2",{children:" Crear Nueva Incidencia"}),d.jsxs("div",{className:"form-section",children:[d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),d.jsx("input",{id:"name",type:"text",value:t,onChange:S=>r(S.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",type:"text",value:n,onChange:S=>i(S.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin"}),d.jsx("textarea",{id:"description",value:a,onChange:S=>s(S.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",value:u,onChange:S=>c(S.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",value:f,onChange:S=>p(S.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",value:m,onChange:S=>g(S.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Prioridad"}),d.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(S=>d.jsxs("button",{type:"button",className:`chip-option priority-${S} ${A===S?"selected":""}`,onClick:()=>I(S),children:[S==="baja"&&" Baja",S==="media"&&" Media",S==="alta"&&" Alta",S==="crtica"&&" Crtica"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Estado"}),d.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${x===S?"selected":""}`,onClick:()=>E(S),children:[S==="abierta"&&"Abierta",S==="en-progreso"&&"En Progreso",S==="puesto-en-test"&&"Puesto en Test",S==="verificado-en-test"&&"Verificado en Test",S==="resuelta"&&"Resuelta",S==="cerrada"&&"Cerrada"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Tipo"}),d.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${R===S?"selected":""}`,onClick:()=>O(S),children:[S==="correctivo"&&" Correctivo",S==="evolutivo"&&" Evolutivo",S==="tarea"&&" Tarea"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Informacin Adicional"}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"creationDate",type:"date",value:y,onChange:S=>b(S.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"contactUser",type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Nombre del contacto"})]})]})]}),d.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},h5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=_.useState(e.name),[a,s]=_.useState(e.contactUser||""),[o,l]=_.useState(e.prQA2||""),[u,c]=_.useState(e.prMain||""),[f,p]=_.useState(e.creationDate||""),[m,g]=_.useState(e.status),[y,b]=_.useState(e.priority),[x,E]=_.useState(e.type),A=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:o.trim(),prMain:u.trim(),creationDate:f,status:m,priority:y,type:x})};return d.jsx("div",{className:"incident-edit-overlay",children:d.jsxs("form",{className:"incident-edit-form",onSubmit:A,children:[d.jsx("h2",{children:"Editar Incidencia"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),d.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>s(I.target.value),placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),d.jsx("input",{id:"edit-prQA2",type:"text",value:o,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),d.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:I=>c(I.target.value),placeholder:"ID de PR para MAIN"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"edit-creationDate",type:"date",value:f,onChange:I=>p(I.target.value)})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-status",children:"Estado"}),d.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),d.jsxs("select",{id:"edit-priority",value:y,onChange:I=>b(I.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),d.jsxs("select",{id:"edit-type",value:x,onChange:I=>E(I.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function jN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=jN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=jN(e))&&(n&&(n+=" "),n+=t);return n}var p5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Uw(e){if(typeof e!="string")return!1;var t=p5;return t.includes(e)}var m5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g5=new Set(m5);function NN(e){return typeof e!="string"?!1:g5.has(e)}function ON(e){return typeof e=="string"&&e.startsWith("data-")}function Sn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(NN(r)||ON(r))&&(t[r]=e[r]);return t}function Su(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Sn(t)}return typeof e=="object"&&!Array.isArray(e)?Sn(e):null}function sn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(NN(r)||ON(r)||Uw(r))&&(t[r]=e[r]);return t}var v5=["children","width","height","viewBox","className","style","title","desc"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function y5(e,t){if(e==null)return{};var r,n,i=w5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bw=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=y5(e,v5),f=a||{width:n,height:i,x:0,y:0},p=Oe("recharts-surface",s);return _.createElement("svg",ny({},sn(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),_.createElement("title",null,l),_.createElement("desc",null,u),r)}),x5=["children","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}function _5(e,t){if(e==null)return{};var r,n,i=b5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mr=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=_5(e,x5),a=Oe("recharts-layer",n);return _.createElement("g",iy({className:a},sn(i),{ref:t}),r)}),kN=_.createContext(null),E5=()=>_.useContext(kN);function Ve(e){return function(){return e}}const RN=Math.cos,Of=Math.sin,Tn=Math.sqrt,kf=Math.PI,up=2*kf,ay=Math.PI,sy=2*ay,Ma=1e-6,S5=sy-Ma;function DN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function A5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DN;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class P5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DN:A5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ma)if(!(Math.abs(f*l-u*c)>Ma)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,y=l*l+u*u,b=m*m+g*g,x=Math.sqrt(y),E=Math.sqrt(p),A=a*Math.tan((ay-Math.acos((y+p-b)/(2*x*E)))/2),I=A/E,R=A/x;Math.abs(I-1)>Ma&&this._append`L${t+I*c},${r+I*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=t+R*l},${this._y1=r+R*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-c)>Ma)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%sy+sy),p>S5?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:p>Ma&&this._append`A${n},${n},0,${+(p>=ay)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new P5(t)}function Ww(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MN(e){this._context=e}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cp(e){return new MN(e)}function LN(e){return e[0]}function VN(e){return e[1]}function FN(e,t){var r=Ve(!0),n=null,i=cp,a=null,s=qw(o);e=typeof e=="function"?e:e===void 0?LN:Ve(e),t=typeof t=="function"?t:t===void 0?VN:Ve(t);function o(l){var u,c=(l=Ww(l)).length,f,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ve(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ve(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function id(e,t,r){var n=null,i=Ve(!0),a=null,s=cp,o=null,l=qw(u);e=typeof e=="function"?e:e===void 0?LN:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VN:Ve(+r);function u(f){var p,m,g,y=(f=Ww(f)).length,b,x=!1,E,A=new Array(y),I=new Array(y);for(a==null&&(o=s(E=l())),p=0;p<=y;++p){if(!(p<y&&i(b=f[p],p,f))===x)if(x=!x)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(A[g],I[g]);o.lineEnd(),o.areaEnd()}x&&(A[p]=+e(b,p,f),I[p]=+t(b,p,f),o.point(n?+n(b,p,f):A[p],r?+r(b,p,f):I[p]))}if(E)return o=null,E+""||null}function c(){return FN().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ve(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ve(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ve(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class $N{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function T5(e){return new $N(e,!0)}function C5(e){return new $N(e,!1)}const Kw={draw(e,t){const r=Tn(t/kf);e.moveTo(r,0),e.arc(0,0,r,0,up)}},I5={draw(e,t){const r=Tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zN=Tn(1/3),j5=zN*2,N5={draw(e,t){const r=Tn(t/j5),n=r*zN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},O5={draw(e,t){const r=Tn(t),n=-r/2;e.rect(n,n,r,r)}},k5=.8908130915292852,UN=Of(kf/10)/Of(7*kf/10),R5=Of(up/10)*UN,D5=-RN(up/10)*UN,M5={draw(e,t){const r=Tn(t*k5),n=R5*r,i=D5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=up*a/5,o=RN(s),l=Of(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},pg=Tn(3),L5={draw(e,t){const r=-Tn(t/(pg*3));e.moveTo(0,r*2),e.lineTo(-pg*r,-r),e.lineTo(pg*r,-r),e.closePath()}},Kr=-.5,Hr=Tn(3)/2,oy=1/Tn(12),V5=(oy/2+1)*3,F5={draw(e,t){const r=Tn(t/V5),n=r/2,i=r*oy,a=n,s=r*oy+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Kr*n-Hr*i,Hr*n+Kr*i),e.lineTo(Kr*a-Hr*s,Hr*a+Kr*s),e.lineTo(Kr*o-Hr*l,Hr*o+Kr*l),e.lineTo(Kr*n+Hr*i,Kr*i-Hr*n),e.lineTo(Kr*a+Hr*s,Kr*s-Hr*a),e.lineTo(Kr*o+Hr*l,Kr*l-Hr*o),e.closePath()}};function $5(e,t){let r=null,n=qw(i);e=typeof e=="function"?e:Ve(e||Kw),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ve(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Rf(){}function Df(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function BN(e){this._context=e}BN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Df(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z5(e){return new BN(e)}function qN(e){this._context=e}qN.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U5(e){return new qN(e)}function WN(e){this._context=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Df(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5(e){return new WN(e)}function KN(e){this._context=e}KN.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q5(e){return new KN(e)}function wS(e){return e<0?-1:1}function xS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(wS(a)+wS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function _S(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Mf(e){this._context=e}Mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mg(this,this._t0,_S(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mg(this,_S(this,r=xS(this,e,t)),r);break;default:mg(this,this._t0,r=xS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HN(e){this._context=new GN(e)}(HN.prototype=Object.create(Mf.prototype)).point=function(e,t){Mf.prototype.point.call(this,t,e)};function GN(e){this._context=e}GN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function W5(e){return new Mf(e)}function K5(e){return new HN(e)}function QN(e){this._context=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=bS(e),i=bS(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function H5(e){return new QN(e)}function dp(e,t){this._context=e,this._t=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function G5(e){return new dp(e,.5)}function Q5(e){return new dp(e,0)}function Y5(e){return new dp(e,1)}function xo(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ly(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function X5(e,t){return e[t]}function Z5(e){const t=[];return t.key=e,t}function J5(){var e=Ve([]),t=ly,r=xo,n=X5;function i(a){var s=Array.from(e.apply(this,arguments),Z5),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=Ww(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ve(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ly:typeof a=="function"?a:Ve(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??xo,i):r},i}function ez(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}xo(e,t)}}function tz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}xo(e,t)}}function rz(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,p=c[n-1][1]||0,m=(f-p)/2,g=0;g<o;++g){var y=e[t[g]],b=y[n][1]||0,x=y[n-1][1]||0;m+=b-x}l+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,xo(e,t)}}var fp={},YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(YN);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Hw);var hp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(hp);var pp={},XN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(XN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XN,r=hp;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(pp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YN,r=Hw,n=hp,i=pp;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(fp);var nz=fp.get;const os=Ai(nz);var Ft=e=>e===0?0:e>0?1:-1,An=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!An(e),Kn=e=>re(e)||typeof e=="string",iz=0,Au=e=>{var t=++iz;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(yi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return An(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},ZN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function At(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function az(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):os(n,t))===r)}var zt=e=>e===null||typeof e>"u",Zu=e=>zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function sz(e){return e!=null}function Ju(){}var oz=["type","size","sizeType"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){lz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lz(e,t,r){return(t=uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uz(e){var t=cz(e,"string");return typeof t=="symbol"?t:t+""}function cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dz(e,t){if(e==null)return{};var r,n,i=fz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JN={symbolCircle:Kw,symbolCross:I5,symbolDiamond:N5,symbolSquare:O5,symbolStar:M5,symbolTriangle:L5,symbolWye:F5},hz=Math.PI/180,pz=e=>{var t="symbol".concat(Zu(e));return JN[t]||Kw},mz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*hz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},gz=(e,t)=>{JN["symbol".concat(Zu(e))]=t},Gw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=dz(e,oz),a=SS(SS({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=pz(s),m=$5().type(p).size(mz(r,n,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,f=sn(a);return re(u)&&re(c)&&re(r)?_.createElement("path",uy({},f,{className:Oe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Gw.registerSymbol=gz;var eO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,vz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Uw(i)&&(n[i]=a=>r[i](r,a))}),n},yz=(e,t,r)=>n=>(e(t,r,n),null),ec=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Uw(i)&&typeof a=="function"&&(n||(n={}),n[i]=yz(a,t,r))}),n};function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=wz({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(null,arguments)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qr=32,Tz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Cz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Qr/2,a=Qr/6,s=Qr/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Qr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Qr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Qr/8,"h").concat(Qr,"v").concat(Qr*3/4,"h").concat(-Qr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var c=Ez({},t);return delete c.legendIcon,_.cloneElement(t.legendIcon,c)}return _.createElement(Gw,{fill:o,cx:i,cy:i,size:Qr,sizeType:"diameter",type:l})}function Iz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Qr,height:Qr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var p=c.formatter||i,m=Oe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,f):c.value;return _.createElement("li",Lf({className:m,style:l,key:"legend-item-".concat(f)},ec(e,c,f)),_.createElement(Bw,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},_.createElement(Cz,{data:c,iconType:s,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var jz=e=>{var t=Ut(e,Tz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(Iz,Lf({},t,{payload:r})))},tO={},rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(rO);var Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Qw);var nO={},mp={},iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(mp);var aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mp,r=aO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(nO);var sO={},oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(oO);var lO={},Yw={},uO={},Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Xw);var Zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Zw);var Jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Jw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw,r=Zw,n=Jw;function i(c,f,p){return typeof p!="function"?i(c,f,()=>{}):a(c,f,function m(g,y,b,x,E,A){const I=p(g,y,b,x,E,A);return I!==void 0?!!I:a(g,y,m,A)},new Map)}function a(c,f,p,m){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,p,m);case"function":return Object.keys(f).length>0?a(c,{...f},p,m):n.eq(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:n.eq(c,f)}}function s(c,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(c,f,p,m);if(f instanceof Map)return o(c,f,p,m);if(f instanceof Set)return u(c,f,p,m);const g=Object.keys(f);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===c;m==null||m.set(f,c);try{for(let y=0;y<g.length;y++){const b=g[y];if(!r.isPrimitive(c)&&!(b in c)||f[b]===void 0&&c[b]!==void 0||f[b]===null&&c[b]!==null||!p(c[b],f[b],b,c,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(c,f,p,m){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of f.entries()){const b=c.get(g);if(p(b,y,g,c,f,m)===!1)return!1}return!0}function l(c,f,p,m){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<f.length;y++){const b=f[y];let x=!1;for(let E=0;E<c.length;E++){if(g.has(E))continue;const A=c[E];let I=!1;if(p(A,b,y,c,f,m)&&(I=!0),I){g.add(E),x=!0;break}}if(!x)return!1}return!0}function u(c,f,p,m){return f.size===0?!0:c instanceof Set?l([...c],[...f],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Yw);var cO={},ex={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(dO);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(tx);var rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",I="[object BigUint64Array]",R="[object Int8Array]",O="[object Int16Array]",v="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=v,e.int8ArrayTag=R,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(rx);var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO,r=tx,n=rx,i=Zw,a=fO;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,f,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const b=new Array(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;m.set(c,b);for(const[x,E]of c)b.set(x,o(E,x,p,m,g));return b}if(c instanceof Set){const b=new Set;m.set(c,b);for(const x of c)b.add(o(x,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,b);for(let x=0;x<c.length;x++)b[x]=o(c[x],x,p,m,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,b),l(b,c,p,m,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(typeof Blob<"u"&&c instanceof Blob){const b=new Blob([c],{type:c.type});return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Error){const b=new c.constructor;return m.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,p,m,g),b}if(c instanceof Boolean){const b=new Boolean(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof Number){const b=new Number(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(c instanceof String){const b=new String(c.valueOf());return m.set(c,b),l(b,c,p,m,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return m.set(c,b),l(b,c,p,m,g),b}return c}function l(c,f,p=c,m,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<y.length;b++){const x=y[b],E=Object.getOwnPropertyDescriptor(c,x);(E==null||E.writable)&&(c[x]=o(f[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(ex);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw,r=cO;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(lO);var hO={},pO={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex,r=rx;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pO);var gO={},nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nx);var vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw,r=nx,n=vO,i=pp;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw,r=hp,n=pO,i=fp,a=gO;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(hO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,r=oO,n=lO,i=hO;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(sO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO,r=Qw,n=nO,i=sO;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(tO);var Nz=tO.uniqBy;const TS=Ai(Nz);function yO(e,t,r){return t===!0?TS(e,r):typeof t=="function"?TS(e,t):e}var wO={exports:{}},xO={},_O={exports:{}},bO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=_;function Oz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kz=typeof Object.is=="function"?Object.is:Oz,Rz=_o.useState,Dz=_o.useEffect,Mz=_o.useLayoutEffect,Lz=_o.useDebugValue;function Vz(e,t){var r=t(),n=Rz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Mz(function(){i.value=r,i.getSnapshot=t,gg(i)&&a({inst:i})},[e,r,t]),Dz(function(){return gg(i)&&a({inst:i}),e(function(){gg(i)&&a({inst:i})})},[e]),Lz(r),r}function gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kz(e,r)}catch{return!0}}function Fz(e,t){return t()}var $z=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fz:Vz;bO.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:$z;_O.exports=bO;var zz=_O.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=_,Uz=zz;function Bz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qz=typeof Object.is=="function"?Object.is:Bz,Wz=Uz.useSyncExternalStore,Kz=gp.useRef,Hz=gp.useEffect,Gz=gp.useMemo,Qz=gp.useDebugValue;xO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Kz(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Gz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,qz(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,f=y)}var u=!1,c,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Wz(e,a[0],a[1]);return Hz(function(){s.hasValue=!0,s.value=o},[o]),Qz(o),o};wO.exports=xO;var Yz=wO.exports,ix=_.createContext(null),Xz=e=>e,ze=()=>{var e=_.useContext(ix);return e?e.store.dispatch:Xz},Fd=()=>{},Zz=()=>Fd,Jz=(e,t)=>e===t;function te(e){var t=_.useContext(ix);return Yz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zz,t?t.store.getState:Fd,t?t.store.getState:Fd,t?e:Fd,Jz)}function e9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var CS=e=>Array.isArray(e)?e:[e];function n9(e){const t=Array.isArray(e[0])?e[0]:e;return r9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var a9=class{constructor(e){this.value=e}deref(){return this.value}},s9=typeof WeakRef<"u"?WeakRef:a9,o9=0,IS=1;function ad(){return{s:o9,v:void 0,o:null,p:null}}function EO(e,t={}){let r=ad();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(g);b===void 0?(o=ad(),y.set(g,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(g);b===void 0?(o=ad(),y.set(g,o)):o=b}}const u=o;let c;if(o.s===IS)c=o.v;else if(c=e.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new s9(c):c}return u.s=IS,u.v=c,c}return s.clearCache=()=>{r=ad(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function l9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),e9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=EO,argsMemoizeOptions:g=[]}=c,y=CS(p),b=CS(g),x=n9(i),E=f(function(){return a++,u.apply(null,arguments)},...y),A=m(function(){s++;const R=i9(x,arguments);return o=E.apply(null,R),o},...b);return Object.assign(A,{resultFunc:u,memoizedResultFunc:E,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=l9(EO),u9=Object.assign((e,t=L)=>{t9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>u9}),SO={},AO={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(PO);var TO={},ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ax);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,r=TO,n=pp;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let y=m;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const b=t.compareValues(m.criteria[y],g.criteria[y],o[y]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(AO);var CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(CO);var sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=mp,n=Xw,i=Jw;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(sx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO,r=CO,n=sx;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(SO);var c9=SO.sortBy;const vp=Ai(c9);var IO=e=>e.legend.settings,d9=e=>e.legend.size,f9=e=>e.legend.payload,h9=L([f9,IO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?vp(n,r):n});function p9(){return te(h9)}var sd=1;function jO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>sd||Math.abs(s.left-t.left)>sd||Math.abs(s.top-t.top)>sd||Math.abs(s.width-t.width)>sd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var m9=typeof Symbol=="function"&&Symbol.observable||"@@observable",jS=m9,vg=()=>Math.random().toString(36).substring(7).split("").join("."),g9={INIT:`@@redux/INIT${vg()}`,REPLACE:`@@redux/REPLACE${vg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vg()}`},Vf=g9;function ox(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function NO(e,t,r){if(typeof e!="function")throw new Error(Wt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wt(1));return r(NO)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,x)=>{s.set(x,b)}))}function c(){if(l)throw new Error(Wt(3));return i}function f(b){if(typeof b!="function")throw new Error(Wt(4));if(l)throw new Error(Wt(5));let x=!0;u();const E=o++;return s.set(E,b),function(){if(x){if(l)throw new Error(Wt(6));x=!1,u(),s.delete(E),a=null}}}function p(b){if(!ox(b))throw new Error(Wt(7));if(typeof b.type>"u")throw new Error(Wt(8));if(typeof b.type!="string")throw new Error(Wt(17));if(l)throw new Error(Wt(9));try{l=!0,i=n(i,b)}finally{l=!1}return(a=s).forEach(E=>{E()}),b}function m(b){if(typeof b!="function")throw new Error(Wt(10));n=b,p({type:Vf.REPLACE})}function g(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Wt(11));function E(){const I=x;I.next&&I.next(c())}return E(),{unsubscribe:b(E)}},[jS](){return this}}}return p({type:Vf.INIT}),{dispatch:p,subscribe:f,getState:c,replaceReducer:m,[jS]:g}}function v9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vf.INIT})>"u")throw new Error(Wt(12));if(typeof r(void 0,{type:Vf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function OO(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{v9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const f=n[c],p=r[f],m=s[f],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Wt(14));u[f]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Ff(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function y9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Wt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Ff(...o)(i.dispatch),{...i,dispatch:a}}}function kO(e){return ox(e)&&"type"in e&&typeof e.type=="string"}var RO=Symbol.for("immer-nothing"),NS=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vr=Object,bo=Vr.getPrototypeOf,$f="constructor",yp="prototype",cy="configurable",zf="enumerable",$d="writable",Pu="value",wi=e=>!!e&&!!e[gr];function Pn(e){var t;return e?DO(e)||wp(e)||!!e[NS]||!!((t=e[$f])!=null&&t[NS])||xp(e)||_p(e):!1}var w9=Vr[yp][$f].toString(),OS=new WeakMap;function DO(e){if(!e||!lx(e))return!1;const t=bo(e);if(t===null||t===Vr[yp])return!0;const r=Vr.hasOwnProperty.call(t,$f)&&t[$f];if(r===Object)return!0;if(!Rs(r))return!1;let n=OS.get(r);return n===void 0&&(n=Function.toString.call(r),OS.set(r,n)),n===w9}function tc(e,t,r=!0){rc(e)===0?(r?Reflect.ownKeys(e):Vr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rc(e){const t=e[gr];return t?t.type_:wp(e)?1:xp(e)?2:_p(e)?3:0}var kS=(e,t,r=rc(e))=>r===2?e.has(t):Vr[yp].hasOwnProperty.call(e,t),dy=(e,t,r=rc(e))=>r===2?e.get(t):e[t],Uf=(e,t,r,n=rc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function x9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wp=Array.isArray,xp=e=>e instanceof Map,_p=e=>e instanceof Set,lx=e=>typeof e=="object",Rs=e=>typeof e=="function",yg=e=>typeof e=="boolean",Jn=e=>e.copy_||e.base_,ux=e=>e.modified_?e.copy_:e.base_;function fy(e,t){if(xp(e))return new Map(e);if(_p(e))return new Set(e);if(wp(e))return Array[yp].slice.call(e);const r=DO(e);if(t===!0||t==="class_only"&&!r){const n=Vr.getOwnPropertyDescriptors(e);delete n[gr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[$d]===!1&&(o[$d]=!0,o[cy]=!0),(o.get||o.set)&&(n[s]={[cy]:!0,[$d]:!0,[zf]:o[zf],[Pu]:e[s]})}return Vr.create(bo(e),n)}else{const n=bo(e);if(n!==null&&r)return{...e};const i=Vr.create(n);return Vr.assign(i,e)}}function cx(e,t=!1){return bp(e)||wi(e)||!Pn(e)||(rc(e)>1&&Vr.defineProperties(e,{set:od,add:od,clear:od,delete:od}),Vr.freeze(e),t&&tc(e,(r,n)=>{cx(n,!0)},!1)),e}function _9(){gn(2)}var od={[Pu]:_9};function bp(e){return e===null||!lx(e)?!0:Vr.isFrozen(e)}var Bf="MapSet",hy="Patches",MO={};function Eo(e){const t=MO[e];return t||gn(0,e),t}var b9=e=>!!MO[e],Tu,LO=()=>Tu,E9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:b9(Bf)?Eo(Bf):void 0});function RS(e,t){t&&(e.patchPlugin_=Eo(hy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function py(e){my(e),e.drafts_.forEach(S9),e.drafts_=null}function my(e){e===Tu&&(Tu=e.parent_)}var DS=e=>Tu=E9(Tu,e);function S9(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[gr].modified_&&(py(t),gn(4)),Pn(e)&&(e=LS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[gr].base_,e,t)}else e=LS(t,r);return A9(t,e,!0),py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RO?e:void 0}function LS(e,t){if(bp(t))return t;const r=t[gr];if(!r)return dx(t,e.handledSet_,e);if(!Ep(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);$O(r,e)}return r.copy_}function A9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cx(t,r)}function VO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ep=(e,t)=>e.scope_===t,P9=[];function FO(e,t,r,n){const i=Jn(e),a=e.type_;if(n!==void 0&&dy(i,n,a)===t){Uf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;tc(i,(l,u)=>{if(wi(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??P9;for(const o of s)Uf(i,o,r,a)}function T9(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ep(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=ux(a);FO(e,a.draft_??a,s,r),$O(a,i)})}function $O(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}VO(e)}}function C9(e,t,r){const{scope_:n}=e;if(wi(r)){const i=r[gr];Ep(i,n)&&i.callbacks_.push(function(){zd(e);const s=ux(i);FO(e,r,s,t)})}else Pn(r)&&e.callbacks_.push(function(){const a=Jn(e);dy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&dx(dy(e.copy_,t,e.type_),n.handledSet_,n)})}function dx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||wi(e)||t.has(e)||!Pn(e)||bp(e)||(t.add(e),tc(e,(n,i)=>{if(wi(i)){const a=i[gr];if(Ep(a,r)){const s=ux(a);Uf(e,n,s,e.type_),VO(a)}}else Pn(i)&&dx(i,t,r)})),e}function I9(e,t){const r=wp(e),n={type_:r?1:0,scope_:t?t.scope_:LO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=fx;r&&(i=[n],a=Cu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var fx={get(e,t){if(t===gr)return e;const r=Jn(e);if(!kS(r,t,e.type_))return j9(e,r,t);const n=r[t];if(e.finalized_||!Pn(n))return n;if(n===wg(e.base_,t)){zd(e);const i=e.type_===1?+t:t,a=vy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},set(e,t,r){const n=zO(Jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=wg(Jn(e),t),a=i==null?void 0:i[gr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(x9(r,i)&&(r!==void 0||kS(e.base_,t,e.type_)))return!0;zd(e),gy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),C9(e,t,r)),!0},deleteProperty(e,t){return zd(e),wg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[$d]:!0,[cy]:e.type_!==1||t!=="length",[zf]:n[zf],[Pu]:r[t]}},defineProperty(){gn(11)},getPrototypeOf(e){return bo(e.base_)},setPrototypeOf(){gn(12)}},Cu={};tc(fx,(e,t)=>{Cu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Cu.deleteProperty=function(e,t){return Cu.set.call(this,e,t,void 0)};Cu.set=function(e,t,r){return fx.set.call(this,e[0],t,r,e[0])};function wg(e,t){const r=e[gr];return(r?Jn(r):e)[t]}function j9(e,t,r){var i;const n=zO(t,r);return n?Pu in n?n[Pu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function zO(e,t){if(!(t in e))return;let r=bo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bo(r)}}function gy(e){e.modified_||(e.modified_=!0,e.parent_&&gy(e.parent_))}function zd(e){e.copy_||(e.assigned_=new Map,e.copy_=fy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var N9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Rs(r)&&!Rs(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}Rs(n)||gn(6),i!==void 0&&!Rs(i)&&gn(7);let a;if(Pn(r)){const s=DS(this),o=vy(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?py(s):my(s)}return RS(s,i),MS(a,s)}else if(!r||!lx(r)){if(a=n(r),a===void 0&&(a=r),a===RO&&(a=void 0),this.autoFreeze_&&cx(a,!0),i){const s=[],o=[];Eo(hy).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else gn(1,r)},this.produceWithPatches=(r,n)=>{if(Rs(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},yg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),yg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),yg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pn(t)||gn(8),wi(t)&&(t=_n(t));const r=DS(this),n=vy(r,t,void 0);return n[gr].isManual_=!0,my(r),n}finishDraft(t,r){const n=t&&t[gr];(!n||!n.isManual_)&&gn(9);const{scope_:i}=n;return RS(i,r),MS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Eo(hy).applyPatches_;return wi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function vy(e,t,r,n){const[i,a]=xp(t)?Eo(Bf).proxyMap_(t,r):_p(t)?Eo(Bf).proxySet_(t,r):I9(t,r);return((r==null?void 0:r.scope_)??LO()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?T9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function _n(e){return wi(e)||gn(10,e),UO(e)}function UO(e){if(!Pn(e)||bp(e))return e;const t=e[gr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fy(e,!0);return tc(r,(i,a)=>{Uf(r,i,UO(a))},n),t&&(t.finalized_=!1),r}var O9=new N9,BO=O9.produce;function qO(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var k9=qO(),R9=qO,D9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ff:Ff.apply(null,arguments)};function on(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($r(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kO(n)&&n.type===e,r}var WO=class Ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ml.prototype)}static get[Symbol.species](){return Ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ml(...t[0].concat(this)):new Ml(...t.concat(this))}};function VS(e){return Pn(e)?BO(e,()=>{}):e}function ld(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function M9(e){return typeof e=="boolean"}var L9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new WO;return r&&(M9(r)?s.push(k9):s.push(R9(r.extraArgument))),s},KO="RTK_autoBatch",Ge=()=>e=>({payload:e,meta:{[KO]:!0}}),FS=e=>t=>{setTimeout(t,e)},HO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FS(10):e.type==="callback"?e.queueNotification:FS(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const f=()=>i&&c(),p=n.subscribe(f);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[KO]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},V9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new WO(e);return n&&i.push(HO(typeof n=="object"?n:void 0)),i};function F9(e){const t=L9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(ox(r))o=OO(r);else throw new Error($r(1));let l;typeof n=="function"?l=n(t):l=t();let u=Ff;i&&(u=D9({trace:!1,...typeof i=="object"&&i}));const c=y9(...l),f=V9(c);let p=typeof s=="function"?s(f):f();const m=u(...p);return NO(o,a,m)}function GO(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error($r(28));if(o in t)throw new Error($r(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function $9(e){return typeof e=="function"}function z9(e,t){let[r,n,i]=GO(t),a;if($9(e))a=()=>VS(e());else{const o=VS(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(wi(c)){const m=f(c,l);return m===void 0?c:m}else{if(Pn(c))return BO(c,p=>f(p,l));{const p=f(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var U9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",B9=(e=21)=>{let t="",r=e;for(;r--;)t+=U9[Math.random()*64|0];return t},q9=Symbol.for("rtk-slice-createasyncthunk");function W9(e,t){return`${e}/${t}`}function K9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[q9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error($r(11));const o=(typeof i.reducers=="function"?i.reducers(G9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,R){const O=typeof I=="string"?I:I.type;if(!O)throw new Error($r(12));if(O in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[O]=R,c},addMatcher(I,R){return u.sliceMatchers.push({matcher:I,reducer:R}),c},exposeAction(I,R){return u.actionCreators[I]=R,c},exposeCaseReducer(I,R){return u.sliceCaseReducersByName[I]=R,c}};l.forEach(I=>{const R=o[I],O={reducerName:I,type:W9(a,I),createNotation:typeof i.reducers=="function"};Y9(R)?Z9(O,R,c,t):Q9(O,R,c)});function f(){const[I={},R=[],O=void 0]=typeof i.extraReducers=="function"?GO(i.extraReducers):[i.extraReducers],v={...I,...u.sliceCaseReducersByType};return z9(i.initialState,S=>{for(let C in v)S.addCase(C,v[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of R)S.addMatcher(C.matcher,C.reducer);O&&S.addDefaultCase(O)})}const p=I=>I,m=new Map,g=new WeakMap;let y;function b(I,R){return y||(y=f()),y(I,R)}function x(){return y||(y=f()),y.getInitialState()}function E(I,R=!1){function O(S){let C=S[I];return typeof C>"u"&&R&&(C=ld(g,O,x)),C}function v(S=p){const C=ld(m,R,()=>new WeakMap);return ld(C,S,()=>{const k={};for(const[T,N]of Object.entries(i.selectors??{}))k[T]=H9(N,S,()=>ld(g,S,x),R);return k})}return{reducerPath:I,getSelectors:v,get selectors(){return v(O)},selectSlice:O}}const A={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...E(s),injectInto(I,{reducerPath:R,...O}={}){const v=R??s;return I.inject({reducerPath:v,reducer:b},O),{...A,...E(v,!0)}}};return A}}function H9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var jr=K9();function G9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Q9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!X9(n))throw new Error($r(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?on(e,s):on(e))}function Y9(e){return e._reducerDefinitionType==="asyncThunk"}function X9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Z9({type:e,reducerName:t},r,n,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,f=i(e,a,c);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||ud,pending:o||ud,rejected:l||ud,settled:u||ud})}function ud(){}var J9="task",QO="listener",YO="completed",hx="cancelled",eU=`task-${hx}`,tU=`task-${YO}`,yy=`${QO}-${hx}`,rU=`${QO}-${YO}`,Sp=class{constructor(e){Om(this,"name","TaskAbortError");Om(this,"message");this.code=e,this.message=`${J9} ${hx} (reason: ${e})`}},px=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},qf=()=>{},XO=(e,t=qf)=>(e.catch(t),e),ZO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ya=e=>{if(e.aborted)throw new Sp(e.reason)};function JO(e,t){let r=qf;return new Promise((n,i)=>{const a=()=>i(new Sp(e.reason));if(e.aborted){a();return}r=ZO(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qf})}var nU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Sp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Wf=e=>t=>XO(JO(e,t).then(r=>(Ya(e),r))),ek=e=>{const t=Wf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:no}=Object,$S={},Ap="listenerMiddleware",iU=(e,t)=>{const r=n=>ZO(e,()=>n.abort(e.reason));return(n,i)=>{px(n);const a=new AbortController;r(a);const s=nU(async()=>{Ya(e),Ya(a.signal);const o=await n({pause:Wf(a.signal),delay:ek(a.signal),signal:a.signal});return Ya(a.signal),o},()=>a.abort(tU));return i!=null&&i.autoJoin&&t.push(s.catch(qf)),{result:Wf(e)(s),cancel(){a.abort(eU)}}}},aU=(e,t)=>{const r=async(n,i)=>{Ya(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await JO(t,Promise.race(o));return Ya(t),l}finally{a()}};return(n,i)=>XO(r(n,i))},tk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=on(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($r(21));return px(a),{predicate:i,type:t,effect:a}},rk=no(e=>{const{type:t,predicate:r,effect:n}=tk(e);return{id:B9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>rk}),zS=(e,t)=>{const{type:r,effect:n,predicate:i}=tk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wy=e=>{e.pending.forEach(t=>{t.abort(yy)})},sU=(e,t)=>()=>{for(const r of t.keys())wy(r);e.clear()},US=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},nk=no(on(`${Ap}/add`),{withTypes:()=>nk}),oU=on(`${Ap}/removeAll`),ik=no(on(`${Ap}/remove`),{withTypes:()=>ik}),lU=(...e)=>{console.error(`${Ap}/error`,...e)},nc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=lU}=e;px(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wy(m)}),l=m=>{const g=zS(t,m)??rk(m);return o(g)};no(l,{withTypes:()=>l});const u=m=>{const g=zS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&wy(g)),!!g};no(u,{withTypes:()=>u});const c=async(m,g,y,b)=>{const x=new AbortController,E=aU(l,x.signal),A=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,no({},y,{getOriginalState:b,condition:(I,R)=>E(I,R).then(Boolean),take:E,delay:ek(x.signal),pause:Wf(x.signal),extra:a,signal:x.signal,fork:iU(x.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,R,O)=>{I!==x&&(I.abort(yy),O.delete(I))})},cancel:()=>{x.abort(yy),m.pending.delete(x)},throwIfCancelled:()=>{Ya(x.signal)}})))}catch(I){I instanceof Sp||US(s,I,{raisedBy:"effect"})}finally{await Promise.all(A),x.abort(rU),i(m),m.pending.delete(x)}},f=sU(t,r);return{middleware:m=>g=>y=>{if(!kO(y))return g(y);if(nk.match(y))return l(y.payload);if(oU.match(y)){f();return}if(ik.match(y))return u(y.payload);let b=m.getState();const x=()=>{if(b===$S)throw new Error($r(23));return b};let E;try{if(E=g(y),t.size>0){const A=m.getState(),I=Array.from(t.values());for(const R of I){let O=!1;try{O=R.predicate(y,A,b)}catch(v){O=!1,US(s,v,{raisedBy:"predicate"})}O&&c(R,y,m,x)}}}finally{b=$S}return E},startListening:l,stopListening:u,clearListeners:f}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ak=jr({name:"chartLayout",initialState:uU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cU,setLayout:dU,setChartSize:fU,setScale:hU}=ak.actions,pU=ak.reducer;function sk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return(t=gU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=vU(e,"string");return typeof t=="symbol"?t:t+""}function vU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return zt(e)||zt(t)?r:Kn(t)?os(e,t,r):typeof t=="function"?t(e):r}var yU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&re(e[a]))return Hs(Hs({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&re(e[s]))return Hs(Hs({},e),{},{[s]:e[s]+(i||0)})}return e},ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ok=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},lk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:p,axisType:m}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Ft(a[0]-a[1])*2*y:y,f||p){var b=(f||p||[]).map((x,E)=>{var A=n?n.indexOf(x):x;return{coordinate:s(A)+y,value:x,offset:y,index:E}});return b.filter(x=>!An(x.coordinate))}return l&&u?u.map((x,E)=>({coordinate:s(x)+y,value:x,index:E,offset:y})):s.ticks&&c!=null?s.ticks(c).map((x,E)=>({coordinate:s(x)+y,value:x,offset:y,index:E})):s.domain().map((x,E)=>({coordinate:s(x)+y,value:n?n[x]:x,index:E,offset:y}))},qS=1e-4,wU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-qS,a=Math.max(n[0],n[1])+qS,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},xU=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},_U=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=An(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},bU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=An(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},EU={sign:_U,expand:ez,none:xo,silhouette:tz,wiggle:rz,positive:bU},SU=(e,t,r)=>{var n=EU[r],i=J5().keys(t).value((a,s)=>Number(Ye(a,s,0))).order(ly).offset(n);return i(e)};function AU(e){return e==null?void 0:String(e)}var WS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ye(a,t.dataKey,t.scale.domain()[s]);return zt(o)?null:t.scale(o)-i/2+n},PU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},TU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},CU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],IU=(e,t,r)=>{if(e!=null)return CU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=sk(u,t,r),f=TU(c);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},KS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=vp(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function GS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Hs(Hs({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Pp(e,t){if(e)return String(e);if(typeof t=="string")return t}var jU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},NU=(e,t)=>t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,Ci=e=>e.layout.height,OU=e=>e.layout.scale,uk=e=>e.layout.margin,Tp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cp=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ck="data-recharts-item-index",dk="data-recharts-item-data-key",ic=60;function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MU=e=>e.brush.height;function LU(e){var t=Cp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function VU(e){var t=Cp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function FU(e){var t=Tp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function $U(e){var t=Tp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var It=L([Ti,Ci,uk,MU,LU,VU,FU,$U,IO,d9],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=cd(cd({},f),c),m=p.bottom;p.bottom+=n,p=yU(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return cd(cd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),zU=L(It,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mx=L(Ti,Ci,(e,t)=>({x:0,y:0,width:e,height:t})),UU=_.createContext(null),Nr=()=>_.useContext(UU)!=null,Ip=e=>e.brush,jp=L([Ip,It,uk],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),fk={},hk={},pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),s=void 0,o=null},b=()=>{c()},x=function(...E){if(i!=null&&i.aborted)return;s=this,o=E;const A=p==null;m(),l&&A&&c()};return x.schedule=m,x.cancel=y,x.flush=b,i==null||i.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const p=t.debounce(function(...y){c=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=n.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(fk);var BU=fk.throttle;const qU=Ai(BU);var Hf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},mk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=yi(n)?e:Number(n),l=yi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},WU={width:0,height:0,overflow:"visible"},KU={width:0,overflowX:"visible"},HU={height:0,overflowY:"visible"},GU={},QU=e=>{var{width:t,height:r}=e,n=yi(t),i=yi(r);return n&&i?WU:n?KU:i?HU:GU};function YU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function dt(e){return Number.isFinite(e)}function Hn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=JU(e,"string");return typeof t=="symbol"?t:t+""}function JU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gk=_.createContext({width:-1,height:-1});function eB(e){return Hn(e.width)&&Hn(e.height)}function vk(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return eB(i)?_.createElement(gk.Provider,{value:i},t):null}var gx=()=>_.useContext(gk),tB=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:f,className:p,onResize:m,style:g={}}=e,y=_.useRef(null),b=_.useRef();b.current=m,_.useImperativeHandle(t,()=>y.current);var[x,E]=_.useState({containerWidth:n.width,containerHeight:n.height}),A=_.useCallback((S,C)=>{E(k=>{var T=Math.round(S),N=Math.round(C);return k.containerWidth===T&&k.containerHeight===N?k:{containerWidth:T,containerHeight:N}})},[]);_.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ju;var S=N=>{var j,{width:Q,height:se}=N[0].contentRect;A(Q,se),(j=b.current)===null||j===void 0||j.call(b,Q,se)};c>0&&(S=qU(S,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:k,height:T}=y.current.getBoundingClientRect();return A(k,T),C.observe(y.current),()=>{C.disconnect()}},[A,c]);var{containerWidth:I,containerHeight:R}=x;Hf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:v}=mk(I,R,{width:i,height:a,aspect:r,maxHeight:l});return Hf(O!=null&&O>0||v!=null&&v>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,v,i,a,s,o,r),_.createElement("div",{id:f?"".concat(f):void 0,className:Oe("recharts-responsive-container",p),style:XS(XS({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},_.createElement("div",{style:QU({width:i,height:a})},_.createElement(vk,{width:O,height:v},u)))}),vx=_.forwardRef((e,t)=>{var r=gx();if(Hn(r.width)&&Hn(r.height))return e.children;var{width:n,height:i}=YU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=mk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(s)?_.createElement(vk,{width:a,height:s},e.children):_.createElement(tB,xy({},e,{width:n,height:i,ref:t}))});function yk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Np=()=>{var e,t=Nr(),r=te(zU),n=te(jp),i=(e=te(Ip))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},rB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wk=()=>{var e;return(e=te(It))!==null&&e!==void 0?e:rB},yx=()=>te(Ti),wx=()=>te(Ci),nB=()=>te(e=>e.layout.margin),Te=e=>e.layout.layoutType,Op=()=>te(Te),iB=()=>{var e=Op();return e!==void 0},kp=e=>{var t=ze(),r=Nr(),{width:n,height:i}=e,a=gx(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),_.useEffect(()=>{!r&&Hn(s)&&Hn(o)&&t(fU({width:s,height:o}))},[t,r,s,o]),null},xk=Symbol.for("immer-nothing"),ZS=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Iu=Object.getPrototypeOf;function So(e){return!!e&&!!e[Ur]}function ls(e){var t;return e?_k(e)||Array.isArray(e)||!!e[ZS]||!!((t=e.constructor)!=null&&t[ZS])||ac(e)||Dp(e):!1}var aB=Object.prototype.constructor.toString(),JS=new WeakMap;function _k(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=JS.get(r);return n===void 0&&(n=Function.toString.call(r),JS.set(r,n)),n===aB}function Gf(e,t,r=!0){Rp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Rp(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:ac(e)?2:Dp(e)?3:0}function _y(e,t){return Rp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bk(e,t,r){const n=Rp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function sB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ac(e){return e instanceof Map}function Dp(e){return e instanceof Set}function La(e){return e.copy_||e.base_}function by(e,t){if(ac(e))return new Map(e);if(Dp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=_k(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Iu(e),n)}else{const n=Iu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function xx(e,t=!1){return Mp(e)||So(e)||!ls(e)||(Rp(e)>1&&Object.defineProperties(e,{set:dd,add:dd,clear:dd,delete:dd}),Object.freeze(e),t&&Object.values(e).forEach(r=>xx(r,!0))),e}function oB(){vn(2)}var dd={value:oB};function Mp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var lB={};function us(e){const t=lB[e];return t||vn(0,e),t}var ju;function Ek(){return ju}function uB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eA(e,t){t&&(us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ey(e){Sy(e),e.drafts_.forEach(cB),e.drafts_=null}function Sy(e){e===ju&&(ju=e.parent_)}function tA(e){return ju=uB(ju,e)}function cB(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(Ey(t),vn(4)),ls(e)&&(e=Qf(t,e),t.parent_||Yf(t,e)),t.patches_&&us("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=Qf(t,r,[]),Ey(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xk?e:void 0}function Qf(e,t,r){if(Mp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ur];if(!i)return Gf(t,(a,s)=>nA(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Yf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Gf(s,(l,u)=>nA(e,i,a,l,u,r,o),n),Yf(e,a,!1),r&&e.patches_&&us("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function nA(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Mp(i);if(!(o&&!s)){if(So(i)){const l=a&&t&&t.type_!==3&&!_y(t.assigned_,n)?a.concat(n):void 0,u=Qf(e,i,l);if(bk(r,n,u),So(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ls(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Qf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ac(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Yf(e,i)}}}function Yf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xx(t,r)}function dB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ek(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=_x;r&&(i=[n],a=Nu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var _x={get(e,t){if(t===Ur)return e;const r=La(e);if(!_y(r,t))return fB(e,r,t);const n=r[t];return e.finalized_||!ls(n)?n:n===xg(e.base_,t)?(_g(e),e.copy_[t]=Py(n,e)):n},has(e,t){return t in La(e)},ownKeys(e){return Reflect.ownKeys(La(e))},set(e,t,r){const n=Sk(La(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=xg(La(e),t),a=i==null?void 0:i[Ur];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(sB(r,i)&&(r!==void 0||_y(e.base_,t)))return!0;_g(e),Ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_g(e),Ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=La(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vn(11)},getPrototypeOf(e){return Iu(e.base_)},setPrototypeOf(){vn(12)}},Nu={};Gf(_x,(e,t)=>{Nu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nu.deleteProperty=function(e,t){return Nu.set.call(this,e,t,void 0)};Nu.set=function(e,t,r){return _x.set.call(this,e[0],t,r,e[0])};function xg(e,t){const r=e[Ur];return(r?La(r):e)[t]}function fB(e,t,r){var i;const n=Sk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Sk(e,t){if(!(t in e))return;let r=Iu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Iu(r)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function _g(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&vn(6),n!==void 0&&typeof n!="function"&&vn(7);let i;if(ls(t)){const a=tA(this),s=Py(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Ey(a):Sy(a)}return eA(a,n),rA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===xk&&(i=void 0),this.autoFreeze_&&xx(i,!0),n){const a=[],s=[];us("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ls(e)||vn(8),So(e)&&(e=pB(e));const t=tA(this),r=Py(e,void 0);return r[Ur].isManual_=!0,Sy(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&vn(9);const{scope_:n}=r;return eA(n,t),rA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=us("Patches").applyPatches_;return So(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Py(e,t){const r=ac(e)?us("MapSet").proxyMap_(e,t):Dp(e)?us("MapSet").proxySet_(e,t):dB(e,t);return(t?t.scope_:Ek()).drafts_.push(r),r}function pB(e){return So(e)||vn(10,e),Ak(e)}function Ak(e){if(!ls(e)||Mp(e))return e;const t=e[Ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return Gf(r,(i,a)=>{bk(r,i,Ak(a))},n),t&&(t.finalized_=!1),r}var mB=new hB;mB.produce;var gB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Pk=jr({name:"legend",initialState:gB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ge()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(e,t){var r=_n(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:iA,setLegendSettings:vB,addLegendPayload:Tk,replaceLegendPayload:Ck,removeLegendPayload:Ik}=Pk.actions,yB=Pk.reducer,wB=["contextPayload"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){xB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e,t){if(e==null)return{};var r,n,i=SB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AB(e){return e.value}function PB(e){var{contextPayload:t}=e,r=EB(e,wB),n=yO(t,e.payloadUniqBy,AB),i=Ao(Ao({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(jz,i)}function TB(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ao(Ao({},u),c)}function CB(e){var t=ze();return _.useEffect(()=>{t(vB(e))},[t,e]),null}function IB(e){var t=ze();return _.useEffect(()=>(t(iA(e)),()=>{t(iA({width:0,height:0}))}),[t,e]),null}function jB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var NB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Lp(e){var t=Ut(e,NB),r=p9(),n=E5(),i=nB(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=jO([r]),f=yx(),p=wx();if(f==null||p==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=jB(t.layout,s,a,m),y=l?o:Ao(Ao({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},TB(o,t,i,f,p,u)),o),b=l??n;if(b==null||r==null)return null;var x=_.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},_.createElement(CB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&_.createElement(IB,{width:u.width,height:u.height}),_.createElement(PB,Ty({},t,g,{margin:i,chartWidth:f,chartHeight:p,contextPayload:r})));return Bn.createPortal(x,b)}Lp.displayName="Legend";function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DB(e){return Array.isArray(e)&&Kn(e[0])&&Kn(e[1])?e.join(" ~ "):e}var MB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var R={padding:0,margin:0},O=(o?vp(a,o):a).map((v,S)=>{if(v.type==="none")return null;var C=v.formatter||s||DB,{value:k,name:T}=v,N=k,j=T;if(C){var Q=C(k,T,v,S,a);if(Array.isArray(Q))[N,j]=Q;else if(Q!=null)N=Q;else return null}var se=bg({display:"block",paddingTop:4,paddingBottom:4,color:v.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:se},Kn(j)?_.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Kn(j)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},N),_.createElement("span",{className:"recharts-tooltip-item-unit"},v.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},g=bg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=bg({margin:0},i),b=!zt(c),x=b?c:"",E=Oe("recharts-default-tooltip",l),A=Oe("recharts-tooltip-label",u);b&&f&&a!==void 0&&a!==null&&(x=f(c,a));var I=p?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Cy({className:E,style:g},I),_.createElement("p",{className:A,style:y},_.isValidElement(x)?x:"".concat(x)),m())},wl="recharts-tooltip-wrapper",LB={visibility:"hidden"};function VB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Oe(wl,{["".concat(wl,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(wl,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(wl,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(wl,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function oA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&re(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?c:f;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,g=p;return m<g?Math.max(f,p):Math.max(c,p)}if(u==null)return 0;var y=f+o,b=p+u;return y>b?Math.max(c,p):Math.max(f,p)}function FB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $B(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,f;return s.height>0&&s.width>0&&r?(c=oA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=oA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=FB({translateX:c,translateY:f,useTranslate3d:o})):u=LB,{cssProperties:u,cssClasses:VB({translateX:c,translateY:f,coordinate:r})}}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iy(e,t,r){return(t=zB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BB extends _.PureComponent{constructor(){super(...arguments),Iy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:E,cssProperties:A}=$B({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),I=x?{}:fd(fd({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),R=fd(fd({},I),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:R,ref:b},a)}}var jk=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return(t=WB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=KB(e,"string");return typeof t=="symbol"?t:t+""}function KB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dA={curveBasisClosed:U5,curveBasisOpen:B5,curveBasis:z5,curveBumpX:T5,curveBumpY:C5,curveLinearClosed:q5,curveLinear:cp,curveMonotoneX:W5,curveMonotoneY:K5,curveNatural:H5,curveStep:G5,curveStepAfter:Y5,curveStepBefore:Q5},Xf=e=>dt(e.x)&&dt(e.y),fA=e=>e.base!=null&&Xf(e.base)&&Xf(e),xl=e=>e.x,_l=e=>e.y,HB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zu(e));return(r==="curveMonotone"||r==="curveBump")&&t?dA["".concat(r).concat(t==="vertical"?"Y":"X")]:dA[r]||cp},GB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=HB(t,i),o=a?r.filter(Xf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>cA(cA({},m),{},{base:n[g]}));i==="vertical"?l=id().y(_l).x1(xl).x0(m=>m.base.x):l=id().x(xl).y1(_l).y0(m=>m.base.y);var c=l.defined(fA).curve(s),f=a?u.filter(fA):u;return c(f)}i==="vertical"&&re(n)?l=id().y(_l).x1(xl).x0(n):re(n)?l=id().x(xl).y1(_l).y0(n):l=FN().x(xl).y(_l);var p=l.defined(Xf).curve(s);return p(o)},bx=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?GB(e):n;return _.createElement("path",jy({},Sn(e),vz(e),{className:Oe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},QB=["x","y","top","left","width","height","className"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e8(e,t){if(e==null)return{};var r,n,i=t8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),n8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=e8(e,QB),u=YB({x:t,y:r,top:n,left:i,width:a,height:s},l);return!re(t)||!re(r)||!re(a)||!re(s)||!re(n)||!re(i)?null:_.createElement("path",Ny({},sn(u),{className:Oe("recharts-cross",o),d:r8(t,r,a,s,n,i)}))};function i8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Nk=(e,t,r)=>e.map(n=>"".concat(l8(n)," ").concat(t,"ms ").concat(r)).join(","),u8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ou=(e,t)=>Object.keys(t).reduce((r,n)=>mA(mA({},r),{},{[n]:e(n,t[n])}),{});function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf=(e,t,r)=>e+(t-e)*r,Oy=e=>{var{from:t,to:r}=e;return t!==r},Ok=(e,t,r)=>{var n=Ou((i,a)=>{if(Oy(a)){var[s,o]=e(a.from,a.to,a.velocity);return Pt(Pt({},a),{},{from:s,velocity:o})}return a},t);return r<1?Ou((i,a)=>Oy(a)?Pt(Pt({},a),{},{velocity:Zf(a.velocity,n[i].velocity,r),from:Zf(a.from,n[i].from,r)}):a,t):Ok(e,n,r-1)};function h8(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Pt(Pt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ou((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Oy).length,c=null,f=p=>{s||(s=p);var m=p-s,g=m/r.dt;o=Ok(r,o,g),i(Pt(Pt(Pt({},e),t),l())),s=p,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}function p8(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>Pt(Pt({},f),{},{[p]:[e[p],t[p]]}),{}),u,c=f=>{u||(u=f);var p=(f-u)/n,m=Ou((y,b)=>Zf(...b,r(p)),l);if(a(Pt(Pt(Pt({},e),t),m)),p<1)o=s.setTimeout(c);else{var g=Ou((y,b)=>Zf(...b,r(1)),l);a(Pt(Pt(Pt({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const m8=(e,t,r,n,i,a)=>{var s=u8(e,t);return r==null?()=>(i(Pt(Pt({},e),t)),()=>{}):r.isStepper===!0?h8(e,t,r,s,i,a):p8(e,t,r,n,s,i,a)};var Jf=1e-4,kk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Rk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),vA=(e,t)=>r=>{var n=kk(e,t);return Rk(n,r)},g8=(e,t)=>r=>{var n=kk(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return Rk(i,r)},v8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},y8=(e,t,r,n)=>{var i=vA(e,r),a=vA(t,n),s=g8(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,p=0;p<8;++p){var m=i(f)-c,g=s(f);if(Math.abs(m-c)<Jf||g<Jf)return a(f);f=o(f-m/g)}return a(f)};return l.isStepper=!1,l},yA=function(){return y8(...v8(...arguments))},w8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,f=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<Jf&&Math.abs(f)<Jf?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},x8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yA(e);case"spring":return w8();default:if(e.split("(")[0]==="cubic-bezier")return yA(e)}return typeof e=="function"?e:null};function _8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class b8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function E8(){return _8(new b8)}var S8=_.createContext(E8);function A8(e,t){var r=_.useContext(S8);return _.useMemo(()=>t??r(e),[e,t,r])}var P8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sc={devToolsEnabled:!1,isSsr:P8()},T8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wA={t:0},Eg={t:1};function Vp(e){var t=Ut(e,T8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!sc.isSsr:r,f=A8(t.animationId,t.animationManager),[p,m]=_.useState(c?wA:Eg),g=_.useRef(null);return _.useEffect(()=>{c||m(Eg)},[c]),_.useEffect(()=>{if(!c||!n)return Ju;var y=m8(wA,Eg,x8(a),i,m,f.getTimeoutController()),b=()=>{g.current=y()};return f.start([l,s,b,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,n,i,a,s,l,o,f]),u(p.t)}function Fp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(Au(t)),n=_.useRef(e);return n.current!==e&&(r.current=Au(t),n.current=e),r.current}var C8=["radius"],I8=["radius"];function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=O8(e,"string");return typeof t=="symbol"?t:t+""}function O8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(null,arguments)}function bA(e,t){if(e==null)return{};var r,n,i=k8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,p=4;f<p;f++)c[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+r-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*c[1])),u+="L ".concat(e+r,",").concat(t+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-o*c[2],",").concat(t+n)),u+="L ".concat(e+o*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},SA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dk=e=>{var t=Ut(e,SA),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,b=_.useRef(o),x=_.useRef(l),E=_.useRef(a),A=_.useRef(s),I=_.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),R=Fp(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Oe("recharts-rectangle",c);if(!y){var v=sn(t),{radius:S}=v,C=bA(v,C8);return _.createElement("path",eh({},C,{radius:typeof u=="number"?u:void 0,className:O,d:EA(a,s,o,l,u)}))}var k=b.current,T=x.current,N=E.current,j=A.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),de=Nk(["strokeDasharray"],p,typeof f=="string"?f:SA.animationEasing);return _.createElement(Vp,{animationId:R,key:R,canBegin:n>0,duration:p,easing:f,isActive:y,begin:m},oe=>{var U=At(k,o,oe),K=At(T,l,oe),ne=At(N,a,oe),me=At(j,s,oe);r.current&&(b.current=U,x.current=K,E.current=ne,A.current=me);var be;g?oe>0?be={transition:de,strokeDasharray:se}:be={strokeDasharray:Q}:be={strokeDasharray:se};var _t=sn(t),{radius:Re}=_t,qt=bA(_t,I8);return _.createElement("path",eh({},qt,{radius:typeof u=="number"?u:void 0,className:O,d:EA(ne,me,U,K,u),ref:r,style:_A(_A({},be),t.style)}))})};function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){R8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8(e,t,r){return(t=D8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=M8(e,"string");return typeof t=="symbol"?t:t+""}function M8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=Math.PI/180,L8=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-th*n)*r,y:t+Math.sin(-th*n)*r}),Mk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},V8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},F8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=V8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:L8(l),angleInRadian:l}},$8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},z8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},U8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=F8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=$8(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?PA(PA({},t),{},{radius:i,angle:z8(c,t)}):null};function Lk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=wt(t,r,n,i),o=wt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}var B8=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/th,f=l?i:i+a*c,p=wt(t,r,u,f),m=wt(t,r,n,f),g=l?i-a*c:i,y=wt(t,r,u*Math.cos(c*th),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},Vk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=B8(a,s),l=a+o,u=wt(t,r,i,a),c=wt(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=wt(t,r,n,a),m=wt(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},q8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ft(u-l),{circleTangency:f,lineTangency:p,theta:m}=hd({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:b}=hd({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(x<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Vk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:I,theta:R}=hd({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:v,theta:S}=hd({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-R-S;if(C<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(v.x,",").concat(v.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},W8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fk=e=>{var t=Ut(e,W8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var p=Oe("recharts-sector",f),m=a-i,g=or(s,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=q8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=Vk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",ky({},sn(t),{className:p,d:y}))};function K8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(eO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=wt(n,i,a,o),u=wt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Lk(t)}}var $k={},zk={},Uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx,r=zk;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})($k);var H8=$k.range;const Bk=Ai(H8);function la(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ex(e){let t,r,n;e.length!==2?(t=la,r=(o,l)=>la(e(o),l),n=(o,l)=>e(o)-l):(t=e===la||e===G8?e:Q8,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Q8(){return 0}function qk(e){return e===null?NaN:+e}function*Y8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const X8=Ex(la),oc=X8.right;Ex(qk).center;class TA extends Map{constructor(t,r=e7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(CA(this,t))}has(t){return super.has(CA(this,t))}set(t,r){return super.set(Z8(this,t),r)}delete(t){return super.delete(J8(this,t))}}function CA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Z8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function J8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function e7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function t7(e=la){if(e===la)return Wk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Wk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const r7=Math.sqrt(50),n7=Math.sqrt(10),i7=Math.sqrt(2);function rh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=r7?10:a>=n7?5:a>=i7?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?rh(e,t,r*2):[o,l,u]}function Ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?rh(t,e,r):rh(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Dy(e,t,r){return t=+t,e=+e,r=+r,rh(e,t,r)[2]}function My(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Dy(t,e,r):Dy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function IA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Kk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Wk:t7(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+p)),g=Math.min(n,Math.floor(t+(l-u)*f/l+p));Kk(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(bl(e,r,t),i(e[n],a)>0&&bl(e,r,n);s<o;){for(bl(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?bl(e,r,o):(++o,bl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function bl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function a7(e,t,r){if(e=Float64Array.from(Y8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jA(e);if(t>=1)return IA(e);var n,i=(n-1)*t,a=Math.floor(i),s=IA(Kk(e,a).subarray(0,a+1)),o=jA(e.subarray(a+1));return s+(o-s)*(i-a)}}function s7(e,t,r=qk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function o7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ly=Symbol("implicit");function Sx(){var e=new TA,t=[],r=[],n=Ly;function i(a){let s=e.get(a);if(s===void 0){if(n!==Ly)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new TA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Sx(t,r).unknown(n)},un.apply(i,arguments),i}function Ax(){var e=Sx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=o7(p).map(function(x){return g+a*x});return r(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},e.copy=function(){return Ax(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},un.apply(f(),arguments)}function Hk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hk(t())},e}function l7(){return Hk(Ax.apply(null,arguments).paddingInner(1))}function Px(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Gk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lc(){}var ku=.7,nh=1/ku,io="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u7=/^#([0-9a-f]{3,8})$/,c7=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),d7=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),f7=new RegExp(`^rgba\\(${io},${io},${io},${Ru}\\)$`),h7=new RegExp(`^rgba\\(${Un},${Un},${Un},${Ru}\\)$`),p7=new RegExp(`^hsl\\(${Ru},${Un},${Un}\\)$`),m7=new RegExp(`^hsla\\(${Ru},${Un},${Un},${Ru}\\)$`),NA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Px(lc,Du,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OA,formatHex:OA,formatHex8:g7,formatHsl:v7,formatRgb:kA,toString:kA});function OA(){return this.rgb().formatHex()}function g7(){return this.rgb().formatHex8()}function v7(){return Qk(this).formatHsl()}function kA(){return this.rgb().formatRgb()}function Du(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=u7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RA(t):r===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=c7.exec(e))?new Ar(t[1],t[2],t[3],1):(t=d7.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f7.exec(e))?pd(t[1],t[2],t[3],t[4]):(t=h7.exec(e))?pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p7.exec(e))?LA(t[1],t[2]/100,t[3]/100,1):(t=m7.exec(e))?LA(t[1],t[2]/100,t[3]/100,t[4]):NA.hasOwnProperty(e)?RA(NA[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function RA(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function pd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ar(e,t,r,n)}function y7(e){return e instanceof lc||(e=Du(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Vy(e,t,r,n){return arguments.length===1?y7(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Px(Ar,Vy,Gk(lc,{brighter(e){return e=e==null?nh:Math.pow(nh,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ku:Math.pow(ku,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Xa(this.r),Xa(this.g),Xa(this.b),ih(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DA,formatHex:DA,formatHex8:w7,formatRgb:MA,toString:MA}));function DA(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function w7(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function MA(){const e=ih(this.opacity);return`${e===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${e===1?")":`, ${e})`}`}function ih(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=Xa(e),(e<16?"0":"")+e.toString(16)}function LA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yn(e,t,r,n)}function Qk(e){if(e instanceof yn)return new yn(e.h,e.s,e.l,e.opacity);if(e instanceof lc||(e=Du(e)),!e)return new yn;if(e instanceof yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yn(s,o,l,e.opacity)}function x7(e,t,r,n){return arguments.length===1?Qk(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Px(yn,x7,Gk(lc,{brighter(e){return e=e==null?nh:Math.pow(nh,e),new yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ku:Math.pow(ku,e),new yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ar(Sg(e>=240?e-240:e+120,i,n),Sg(e,i,n),Sg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new yn(VA(this.h),md(this.s),md(this.l),ih(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ih(this.opacity);return`${e===1?"hsl(":"hsla("}${VA(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VA(e){return e=(e||0)%360,e<0?e+360:e}function md(e){return Math.max(0,Math.min(1,e||0))}function Sg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Tx=e=>()=>e;function _7(e,t){return function(r){return e+r*t}}function b7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function E7(e){return(e=+e)==1?Yk:function(t,r){return r-t?b7(t,r,e):Tx(isNaN(t)?r:t)}}function Yk(e,t){var r=t-e;return r?_7(e,r):Tx(isNaN(e)?t:e)}const FA=function e(t){var r=E7(t);function n(i,a){var s=r((i=Vy(i)).r,(a=Vy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Yk(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function S7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function A7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function P7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=$o(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function T7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ah(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function C7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$o(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ag=new RegExp(Fy.source,"g");function I7(e){return function(){return e}}function j7(e){return function(t){return e(t)+""}}function N7(e,t){var r=Fy.lastIndex=Ag.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Fy.exec(e))&&(i=Ag.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ah(n,i)})),r=Ag.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?j7(l[0].x):I7(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function $o(e,t){var r=typeof t,n;return t==null||r==="boolean"?Tx(t):(r==="number"?ah:r==="string"?(n=Du(t))?(t=n,FA):N7:t instanceof Du?FA:t instanceof Date?T7:A7(t)?S7:Array.isArray(t)?P7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?C7:ah)(e,t)}function Cx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function O7(e,t){t===void 0&&(t=e,e=$o);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function k7(e){return function(){return e}}function sh(e){return+e}var $A=[0,1];function hr(e){return e}function $y(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:k7(isNaN(t)?NaN:.5)}function R7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function D7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=$y(i,n),a=r(s,a)):(n=$y(n,i),a=r(a,s)),function(o){return a(n(o))}}function M7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=$y(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=oc(e,o,1,n)-1;return a[l](i[l](o))}}function uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $p(){var e=$A,t=$A,r=$o,n,i,a,s=hr,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==hr&&(s=R7(e[0],e[p-1])),o=p>2?M7:D7,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((u||(u=o(t,e.map(n),ah)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,sh),c()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Cx,c()},f.clamp=function(p){return arguments.length?(s=p?!0:hr,c()):s!==hr},f.interpolate=function(p){return arguments.length?(r=p,c()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return n=p,i=m,c()}}function Ix(){return $p()(hr,hr)}function L7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Po(e){return e=oh(Math.abs(e)),e?e[1]:NaN}function V7(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function F7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mu(e){if(!(t=$7.exec(e)))throw new Error("invalid format: "+e);var t;return new jx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mu.prototype=jx.prototype;function jx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Xk;function U7(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Xk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+oh(e,Math.max(0,t+a-1))[0]}function zA(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const UA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:L7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zA(e*100,t),r:zA,s:U7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BA(e){return e}var qA=Array.prototype.map,WA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B7(e){var t=e.grouping===void 0||e.thousands===void 0?BA:V7(qA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?BA:F7(qA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mu(f);var p=f.fill,m=f.align,g=f.sign,y=f.symbol,b=f.zero,x=f.width,E=f.comma,A=f.precision,I=f.trim,R=f.type;R==="n"?(E=!0,R="g"):UA[R]||(A===void 0&&(A=12),I=!0,R="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var O=y==="$"?r:y==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",v=y==="$"?n:/[%p]/.test(R)?s:"",S=UA[R],C=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function k(T){var N=O,j=v,Q,se,de;if(R==="c")j=S(T)+j,T="";else{T=+T;var oe=T<0||1/T<0;if(T=isNaN(T)?l:S(Math.abs(T),A),I&&(T=z7(T)),oe&&+T==0&&g!=="+"&&(oe=!1),N=(oe?g==="("?g:o:g==="-"||g==="("?"":g)+N,j=(R==="s"?WA[8+Xk/3]:"")+j+(oe&&g==="("?")":""),C){for(Q=-1,se=T.length;++Q<se;)if(de=T.charCodeAt(Q),48>de||de>57){j=(de===46?i+T.slice(Q+1):T.slice(Q))+j,T=T.slice(0,Q);break}}}E&&!b&&(T=t(T,1/0));var U=N.length+T.length+j.length,K=U<x?new Array(x-U+1).join(p):"";switch(E&&b&&(T=t(K+T,K.length?x-j.length:1/0),K=""),m){case"<":T=N+T+j+K;break;case"=":T=N+K+T+j;break;case"^":T=K.slice(0,U=K.length>>1)+N+T+j+K.slice(U);break;default:T=K+N+T+j;break}return a(T)}return k.toString=function(){return f+""},k}function c(f,p){var m=u((f=Mu(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Po(p)/3)))*3,y=Math.pow(10,-g),b=WA[8+g/3];return function(x){return m(y*x)+b}}return{format:u,formatPrefix:c}}var gd,Nx,Zk;q7({thousands:",",grouping:[3],currency:["$",""]});function q7(e){return gd=B7(e),Nx=gd.format,Zk=gd.formatPrefix,gd}function W7(e){return Math.max(0,-Po(Math.abs(e)))}function K7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Po(t)/3)))*3-Po(Math.abs(e)))}function H7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Po(t)-Po(e))+1}function Jk(e,t,r,n){var i=My(e,t,r),a;switch(n=Mu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=K7(i,s))&&(n.precision=a),Zk(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=H7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=W7(i))&&(n.precision=a-(n.type==="%")*2);break}}return Nx(n)}function Sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Jk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Dy(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function eR(){var e=Ix();return e.copy=function(){return uc(e,eR())},un.apply(e,arguments),Sa(e)}function tR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tR(e).unknown(t)},e=arguments.length?Array.from(e,sh):[0,1],Sa(r)}function rR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function KA(e){return Math.log(e)}function HA(e){return Math.exp(e)}function G7(e){return-Math.log(-e)}function Q7(e){return-Math.exp(-e)}function Y7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function X7(e){return e===10?Y7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Z7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GA(e){return(t,r)=>-e(-t,r)}function Ox(e){const t=e(KA,HA),r=t.domain;let n=10,i,a;function s(){return i=Z7(n),a=X7(n),r()[0]<0?(i=GA(i),a=GA(a),e(G7,Q7)):e(KA,HA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const b=o==null?10:+o;let x=[];if(!(n%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}x.length*2<b&&(x=Ry(u,c,b))}else x=Ry(p,m,Math.min(m-p,b)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Mu(l)).precision==null&&(l.trim=!0),l=Nx(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r(rR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function nR(){const e=Ox($p()).domain([1,10]);return e.copy=()=>uc(e,nR()).base(e.base()),un.apply(e,arguments),e}function QA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kx(e){var t=1,r=e(QA(t),YA(t));return r.constant=function(n){return arguments.length?e(QA(t=+n),YA(t)):t},Sa(r)}function iR(){var e=kx($p());return e.copy=function(){return uc(e,iR()).constant(e.constant())},un.apply(e,arguments)}function XA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function J7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eq(e){return e<0?-e*e:e*e}function Rx(e){var t=e(hr,hr),r=1;function n(){return r===1?e(hr,hr):r===.5?e(J7,eq):e(XA(r),XA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Sa(t)}function Dx(){var e=Rx($p());return e.copy=function(){return uc(e,Dx()).exponent(e.exponent())},un.apply(e,arguments),e}function tq(){return Dx.apply(null,arguments).exponent(.5)}function ZA(e){return Math.sign(e)*e*e}function rq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aR(){var e=Ix(),t=[0,1],r=!1,n;function i(a){var s=rq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(ZA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sh)).map(ZA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},un.apply(i,arguments),Sa(i)}function sR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=s7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[oc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(la),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return sR().domain(e).range(t).unknown(n)},un.apply(a,arguments)}function oR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[oc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return oR().domain([e,t]).range(i).unknown(a)},un.apply(Sa(s),arguments)}function lR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[oc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lR().domain(e).range(t).unknown(r)},un.apply(i,arguments)}const Pg=new Date,Tg=new Date;function jt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>jt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Pg.setTime(+a),Tg.setTime(+s),e(Pg),e(Tg),Math.floor(r(Pg,Tg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const lh=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lh);lh.range;const ii=1e3,en=ii*60,ai=en*60,xi=ai*24,Mx=xi*7,JA=xi*30,Cg=xi*365,qa=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());qa.range;const Lx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getMinutes());Lx.range;const Vx=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getUTCMinutes());Vx.range;const Fx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*en)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());Fx.range;const $x=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());$x.range;const cc=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*en)/xi,e=>e.getDate()-1);cc.range;const zp=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>e.getUTCDate()-1);zp.range;const uR=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>Math.floor(e/xi));uR.range;function xs(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*en)/Mx)}const Up=xs(0),uh=xs(1),nq=xs(2),iq=xs(3),To=xs(4),aq=xs(5),sq=xs(6);Up.range;uh.range;nq.range;iq.range;To.range;aq.range;sq.range;function _s(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Mx)}const Bp=_s(0),ch=_s(1),oq=_s(2),lq=_s(3),Co=_s(4),uq=_s(5),cq=_s(6);Bp.range;ch.range;oq.range;lq.range;Co.range;uq.range;cq.range;const zx=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zx.range;const Ux=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ux.range;const _i=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_i.range;const bi=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bi.range;function cR(e,t,r,n,i,a){const s=[[qa,1,ii],[qa,5,5*ii],[qa,15,15*ii],[qa,30,30*ii],[a,1,en],[a,5,5*en],[a,15,15*en],[a,30,30*en],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[n,1,xi],[n,2,2*xi],[r,1,Mx],[t,1,JA],[t,3,3*JA],[e,1,Cg]];function o(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,f){const p=Math.abs(c-u)/f,m=Ex(([,,b])=>b).right(s,p);if(m===s.length)return e.every(My(u/Cg,c/Cg,f));if(m===0)return lh.every(Math.max(My(u,c,f),1));const[g,y]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(y)}return[o,l]}const[dq,fq]=cR(bi,Ux,Bp,uR,$x,Vx),[hq,pq]=cR(_i,zx,Up,cc,Fx,Lx);function Ig(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function El(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Sl(i),c=Al(i),f=Sl(a),p=Al(a),m=Sl(s),g=Al(s),y=Sl(o),b=Al(o),x=Sl(l),E=Al(l),A={a:oe,A:U,b:K,B:ne,c:null,d:aP,e:aP,f:Vq,g:Gq,G:Yq,H:Dq,I:Mq,j:Lq,L:dR,m:Fq,M:$q,p:me,q:be,Q:lP,s:uP,S:zq,u:Uq,U:Bq,V:qq,w:Wq,W:Kq,x:null,X:null,y:Hq,Y:Qq,Z:Xq,"%":oP},I={a:_t,A:Re,b:qt,B:bt,c:null,d:sP,e:sP,f:tW,g:dW,G:hW,H:Zq,I:Jq,j:eW,L:hR,m:rW,M:nW,p:Ue,q:Qn,Q:lP,s:uP,S:iW,u:aW,U:sW,V:oW,w:lW,W:uW,x:null,X:null,y:cW,Y:fW,Z:pW,"%":oP},R={a:k,A:T,b:N,B:j,c:Q,d:nP,e:nP,f:Nq,g:rP,G:tP,H:iP,I:iP,j:Tq,L:jq,m:Pq,M:Cq,p:C,q:Aq,Q:kq,s:Rq,S:Iq,u:xq,U:_q,V:bq,w:wq,W:Eq,x:se,X:de,y:rP,Y:tP,Z:Sq,"%":Oq};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),I.x=O(r,I),I.X=O(n,I),I.c=O(t,I);function O(B,fe){return function(ye){var q=[],ft=-1,Ce=0,z=B.length,H,Z,ce;for(ye instanceof Date||(ye=new Date(+ye));++ft<z;)B.charCodeAt(ft)===37&&(q.push(B.slice(Ce,ft)),(Z=eP[H=B.charAt(++ft)])!=null?H=B.charAt(++ft):Z=H==="e"?" ":"0",(ce=fe[H])&&(H=ce(ye,Z)),q.push(H),Ce=ft+1);return q.push(B.slice(Ce,ft)),q.join("")}}function v(B,fe){return function(ye){var q=El(1900,void 0,1),ft=S(q,B,ye+="",0),Ce,z;if(ft!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Ce=jg(El(q.y,0,1)),z=Ce.getUTCDay(),Ce=z>4||z===0?ch.ceil(Ce):ch(Ce),Ce=zp.offset(Ce,(q.V-1)*7),q.y=Ce.getUTCFullYear(),q.m=Ce.getUTCMonth(),q.d=Ce.getUTCDate()+(q.w+6)%7):(Ce=Ig(El(q.y,0,1)),z=Ce.getDay(),Ce=z>4||z===0?uh.ceil(Ce):uh(Ce),Ce=cc.offset(Ce,(q.V-1)*7),q.y=Ce.getFullYear(),q.m=Ce.getMonth(),q.d=Ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),z="Z"in q?jg(El(q.y,0,1)).getUTCDay():Ig(El(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(z+5)%7:q.w+q.U*7-(z+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,jg(q)):Ig(q)}}function S(B,fe,ye,q){for(var ft=0,Ce=fe.length,z=ye.length,H,Z;ft<Ce;){if(q>=z)return-1;if(H=fe.charCodeAt(ft++),H===37){if(H=fe.charAt(ft++),Z=R[H in eP?fe.charAt(ft++):H],!Z||(q=Z(B,ye,q))<0)return-1}else if(H!=ye.charCodeAt(q++))return-1}return q}function C(B,fe,ye){var q=u.exec(fe.slice(ye));return q?(B.p=c.get(q[0].toLowerCase()),ye+q[0].length):-1}function k(B,fe,ye){var q=m.exec(fe.slice(ye));return q?(B.w=g.get(q[0].toLowerCase()),ye+q[0].length):-1}function T(B,fe,ye){var q=f.exec(fe.slice(ye));return q?(B.w=p.get(q[0].toLowerCase()),ye+q[0].length):-1}function N(B,fe,ye){var q=x.exec(fe.slice(ye));return q?(B.m=E.get(q[0].toLowerCase()),ye+q[0].length):-1}function j(B,fe,ye){var q=y.exec(fe.slice(ye));return q?(B.m=b.get(q[0].toLowerCase()),ye+q[0].length):-1}function Q(B,fe,ye){return S(B,t,fe,ye)}function se(B,fe,ye){return S(B,r,fe,ye)}function de(B,fe,ye){return S(B,n,fe,ye)}function oe(B){return s[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function ne(B){return o[B.getMonth()]}function me(B){return i[+(B.getHours()>=12)]}function be(B){return 1+~~(B.getMonth()/3)}function _t(B){return s[B.getUTCDay()]}function Re(B){return a[B.getUTCDay()]}function qt(B){return l[B.getUTCMonth()]}function bt(B){return o[B.getUTCMonth()]}function Ue(B){return i[+(B.getUTCHours()>=12)]}function Qn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=O(B+="",A);return fe.toString=function(){return B},fe},parse:function(B){var fe=v(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=O(B+="",I);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=v(B+="",!0);return fe.toString=function(){return B},fe}}}var eP={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,gq=/^%/,vq=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function yq(e){return e.replace(vq,"\\$&")}function Sl(e){return new RegExp("^(?:"+e.map(yq).join("|")+")","i")}function Al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _q(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Eq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tP(e,t,r){var n=Bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Sq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Aq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Pq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function iP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Cq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Oq(e,t,r){var n=gq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function kq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Rq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function aP(e,t){return Pe(e.getDate(),t,2)}function Dq(e,t){return Pe(e.getHours(),t,2)}function Mq(e,t){return Pe(e.getHours()%12||12,t,2)}function Lq(e,t){return Pe(1+cc.count(_i(e),e),t,3)}function dR(e,t){return Pe(e.getMilliseconds(),t,3)}function Vq(e,t){return dR(e,t)+"000"}function Fq(e,t){return Pe(e.getMonth()+1,t,2)}function $q(e,t){return Pe(e.getMinutes(),t,2)}function zq(e,t){return Pe(e.getSeconds(),t,2)}function Uq(e){var t=e.getDay();return t===0?7:t}function Bq(e,t){return Pe(Up.count(_i(e)-1,e),t,2)}function fR(e){var t=e.getDay();return t>=4||t===0?To(e):To.ceil(e)}function qq(e,t){return e=fR(e),Pe(To.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function Wq(e){return e.getDay()}function Kq(e,t){return Pe(uh.count(_i(e)-1,e),t,2)}function Hq(e,t){return Pe(e.getFullYear()%100,t,2)}function Gq(e,t){return e=fR(e),Pe(e.getFullYear()%100,t,2)}function Qq(e,t){return Pe(e.getFullYear()%1e4,t,4)}function Yq(e,t){var r=e.getDay();return e=r>=4||r===0?To(e):To.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function Xq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function sP(e,t){return Pe(e.getUTCDate(),t,2)}function Zq(e,t){return Pe(e.getUTCHours(),t,2)}function Jq(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function eW(e,t){return Pe(1+zp.count(bi(e),e),t,3)}function hR(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function tW(e,t){return hR(e,t)+"000"}function rW(e,t){return Pe(e.getUTCMonth()+1,t,2)}function nW(e,t){return Pe(e.getUTCMinutes(),t,2)}function iW(e,t){return Pe(e.getUTCSeconds(),t,2)}function aW(e){var t=e.getUTCDay();return t===0?7:t}function sW(e,t){return Pe(Bp.count(bi(e)-1,e),t,2)}function pR(e){var t=e.getUTCDay();return t>=4||t===0?Co(e):Co.ceil(e)}function oW(e,t){return e=pR(e),Pe(Co.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function lW(e){return e.getUTCDay()}function uW(e,t){return Pe(ch.count(bi(e)-1,e),t,2)}function cW(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function dW(e,t){return e=pR(e),Pe(e.getUTCFullYear()%100,t,2)}function fW(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function hW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Co(e):Co.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function pW(){return"+0000"}function oP(){return"%"}function lP(e){return+e}function uP(e){return Math.floor(+e/1e3)}var Ps,mR,gR;mW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mW(e){return Ps=mq(e),mR=Ps.format,Ps.parse,gR=Ps.utcFormat,Ps.utcParse,Ps}function gW(e){return new Date(e)}function vW(e){return e instanceof Date?+e:+new Date(+e)}function Bx(e,t,r,n,i,a,s,o,l,u){var c=Ix(),f=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),E=u("%b %d"),A=u("%B"),I=u("%Y");function R(O){return(l(O)<O?m:o(O)<O?g:s(O)<O?y:a(O)<O?b:n(O)<O?i(O)<O?x:E:r(O)<O?A:I)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?p(Array.from(O,vW)):p().map(gW)},c.ticks=function(O){var v=p();return e(v[0],v[v.length-1],O??10)},c.tickFormat=function(O,v){return v==null?R:u(v)},c.nice=function(O){var v=p();return(!O||typeof O.range!="function")&&(O=t(v[0],v[v.length-1],O??10)),O?p(rR(v,O)):c},c.copy=function(){return uc(c,Bx(e,t,r,n,i,a,s,o,l,u))},c}function yW(){return un.apply(Bx(hq,pq,_i,zx,Up,cc,Fx,Lx,qa,mR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wW(){return un.apply(Bx(dq,fq,bi,Ux,Bp,zp,$x,Vx,qa,gR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qp(){var e=0,t=1,r,n,i,a,s=hr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(p){var m,g;return arguments.length?([m,g]=p,s=f(m,g),u):[s(0),s(1)]}}return u.range=c($o),u.rangeRound=c(Cx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vR(){var e=Sa(qp()(hr));return e.copy=function(){return Aa(e,vR())},Ii.apply(e,arguments)}function yR(){var e=Ox(qp()).domain([1,10]);return e.copy=function(){return Aa(e,yR()).base(e.base())},Ii.apply(e,arguments)}function wR(){var e=kx(qp());return e.copy=function(){return Aa(e,wR()).constant(e.constant())},Ii.apply(e,arguments)}function qx(){var e=Rx(qp());return e.copy=function(){return Aa(e,qx()).exponent(e.exponent())},Ii.apply(e,arguments)}function xW(){return qx.apply(null,arguments).exponent(.5)}function xR(){var e=[],t=hr;function r(n){if(n!=null&&!isNaN(n=+n))return t((oc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(la),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>a7(e,a/n))},r.copy=function(){return xR(t).domain(e)},Ii.apply(r,arguments)}function Wp(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=hr,c,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?o:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(b){var x,E,A;return arguments.length?([x,E,A]=b,u=O7(y,[x,E,A]),m):[u(0),u(.5),u(1)]}}return m.range=g($o),m.rangeRound=g(Cx),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),s=y(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function _R(){var e=Sa(Wp()(hr));return e.copy=function(){return Aa(e,_R())},Ii.apply(e,arguments)}function bR(){var e=Ox(Wp()).domain([.1,1,10]);return e.copy=function(){return Aa(e,bR()).base(e.base())},Ii.apply(e,arguments)}function ER(){var e=kx(Wp());return e.copy=function(){return Aa(e,ER()).constant(e.constant())},Ii.apply(e,arguments)}function Wx(){var e=Rx(Wp());return e.copy=function(){return Aa(e,Wx()).exponent(e.exponent())},Ii.apply(e,arguments)}function _W(){return Wx.apply(null,arguments).exponent(.5)}const Ll=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ax,scaleDiverging:_R,scaleDivergingLog:bR,scaleDivergingPow:Wx,scaleDivergingSqrt:_W,scaleDivergingSymlog:ER,scaleIdentity:tR,scaleImplicit:Ly,scaleLinear:eR,scaleLog:nR,scaleOrdinal:Sx,scalePoint:l7,scalePow:Dx,scaleQuantile:sR,scaleQuantize:oR,scaleRadial:aR,scaleSequential:vR,scaleSequentialLog:yR,scaleSequentialPow:qx,scaleSequentialQuantile:xR,scaleSequentialSqrt:xW,scaleSequentialSymlog:wR,scaleSqrt:tq,scaleSymlog:iR,scaleThreshold:lR,scaleTime:yW,scaleUtc:wW,tickFormat:Jk},Symbol.toStringTag,{value:"Module"}));var Pa=e=>e.chartData,Kx=L([Pa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Hx=(e,t,r,n)=>n?Kx(e):Pa(e);function va(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function cP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function SR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(dt(r))i=r;else if(typeof r=="function")return;if(dt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(va(s))return s}}function bW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(va(n))return cP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(re(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&KS.test(i)){var l=KS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&HS.test(a)){var c=HS.exec(a);if(c==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[s,o];if(va(p))return t==null?p:cP(p,t,r)}}}var zo=1e9,EW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qx,Xe=!0,ln="[DecimalError] ",Za=ln+"Invalid argument: ",Gx=ln+"Exponent out of range: ",Uo=Math.floor,Va=Math.pow,SW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Lt=1e7,We=7,AR=9007199254740991,dh=Uo(AR/We),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*We;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return li(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Me(li(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return xt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(ln+"NaN");if(r.s<1)throw Error(ln+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(Xe=!1,t=li(Lu(r,a),Lu(e,a),a),Xe=!0,Me(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CR(t,e):PR(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ln+"NaN");return r.s?(Xe=!1,t=li(r,e,0,1).times(e),Xe=!0,r.minus(t)):Me(new n(r),i)};ee.naturalExponential=ee.exp=function(){return TR(this)};ee.naturalLogarithm=ee.ln=function(){return Lu(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PR(t,e):CR(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Za+e);if(t=xt(i)+1,n=i.d.length-1,r=n*We+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ln+"NaN")}for(e=xt(o),Xe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Dn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Uo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(li(o,a,s+2)).times(.5),Dn(a.d).slice(0,s)===(t=Dn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Me(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Xe=!0,Me(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,p=c.d,m=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%Lt|0,t=o/Lt|0;a[i]=(a[i]+t)%Lt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xe?Me(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gn(e,0,zo),t===void 0?t=n.rounding:Gn(t,0,8),Me(r,e+xt(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=cs(n,!0):(Gn(e,0,zo),t===void 0?t=i.rounding:Gn(t,0,8),n=Me(new i(n),e+1,t),r=cs(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?cs(i):(Gn(e,0,zo),t===void 0?t=a.rounding:Gn(t,0,8),n=Me(new a(i),e+xt(i)+1,t),r=cs(n.abs(),!1,e+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Me(new t(e),xt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Dr);if(o=new l(o),!o.s){if(e.s<1)throw Error(ln+"Infinity");return o}if(o.eq(Dr))return o;if(n=l.precision,e.eq(Dr))return Me(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=AR){for(i=new l(Dr),t=Math.ceil(n/We+4),Xe=!1;r%2&&(i=i.times(o),fP(i.d,t)),r=Uo(r/2),r!==0;)o=o.times(o),fP(o.d,t);return Xe=!0,e.s<0?new l(Dr).div(i):Me(i,n)}}else if(a<0)throw Error(ln+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xe=!1,i=e.times(Lu(o,n+u)),Xe=!0,i=TR(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=xt(i),n=cs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gn(e,1,zo),t===void 0?t=a.rounding:Gn(t,0,8),i=Me(new a(i),e,t),r=xt(i),n=cs(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gn(e,1,zo),t===void 0?t=n.rounding:Gn(t,0,8)),Me(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xt(e),r=e.constructor;return cs(e,t<=r.toExpNeg||t>=r.toExpPos)};function PR(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Xe?Me(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/We),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Lt|0,l[a]%=Lt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xe?Me(t,f):t}function Gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Za+e)}function Dn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=We-n.length,r&&(a+=Ui(r)),a+=n;s=e[t],n=s+"",r=We-n.length,r&&(a+=Ui(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var li=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Lt|0,s=a/Lt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,p,m,g,y,b,x,E,A,I,R,O,v,S,C=n.constructor,k=n.s==i.s?1:-1,T=n.d,N=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(ln+"Division by zero");for(l=n.e-i.e,v=N.length,R=T.length,m=new C(k),g=m.d=[],u=0;N[u]==(T[u]||0);)++u;if(N[u]>(T[u]||0)&&--l,a==null?E=a=C.precision:s?E=a+(xt(n)-xt(i))+1:E=a,E<0)return new C(0);if(E=E/We+2|0,u=0,v==1)for(c=0,N=N[0],E++;(u<R||c)&&E--;u++)A=c*Lt+(T[u]||0),g[u]=A/N|0,c=A%N|0;else{for(c=Lt/(N[0]+1)|0,c>1&&(N=e(N,c),T=e(T,c),v=N.length,R=T.length),I=v,y=T.slice(0,v),b=y.length;b<v;)y[b++]=0;S=N.slice(),S.unshift(0),O=N[0],N[1]>=Lt/2&&++O;do c=0,o=t(N,y,v,b),o<0?(x=y[0],v!=b&&(x=x*Lt+(y[1]||0)),c=x/O|0,c>1?(c>=Lt&&(c=Lt-1),f=e(N,c),p=f.length,b=y.length,o=t(f,y,p,b),o==1&&(c--,r(f,v<p?S:N,p))):(c==0&&(o=c=1),f=N.slice()),p=f.length,p<b&&f.unshift(0),r(y,f,b),o==-1&&(b=y.length,o=t(N,y,v,b),o<1&&(c++,r(y,v<b?S:N,b))),b=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[b++]=T[I]||0:(y=[T[I]],b=1);while((I++<R||y[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=l,Me(m,s?a+xt(m)+1:a)}}();function TR(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(xt(e)>16)throw Error(Gx+xt(e));if(!e.s)return new c(Dr);for(Xe=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Va(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Dr),c.precision=o;;){if(i=Me(i.times(e),o),r=r.times(++l),s=a.plus(li(i,r,o)),Dn(s.d).slice(0,o)===Dn(a.d).slice(0,o)){for(;u--;)a=Me(a.times(a),o);return c.precision=f,t==null?(Xe=!0,Me(a,f)):a}a=s}}function xt(e){for(var t=e.e*We,r=e.d[0];r>=10;r/=10)t++;return t}function Ng(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(ln+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function Lu(e,t){var r,n,i,a,s,o,l,u,c,f=1,p=10,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(ln+(m.s?"NaN":"-Infinity"));if(m.eq(Dr))return new y(0);if(t==null?(Xe=!1,u=b):u=t,m.eq(10))return t==null&&(Xe=!0),Ng(y,u);if(u+=p,y.precision=u,r=Dn(g),n=r.charAt(0),a=xt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Dn(m.d),n=r.charAt(0),f++;a=xt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=Ng(y,u+2,b).times(a+""),m=Lu(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=b,t==null?(Xe=!0,Me(m,b)):m;for(o=s=m=li(m.minus(Dr),m.plus(Dr),u),c=Me(m.times(m),u),i=3;;){if(s=Me(s.times(c),u),l=o.plus(li(s,new y(i),u)),Dn(l.d).slice(0,u)===Dn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Ng(y,u+2,b).times(a+""))),o=li(o,new y(f),u),y.precision=b,t==null?(Xe=!0,Me(o,b)):o;o=l,i+=2}}function dP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Uo(r/We),e.d=[],n=(r+1)%We,r<0&&(n+=We),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=We;n<i;)e.d.push(+t.slice(n,n+=We));t=t.slice(n),n=We-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>dh||e.e<-dh))throw Error(Gx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=We,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/We),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=We,i=n-We+s}if(r!==void 0&&(a=Va(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Va(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=xt(e),f.length=1,t=t-a-1,f[0]=Va(10,(We-t%We)%We),e.e=Uo(-t/We)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=Va(10,We-n),f[c]=i>0?(u/Va(10,s-i)%Va(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Lt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Lt)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Xe&&(e.e>dh||e.e<-dh))throw Error(Gx+xt(e));return e}function CR(e,t){var r,n,i,a,s,o,l,u,c,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xe?Me(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(m/We),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Lt-1;--l[a],l[i]+=Lt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xe?Me(t,m):t):new p(0)}function cs(e,t,r){var n,i=xt(e),a=Dn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ui(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ui(-i-1)+a,r&&(n=r-s)>0&&(a+=Ui(n))):i>=s?(a+=Ui(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ui(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ui(n))),e.s<0?"-"+a:a}function fP(e,t){if(e.length>t)return e.length=t,!0}function IR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Za+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return dP(s,a.toString())}else if(typeof a!="string")throw Error(Za+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,SW.test(a))dP(s,a);else throw Error(Za+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IR,i.config=i.set=AW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function AW(e){if(!e||typeof e!="object")throw Error(ln+"Object expected");var t,r,n,i=["precision",1,zo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Uo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Za+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Za+r+": "+n);return this}var Qx=IR(EW);Dr=new Qx(1);const je=Qx;var PW=e=>e,jR={},NR=e=>e===jR,hP=e=>function t(){return arguments.length===0||arguments.length===1&&NR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OR=(e,t)=>e===1?t:hP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==jR).length;return a>=e?t(...n):OR(e-a,hP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>NR(c)?o.shift():c);return t(...u,...o)}))}),TW=e=>OR(e.length,e),zy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},CW=TW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),IW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PW;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Uy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kR(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function RR(e,t,r){for(var n=new je(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var DR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},MR=(e,t,r)=>{if(e.lte(0))return new je(0);var n=kR(e.toNumber()),i=new je(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new je(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new je(l.toNumber()):new je(Math.ceil(l.toNumber()))},jW=(e,t,r)=>{var n=new je(1),i=new je(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new je(10).pow(kR(e)-1),i=new je(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):r||(i=new je(Math.floor(e)));var s=Math.floor((t-1)/2),o=IW(CW(l=>i.add(new je(l-s).mul(n)).toNumber()),zy);return o(0,t)},LR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var s=MR(new je(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new je(0):(o=new je(t).add(r).div(2),o=o.sub(new je(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new je(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?LR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new je(l).mul(s)),tickMax:o.add(new je(u).mul(s))})},NW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=DR([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...zy(0,i-1).map(()=>1/0)]:[...zy(0,i-1).map(()=>-1/0),l];return r>n?Uy(u):u}if(o===l)return jW(o,i,a);var{step:c,tickMin:f,tickMax:p}=LR(o,l,s,a,0),m=RR(f,p.add(new je(.1).mul(c)),c);return r>n?Uy(m):m},OW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=DR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=MR(new je(o).sub(s).div(l-1),a,0),c=[...RR(new je(s),new je(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),n>i?Uy(c):c},VR=e=>e.rootProps.maxBarSize,kW=e=>e.rootProps.barGap,FR=e=>e.rootProps.barCategoryGap,RW=e=>e.rootProps.barSize,dc=e=>e.rootProps.stackOffset,$R=e=>e.rootProps.reverseStackOrder,Yx=e=>e.options.chartName,Xx=e=>e.rootProps.syncId,zR=e=>e.rootProps.syncMethod,Zx=e=>e.options.eventEmitter,Qt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:ei.type,unit:void 0},MW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:Rr.type,unit:void 0},LW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},VW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:"category",unit:void 0},Jx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?LW:DW,e_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?VW:MW,Hp=e=>e.polarOptions,t_=L([Ti,Ci,It],Mk),UR=L([Hp,t_],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),BR=L([Hp,t_],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),FW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},qR=L([Hp],FW);L([Jx,qR],Kp);var WR=L([t_,UR,BR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([e_,WR],Kp);var KR=L([Te,Hp,UR,BR,Ti,Ci],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:or(s,i,i/2),cy:or(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ze=(e,t)=>t,fc=(e,t,r)=>r;function r_(e){return e==null?void 0:e.id}function HR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=r_(o);u.forEach((f,p)=>{var m=a==null||i?p:String(Ye(f,a,null)),g=Ye(f,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[c]:g}),s.set(m,y)})}}),Array.from(s.values())}function Gp(e){return e.stackId!=null&&e.dataKey!=null}var Qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Yp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $W(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Nt=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bo=e=>e.tooltip.settings.axisId;function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return(t=UW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var By=[0,"auto"],Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GR=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var r=GR(e,t);return r??Rt},Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:By,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ic},QR=(e,t)=>e.cartesianAxis.yAxis[t],Ni=(e,t)=>{var r=QR(e,t);return r??Dt},qW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},n_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??qW},nt=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"zAxis":return n_(e,r);case"angleAxis":return Jx(e,r);case"radiusAxis":return e_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WW=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hc=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"angleAxis":return Jx(e,r);case"radiusAxis":return e_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function i_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var a_=e=>e.graphicalItems.cartesianItems,KW=L([Ze,fc],i_),s_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pc=L([a_,nt,KW],s_,{memoizeOptions:{resultEqualityCheck:Yp}}),XR=L([pc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Gp)),ZR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),HW=L([pc],ZR),o_=e=>e.map(t=>t.data).filter(Boolean).flat(1),GW=L([pc],o_,{memoizeOptions:{resultEqualityCheck:Yp}}),l_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},u_=L([GW,Hx],l_),c_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ye(i,n)}))):e.map(n=>({value:n})),Xp=L([u_,nt,pc],c_);function JR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ud(e){if(Kn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function mP(e){if(Array.isArray(e)){var t=[Ud(e[0]),Ud(e[1])];return va(t)?t:void 0}var r=Ud(e);if(r!=null)return[r,r]}function Ei(e){return e.map(Ud).filter(sz)}function QW(e,t,r){return!r||typeof t!="number"||An(t)?[]:r.length?Ei(r.flatMap(n=>{var i=Ye(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!dt(a)||!dt(s)))return[t-a,t+s]})):[]}var Ot=e=>{var t=Nt(e),r=Bo(e);return hc(e,t,r)},mc=L([Ot],e=>e==null?void 0:e.dataKey),YW=L([XR,Hx,Ot],HR),eD=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(r_);return[o,{stackedData:SU(e,c,r),graphicalItems:u}]}))},qy=L([YW,XR,dc,$R],eD),tD=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=IU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},XW=L([nt],e=>e.allowDataOverflow),d_=e=>{var t;if(e==null||!("domain"in e))return By;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ei(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:By},f_=L([nt],d_),h_=L([f_,XW],SR),ZW=L([qy,Pa,Ze,h_],tD,{memoizeOptions:{resultEqualityCheck:Qp}}),Zp=e=>e.errorBars,JW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>JR(r,n)),hh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},p_=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>JR(i,x)),p=Ye(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=QW(o,p,f);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var b=mP(p);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=mP(Ye(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),dt(a)&&dt(s))return[a,s]},eK=L([u_,nt,HW,Zp,Ze],p_,{memoizeOptions:{resultEqualityCheck:Qp}});function tK(e){var{value:t}=e;if(Kn(t)||t instanceof Date)return t}var rK=(e,t,r)=>{var n=e.map(tK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ZN(n))?Bk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},rD=e=>e.referenceElements.dots,qo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),nK=L([rD,Ze,fc],qo),nD=e=>e.referenceElements.areas,iK=L([nD,Ze,fc],qo),iD=e=>e.referenceElements.lines,aK=L([iD,Ze,fc],qo),aD=(e,t)=>{var r=Ei(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sK=L(nK,Ze,aD),sD=(e,t)=>{var r=Ei(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oK=L([iK,Ze],sD);function lK(e){var t;if(e.x!=null)return Ei([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ei(r)}function uK(e){var t;if(e.y!=null)return Ei([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ei(r)}var oD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?lK(n):uK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cK=L([aK,Ze],oD),dK=L(sK,cK,oK,(e,t,r)=>hh(e,r,t)),m_=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?hh(n,a,i):hh(a,i);return bW(t,u,e.allowDataOverflow)},fK=L([nt,f_,h_,ZW,eK,dK,Te,Ze],m_,{memoizeOptions:{resultEqualityCheck:Qp}}),hK=[0,1],g_=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=ws(t,a);if(u&&o==null){var c;return Bk(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?rK(n,e,u):i==="expand"?hK:s}},v_=L([nt,Te,u_,Xp,dc,Ze,fK],g_),lD=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Zu(a));return o in Ll?o:"point"}}},Wo=L([nt,Te,YR,Yx,Ze],lD);function pK(e){if(e!=null){if(e in Ll)return Ll[e]();var t="scale".concat(Zu(e));if(t in Ll)return Ll[t]()}}function y_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=pK(t);if(i!=null){var a=i.domain(r).range(n);return wU(a),a}}}var w_=(e,t,r)=>{var n=d_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&va(e))return NW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&va(e))return OW(e,t.tickCount,t.allowDecimals)}},x_=L([v_,hc,Wo],w_),__=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&va(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},mK=L([nt,v_,x_,Ze],__),gK=L(Xp,nt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ei(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),uD=L(gK,Te,FR,It,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!dt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=or(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),vK=(e,t)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:uD(e,"xAxis",t,r.padding)},yK=(e,t)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:uD(e,"yAxis",t,r.padding)},wK=L(ji,vK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),xK=L(Ni,yK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),_K=L([It,wK,jp,Ip,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),bK=L([It,Te,xK,jp,Ip,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return _K(e,r,n);case"yAxis":return bK(e,r,n);case"zAxis":return(i=n_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return qR(e);case"radiusAxis":return WR(e,r);default:return}},cD=L([nt,gc],Kp),Ko=L([nt,Wo,mK,cD],y_);L([pc,Zp,Ze],JW);function dD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jp=(e,t)=>t,em=(e,t,r)=>r,EK=L(Tp,Jp,em,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dD)),SK=L(Cp,Jp,em,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dD)),fD=(e,t)=>({width:e.width,height:t.height}),AK=(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}},hD=L(It,ji,fD),PK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},TK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},CK=L(Ci,It,EK,Jp,em,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=fD(t,o);s==null&&(s=PK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),IK=L(Ti,It,SK,Jp,em,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=AK(t,o);s==null&&(s=TK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),jK=(e,t)=>{var r=ji(e,t);if(r!=null)return CK(e,r.orientation,r.mirror)},NK=L([It,ji,jK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),OK=(e,t)=>{var r=Ni(e,t);if(r!=null)return IK(e,r.orientation,r.mirror)},kK=L([It,Ni,OK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),pD=L(It,Ni,(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}}),gP=(e,t,r)=>{switch(t){case"xAxis":return hD(e,r).width;case"yAxis":return pD(e,r).height;default:return}},mD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=ws(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&ZN(l))return l}},b_=L([Te,Xp,nt,Ze],mD),gD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=ws(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},E_=L([Te,Xp,hc,Ze],gD),vP=L([Te,WW,Wo,Ko,b_,E_,gc,x_,Ze],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=ws(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),RK=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=ws(e,l),{type:c,ticks:f,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ft(a[0]-a[1])*2*g:g;var y=f||i;if(y){var b=y.map((x,E)=>{var A=s?s.indexOf(x):x;return{index:E,coordinate:n(A)+g,value:x,offset:g}});return b.filter(x=>dt(x.coordinate))}return u&&o?o.map((x,E)=>({coordinate:n(x)+g,value:x,index:E,offset:g})).filter(x=>dt(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,E)=>({coordinate:n(x)+g,value:s?s[x]:x,index:E,offset:g}))}},vD=L([Te,hc,Wo,Ko,x_,gc,b_,E_,Ze],RK),DK=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ws(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ft(n[0]-n[1])*2*u:u,o&&a?a.map((c,f)=>({coordinate:r(c)+u,value:c,index:f,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,f)=>({coordinate:r(c)+u,value:i?i[c]:c,index:f,offset:u}))}},Io=L([Te,hc,Ko,gc,b_,E_,Ze],DK),jo=L(nt,Ko,(e,t)=>{if(!(e==null||t==null))return fh(fh({},e),{},{scale:t})}),MK=L([nt,Wo,v_,cD],y_);L((e,t,r)=>n_(e,r),MK,(e,t)=>{if(!(e==null||t==null))return fh(fh({},e),{},{scale:t})});var LK=L([Te,Tp,Cp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yD=e=>e.options.defaultTooltipEventType,wD=e=>e.options.validateTooltipEventTypes;function xD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function S_(e,t){var r=yD(e),n=wD(e);return xD(t,r,n)}function VK(e){return te(t=>S_(t,e))}var _D=(e,t)=>{var r,n=Number(t);if(!(An(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},FK=e=>e.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$K={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bD=jr({name:"tooltip",initialState:$K,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(e,t){var r=_n(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zK,replaceTooltipEntrySettings:UK,removeTooltipEntrySettings:BK,setTooltipSettingsState:qK,setActiveMouseOverItemIndex:ED,mouseLeaveItem:WK,mouseLeaveChart:SD,setActiveClickItemIndex:KK,setMouseOverAxisIndex:AD,setMouseClickAxisIndex:HK,setSyncInteraction:Wy,setKeyboardInteraction:Ky}=bD.actions,GK=bD.reducer;function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JK(e){return e.index!=null}var PD=(e,t,r,n)=>{if(t==null)return Ki;var i=ZK(e,t,r);if(i==null)return Ki;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(JK(i)){if(a)return vd(vd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vd(vd({},Ki),{},{coordinate:i.coordinate})};function eH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function tH(e,t){var r=eH(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function rH(e,t,r){if(r==null||t==null)return!0;var n=Ye(e,t);return n==null||!va(r)?!0:tH(n,r)}var A_=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!dt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||rH(u,r,n)?String(l):null},TD=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},CD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},vc=e=>e.options.tooltipPayloadSearcher,Ho=e=>e.tooltip;function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return e??t}var ID=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,f=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:b}=m,x=sH(y,o),E=Array.isArray(x)?sk(x,u,c):x,A=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:n,I=b==null?void 0:b.nameKey,R;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?R=az(E,n,i):R=a(E,t,l,I),Array.isArray(R))R.forEach(v=>{var S=xP(xP({},b),{},{name:v.name,unit:v.unit,color:void 0,fill:void 0});p.push(GS({tooltipEntrySettings:S,dataKey:v.dataKey,payload:v.payload,value:Ye(v.payload,v.dataKey),name:v.name}))});else{var O;p.push(GS({tooltipEntrySettings:b,dataKey:A,payload:R,value:Ye(R,A),name:(O=Ye(R,I))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return p},f)}},P_=L([Ot,Te,YR,Yx,Nt],lD),oH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lH=L([Nt,Bo],i_),yc=L([oH,Ot,lH],s_,{memoizeOptions:{resultEqualityCheck:Yp}}),uH=L([yc],e=>e.filter(Gp)),cH=L([yc],o_,{memoizeOptions:{resultEqualityCheck:Yp}}),Go=L([cH,Pa],l_),dH=L([uH,Pa,Ot],HR),T_=L([Go,Ot,yc],c_),jD=L([Ot],d_),fH=L([Ot],e=>e.allowDataOverflow),ND=L([jD,fH],SR),hH=L([yc],e=>e.filter(Gp)),pH=L([dH,hH,dc,$R],eD),mH=L([pH,Pa,Nt,ND],tD),gH=L([yc],ZR),vH=L([Go,Ot,gH,Zp,Nt],p_,{memoizeOptions:{resultEqualityCheck:Qp}}),yH=L([rD,Nt,Bo],qo),wH=L([yH,Nt],aD),xH=L([nD,Nt,Bo],qo),_H=L([xH,Nt],sD),bH=L([iD,Nt,Bo],qo),EH=L([bH,Nt],oD),SH=L([wH,EH,_H],hh),AH=L([Ot,jD,ND,mH,vH,SH,Te,Nt],m_),wc=L([Ot,Te,Go,T_,dc,Nt,AH],g_),PH=L([wc,Ot,P_],w_),TH=L([Ot,wc,PH,Nt],__),OD=e=>{var t=Nt(e),r=Bo(e),n=!1;return gc(e,t,r,n)},kD=L([Ot,OD],Kp),RD=L([Ot,P_,TH,kD],y_),CH=L([Te,T_,Ot,Nt],mD),IH=L([Te,T_,Ot,Nt],gD),jH=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=ws(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ft(i[0]-i[1])*2*f:f,u&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:a?a[p]:p,index:m,offset:f}))}}},Oi=L([Te,Ot,P_,RD,OD,CH,IH,Nt],jH),C_=L([yD,wD,FK],(e,t,r)=>xD(r.shared,e,t)),DD=e=>e.tooltip.settings.trigger,I_=e=>e.tooltip.settings.defaultIndex,xc=L([Ho,C_,DD,I_],PD),ds=L([xc,Go,mc,wc],A_),MD=L([Oi,ds],_D),j_=L([xc],e=>{if(e)return e.dataKey}),NH=L([xc],e=>{if(e)return e.graphicalItemId}),LD=L([Ho,C_,DD,I_],CD),OH=L([Ti,Ci,Te,It,Oi,I_,LD,vc],TD),kH=L([xc,OH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RH=L([xc],e=>e.active),DH=L([LD,ds,Pa,mc,MD,vc,C_],ID);L([DH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=()=>te(Ot),$H=()=>{var e=FH(),t=te(Oi),r=te(RD);return Kf(!e||!r?void 0:bP(bP({},e),{},{scale:r}),t)};function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},WH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ts(Ts(Ts({},n),wt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ts(Ts(Ts({},n),wt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function KH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VD=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ft(c-u)!==Ft(f-c)){var m=[];if(Ft(f-c)===Ft(i[1]-i[0])){p=f;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=f+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var b=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var x=Math.min(u,f),E=Math.max(u,f);if(e>(x+c)/2&&e<=(E+c)/2){({index:s}=r[l]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},HH=()=>te(Yx),N_=(e,t)=>t,FD=(e,t,r)=>r,O_=(e,t,r,n)=>n,GH=L(Oi,e=>vp(e,t=>t.coordinate)),k_=L([Ho,N_,FD,O_],PD),R_=L([k_,Go,mc,wc],A_),QH=(e,t,r)=>{if(t!=null){var n=Ho(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},$D=L([Ho,N_,FD,O_],CD),ph=L([Ti,Ci,Te,It,Oi,O_,$D,vc],TD),YH=L([k_,ph],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),zD=L([Oi,R_],_D),XH=L([$D,R_,Pa,mc,zD,vc,N_],ID),ZH=L([k_,R_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JH=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&KH(e,s)){var o=jU(e,t),l=VD(o,a,i,r,n),u=qH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},eG=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=U8(e,r);if(o){var l=NU(o,t),u=VD(l,s,a,n,i),c=WH(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},tG=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?JH(e,t,n,i,a,s,o):eG(e,t,r,n,i,a,s)},rG=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),nG=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:$W}});function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oG={},lG={zIndexMap:Object.values(Qt).reduce((e,t)=>AP(AP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),oG)},uG=new Set(Object.values(Qt));function cG(e){return uG.has(e)}var UD=jr({name:"zIndex",initialState:lG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!cG(r)&&delete e.zIndexMap[r])},prepare:Ge()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ge()}}}),{registerZIndexPortal:dG,unregisterZIndexPortal:fG,registerZIndexPortalId:hG,unregisterZIndexPortalId:pG}=UD.actions,mG=UD.reducer;function Cn(e){var{zIndex:t,children:r}=e,n=iB(),i=n&&t!==void 0&&t!==0,a=Nr(),s=ze();_.useLayoutEffect(()=>i?(s(dG({zIndex:t})),()=>{s(fG({zIndex:t}))}):Ju,[s,t,i]);var o=te(u=>rG(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Bn.createPortal(r,l):null}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function xG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=r,p=n,m=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,y,b;if(c==="ScatterChart")g=f,y=n8,b=Qt.cursorLine;else if(c==="BarChart")g=i8(o,f,a,s),y=Dk,b=Qt.cursorRectangle;else if(o==="radial"&&eO(f)){var{cx:x,cy:E,radius:A,startAngle:I,endAngle:R}=Lk(f);g={cx:x,cy:E,startAngle:I,endAngle:R,innerRadius:A,outerRadius:A},y=Fk,b=Qt.cursorLine}else g={points:K8(o,f,a)},y=bx,b=Qt.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,v=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},a),g),Su(l)),{},{payload:p,payloadIndex:m,className:Oe("recharts-tooltip-cursor",O)});return _.createElement(Cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},_.createElement(wG,{cursor:l,cursorComp:y,cursorProps:v}))}function _G(e){var t=$H(),r=wk(),n=Op(),i=HH();return t==null||r==null||n==null||i==null?null:_.createElement(xG,Hy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var BD=_.createContext(null),bG=()=>_.useContext(BD),qD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,E,A;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,p),!0;case 5:return b.fn.call(b.context,c,f,p,m),!0;case 6:return b.fn.call(b.context,c,f,p,m,g),!0}for(A=1,E=new Array(x-1);A<x;A++)E[A-1]=arguments[A];b.fn.apply(b.context,E)}else{var I=b.length,R;for(A=0;A<I;A++)switch(b[A].once&&this.removeListener(u,b[A].fn,void 0,!0),x){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,c);break;case 3:b[A].fn.call(b[A].context,c,f);break;case 4:b[A].fn.call(b[A].context,c,f,p);break;default:if(!E)for(R=1,E=new Array(x-1);R<x;R++)E[R-1]=arguments[R];b[A].fn.apply(b[A].context,E)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==c||p&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(qD);var EG=qD.exports;const SG=Ai(EG);var Vu=new SG,Gy="recharts.syncEvent.tooltip",TP="recharts.syncEvent.brush";function WD(e,t){if(t){var r=Number.parseInt(t,10);if(!An(r))return e==null?void 0:e[r]}}var AG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KD=jr({name:"options",initialState:AG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),PG=KD.reducer,{createEventEmitter:TG}=KD.actions;function CG(e){return e.tooltip.syncInteraction}var IG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HD=jr({name:"chartData",initialState:IG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CP,setDataStartEndIndexes:jG,setComputedData:Wte}=HD.actions,NG=HD.reducer,OG=["x","y"];function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){kG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){if(e==null)return{};var r,n,i=LG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VG(){var e=te(Xx),t=te(Zx),r=ze(),n=te(zR),i=te(Oi),a=Op(),s=Np(),o=te(l=>l.rootProps.className);_.useEffect(()=>{if(e==null)return Ju;var l=(u,c,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,b=MG(m,OG),{x,y:E,width:A,height:I}=c.payload.sourceViewBox,R=Cs(Cs({},b),{},{x:s.x+(A?(g-x)/A:0)*s.width,y:s.y+(I?(y-E)/I:0)*s.height});r(Cs(Cs({},c),{},{payload:Cs(Cs({},c.payload),{},{coordinate:R})}))}else r(c);return}if(i!=null){var O;if(typeof n=="function"){var v={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,v);O=i[S]}else n==="value"&&(O=i.find(de=>String(de.value)===c.payload.label));var{coordinate:C}=c.payload;if(O==null||c.payload.active===!1||C==null||s==null){r(Wy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:T}=C,N=Math.min(k,s.x+s.width),j=Math.min(T,s.y+s.height),Q={x:a==="horizontal"?O.coordinate:N,y:a==="horizontal"?j:O.coordinate},se=Wy({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return Vu.on(Gy,l),()=>{Vu.off(Gy,l)}},[o,r,t,e,n,i,a,s])}function FG(){var e=te(Xx),t=te(Zx),r=ze();_.useEffect(()=>{if(e==null)return Ju;var n=(i,a,s)=>{t!==s&&e===i&&r(jG(a))};return Vu.on(TP,n),()=>{Vu.off(TP,n)}},[r,t,e])}function $G(){var e=ze();_.useEffect(()=>{e(TG())},[e]),VG(),FG()}function zG(e,t,r,n,i,a){var s=te(m=>QH(m,e,t)),o=te(Zx),l=te(Xx),u=te(zR),c=te(CG),f=c==null?void 0:c.active,p=Np();_.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Wy({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Vu.emit(Gy,l,m,o)}},[f,r,s,i,n,o,l,u,a,p])}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=BG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e){return e.dataKey}function KG(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(MB,t)}var OP=[],HG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function D_(e){var t,r,n=Ut(e,HG),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:b,cursor:x,shared:E,trigger:A,defaultIndex:I,portal:R,axisId:O}=n,v=ze(),S=typeof I=="number"?String(I):I;_.useEffect(()=>{v(qK({shared:E,trigger:A,axisId:O,active:i,defaultIndex:S}))},[v,E,A,O,i,S]);var C=Np(),k=jk(),T=VK(E),{activeIndex:N,isActive:j}=(t=te(Ue=>ZH(Ue,T,A,S)))!==null&&t!==void 0?t:{},Q=te(Ue=>XH(Ue,T,A,S)),se=te(Ue=>zD(Ue,T,A,S)),de=te(Ue=>YH(Ue,T,A,S)),oe=Q,U=bG(),K=(r=i??j)!==null&&r!==void 0?r:!1,[ne,me]=jO([oe,K]),be=T==="axis"?se:void 0;zG(T,A,de,be,N,K);var _t=R??U;if(_t==null||C==null||T==null)return null;var Re=oe??OP;K||(Re=OP),u&&Re.length&&(Re=yO(Re.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||n.includeHidden)),p,WG));var qt=Re.length>0,bt=_.createElement(BB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:K,coordinate:de,hasPayload:qt,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:b,lastBoundingBox:ne,innerRef:me,hasPortalFromProps:!!R},KG(l,NP(NP({},n),{},{payload:Re,label:be,active:K,activeIndex:N,coordinate:de,accessibilityLayer:k})));return _.createElement(_.Fragment,null,Bn.createPortal(bt,_t),K&&_.createElement(_G,{cursor:x,tooltipEventType:T,coordinate:de,payload:Re,index:N}))}var _c=e=>null;_c.displayName="Cell";function GG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XG{constructor(t){GG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ={cacheSize:2e3,enableCache:!0},GD=ZG({},rQ),RP=new XG(GD.cacheSize),nQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DP="recharts_measurement_span";function iQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var MP=(e,t)=>{try{var r=document.getElementById(DP);r||(r=document.createElement("span"),r.setAttribute("id",DP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,nQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sc.isSsr)return{width:0,height:0};if(!GD.enableCache)return MP(t,r);var n=iQ(t,r),i=RP.get(n);if(i)return i;var a=MP(t,r);return RP.set(n,a),a},LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oQ=Object.keys(QD),Gs="NaN";function lQ(e,t){return e*QD[t]}class xr{static parse(t){var r,[,n,i]=(r=sQ.exec(t))!==null&&r!==void 0?r:[];return new xr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,An(t)&&(this.unit=""),r!==""&&!aQ.test(r)&&(this.num=NaN,this.unit=""),oQ.includes(r)&&(this.num=lQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new xr(NaN,""):new xr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new xr(NaN,""):new xr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xr(NaN,""):new xr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xr(NaN,""):new xr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return An(this.num)}}function YD(e){if(e.includes(Gs))return Gs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=LP.exec(t))!==null&&r!==void 0?r:[],s=xr.parse(n??""),o=xr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Gs;t=t.replace(LP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,p]=(u=VP.exec(t))!==null&&u!==void 0?u:[],m=xr.parse(c??""),g=xr.parse(p??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Gs;t=t.replace(VP,y.toString())}return t}var FP=/\(([^()]*)\)/;function uQ(e){for(var t=e,r;(r=FP.exec(t))!=null;){var[,n]=r;t=t.replace(FP,YD(n))}return t}function cQ(e){var t=e.replace(/\s+/g,"");return t=uQ(t),t=YD(t),t}function dQ(e){try{return cQ(e)}catch{return Gs}}function Og(e){var t=dQ(e.slice(5,-1));return t===Gs?"":t}var fQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hQ=["dx","dy","angle","className","breakAll"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function $P(e,t){if(e==null)return{};var r,n,i=pQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XD=/[ \f\n\r\t\v\u2028\u2029]+/,ZD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zt(t)||(r?i=t.toString().split(""):i=t.toString().split(XD));var a=i.map(o=>({word:o,width:Zl(o,n).width})),s=r?0:Zl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function mQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var JD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),e2=e=>e.reduce((t,r)=>t.width>r.width?t:r),gQ="",zP=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=ZD({breakAll:r,style:n,children:l+gQ});if(!u)return[!1,[]];var c=JD(u.wordsWithComputedWidth,a,s,o),f=c.length>i||e2(c).width>Number(a);return[f,c]},vQ=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=re(a),c=String(s),f=JD(t,n,r,i);if(!u||i)return f;var p=f.length>a||e2(f).width>Number(n);if(!p)return f;for(var m=0,g=c.length-1,y=0,b;m<=g&&y<=c.length-1;){var x=Math.floor((m+g)/2),E=x-1,[A,I]=zP(c,E,l,o,a,n,r,i),[R]=zP(c,x,l,o,a,n,r,i);if(!A&&!R&&(m=x+1),A&&R&&(g=x-1),!A&&R){b=I;break}y++}return b||f},UP=e=>{var t=zt(e)?[]:e.toString().split(XD);return[{words:t,width:void 0}]},yQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!sc.isSsr){var o,l,u=ZD({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return UP(n);return vQ({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return UP(n)},t2="#808080",wQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:t2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},tm=_.forwardRef((e,t)=>{var r=Ut(e,wQ),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,f=$P(r,fQ),p=_.useMemo(()=>yQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:g,angle:y,className:b,breakAll:x}=f,E=$P(f,hQ);if(!Kn(n)||!Kn(i)||p.length===0)return null;var A=Number(n)+(re(m)?m:0),I=Number(i)+(re(g)?g:0);if(!dt(A)||!dt(I))return null;var R;switch(c){case"start":R=Og("calc(".concat(s,")"));break;case"middle":R=Og("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:R=Og("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var v=p[0].width,{width:S}=f;O.push("scale(".concat(re(S)&&re(v)?S/v:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(A,", ").concat(I,")")),O.length&&(E.transform=O.join(" ")),_.createElement("text",Qy({},sn(E),{ref:t,x:A,y:I,className:Oe("recharts-text",b),textAnchor:u,fill:o.includes("url")?t2:o}),p.map((C,k)=>{var T=C.words.join(x?"":" ");return _.createElement("tspan",{x:A,dy:k===0?R:a,key:"".concat(T,"-").concat(k)},T)}))});tm.displayName="Text";var xQ=["labelRef"];function _Q(e,t){if(e==null)return{};var r,n,i=bQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){EQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var r2=_.createContext(null),PQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return _.createElement(r2.Provider,{value:l},o)},n2=()=>{var e=_.useContext(r2),t=Np();return e||yk(t)},TQ=_.createContext(null),CQ=()=>{var e=_.useContext(TQ),t=te(KR);return e||t},IQ=e=>{var{value:t,formatter:r}=e,n=zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},M_=e=>e!=null&&typeof e=="function",jQ=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},NQ=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=jQ(f,p),b=y>=0?1:-1,x,E;switch(t){case"insideStart":x=f+b*a,E=m;break;case"insideEnd":x=p-b*a,E=!m;break;case"end":x=p+b*a,E=m;break;default:throw new Error("Unsupported position ".concat(t))}E=y<=0?E:!E;var A=wt(o,l,g,x),I=wt(o,l,g,x+(E?1:-1)*359),R="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(I.x,",").concat(I.y),O=zt(e.id)?Au("recharts-radial-line-"):e.id;return _.createElement("text",ti({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:O,d:R})),_.createElement("textPath",{xlinkHref:"#".concat(O)},r))},OQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:f}=wt(n,i,s+t,u);return{x:c,y:f,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=wt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Yy=e=>"cx"in e&&re(e.cx),kQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Yy(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,f=s,p=s+(l-u)/2,m=(f+p)/2,g=(l+u)/2,y=f+l/2,b=c>=0?1:-1,x=b*n,E=b>0?"end":"start",A=b>0?"start":"end",I=l>=0?1:-1,R=I*n,O=I>0?"end":"start",v=I>0?"start":"end";if(i==="top"){var S={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:E};return lt(lt({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:p+u/2,y:o+c+x,textAnchor:"middle",verticalAnchor:A};return lt(lt({},C),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var k={x:m-R,y:o+c/2,textAnchor:O,verticalAnchor:"middle"};return lt(lt({},k),a?{width:Math.max(k.x-a.x,0),height:c}:{})}if(i==="right"){var T={x:m+g+R,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return lt(lt({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:c}:{})}var N=a?{width:g,height:c}:{};return i==="insideLeft"?lt({x:m+R,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?lt({x:m+g-R,y:o+c/2,textAnchor:O,verticalAnchor:"middle"},N):i==="insideTop"?lt({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:A},N):i==="insideBottom"?lt({x:p+u/2,y:o+c-x,textAnchor:"middle",verticalAnchor:E},N):i==="insideTopLeft"?lt({x:f+R,y:o+x,textAnchor:v,verticalAnchor:A},N):i==="insideTopRight"?lt({x:f+l-R,y:o+x,textAnchor:O,verticalAnchor:A},N):i==="insideBottomLeft"?lt({x:p+R,y:o+c-x,textAnchor:v,verticalAnchor:E},N):i==="insideBottomRight"?lt({x:p+u-R,y:o+c-x,textAnchor:O,verticalAnchor:E},N):i&&typeof i=="object"&&(re(i.x)||yi(i.x))&&(re(i.y)||yi(i.y))?lt({x:s+or(i.x,g),y:o+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):lt({x:y,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},RQ={angle:0,offset:5,zIndex:Qt.label,position:"middle",textBreakAll:!1};function Bi(e){var t=Ut(e,RQ),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=CQ(),f=n2(),p=n==="center"?f:c??f,m,g,y;if(r==null?m=p:Yy(r)?m=r:m=yk(r),!m||zt(i)&&zt(a)&&!_.isValidElement(s)&&typeof s!="function")return null;var b=lt(lt({},t),{},{viewBox:m});if(_.isValidElement(s)){var{labelRef:x}=b,E=_Q(b,xQ);return _.cloneElement(s,E)}if(typeof s=="function"){if(g=_.createElement(s,b),_.isValidElement(g))return g}else g=IQ(t);var A=sn(t);if(Yy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return NQ(t,n,g,A,m);y=OQ(m,t.offset,t.position)}else y=kQ(t,m);return _.createElement(Cn,{zIndex:t.zIndex},_.createElement(tm,ti({ref:u,className:Oe("recharts-label",o)},A,y,{textAnchor:mQ(A.textAnchor)?A.textAnchor:y.textAnchor,breakAll:l}),g))}Bi.displayName="Label";var DQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Bi,ti({key:"label-implicit"},n)):Kn(e)?_.createElement(Bi,ti({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Bi?_.cloneElement(e,lt({key:"label-implicit"},n)):_.createElement(Bi,ti({key:"label-implicit",content:e},n)):M_(e)?_.createElement(Bi,ti({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Bi,ti({},e,{key:"label-implicit"},n)):null};function MQ(e){var{label:t,labelRef:r}=e,n=n2();return DQ(t,n,r)||null}var i2={},a2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(a2);var s2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a2,r=s2,n=mp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(i2);var LQ=i2.last;const VQ=Ai(LQ);var FQ=["valueAccessor"],$Q=["dataKey","clockWise","id","textBreakAll","zIndex"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}function qP(e,t){if(e==null)return{};var r,n,i=zQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UQ=e=>Array.isArray(e.value)?VQ(e.value):e.value,o2=_.createContext(void 0),BQ=o2.Provider,l2=_.createContext(void 0),qQ=l2.Provider;function WQ(){return _.useContext(o2)}function KQ(){return _.useContext(l2)}function Bd(e){var{valueAccessor:t=UQ}=e,r=qP(e,FQ),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=qP(r,$Q),u=WQ(),c=KQ(),f=u||c;return!f||!f.length?null:_.createElement(Cn,{zIndex:o??Qt.label},_.createElement(mr,{className:"recharts-label-list"},f.map((p,m)=>{var g,y=zt(n)?t(p,m):Ye(p&&p.payload,n),b=zt(a)?{}:{id:"".concat(a,"-").concat(m)};return _.createElement(Bi,mh({key:"label-".concat(m)},sn(p),l,b,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}Bd.displayName="LabelList";function u2(e){var{label:t}=e;return t?t===!0?_.createElement(Bd,{key:"labelList-implicit"}):_.isValidElement(t)||M_(t)?_.createElement(Bd,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Bd,mh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var c2=e=>e.graphicalItems.polarItems,HQ=L([Ze,fc],i_),rm=L([c2,nt,HQ],s_),GQ=L([rm],o_),nm=L([GQ,Kx],l_),QQ=L([nm,nt,rm],c_);L([nm,nt,rm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ye(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var WP=()=>{},YQ=L([nm,nt,rm,Zp,Ze],p_),XQ=L([nt,f_,h_,WP,YQ,WP,Te,Ze],m_),d2=L([nt,Te,nm,QQ,dc,Ze,XQ],g_),ZQ=L([d2,nt,Wo],w_);L([nt,d2,ZQ,Ze],__);var JQ={radiusAxis:{},angleAxis:{}},f2=jr({name:"polarAxis",initialState:JQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Kte,removeRadiusAxis:Hte,addAngleAxis:Gte,removeAngleAxis:Qte}=f2.actions,eY=f2.reducer;function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iY=(e,t)=>t,L_=L([c2,iY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),aY=[],V_=(e,t,r)=>(r==null?void 0:r.length)===0?aY:r,h2=L([Kx,L_,V_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>HP(HP({},t.presentationProps),a.props))),i!=null)return i}}),sY=L([h2,L_,V_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ye(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Pp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),oY=L([h2,L_,V_,It],(e,t,r,n)=>{if(!(t==null||e==null))return lX({offset:n,pieSettings:t,displayedData:e,cells:r})}),p2={exports:{}},Le={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=Symbol.for("react.transitional.element"),$_=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),om=Symbol.for("react.consumer"),lm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),fm=Symbol.for("react.memo"),hm=Symbol.for("react.lazy"),lY=Symbol.for("react.view_transition"),uY=Symbol.for("react.client.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case F_:switch(e=e.type,e){case im:case sm:case am:case cm:case dm:case lY:return e;default:switch(e=e&&e.$$typeof,e){case lm:case um:case hm:case fm:return e;case om:return e;default:return t}}case $_:return t}}}Le.ContextConsumer=om;Le.ContextProvider=lm;Le.Element=F_;Le.ForwardRef=um;Le.Fragment=im;Le.Lazy=hm;Le.Memo=fm;Le.Portal=$_;Le.Profiler=sm;Le.StrictMode=am;Le.Suspense=cm;Le.SuspenseList=dm;Le.isContextConsumer=function(e){return cn(e)===om};Le.isContextProvider=function(e){return cn(e)===lm};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===F_};Le.isForwardRef=function(e){return cn(e)===um};Le.isFragment=function(e){return cn(e)===im};Le.isLazy=function(e){return cn(e)===hm};Le.isMemo=function(e){return cn(e)===fm};Le.isPortal=function(e){return cn(e)===$_};Le.isProfiler=function(e){return cn(e)===sm};Le.isStrictMode=function(e){return cn(e)===am};Le.isSuspense=function(e){return cn(e)===cm};Le.isSuspenseList=function(e){return cn(e)===dm};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===im||e===sm||e===am||e===cm||e===dm||typeof e=="object"&&e!==null&&(e.$$typeof===hm||e.$$typeof===fm||e.$$typeof===lm||e.$$typeof===om||e.$$typeof===um||e.$$typeof===uY||e.getModuleId!==void 0)};Le.typeOf=cn;p2.exports=Le;var cY=p2.exports,GP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QP=null,kg=null,m2=e=>{if(e===QP&&Array.isArray(kg))return kg;var t=[];return _.Children.forEach(e,r=>{zt(r)||(cY.isFragment(r)?t=t.concat(m2(r.props.children)):t.push(r))}),kg=t,QP=e,t};function z_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>GP(i)):n=[GP(t)],m2(e).forEach(i=>{var a=os(i,"type.displayName")||os(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(g2);var dY=g2.isPlainObject;const fY=Ai(dY);function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=pY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var ZP=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},gY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vY=e=>{var t=Ut(e,gY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,p=_.useRef(null),[m,g]=_.useState(-1),y=_.useRef(i),b=_.useRef(a),x=_.useRef(s),E=_.useRef(r),A=_.useRef(n),I=Fp(e,"trapezoid-");if(_.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var R=Oe("recharts-trapezoid",o);if(!f)return _.createElement("g",null,_.createElement("path",gh({},sn(t),{className:R,d:ZP(r,n,i,a,s)})));var O=y.current,v=b.current,S=x.current,C=E.current,k=A.current,T="0px ".concat(m===-1?1:m,"px"),N="".concat(m,"px 0px"),j=Nk(["strokeDasharray"],u,l);return _.createElement(Vp,{animationId:I,key:I,canBegin:m>0,duration:u,easing:l,isActive:f,begin:c},Q=>{var se=At(O,i,Q),de=At(v,a,Q),oe=At(S,s,Q),U=At(C,r,Q),K=At(k,n,Q);p.current&&(y.current=se,b.current=de,x.current=oe,E.current=U,A.current=K);var ne=Q>0?{transition:j,strokeDasharray:N}:{strokeDasharray:T};return _.createElement("path",gh({},sn(t),{className:R,d:ZP(U,K,se,de,oe),ref:p,style:XP(XP({},ne),t.style)}))})},yY=["option","shapeType","propTransformer","activeClassName"];function wY(e,t){if(e==null)return{};var r,n,i=xY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e,t){return vh(vh({},t),e)}function AY(e,t){return e==="symbols"}function eT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(Dk,r);case"trapezoid":return _.createElement(vY,r);case"sector":return _.createElement(Fk,r);case"symbols":if(AY(t))return _.createElement(Gw,r);break;case"curve":return _.createElement(bx,r);default:return null}}function PY(e){return _.isValidElement(e)?e.props:e}function v2(e){var{option:t,shapeType:r,propTransformer:n=SY,activeClassName:i="recharts-active-shape"}=e,a=wY(e,yY),s;if(_.isValidElement(t))s=_.cloneElement(t,vh(vh({},a),PY(t)));else if(typeof t=="function")s=t(a,a.index);else if(fY(t)&&typeof t!="boolean"){var o=n(t,a);s=_.createElement(eT,{shapeType:r,elementProps:o})}else{var l=a;s=_.createElement(eT,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(mr,{className:i},s):s}var U_=(e,t,r)=>{var n=ze();return(i,a)=>s=>{e==null||e(i,a,s),n(ED({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},B_=e=>{var t=ze();return(r,n)=>i=>{e==null||e(r,n,i),t(WK())}},q_=(e,t,r)=>{var n=ze();return(i,a)=>s=>{e==null||e(i,a,s),n(KK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function y2(e){var{tooltipEntrySettings:t}=e,r=ze(),n=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(zK(t)):i.current!==t&&r(UK({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(BK(i.current)),i.current=null)},[r]),null}function TY(e){var{legendPayload:t}=e,r=ze(),n=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(Tk(t)):i.current!==t&&r(Ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ik(i.current)),i.current=null)},[r]),null}function CY(e){var{legendPayload:t}=e,r=ze(),n=te(Te),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Tk(t)):i.current!==t&&r(Ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ik(i.current)),i.current=null)},[r]),null}var Rg,IY=()=>{var[e]=_.useState(()=>Au("uid-"));return e},jY=(Rg=zM.useId)!==null&&Rg!==void 0?Rg:IY;function w2(e,t){var r=jY();return t||(e?"".concat(e,"-").concat(r):r)}var NY=_.createContext(void 0),x2=e=>{var{id:t,type:r,children:n}=e,i=w2("recharts-".concat(r),t);return _.createElement(NY.Provider,{value:i},n(i))},OY={cartesianItems:[],polarItems:[]},_2=jr({name:"graphicalItems",initialState:OY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(e,t){var r=_n(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(e,t){var r=_n(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:kY,replaceCartesianGraphicalItem:RY,removeCartesianGraphicalItem:DY,addPolarGraphicalItem:MY,removePolarGraphicalItem:LY}=_2.actions,VY=_2.reducer,FY=e=>{var t=ze(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(kY(e)):r.current!==e&&t(RY({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(DY(r.current)),r.current=null)},[t]),null},$Y=_.memo(FY);function zY(e){var t=ze();return _.useLayoutEffect(()=>(t(MY(e)),()=>{t(LY(e))}),[t,e]),null}var UY=["key"],BY=["onMouseEnter","onClick","onMouseLeave"],qY=["id"],WY=["id"];function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=HY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function pm(e,t){if(e==null)return{};var r,n,i=QY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YY(e){var t=_.useMemo(()=>z_(e.children,_c),[e.children]),r=te(n=>sY(n,e.id,t));return r==null?null:_.createElement(CY,{legendPayload:r})}var XY=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Pp(o,t),hide:l,type:u,color:s,unit:""}};return _.createElement(y2,{tooltipEntrySettings:c})}),ZY=(e,t)=>e>t?"start":e<t?"end":"middle",JY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),eX=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=Mk(a,s),l=i+or(e.cx,a,a/2),u=n+or(e.cy,s,s/2),c=or(e.innerRadius,o,0),f=JY(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:p}},tX=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function rX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var nX=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Oe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=pm(t,UY);return _.createElement(bx,ya({},i,{type:"linear",className:r}))},iX=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=Oe("recharts-pie-label-text",rX(e));return _.createElement(tm,ya({},t,{alignmentBaseline:"middle",className:i}),n)};function aX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Sn(r),l=Su(i),u=Su(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=wt(p.cx,p.cy,p.outerRadius+c,g),b=st(st(st(st({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:ZY(y.x,p.cx)},y),x=st(st(st(st({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[wt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return _.createElement(Cn,{zIndex:Qt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},_.createElement(mr,null,a&&nX(a,x),iX(i,b,Ye(p,s))))});return _.createElement(mr,{className:"recharts-pie-labels"},f)}function sX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(u2,{label:i}):_.createElement(aX,{sectors:t,props:r,showLabels:n})}function oX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=te(ds),l=te(j_),u=te(NH),{onMouseEnter:c,onClick:f,onMouseLeave:p}=i,m=pm(i,BY),g=U_(c,i.dataKey,s),y=B_(p),b=q_(f,i.dataKey,s);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,E)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var A=u==null||u===s,I=String(E)===o&&(l==null||i.dataKey===l)&&A,R=o?n:null,O=r&&I?r:R,v=st(st({},x),{},{stroke:x.stroke,tabIndex:-1,[ck]:E,[dk]:i.dataKey});return _.createElement(mr,ya({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},ec(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:y(x,E),onClick:b(x,E)}),_.createElement(v2,ya({option:a??O,index:E,shapeType:"sector",isActive:I},v)))}))}function lX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=r,p=Math.abs(r.minAngle),m=tX(o,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(O=>Ye(O,u,0)!==0).length,x=(g>=360?b:b-1)*y,E=g-b*p-x,A=n.reduce((O,v)=>{var S=Ye(v,u,0);return O+(re(S)?S:0)},0),I;if(A>0){var R;I=n.map((O,v)=>{var S=Ye(O,u,0),C=Ye(O,c,v),k=eX(r,a,O),T=(re(S)?S:0)/A,N,j=st(st({},O),i&&i[v]&&i[v].props);v?N=R.endAngle+Ft(m)*y*(S!==0?1:0):N=o;var Q=N+Ft(m)*((S!==0?p:0)+T*E),se=(N+Q)/2,de=(k.innerRadius+k.outerRadius)/2,oe=[{name:C,value:S,payload:j,dataKey:u,type:f}],U=wt(k.cx,k.cy,de,se);return R=st(st(st(st({},r.presentationProps),{},{percent:T,cornerRadius:typeof s=="string"?parseFloat(s):s,name:C,tooltipPayload:oe,midAngle:se,middleRadius:de,tooltipPosition:U},j),k),{},{value:S,dataKey:u,startAngle:N,endAngle:Q,payload:j,paddingAngle:Ft(m)*y}),R})}return I}function uX(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(qQ,{value:t?i:void 0},n)}function cX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:p}=t,m=Fp(t,"recharts-pie-"),g=r.current,[y,b]=_.useState(!1),x=_.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),E=_.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return _.createElement(uX,{showLabels:!y,sectors:i},_.createElement(Vp,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:E,onAnimationEnd:x,key:m},A=>{var I=[],R=i&&i[0],O=R==null?void 0:R.startAngle;return i==null||i.forEach((v,S)=>{var C=g&&g[S],k=S>0?os(v,"paddingAngle",0):0;if(C){var T=At(C.endAngle-C.startAngle,v.endAngle-v.startAngle,A),N=st(st({},v),{},{startAngle:O+k,endAngle:O+T+k});I.push(N),O=N.endAngle}else{var{endAngle:j,startAngle:Q}=v,se=At(0,j-Q,A),de=st(st({},v),{},{startAngle:O+k,endAngle:O+se+k});I.push(de),O=de.endAngle}}),r.current=I,_.createElement(mr,null,_.createElement(oX,{sectors:I,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(sX,{showLabels:!y,sectors:i,props:t}),t.children)}var dX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qt.area};function fX(e){var{id:t}=e,r=pm(e,qY),{hide:n,className:i,rootTabIndex:a}=e,s=_.useMemo(()=>z_(e.children,_c),[e.children]),o=te(c=>oY(c,t,s)),l=_.useRef(null),u=Oe("recharts-pie",i);return n||o==null?(l.current=null,_.createElement(mr,{tabIndex:a,className:u})):_.createElement(Cn,{zIndex:e.zIndex},_.createElement(XY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),_.createElement(mr,{tabIndex:a,className:u},_.createElement(cX,{props:st(st({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function b2(e){var t=Ut(e,dX),{id:r}=t,n=pm(t,WY),i=Sn(n);return _.createElement(x2,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(zY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(YY,ya({},n,{id:a})),_.createElement(fX,ya({},n,{id:a}))))}b2.displayName="Pie";function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=pX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gX={xAxis:{},yAxis:{},zAxis:{}},E2=jr({name:"cartesianAxis",initialState:gX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ge()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ge()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ge()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ge()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ge()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ge()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=nT(nT({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:vX,replaceXAxis:yX,removeXAxis:wX,addYAxis:xX,replaceYAxis:_X,removeYAxis:bX,addZAxis:Yte,replaceZAxis:Xte,removeZAxis:Zte,updateYAxisWidth:EX}=E2.actions,SX=E2.reducer,AX=L([It],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),PX=L([AX,Ti,Ci],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),S2=()=>te(PX),TX="Invariant failed";function CX(e,t){throw new Error(TX)}var IX=["x","y"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kX(e,t){if(e==null)return{};var r,n,i=RX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DX(e,t){var{x:r,y:n}=e,i=kX(e,IX),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Pl(Pl(Pl(Pl(Pl({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function yh(e){return _.createElement(v2,Xy({shapeType:"rectangle",propTransformer:DX,activeClassName:"recharts-active-bar"},e))}var MX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||zt(n);return a?t(n,i):(a||CX(),r)}},LX={},A2=jr({name:"errorBars",initialState:LX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Jte,replaceErrorBar:ere,removeErrorBar:tre}=A2.actions,VX=A2.reducer,FX=["children"];function $X(e,t){if(e==null)return{};var r,n,i=zX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BX=_.createContext(UX);function qX(e){var{children:t}=e,r=$X(e,FX);return _.createElement(BX.Provider,{value:r},t)}function P2(e,t){var r,n,i=te(u=>ji(u,e)),a=te(u=>Ni(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Rt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Dt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function WX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=S2(),{needClipX:a,needClipY:s,needClip:o}=P2(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function KX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var HX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=_;function GX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QX=typeof Object.is=="function"?Object.is:GX,YX=bc.useSyncExternalStore,XX=bc.useRef,ZX=bc.useEffect,JX=bc.useMemo,eZ=bc.useDebugValue;HX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=XX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=JX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,QX(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,f=y)}var u=!1,c,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=YX(e,a[0],a[1]);return ZX(function(){s.hasValue=!0,s.value=o},[o]),eZ(o),o};function tZ(e){e()}function rZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var aT={notify(){},get:()=>[]};function nZ(e,t){let r,n=aT,i=0,a=!1;function s(y){c();const b=n.subscribe(y);let x=!1;return()=>{x||(x=!0,b(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=rZ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=aT)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var iZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aZ=iZ(),sZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oZ=sZ(),lZ=()=>aZ||oZ?_.useLayoutEffect:_.useEffect,uZ=lZ();function sT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cZ(e,t){if(sT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!sT(e[r[i]],t[r[i]]))return!1;return!0}var Dg=Symbol.for("react-redux-context"),Mg=typeof globalThis<"u"?globalThis:{};function dZ(){if(!_.createContext)return{};const e=Mg[Dg]??(Mg[Dg]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var fZ=dZ();function hZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const l=nZ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=_.useMemo(()=>i.getState(),[i]);uZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||fZ;return _.createElement(o.Provider,{value:a},t)}var pZ=hZ,mZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function gZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function W_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(mZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cZ(e[n],t[n]))return!1}else if(!gZ(e[n],t[n]))return!1;return!0}var vZ=["onMouseEnter","onMouseLeave","onClick"],yZ=["value","background","tooltipPosition"],wZ=["id"],xZ=["onMouseEnter","onClick","onMouseLeave"];function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(e,t){if(e==null)return{};var r,n,i=SZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Pp(r,t),payload:e}]},PZ=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Pp(a,t),hide:s,type:l,color:i,unit:o}};return _.createElement(y2,{tooltipEntrySettings:u})});function TZ(e){var t=te(ds),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=wh(a,vZ),c=U_(s,n),f=B_(o),p=q_(l,n);if(!i||r==null)return null;var m=Su(i);return _.createElement(Cn,{zIndex:KX(i,Qt.barBackground)},r.map((g,y)=>{var{value:b,background:x,tooltipPosition:E}=g,A=wh(g,yZ);if(!x)return null;var I=c(g,y),R=f(g,y),O=p(g,y),v=fr(fr(fr(fr(fr({option:i,isActive:String(y)===t},A),{},{fill:"#eee"},x),m),ec(u,g,y)),{},{onMouseEnter:I,onMouseLeave:R,onClick:O,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return _.createElement(yh,Si({key:"background-bar-".concat(y)},v))}))}function CZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return fr(fr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return _.createElement(BQ,{value:t?i:void 0},r)}function IZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=te(ds),l=te(j_),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?_.createElement(Cn,{zIndex:Qt.activeBar},_.createElement(yh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):_.createElement(yh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function jZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(yh,Si({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function NZ(e){var t,{data:r,props:n}=e,i=(t=Sn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=wh(i,wZ),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:f,onMouseLeave:p}=n,m=wh(n,xZ),g=U_(c,l),y=B_(p),b=q_(f,l);return r?_.createElement(_.Fragment,null,r.map((x,E)=>_.createElement(mr,Si({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(E),className:"recharts-bar-rectangle"},ec(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:y(x,E),onClick:b(x,E)}),u?_.createElement(IZ,{shape:o,activeBar:u,baseProps:s,entry:x,index:E,dataKey:l}):_.createElement(jZ,{shape:o,baseProps:s,entry:x,index:E,dataKey:l})))):null}function OZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=r.current,p=Fp(t,"recharts-bar-"),[m,g]=_.useState(!1),y=!m,b=_.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=_.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return _.createElement(CZ,{showLabels:y,rects:n},_.createElement(Vp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:b,onAnimationStart:x,key:p},E=>{var A=E===1?n:n==null?void 0:n.map((I,R)=>{var O=f&&f[R];if(O)return fr(fr({},I),{},{x:At(O.x,I.x,E),y:At(O.y,I.y,E),width:At(O.width,I.width,E),height:At(O.height,I.height,E)});if(i==="horizontal"){var v=At(0,I.height,E),S=At(I.stackedBarStart,I.y,E);return fr(fr({},I),{},{y:S,height:v})}var C=At(0,I.width,E),k=At(I.stackedBarStart,I.x,E);return fr(fr({},I),{},{width:C,x:k})});return E>0&&(r.current=A??null),A==null?null:_.createElement(mr,null,_.createElement(NZ,{props:t,data:A}))}),_.createElement(u2,{label:t.label}),t.children)}function kZ(e){var t=_.useRef(null);return _.createElement(OZ,{previousRectanglesRef:t,props:e})}var T2=0,RZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class DZ extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Oe("recharts-bar",i),f=u;return _.createElement(mr,{className:c,id:u},o&&_.createElement("defs",null,_.createElement(WX,{clipPathId:f,xAxisId:a,yAxisId:s})),_.createElement(mr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},_.createElement(TZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),_.createElement(kZ,this.props)))}}var MZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:T2,xAxisId:0,yAxisId:0,zIndex:Qt.bar};function LZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=P2(t,r),p=Op(),m=Nr(),g=z_(e.children,_c),y=te(E=>dJ(E,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var b,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?b=0:b=p==="vertical"?x.height/2:x.width/2,_.createElement(qX,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:RZ,errorBarOffset:b},_.createElement(DZ,Si({},e,{layout:p,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function VZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:p,cells:m,parentViewBox:g,dataStartIndex:y}=e,b=t==="horizontal"?o:s,x=c?b.scale.domain():null,E=PU({numericAxis:b}),A=b.scale(E);return f.map((I,R)=>{var O,v,S,C,k,T;c?O=xU(c[R+y],x):(O=Ye(I,r),Array.isArray(O)||(O=[E,O]));var N=MX(n,T2)(O[1],R);if(t==="horizontal"){var j,[Q,se]=[o.scale(O[0]),o.scale(O[1])];v=WS({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:I,index:R}),S=(j=se??Q)!==null&&j!==void 0?j:void 0,C=i.size;var de=Q-se;if(k=An(de)?0:de,T={x:v,y:p.top,width:C,height:p.height},Math.abs(N)>0&&Math.abs(k)<Math.abs(N)){var oe=Ft(k||N)*(Math.abs(N)-Math.abs(k));S-=oe,k+=oe}}else{var[U,K]=[s.scale(O[0]),s.scale(O[1])];if(v=U,S=WS({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:I,index:R}),C=K-U,k=i.size,T={x:p.left,y:S,width:p.width,height:k},Math.abs(N)>0&&Math.abs(C)<Math.abs(N)){var ne=Ft(C||N)*(Math.abs(N)-Math.abs(C));C+=ne}}if(v==null||S==null||C==null||k==null)return null;var me=fr(fr({},I),{},{stackedBarStart:A,x:v,y:S,width:C,height:k,value:c?O:O[1],payload:I,background:T,tooltipPosition:{x:v+C/2,y:S+k/2},parentViewBox:g},m&&m[R]&&m[R].props);return me}).filter(Boolean)}function FZ(e){var t=Ut(e,MZ),r=Nr();return _.createElement(x2,{id:t.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(TY,{legendPayload:AZ(t)}),_.createElement(PZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement($Y,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:AU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),_.createElement(Cn,{zIndex:t.zIndex},_.createElement(LZ,Si({},t,{id:n})))))}var ao=_.memo(FZ,W_);ao.displayName="Bar";function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ=(e,t)=>t,qZ=(e,t,r)=>r,WZ=(e,t,r,n)=>n,KZ=(e,t,r,n,i)=>i,Ec=L([a_,KZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),HZ=L([Ec],e=>e==null?void 0:e.maxBarSize),GZ=(e,t,r,n,i,a)=>a,uT=(e,t,r)=>{var n=r??e;if(!zt(n))return or(n,t,0)},QZ=L([Te,a_,BZ,qZ,WZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),YZ=(e,t,r,n)=>{var i=Te(e);return i==="horizontal"?qy(e,"yAxis",r,n):qy(e,"xAxis",t,n)},XZ=(e,t,r)=>{var n=Te(e);return n==="horizontal"?gP(e,"xAxis",t):gP(e,"yAxis",r)},ZZ=(e,t,r)=>{var n={},i=e.filter(Gp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,f]=u,p=f.map(g=>g.dataKey),m=uT(t,r,f[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),f=uT(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]},JZ=L([QZ,RW,XZ],ZZ),eJ=(e,t,r,n,i)=>{var a,s,o=Ec(e,t,r,n,i);if(o!=null){var l=Te(e),u=VR(e),{maxBarSize:c}=o,f=zt(c)?u:c,p,m;return l==="horizontal"?(p=jo(e,"xAxis",t,n),m=Io(e,"xAxis",t,n)):(p=jo(e,"yAxis",r,n),m=Io(e,"yAxis",r,n)),(a=(s=Kf(p,m,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},C2=(e,t,r,n)=>{var i=Te(e),a,s;return i==="horizontal"?(a=jo(e,"xAxis",t,n),s=Io(e,"xAxis",t,n)):(a=jo(e,"yAxis",r,n),s=Io(e,"yAxis",r,n)),Kf(a,s)};function tJ(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=or(e,r,0,!0),o,l=[];if(dt(n[0].barSize)){var u=!1,c=r/a,f=n.reduce((x,E)=>x+(E.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&c>0&&(u=!0,c*=.9,f=a*c);var p=(r-f)/2>>0,m={offset:p-s,size:0};o=n.reduce((x,E)=>{var A,I={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(A=E.barSize)!==null&&A!==void 0?A:0}},R=[...x,I];return m=R[R.length-1].position,R},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var y=(r-2*g-(a-1)*s)/a;y>1&&(y>>=0);var b=dt(i)?Math.min(y,i):y;o=n.reduce((x,E,A)=>[...x,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(y+s)*A+(y-b)/2,size:b}}],l)}return o}}var rJ=(e,t,r,n,i,a,s)=>{var o=zt(s)?t:s,l=tJ(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>wd(wd({},u),{},{position:wd(wd({},u.position),{},{offset:u.position.offset-i/2})}))),l},nJ=L([JZ,VR,kW,FR,eJ,C2,HZ],rJ),iJ=(e,t,r,n)=>jo(e,"xAxis",t,n),aJ=(e,t,r,n)=>jo(e,"yAxis",r,n),sJ=(e,t,r,n)=>Io(e,"xAxis",t,n),oJ=(e,t,r,n)=>Io(e,"yAxis",r,n),lJ=L([nJ,Ec],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),uJ=(e,t)=>{var r=r_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},cJ=L([YZ,Ec],uJ),dJ=L([It,mx,iJ,aJ,sJ,oJ,lJ,Te,Hx,C2,cJ,Ec,GZ],(e,t,r,n,i,a,s,o,l,u,c,f,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:b}=f,x;if(b!=null&&b.length>0?x=b:x=m==null?void 0:m.slice(g,y+1),x!=null)return VZ({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),I2=e=>{var{chartData:t}=e,r=ze(),n=Nr();return _.useEffect(()=>n?()=>{}:(r(CP(t)),()=>{r(CP(void 0))}),[t,r,n]),null},cT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},j2=jr({name:"brush",initialState:cT,reducers:{setBrushSettings(e,t){return t.payload==null?cT:t.payload}}}),{setBrushSettings:rre}=j2.actions,fJ=j2.reducer;function hJ(e,t,r){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K_{static create(t){return new K_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}hJ(K_,"EPS",1e-4);function gJ(e){return(e%180+180)%180}var vJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gJ(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},yJ={dots:[],areas:[],lines:[]},N2=jr({name:"referenceElements",initialState:yJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_n(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_n(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_n(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nre,removeDot:ire,addArea:are,removeArea:sre,addLine:ore,removeLine:lre}=N2.actions,wJ=N2.reducer,xJ=_.createContext(void 0),_J=e=>{var{children:t}=e,[r]=_.useState("".concat(Au("recharts"),"-clip")),n=S2();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return _.createElement(xJ.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function O2(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function bJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vJ(n,r)}function EJ(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function xh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function SJ(e,t){return O2(e,t+1)}function AJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:O2(n,u)};var y=l,b,x=()=>(b===void 0&&(b=r(g,y)),b),E=g.coordinate,A=l===0||xh(e,E,x,c,o);A||(l=0,c=s,u+=1),A&&(c=E+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){PJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PJ(e,t,r){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===s-1){var b=e*(m.coordinate+e*y()/2-l);a[p]=m=rr(rr({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else a[p]=m=rr(rr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=xh(e,m.tickCoord,y,o,l);x&&(l=m.tickCoord-e*(y()/2+i),a[p]=rr(rr({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function jJ(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],f=r(c,o-1),p=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=rr(rr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=xh(e,c.tickCoord,()=>f,l,u);m&&(u=c.tickCoord-e*(f/2+i),s[o-1]=rr(rr({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(E){var A=s[E],I,R=()=>(I===void 0&&(I=r(A,E)),I);if(E===0){var O=e*(A.coordinate-e*R()/2-l);s[E]=A=rr(rr({},A),{},{tickCoord:O<0?A.coordinate-O*e:A.coordinate})}else s[E]=A=rr(rr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var v=xh(e,A.tickCoord,R,l,u);v&&(l=A.tickCoord+e*(R()/2+i),s[E]=rr(rr({},A),{},{isShow:!0}))}},b=0;b<g;b++)y(b);return s}function H_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!n)return[];if(re(l)||sc.isSsr){var p;return(p=SJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=c&&g==="width"?Zl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(A,I)=>{var R=typeof u=="function"?u(A.value,I):A.value;return g==="width"?bJ(Zl(R,{fontSize:t,letterSpacing:r}),y,f):Zl(R,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Ft(i[1].coordinate-i[0].coordinate):1,E=EJ(a,x,g);return l==="equidistantPreserveStart"?AJ(x,E,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=jJ(x,E,b,i,s,l==="preserveStartEnd"):m=IJ(x,E,b,i,s),m.filter(A=>A.isShow))}var NJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},OJ=["axisLine","width","height","className","hide","ticks","axisType"];function kJ(e,t){if(e==null)return{};var r,n,i=RJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(null,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qt.axis};function VJ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=mt(mt(mt({},l),Sn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=mt(mt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=mt(mt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return _.createElement("line",fs({},u,{className:Oe("recharts-cartesian-axis-line",os(o,"className"))}))}function FJ(e,t,r,n,i,a,s,o,l){var u,c,f,p,m,g,y=o?-1:1,b=e.tickSize||s,x=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!o*i,f=p-y*b,g=f-y*l,m=x;break;case"left":f=p=e.coordinate,c=t+ +!o*n,u=c-y*b,m=u-y*l,g=x;break;case"right":f=p=e.coordinate,c=t+ +o*n,u=c+y*b,m=u+y*l,g=x;break;default:u=c=e.coordinate,p=r+ +o*i,f=p+y*b,g=f+y*l,m=x;break}return{line:{x1:u,y1:f,x2:c,y2:p},tick:{x:m,y:g}}}function $J(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function UJ(e){var{option:t,tickProps:r,value:n}=e,i,a=Oe(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,mt(mt({},r),{},{className:a}));else if(typeof t=="function")i=t(mt(mt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Oe(s,t==null?void 0:t.className)),i=_.createElement(tm,fs({},r,{className:s}),n)}return i}var BJ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:p,y:m,width:g,height:y,tickSize:b,tickMargin:x,fontSize:E,letterSpacing:A,getTicksConfig:I,events:R,axisType:O}=e,v=H_(mt(mt({},I),{},{ticks:r}),E,A),S=$J(c,f),C=zJ(c,f),k=Sn(I),T=Su(n),N={};typeof i=="object"&&(N=i);var j=mt(mt({},k),{},{fill:"none"},N),Q=v.map(oe=>mt({entry:oe},FJ(oe,p,m,g,y,c,b,f,x))),se=Q.map(oe=>{var{entry:U,line:K}=oe;return _.createElement(mr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&_.createElement("line",fs({},j,K,{className:Oe("recharts-cartesian-axis-tick-line",os(i,"className"))})))}),de=Q.map((oe,U)=>{var{entry:K,tick:ne}=oe,me=mt(mt(mt(mt({textAnchor:S,verticalAnchor:C},k),{},{stroke:"none",fill:a},T),ne),{},{index:U,payload:K,visibleTicksCount:v.length,tickFormatter:s,padding:l},u);return _.createElement(mr,fs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},ec(R,K,U)),n&&_.createElement(UJ,{option:n,tickProps:me,value:"".concat(typeof s=="function"?s(K.value,U):K.value).concat(o||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},de.length>0&&_.createElement(Cn,{zIndex:Qt.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},de)),se.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},se))}),qJ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=kJ(e,OJ),[c,f]=_.useState(""),[p,m]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return NJ({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=_.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var E=x[0];if(E){var A=window.getComputedStyle(E),I=A.fontSize,R=A.letterSpacing;(I!==c||R!==p)&&(f(I),m(R))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Cn,{zIndex:e.zIndex},_.createElement(mr,{className:Oe("recharts-cartesian-axis",a)},_.createElement(VJ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Sn(e)}),_.createElement(BJ,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(PQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(MQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),G_=_.forwardRef((e,t)=>{var r=Ut(e,ui);return _.createElement(qJ,fs({},r,{ref:t}))});G_.displayName="CartesianAxis";var WJ=["x1","y1","x2","y2","key"],KJ=["offset"],HJ=["xAxisId","yAxisId"],GJ=["xAxisId","yAxisId"];function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){QJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QJ(e,t,r){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function _h(e,t){if(e==null)return{};var r,n,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return _.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k2(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=_h(r,WJ),f=(i=Sn(c))!==null&&i!==void 0?i:{},{offset:p}=f,m=_h(f,KJ);n=_.createElement("line",Wa({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function eee(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=_h(e,HJ),l=i.map((u,c)=>{var f=sr(sr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return _.createElement(k2,{key:"line-".concat(c),option:n,lineItemProps:f})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function tee(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=_h(e,GJ),l=i.map((u,c)=>{var f=sr(sr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(k2,{option:n,lineItemProps:f,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function ree(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var m=!u[p+1],g=m?i+s-f:u[p+1]-f;if(g<=0)return null;var y=p%t.length;return _.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function nee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var m=!u[p+1],g=m?i+s-f:u[p+1]-f;if(g<=0)return null;var y=p%r.length;return _.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var iee=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return ok(H_(sr(sr(sr({},ui),r),{},{ticks:lk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},aee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return ok(H_(sr(sr(sr({},ui),r),{},{ticks:lk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},see={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qt.grid};function Q_(e){var t=yx(),r=wx(),n=wk(),i=sr(sr({},Ut(e,see)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:p,verticalValues:m}=i,g=Nr(),y=te(C=>vP(C,"xAxis",a,g)),b=te(C=>vP(C,"yAxis",s,g));if(!Hn(u)||!Hn(c)||!re(o)||!re(l))return null;var x=i.verticalCoordinatesGenerator||iee,E=i.horizontalCoordinatesGenerator||aee,{horizontalPoints:A,verticalPoints:I}=i;if((!A||!A.length)&&typeof E=="function"){var R=p&&p.length,O=E({yAxis:b?sr(sr({},b),{},{ticks:R?p:b.ticks}):void 0,width:t??u,height:r??c,offset:n},R?!0:f);Hf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}if((!I||!I.length)&&typeof x=="function"){var v=m&&m.length,S=x({xAxis:y?sr(sr({},y),{},{ticks:v?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},v?!0:f);Hf(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(I=S)}return _.createElement(Cn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(JJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(ree,Wa({},i,{horizontalPoints:A})),_.createElement(nee,Wa({},i,{verticalPoints:I})),_.createElement(eee,Wa({},i,{offset:n,horizontalPoints:A,xAxis:y,yAxis:b})),_.createElement(tee,Wa({},i,{offset:n,verticalPoints:I,xAxis:y,yAxis:b}))))}Q_.displayName="CartesianGrid";var oee=["domain","range"],lee=["domain","range"];function pT(e,t){if(e==null)return{};var r,n,i=uee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function R2(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=pT(e,oee),{domain:a,range:s}=t,o=pT(t,lee);return!mT(r,a)||!mT(n,s)?!1:W_(i,o)}var cee=["dangerouslySetInnerHTML","ticks"],dee=["id"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function gT(e,t){if(e==null)return{};var r,n,i=fee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hee(e){var t=ze(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(vX(e)):r.current!==e&&t(yX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(wX(r.current)),r.current=null)},[t]),null}var pee=e=>{var{xAxisId:t,className:r}=e,n=te(mx),i=Nr(),a="xAxis",s=te(b=>Ko(b,a,t,i)),o=te(b=>vD(b,a,t,i)),l=te(b=>hD(b,t)),u=te(b=>NK(b,t)),c=te(b=>GR(b,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=gT(e,cee),{id:g}=c,y=gT(c,dee);return _.createElement(G_,Zy({},m,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Oe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},mee={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:ui.axisLine,height:Rt.height,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Rt.type,xAxisId:0},gee=e=>{var t=Ut(e,mee);return _.createElement(_.Fragment,null,_.createElement(hee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(pee,t))},Y_=_.memo(gee,R2);Y_.displayName="XAxis";var vee=["dangerouslySetInnerHTML","ticks"],yee=["id"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function vT(e,t){if(e==null)return{};var r,n,i=wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xee(e){var t=ze(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(xX(e)):r.current!==e&&t(_X({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(bX(r.current)),r.current=null)},[t]),null}var _ee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),s=_.useRef(null),o=te(mx),l=Nr(),u=ze(),c="yAxis",f=te(R=>Ko(R,c,t,l)),p=te(R=>pD(R,t)),m=te(R=>kK(R,t)),g=te(R=>vD(R,c,t,l)),y=te(R=>QR(R,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!p||M_(i)||_.isValidElement(i)||y==null)){var R=a.current;if(R){var O=R.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&u(EX({id:t,width:O}))}}},[g,p,u,i,t,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:b,ticks:x}=e,E=vT(e,vee),{id:A}=y,I=vT(y,yee);return _.createElement(G_,Jy({},E,I,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Oe("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:g,axisType:c}))},bee={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:ui.axisLine,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Dt.type,width:Dt.width,yAxisId:0},Eee=e=>{var t=Ut(e,bee);return _.createElement(_.Fragment,null,_.createElement(xee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(_ee,t))},X_=_.memo(Eee,R2);X_.displayName="YAxis";var See=(e,t)=>t,Z_=L([See,Te,KR,Nt,kD,Oi,GH,It],tG),J_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},D2=on("mouseClick"),M2=nc();M2.startListening({actionCreator:D2,effect:(e,t)=>{var r=e.payload,n=Z_(t.getState(),J_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(HK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var e0=on("mouseMove"),L2=nc(),xd=null;L2.startListening({actionCreator:e0,effect:(e,t)=>{var r=e.payload;xd!==null&&cancelAnimationFrame(xd);var n=J_(r);xd=requestAnimationFrame(()=>{var i=t.getState(),a=S_(i,i.tooltip.settings.shared);if(a==="axis"){var s=Z_(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(AD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(SD())}xd=null})}});var yT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V2=jr({name:"rootProps",initialState:yT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:yT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Aee=V2.reducer,{updateOptions:Pee}=V2.actions,F2=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Tee}=F2.actions,Cee=F2.reducer,$2=on("keyDown"),z2=on("focus"),eb=nc();eb.startListening({actionCreator:$2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=A_(i,Go(r),mc(r),wc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Oi(r);if(a==="Enter"){var u=ph(r,"axis","hover",String(i.index));t.dispatch(Ky({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=LK(r),f=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*f;if(!(l==null||m>=l.length||m<0)){var g=ph(r,"axis","hover",String(m));t.dispatch(Ky({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});eb.startListening({actionCreator:z2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=ph(r,"axis","hover",String(a));t.dispatch(Ky({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Gr=on("externalEvent"),U2=nc(),Lg=new Map;U2.startListening({actionCreator:Gr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Lg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kH(o),activeDataKey:j_(o),activeIndex:ds(o),activeLabel:MD(o),activeTooltipIndex:ds(o),isTooltipActive:RH(o)};r(l,n)}finally{Lg.delete(i)}});Lg.set(i,s)}}});var Iee=L([Ho],e=>e.tooltipItemPayloads),jee=L([Iee,vc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),B2=on("touchMove"),q2=nc();q2.startListening({actionCreator:B2,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=S_(n,n.tooltip.settings.shared);if(i==="axis"){var a=Z_(n,J_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(AD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(ck),c=(s=l.getAttribute(dk))!==null&&s!==void 0?s:void 0,f=jee(t.getState(),u,c);t.dispatch(ED({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}}});var Nee=OO({brush:fJ,cartesianAxis:SX,chartData:NG,errorBars:VX,graphicalItems:VY,layout:pU,legend:yB,options:PG,polarAxis:eY,polarOptions:Cee,referenceElements:wJ,rootProps:Aee,tooltip:GK,zIndex:mG}),Oee=function(t){return F9({reducer:Nee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([M2.middleware,L2.middleware,eb.middleware,U2.middleware,q2.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(HO({type:"raf"}))},devTools:sc.devToolsEnabled})};function W2(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Nr(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=Oee(t));var s=ix;return _.createElement(pZ,{context:s,store:a.current},r)}function kee(e){var{layout:t,margin:r}=e,n=ze(),i=Nr();return _.useEffect(()=>{i||(n(dU(t)),n(cU(r)))},[n,i,t,r]),null}var K2=_.memo(kee,W_);function H2(e){var t=ze();return _.useEffect(()=>{t(Pee(e))},[t,e]),null}function wT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=w2("".concat(n).concat(t)),a=ze();return _.useLayoutEffect(()=>(a(hG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(pG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),_.createElement("g",{tabIndex:-1,id:i})}function xT(e){var{children:t,isPanorama:r}=e,n=te(nG);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return _.createElement(_.Fragment,null,i.map(s=>_.createElement(wT,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>_.createElement(wT,{key:s,zIndex:s,isPanorama:r})))}var Ree=["children"];function Dee(e,t){if(e==null)return{};var r,n,i=Mee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Mee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}var Lee={width:"100%",height:"100%",display:"block"},Vee=_.forwardRef((e,t)=>{var r=yx(),n=wx(),i=jk();if(!Hn(r)||!Hn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),_.createElement(Bw,bh({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:Lee,ref:t}),a)}),Fee=e=>{var{children:t}=e,r=te(jp);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return _.createElement(Bw,{width:n,height:i,x:s,y:a},t)},_T=_.forwardRef((e,t)=>{var{children:r}=e,n=Dee(e,Ree),i=Nr();return i?_.createElement(Fee,null,_.createElement(xT,{isPanorama:!0},r)):_.createElement(Vee,bh({ref:t},n),_.createElement(xT,{isPanorama:!1},r))});function $ee(){var e=ze(),[t,r]=_.useState(null),n=te(OU);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;dt(a)&&a!==n&&e(hU(a))}},[t,e,n]),r}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}var Wee=()=>($G(),null);function Eh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kee=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,s]=_.useState({containerWidth:Eh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Eh((n=e.style)===null||n===void 0?void 0:n.height)}),o=_.useCallback((u,c)=>{s(f=>{var p=Math.round(u),m=Math.round(c);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var p=g=>{var{width:y,height:b}=g[0].contentRect;o(y,b)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,o]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),_.createElement(_.Fragment,null,_.createElement(kp,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",hs({ref:l},e)))}),Hee=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:Eh(r),containerHeight:Eh(n)}),s=_.useCallback((l,u)=>{a(c=>{var f=Math.round(l),p=Math.round(u);return c.containerWidth===f&&c.containerHeight===p?c:{containerWidth:f,containerHeight:p}})},[]),o=_.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return _.createElement(_.Fragment,null,_.createElement(kp,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",hs({ref:o},e)))}),Gee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(kp,{width:r,height:n}),_.createElement("div",hs({ref:t},e)))}),Qee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return yi(r)||yi(n)?_.createElement(Hee,hs({},e,{ref:t})):_.createElement(Gee,hs({},e,{ref:t}))});function Yee(e){return e===!0?Kee:Qee}var Xee=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:b,width:x,responsive:E,dispatchTouchEvents:A=!0}=e,I=_.useRef(null),R=ze(),[O,v]=_.useState(null),[S,C]=_.useState(null),k=$ee(),T=gx(),N=(T==null?void 0:T.width)>0?T.width:x,j=(T==null?void 0:T.height)>0?T.height:i,Q=_.useCallback(B=>{k(B),typeof t=="function"&&t(B),v(B),C(B),B!=null&&(I.current=B)},[k,t,v,C]),se=_.useCallback(B=>{R(D2(B)),R(Gr({handler:a,reactEvent:B}))},[R,a]),de=_.useCallback(B=>{R(e0(B)),R(Gr({handler:u,reactEvent:B}))},[R,u]),oe=_.useCallback(B=>{R(SD()),R(Gr({handler:c,reactEvent:B}))},[R,c]),U=_.useCallback(B=>{R(e0(B)),R(Gr({handler:f,reactEvent:B}))},[R,f]),K=_.useCallback(()=>{R(z2())},[R]),ne=_.useCallback(B=>{R($2(B.key))},[R]),me=_.useCallback(B=>{R(Gr({handler:s,reactEvent:B}))},[R,s]),be=_.useCallback(B=>{R(Gr({handler:o,reactEvent:B}))},[R,o]),_t=_.useCallback(B=>{R(Gr({handler:l,reactEvent:B}))},[R,l]),Re=_.useCallback(B=>{R(Gr({handler:p,reactEvent:B}))},[R,p]),qt=_.useCallback(B=>{R(Gr({handler:y,reactEvent:B}))},[R,y]),bt=_.useCallback(B=>{A&&R(B2(B)),R(Gr({handler:g,reactEvent:B}))},[R,A,g]),Ue=_.useCallback(B=>{R(Gr({handler:m,reactEvent:B}))},[R,m]),Qn=Yee(E);return _.createElement(BD.Provider,{value:O},_.createElement(kN.Provider,{value:S},_.createElement(Qn,{width:N??(b==null?void 0:b.width),height:j??(b==null?void 0:b.height),className:Oe("recharts-wrapper",n),style:zee({position:"relative",cursor:"default",width:N,height:j},b),onClick:se,onContextMenu:me,onDoubleClick:be,onFocus:K,onKeyDown:ne,onMouseDown:_t,onMouseEnter:de,onMouseLeave:oe,onMouseMove:U,onMouseUp:Re,onTouchEnd:Ue,onTouchMove:bt,onTouchStart:qt,ref:Q},_.createElement(Wee,null),r)))}),Zee=["width","height","responsive","children","className","style","compact","title","desc"];function Jee(e,t){if(e==null)return{};var r,n,i=ete(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G2=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=Jee(e,Zee),p=Sn(f);return l?_.createElement(_.Fragment,null,_.createElement(kp,{width:r,height:n}),_.createElement(_T,{otherAttributes:p,title:u,desc:c},a)):_.createElement(Xee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(_T,{otherAttributes:p,title:u,desc:c,ref:t},_.createElement(_J,null,a)))});function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}var tte={top:5,right:5,bottom:5,left:5},rte={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nte=_.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,rte),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return _.createElement(W2,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},_.createElement(I2,{chartData:u.data}),_.createElement(K2,{layout:i.layout,margin:i.margin}),_.createElement(H2,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(G2,t0({},i,{ref:r})))}),ite=["axis","item"],Q2=_.forwardRef((e,t)=>_.createElement(nte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ite,tooltipPayloadSearcher:WD,categoricalChartProps:e,ref:t}));function ate(e){var t=ze();return _.useEffect(()=>{t(Tee(e))},[t,e]),null}var ste=["layout"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function ote(e,t){if(e==null)return{};var r,n,i=lte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ute={top:5,right:5,bottom:5,left:5},Y2={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ute,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cte=_.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,Y2),{layout:a}=i,s=ote(i,ste),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(W2,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},_.createElement(I2,{chartData:i.data}),_.createElement(K2,{layout:a,margin:i.margin}),_.createElement(H2,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(ate,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(G2,r0({},s,{ref:r})))});function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pte=["item"],mte=ST(ST({},Y2),{},{layout:"centric",startAngle:0,endAngle:360}),gte=_.forwardRef((e,t)=>{var r=Ut(e,mte);return _.createElement(cte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pte,tooltipPayloadSearcher:WD,categoricalChartProps:r,ref:t})});const vte=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(s=>s.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(s=>s.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(s=>s.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(s=>s.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(s=>s.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(s=>s.value>0);return a.length===0?d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx("div",{className:"chart-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})})]}):d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx(vx,{width:"100%",height:300,children:d.jsxs(gte,{children:[d.jsx(b2,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:o,percent:l})=>`${s}: ${o} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:s=>{t(s.status),r()},style:{cursor:"pointer"},children:a.map((s,o)=>d.jsx(_c,{fill:s.fill},`cell-${o}`))}),d.jsx(D_,{formatter:s=>`${s} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),d.jsx(Lp,{})]})})]})};function yte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,s=e.filter(l=>l.status==="cerrada").length,o=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:s}];return d.jsx("div",{className:"incident-stats-container",children:d.jsx("div",{className:"stats-chart",children:d.jsx(vx,{width:"100%",height:300,children:d.jsxs(Q2,{data:o,children:[d.jsx(Q_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),d.jsx(Y_,{dataKey:"name",stroke:"#667eea"}),d.jsx(X_,{stroke:"#667eea"}),d.jsx(D_,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),d.jsx(Lp,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(ao,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),d.jsx(ao,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),d.jsx(ao,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function wte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?d.jsxs("div",{className:"quick-incidents-container",children:[d.jsx("h3",{children:"Incidencias Pendientes"}),d.jsx("div",{className:"quick-incidents-empty",children:d.jsx("p",{children:" No hay incidencias pendientes"})})]}):d.jsxs("div",{className:"quick-incidents-container",children:[d.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),d.jsx("div",{className:"quick-incidents-list",children:r.map(a=>d.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:s=>{if(s.button===1){s.preventDefault();const o=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(o,"_blank")}},children:[d.jsx("div",{className:"quick-incident-name",children:a.name}),d.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function xte({incidents:e}){const t=()=>{const f=e.filter(m=>m.status==="cerrada");if(f.length===0)return 0;const p=f.reduce((m,g)=>{const y=new Date(g.creationDate),b=new Date(g.updatedAt),x=Math.abs(b.getTime()-y.getTime()),E=Math.ceil(x/(1e3*60*60*24));return m+E},0);return Math.round(p/f.length)},r=()=>({correctivo:e.filter(f=>f.type==="correctivo").length,evolutivo:e.filter(f=>f.type==="evolutivo").length,tarea:e.filter(f=>f.type==="tarea").length}),n=()=>{const f=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===f.getMonth()&&m.getFullYear()===f.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const f=e.filter(p=>p.status==="cerrada").length;return Math.round(f/e.length*100)},a=()=>e.filter(f=>(f.priority==="crtica"||f.priority==="alta")&&f.status!=="cerrada").length,s=t(),o=r(),l=n(),u=i(),c=a();return d.jsxs("div",{className:"metrics-dashboard",children:[d.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card metric-primary",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:s}),d.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-success",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[u,"%"]}),d.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-info",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:l}),d.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),d.jsxs("div",{className:"metric-card metric-warning",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:c}),d.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),d.jsxs("div",{className:"metrics-detail",children:[d.jsx("h3",{children:"Distribucin por Tipo"}),d.jsxs("div",{className:"type-stats",children:[d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Correctivo"}),d.jsx("span",{className:"type-stat-value",children:o.correctivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),d.jsx("span",{className:"type-stat-value",children:o.evolutivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Tarea"}),d.jsx("span",{className:"type-stat-value",children:o.tarea})]})]})]})]})}const _te=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((o,l)=>{const u=e.filter(f=>{const p=new Date(f.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(f=>{const p=new Date(f.updatedAt);return f.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:o,creadas:u,cerradas:c}})})();return d.jsxs("div",{className:"yearly-chart-container",children:[d.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),d.jsx(vx,{width:"100%",height:300,children:d.jsxs(Q2,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Q_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),d.jsx(Y_,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(X_,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(D_,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),d.jsx(Lp,{}),d.jsx(ao,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),d.jsx(ao,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),d.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function bte({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(f=>f.status==="cerrada"?!1:new Date(f.creationDate)<c&&(f.status==="abierta"||f.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(f=>f.status!=="puesto-en-test"&&f.status!=="verificado-en-test"?!1:new Date(f.creationDate)<c)},a=r(),s=n(),o=i(),l=a.length+s.length+o.length;return l===0?null:d.jsxs("div",{className:"alerts-banner",children:[d.jsxs("div",{className:"alerts-header",children:[d.jsx("span",{className:"alerts-icon",children:""}),d.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&d.jsxs("div",{className:"alert-section alert-stale",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:a.length}),d.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),d.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),s.length>0&&d.jsxs("div",{className:"alert-section alert-critical",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:s.length}),d.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),d.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]}),o.length>0&&d.jsxs("div",{className:"alert-section alert-test",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:o.length}),d.jsx("h4",{children:"En Test por ms de 3 das"})]}),d.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]})]})}function X2(){return d.jsxs("div",{className:"logo-container",children:[d.jsx("div",{className:"logo-icon",children:d.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),d.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),d.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),d.jsxs("g",{transform:"translate(30, 30)",children:[d.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),d.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),d.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),d.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),d.jsx("div",{className:"logo-text",children:d.jsx("h1",{children:"IncidentAlert"})})]})}function Ete({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},f=m=>{m.preventDefault(),i.trim()&&s.trim()&&(r(e,s.trim(),i.trim()),a(""),o(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return d.jsxs(d.Fragment,{children:[l&&Bn.createPortal(d.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:d.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:" Nuevo Comentario"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),d.jsxs("form",{className:"comment-form-modal",onSubmit:f,children:[d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"author",children:"Tu nombre"}),d.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:s,onChange:m=>o(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"comment",children:"Comentario"}),d.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),d.jsxs("div",{className:"comments-section",children:[d.jsxs("div",{className:"comments-header",children:[d.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),d.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),d.jsx("div",{className:"comments-list",children:p.length===0?d.jsxs("div",{className:"no-comments",children:[d.jsx("span",{className:"no-comments-icon",children:""}),d.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>d.jsxs("div",{className:"comment-item",children:[d.jsxs("div",{className:"comment-header",children:[d.jsxs("div",{className:"comment-author",children:[d.jsx("span",{className:"author-icon",children:""}),d.jsx("strong",{children:m.author})]}),d.jsxs("div",{className:"comment-header-right",children:[d.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),d.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),d.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function Ste({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[s,o]=_.useState(!1),[l,u]=_.useState(""),[c,f]=_.useState(!1),[p,m]=_.useState({show:!1,tag:null}),g=A=>{A.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),o(!1),f(!1))},y=A=>{n(e,A),f(!1)},b=A=>{m({show:!0,tag:A})},x=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),f(!1))};c&&r.filter(A=>!t.includes(A));const E=r;return d.jsxs("div",{className:"tags-manager",children:[d.jsxs("div",{className:"tags-header",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"tags-actions",children:!s&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-add-tag",onClick:()=>o(!0),children:"+ Nueva"}),E.length>0&&d.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",E),f(!c)},children:" Gestionar"})]})})]}),s&&d.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[d.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:A=>u(A.target.value),autoFocus:!0,className:"tag-input"}),d.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),d.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{o(!1),u("")},children:""})]}),c&&E.length>0&&d.jsxs("div",{className:"tag-suggestions",children:[d.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),d.jsx("div",{className:"suggestions-list",children:E.map(A=>d.jsxs("div",{className:"suggestion-item",children:[!t.includes(A)&&d.jsxs("button",{className:"suggestion-tag",onClick:()=>y(A),children:["+ ",A]}),t.includes(A)&&d.jsxs("span",{className:"tag-already-added",children:[" ",A]}),a&&d.jsx("button",{className:"btn-delete-global-tag",onClick:()=>b(A),title:"Eliminar etiqueta del sistema",children:""})]},A))})]}),p.show&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:d.jsxs("div",{className:"delete-modal",onClick:A=>A.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Eliminar Etiqueta"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsxs("p",{children:["Eliminar la etiqueta ",d.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),d.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:x,children:" Eliminar"})]})]})}),d.jsx("div",{className:"tags-list",children:t.length===0?d.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):d.jsx("div",{className:"tags-container",children:t.map(A=>d.jsxs("div",{className:"tag-item",children:[d.jsx("span",{className:"tag-name",children:A}),d.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,A),title:"Eliminar etiqueta",children:""})]},A))})})]})}function Ate({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${c}/${f}`},o=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#fbbf24"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#000",A.style.backgroundColor="#fbbf24"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const b=window.getSelection();b&&(b.removeAllRanges(),b.addRange(y),document.execCommand("copy"),b.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Bn.createPortal(d.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"qa-modal-header",children:[d.jsx("h2",{children:" Vista Tabla QA"}),d.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"qa-modal-body",children:[d.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),d.jsx("div",{className:"qa-table-container",children:d.jsxs("table",{className:"qa-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Owner"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"qa-modal-actions",children:[d.jsx("button",{className:"btn-copy-qa",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function Pte({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${c}/${f}`},o=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#10b981"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#fff",A.style.backgroundColor="#10b981"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const b=window.getSelection();b&&(b.removeAllRanges(),b.addRange(y),document.execCommand("copy"),b.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Bn.createPortal(d.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"main-modal-header",children:[d.jsx("h2",{children:" Vista Tabla MAIN"}),d.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"main-modal-body",children:[d.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),d.jsx("div",{className:"main-table-container",children:d.jsxs("table",{className:"main-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Persona de Contacto"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"main-modal-actions",children:[d.jsx("button",{className:"btn-copy-main",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const Tte=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:s,onUpdatePR:o})=>{const[l,u]=_.useState(!1),[c,f]=_.useState(!1),[p,m]=_.useState(null),[g,y]=_.useState(null),b=O=>{O.preventDefault();const v=new FormData(O.currentTarget),S=v.get("link").trim(),C=v.get("description").trim();S&&(p&&p.type==="qa2"?(o(e,"qa2",p.pr.id,S,C),m(null),y({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",S,C),y({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),O.currentTarget.reset(),setTimeout(()=>y(null),3e3))},x=O=>{O.preventDefault();const v=new FormData(O.currentTarget),S=v.get("link").trim(),C=v.get("description").trim();S&&(p&&p.type==="main"?(o(e,"main",p.pr.id,S,C),m(null),y({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",S,C),y({type:"success",message:" PR MAIN agregado correctamente"})),f(!1),O.currentTarget.reset(),setTimeout(()=>y(null),3e3))},E=(O,v)=>{m({pr:O,type:v}),v==="qa2"?u(!0):f(!0)},A=O=>{m(null),O==="qa2"?u(!1):f(!1)},I=(O,v,S)=>{O.stopPropagation(),s(e,v,S),y({type:"error",message:` PR ${v==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>y(null),3e3)},R=O=>{const v=O.split("/");return v[v.length-1]||O};return d.jsxs(d.Fragment,{children:[g&&d.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[d.jsx("span",{children:g.message}),d.jsx("button",{className:"pr-notification-close",onClick:()=>y(null),children:""})]}),l&&Bn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("qa2"),children:d.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("qa2"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:b,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),d.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),d.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&d.jsx(Ate,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Bn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("main"),children:d.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("main"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),d.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),d.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&d.jsx(Pte,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),d.jsxs("div",{className:"pr-manager",children:[d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs QA2"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:r.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(O=>d.jsxs("div",{className:"pr-item",onClick:()=>E(O,"qa2"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:v=>v.stopPropagation(),children:[" PR ",R(O.link)]}),d.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:v=>I(v,"qa2",O.id),title:"Eliminar PR",children:""})]},O.id))})]}),d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs MAIN"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>f(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:n.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(O=>d.jsxs("div",{className:"pr-item",onClick:()=>E(O,"main"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:v=>v.stopPropagation(),children:[" PR ",R(O.link)]}),d.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:v=>I(v,"main",O.id),title:"Eliminar PR",children:""})]},O.id))})]})]})]})};function Cte({incident:e,currentUser:t}){const[r,n]=_.useState(!1),[i,a]=_.useState(""),s=u=>!u||u.length===0?"-":u.map(c=>{const f=c.link.split("/");return f[f.length-1]||c.link}).join(", "),o=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),f=document.createElement("p");f.textContent="Buenas, os envo una PR para su subida a PRO",f.style.marginBottom="1rem",c.appendChild(f);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(O=>{O.style.padding="0.75rem 0.5rem",O.style.border="1px solid #e5e7eb",O.style.fontWeight="700",O.style.color="#000",O.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(R=>{R.style.padding="0.75rem 0.5rem",R.style.border="1px solid #e5e7eb",R.style.color="#333",R.style.fontWeight="500",R.style.backgroundColor="white"});const y=p.querySelector('input[type="date"]');if(y){const I=y.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const b=p.querySelector("textarea");if(b){const I=b.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}c.appendChild(p);const x=document.createElement("p");x.textContent="Un saludo, Gracias!",c.appendChild(x),document.body.appendChild(c);const E=document.createRange();E.selectNodeContents(c);const A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(E),document.execCommand("copy"),A.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[r&&Bn.createPortal(d.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:d.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"excel-modal-header",children:[d.jsx("h2",{children:" Vista Previa Excel"}),d.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),d.jsxs("div",{className:"excel-modal-body",children:[d.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),d.jsx("div",{className:"excel-table-container",children:d.jsxs("table",{className:"excel-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"INCIDENCIA/S"}),d.jsx("th",{children:"Estado peticin Incidencias"}),d.jsx("th",{children:"DIA DESPLIEGUE"}),d.jsx("th",{children:"PERSONA CONTACTO"}),d.jsx("th",{children:"DESCRIPCIN"}),d.jsx("th",{children:"DEPENDENCIAS"}),d.jsx("th",{children:"PR PRO"}),d.jsx("th",{children:"PR QA"}),d.jsx("th",{children:"Desplegado"}),d.jsx("th",{children:"PUESTO EXCEL QA"}),d.jsx("th",{children:"TIPO MOV"}),d.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),d.jsx("tbody",{children:d.jsxs("tr",{children:[d.jsx("td",{children:e.name}),d.jsx("td",{children:"Verificado en Test"}),d.jsx("td",{children:d.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),d.jsx("td",{children:t}),d.jsx("td",{children:d.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),d.jsx("td",{children:"NO"}),d.jsx("td",{children:s(e.prMainList)}),d.jsx("td",{children:s(e.prQA2List)}),d.jsx("td",{children:"NO"}),d.jsx("td",{}),d.jsx("td",{children:o(e.type)}),d.jsx("td",{children:"-"})]})})]})}),d.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),d.jsxs("div",{className:"excel-modal-actions",children:[d.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const Ite=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:f,onUpdatePR:p})=>{const[m,g]=_.useState(e),[y,b]=_.useState(m.status),[x,E]=_.useState(m.priority),[A,I]=_.useState(m.type);_.useEffect(()=>{g(e),b(e.status),E(e.priority),I(e.type)},[e]);const O=(()=>{const k=wr.getUsers().find(T=>T.id===m.userId);return k?k.name:m.contactUser||"Usuario"})(),v=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${m.name}"? Esta accin no se puede deshacer.`)&&(a(m.id),r())},S=C=>{C.preventDefault();const k=new FormData(C.currentTarget),T={...m,name:(k.get("name")||"").trim(),title:(k.get("title")||"").trim(),description:(k.get("description")||"").trim(),contactUser:(k.get("contactUser")||"").trim(),prQA2:(k.get("prQA2")||"").trim(),prMain:(k.get("prMain")||"").trim(),creationDate:k.get("creationDate")||m.creationDate,relevante:(k.get("relevante")||"").trim(),realizado:(k.get("realizado")||"").trim(),clasesModificadas:(k.get("clasesModificadas")||"").trim(),priority:x,status:y,type:A,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",T),t(T)};return d.jsx("div",{className:"incident-detail-container",children:d.jsxs("div",{className:"incident-detail-layout",children:[d.jsx("div",{className:"detail-main-content",children:d.jsxs("div",{className:"incident-detail-card",children:[d.jsxs("div",{className:"incident-header-visual",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),d.jsx("h1",{children:m.name})]}),d.jsx(Cte,{incident:m,currentUser:O})]}),d.jsxs("div",{className:"incident-badges",children:[d.jsxs("span",{className:`badge-status status-${m.status}`,children:[m.status==="abierta"&&"",m.status==="en-progreso"&&"",m.status==="puesto-en-test"&&"",m.status==="verificado-en-test"&&"",m.status==="resuelta"&&"",m.status==="cerrada"&&""," ",m.status.replace("-"," ")]}),d.jsxs("span",{className:`badge-priority priority-${m.priority}`,children:[m.priority==="baja"&&"",m.priority==="media"&&"",m.priority==="alta"&&"",m.priority==="crtica"&&""," ",m.priority]}),d.jsxs("span",{className:`badge-type type-${m.type}`,children:[m.type==="correctivo"&&"",m.type==="evolutivo"&&"",m.type==="tarea"&&""," ",m.type]})]})]}),d.jsxs("form",{onSubmit:S,className:"detail-form",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Editar Informacin"}),d.jsxs("div",{className:"visual-field-group",children:[d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),d.jsx("input",{id:"name",name:"name",type:"text",defaultValue:m.name,placeholder:"MOV-XXXX",required:!0})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),d.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:m.contactUser||"",placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),d.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:m.creationDate})]})]}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",name:"title",type:"text",defaultValue:m.title||"",placeholder:"Ttulo para envo a PRO"})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"description",children:" Descripcin"}),d.jsx("textarea",{id:"description",name:"description",defaultValue:m.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:m.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:m.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:m.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Estado y Clasificacin"}),d.jsxs("div",{className:"chip-selector-container",children:[d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Estado"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="abierta"?"selected":""}`,onClick:()=>b("abierta"),children:" Abierta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="en-progreso"?"selected":""}`,onClick:()=>b("en-progreso"),children:" En Progreso"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="puesto-en-test"?"selected":""}`,onClick:()=>b("puesto-en-test"),children:" En Test"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="verificado-en-test"?"selected":""}`,onClick:()=>b("verificado-en-test"),children:" Verificado"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="resuelta"?"selected":""}`,onClick:()=>b("resuelta"),children:" Resuelta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${y==="cerrada"?"selected":""}`,onClick:()=>b("cerrada"),children:" Cerrada"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Prioridad"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${x==="baja"?"selected":""}`,onClick:()=>E("baja"),children:" Baja"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${x==="media"?"selected":""}`,onClick:()=>E("media"),children:" Media"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${x==="alta"?"selected":""}`,onClick:()=>E("alta"),children:" Alta"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${x==="crtica"?"selected":""}`,onClick:()=>E("crtica"),children:" Crtica"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Tipo"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option type-chip ${A==="correctivo"?"selected":""}`,onClick:()=>I("correctivo"),children:" Correctivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${A==="evolutivo"?"selected":""}`,onClick:()=>I("evolutivo"),children:" Evolutivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${A==="tarea"?"selected":""}`,onClick:()=>I("tarea"),children:" Tarea"})]})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),d.jsx("button",{type:"button",className:"btn-delete-incident",onClick:v,children:" Eliminar Incidencia"})]})]})]})}),d.jsxs("div",{className:"detail-sidebar",children:[d.jsx("div",{className:"incident-detail-card",children:d.jsx(Tte,{incidentId:m.id,incidentName:m.name,prQA2List:m.prQA2List||[],prMainList:m.prMainList||[],ownerName:O,onAddPR:c,onRemovePR:f,onUpdatePR:p})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ste,{incidentId:m.id,tags:m.tags||[],allAvailableTags:u,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ete,{incidentId:m.id,comments:m.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},jte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>d.jsxs("div",{className:"tabs-container",children:[d.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),d.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),d.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),d.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(s=>d.jsxs("div",{className:`tab-incident ${n===s.id?"active":""}`,onClick:()=>i==null?void 0:i(s.id),children:[d.jsxs("span",{className:"tab-incident-name",children:[" ",s.name]}),d.jsx("button",{className:"tab-incident-close",onClick:o=>{o.stopPropagation(),a==null||a(s.id)},children:""})]},s.id))]});function Nte({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,s]=_.useState(""),[o,l]=_.useState(n?[n]:[]),[u,c]=_.useState([]),[f,p]=_.useState([]),[m,g]=_.useState([]),[y,b]=_.useState(""),[x,E]=_.useState("");_.useEffect(()=>{n&&l([n])},[n]),_.useEffect(()=>{let T=[...e];if(a.trim()){const N=a.toLowerCase();T=T.filter(j=>j.name.toLowerCase().includes(N)||j.contactUser.toLowerCase().includes(N)||j.prQA2.toLowerCase().includes(N)||j.prMain.toLowerCase().includes(N)||j.comments&&j.comments.some(Q=>Q.text.toLowerCase().includes(N)||Q.author.toLowerCase().includes(N)))}o.length>0&&(T=T.filter(N=>o.includes(N.status))),u.length>0&&(T=T.filter(N=>u.includes(N.priority))),f.length>0&&(T=T.filter(N=>f.includes(N.type))),m.length>0&&(T=T.filter(N=>m.some(j=>N.tags&&N.tags.includes(j)))),y&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()>=parseInt(y))),x&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()<=parseInt(x))),t(T)},[a,o,u,f,m,y,x,e,t]);const A=()=>{s(""),l([]),c([]),p([]),g([]),b(""),E(""),t(e),i&&i()},I=()=>{l([]),i&&i()},R=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,O=T=>{l(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},v=T=>{c(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},S=T=>{p(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},C=T=>{g(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},k=(a?1:0)+o.length+u.length+f.length+m.length+(y?1:0)+(x?1:0);return d.jsxs("div",{className:"advanced-search",children:[n&&d.jsxs("div",{className:"status-filter-banner",children:[d.jsxs("span",{children:[" Filtrando por estado: ",d.jsx("strong",{children:R(n)})]}),d.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),d.jsx("div",{className:"search-header",children:d.jsx("h3",{children:" Bsqueda Avanzada"})}),d.jsxs("div",{className:"search-main",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>s(T.target.value),className:"search-input"}),d.jsxs("button",{className:"btn-reset",onClick:A,children:[" Limpiar Filtros",k>0&&d.jsx("span",{className:"filters-badge-inline",children:k})]})]}),d.jsxs("div",{className:"filters-panel",children:[d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Estado"}),d.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>d.jsxs("button",{className:`filter-chip ${o.includes(T)?"active":""}`,onClick:()=>O(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Prioridad"}),d.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>d.jsxs("button",{className:`filter-chip priority-${T} ${u.includes(T)?"active":""}`,onClick:()=>v(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Tipo"}),d.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>d.jsxs("button",{className:`filter-chip ${f.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Rango de Aos"}),d.jsxs("div",{className:"date-filters",children:[d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Desde:"}),d.jsxs("select",{value:y,onChange:T=>b(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]}),d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Hasta:"}),d.jsxs("select",{value:x,onChange:T=>E(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"filter-chips",children:r.map(T=>d.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>C(T),children:T},T))})]})]})]})}const Ote=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:s})=>{const[o,l]=_.useState(e||[]),[u,c]=_.useState(""),[f,p]=_.useState("asc"),[m,g]=_.useState({show:!1,incident:null});_.useEffect(()=>{l(e||[])},[e]);const y=v=>{const S=u===v&&f==="asc"?"desc":"asc";c(v),p(S);const C=[...o].sort((k,T)=>{let N=k[v],j=T[v];if((v==="creationDate"||v==="createdAt"||v==="updatedAt")&&(N=new Date(N).getTime(),j=new Date(j).getTime()),typeof N=="string"&&typeof j=="string")return S==="asc"?N.localeCompare(j):j.localeCompare(N);if(N!==void 0&&j!==void 0){if(N<j)return S==="asc"?-1:1;if(N>j)return S==="asc"?1:-1}return 0});l(C)},b=v=>u!==v?"":f==="asc"?"":"",x=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),E=v=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[v]||v,A=v=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[v]||v,I=v=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[v]||v,R=v=>!v||!Array.isArray(v)||v.length===0?"":v.filter(S=>S&&S.link).map(S=>{const C=S.link.split("/");return C[C.length-1]||""}).filter(S=>S).join(", ")||"",O=()=>{const v=j=>{if(j==null)return"";const Q=String(j);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},C=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(j=>v(j)).join(";"),...o.map(j=>[v(j.id),v(j.name),v(E(j.status)),v(A(j.priority)),v(I(j.type)),v(j.contactUser||""),v(j.prQA2||""),v(j.prMain||""),v(j.creationDate),v(x(j.createdAt)),v(x(j.updatedAt))].join(";"))].join(`
`),k=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),N=URL.createObjectURL(k);T.setAttribute("href",N),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?d.jsx("div",{className:"all-incidents-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})}):d.jsxs("div",{className:"all-incidents-table-container",children:[d.jsx("div",{className:"search-sidebar",children:d.jsx(Nte,{incidents:e,onResults:l,allAvailableTags:ge.getAllTags(),initialStatus:a,onClearStatusFilter:s})}),d.jsxs("div",{className:"table-content",children:[d.jsxs("div",{className:"table-actions",children:[d.jsxs("p",{className:"filter-results",children:["Mostrando ",o.length," de ",e.length," incidencias"]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&d.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),d.jsx("button",{className:"btn-export-excel",onClick:O,children:" Exportar a Excel"})]})]}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{className:"all-incidents-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>y("name"),className:"sortable-header col-name",children:["Nombre ",b("name")]}),d.jsxs("th",{onClick:()=>y("status"),className:"sortable-header col-status",children:["Estado ",b("status")]}),d.jsxs("th",{onClick:()=>y("priority"),className:"sortable-header col-priority",children:["Prioridad ",b("priority")]}),d.jsxs("th",{onClick:()=>y("type"),className:"sortable-header col-type",children:["Tipo ",b("type")]}),d.jsxs("th",{onClick:()=>y("contactUser"),className:"sortable-header col-contact",children:["Contacto ",b("contactUser")]}),d.jsxs("th",{onClick:()=>y("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",b("prQA2")]}),d.jsxs("th",{onClick:()=>y("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",b("prMain")]}),d.jsx("th",{className:"col-actions",children:"Acciones"})]})}),d.jsx("tbody",{children:o.map(v=>d.jsxs("tr",{className:`row-priority-${v.priority} incident-row-clickable`,onClick:()=>n(v),onMouseDown:S=>{if(S.button===1){S.preventDefault();const C=`${window.location.origin}${window.location.pathname}?incident=${v.id}`;window.open(C,"_blank")}},children:[d.jsx("td",{className:"name-cell",title:v.name,children:v.name}),d.jsx("td",{title:E(v.status),children:d.jsx("span",{className:`status-badge status-${v.status}`,children:E(v.status)})}),d.jsx("td",{title:A(v.priority),children:d.jsx("span",{className:`priority-badge priority-${v.priority}`,children:A(v.priority)})}),d.jsx("td",{title:I(v.type),children:d.jsx("span",{className:`type-badge type-${v.type}`,children:I(v.type)})}),d.jsx("td",{className:"contact-cell",title:v.contactUser||"",children:v.contactUser||""}),d.jsx("td",{className:"pr-cell",title:R(v.prQA2List),children:R(v.prQA2List)}),d.jsx("td",{className:"pr-cell",title:R(v.prMainList),children:R(v.prMainList)}),d.jsx("td",{className:"actions-cell",onClick:S=>S.stopPropagation(),children:d.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:v}),title:"Eliminar incidencia",children:""})})]},v.id))})]})})]}),m.show&&m.incident&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:d.jsxs("div",{className:"delete-modal",onClick:v=>v.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Confirmar Eliminacin"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),d.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),d.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function kte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=_.useState(!1),[s,o]=_.useState(null),[l,u]=_.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const y={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};s?(r(s.id,y),o(null)):t(y),f()},f=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var y,b,x,E,A;o(g),u({name:g.name,trigger:g.trigger,conditionField:((y=g.conditions[0])==null?void 0:y.field)||"type",conditionOperator:((b=g.conditions[0])==null?void 0:b.operator)||"equals",conditionValue:((x=g.conditions[0])==null?void 0:x.value.toString())||"",actionType:((E=g.actions[0])==null?void 0:E.type)||"set-priority",actionValue:((A=g.actions[0])==null?void 0:A.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return d.jsxs("div",{className:"automation-rules-container",children:[d.jsxs("div",{className:"rules-header",children:[d.jsxs("div",{className:"header-title",children:[d.jsx("h2",{children:" Reglas de Automatizacin"}),d.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),d.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&d.jsx("form",{className:"rule-form",onSubmit:c,children:d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:s?"Editar Regla":"Nueva Regla"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre de la regla"}),d.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Disparador"}),d.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[d.jsx("option",{value:"on-create",children:"Al crear incidencia"}),d.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),d.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),d.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"SI"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Campo"}),d.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[d.jsx("option",{value:"type",children:"Tipo"}),d.jsx("option",{value:"priority",children:"Prioridad"}),d.jsx("option",{value:"status",children:"Estado"}),d.jsx("option",{value:"days-open",children:"Das abierta"}),d.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Operador"}),d.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[d.jsx("option",{value:"equals",children:"Es igual a"}),d.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"greater-than",children:"Mayor que"}),d.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&d.jsx("option",{value:"contains",children:"Contiene"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.conditionField==="type"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?d.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):d.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"ENTONCES"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Accin"}),d.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[d.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),d.jsx("option",{value:"set-status",children:"Cambiar estado"}),d.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),d.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?d.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?d.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):d.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save-rule",children:s?" Actualizar Regla":" Crear Regla"}),d.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:f,children:"Cancelar"})]})]})}),d.jsx("div",{className:"rules-list",children:e.length===0?d.jsxs("div",{className:"no-rules",children:[d.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),d.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>d.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[d.jsxs("div",{className:"rule-header-card",children:[d.jsxs("div",{className:"rule-info",children:[d.jsx("h3",{children:g.name}),d.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),d.jsxs("div",{className:"rule-actions",children:[d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:g.enabled,onChange:y=>r(g.id,{enabled:y.target.checked})}),d.jsx("span",{className:"toggle-slider"})]}),d.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),d.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),d.jsxs("div",{className:"rule-logic",children:[d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"SI:"}),d.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((y,b)=>d.jsxs("span",{className:"condition-badge",children:[y.field," ",y.operator," ",y.value]},b))})]}),d.jsx("div",{className:"logic-arrow",children:""}),d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"ENTONCES:"}),d.jsx("div",{className:"logic-content",children:(g.actions||[]).map((y,b)=>d.jsxs("span",{className:"action-badge",children:[y.type,": ",y.value]},b))})]})]})]},g.id))})]})}function Rte({currentUser:e}){const[t,r]=_.useState([]),[n,i]=_.useState([]),[a,s]=_.useState(new Map),[o,l]=_.useState(!1),[u,c]=_.useState(null),[f,p]=_.useState({username:"",password:"",name:"",avatar:"",roleId:""}),[m,g]=_.useState(!1),[y,b]=_.useState(null);_.useEffect(()=>{const v=o5(S=>{console.log("Usuarios actualizados en tiempo real:",S),r(S)});return()=>{v()}},[]),_.useEffect(()=>{const v=IN(S=>{i(S)});return()=>{v()}},[]),_.useEffect(()=>{const v=async()=>{const S=new Map;for(const C of t)if(C.roleId){const k=await lp(C.roleId);k&&S.set(C.id,k)}s(S)};t.length>0&&v()},[t]);const x=(v,S)=>{b({type:v,message:S}),setTimeout(()=>b(null),3e3)},E=()=>{p({username:"",password:"",name:"",avatar:"",roleId:""}),l(!1),c(null),g(!1)},A=async v=>{if(v.preventDefault(),!f.username.trim()||!f.password.trim()||!f.name.trim()){x("error","Usuario, contrasea y nombre son obligatorios");return}if(!f.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{if(await SN(f.username.toLowerCase())){x("error","Ya existe un usuario con ese nombre");return}await $w({username:f.username,password:f.password,name:f.name,avatar:f.avatar,roleId:f.roleId,createdAt:new Date().toISOString()}),x("success",`Usuario "${f.username}" creado correctamente`),E()}catch(S){console.error("Error creating user:",S),x("error",S instanceof Error?S.message:"Error al crear usuario")}},I=async v=>{if(v.preventDefault(),!!u){if(!f.name.trim()){x("error","El nombre es obligatorio");return}if(!f.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{const S={name:f.name,avatar:f.avatar,roleId:f.roleId};f.password.trim()&&(S.password=f.password),await zw(u.id,S),x("success",`Usuario "${u.username}" actualizado correctamente`),E()}catch(S){console.error("Error updating user:",S),x("error",S instanceof Error?S.message:"Error al actualizar usuario")}}},R=v=>{c(v),p({username:v.username,password:"",name:v.name,avatar:v.avatar||"",roleId:v.roleId||""}),l(!0)},O=async v=>{if(v.id===e.id){x("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${v.username}"?`))try{await e5(v.id),x("success",`Usuario "${v.username}" eliminado correctamente`)}catch(S){console.error("Error deleting user:",S),x("error",S instanceof Error?S.message:"Error al eliminar usuario")}};return d.jsxs("div",{className:"user-management",children:[d.jsxs("div",{className:"user-management-header",children:[d.jsx("h3",{children:" Gestin de Usuarios"}),!o&&d.jsx("button",{className:"btn-create-user",onClick:()=>l(!0),children:" Crear Usuario"})]}),y&&d.jsxs("div",{className:`user-notification user-notification-${y.type}`,children:[y.type==="success"?"":""," ",y.message]}),o&&d.jsx("div",{className:"user-form-container",children:d.jsxs("form",{className:"user-form",onSubmit:u?I:A,children:[d.jsx("h4",{children:u?" Editar Usuario":" Nuevo Usuario"}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"username",children:"Usuario *"}),d.jsx("input",{id:"username",type:"text",value:f.username,onChange:v=>p({...f,username:v.target.value}),placeholder:"Nombre de usuario",disabled:!!u,required:!0}),u&&d.jsx("small",{className:"field-hint",children:"El usuario no se puede cambiar"})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),d.jsx("input",{id:"name",type:"text",value:f.name,onChange:v=>p({...f,name:v.target.value}),placeholder:"Nombre completo del usuario",required:!0})]})]}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"roleId",children:"Rol *"}),d.jsxs("select",{id:"roleId",value:f.roleId,onChange:v=>p({...f,roleId:v.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar rol..."}),n.map(v=>d.jsx("option",{value:v.id,children:v.name},v.id))]})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(v=>d.jsx("button",{type:"button",className:`avatar-option ${f.avatar===v?"selected":""}`,onClick:()=>p({...f,avatar:v}),children:v},v))})]})]}),d.jsx("div",{className:"user-form-group",children:d.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(v=>d.jsx("button",{type:"button",className:`avatar-option ${f.avatar===v?"selected":""}`,onClick:()=>p({...f,avatar:v}),children:v},v))})}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"password",children:u?"Nueva Contrasea (dejar vaco para no cambiar)":"Contrasea *"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{id:"password",type:m?"text":"password",value:f.password,onChange:v=>p({...f,password:v.target.value}),placeholder:u?"Nueva contrasea (opcional)":"Contrasea",required:!u}),d.jsxs("label",{className:"show-password-toggle",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:v=>g(v.target.checked)}),d.jsx("span",{children:"Mostrar contrasea"})]})]})]}),d.jsxs("div",{className:"user-form-actions",children:[d.jsx("button",{type:"submit",className:"btn-submit",children:u?" Guardar Cambios":" Crear Usuario"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:E,children:" Cancelar"})]})]})}),d.jsxs("div",{className:"users-list",children:[d.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),d.jsx("div",{className:"users-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Avatar"}),d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Fecha de Creacin"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(v=>{var S;return d.jsxs("tr",{className:v.id===e.id?"current-user":"",children:[d.jsx("td",{children:d.jsx("span",{className:"user-avatar",children:v.avatar||""})}),d.jsx("td",{children:d.jsxs("span",{className:"user-username",children:[v.username,v.id===e.id&&d.jsx("span",{className:"badge-current",children:" (T)"})]})}),d.jsx("td",{children:v.name}),d.jsx("td",{children:d.jsx("span",{className:"role-badge",children:((S=a.get(v.id))==null?void 0:S.name)||d.jsx("span",{className:"text-muted",children:"Sin rol"})})}),d.jsx("td",{children:new Date(v.createdAt).toLocaleDateString("es-ES")}),d.jsx("td",{children:d.jsxs("div",{className:"user-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>R(v),title:"Editar usuario",children:""}),d.jsx("button",{className:"btn-delete",onClick:()=>O(v),disabled:v.id===e.id,title:v.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},v.id)})})]})})]})]})}const n0=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function Dte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=_.useState(t),a=async s=>{i(s),e(s);try{await t5(r.id,{...r.preferences,theme:s})}catch(o){console.error("Error saving theme preference:",o)}};return d.jsxs("div",{className:"appearance-settings",children:[d.jsx("h3",{children:" Apariencia"}),d.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),d.jsx("div",{className:"theme-grid",children:n0.map(s=>d.jsxs("div",{className:`theme-card ${n===s.id?"active":""}`,onClick:()=>a(s.id),children:[d.jsx("div",{className:"theme-preview",style:{background:s.preview},children:n===s.id&&d.jsx("div",{className:"theme-check",children:""})}),d.jsx("div",{className:"theme-name",children:s.name})]},s.id))}),n!==t&&d.jsx("div",{className:"theme-info",children:d.jsx("p",{children:" Tema aplicado correctamente"})})]})}const Is={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},Vg="app_general_settings";function Mte({onSettingsChange:e}){const[t,r]=_.useState(()=>{try{const c=localStorage.getItem(Vg);return c?{...Is,...JSON.parse(c)}:Is}catch(c){return console.error("Error loading settings:",c),Is}}),[n,i]=_.useState(null),a=(c,f)=>{const p={...t,[c]:f};r(p),localStorage.setItem(Vg,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},s=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(Is),localStorage.setItem(Vg,JSON.stringify(Is)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},o=async()=>{try{const c=await EN(),f=await op(),p=await Dl(),m=await PN(),g={incidents:c,users:f,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},y=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(y),x=document.createElement("a");x.href=b,x.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(b),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const f=(m=c.target.files)==null?void 0:m[0];if(!f)return;const p=new FileReader;p.onload=async g=>{var y;try{const b=JSON.parse((y=g.target)==null?void 0:y.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(b)){if(!b.every(E=>E.id&&E.name&&E.title&&E.status&&E.priority&&E.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const E of b)await ty(E)}else{if(b.incidents)for(const x of b.incidents)await ty(x);if(b.users)for(const x of b.users)await $w(x);if(b.automationRules)for(const x of b.automationRules)await AN(x);b.settings&&(await TN(b.settings),r({...Is,...b.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(b){console.error("Import error:",b),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(f)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return d.jsxs("div",{className:"general-settings",children:[n&&d.jsx("div",{className:"settings-notification",children:n}),d.jsxs("div",{className:"settings-header",children:[d.jsx("h2",{children:" Configuracin General"}),d.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),d.jsxs("div",{className:"settings-sections",children:[d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Interfaz"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),d.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),d.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[d.jsx("option",{value:"2000",children:"2 segundos"}),d.jsx("option",{value:"3000",children:"3 segundos"}),d.jsx("option",{value:"4000",children:"4 segundos"}),d.jsx("option",{value:"5000",children:"5 segundos"}),d.jsx("option",{value:"7000",children:"7 segundos"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),d.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),d.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[d.jsx("option",{value:"5",children:"5"}),d.jsx("option",{value:"10",children:"10"}),d.jsx("option",{value:"20",children:"20"}),d.jsx("option",{value:"50",children:"50"}),d.jsx("option",{value:"100",children:"100"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Vista compacta"}),d.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("label",{children:[d.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),d.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),d.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Valores por Defecto"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Formato de fecha"}),d.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),d.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[d.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),d.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),d.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),d.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),d.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Comportamiento"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Autoguardado"}),d.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),d.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[d.jsx("option",{value:"15000",children:"15 segundos"}),d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"0",children:"Desactivado"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),d.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),d.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),d.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),d.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Gestin de Datos"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Exportar datos"}),d.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),d.jsx("button",{className:"btn-export",onClick:o,children:" Exportar Todo"})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Importar datos"}),d.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),d.jsxs("label",{className:"btn-import",children:[" Importar",d.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),d.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),d.jsx("button",{className:"btn-reset",onClick:s,children:" Restaurar"})]}),d.jsxs("div",{className:"setting-item danger-zone",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:" Zona de peligro"}),d.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),d.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function Lte({onLogin:e}){const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,s]=_.useState(!1),[o,l]=_.useState("");_.useEffect(()=>{const c=localStorage.getItem("saved_username"),f=localStorage.getItem("saved_password");c&&f&&(r(c),i(f),s(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const f=await SN(t.toLowerCase());f&&f.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(f)),e(f)):l("Usuario o contrasea incorrectos")}catch(f){console.error("Error durante login:",f),l("Error al iniciar sesin. Intenta nuevamente.")}};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx(X2,{}),d.jsx("h1",{children:"Sistema de Incidencias"}),d.jsx("p",{children:"Inicia sesin para continuar"})]}),d.jsxs("form",{className:"login-form",onSubmit:u,children:[o&&d.jsxs("div",{className:"login-error",children:[" ",o]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"username",children:"Usuario"}),d.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),d.jsx("div",{className:"login-remember",children:d.jsxs("label",{className:"remember-checkbox",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:c=>s(c.target.checked)}),d.jsx("span",{children:"Guardar credenciales"})]})}),d.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function Vte({currentUser:e,onUpdate:t}){const[r,n]=_.useState({name:e.name,password:"",confirmPassword:"",avatar:e.avatar||""}),[i,a]=_.useState(null),[s,o]=_.useState(null),[l,u]=_.useState(!1);_.useEffect(()=>{(async()=>{if(e.roleId){const g=await lp(e.roleId);a(g)}})()},[e.roleId]);const c=(m,g)=>{o({type:m,message:g}),setTimeout(()=>o(null),3e3)},f=async m=>{if(m.preventDefault(),!r.name.trim()){c("error","El nombre es obligatorio");return}if(r.password&&r.password!==r.confirmPassword){c("error","Las contraseas no coinciden");return}try{const g={name:r.name,avatar:r.avatar};r.password&&(g.password=r.password),await zw(e.id,g),c("success","Perfil actualizado correctamente"),t(),n(y=>({...y,password:"",confirmPassword:""}))}catch(g){console.error("Error updating profile:",g),c("error","Error al actualizar el perfil")}},p=["","","","","","","","","","","",""];return d.jsxs("div",{className:"user-profile",children:[d.jsxs("div",{className:"profile-header",children:[d.jsx("h2",{children:" Mi Perfil"}),d.jsx("p",{className:"profile-description",children:"Administra tu informacin personal"})]}),s&&d.jsx("div",{className:`profile-notification profile-notification-${s.type}`,children:s.message}),d.jsxs("div",{className:"profile-content",children:[d.jsxs("div",{className:"profile-info-card",children:[d.jsx("h3",{children:"Informacin de la cuenta"}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Usuario:"}),d.jsx("span",{className:"info-value",children:e.username})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Rol:"}),d.jsx("span",{className:"info-value",children:(i==null?void 0:i.name)||"Sin rol"})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Fecha de creacin:"}),d.jsx("span",{className:"info-value",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),d.jsxs("form",{className:"profile-form",onSubmit:f,children:[d.jsx("h3",{children:"Editar informacin"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"avatar",children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:p.map(m=>d.jsx("button",{type:"button",className:`avatar-option ${r.avatar===m?"selected":""}`,onClick:()=>n({...r,avatar:m}),children:m},m))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre completo *"}),d.jsx("input",{id:"name",type:"text",value:r.name,onChange:m=>n({...r,name:m.target.value}),required:!0})]}),d.jsx("div",{className:"form-divider",children:d.jsx("h4",{children:"Cambiar contrasea (opcional)"})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Nueva contrasea"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:l?"text":"password",value:r.password,onChange:m=>n({...r,password:m.target.value}),placeholder:"Dejar vaco para no cambiar"}),d.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!l),children:l?"":""})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),d.jsx("input",{id:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:m=>n({...r,confirmPassword:m.target.value}),placeholder:"Confirmar nueva contrasea"})]}),d.jsx("div",{className:"form-actions",children:d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar cambios"})})]}),i&&d.jsxs("div",{className:"profile-permissions-card",children:[d.jsx("h3",{children:" Permisos de tu rol"}),d.jsxs("div",{className:"permissions-grid",children:[d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.incidents.create?"allowed":"denied",children:[i.permissions.incidents.create?"":""," Crear"]}),d.jsxs("li",{className:i.permissions.incidents.update?"allowed":"denied",children:[i.permissions.incidents.update?"":""," Editar"]}),d.jsxs("li",{className:i.permissions.incidents.delete?"allowed":"denied",children:[i.permissions.incidents.delete?"":""," Eliminar"]}),d.jsxs("li",{className:i.permissions.incidents.viewAll?"allowed":"denied",children:[i.permissions.incidents.viewAll?"":""," Ver todas"]})]})]}),d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.users.viewOwn?"allowed":"denied",children:[i.permissions.users.viewOwn?"":""," Ver propio"]}),d.jsxs("li",{className:i.permissions.users.editOwn?"allowed":"denied",children:[i.permissions.users.editOwn?"":""," Editar propio"]}),d.jsxs("li",{className:i.permissions.users.viewAll?"allowed":"denied",children:[i.permissions.users.viewAll?"":""," Ver todos"]}),d.jsxs("li",{className:i.permissions.users.edit?"allowed":"denied",children:[i.permissions.users.edit?"":""," Editar otros"]})]})]})]})]})]})]})}const Fte=({currentUser:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(null),[a,s]=_.useState(""),[o,l]=_.useState(!1),[u,c]=_.useState(null),[f,p]=_.useState(null),[m,g]=_.useState({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}});_.useEffect(()=>{const v=IN(S=>{r(S)});return()=>v()},[]),_.useEffect(()=>{(async()=>{if(e!=null&&e.roleId){const S=await lp(e.roleId);i(S)}})()},[e]);const y=(v,S)=>{p({type:v,message:S}),setTimeout(()=>p(null),5e3)},b=v=>{if(!(n!=null&&n.permissions.roles.edit)&&v){y("error","No tienes permisos para editar roles");return}if(!(n!=null&&n.permissions.roles.create)&&!v){y("error","No tienes permisos para crear roles");return}v?(c(v),g({name:v.name,permissions:{...v.permissions}})):(c(null),g({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}})),l(!0)},x=()=>{l(!1),c(null)},E=(v,S,C)=>{g(k=>({...k,permissions:{...k.permissions,[v]:{...k.permissions[v],[S]:C}}}))},A=async v=>{if(v.preventDefault(),!m.name.trim()){y("error","El nombre del rol es obligatorio");return}try{u?(await l5(u.id,{name:m.name,permissions:m.permissions}),y("success","Rol actualizado correctamente")):(await CN({name:m.name,permissions:m.permissions,isSystem:!1,createdAt:new Date().toISOString()}),y("success","Rol creado correctamente")),x()}catch(S){console.error("Error al guardar rol:",S),y("error","Error al guardar el rol")}},I=async v=>{if(!(n!=null&&n.permissions.roles.delete)){y("error","No tienes permisos para eliminar roles");return}if(window.confirm(`Ests seguro de que deseas eliminar el rol "${v.name}"?`))try{await u5(v.id),y("success","Rol eliminado correctamente")}catch(S){console.error("Error al eliminar rol:",S),y("error","Error al eliminar el rol")}},R=t.filter(v=>v.name.toLowerCase().includes(a.toLowerCase())),O=v=>{const S=[];return v.incidents.create&&v.incidents.update&&v.incidents.delete?S.push("Incidencias: Completo"):v.incidents.read&&S.push("Incidencias: Lectura"),v.users.viewAll&&v.users.create&&v.users.edit&&v.users.delete?S.push("Usuarios: Completo"):v.users.viewOwn&&S.push("Usuarios: Propio"),v.roles.create&&v.roles.edit&&v.roles.delete&&S.push("Roles: Completo"),v.settings.edit?S.push("Configuracin: Edicin"):v.settings.view&&S.push("Configuracin: Vista"),v.automation.create&&v.automation.edit&&v.automation.delete&&S.push("Automatizacin: Completo"),S.join("  ")||"Sin permisos especiales"};return d.jsxs("div",{className:"role-management",children:[d.jsxs("div",{className:"role-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Gestin de Roles"}),d.jsx("p",{className:"role-description",children:"Crea y administra roles con permisos personalizados"})]}),d.jsx("button",{className:"btn-create-role",onClick:()=>b(),children:"+ Crear Rol"})]}),f&&d.jsx("div",{className:`role-notification role-notification-${f.type}`,children:f.message}),d.jsx("div",{className:"role-search",children:d.jsx("input",{type:"text",placeholder:"Buscar roles...",value:a,onChange:v=>s(v.target.value),className:"search-input"})}),d.jsx("div",{className:"roles-grid",children:R.map(v=>d.jsxs("div",{className:"role-card",children:[d.jsxs("div",{className:"role-card-header",children:[d.jsx("h3",{children:v.name}),v.isSystem&&d.jsx("span",{className:"system-badge",children:"Sistema"})]}),d.jsx("p",{className:"role-summary",children:O(v.permissions)}),d.jsxs("div",{className:"role-card-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>b(v),children:"Editar"}),d.jsx("button",{className:"btn-delete",onClick:()=>I(v),children:"Eliminar"})]})]},v.id))}),o&&d.jsx("div",{className:"modal-overlay",onClick:x,children:d.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:u?"Editar Rol":"Crear Rol"}),d.jsx("button",{className:"modal-close",onClick:x,children:""})]}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre del Rol *"}),d.jsx("input",{type:"text",value:m.name,onChange:v=>g({...m,name:v.target.value}),placeholder:"Ej: Editor, Supervisor, etc.",required:!0})]}),d.jsxs("div",{className:"permissions-section",children:[d.jsx("h3",{children:"Permisos"}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.create,onChange:v=>E("incidents","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.read,onChange:v=>E("incidents","read",v.target.checked)}),"Leer"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.update,onChange:v=>E("incidents","update",v.target.checked)}),"Actualizar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.delete,onChange:v=>E("incidents","delete",v.target.checked)}),"Eliminar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.viewAll,onChange:v=>E("incidents","viewAll",v.target.checked)}),"Ver Todas"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewOwn,onChange:v=>E("users","viewOwn",v.target.checked)}),"Ver Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.editOwn,onChange:v=>E("users","editOwn",v.target.checked)}),"Editar Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewAll,onChange:v=>E("users","viewAll",v.target.checked)}),"Ver Todos"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.create,onChange:v=>E("users","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.edit,onChange:v=>E("users","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.delete,onChange:v=>E("users","delete",v.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Roles"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.view,onChange:v=>E("roles","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.create,onChange:v=>E("roles","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.edit,onChange:v=>E("roles","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.delete,onChange:v=>E("roles","delete",v.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Configuracin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.view,onChange:v=>E("settings","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.edit,onChange:v=>E("settings","edit",v.target.checked)}),"Editar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Automatizacin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.view,onChange:v=>E("automation","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.create,onChange:v=>E("automation","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.edit,onChange:v=>E("automation","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.delete,onChange:v=>E("automation","delete",v.target.checked)}),"Eliminar"]})]})]})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel",onClick:x,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-save",children:u?"Guardar Cambios":"Crear Rol"})]})]})]})})]})};function $te(){const[e,t]=_.useState(null),[r,n]=_.useState(null),[i,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(null),[c,f]=_.useState(null),[p,m]=_.useState("dashboard"),[g,y]=_.useState("profile"),[b,x]=_.useState(null),[E,A]=_.useState("purple-gradient"),[I,R]=_.useState([]),[O,v]=_.useState(null),[S,C]=_.useState(!1),[k,T]=_.useState(!1),N=e?i.filter(z=>z.userId===e.id):[],j=z=>{try{console.log("Changing tab to:",z),C(!0),setTimeout(()=>{m(z),C(!1)},100)}catch(H){console.error("Error changing tab:",H),C(!1)}},Q=z=>{C(!0),setTimeout(()=>{I.find(H=>H.id===z.id)||R([...I,z]),x(z),m("incident-detail"),C(!1)},100)};_.useEffect(()=>{(async()=>{try{await c5();const Z=wr.getCurrentUser();if(t(Z),Z){const ht=await r5(Z.id);ht.theme&&A(ht.theme)}const ce=await Dl();o(ce);const we=new URLSearchParams(window.location.search).get("incident");if(we){const ht=await Da(we);ht&&(x(ht),m("incident-detail"))}}catch(Z){console.error("Error loading data:",Z),v({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const H=s5(Z=>{console.log("Incidencias actualizadas en tiempo real:",Z),a(Z),x(ce=>ce&&(Z.find(we=>we.id===ce.id)||ce)),R(ce=>ce.map(he=>Z.find(ht=>ht.id===he.id)||he))});return()=>{H()}},[]),_.useEffect(()=>{(async()=>{if(e!=null&&e.roleId)try{const H=await lp(e.roleId);n(H)}catch(H){console.error("Error loading user role:",H)}else n(null)})()},[e]),_.useEffect(()=>{if(O){const z=setTimeout(()=>{v(null)},4e3);return()=>clearTimeout(z)}},[O]);const se=async z=>{try{const H={...z,userId:e.id},Z=ge.applyAutomationRules(H,"on-create");await ty(Z),v({type:"success",message:` Incidencia "${z.name}" creada correctamente`,incidentId:z.id})}catch(H){console.error("Error adding incident:",H),v({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},de=async z=>{console.log("handleUpdateIncident llamado con:",z);try{await fn(z.id,z),u(null),console.log("Mostrando notificacin"),v({type:"success",message:` Incidencia "${z.name}" actualizada correctamente`,incidentId:z.id})}catch(H){console.error("Error updating incident:",H),v({type:"error",message:"Error al actualizar la incidencia."})}},oe=async z=>{try{await J$(z),R(I.filter(H=>H.id!==z)),(b==null?void 0:b.id)===z&&(x(null),m("all-incidents"))}catch(H){console.error("Error deleting incident:",H),v({type:"error",message:"Error al eliminar la incidencia."})}},U=z=>{const H=I.find(Z=>Z.id===z);H&&(x(H),m("incident-detail"))},K=z=>{R(I.filter(H=>H.id!==z)),(b==null?void 0:b.id)===z&&(x(null),m("all-incidents"))},ne=async(z,H,Z)=>{try{const ce={incidentId:z,author:H,text:Z,timestamp:new Date().toISOString()};await n5(ce)}catch(ce){console.error("Error adding comment:",ce)}},me=(z,H)=>{const Z=ge.deleteComment(z,H);if(a(Z),b&&b.id===z){const ce=Z.find(he=>he.id===z);ce&&x(ce)}},be=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=Z.tags||[];ce.includes(H)||await fn(z,{tags:[...ce,H]})}catch(Z){console.error("Error adding tag:",Z)}},_t=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=(Z.tags||[]).filter(he=>he!==H);await fn(z,{tags:ce})}catch(Z){console.error("Error removing tag:",Z)}},Re=()=>{const z=new Set;return i.forEach(H=>{var Z;(Z=H.tags)==null||Z.forEach(ce=>z.add(ce))}),Array.from(z)},qt=async z=>{var H;try{const Z=await EN();for(const ce of Z)if((H=ce.tags)!=null&&H.includes(z)){const he=ce.tags.filter(we=>we!==z);await fn(ce.id,{tags:he})}v({type:"success",message:` Etiqueta "${z}" eliminada de todas las incidencias`})}catch(Z){console.error("Error deleting tag globally:",Z)}},bt=async(z,H,Z,ce)=>{try{const he=await Da(z);if(!he)return;const we={id:`pr_${Date.now()}`,link:Z,description:ce,createdAt:new Date().toISOString()};if(H==="qa2"){const ht=[...he.prQA2List||[],we];await fn(z,{prQA2List:ht})}else{const ht=[...he.prMainList||[],we];await fn(z,{prMainList:ht})}}catch(he){console.error("Error adding PR:",he)}},Ue=async(z,H,Z)=>{try{const ce=await Da(z);if(!ce)return;if(H==="qa2"){const he=(ce.prQA2List||[]).filter(we=>we.id!==Z);await fn(z,{prQA2List:he})}else{const he=(ce.prMainList||[]).filter(we=>we.id!==Z);await fn(z,{prMainList:he})}}catch(ce){console.error("Error removing PR:",ce)}},Qn=async(z,H,Z,ce,he)=>{try{const we=await Da(z);if(!we)return;if(H==="qa2"){const ht=(we.prQA2List||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prQA2List:ht})}else{const ht=(we.prMainList||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prMainList:ht})}}catch(we){console.error("Error updating PR:",we)}},B=async z=>{try{const H={...z,createdAt:new Date().toISOString()};await AN(H);const Z=await Dl();o(Z)}catch(H){console.error("Error adding automation rule:",H)}},fe=async(z,H)=>{try{await i5(z,H);const Z=await Dl();o(Z)}catch(Z){console.error("Error updating automation rule:",Z)}},ye=async z=>{try{await a5(z);const H=await Dl();o(H)}catch(H){console.error("Error deleting automation rule:",H)}},q=z=>{A(z),localStorage.setItem("app_theme",z);const H=n0.find(Z=>Z.id===z);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};_.useEffect(()=>{const z=n0.find(H=>H.id===E);z&&document.documentElement.style.setProperty("--app-background",z.gradient)},[E]);const ft=z=>{t(z)},Ce=()=>{wr.logout(),t(null),x(null),R([]),m("dashboard")};return e?d.jsxs("div",{className:"app-container",children:[d.jsxs("header",{className:"app-header",children:[d.jsx("div",{className:"app-header-content",children:d.jsx(X2,{})}),d.jsxs("div",{className:"app-header-actions",children:[d.jsxs("div",{className:"user-info",children:[d.jsxs("span",{className:"user-name",children:[" ",e.name]}),d.jsx("button",{className:"btn-logout",onClick:Ce,title:"Cerrar sesin",children:" Salir"})]}),d.jsxs("div",{className:"app-header-badge",onClick:()=>T(!k),children:[d.jsx("span",{className:"badge-icon",children:""}),d.jsx("span",{className:"badge-text",children:"Alertas"}),N.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length>0&&d.jsx("span",{className:"alerts-count",children:N.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length})]}),d.jsxs("div",{className:"app-header-badge",onClick:()=>j("settings"),children:[d.jsx("span",{className:"badge-icon",children:""}),d.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),O&&d.jsxs("div",{className:`notification-banner notification-${O.type}`,children:[d.jsx("span",{children:O.message}),d.jsxs("div",{className:"notification-actions",children:[O.type==="success"&&O.incidentId&&d.jsx("button",{className:"notification-view",onClick:()=>{const z=N.find(H=>H.id===O.incidentId);z&&(x(z),m("incident-detail")),v(null)},"aria-label":"Ver incidencia",children:" Ver"}),d.jsx("button",{className:"notification-close",onClick:()=>v(null),"aria-label":"Cerrar notificacin",children:""})]})]}),d.jsx(jte,{activeTab:p,onTabChange:j,openIncidents:I.map(z=>({id:z.id,name:z.name})),selectedIncidentId:b==null?void 0:b.id,onSelectIncident:U,onCloseIncident:K}),k&&d.jsx("div",{className:"alerts-modal",children:d.jsxs("div",{className:"alerts-modal-content",children:[d.jsxs("div",{className:"alerts-modal-header",children:[d.jsx("h3",{children:" Alertas"}),d.jsx("button",{className:"alerts-modal-close",onClick:()=>T(!1),children:""})]}),d.jsx(bte,{incidents:N,onViewIncident:z=>{Q(z),T(!1)}})]})}),p==="dashboard"?d.jsx("main",{className:"app-main dashboard-transition",children:d.jsxs("div",{className:"app-content",children:[d.jsxs("div",{className:"form-section",children:[d.jsx(xte,{incidents:N}),d.jsx(wte,{incidents:N,onViewDetail:Q})]}),d.jsxs("div",{className:"list-section",children:[d.jsx(vte,{incidents:N,onStatusClick:f,onNavigateToList:()=>m("all-incidents")}),d.jsx(_te,{incidents:N}),d.jsx(yte,{incidents:N})]})]})}):p==="new-incident"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx("div",{className:"new-incident-section",children:d.jsx("div",{className:"form-section-centered",children:d.jsx(f5,{onAdd:se})})})}):p==="incident-detail"&&b?d.jsx("main",{className:"incident-detail-main",children:d.jsx(Ite,{incident:b,onUpdate:de,onAddComment:ne,onDeleteComment:me,onDelete:oe,onAddTag:be,onRemoveTag:_t,onDeleteTagGlobally:qt,allAvailableTags:Re(),onAddPR:bt,onRemovePR:Ue,onUpdatePR:Qn,onBack:()=>{x(null),m("all-incidents")}})}):p==="settings"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsxs("div",{className:"settings-container",children:[d.jsxs("div",{className:"settings-sidebar",children:[d.jsx("h2",{children:" Ajustes"}),d.jsxs("div",{className:"settings-menu",children:[d.jsxs("button",{className:`settings-menu-item ${g==="profile"?"active":""}`,onClick:()=>y("profile"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Mi Perfil"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="automation"?"active":""}`,onClick:()=>y("automation"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Automatizacin"})]}),(r==null?void 0:r.permissions.users.viewAll)&&d.jsxs("button",{className:`settings-menu-item ${g==="users"?"active":""}`,onClick:()=>y("users"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Usuarios"})]}),(r==null?void 0:r.permissions.roles.view)&&d.jsxs("button",{className:`settings-menu-item ${g==="roles"?"active":""}`,onClick:()=>y("roles"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Roles"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="appearance"?"active":""}`,onClick:()=>y("appearance"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Apariencia"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="general"?"active":""}`,onClick:()=>y("general"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"General"})]})]})]}),d.jsx("div",{className:"settings-content",children:g==="profile"?d.jsx(Vte,{currentUser:e,onUpdate:async()=>{const H=(await op()).find(Z=>Z.id===e.id);H&&t(H)}}):g==="automation"?d.jsx(kte,{rules:s,onAddRule:B,onUpdateRule:fe,onDeleteRule:ye}):g==="users"&&(r!=null&&r.permissions.users.viewAll)?d.jsx(Rte,{currentUser:e}):g==="roles"&&(r!=null&&r.permissions.roles.view)?d.jsx(Fte,{currentUser:e}):g==="appearance"?d.jsx(Dte,{currentTheme:E,onThemeChange:q,currentUser:e}):g==="general"?d.jsx(Mte,{}):null})]})}):d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx("div",{className:"all-incidents-section",children:d.jsx(Ote,{incidents:N,onEdit:u,onDelete:oe,onViewDetail:Q,onNewIncident:()=>j("new-incident"),selectedStatus:c,onClearFilter:()=>f(null)})})}),l&&d.jsx(h5,{incident:l,onSave:de,onCancel:()=>u(null)})]}):d.jsx(Lte,{onLogin:ft})}Fg.createRoot(document.getElementById("root")).render(d.jsx(DT.StrictMode,{children:d.jsx($te,{})}));
