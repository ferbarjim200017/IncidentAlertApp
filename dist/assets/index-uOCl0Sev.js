var bM=Object.defineProperty;var EM=(e,t,r)=>t in e?bM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var km=(e,t,r)=>EM(e,typeof t!="symbol"?t+"":t,r);function SM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ST={exports:{}},Ph={},AT={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),AM=Symbol.for("react.portal"),PM=Symbol.for("react.fragment"),TM=Symbol.for("react.strict_mode"),CM=Symbol.for("react.profiler"),IM=Symbol.for("react.provider"),jM=Symbol.for("react.context"),NM=Symbol.for("react.forward_ref"),OM=Symbol.for("react.suspense"),kM=Symbol.for("react.memo"),RM=Symbol.for("react.lazy"),Gb=Symbol.iterator;function DM(e){return e===null||typeof e!="object"?null:(e=Gb&&e[Gb]||e["@@iterator"],typeof e=="function"?e:null)}var PT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TT=Object.assign,CT={};function jo(e,t,r){this.props=e,this.context=t,this.refs=CT,this.updater=r||PT}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IT(){}IT.prototype=jo.prototype;function i0(e,t,r){this.props=e,this.context=t,this.refs=CT,this.updater=r||PT}var a0=i0.prototype=new IT;a0.constructor=i0;TT(a0,jo.prototype);a0.isPureReactComponent=!0;var Qb=Array.isArray,jT=Object.prototype.hasOwnProperty,s0={current:null},NT={key:!0,ref:!0,__self:!0,__source:!0};function OT(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)jT.call(t,n)&&!NT.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vu,type:e,key:a,ref:s,props:i,_owner:s0.current}}function MM(e,t){return{$$typeof:Vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vu}function LM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yb=/\/+/g;function Rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LM(""+e.key):t.toString(36)}function _d(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vu:case AM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Rm(s,0):n,Qb(i)?(r="",e!=null&&(r=e.replace(Yb,"$&/")+"/"),_d(i,t,r,"",function(u){return u})):i!=null&&(o0(i)&&(i=MM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Qb(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Rm(a,o);s+=_d(a,t,r,l,i)}else if(l=DM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Rm(a,o++),s+=_d(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dc(e,t,r){if(e==null)return e;var n=[],i=0;return _d(e,n,"","",function(a){return t.call(r,a,i++)}),n}function VM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},bd={transition:null},FM={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:bd,ReactCurrentOwner:s0};function kT(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!o0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=jo;ve.Fragment=PM;ve.Profiler=CM;ve.PureComponent=i0;ve.StrictMode=TM;ve.Suspense=OM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;ve.act=kT;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=TT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=s0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)jT.call(t,l)&&!NT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Vu,type:e.type,key:i,ref:a,props:n,_owner:s}};ve.createContext=function(e){return e={$$typeof:jM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IM,_context:e},e.Consumer=e};ve.createElement=OT;ve.createFactory=function(e){var t=OT.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:NM,render:e}};ve.isValidElement=o0;ve.lazy=function(e){return{$$typeof:RM,_payload:{_status:-1,_result:e},_init:VM}};ve.memo=function(e,t){return{$$typeof:kM,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ve.unstable_act=kT;ve.useCallback=function(e,t){return gr.current.useCallback(e,t)};ve.useContext=function(e){return gr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return gr.current.useEffect(e,t)};ve.useId=function(){return gr.current.useId()};ve.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return gr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};ve.useRef=function(e){return gr.current.useRef(e)};ve.useState=function(e){return gr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return gr.current.useTransition()};ve.version="18.3.1";AT.exports=ve;var _=AT.exports;const RT=Ai(_),$M=SM({__proto__:null,default:RT},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM=_,UM=Symbol.for("react.element"),BM=Symbol.for("react.fragment"),qM=Object.prototype.hasOwnProperty,WM=zM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KM={key:!0,ref:!0,__self:!0,__source:!0};function DT(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qM.call(t,n)&&!KM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:UM,type:e,key:a,ref:s,props:i,_owner:WM.current}}Ph.Fragment=BM;Ph.jsx=DT;Ph.jsxs=DT;ST.exports=Ph;var f=ST.exports,$g={},MT={exports:{}},Br={},LT={exports:{}},VT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var me=ne-1>>>1,be=U[me];if(0<i(be,K))U[me]=K,U[ne]=be,ne=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var me=0,be=U.length,_t=be>>>1;me<_t;){var ke=2*(me+1)-1,qt=U[ke],bt=ke+1,ze=U[bt];if(0>i(qt,ne))bt<be&&0>i(ze,qt)?(U[me]=ze,U[bt]=ne,me=bt):(U[me]=qt,U[ke]=ne,me=ke);else if(bt<be&&0>i(ze,ne))U[me]=ze,U[bt]=ne,me=bt;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function j(U){if(w=!1,A(U),!g)if(r(l)!==null)g=!0,de(T);else{var K=r(u);K!==null&&oe(j,K.startTime-U)}}function T(U,K){g=!1,w&&(w=!1,x(S),S=-1),m=!0;var ne=p;try{for(A(K),d=r(l);d!==null&&(!(d.expirationTime>K)||U&&!C());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var be=me(d.expirationTime<=K);K=e.unstable_now(),typeof be=="function"?d.callback=be:d===r(l)&&n(l),A(K)}else n(l);d=r(l)}if(d!==null)var _t=!0;else{var ke=r(u);ke!==null&&oe(j,ke.startTime-K),_t=!1}return _t}finally{d=null,p=ne,m=!1}}var N=!1,b=null,S=-1,I=5,D=-1;function C(){return!(e.unstable_now()-D<I)}function k(){if(b!==null){var U=e.unstable_now();D=U;var K=!0;try{K=b(!0,U)}finally{K?O():(N=!1,b=null)}}else N=!1}var O;if(typeof E=="function")O=function(){E(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=k,O=function(){se.postMessage(null)}}else O=function(){v(k,0)};function de(U){b=U,N||(N=!0,O())}function oe(U,K){S=v(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,de(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},e.unstable_scheduleCallback=function(U,K,ne){var me=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,U){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ne+be,U={id:c++,callback:K,priorityLevel:U,startTime:ne,expirationTime:be,sortIndex:-1},ne>me?(U.sortIndex=ne,t(u,U),r(l)===null&&U===r(u)&&(w?(x(S),S=-1):w=!0,oe(j,ne-me))):(U.sortIndex=be,t(l,U),g||m||(g=!0,de(T))),U},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})(VT);LT.exports=VT;var HM=LT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM=_,zr=HM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FT=new Set,Xl={};function hs(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(Xl[e]=t,e=0;e<t.length;e++)FT.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zg=Object.prototype.hasOwnProperty,QM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xb={},Zb={};function YM(e){return zg.call(Zb,e)?!0:zg.call(Xb,e)?!1:QM.test(e)?Zb[e]=!0:(Xb[e]=!0,!1)}function XM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZM(e,t,r,n){if(t===null||typeof t>"u"||XM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function u0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function c0(e,t,r,n){var i=Xt.hasOwnProperty(t)?Xt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZM(t,r,i,n)&&(r=null),n||i===null?YM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pi=GM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),zT=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),qg=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),UT=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Dm;function Al(e){if(Dm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dm=t&&t[1]||""}return`
`+Dm+e}var Mm=!1;function Lm(e,t){if(!e||Mm)return"";Mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Al(e):""}function JM(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function Wg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Rs:return"Portal";case Ug:return"Profiler";case d0:return"StrictMode";case Bg:return"Suspense";case qg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zT:return(e.displayName||"Context")+".Consumer";case $T:return(e._context.displayName||"Context")+".Provider";case f0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h0:return t=e.displayName||null,t!==null?t:Wg(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Wg(e(t))}catch{}}return null}function eL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wg(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tL(e){var t=BT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lc(e){e._valueTracker||(e._valueTracker=tL(e))}function qT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=BT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kg(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WT(e,t){t=t.checked,t!=null&&c0(e,"checked",t,!1)}function Hg(e,t){WT(e,t);var r=ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gg(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gg(e,t,r){(t!=="number"||Wd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pl=Array.isArray;function Gs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Pl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function KT(e,t){var r=ua(t.value),n=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vc,GT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rL=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(e){rL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ml[t]=Ml[e]})});function QT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ml.hasOwnProperty(e)&&Ml[e]?(""+t).trim():t+"px"}function YT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xg(e,t){if(t){if(nL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Zg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jg=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ev=null,Qs=null,Ys=null;function iE(e){if(e=zu(e)){if(typeof ev!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Nh(t),ev(e.stateNode,e.type,t))}}function XT(e){Qs?Ys?Ys.push(e):Ys=[e]:Qs=e}function ZT(){if(Qs){var e=Qs,t=Ys;if(Ys=Qs=null,iE(e),t)for(e=0;e<t.length;e++)iE(t[e])}}function JT(e,t){return e(t)}function eC(){}var Vm=!1;function tC(e,t,r){if(Vm)return e(t,r);Vm=!0;try{return JT(e,t,r)}finally{Vm=!1,(Qs!==null||Ys!==null)&&(eC(),ZT())}}function Jl(e,t){var r=e.stateNode;if(r===null)return null;var n=Nh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var tv=!1;if(ci)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){tv=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{tv=!1}function iL(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ll=!1,Kd=null,Hd=!1,rv=null,aL={onError:function(e){Ll=!0,Kd=e}};function sL(e,t,r,n,i,a,s,o,l){Ll=!1,Kd=null,iL.apply(aL,arguments)}function oL(e,t,r,n,i,a,s,o,l){if(sL.apply(this,arguments),Ll){if(Ll){var u=Kd;Ll=!1,Kd=null}else throw Error(W(198));Hd||(Hd=!0,rv=u)}}function ps(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aE(e){if(ps(e)!==e)throw Error(W(188))}function lL(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return aE(i),e;if(a===n)return aE(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function nC(e){return e=lL(e),e!==null?iC(e):null}function iC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iC(e);if(t!==null)return t;e=e.sibling}return null}var aC=zr.unstable_scheduleCallback,sE=zr.unstable_cancelCallback,uL=zr.unstable_shouldYield,cL=zr.unstable_requestPaint,ct=zr.unstable_now,dL=zr.unstable_getCurrentPriorityLevel,m0=zr.unstable_ImmediatePriority,sC=zr.unstable_UserBlockingPriority,Gd=zr.unstable_NormalPriority,fL=zr.unstable_LowPriority,oC=zr.unstable_IdlePriority,Th=null,Mn=null;function hL(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Th,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:gL,pL=Math.log,mL=Math.LN2;function gL(e){return e>>>=0,e===0?32:31-(pL(e)/mL|0)|0}var Fc=64,$c=4194304;function Tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Tl(o):(a&=s,a!==0&&(n=Tl(a)))}else s=r&~i,s!==0?n=Tl(s):a!==0&&(n=Tl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wn(t),i=1<<r,n|=e[r],t&=~i;return n}function vL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-wn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=vL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function nv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lC(){var e=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),e}function Fm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=r}function wL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-wn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function g0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ne=0;function uC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cC,v0,dC,fC,hC,iv=!1,zc=[],Yi=null,Xi=null,Zi=null,eu=new Map,tu=new Map,qi=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oE(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function dl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=zu(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _L(e,t,r,n,i){switch(t){case"focusin":return Yi=dl(Yi,e,t,r,n,i),!0;case"dragenter":return Xi=dl(Xi,e,t,r,n,i),!0;case"mouseover":return Zi=dl(Zi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return eu.set(a,dl(eu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,tu.set(a,dl(tu.get(a)||null,e,t,r,n,i)),!0}return!1}function pC(e){var t=Fa(e.target);if(t!==null){var r=ps(t);if(r!==null){if(t=r.tag,t===13){if(t=rC(r),t!==null){e.blockedOn=t,hC(e.priority,function(){dC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=av(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jg=n,r.target.dispatchEvent(n),Jg=null}else return t=zu(r),t!==null&&v0(t),e.blockedOn=r,!1;t.shift()}return!0}function lE(e,t,r){Ed(e)&&r.delete(t)}function bL(){iv=!1,Yi!==null&&Ed(Yi)&&(Yi=null),Xi!==null&&Ed(Xi)&&(Xi=null),Zi!==null&&Ed(Zi)&&(Zi=null),eu.forEach(lE),tu.forEach(lE)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,iv||(iv=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,bL)))}function ru(e){function t(i){return fl(i,e)}if(0<zc.length){fl(zc[0],e);for(var r=1;r<zc.length;r++){var n=zc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&fl(Yi,e),Xi!==null&&fl(Xi,e),Zi!==null&&fl(Zi,e),eu.forEach(t),tu.forEach(t),r=0;r<qi.length;r++)n=qi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qi.length&&(r=qi[0],r.blockedOn===null);)pC(r),r.blockedOn===null&&qi.shift()}var Xs=Pi.ReactCurrentBatchConfig,Yd=!0;function EL(e,t,r,n){var i=Ne,a=Xs.transition;Xs.transition=null;try{Ne=1,y0(e,t,r,n)}finally{Ne=i,Xs.transition=a}}function SL(e,t,r,n){var i=Ne,a=Xs.transition;Xs.transition=null;try{Ne=4,y0(e,t,r,n)}finally{Ne=i,Xs.transition=a}}function y0(e,t,r,n){if(Yd){var i=av(e,t,r,n);if(i===null)Qm(e,t,n,Xd,r),oE(e,n);else if(_L(i,e,t,r,n))n.stopPropagation();else if(oE(e,n),t&4&&-1<xL.indexOf(e)){for(;i!==null;){var a=zu(i);if(a!==null&&cC(a),a=av(e,t,r,n),a===null&&Qm(e,t,n,Xd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Qm(e,t,n,null,r)}}var Xd=null;function av(e,t,r,n){if(Xd=null,e=p0(n),e=Fa(e),e!==null)if(t=ps(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xd=e,null}function mC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dL()){case m0:return 1;case sC:return 4;case Gd:case fL:return 16;case oC:return 536870912;default:return 16}default:return 16}}var Hi=null,w0=null,Sd=null;function gC(){if(Sd)return Sd;var e,t=w0,r=t.length,n,i="value"in Hi?Hi.value:Hi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Sd=i.slice(e,1<n?1-n:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function uE(){return!1}function qr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uc:uE,this.isPropagationStopped=uE,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=qr(No),$u=tt({},No,{view:0,detail:0}),AL=qr($u),$m,zm,hl,Ch=tt({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?($m=e.screenX-hl.screenX,zm=e.screenY-hl.screenY):zm=$m=0,hl=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:zm}}),cE=qr(Ch),PL=tt({},Ch,{dataTransfer:0}),TL=qr(PL),CL=tt({},$u,{relatedTarget:0}),Um=qr(CL),IL=tt({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),jL=qr(IL),NL=tt({},No,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OL=qr(NL),kL=tt({},No,{data:0}),dE=qr(kL),RL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ML={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ML[e])?!!t[e]:!1}function _0(){return LL}var VL=tt({},$u,{key:function(e){if(e.key){var t=RL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FL=qr(VL),$L=tt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=qr($L),zL=tt({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),UL=qr(zL),BL=tt({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),qL=qr(BL),WL=tt({},Ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KL=qr(WL),HL=[9,13,27,32],b0=ci&&"CompositionEvent"in window,Vl=null;ci&&"documentMode"in document&&(Vl=document.documentMode);var GL=ci&&"TextEvent"in window&&!Vl,vC=ci&&(!b0||Vl&&8<Vl&&11>=Vl),hE=" ",pE=!1;function yC(e,t){switch(e){case"keyup":return HL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function QL(e,t){switch(e){case"compositionend":return wC(t);case"keypress":return t.which!==32?null:(pE=!0,hE);case"textInput":return e=t.data,e===hE&&pE?null:e;default:return null}}function YL(e,t){if(Ms)return e==="compositionend"||!b0&&yC(e,t)?(e=gC(),Sd=w0=Hi=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vC&&t.locale!=="ko"?null:t.data;default:return null}}var XL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XL[e.type]:t==="textarea"}function xC(e,t,r,n){XT(n),t=Zd(t,"onChange"),0<t.length&&(r=new x0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fl=null,nu=null;function ZL(e){NC(e,0)}function Ih(e){var t=Fs(e);if(qT(t))return e}function JL(e,t){if(e==="change")return t}var _C=!1;if(ci){var Bm;if(ci){var qm="oninput"in document;if(!qm){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),qm=typeof gE.oninput=="function"}Bm=qm}else Bm=!1;_C=Bm&&(!document.documentMode||9<document.documentMode)}function vE(){Fl&&(Fl.detachEvent("onpropertychange",bC),nu=Fl=null)}function bC(e){if(e.propertyName==="value"&&Ih(nu)){var t=[];xC(t,nu,e,p0(e)),tC(ZL,t)}}function eV(e,t,r){e==="focusin"?(vE(),Fl=t,nu=r,Fl.attachEvent("onpropertychange",bC)):e==="focusout"&&vE()}function tV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ih(nu)}function rV(e,t){if(e==="click")return Ih(t)}function nV(e,t){if(e==="input"||e==="change")return Ih(t)}function iV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:iV;function iu(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zg.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function yE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wE(e,t){var r=yE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yE(r)}}function EC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SC(){for(var e=window,t=Wd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wd(e.document)}return t}function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aV(e){var t=SC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&EC(r.ownerDocument.documentElement,r)){if(n!==null&&E0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=wE(r,a);var s=wE(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sV=ci&&"documentMode"in document&&11>=document.documentMode,Ls=null,sv=null,$l=null,ov=!1;function xE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ov||Ls==null||Ls!==Wd(n)||(n=Ls,"selectionStart"in n&&E0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&iu($l,n)||($l=n,n=Zd(sv,"onSelect"),0<n.length&&(t=new x0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ls)))}function Bc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vs={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Wm={},AC={};ci&&(AC=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function jh(e){if(Wm[e])return Wm[e];if(!Vs[e])return e;var t=Vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in AC)return Wm[e]=t[r];return e}var PC=jh("animationend"),TC=jh("animationiteration"),CC=jh("animationstart"),IC=jh("transitionend"),jC=new Map,_E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){jC.set(e,t),hs(t,[e])}for(var Km=0;Km<_E.length;Km++){var Hm=_E[Km],oV=Hm.toLowerCase(),lV=Hm[0].toUpperCase()+Hm.slice(1);wa(oV,"on"+lV)}wa(PC,"onAnimationEnd");wa(TC,"onAnimationIteration");wa(CC,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(IC,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function bE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oL(n,t,void 0,e),e.currentTarget=null}function NC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;bE(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;bE(i,o,u),a=l}}}if(Hd)throw e=rv,Hd=!1,rv=null,e}function Be(e,t){var r=t[fv];r===void 0&&(r=t[fv]=new Set);var n=e+"__bubble";r.has(n)||(OC(t,e,2,!1),r.add(n))}function Gm(e,t,r){var n=0;t&&(n|=4),OC(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[qc]){e[qc]=!0,FT.forEach(function(r){r!=="selectionchange"&&(uV.has(r)||Gm(r,!1,e),Gm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Gm("selectionchange",!1,t))}}function OC(e,t,r,n){switch(mC(t)){case 1:var i=EL;break;case 4:i=SL;break;default:i=y0}r=i.bind(null,t,r,e),i=void 0,!tv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Qm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}tC(function(){var u=a,c=p0(r),d=[];e:{var p=jC.get(e);if(p!==void 0){var m=x0,g=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":m=FL;break;case"focusin":g="focus",m=Um;break;case"focusout":g="blur",m=Um;break;case"beforeblur":case"afterblur":m=Um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UL;break;case PC:case TC:case CC:m=jL;break;case IC:m=qL;break;case"scroll":m=AL;break;case"wheel":m=KL;break;case"copy":case"cut":case"paste":m=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fE}var w=(t&4)!==0,v=!w&&e==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var E=u,A;E!==null;){A=E;var j=A.stateNode;if(A.tag===5&&j!==null&&(A=j,x!==null&&(j=Jl(E,x),j!=null&&w.push(su(E,j,A)))),v)break;E=E.return}0<w.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Jg&&(g=r.relatedTarget||r.fromElement)&&(Fa(g)||g[di]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Fa(g):null,g!==null&&(v=ps(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=cE,j="onMouseLeave",x="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(w=fE,j="onPointerLeave",x="onPointerEnter",E="pointer"),v=m==null?p:Fs(m),A=g==null?p:Fs(g),p=new w(j,E+"leave",m,r,c),p.target=v,p.relatedTarget=A,j=null,Fa(c)===u&&(w=new w(x,E+"enter",g,r,c),w.target=A,w.relatedTarget=v,j=w),v=j,m&&g)t:{for(w=m,x=g,E=0,A=w;A;A=Ss(A))E++;for(A=0,j=x;j;j=Ss(j))A++;for(;0<E-A;)w=Ss(w),E--;for(;0<A-E;)x=Ss(x),A--;for(;E--;){if(w===x||x!==null&&w===x.alternate)break t;w=Ss(w),x=Ss(x)}w=null}else w=null;m!==null&&EE(d,p,m,w,!1),g!==null&&v!==null&&EE(d,v,g,w,!0)}}e:{if(p=u?Fs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=JL;else if(mE(p))if(_C)T=nV;else{T=tV;var N=eV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=rV);if(T&&(T=T(e,u))){xC(d,T,r,c);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Gg(p,"number",p.value)}switch(N=u?Fs(u):window,e){case"focusin":(mE(N)||N.contentEditable==="true")&&(Ls=N,sv=u,$l=null);break;case"focusout":$l=sv=Ls=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,xE(d,r,c);break;case"selectionchange":if(sV)break;case"keydown":case"keyup":xE(d,r,c)}var b;if(b0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ms?yC(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(vC&&r.locale!=="ko"&&(Ms||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ms&&(b=gC()):(Hi=c,w0="value"in Hi?Hi.value:Hi.textContent,Ms=!0)),N=Zd(u,S),0<N.length&&(S=new dE(S,e,null,r,c),d.push({event:S,listeners:N}),b?S.data=b:(b=wC(r),b!==null&&(S.data=b)))),(b=GL?QL(e,r):YL(e,r))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(c=new dE("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=b))}NC(d,t)})}function su(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jl(e,r),a!=null&&n.unshift(su(e,a,i)),a=Jl(e,t),a!=null&&n.push(su(e,a,i))),e=e.return}return n}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EE(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Jl(r,a),l!=null&&s.unshift(su(r,l,o))):i||(l=Jl(r,a),l!=null&&s.push(su(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var cV=/\r\n?/g,dV=/\u0000|\uFFFD/g;function SE(e){return(typeof e=="string"?e:""+e).replace(cV,`
`).replace(dV,"")}function Wc(e,t,r){if(t=SE(t),SE(e)!==t&&r)throw Error(W(425))}function Jd(){}var lv=null,uv=null;function cv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,fV=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,hV=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(e){return AE.resolve(null).then(e).catch(pV)}:dv;function pV(e){setTimeout(function(){throw e})}function Ym(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ru(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ru(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Oo,ou="__reactProps$"+Oo,di="__reactContainer$"+Oo,fv="__reactEvents$"+Oo,mV="__reactListeners$"+Oo,gV="__reactHandles$"+Oo;function Fa(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[di]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=PE(e);e!==null;){if(r=e[Rn])return r;e=PE(e)}return t}e=r,r=e.parentNode}return null}function zu(e){return e=e[Rn]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Nh(e){return e[ou]||null}var hv=[],$s=-1;function xa(e){return{current:e}}function Ke(e){0>$s||(e.current=hv[$s],hv[$s]=null,$s--)}function Fe(e,t){$s++,hv[$s]=e.current,e.current=t}var ca={},lr=xa(ca),Ar=xa(!1),Ja=ca;function so(e,t){var r=e.type.contextTypes;if(!r)return ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function ef(){Ke(Ar),Ke(lr)}function TE(e,t,r){if(lr.current!==ca)throw Error(W(168));Fe(lr,t),Fe(Ar,r)}function kC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,eL(e)||"Unknown",i));return tt({},r,n)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,Ja=lr.current,Fe(lr,e),Fe(Ar,Ar.current),!0}function CE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=kC(e,t,Ja),n.__reactInternalMemoizedMergedChildContext=e,Ke(Ar),Ke(lr),Fe(lr,e)):Ke(Ar),Fe(Ar,r)}var Zn=null,Oh=!1,Xm=!1;function RC(e){Zn===null?Zn=[e]:Zn.push(e)}function vV(e){Oh=!0,RC(e)}function _a(){if(!Xm&&Zn!==null){Xm=!0;var e=0,t=Ne;try{var r=Zn;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zn=null,Oh=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),aC(m0,_a),i}finally{Ne=t,Xm=!1}}return null}var zs=[],Us=0,rf=null,nf=0,Qr=[],Yr=0,es=null,ri=1,ni="";function Oa(e,t){zs[Us++]=nf,zs[Us++]=rf,rf=e,nf=t}function DC(e,t,r){Qr[Yr++]=ri,Qr[Yr++]=ni,Qr[Yr++]=es,es=e;var n=ri;e=ni;var i=32-wn(n)-1;n&=~(1<<i),r+=1;var a=32-wn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ri=1<<32-wn(t)+i|r<<i|n,ni=a+e}else ri=1<<a|r<<i|n,ni=e}function S0(e){e.return!==null&&(Oa(e,1),DC(e,1,0))}function A0(e){for(;e===rf;)rf=zs[--Us],zs[Us]=null,nf=zs[--Us],zs[Us]=null;for(;e===es;)es=Qr[--Yr],Qr[Yr]=null,ni=Qr[--Yr],Qr[Yr]=null,ri=Qr[--Yr],Qr[Yr]=null}var Fr=null,Mr=null,Qe=!1,mn=null;function MC(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function IE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=es!==null?{id:ri,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fr=e,Mr=null,!0):!1;default:return!1}}function pv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mv(e){if(Qe){var t=Mr;if(t){var r=t;if(!IE(e,t)){if(pv(e))throw Error(W(418));t=Ji(r.nextSibling);var n=Fr;t&&IE(e,t)?MC(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Fr=e)}}else{if(pv(e))throw Error(W(418));e.flags=e.flags&-4097|2,Qe=!1,Fr=e}}}function jE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function Kc(e){if(e!==Fr)return!1;if(!Qe)return jE(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cv(e.type,e.memoizedProps)),t&&(t=Mr)){if(pv(e))throw LC(),Error(W(418));for(;t;)MC(e,t),t=Ji(t.nextSibling)}if(jE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=Ji(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Fr?Ji(e.stateNode.nextSibling):null;return!0}function LC(){for(var e=Mr;e;)e=Ji(e.nextSibling)}function oo(){Mr=Fr=null,Qe=!1}function P0(e){mn===null?mn=[e]:mn.push(e)}var yV=Pi.ReactCurrentBatchConfig;function pl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NE(e){var t=e._init;return t(e._payload)}function VC(e){function t(x,E){if(e){var A=x.deletions;A===null?(x.deletions=[E],x.flags|=16):A.push(E)}}function r(x,E){if(!e)return null;for(;E!==null;)t(x,E),E=E.sibling;return null}function n(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=na(x,E),x.index=0,x.sibling=null,x}function a(x,E,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<E?(x.flags|=2,E):A):(x.flags|=2,E)):(x.flags|=1048576,E)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,E,A,j){return E===null||E.tag!==6?(E=ig(A,x.mode,j),E.return=x,E):(E=i(E,A),E.return=x,E)}function l(x,E,A,j){var T=A.type;return T===Ds?c(x,E,A.props.children,j,A.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$i&&NE(T)===E.type)?(j=i(E,A.props),j.ref=pl(x,E,A),j.return=x,j):(j=Od(A.type,A.key,A.props,null,x.mode,j),j.ref=pl(x,E,A),j.return=x,j)}function u(x,E,A,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=ag(A,x.mode,j),E.return=x,E):(E=i(E,A.children||[]),E.return=x,E)}function c(x,E,A,j,T){return E===null||E.tag!==7?(E=Ha(A,x.mode,j,T),E.return=x,E):(E=i(E,A),E.return=x,E)}function d(x,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ig(""+E,x.mode,A),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:return A=Od(E.type,E.key,E.props,null,x.mode,A),A.ref=pl(x,null,E),A.return=x,A;case Rs:return E=ag(E,x.mode,A),E.return=x,E;case $i:var j=E._init;return d(x,j(E._payload),A)}if(Pl(E)||ul(E))return E=Ha(E,x.mode,A,null),E.return=x,E;Hc(x,E)}return null}function p(x,E,A,j){var T=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:o(x,E,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mc:return A.key===T?l(x,E,A,j):null;case Rs:return A.key===T?u(x,E,A,j):null;case $i:return T=A._init,p(x,E,T(A._payload),j)}if(Pl(A)||ul(A))return T!==null?null:c(x,E,A,j,null);Hc(x,A)}return null}function m(x,E,A,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(A)||null,o(E,x,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Mc:return x=x.get(j.key===null?A:j.key)||null,l(E,x,j,T);case Rs:return x=x.get(j.key===null?A:j.key)||null,u(E,x,j,T);case $i:var N=j._init;return m(x,E,A,N(j._payload),T)}if(Pl(j)||ul(j))return x=x.get(A)||null,c(E,x,j,T,null);Hc(E,j)}return null}function g(x,E,A,j){for(var T=null,N=null,b=E,S=E=0,I=null;b!==null&&S<A.length;S++){b.index>S?(I=b,b=null):I=b.sibling;var D=p(x,b,A[S],j);if(D===null){b===null&&(b=I);break}e&&b&&D.alternate===null&&t(x,b),E=a(D,E,S),N===null?T=D:N.sibling=D,N=D,b=I}if(S===A.length)return r(x,b),Qe&&Oa(x,S),T;if(b===null){for(;S<A.length;S++)b=d(x,A[S],j),b!==null&&(E=a(b,E,S),N===null?T=b:N.sibling=b,N=b);return Qe&&Oa(x,S),T}for(b=n(x,b);S<A.length;S++)I=m(b,x,S,A[S],j),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?S:I.key),E=a(I,E,S),N===null?T=I:N.sibling=I,N=I);return e&&b.forEach(function(C){return t(x,C)}),Qe&&Oa(x,S),T}function w(x,E,A,j){var T=ul(A);if(typeof T!="function")throw Error(W(150));if(A=T.call(A),A==null)throw Error(W(151));for(var N=T=null,b=E,S=E=0,I=null,D=A.next();b!==null&&!D.done;S++,D=A.next()){b.index>S?(I=b,b=null):I=b.sibling;var C=p(x,b,D.value,j);if(C===null){b===null&&(b=I);break}e&&b&&C.alternate===null&&t(x,b),E=a(C,E,S),N===null?T=C:N.sibling=C,N=C,b=I}if(D.done)return r(x,b),Qe&&Oa(x,S),T;if(b===null){for(;!D.done;S++,D=A.next())D=d(x,D.value,j),D!==null&&(E=a(D,E,S),N===null?T=D:N.sibling=D,N=D);return Qe&&Oa(x,S),T}for(b=n(x,b);!D.done;S++,D=A.next())D=m(b,x,S,D.value,j),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?S:D.key),E=a(D,E,S),N===null?T=D:N.sibling=D,N=D);return e&&b.forEach(function(k){return t(x,k)}),Qe&&Oa(x,S),T}function v(x,E,A,j){if(typeof A=="object"&&A!==null&&A.type===Ds&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Mc:e:{for(var T=A.key,N=E;N!==null;){if(N.key===T){if(T=A.type,T===Ds){if(N.tag===7){r(x,N.sibling),E=i(N,A.props.children),E.return=x,x=E;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$i&&NE(T)===N.type){r(x,N.sibling),E=i(N,A.props),E.ref=pl(x,N,A),E.return=x,x=E;break e}r(x,N);break}else t(x,N);N=N.sibling}A.type===Ds?(E=Ha(A.props.children,x.mode,j,A.key),E.return=x,x=E):(j=Od(A.type,A.key,A.props,null,x.mode,j),j.ref=pl(x,E,A),j.return=x,x=j)}return s(x);case Rs:e:{for(N=A.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(x,E.sibling),E=i(E,A.children||[]),E.return=x,x=E;break e}else{r(x,E);break}else t(x,E);E=E.sibling}E=ag(A,x.mode,j),E.return=x,x=E}return s(x);case $i:return N=A._init,v(x,E,N(A._payload),j)}if(Pl(A))return g(x,E,A,j);if(ul(A))return w(x,E,A,j);Hc(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(x,E.sibling),E=i(E,A),E.return=x,x=E):(r(x,E),E=ig(A,x.mode,j),E.return=x,x=E),s(x)):r(x,E)}return v}var lo=VC(!0),FC=VC(!1),af=xa(null),sf=null,Bs=null,T0=null;function C0(){T0=Bs=sf=null}function I0(e){var t=af.current;Ke(af),e._currentValue=t}function gv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){sf=e,T0=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Er=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(T0!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(sf===null)throw Error(W(308));Bs=e,sf.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var $a=null;function j0(e){$a===null?$a=[e]:$a.push(e)}function $C(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,j0(t)):(r.next=i.next,i.next=r),t.interleaved=r,fi(e,n)}function fi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function N0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,fi(e,r)}return i=n.interleaved,i===null?(t.next=t,j0(n)):(t.next=i.next,i.next=t),n.interleaved=t,fi(e,r)}function Pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}function OE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function of(e,t,r,n){var i=e.updateQueue;zi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,w=o;switch(p=t,m=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=tt({},d,p);break e;case 2:zi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);rs|=s,e.lanes=s,e.memoizedState=d}}function kE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Uu={},Ln=xa(Uu),lu=xa(Uu),uu=xa(Uu);function za(e){if(e===Uu)throw Error(W(174));return e}function O0(e,t){switch(Fe(uu,t),Fe(lu,e),Fe(Ln,Uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yg(t,e)}Ke(Ln),Fe(Ln,t)}function uo(){Ke(Ln),Ke(lu),Ke(uu)}function UC(e){za(uu.current);var t=za(Ln.current),r=Yg(t,e.type);t!==r&&(Fe(lu,e),Fe(Ln,r))}function k0(e){lu.current===e&&(Ke(Ln),Ke(lu))}var Je=xa(0);function lf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zm=[];function R0(){for(var e=0;e<Zm.length;e++)Zm[e]._workInProgressVersionPrimary=null;Zm.length=0}var Td=Pi.ReactCurrentDispatcher,Jm=Pi.ReactCurrentBatchConfig,ts=0,et=null,St=null,Vt=null,uf=!1,zl=!1,cu=0,wV=0;function Jt(){throw Error(W(321))}function D0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function M0(e,t,r,n,i,a){if(ts=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?EV:SV,e=r(n,i),zl){a=0;do{if(zl=!1,cu=0,25<=a)throw Error(W(301));a+=1,Vt=St=null,t.updateQueue=null,Td.current=AV,e=r(n,i)}while(zl)}if(Td.current=cf,t=St!==null&&St.next!==null,ts=0,Vt=St=et=null,uf=!1,t)throw Error(W(300));return e}function L0(){var e=cu!==0;return cu=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function nn(){if(St===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Vt===null?et.memoizedState:Vt.next;if(t!==null)Vt=t,St=e;else{if(e===null)throw Error(W(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function du(e,t){return typeof t=="function"?t(e):t}function eg(e){var t=nn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((ts&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,et.lanes|=c,rs|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,bn(n,t.memoizedState)||(Er=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,rs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tg(e){var t=nn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);bn(a,t.memoizedState)||(Er=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function BC(){}function qC(e,t){var r=et,n=nn(),i=t(),a=!bn(n.memoizedState,i);if(a&&(n.memoizedState=i,Er=!0),n=n.queue,V0(HC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,fu(9,KC.bind(null,r,n,i,t),void 0,null),$t===null)throw Error(W(349));ts&30||WC(r,t,i)}return i}function WC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KC(e,t,r,n){t.value=r,t.getSnapshot=n,GC(t)&&QC(e)}function HC(e,t,r){return r(function(){GC(t)&&QC(e)})}function GC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch{return!0}}function QC(e){var t=fi(e,1);t!==null&&xn(t,e,1,-1)}function RE(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:e},t.queue=e,e=e.dispatch=bV.bind(null,et,e),[t.memoizedState,e]}function fu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YC(){return nn().memoizedState}function Cd(e,t,r,n){var i=On();et.flags|=e,i.memoizedState=fu(1|t,r,void 0,n===void 0?null:n)}function kh(e,t,r,n){var i=nn();n=n===void 0?null:n;var a=void 0;if(St!==null){var s=St.memoizedState;if(a=s.destroy,n!==null&&D0(n,s.deps)){i.memoizedState=fu(t,r,a,n);return}}et.flags|=e,i.memoizedState=fu(1|t,r,a,n)}function DE(e,t){return Cd(8390656,8,e,t)}function V0(e,t){return kh(2048,8,e,t)}function XC(e,t){return kh(4,2,e,t)}function ZC(e,t){return kh(4,4,e,t)}function JC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eI(e,t,r){return r=r!=null?r.concat([e]):null,kh(4,4,JC.bind(null,t,e),r)}function F0(){}function tI(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rI(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nI(e,t,r){return ts&21?(bn(r,t)||(r=lC(),et.lanes|=r,rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=r)}function xV(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=Jm.transition;Jm.transition={};try{e(!1),t()}finally{Ne=r,Jm.transition=n}}function iI(){return nn().memoizedState}function _V(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aI(e))sI(t,r);else if(r=$C(e,t,r,n),r!==null){var i=hr();xn(r,e,n,i),oI(r,t,n)}}function bV(e,t,r){var n=ra(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aI(e))sI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,bn(o,s)){var l=t.interleaved;l===null?(i.next=i,j0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=$C(e,t,i,n),r!==null&&(i=hr(),xn(r,e,n,i),oI(r,t,n))}}function aI(e){var t=e.alternate;return e===et||t!==null&&t===et}function sI(e,t){zl=uf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}var cf={readContext:rn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},EV={readContext:rn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:DE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cd(4194308,4,JC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cd(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=On();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_V.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:RE,useDebugValue:F0,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=RE(!1),t=e[0];return e=xV.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,i=On();if(Qe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),$t===null)throw Error(W(349));ts&30||WC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,DE(HC.bind(null,n,a,e),[e]),n.flags|=2048,fu(9,KC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=On(),t=$t.identifierPrefix;if(Qe){var r=ni,n=ri;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SV={readContext:rn,useCallback:tI,useContext:rn,useEffect:V0,useImperativeHandle:eI,useInsertionEffect:XC,useLayoutEffect:ZC,useMemo:rI,useReducer:eg,useRef:YC,useState:function(){return eg(du)},useDebugValue:F0,useDeferredValue:function(e){var t=nn();return nI(t,St.memoizedState,e)},useTransition:function(){var e=eg(du)[0],t=nn().memoizedState;return[e,t]},useMutableSource:BC,useSyncExternalStore:qC,useId:iI,unstable_isNewReconciler:!1},AV={readContext:rn,useCallback:tI,useContext:rn,useEffect:V0,useImperativeHandle:eI,useInsertionEffect:XC,useLayoutEffect:ZC,useMemo:rI,useReducer:tg,useRef:YC,useState:function(){return tg(du)},useDebugValue:F0,useDeferredValue:function(e){var t=nn();return St===null?t.memoizedState=e:nI(t,St.memoizedState,e)},useTransition:function(){var e=tg(du)[0],t=nn().memoizedState;return[e,t]},useMutableSource:BC,useSyncExternalStore:qC,useId:iI,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rh={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),i=ra(e),a=si(n,i);a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),i=ra(e),a=si(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=ra(e),i=si(r,n);i.tag=2,t!=null&&(i.callback=t),t=ea(e,i,n),t!==null&&(xn(t,e,n,r),Pd(t,e,n))}};function ME(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!iu(r,n)||!iu(i,a):!0}function lI(e,t,r){var n=!1,i=ca,a=t.contextType;return typeof a=="object"&&a!==null?a=rn(a):(i=Pr(t)?Ja:lr.current,n=t.contextTypes,a=(n=n!=null)?so(e,i):ca),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function LE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rh.enqueueReplaceState(t,t.state,null)}function yv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},N0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=rn(a):(a=Pr(t)?Ja:lr.current,i.context=so(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(vv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rh.enqueueReplaceState(i,i.state,null),of(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var r="",n=t;do r+=JM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function rg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PV=typeof WeakMap=="function"?WeakMap:Map;function uI(e,t,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ff||(ff=!0,Iv=n),wv(e,t)},r}function cI(e,t,r){r=si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){wv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wv(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function VE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$V.bind(null,e,t,r),t.then(e,e))}function FE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $E(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=si(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var TV=Pi.ReactCurrentOwner,Er=!1;function cr(e,t,r,n){t.child=e===null?FC(t,null,r,n):lo(t,e.child,r,n)}function zE(e,t,r,n,i){r=r.render;var a=t.ref;return Zs(t,i),n=M0(e,t,r,n,a,i),r=L0(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&r&&S0(t),t.flags|=1,cr(e,t,n,i),t.child)}function UE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!H0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,dI(e,t,a,n,i)):(e=Od(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:iu,r(s,n)&&e.ref===t.ref)return hi(e,t,i)}return t.flags|=1,e=na(a,n),e.ref=t.ref,e.return=t,t.child=e}function dI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(iu(a,n)&&e.ref===t.ref)if(Er=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Er=!0);else return t.lanes=e.lanes,hi(e,t,i)}return xv(e,t,r,n,i)}function fI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ws,kr),kr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Ws,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Fe(Ws,kr),kr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Fe(Ws,kr),kr|=n;return cr(e,t,i,r),t.child}function hI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xv(e,t,r,n,i){var a=Pr(r)?Ja:lr.current;return a=so(t,a),Zs(t,i),r=M0(e,t,r,n,a,i),n=L0(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&n&&S0(t),t.flags|=1,cr(e,t,r,i),t.child)}function BE(e,t,r,n,i){if(Pr(r)){var a=!0;tf(t)}else a=!1;if(Zs(t,i),t.stateNode===null)Id(e,t),lI(t,r,n),yv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Pr(r)?Ja:lr.current,u=so(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&LE(t,s,n,u),zi=!1;var p=t.memoizedState;s.state=p,of(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Ar.current||zi?(typeof c=="function"&&(vv(t,r,c,n),l=t.memoizedState),(o=zi||ME(t,r,o,n,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,zC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:hn(t.type,o),s.props=u,d=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Pr(r)?Ja:lr.current,l=so(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&LE(t,s,n,l),zi=!1,p=t.memoizedState,s.state=p,of(t,n,s,i);var g=t.memoizedState;o!==d||p!==g||Ar.current||zi?(typeof m=="function"&&(vv(t,r,m,n),g=t.memoizedState),(u=zi||ME(t,r,u,n,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return _v(e,t,r,n,a,i)}function _v(e,t,r,n,i,a){hI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&CE(t,r,!1),hi(e,t,a);n=t.stateNode,TV.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=lo(t,e.child,null,a),t.child=lo(t,null,o,a)):cr(e,t,o,a),t.memoizedState=n.state,i&&CE(t,r,!0),t.child}function pI(e){var t=e.stateNode;t.pendingContext?TE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TE(e,t.context,!1),O0(e,t.containerInfo)}function qE(e,t,r,n,i){return oo(),P0(i),t.flags|=256,cr(e,t,r,n),t.child}var bv={dehydrated:null,treeContext:null,retryLane:0};function Ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function mI(e,t,r){var n=t.pendingProps,i=Je.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Je,i&1),e===null)return mv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lh(s,n,0,null),e=Ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ev(r),t.memoizedState=bv,e):$0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return CV(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=na(o,a):(a=Ha(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Ev(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=bv,n}return a=e.child,e=a.sibling,n=na(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $0(e,t){return t=Lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,r,n){return n!==null&&P0(n),lo(t,e.child,null,r),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CV(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=rg(Error(W(422))),Gc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Lh({mode:"visible",children:n.children},i,0,null),a=Ha(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&lo(t,e.child,null,s),t.child.memoizedState=Ev(s),t.memoizedState=bv,a);if(!(t.mode&1))return Gc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(W(419)),n=rg(a,n,void 0),Gc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Er||o){if(n=$t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fi(e,i),xn(n,e,i,-1))}return K0(),n=rg(Error(W(421))),Gc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mr=Ji(i.nextSibling),Fr=t,Qe=!0,mn=null,e!==null&&(Qr[Yr++]=ri,Qr[Yr++]=ni,Qr[Yr++]=es,ri=e.id,ni=e.overflow,es=t),t=$0(t,n.children),t.flags|=4096,t)}function WE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gv(e.return,t,r)}function ng(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function gI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(cr(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WE(e,r,t);else if(e.tag===19)WE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&lf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ng(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ng(t,!0,r,null,a);break;case"together":ng(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IV(e,t,r){switch(t.tag){case 3:pI(t),oo();break;case 5:UC(t);break;case 1:Pr(t.type)&&tf(t);break;case 4:O0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Fe(af,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?mI(e,t,r):(Fe(Je,Je.current&1),e=hi(e,t,r),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,fI(e,t,r)}return hi(e,t,r)}var vI,Sv,yI,wI;vI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sv=function(){};yI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,za(Ln.current);var a=null;switch(r){case"input":i=Kg(e,i),n=Kg(e,n),a=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),a=[];break;case"textarea":i=Qg(e,i),n=Qg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jd)}Xg(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};wI=function(e,t,r,n){r!==n&&(t.flags|=4)};function ml(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jV(e,t,r){var n=t.pendingProps;switch(A0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Pr(t.type)&&ef(),er(t),null;case 3:return n=t.stateNode,uo(),Ke(Ar),Ke(lr),R0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Ov(mn),mn=null))),Sv(e,t),er(t),null;case 5:k0(t);var i=za(uu.current);if(r=t.type,e!==null&&t.stateNode!=null)yI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return er(t),null}if(e=za(Ln.current),Kc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Rn]=t,n[ou]=a,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<Cl.length;i++)Be(Cl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":eE(n,a),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Be("invalid",n);break;case"textarea":rE(n,a),Be("invalid",n)}Xg(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",""+o]):Xl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Be("scroll",n)}switch(r){case"input":Lc(n),tE(n,a,!0);break;case"textarea":Lc(n),nE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Jd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Rn]=t,e[ou]=n,vI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Zg(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cl.length;i++)Be(Cl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":eE(e,n),i=Kg(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),Be("invalid",e);break;case"textarea":rE(e,n),i=Qg(e,n),Be("invalid",e);break;default:i=n}Xg(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?YT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Be("scroll",e):l!=null&&c0(e,a,l,s))}switch(r){case"input":Lc(e),tE(e,n,!1);break;case"textarea":Lc(e),nE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ua(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Gs(e,!!n.multiple,a,!1):n.defaultValue!=null&&Gs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)wI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=za(uu.current),za(Ln.current),Kc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rn]=t,(a=n.nodeValue!==r)&&(e=Fr,e!==null))switch(e.tag){case 3:Wc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rn]=t,t.stateNode=n}return er(t),null;case 13:if(Ke(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Mr!==null&&t.mode&1&&!(t.flags&128))LC(),oo(),t.flags|=98560,a=!1;else if(a=Kc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Rn]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),a=!1}else mn!==null&&(Ov(mn),mn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?Tt===0&&(Tt=3):K0())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return uo(),Sv(e,t),e===null&&au(t.stateNode.containerInfo),er(t),null;case 10:return I0(t.type._context),er(t),null;case 17:return Pr(t.type)&&ef(),er(t),null;case 19:if(Ke(Je),a=t.memoizedState,a===null)return er(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ml(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=lf(e),s!==null){for(t.flags|=128,ml(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>fo&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304)}else{if(!n)if(e=lf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return er(t),null}else 2*ct()-a.renderingStartTime>fo&&r!==1073741824&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=Je.current,Fe(Je,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return W0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kr&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function NV(e,t){switch(A0(t),t.tag){case 1:return Pr(t.type)&&ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Ke(Ar),Ke(lr),R0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(Ke(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Je),null;case 4:return uo(),null;case 10:return I0(t.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var Qc=!1,ir=!1,OV=typeof WeakSet=="function"?WeakSet:Set,J=null;function qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function Av(e,t,r){try{r()}catch(n){at(e,t,n)}}var KE=!1;function kV(e,t){if(lv=Yd,e=SC(),E0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uv={focusedElem:e,selectionRange:r},Yd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,v=g.memoizedState,x=t.stateNode,E=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:hn(t.type,w),v);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){at(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=KE,KE=!1,g}function Ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Av(t,r,a)}i=i.next}while(i!==n)}}function Dh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xI(e){var t=e.alternate;t!==null&&(e.alternate=null,xI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[ou],delete t[fv],delete t[mV],delete t[gV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _I(e){return e.tag===5||e.tag===3||e.tag===4}function HE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_I(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jd));else if(n!==4&&(e=e.child,e!==null))for(Tv(e,t,r),e=e.sibling;e!==null;)Tv(e,t,r),e=e.sibling}function Cv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cv(e,t,r),e=e.sibling;e!==null;)Cv(e,t,r),e=e.sibling}var Kt=null,pn=!1;function Fi(e,t,r){for(r=r.child;r!==null;)bI(e,t,r),r=r.sibling}function bI(e,t,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Th,r)}catch{}switch(r.tag){case 5:ir||qs(r,t);case 6:var n=Kt,i=pn;Kt=null,Fi(e,t,r),Kt=n,pn=i,Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?Ym(e.parentNode,r):e.nodeType===1&&Ym(e,r),ru(e)):Ym(Kt,r.stateNode));break;case 4:n=Kt,i=pn,Kt=r.stateNode.containerInfo,pn=!0,Fi(e,t,r),Kt=n,pn=i;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Av(r,t,s),i=i.next}while(i!==n)}Fi(e,t,r);break;case 1:if(!ir&&(qs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){at(r,t,o)}Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Fi(e,t,r),ir=n):Fi(e,t,r);break;default:Fi(e,t,r)}}function GE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OV),t.forEach(function(n){var i=UV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,pn=!1;break e;case 3:Kt=o.stateNode.containerInfo,pn=!0;break e;case 4:Kt=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(Kt===null)throw Error(W(160));bI(a,s,i),Kt=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EI(t,e),t=t.sibling}function EI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Nn(e),n&4){try{Ul(3,e,e.return),Dh(3,e)}catch(w){at(e,e.return,w)}try{Ul(5,e,e.return)}catch(w){at(e,e.return,w)}}break;case 1:dn(t,e),Nn(e),n&512&&r!==null&&qs(r,r.return);break;case 5:if(dn(t,e),Nn(e),n&512&&r!==null&&qs(r,r.return),e.flags&32){var i=e.stateNode;try{Zl(i,"")}catch(w){at(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&WT(i,a),Zg(o,s);var u=Zg(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?YT(i,d):c==="dangerouslySetInnerHTML"?GT(i,d):c==="children"?Zl(i,d):c0(i,c,d,u)}switch(o){case"input":Hg(i,a);break;case"textarea":KT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Gs(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Gs(i,!!a.multiple,a.defaultValue,!0):Gs(i,!!a.multiple,a.multiple?[]:"",!1))}i[ou]=a}catch(w){at(e,e.return,w)}}break;case 6:if(dn(t,e),Nn(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){at(e,e.return,w)}}break;case 3:if(dn(t,e),Nn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(w){at(e,e.return,w)}break;case 4:dn(t,e),Nn(e);break;case 13:dn(t,e),Nn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=ct())),n&4&&GE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(u=ir)||c,dn(t,e),ir=u):dn(t,e),Nn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ul(4,p,p.return);break;case 1:qs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){at(n,r,w)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){YE(d);continue}}m!==null?(m.return=p,J=m):YE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QT("display",s))}catch(w){at(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){at(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dn(t,e),Nn(e),n&4&&GE(e);break;case 21:break;default:dn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_I(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zl(i,""),n.flags&=-33);var a=HE(e);Cv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=HE(e);Tv(e,o,s);break;default:throw Error(W(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RV(e,t,r){J=e,SI(e)}function SI(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Qc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ir;o=Qc;var u=ir;if(Qc=s,(ir=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?XE(i):l!==null?(l.return=s,J=l):XE(i);for(;a!==null;)J=a,SI(a),a=a.sibling;J=i,Qc=o,ir=u}QE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):QE(e)}}function QE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||Dh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:hn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kE(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kE(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ru(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ir||t.flags&512&&Pv(t)}catch(p){at(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function YE(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function XE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dh(4,t)}catch(l){at(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){at(t,i,l)}}var a=t.return;try{Pv(t)}catch(l){at(t,a,l)}break;case 5:var s=t.return;try{Pv(t)}catch(l){at(t,s,l)}}}catch(l){at(t,t.return,l)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var DV=Math.ceil,df=Pi.ReactCurrentDispatcher,z0=Pi.ReactCurrentOwner,en=Pi.ReactCurrentBatchConfig,Ae=0,$t=null,gt=null,Yt=0,kr=0,Ws=xa(0),Tt=0,hu=null,rs=0,Mh=0,U0=0,Bl=null,_r=null,B0=0,fo=1/0,Xn=null,ff=!1,Iv=null,ta=null,Yc=!1,Gi=null,hf=0,ql=0,jv=null,jd=-1,Nd=0;function hr(){return Ae&6?ct():jd!==-1?jd:jd=ct()}function ra(e){return e.mode&1?Ae&2&&Yt!==0?Yt&-Yt:yV.transition!==null?(Nd===0&&(Nd=lC()),Nd):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:mC(e.type)),e):1}function xn(e,t,r,n){if(50<ql)throw ql=0,jv=null,Error(W(185));Fu(e,r,n),(!(Ae&2)||e!==$t)&&(e===$t&&(!(Ae&2)&&(Mh|=r),Tt===4&&Wi(e,Yt)),Tr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(fo=ct()+500,Oh&&_a()))}function Tr(e,t){var r=e.callbackNode;yL(e,t);var n=Qd(e,e===$t?Yt:0);if(n===0)r!==null&&sE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sE(r),t===1)e.tag===0?vV(ZE.bind(null,e)):RC(ZE.bind(null,e)),hV(function(){!(Ae&6)&&_a()}),r=null;else{switch(uC(n)){case 1:r=m0;break;case 4:r=sC;break;case 16:r=Gd;break;case 536870912:r=oC;break;default:r=Gd}r=OI(r,AI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AI(e,t){if(jd=-1,Nd=0,Ae&6)throw Error(W(327));var r=e.callbackNode;if(Js()&&e.callbackNode!==r)return null;var n=Qd(e,e===$t?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pf(e,n);else{t=n;var i=Ae;Ae|=2;var a=TI();($t!==e||Yt!==t)&&(Xn=null,fo=ct()+500,Ka(e,t));do try{VV();break}catch(o){PI(e,o)}while(!0);C0(),df.current=a,Ae=i,gt!==null?t=0:($t=null,Yt=0,t=Tt)}if(t!==0){if(t===2&&(i=nv(e),i!==0&&(n=i,t=Nv(e,i))),t===1)throw r=hu,Ka(e,0),Wi(e,n),Tr(e,ct()),r;if(t===6)Wi(e,n);else{if(i=e.current.alternate,!(n&30)&&!MV(i)&&(t=pf(e,n),t===2&&(a=nv(e),a!==0&&(n=a,t=Nv(e,a))),t===1))throw r=hu,Ka(e,0),Wi(e,n),Tr(e,ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:ka(e,_r,Xn);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=B0+500-ct(),10<t)){if(Qd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dv(ka.bind(null,e,_r,Xn),t);break}ka(e,_r,Xn);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-wn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DV(n/1960))-n,10<n){e.timeoutHandle=dv(ka.bind(null,e,_r,Xn),n);break}ka(e,_r,Xn);break;case 5:ka(e,_r,Xn);break;default:throw Error(W(329))}}}return Tr(e,ct()),e.callbackNode===r?AI.bind(null,e):null}function Nv(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=pf(e,t),e!==2&&(t=_r,_r=r,t!==null&&Ov(t)),e}function Ov(e){_r===null?_r=e:_r.push.apply(_r,e)}function MV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~U0,t&=~Mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wn(t),n=1<<r;e[r]=-1,t&=~n}}function ZE(e){if(Ae&6)throw Error(W(327));Js();var t=Qd(e,0);if(!(t&1))return Tr(e,ct()),null;var r=pf(e,t);if(e.tag!==0&&r===2){var n=nv(e);n!==0&&(t=n,r=Nv(e,n))}if(r===1)throw r=hu,Ka(e,0),Wi(e,t),Tr(e,ct()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,_r,Xn),Tr(e,ct()),null}function q0(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(fo=ct()+500,Oh&&_a())}}function ns(e){Gi!==null&&Gi.tag===0&&!(Ae&6)&&Js();var t=Ae;Ae|=1;var r=en.transition,n=Ne;try{if(en.transition=null,Ne=1,e)return e()}finally{Ne=n,en.transition=r,Ae=t,!(Ae&6)&&_a()}}function W0(){kr=Ws.current,Ke(Ws)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fV(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(A0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ef();break;case 3:uo(),Ke(Ar),Ke(lr),R0();break;case 5:k0(n);break;case 4:uo();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:I0(n.type._context);break;case 22:case 23:W0()}r=r.return}if($t=e,gt=e=na(e.current,null),Yt=kr=t,Tt=0,hu=null,U0=Mh=rs=0,_r=Bl=null,$a!==null){for(t=0;t<$a.length;t++)if(r=$a[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}$a=null}return e}function PI(e,t){do{var r=gt;try{if(C0(),Td.current=cf,uf){for(var n=et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uf=!1}if(ts=0,Vt=St=et=null,zl=!1,cu=0,z0.current=null,r===null||r.return===null){Tt=1,hu=t,gt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Yt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=FE(s);if(m!==null){m.flags&=-257,$E(m,s,o,a,t),m.mode&1&&VE(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){VE(a,u,t),K0();break e}l=Error(W(426))}}else if(Qe&&o.mode&1){var v=FE(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),$E(v,s,o,a,t),P0(co(l,o));break e}}a=l=co(l,o),Tt!==4&&(Tt=2),Bl===null?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=uI(a,l,t);OE(a,x);break e;case 1:o=l;var E=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ta===null||!ta.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=cI(a,o,t);OE(a,j);break e}}a=a.return}while(a!==null)}II(r)}catch(T){t=T,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function TI(){var e=df.current;return df.current=cf,e===null?cf:e}function K0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(rs&268435455)&&!(Mh&268435455)||Wi($t,Yt)}function pf(e,t){var r=Ae;Ae|=2;var n=TI();($t!==e||Yt!==t)&&(Xn=null,Ka(e,t));do try{LV();break}catch(i){PI(e,i)}while(!0);if(C0(),Ae=r,df.current=n,gt!==null)throw Error(W(261));return $t=null,Yt=0,Tt}function LV(){for(;gt!==null;)CI(gt)}function VV(){for(;gt!==null&&!uL();)CI(gt)}function CI(e){var t=NI(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?II(e):gt=t,z0.current=null}function II(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NV(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,gt=null;return}}else if(r=jV(r,t,kr),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);Tt===0&&(Tt=5)}function ka(e,t,r){var n=Ne,i=en.transition;try{en.transition=null,Ne=1,FV(e,t,r,n)}finally{en.transition=i,Ne=n}return null}function FV(e,t,r,n){do Js();while(Gi!==null);if(Ae&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(wL(e,a),e===$t&&(gt=$t=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yc||(Yc=!0,OI(Gd,function(){return Js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=en.transition,en.transition=null;var s=Ne;Ne=1;var o=Ae;Ae|=4,z0.current=null,kV(e,r),EI(r,e),aV(uv),Yd=!!lv,uv=lv=null,e.current=r,RV(r),cL(),Ae=o,Ne=s,en.transition=a}else e.current=r;if(Yc&&(Yc=!1,Gi=e,hf=i),a=e.pendingLanes,a===0&&(ta=null),hL(r.stateNode),Tr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ff)throw ff=!1,e=Iv,Iv=null,e;return hf&1&&e.tag!==0&&Js(),a=e.pendingLanes,a&1?e===jv?ql++:(ql=0,jv=e):ql=0,_a(),null}function Js(){if(Gi!==null){var e=uC(hf),t=en.transition,r=Ne;try{if(en.transition=null,Ne=16>e?16:e,Gi===null)var n=!1;else{if(e=Gi,Gi=null,hf=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,J=e.current;J!==null;){var a=J,s=a.child;if(J.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ul(8,c,a)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(xI(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}J=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,J=s;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ul(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}var E=e.current;for(J=E;J!==null;){s=J;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,J=A;else e:for(s=E;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dh(9,o)}}catch(T){at(o,o.return,T)}if(o===s){J=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,J=j;break e}J=o.return}}if(Ae=i,_a(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Th,e)}catch{}n=!0}return n}finally{Ne=r,en.transition=t}}return!1}function JE(e,t,r){t=co(r,t),t=uI(e,t,1),e=ea(e,t,1),t=hr(),e!==null&&(Fu(e,1,t),Tr(e,t))}function at(e,t,r){if(e.tag===3)JE(e,e,r);else for(;t!==null;){if(t.tag===3){JE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=co(r,e),e=cI(t,e,1),t=ea(t,e,1),e=hr(),t!==null&&(Fu(t,1,e),Tr(t,e));break}}t=t.return}}function $V(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,$t===e&&(Yt&r)===r&&(Tt===4||Tt===3&&(Yt&130023424)===Yt&&500>ct()-B0?Ka(e,0):U0|=r),Tr(e,t)}function jI(e,t){t===0&&(e.mode&1?(t=$c,$c<<=1,!($c&130023424)&&($c=4194304)):t=1);var r=hr();e=fi(e,t),e!==null&&(Fu(e,t,r),Tr(e,r))}function zV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jI(e,r)}function UV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),jI(e,r)}var NI;NI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)Er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Er=!1,IV(e,t,r);Er=!!(e.flags&131072)}else Er=!1,Qe&&t.flags&1048576&&DC(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Id(e,t),e=t.pendingProps;var i=so(t,lr.current);Zs(t,r),i=M0(null,t,n,e,i,r);var a=L0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(a=!0,tf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(t),i.updater=Rh,t.stateNode=i,i._reactInternals=t,yv(t,n,e,r),t=_v(null,t,n,!0,a,r)):(t.tag=0,Qe&&a&&S0(t),cr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=qV(n),e=hn(n,e),i){case 0:t=xv(null,t,n,e,r);break e;case 1:t=BE(null,t,n,e,r);break e;case 11:t=zE(null,t,n,e,r);break e;case 14:t=UE(null,t,n,hn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),xv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),BE(e,t,n,i,r);case 3:e:{if(pI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,zC(e,t),of(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=co(Error(W(423)),t),t=qE(e,t,n,r,i);break e}else if(n!==i){i=co(Error(W(424)),t),t=qE(e,t,n,r,i);break e}else for(Mr=Ji(t.stateNode.containerInfo.firstChild),Fr=t,Qe=!0,mn=null,r=FC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),n===i){t=hi(e,t,r);break e}cr(e,t,n,r)}t=t.child}return t;case 5:return UC(t),e===null&&mv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,cv(n,i)?s=null:a!==null&&cv(n,a)&&(t.flags|=32),hI(e,t),cr(e,t,s,r),t.child;case 6:return e===null&&mv(t),null;case 13:return mI(e,t,r);case 4:return O0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lo(t,null,n,r):cr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),zE(e,t,n,i,r);case 7:return cr(e,t,t.pendingProps,r),t.child;case 8:return cr(e,t,t.pendingProps.children,r),t.child;case 12:return cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Fe(af,n._currentValue),n._currentValue=s,a!==null)if(bn(a.value,s)){if(a.children===i.children&&!Ar.current){t=hi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=si(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(W(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),gv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}cr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zs(t,r),i=rn(i),n=n(i),t.flags|=1,cr(e,t,n,r),t.child;case 14:return n=t.type,i=hn(n,t.pendingProps),i=hn(n.type,i),UE(e,t,n,i,r);case 15:return dI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),Id(e,t),t.tag=1,Pr(n)?(e=!0,tf(t)):e=!1,Zs(t,r),lI(t,n,i),yv(t,n,i,r),_v(null,t,n,!0,e,r);case 19:return gI(e,t,r);case 22:return fI(e,t,r)}throw Error(W(156,t.tag))};function OI(e,t){return aC(e,t)}function BV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new BV(e,t,r,n)}function H0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qV(e){if(typeof e=="function")return H0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===f0)return 11;if(e===h0)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Od(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")H0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ds:return Ha(r.children,i,a,t);case d0:s=8,i|=8;break;case Ug:return e=Zr(12,r,t,i|2),e.elementType=Ug,e.lanes=a,e;case Bg:return e=Zr(13,r,t,i),e.elementType=Bg,e.lanes=a,e;case qg:return e=Zr(19,r,t,i),e.elementType=qg,e.lanes=a,e;case UT:return Lh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $T:s=10;break e;case zT:s=9;break e;case f0:s=11;break e;case h0:s=14;break e;case $i:s=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Zr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ha(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function Lh(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=UT,e.lanes=r,e.stateNode={isHidden:!1},e}function ig(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function ag(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(e,t,r,n,i,a,s,o,l){return e=new WV(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(a),e}function KV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kI(e){if(!e)return ca;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Pr(r))return kC(e,r,t)}return t}function RI(e,t,r,n,i,a,s,o,l){return e=G0(r,n,!0,e,i,a,s,o,l),e.context=kI(null),r=e.current,n=hr(),i=ra(r),a=si(n,i),a.callback=t??null,ea(r,a,i),e.current.lanes=i,Fu(e,i,n),Tr(e,n),e}function Vh(e,t,r,n){var i=t.current,a=hr(),s=ra(i);return r=kI(r),t.context===null?t.context=r:t.pendingContext=r,t=si(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(i,t,s),e!==null&&(xn(e,i,s,a),Pd(e,i,s)),s}function mf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q0(e,t){e1(e,t),(e=e.alternate)&&e1(e,t)}function HV(){return null}var DI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y0(e){this._internalRoot=e}Fh.prototype.render=Y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Vh(e,t,null,null)};Fh.prototype.unmount=Y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){Vh(null,e,null,null)}),t[di]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=fC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qi.length&&t!==0&&t<qi[r].priority;r++);qi.splice(r,0,e),r===0&&pC(e)}};function X0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t1(){}function GV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=mf(s);a.call(u)}}var s=RI(t,n,e,0,null,!1,!1,"",t1);return e._reactRootContainer=s,e[di]=s.current,au(e.nodeType===8?e.parentNode:e),ns(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=mf(l);o.call(u)}}var l=G0(e,0,!1,null,null,!1,!1,"",t1);return e._reactRootContainer=l,e[di]=l.current,au(e.nodeType===8?e.parentNode:e),ns(function(){Vh(t,l,r,n)}),l}function zh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=mf(s);o.call(l)}}Vh(t,s,e,i)}else s=GV(r,t,e,i,n);return mf(s)}cC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Tl(t.pendingLanes);r!==0&&(g0(t,r|1),Tr(t,ct()),!(Ae&6)&&(fo=ct()+500,_a()))}break;case 13:ns(function(){var n=fi(e,1);if(n!==null){var i=hr();xn(n,e,1,i)}}),Q0(e,1)}};v0=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var r=hr();xn(t,e,134217728,r)}Q0(e,134217728)}};dC=function(e){if(e.tag===13){var t=ra(e),r=fi(e,t);if(r!==null){var n=hr();xn(r,e,t,n)}Q0(e,t)}};fC=function(){return Ne};hC=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};ev=function(e,t,r){switch(t){case"input":if(Hg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Nh(n);if(!i)throw Error(W(90));qT(n),Hg(n,i)}}}break;case"textarea":KT(e,r);break;case"select":t=r.value,t!=null&&Gs(e,!!r.multiple,t,!1)}};JT=q0;eC=ns;var QV={usingClientEntryPoint:!1,Events:[zu,Fs,Nh,XT,ZT,q0]},gl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YV={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nC(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Th=Xc.inject(YV),Mn=Xc}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QV;Br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(t))throw Error(W(200));return KV(e,t,null,r)};Br.createRoot=function(e,t){if(!X0(e))throw Error(W(299));var r=!1,n="",i=DI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=G0(e,1,!1,null,null,r,!1,n,i),e[di]=t.current,au(e.nodeType===8?e.parentNode:e),new Y0(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=nC(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return ns(e)};Br.hydrate=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!0,r)};Br.hydrateRoot=function(e,t,r){if(!X0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=DI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=RI(t,null,e,1,r??null,i,!1,a,s),e[di]=t.current,au(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fh(t)};Br.render=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!1,r)};Br.unmountComponentAtNode=function(e){if(!$h(e))throw Error(W(40));return e._reactRootContainer?(ns(function(){zh(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Br.unstable_batchedUpdates=q0;Br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$h(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return zh(e,t,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function MI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MI)}catch(e){console.error(e)}}MI(),MT.exports=Br;var Bn=MT.exports,r1=Bn;$g.createRoot=r1.createRoot,$g.hydrateRoot=r1.hydrateRoot;const n1="incidents",i1="automation_rules",a1="system_tags",XV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ge={getIncidents:()=>{try{const e=localStorage.getItem(n1);if(!e)return[];const t=JSON.parse(e);return XV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(n1,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ge.getIncidents();return t.push(e),ge.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ge.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ge.saveIncidents(r)),r},deleteIncident:e=>{const t=ge.getIncidents().filter(r=>r.id!==e);return ge.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},addTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r),ge.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(a1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(a1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ge.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ge.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ge.getSystemTags().filter(r=>r!==e);return ge.saveSystemTags(t),t},getAllTags:()=>ge.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ge.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ge.saveIncidents(t),ge.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ge.getIncidents(),a=i.find(s=>s.id===e);if(a){const s={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(s)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(s)),a.updatedAt=new Date().toISOString(),ge.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ge.getIncidents(),s=a.find(o=>o.id===e);if(s){let o=t==="qa2"?s.prQA2List:s.prMainList;if(o){const l=o.findIndex(u=>u.id===r);l!==-1&&(o[l]={...o[l],link:n,description:i},s.updatedAt=new Date().toISOString(),ge.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(i1);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(i1,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ge.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ge.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ge.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ge.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ge.getAutomationRules().filter(r=>r.id!==e);return ge.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ge.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(s=>{const o=n[s.field];switch(s.operator){case"equals":return o===s.value;case"not-equals":return o!==s.value;case"greater-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>s.value:!1;case"less-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<s.value:!1;case"contains":return s.field==="has-tag"&&n.tags?n.tags.includes(s.value):!1;default:return!1}})&&i.actions.forEach(s=>{switch(s.type){case"set-priority":n.priority=s.value;break;case"set-status":n.status=s.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(s.value)||n.tags.push(s.value);break;case"assign-to":n.assignedTo=s.value;break}})}),n}},s1="users",Zc="current_user",yr={getUsers:()=>{const e=localStorage.getItem(s1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(s1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=yr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),yr.saveUsers(n),i},login:(e,t)=>{const n=yr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Zc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Zc)},getCurrentUser:()=>{const e=localStorage.getItem(Zc);return e?JSON.parse(e):null},isAuthenticated:()=>yr.getCurrentUser()!==null,initializeDefaultUser:()=>{yr.getUsers().length===0&&yr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=yr.getUsers(),n=r.findIndex(s=>s.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(s=>s.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,yr.saveUsers(r);const a=yr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Zc,JSON.stringify(i)),i},deleteUser:e=>{const t=yr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");yr.saveUsers(r)}},ZV=()=>{};var o1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},JV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},VI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(LI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new e4;const p=a<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t4=function(e){const t=LI(e);return VI.encodeByteArray(t,!0)},gf=function(e){return t4(e).replace(/\./g,"")},r4=function(e){try{return VI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=()=>n4().__FIREBASE_DEFAULTS__,a4=()=>{if(typeof process>"u"||typeof o1>"u")return;const e=o1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},s4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r4(e[1]);return t&&JSON.parse(t)},Z0=()=>{try{return ZV()||i4()||a4()||s4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},o4=e=>{var t,r;return(r=(t=Z0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},l4=e=>{const t=o4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},FI=()=>{var e;return(e=Z0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gf(JSON.stringify(r)),gf(JSON.stringify(s)),""].join(".")}const Wl={};function f4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?e.emulator.push(t):e.prod.push(t);return e}function h4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let l1=!1;function p4(e,t){if(typeof window>"u"||typeof document>"u"||!J0(window.location.host)||Wl[e]===t||Wl[e]||l1)return;Wl[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=f4().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{l1=!0,s()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=h4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),w=r("learnmore"),v=document.getElementById(w)||document.createElement("a"),x=r("preprendIcon"),E=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;o(A),c(v,w);const j=u();l(E,x),A.append(E,g,v,j),document.body.appendChild(A)}a?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g4(){var t;const e=(t=Z0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v4(){return!g4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y4(){try{return typeof indexedDB=="object"}catch{return!1}}function w4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="FirebaseError";class ko extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=x4,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$I.prototype.create)}}class $I{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?_4(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ko(i,o,n)}}function _4(e,t){return e.replace(b4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const b4=/\{\$([^}]+)}/g;function vf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(u1(a)&&u1(s)){if(!vf(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function u1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e){return e&&e._delegate?e._delegate:e}class pu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new u4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A4(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:S4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function S4(e){return e===Ra?void 0:e}function A4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new E4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const T4={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},C4=Se.INFO,I4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},j4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=I4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zI{constructor(t){this.name=t,this._logLevel=C4,this._logHandler=j4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?T4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const N4=(e,t)=>t.some(r=>e instanceof r);let c1,d1;function O4(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,kv=new WeakMap,BI=new WeakMap,sg=new WeakMap,ew=new WeakMap;function R4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(ia(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&UI.set(r,e)}).catch(()=>{}),ew.set(t,e),t}function D4(e){if(kv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});kv.set(e,t)}let Rv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return kv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||BI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function M4(e){Rv=e(Rv)}function L4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(og(this),t,...r);return BI.set(n,t.sort?t.sort():[t]),ia(n)}:k4().includes(e)?function(...t){return e.apply(og(this),t),ia(UI.get(this))}:function(...t){return ia(e.apply(og(this),t))}}function V4(e){return typeof e=="function"?L4(e):(e instanceof IDBTransaction&&D4(e),N4(e,O4())?new Proxy(e,Rv):e)}function ia(e){if(e instanceof IDBRequest)return R4(e);if(sg.has(e))return sg.get(e);const t=V4(e);return t!==e&&(sg.set(e,t),ew.set(t,e)),t}const og=e=>ew.get(e);function F4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ia(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ia(s.result),l.oldVersion,l.newVersion,ia(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const $4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],lg=new Map;function f1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lg.get(t))return lg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=z4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$4.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return lg.set(t,a),a}M4(e=>({...e,get:(t,r,n)=>f1(t,r)||e.get(t,r,n),has:(t,r)=>!!f1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(B4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function B4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dv="@firebase/app",h1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new zI("@firebase/app"),q4="@firebase/app-compat",W4="@firebase/analytics-compat",K4="@firebase/analytics",H4="@firebase/app-check-compat",G4="@firebase/app-check",Q4="@firebase/auth",Y4="@firebase/auth-compat",X4="@firebase/database",Z4="@firebase/data-connect",J4="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",r3="@firebase/installations",n3="@firebase/installations-compat",i3="@firebase/messaging",a3="@firebase/messaging-compat",s3="@firebase/performance",o3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",d3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/ai",p3="@firebase/firestore-compat",m3="firebase",g3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="[DEFAULT]",v3={[Dv]:"fire-core",[q4]:"fire-core-compat",[K4]:"fire-analytics",[W4]:"fire-analytics-compat",[G4]:"fire-app-check",[H4]:"fire-app-check-compat",[Q4]:"fire-auth",[Y4]:"fire-auth-compat",[X4]:"fire-rtdb",[Z4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[r3]:"fire-iid",[n3]:"fire-iid-compat",[i3]:"fire-fcm",[a3]:"fire-fcm-compat",[s3]:"fire-perf",[o3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[d3]:"fire-gcs-compat",[f3]:"fire-fst",[p3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[m3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,y3=new Map,Lv=new Map;function p1(e,t){try{e.container.addComponent(t)}catch(r){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function wf(e){const t=e.name;if(Lv.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Lv.set(t,e);for(const r of yf.values())p1(r,e);for(const r of y3.values())p1(r,e);return!0}function w3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function x3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new $I("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=g3;function qI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Mv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw aa.create("bad-app-name",{appName:String(i)});if(r||(r=FI()),!r)throw aa.create("no-options");const a=yf.get(i);if(a){if(vf(r,a.options)&&vf(n,a.config))return a;throw aa.create("duplicate-app",{appName:i})}const s=new P4(i);for(const l of Lv.values())s.addComponent(l);const o=new b3(r,n,s);return yf.set(i,o),o}function S3(e=Mv){const t=yf.get(e);if(!t&&e===Mv&&FI())return qI();if(!t)throw aa.create("no-app",{appName:e});return t}function eo(e,t,r){let n=v3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(s.join(" "));return}wf(new pu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="firebase-heartbeat-database",P3=1,mu="firebase-heartbeat-store";let ug=null;function WI(){return ug||(ug=F4(A3,P3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mu)}catch(r){console.warn(r)}}}}).catch(e=>{throw aa.create("idb-open",{originalErrorMessage:e.message})})),ug}async function T3(e){try{const r=(await WI()).transaction(mu),n=await r.objectStore(mu).get(KI(e));return await r.done,n}catch(t){if(t instanceof ko)pi.warn(t.message);else{const r=aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(r.message)}}}async function m1(e,t){try{const n=(await WI()).transaction(mu,"readwrite");await n.objectStore(mu).put(t,KI(e)),await n.done}catch(r){if(r instanceof ko)pi.warn(r.message);else{const n=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pi.warn(n.message)}}}function KI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=1024,I3=30;class j3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>I3){const s=k3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=g1(),{heartbeatsToSend:n,unsentEntries:i}=N3(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return pi.warn(r),""}}}function g1(){return new Date().toISOString().substring(0,10)}function N3(e,t=C3){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),v1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),v1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y4()?w4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await T3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return m1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return m1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function v1(e){return gf(JSON.stringify({version:2,heartbeats:e})).length}function k3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e){wf(new pu("platform-logger",t=>new U4(t),"PRIVATE")),wf(new pu("heartbeat",t=>new j3(t),"PRIVATE")),eo(Dv,h1,e),eo(Dv,h1,"esm2020"),eo("fire-js","")}R3("");var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,HI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,S){function I(){}I.prototype=S.prototype,b.F=S.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(D,C,k){for(var O=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)O[Q-2]=arguments[Q];return S.prototype[C].apply(D,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,I){I||(I=0);const D=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)D[C]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(C=0;C<16;++C)D[C]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=b.g[0],I=b.g[1],C=b.g[2];let k=b.g[3],O;O=S+(k^I&(C^k))+D[0]+3614090360&4294967295,S=I+(O<<7&4294967295|O>>>25),O=k+(C^S&(I^C))+D[1]+3905402710&4294967295,k=S+(O<<12&4294967295|O>>>20),O=C+(I^k&(S^I))+D[2]+606105819&4294967295,C=k+(O<<17&4294967295|O>>>15),O=I+(S^C&(k^S))+D[3]+3250441966&4294967295,I=C+(O<<22&4294967295|O>>>10),O=S+(k^I&(C^k))+D[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=k+(C^S&(I^C))+D[5]+1200080426&4294967295,k=S+(O<<12&4294967295|O>>>20),O=C+(I^k&(S^I))+D[6]+2821735955&4294967295,C=k+(O<<17&4294967295|O>>>15),O=I+(S^C&(k^S))+D[7]+4249261313&4294967295,I=C+(O<<22&4294967295|O>>>10),O=S+(k^I&(C^k))+D[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=k+(C^S&(I^C))+D[9]+2336552879&4294967295,k=S+(O<<12&4294967295|O>>>20),O=C+(I^k&(S^I))+D[10]+4294925233&4294967295,C=k+(O<<17&4294967295|O>>>15),O=I+(S^C&(k^S))+D[11]+2304563134&4294967295,I=C+(O<<22&4294967295|O>>>10),O=S+(k^I&(C^k))+D[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=k+(C^S&(I^C))+D[13]+4254626195&4294967295,k=S+(O<<12&4294967295|O>>>20),O=C+(I^k&(S^I))+D[14]+2792965006&4294967295,C=k+(O<<17&4294967295|O>>>15),O=I+(S^C&(k^S))+D[15]+1236535329&4294967295,I=C+(O<<22&4294967295|O>>>10),O=S+(C^k&(I^C))+D[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=k+(I^C&(S^I))+D[6]+3225465664&4294967295,k=S+(O<<9&4294967295|O>>>23),O=C+(S^I&(k^S))+D[11]+643717713&4294967295,C=k+(O<<14&4294967295|O>>>18),O=I+(k^S&(C^k))+D[0]+3921069994&4294967295,I=C+(O<<20&4294967295|O>>>12),O=S+(C^k&(I^C))+D[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=k+(I^C&(S^I))+D[10]+38016083&4294967295,k=S+(O<<9&4294967295|O>>>23),O=C+(S^I&(k^S))+D[15]+3634488961&4294967295,C=k+(O<<14&4294967295|O>>>18),O=I+(k^S&(C^k))+D[4]+3889429448&4294967295,I=C+(O<<20&4294967295|O>>>12),O=S+(C^k&(I^C))+D[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=k+(I^C&(S^I))+D[14]+3275163606&4294967295,k=S+(O<<9&4294967295|O>>>23),O=C+(S^I&(k^S))+D[3]+4107603335&4294967295,C=k+(O<<14&4294967295|O>>>18),O=I+(k^S&(C^k))+D[8]+1163531501&4294967295,I=C+(O<<20&4294967295|O>>>12),O=S+(C^k&(I^C))+D[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=k+(I^C&(S^I))+D[2]+4243563512&4294967295,k=S+(O<<9&4294967295|O>>>23),O=C+(S^I&(k^S))+D[7]+1735328473&4294967295,C=k+(O<<14&4294967295|O>>>18),O=I+(k^S&(C^k))+D[12]+2368359562&4294967295,I=C+(O<<20&4294967295|O>>>12),O=S+(I^C^k)+D[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=k+(S^I^C)+D[8]+2272392833&4294967295,k=S+(O<<11&4294967295|O>>>21),O=C+(k^S^I)+D[11]+1839030562&4294967295,C=k+(O<<16&4294967295|O>>>16),O=I+(C^k^S)+D[14]+4259657740&4294967295,I=C+(O<<23&4294967295|O>>>9),O=S+(I^C^k)+D[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=k+(S^I^C)+D[4]+1272893353&4294967295,k=S+(O<<11&4294967295|O>>>21),O=C+(k^S^I)+D[7]+4139469664&4294967295,C=k+(O<<16&4294967295|O>>>16),O=I+(C^k^S)+D[10]+3200236656&4294967295,I=C+(O<<23&4294967295|O>>>9),O=S+(I^C^k)+D[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=k+(S^I^C)+D[0]+3936430074&4294967295,k=S+(O<<11&4294967295|O>>>21),O=C+(k^S^I)+D[3]+3572445317&4294967295,C=k+(O<<16&4294967295|O>>>16),O=I+(C^k^S)+D[6]+76029189&4294967295,I=C+(O<<23&4294967295|O>>>9),O=S+(I^C^k)+D[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=k+(S^I^C)+D[12]+3873151461&4294967295,k=S+(O<<11&4294967295|O>>>21),O=C+(k^S^I)+D[15]+530742520&4294967295,C=k+(O<<16&4294967295|O>>>16),O=I+(C^k^S)+D[2]+3299628645&4294967295,I=C+(O<<23&4294967295|O>>>9),O=S+(C^(I|~k))+D[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=k+(I^(S|~C))+D[7]+1126891415&4294967295,k=S+(O<<10&4294967295|O>>>22),O=C+(S^(k|~I))+D[14]+2878612391&4294967295,C=k+(O<<15&4294967295|O>>>17),O=I+(k^(C|~S))+D[5]+4237533241&4294967295,I=C+(O<<21&4294967295|O>>>11),O=S+(C^(I|~k))+D[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=k+(I^(S|~C))+D[3]+2399980690&4294967295,k=S+(O<<10&4294967295|O>>>22),O=C+(S^(k|~I))+D[10]+4293915773&4294967295,C=k+(O<<15&4294967295|O>>>17),O=I+(k^(C|~S))+D[1]+2240044497&4294967295,I=C+(O<<21&4294967295|O>>>11),O=S+(C^(I|~k))+D[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=k+(I^(S|~C))+D[15]+4264355552&4294967295,k=S+(O<<10&4294967295|O>>>22),O=C+(S^(k|~I))+D[6]+2734768916&4294967295,C=k+(O<<15&4294967295|O>>>17),O=I+(k^(C|~S))+D[13]+1309151649&4294967295,I=C+(O<<21&4294967295|O>>>11),O=S+(C^(I|~k))+D[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=k+(I^(S|~C))+D[11]+3174756917&4294967295,k=S+(O<<10&4294967295|O>>>22),O=C+(S^(k|~I))+D[2]+718787259&4294967295,C=k+(O<<15&4294967295|O>>>17),O=I+(k^(C|~S))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+k&4294967295}n.prototype.v=function(b,S){S===void 0&&(S=b.length);const I=S-this.blockSize,D=this.C;let C=this.h,k=0;for(;k<S;){if(C==0)for(;k<=I;)i(this,b,k),k+=this.blockSize;if(typeof b=="string"){for(;k<S;)if(D[C++]=b.charCodeAt(k++),C==this.blockSize){i(this,D),C=0;break}}else for(;k<S;)if(D[C++]=b[k++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=S},n.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,I=0;I<4;++I)for(let D=0;D<32;D+=8)b[S++]=this.g[I]>>>D&255;return b};function a(b,S){var I=o;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=S(b)}function s(b,S){this.h=S;const I=[];let D=!0;for(let C=b.length-1;C>=0;C--){const k=b[C]|0;D&&k==S||(I[C]=k,D=!1)}this.g=I}var o={};function l(b){return-128<=b&&b<128?a(b,function(S){return new s([S|0],S<0?-1:0)}):new s([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return v(u(-b));const S=[];let I=1;for(let D=0;b>=I;D++)S[D]=b/I|0,I*=4294967296;return new s(S,0)}function c(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return v(c(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(S,8));let D=d;for(let k=0;k<b.length;k+=8){var C=Math.min(8,b.length-k);const O=parseInt(b.substring(k,k+C),S);C<8?(C=u(Math.pow(S,C)),D=D.j(C).add(u(O))):(D=D.j(I),D=D.add(u(O)))}return D}var d=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(w(this))return-v(this).m();let b=0,S=1;for(let I=0;I<this.g.length;I++){const D=this.i(I);b+=(D>=0?D:4294967296+D)*S,S*=4294967296}return b},e.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(g(this))return"0";if(w(this))return"-"+v(this).toString(b);const S=u(Math.pow(b,6));var I=this;let D="";for(;;){const C=j(I,S).g;I=x(I,C.j(S));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=C,g(I))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},e.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function g(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function w(b){return b.h==-1}e.l=function(b){return b=x(this,b),w(b)?-1:g(b)?0:1};function v(b){const S=b.g.length,I=[];for(let D=0;D<S;D++)I[D]=~b.g[D];return new s(I,~b.h).add(p)}e.abs=function(){return w(this)?v(this):this},e.add=function(b){const S=Math.max(this.g.length,b.g.length),I=[];let D=0;for(let C=0;C<=S;C++){let k=D+(this.i(C)&65535)+(b.i(C)&65535),O=(k>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=O>>>16,k&=65535,O&=65535,I[C]=O<<16|k}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(b,S){return b.add(v(S))}e.j=function(b){if(g(this)||g(b))return d;if(w(this))return w(b)?v(this).j(v(b)):v(v(this).j(b));if(w(b))return v(this.j(v(b)));if(this.l(m)<0&&b.l(m)<0)return u(this.m()*b.m());const S=this.g.length+b.g.length,I=[];for(var D=0;D<2*S;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(let C=0;C<b.g.length;C++){const k=this.i(D)>>>16,O=this.i(D)&65535,Q=b.i(C)>>>16,se=b.i(C)&65535;I[2*D+2*C]+=O*se,E(I,2*D+2*C),I[2*D+2*C+1]+=k*se,E(I,2*D+2*C+1),I[2*D+2*C+1]+=O*Q,E(I,2*D+2*C+1),I[2*D+2*C+2]+=k*Q,E(I,2*D+2*C+2)}for(b=0;b<S;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=S;b<2*S;b++)I[b]=0;return new s(I,0)};function E(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function A(b,S){this.g=b,this.h=S}function j(b,S){if(g(S))throw Error("division by zero");if(g(b))return new A(d,d);if(w(b))return S=j(v(b),S),new A(v(S.g),v(S.h));if(w(S))return S=j(b,v(S)),new A(v(S.g),S.h);if(b.g.length>30){if(w(b)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,D=S;D.l(b)<=0;)I=T(I),D=T(D);var C=N(I,1),k=N(D,1);for(D=N(D,2),I=N(I,2);!g(D);){var O=k.add(D);O.l(b)<=0&&(C=C.add(I),k=O),D=N(D,1),I=N(I,1)}return S=x(b,C.j(S)),new A(C,S)}for(C=d;b.l(S)>=0;){for(I=Math.max(1,Math.floor(b.m()/S.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=u(I),O=k.j(S);w(O)||O.l(b)>0;)I-=D,k=u(I),O=k.j(S);g(k)&&(k=p),C=C.add(k),b=x(b,O)}return new A(C,b)}e.B=function(b){return j(this,b).h},e.and=function(b){const S=Math.max(this.g.length,b.g.length),I=[];for(let D=0;D<S;D++)I[D]=this.i(D)&b.i(D);return new s(I,this.h&b.h)},e.or=function(b){const S=Math.max(this.g.length,b.g.length),I=[];for(let D=0;D<S;D++)I[D]=this.i(D)|b.i(D);return new s(I,this.h|b.h)},e.xor=function(b){const S=Math.max(this.g.length,b.g.length),I=[];for(let D=0;D<S;D++)I[D]=this.i(D)^b.i(D);return new s(I,this.h^b.h)};function T(b){const S=b.g.length+1,I=[];for(let D=0;D<S;D++)I[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(I,b.h)}function N(b,S){const I=S>>5;S%=32;const D=b.g.length-I,C=[];for(let k=0;k<D;k++)C[k]=S>0?b.i(k+I)>>>S|b.i(k+I+1)<<32-S:b.i(k+I);return new s(C,b.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,HI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,sa=s}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GI,Il,QI,kd,Vv,YI,XI,ZI;(function(){var e,t=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<h.length;++y){var P=h[y];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,y){if(y)e:{var P=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in P))break e;P=P[M]}h=h[h.length-1],R=P[h],y=y(R),y!=R&&y!=null&&t(P,h,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(y){var P=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&P.push([R,y[R]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function l(h,y,P){return h.call.apply(h.bind,arguments)}function u(h,y,P){return u=l,u.apply(null,arguments)}function c(h,y){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function d(h,y){function P(){}P.prototype=y.prototype,h.Z=y.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return y.prototype[M].apply(R,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const y=h.length;if(y>0){const P=Array(y);for(let R=0;R<y;R++)P[R]=h[R];return P}return[]}function g(h,y){for(let R=1;R<arguments.length;R++){const M=arguments[R];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=h.length||0;const V=M.length||0;h.length=P+V;for(let G=0;G<V;G++)h[P+G]=M[G]}else h.push(M)}}class w{constructor(y,P){this.i=y,this.j=P,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(h){s.setTimeout(()=>{throw h},0)}function x(){var h=b;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class E{constructor(){this.h=this.g=null}add(y,P){const R=A.get();R.set(y,P),this.h?this.h.next=R:this.g=R,this.h=R}}var A=new w(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,P){this.h=y,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let T,N=!1,b=new E,S=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(I)}};function I(){for(var h;h=x();){try{h.h.call(h.g)}catch(P){v(P)}var y=A;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}N=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,y),s.removeEventListener("test",P,y)}catch{}return h}();function O(h){return/^[\s\xa0]*$/.test(h)}function Q(h,y){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}d(Q,C),Q.prototype.init=function(h,y){const P=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(P=="mouseover"?y=h.fromElement:P=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),de=0;function oe(h,y,P,R,M){this.listener=h,this.proxy=null,this.src=y,this.type=P,this.capture=!!R,this.ha=M,this.key=++de,this.da=this.fa=!1}function U(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,y,P){for(const R in h)y.call(P,h[R],R,h)}function ne(h,y){for(const P in h)y.call(void 0,h[P],P,h)}function me(h){const y={};for(const P in h)y[P]=h[P];return y}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(h,y){let P,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(P in R)h[P]=R[P];for(let V=0;V<be.length;V++)P=be[V],Object.prototype.hasOwnProperty.call(R,P)&&(h[P]=R[P])}}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,y,P,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const G=bt(h,y,R,M);return G>-1?(y=h[G],P||(y.fa=!1)):(y=new oe(y,this.src,V,!!R,M),y.fa=P,h.push(y)),y};function qt(h,y){const P=y.type;if(P in h.g){var R=h.g[P],M=Array.prototype.indexOf.call(R,y,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(U(y),h.g[P].length==0&&(delete h.g[P],h.h--))}}function bt(h,y,P,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==y&&V.capture==!!P&&V.ha==R)return M}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Qn={};function B(h,y,P,R,M){if(Array.isArray(y)){for(let V=0;V<y.length;V++)B(h,y[V],P,R,M);return null}return P=ce(P),h&&h[se]?h.J(y,P,o(R)?!!R.capture:!1,M):fe(h,y,P,!1,R,M)}function fe(h,y,P,R,M,V){if(!y)throw Error("Invalid event type");const G=o(M)?!!M.capture:!!M;let pe=H(h);if(pe||(h[ze]=pe=new ke(h)),P=pe.add(y,P,R,G,V),P.proxy)return P;if(R=ye(),P.proxy=R,R.src=h,R.listener=P,h.addEventListener)k||(M=G),M===void 0&&(M=!1),h.addEventListener(y.toString(),R,M);else if(h.attachEvent)h.attachEvent(Ce(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function h(P){return y.call(h.src,h.listener,P)}const y=z;return h}function q(h,y,P,R,M){if(Array.isArray(y))for(var V=0;V<y.length;V++)q(h,y[V],P,R,M);else R=o(R)?!!R.capture:!!R,P=ce(P),h&&h[se]?(h=h.i,V=String(y).toString(),V in h.g&&(y=h.g[V],P=bt(y,P,R,M),P>-1&&(U(y[P]),Array.prototype.splice.call(y,P,1),y.length==0&&(delete h.g[V],h.h--)))):h&&(h=H(h))&&(y=h.g[y.toString()],h=-1,y&&(h=bt(y,P,R,M)),(P=h>-1?y[h]:null)&&ft(P))}function ft(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[se])qt(y.i,h);else{var P=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(P,R,h.capture):y.detachEvent?y.detachEvent(Ce(P),R):y.addListener&&y.removeListener&&y.removeListener(R),(P=H(y))?(qt(P,h),P.h==0&&(P.src=null,y[ze]=null)):U(h)}}}function Ce(h){return h in Qn?Qn[h]:Qn[h]="on"+h}function z(h,y){if(h.da)h=!0;else{y=new Q(y,this);const P=h.listener,R=h.ha||h.src;h.fa&&ft(h),h=P.call(R,y)}return h}function H(h){return h=h[ze],h instanceof ke?h:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function ce(h){return typeof h=="function"?h:(h[Z]||(h[Z]=function(y){return h.handleEvent(y)}),h[Z])}function he(){D.call(this),this.i=new ke(this),this.M=this,this.G=null}d(he,D),he.prototype[se]=!0,he.prototype.removeEventListener=function(h,y,P,R){q(this,h,y,P,R)};function we(h,y){var P,R=h.G;if(R)for(P=[];R;R=R.G)P.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new C(y,h);else if(y instanceof C)y.target=y.target||h;else{var M=y;y=new C(R,h),_t(y,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=y.g=P[G],M=ht(V,R,!0,y)&&M;if(V=y.g=h,M=ht(V,R,!0,y)&&M,M=ht(V,R,!1,y)&&M,P)for(G=0;G<P.length;G++)V=y.g=P[G],M=ht(V,R,!1,y)&&M}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const P=h.g[y];for(let R=0;R<P.length;R++)U(P[R]);delete h.g[y],h.h--}}this.G=null},he.prototype.J=function(h,y,P,R){return this.i.add(String(h),y,!1,P,R)},he.prototype.K=function(h,y,P,R){return this.i.add(String(h),y,!0,P,R)};function ht(h,y,P,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let M=!0;for(let V=0;V<y.length;++V){const G=y[V];if(G&&!G.da&&G.capture==P){const pe=G.listener,Et=G.ha||G.src;G.fa&&qt(h.i,G),M=pe.call(Et,R)!==!1&&M}}return M&&!R.defaultPrevented}function Yn(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:s.setTimeout(h,y||0)}function eb(h){h.g=Yn(()=>{h.g=null,h.i&&(h.i=!1,eb(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class X2 extends D{constructor(y,P){super(),this.m=y,this.l=P,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:eb(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(h){D.call(this),this.h=h,this.g={}}d(Ho,D);var tb=[];function rb(h){K(h.g,function(y,P){this.g.hasOwnProperty(P)&&ft(y)},h),h.g={}}Ho.prototype.N=function(){Ho.Z.N.call(this),rb(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gm=s.JSON.stringify,Z2=s.JSON.parse,J2=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function nb(){}function ib(){}var Go={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vm(){C.call(this,"d")}d(vm,C);function ym(){C.call(this,"c")}d(ym,C);var Ta={},ab=null;function Sc(){return ab=ab||new he}Ta.Ia="serverreachability";function sb(h){C.call(this,Ta.Ia,h)}d(sb,C);function Qo(h){const y=Sc();we(y,new sb(y))}Ta.STAT_EVENT="statevent";function ob(h,y){C.call(this,Ta.STAT_EVENT,h),this.stat=y}d(ob,C);function ur(h){const y=Sc();we(y,new ob(y,h))}Ta.Ja="timingevent";function lb(h,y){C.call(this,Ta.Ja,h),this.size=y}d(lb,C);function Yo(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},y)}function Xo(){this.g=!0}Xo.prototype.ua=function(){this.g=!1};function eM(h,y,P,R,M,V){h.info(function(){if(h.g)if(V){var G="",pe=V.split("&");for(let Re=0;Re<pe.length;Re++){var Et=pe[Re].split("=");if(Et.length>1){const kt=Et[0];Et=Et[1];const jn=kt.split("_");G=jn.length>=2&&jn[1]=="type"?G+(kt+"="+Et+"&"):G+(kt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+y+`
`+P+`
`+G})}function tM(h,y,P,R,M,V,G){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+y+`
`+P+`
`+V+" "+G})}function _s(h,y,P,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+nM(h,P)+(R?" "+R:"")})}function rM(h,y){h.info(function(){return"TIMEOUT: "+y})}Xo.prototype.info=function(){};function nM(h,y){if(!h.g)return y;if(!y)return null;try{const V=JSON.parse(y);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var P=V[h];if(!(P.length<2)){var R=P[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return gm(V)}catch{return y}}var Ac={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ub={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cb;function wm(){}d(wm,nb),wm.prototype.g=function(){return new XMLHttpRequest},cb=new wm;function Zo(h){return encodeURIComponent(String(h))}function iM(h){var y=1;h=h.split(":");const P=[];for(;y>0&&h.length;)P.push(h.shift()),y--;return h.length&&P.push(h.join(":")),P}function ki(h,y,P,R){this.j=h,this.i=y,this.l=P,this.S=R||1,this.V=new Ho(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new db}function db(){this.i=null,this.g="",this.h=!1}var fb={},xm={};function _m(h,y,P){h.M=1,h.A=Tc(In(y)),h.u=P,h.R=!0,hb(h,null)}function hb(h,y){h.F=Date.now(),Pc(h),h.B=In(h.A);var P=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Pb(P.i,"t",R),h.C=0,P=h.j.L,h.h=new db,h.g=qb(h.j,P?y:null,!h.u),h.P>0&&(h.O=new X2(u(h.Y,h,h.g),h.P)),y=h.V,P=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(tb[0]=M.toString()),M=tb);for(let V=0;V<M.length;V++){const G=B(P,M[V],R||y.handleEvent,!1,y.h||y);if(!G)break;y.g[G.key]=G}y=h.J?me(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Qo(),eM(h.i,h.v,h.B,h.l,h.S,h.u)}ki.prototype.ba=function(h){h=h.target;const y=this.O;y&&Mi(h)==3?y.j():this.Y(h)},ki.prototype.Y=function(h){try{if(h==this.g)e:{const pe=Mi(this.g),Et=this.g.ya(),Re=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||kb(this.g)))){this.K||pe!=4||Et==7||(Et==8||Re<=0?Qo(3):Qo(2)),bm(this);var y=this.g.ca();this.X=y;var P=aM(this);if(this.o=y==200,tM(this.i,this.v,this.B,this.l,this.S,pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var V=R;break t}}V=null}if(h=V)_s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Em(this,h);else{this.o=!1,this.m=3,ur(12),Ca(this),Jo(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<P.length;)if(kt=sM(this,P),kt==xm){pe==4&&(this.m=4,ur(14),h=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==fb){this.m=4,ur(15),_s(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else _s(this.i,this.l,kt,null),Em(this,kt);if(pb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||P.length!=0||this.h.h||(this.m=1,ur(16),h=!1),this.o=this.o&&h,!h)_s(this.i,this.l,P,"[Invalid Chunked Response]"),Ca(this),Jo(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Nm(G),G.P=!0,ur(11))}}else _s(this.i,this.l,P,null),Em(this,P);pe==4&&Ca(this),this.o&&!this.K&&(pe==4?$b(this.j,this):(this.o=!1,Pc(this)))}else xM(this.g),y==400&&P.indexOf("Unknown SID")>0?(this.m=3,ur(12)):(this.m=0,ur(13)),Ca(this),Jo(this)}}}catch{}finally{}};function aM(h){if(!pb(h))return h.g.la();const y=kb(h.g);if(y==="")return"";let P="";const R=y.length,M=Mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ca(h),Jo(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,P+=h.h.i.decode(y[V],{stream:!(M&&V==R-1)});return y.length=0,h.h.g+=P,h.C=0,h.h.g}function pb(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sM(h,y){var P=h.C,R=y.indexOf(`
`,P);return R==-1?xm:(P=Number(y.substring(P,R)),isNaN(P)?fb:(R+=1,R+P>y.length?xm:(y=y.slice(R,R+P),h.C=R+P,y)))}ki.prototype.cancel=function(){this.K=!0,Ca(this)};function Pc(h){h.T=Date.now()+h.H,mb(h,h.H)}function mb(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Yo(u(h.aa,h),y)}function bm(h){h.D&&(s.clearTimeout(h.D),h.D=null)}ki.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(rM(this.i,this.B),this.M!=2&&(Qo(),ur(17)),Ca(this),this.m=2,Jo(this)):mb(this,this.T-h)};function Jo(h){h.j.I==0||h.K||$b(h.j,h)}function Ca(h){bm(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,rb(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Em(h,y){try{var P=h.j;if(P.I!=0&&(P.g==h||Sm(P.h,h))){if(!h.L&&Sm(P.h,h)&&P.I==3){try{var R=P.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)Oc(P),jc(P);else break e;jm(P),ur(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Yo(u(P.Va,P),6e3));yb(P.h)<=1&&P.ta&&(P.ta=void 0)}else ja(P,11)}else if((h.L||P.g==h)&&Oc(P),!O(y))for(M=P.Ba.g.parse(y),y=0;y<M.length;y++){let Re=M[y];const kt=Re[0];if(!(kt<=P.K))if(P.K=kt,Re=Re[1],P.I==2)if(Re[0]=="c"){P.M=Re[1],P.ba=Re[2];const jn=Re[3];jn!=null&&(P.ka=jn,P.j.info("VER="+P.ka));const Na=Re[4];Na!=null&&(P.za=Na,P.j.info("SVER="+P.za));const Li=Re[5];Li!=null&&typeof Li=="number"&&Li>0&&(R=1.5*Li,P.O=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const Vi=h.g;if(Vi){const Rc=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var V=R.h;V.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Am(V,V.h),V.h=null))}if(R.G){const Om=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Om&&(R.wa=Om,Ue(R.J,R.G,Om))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),R=P;var G=h;if(R.na=Bb(R,R.L?R.ba:null,R.W),G.L){wb(R.h,G);var pe=G,Et=R.O;Et&&(pe.H=Et),pe.D&&(bm(pe),Pc(pe)),R.g=G}else Vb(R);P.i.length>0&&Nc(P)}else Re[0]!="stop"&&Re[0]!="close"||ja(P,7);else P.I==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ja(P,7):Im(P):Re[0]!="noop"&&P.l&&P.l.qa(Re),P.A=0)}}Qo(4)}catch{}}var oM=class{constructor(h,y){this.g=h,this.map=y}};function gb(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yb(h){return h.h?1:h.g?h.g.size:0}function Sm(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Am(h,y){h.g?h.g.add(y):h.h=y}function wb(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}gb.prototype.cancel=function(){if(this.i=xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xb(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const P of h.g.values())y=y.concat(P.G);return y}return m(h.i)}var _b=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lM(h,y){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const R=h[P].indexOf("=");let M,V=null;R>=0?(M=h[P].substring(0,R),V=h[P].substring(R+1)):M=h[P],y(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ri(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ri?(this.l=h.l,el(this,h.j),this.o=h.o,this.g=h.g,tl(this,h.u),this.h=h.h,Pm(this,Tb(h.i)),this.m=h.m):h&&(y=String(h).match(_b))?(this.l=!1,el(this,y[1]||"",!0),this.o=rl(y[2]||""),this.g=rl(y[3]||"",!0),tl(this,y[4]),this.h=rl(y[5]||"",!0),Pm(this,y[6]||"",!0),this.m=rl(y[7]||"")):(this.l=!1,this.i=new il(null,this.l))}Ri.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(nl(y,bb,!0),":");var P=this.g;return(P||y=="file")&&(h.push("//"),(y=this.o)&&h.push(nl(y,bb,!0),"@"),h.push(Zo(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(nl(P,P.charAt(0)=="/"?dM:cM,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",nl(P,hM)),h.join("")},Ri.prototype.resolve=function(h){const y=In(this);let P=!!h.j;P?el(y,h.j):P=!!h.o,P?y.o=h.o:P=!!h.g,P?y.g=h.g:P=h.u!=null;var R=h.h;if(P)tl(y,h.u);else if(P=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=y.h.lastIndexOf("/");M!=-1&&(R=y.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const pe=M[G++];pe=="."?R&&G==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&G==M.length&&V.push("")):(V.push(pe),R=!0)}R=V.join("/")}else R=M}return P?y.h=R:P=h.i.toString()!=="",P?Pm(y,Tb(h.i)):P=!!h.m,P&&(y.m=h.m),y};function In(h){return new Ri(h)}function el(h,y,P){h.j=P?rl(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function tl(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Pm(h,y,P){y instanceof il?(h.i=y,pM(h.i,h.l)):(P||(y=nl(y,fM)),h.i=new il(y,h.l))}function Ue(h,y,P){h.i.set(y,P)}function Tc(h){return Ue(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function rl(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function nl(h,y,P){return typeof h=="string"?(h=encodeURI(h).replace(y,uM),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bb=/[#\/\?@]/g,cM=/[#\?:]/g,dM=/[#\?]/g,fM=/[#\?@]/g,hM=/#/g;function il(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ia(h){h.g||(h.g=new Map,h.h=0,h.i&&lM(h.i,function(y,P){h.add(decodeURIComponent(y.replace(/\+/g," ")),P)}))}e=il.prototype,e.add=function(h,y){Ia(this),this.i=null,h=bs(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(y),this.h+=1,this};function Eb(h,y){Ia(h),y=bs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Sb(h,y){return Ia(h),y=bs(h,y),h.g.has(y)}e.forEach=function(h,y){Ia(this),this.g.forEach(function(P,R){P.forEach(function(M){h.call(y,M,R,this)},this)},this)};function Ab(h,y){Ia(h);let P=[];if(typeof y=="string")Sb(h,y)&&(P=P.concat(h.g.get(bs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)P=P.concat(h[y]);return P}e.set=function(h,y){return Ia(this),this.i=null,h=bs(this,h),Sb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=Ab(this,h),h.length>0?String(h[0]):y):y};function Pb(h,y,P){Eb(h,y),P.length>0&&(h.i=null,h.g.set(bs(h,y),m(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var P=y[R];const M=Zo(P);P=Ab(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+Zo(P[V])),h.push(G)}}return this.i=h.join("&")};function Tb(h){const y=new il;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function bs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function pM(h,y){y&&!h.j&&(Ia(h),h.i=null,h.g.forEach(function(P,R){const M=R.toLowerCase();R!=M&&(Eb(this,R),Pb(this,M,P))},h)),h.j=y}function mM(h,y){const P=new Xo;if(s.Image){const R=new Image;R.onload=c(Di,P,"TestLoadImage: loaded",!0,y,R),R.onerror=c(Di,P,"TestLoadImage: error",!1,y,R),R.onabort=c(Di,P,"TestLoadImage: abort",!1,y,R),R.ontimeout=c(Di,P,"TestLoadImage: timeout",!1,y,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function gM(h,y){const P=new Xo,R=new AbortController,M=setTimeout(()=>{R.abort(),Di(P,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?Di(P,"TestPingServer: ok",!0,y):Di(P,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(M),Di(P,"TestPingServer: error",!1,y)})}function Di(h,y,P,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(P)}catch{}}function vM(){this.g=new J2}function Tm(h){this.i=h.Sb||null,this.h=h.ab||!1}d(Tm,nb),Tm.prototype.g=function(){return new Cc(this.i,this.h)};function Cc(h,y){he.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Cc,he),e=Cc.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,sl(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||s).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cb(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cb(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?al(this):sl(this),this.readyState==3&&Cb(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,al(this))},e.Na=function(h){this.g&&(this.response=h,al(this))},e.ga=function(){this.g&&al(this)};function al(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sl(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var P=y.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=y.next();return h.join(`\r
`)};function sl(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ib(h){let y="";return K(h,function(P,R){y+=R,y+=":",y+=P,y+=`\r
`}),y}function Cm(h,y,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=Ib(P),typeof h=="string"?P!=null&&Zo(P):Ue(h,y,P))}function it(h){he.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(it,he);var yM=/^https?$/i,wM=["POST","PUT"];e=it.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cb.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(V){jb(this,V);return}if(h=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)P.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())P.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(wM,y,void 0)>=0)||R||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){jb(this,V)}};function jb(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Nb(h),Ic(h)}function Nb(h){h.A||(h.A=!0,we(h,"complete"),we(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,we(this,"complete"),we(this,"abort"),Ic(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),it.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ob(this):this.Xa())},e.Xa=function(){Ob(this)};function Ob(h){if(h.h&&typeof a<"u"){if(h.v&&Mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(we(h,"readystatechange"),Mi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var P;if(!(P=y)){var R;if(R=V===0){let G=String(h.D).match(_b)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),R=!yM.test(G?G.toLowerCase():"")}P=R}if(P)we(h,"complete"),we(h,"success");else{h.o=6;try{var M=Mi(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",Nb(h)}}finally{Ic(h)}}}}function Ic(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,y||we(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Mi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Z2(y)}};function kb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xM(h){const y={};h=(h.g&&Mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(O(h[R]))continue;var P=iM(h[R]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=y[M]||[];y[M]=V,V.push(P)}ne(y,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(h,y,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||y}function Rb(h){this.za=0,this.i=[],this.j=new Xo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ol("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ol("baseRetryDelayMs",5e3,h),this.Za=ol("retryDelaySeedMs",1e4,h),this.Ta=ol("forwardChannelMaxRetries",2,h),this.va=ol("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new gb(h&&h.concurrentRequestLimit),this.Ba=new vM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Rb.prototype,e.ka=8,e.I=1,e.connect=function(h,y,P,R){ur(0),this.W=h,this.H=y||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.J=Bb(this,null,this.W),Nc(this)};function Im(h){if(Db(h),h.I==3){var y=h.V++,P=In(h.J);if(Ue(P,"SID",h.M),Ue(P,"RID",y),Ue(P,"TYPE","terminate"),ll(h,P),y=new ki(h,h.j,y),y.M=2,y.A=Tc(In(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(y.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=y.A,P=!0),P||(y.g=qb(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pc(y)}Ub(h)}function jc(h){h.g&&(Nm(h),h.g.cancel(),h.g=null)}function Db(h){jc(h),h.v&&(s.clearTimeout(h.v),h.v=null),Oc(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Nc(h){if(!vb(h.h)&&!h.m){h.m=!0;var y=h.Ea;T||S(),N||(T(),N=!0),b.add(y,h),h.D=0}}function _M(h,y){return yb(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Yo(u(h.Ea,h,y),zb(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new ki(this,this.j,h);let V=this.o;if(this.U&&(V?(V=me(V),_t(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var y=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=P;break e}if(y===4096||P===this.i.length-1){y=P+1;break e}}y=1e3}else y=1e3;y=Lb(this,M,y),P=In(this.J),Ue(P,"RID",h),Ue(P,"CVER",22),this.G&&Ue(P,"X-HTTP-Session-Id",this.G),ll(this,P),V&&(this.R?y="headers="+Zo(Ib(V))+"&"+y:this.u&&Cm(P,this.u,V)),Am(this.h,M),this.Ra&&Ue(P,"TYPE","init"),this.S?(Ue(P,"$req",y),Ue(P,"SID","null"),M.U=!0,_m(M,P,null)):_m(M,P,y),this.I=2}}else this.I==3&&(h?Mb(this,h):this.i.length==0||vb(this.h)||Mb(this))};function Mb(h,y){var P;y?P=y.l:P=h.V++;const R=In(h.J);Ue(R,"SID",h.M),Ue(R,"RID",P),Ue(R,"AID",h.K),ll(h,R),h.u&&h.o&&Cm(R,h.u,h.o),P=new ki(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Lb(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Am(h.h,P),_m(P,R,y)}function ll(h,y){h.H&&K(h.H,function(P,R){Ue(y,R,P)}),h.l&&K({},function(P,R){Ue(y,R,P)})}function Lb(h,y,P){P=Math.min(h.i.length,P);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let pe=-1;for(;;){const Et=["count="+P];pe==-1?P>0?(pe=M[0].g,Et.push("ofs="+pe)):pe=0:Et.push("ofs="+pe);let Re=!0;for(let kt=0;kt<P;kt++){var V=M[kt].g;const jn=M[kt].map;if(V-=pe,V<0)pe=Math.max(0,M[kt].g-100),Re=!1;else try{V="req"+V+"_"||"";try{var G=jn instanceof Map?jn:Object.entries(jn);for(const[Na,Li]of G){let Vi=Li;o(Li)&&(Vi=gm(Li)),Et.push(V+Na+"="+encodeURIComponent(Vi))}}catch(Na){throw Et.push(V+"type="+encodeURIComponent("_badmap")),Na}}catch{R&&R(jn)}}if(Re){G=Et.join("&");break e}}G=void 0}return h=h.i.splice(0,P),y.G=h,G}function Vb(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;T||S(),N||(T(),N=!0),b.add(y,h),h.A=0}}function jm(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Yo(u(h.Da,h),zb(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Fb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Yo(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ur(10),jc(this),Fb(this))};function Nm(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function Fb(h){h.g=new ki(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=In(h.na);Ue(y,"RID","rpc"),Ue(y,"SID",h.M),Ue(y,"AID",h.K),Ue(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ue(y,"TO",h.ia),Ue(y,"TYPE","xmlhttp"),ll(h,y),h.u&&h.o&&Cm(y,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=Tc(In(y)),P.u=null,P.R=!0,hb(P,h)}e.Va=function(){this.C!=null&&(this.C=null,jc(this),jm(this),ur(19))};function Oc(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function $b(h,y){var P=null;if(h.g==y){Oc(h),Nm(h),h.g=null;var R=2}else if(Sm(h.h,y))P=y.G,wb(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){P=y.u?y.u.length:0,y=Date.now()-y.F;var M=h.D;R=Sc(),we(R,new lb(R,P)),Nc(h)}else Vb(h);else if(M=y.m,M==3||M==0&&y.X>0||!(R==1&&_M(h,y)||R==2&&jm(h)))switch(P&&P.length>0&&(y=h.h,y.i=y.i.concat(P)),M){case 1:ja(h,5);break;case 4:ja(h,10);break;case 3:ja(h,6);break;default:ja(h,2)}}}function zb(h,y){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*y}function ja(h,y){if(h.j.info("Error code "+y),y==2){var P=u(h.bb,h),R=h.Ua;const M=!R;R=new Ri(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||el(R,"https"),Tc(R),M?mM(R.toString(),P):gM(R.toString(),P)}else ur(2);h.I=0,h.l&&h.l.pa(y),Ub(h),Db(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function Ub(h){if(h.I=0,h.ja=[],h.l){const y=xb(h.h);(y.length!=0||h.i.length!=0)&&(g(h.ja,y),g(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function Bb(h,y,P){var R=P instanceof Ri?In(P):new Ri(P);if(R.g!="")y&&(R.g=y+"."+R.g),tl(R,R.u);else{var M=s.location;R=M.protocol,y=y?y+"."+M.hostname:M.hostname,M=+M.port;const V=new Ri(null);R&&el(V,R),y&&(V.g=y),M&&tl(V,M),P&&(V.h=P),R=V}return P=h.G,y=h.wa,P&&y&&Ue(R,P,y),Ue(R,"VER",h.ka),ll(h,R),R}function qb(h,y,P){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new it(new Tm({ab:P})):new it(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wb(){}e=Wb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function kc(){}kc.prototype.g=function(h,y){return new Or(h,y)};function Or(h,y){he.call(this),this.g=new Rb(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!O(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Es(this)}d(Or,he),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Im(this.g)},Or.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=gm(h),h=P);y.i.push(new oM(y.Ya++,h)),y.I==3&&Nc(y)},Or.prototype.N=function(){this.g.l=null,delete this.j,Im(this.g),delete this.g,Or.Z.N.call(this)};function Kb(h){vm.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const P in y){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}d(Kb,vm);function Hb(){ym.call(this),this.status=1}d(Hb,ym);function Es(h){this.g=h}d(Es,Wb),Es.prototype.ra=function(){we(this.g,"a")},Es.prototype.qa=function(h){we(this.g,new Kb(h))},Es.prototype.pa=function(h){we(this.g,new Hb)},Es.prototype.oa=function(){we(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,ZI=function(){return new kc},XI=function(){return Sc()},YI=Ta,Vv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,kd=Ac,ub.COMPLETE="complete",QI=ub,ib.EventType=Go,Go.OPEN="a",Go.CLOSE="b",Go.ERROR="c",Go.MESSAGE="d",he.prototype.listen=he.prototype.J,Il=ib,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,GI=it}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const w1="@firebase/firestore",x1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new zI("@firebase/firestore");function Is(){return is.logLevel}function X(e,...t){if(is.logLevel<=Se.DEBUG){const r=t.map(tw);is.debug(`Firestore (${Ro}): ${e}`,...r)}}function mi(e,...t){if(is.logLevel<=Se.ERROR){const r=t.map(tw);is.error(`Firestore (${Ro}): ${e}`,...r)}}function ho(e,...t){if(is.logLevel<=Se.WARN){const r=t.map(tw);is.warn(`Firestore (${Ro}): ${e}`,...r)}}function tw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,JI(e,n,r)}function JI(e,t,r){let n=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw mi(n),new Error(n)}function Ie(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||JI(t,i,n)}function ue(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ko{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(nr.UNAUTHENTICATED))}shutdown(){}}class M3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class L3{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ie(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oi)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ie(typeof n.accessToken=="string",31837,{l:n}),new ej(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ie(t===null||typeof t=="string",2055,{h:t}),new nr(t)}}class V3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ie(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ie(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new _1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=z3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function xe(e,t){return e<t?-1:e>t?1:0}function Fv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return cg(i)===cg(a)?xe(i,a):cg(i)?1:-1}return xe(e.length,t.length)}const U3=55296,B3=57343;function cg(e){const t=e.charCodeAt(0);return t>=U3&&t<=B3}function po(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__name__";class kn{constructor(t,r,n){r===void 0?r=0:r>t.length&&ae(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ae(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return kn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof kn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=kn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return xe(t.length,r.length)}static compareSegments(t,r){const n=kn.isNumericId(t),i=kn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?kn.extractNumericId(t).compare(kn.extractNumericId(r)):Fv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class Ve extends kn{construct(t,r,n){return new Ve(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ve(r)}static emptyPath(){return new Ve([])}}const q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends kn{construct(t,r,n){return new Gt(t,r,n)}static isValidIdentifier(t){return q3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b1}static keyField(){return new Gt([b1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gt(r)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie(Ve.fromString(t))}static fromName(t){return new ie(Ve.fromString(t).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ve.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new Ve(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function W3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function E1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function S1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function rj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Uh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ae(12329,{type:typeof e})}function Cr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Uh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Bu(e,t){if(!rj(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=-62135596800,P1=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*P1);return new We(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<A1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P1}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,We._jsonSchema))return new We(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:yt("string",We._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(t){return new le(t)}static min(){return new le(new We(0,0))}static max(){return new le(new We(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function K3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=le.fromTimestamp(n===1e9?new We(r+1,0):new We(r,n));return new da(i,ie.empty(),t)}function H3(e){return new da(e.readTime,e.key,gu)}class da{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new da(le.min(),ie.empty(),gu)}static max(){return new da(le.max(),ie.empty(),gu)}}function G3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:xe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==Q3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof $?r:$.resolve(r)}catch(r){return $.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):$.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):$.reject(r)}static resolve(t){return new $((r,n)=>{r(t)})}static reject(t){return new $((r,n)=>{n(t)})}static waitFor(t){return new $((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=$.resolve(!1);for(const n of t)r=r.next(i=>i?$.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new $((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new $((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function X3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Mo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-1;function qh(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function Z3(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="";function J3(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=T1(t)),t=eF(e.get(r),t);return T1(t)}function eF(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case nj:r+="";break;default:r+=a}}return r}function T1(e){return e+nj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ba(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function ij(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||Ht.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ed(this.root,t,this.comparator,!0)}}class ed{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ht(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ae(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ht(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new I1(this.data.getIterator())}getIteratorFrom(t){return new I1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ct)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ct(this.comparator);return r.data=t,r}}class I1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.fields=t,t.sort(Gt.comparator)}static empty(){return new Lr([])}unionWith(t){let r=new Ct(Gt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Lr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aj("Invalid base64 string: "+a):a}}(t);return new Zt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Zt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const tF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(e){if(Ie(!!e,39018),typeof e=="string"){let t=0;const r=tF.exec(e);if(Ie(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ha(e){return typeof e=="string"?Zt.fromBase64String(e):Zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="server_timestamp",oj="__type__",lj="__previous_value__",uj="__local_write_time__";function iw(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[oj])==null?void 0:n.stringValue)===sj}function Wh(e){const t=e.mapValue.fields[lj];return iw(t)?Wh(t):t}function vu(e){const t=fa(e.mapValue.fields[uj].timestampValue);return new We(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(t,r,n,i,a,s,o,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const _f="(default)";class yu{constructor(t,r){this.projectId=t,this.database=r||_f}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="__type__",nF="__max__",td={mapValue:{}},dj="__vector__",bf="value";function pa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iw(e)?4:aF(e)?9007199254740991:iF(e)?10:11:ae(28295,{value:e})}function Wn(e,t){if(e===t)return!0;const r=pa(e);if(r!==pa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vu(e).isEqual(vu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=fa(i.timestampValue),o=fa(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return ha(i.bytesValue).isEqual(ha(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ut(i.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ut(i.integerValue)===ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ut(i.doubleValue),o=ut(a.doubleValue);return s===o?xf(s)===xf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(C1(s)!==C1(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Wn(s[l],o[l])))return!1;return!0}(e,t);default:return ae(52216,{left:e})}}function wu(e,t){return(e.values||[]).find(r=>Wn(r,t))!==void 0}function mo(e,t){if(e===t)return 0;const r=pa(e),n=pa(t);if(r!==n)return xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xe(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ut(a.integerValue||a.doubleValue),l=ut(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return j1(e.timestampValue,t.timestampValue);case 4:return j1(vu(e),vu(t));case 5:return Fv(e.stringValue,t.stringValue);case 6:return function(a,s){const o=ha(a),l=ha(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=xe(o[u],l[u]);if(c!==0)return c}return xe(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=xe(ut(a.latitude),ut(s.latitude));return o!==0?o:xe(ut(a.longitude),ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return N1(e.arrayValue,t.arrayValue);case 10:return function(a,s){var p,m,g,w;const o=a.fields||{},l=s.fields||{},u=(p=o[bf])==null?void 0:p.arrayValue,c=(m=l[bf])==null?void 0:m.arrayValue,d=xe(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return d!==0?d:N1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===td.mapValue&&s===td.mapValue)return 0;if(a===td.mapValue)return 1;if(s===td.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Fv(l[d],c[d]);if(p!==0)return p;const m=mo(o[l[d]],u[c[d]]);if(m!==0)return m}return xe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ae(23264,{he:r})}}function j1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xe(e,t);const r=fa(e),n=fa(t),i=xe(r.seconds,n.seconds);return i!==0?i:xe(r.nanos,n.nanos)}function N1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=mo(r[i],n[i]);if(a)return a}return xe(r.length,n.length)}function go(e){return $v(e)}function $v(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=fa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return ha(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=$v(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${$v(r.fields[s])}`;return i+"}"}(e.mapValue):ae(61005,{value:e})}function Rd(e){switch(pa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(e);return t?16+Rd(t):16;case 5:return 2*e.stringValue.length;case 6:return ha(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Rd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return ba(n.fields,(a,s)=>{i+=a.length+Rd(s)}),i}(e.mapValue);default:throw ae(13486,{value:e})}}function O1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zv(e){return!!e&&"integerValue"in e}function aw(e){return!!e&&"arrayValue"in e}function k1(e){return!!e&&"nullValue"in e}function R1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dd(e){return!!e&&"mapValue"in e}function iF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[cj])==null?void 0:n.stringValue)===dj}function Kl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ba(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Kl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Kl(e.arrayValue.values[r]);return t}return{...e}}function aF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===nF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.value=t}static empty(){return new br({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Dd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(r)}setAll(t){let r=Gt.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Kl(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Dd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){ba(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new br(Kl(this.value))}}function fj(e){const t=[];return ba(e.fields,(r,n)=>{const i=new Gt([r]);if(Dd(n)){const a=fj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Lr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ar(t,0,le.min(),le.min(),le.min(),br.empty(),0)}static newFoundDocument(t,r,n,i){return new ar(t,1,r,le.min(),n,i,0)}static newNoDocument(t,r){return new ar(t,2,r,le.min(),le.min(),br.empty(),0)}static newUnknownDocument(t,r){return new ar(t,3,r,le.min(),le.min(),br.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r){this.position=t,this.inclusive=r}}function D1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(s.referenceValue),r.key):n=mo(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function M1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Wn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,r="asc"){this.field=t,this.dir=r}}function sF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{}class vt extends hj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new lF(t,r,n):r==="array-contains"?new dF(t,n):r==="in"?new fF(t,n):r==="not-in"?new hF(t,n):r==="array-contains-any"?new pF(t,n):new vt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new uF(t,n):new cF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(mo(r,this.value)):r!==null&&pa(this.value)===pa(r)&&this.matchesComparison(mo(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends hj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new En(t,r)}matches(t){return pj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pj(e){return e.op==="and"}function mj(e){return oF(e)&&pj(e)}function oF(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function Uv(e){if(e instanceof vt)return e.field.canonicalString()+e.op.toString()+go(e.value);if(mj(e))return e.filters.map(t=>Uv(t)).join(",");{const t=e.filters.map(r=>Uv(r)).join(",");return`${e.op}(${t})`}}function gj(e,t){return e instanceof vt?function(n,i){return i instanceof vt&&n.op===i.op&&n.field.isEqual(i.field)&&Wn(n.value,i.value)}(e,t):e instanceof En?function(n,i){return i instanceof En&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&gj(s,i.filters[o]),!0):!1}(e,t):void ae(19439)}function vj(e){return e instanceof vt?function(r){return`${r.field.canonicalString()} ${r.op} ${go(r.value)}`}(e):e instanceof En?function(r){return r.op.toString()+" {"+r.getFilters().map(vj).join(" ,")+"}"}(e):"Filter"}class lF extends vt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class uF extends vt{constructor(t,r){super(t,"in",r),this.keys=yj("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class cF extends vt{constructor(t,r){super(t,"not-in",r),this.keys=yj("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function yj(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class dF extends vt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return aw(r)&&wu(r.arrayValue,this.value)}}class fF extends vt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&wu(this.value.arrayValue,r)}}class hF extends vt{constructor(t,r){super(t,"not-in",r)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!wu(this.value.arrayValue,r)}}class pF extends vt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!aw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>wu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function L1(e,t=null,r=[],n=[],i=null,a=null,s=null){return new mF(e,t,r,n,i,a,s)}function sw(e){const t=ue(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Uv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),qh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>go(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>go(n)).join(",")),t.Te=r}return t.Te}function ow(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!sF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!gj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!M1(e.startAt,t.startAt)&&M1(e.endAt,t.endAt)}function Bv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gF(e,t,r,n,i,a,s,o){return new qu(e,t,r,n,i,a,s,o)}function Kh(e){return new qu(e)}function V1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function wj(e){return e.collectionGroup!==null}function Hl(e){const t=ue(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(Gt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Sf(a,n))}),r.has(Gt.keyField().canonicalString())||t.Ie.push(new Sf(Gt.keyField(),n))}return t.Ie}function Vn(e){const t=ue(e);return t.Ee||(t.Ee=vF(t,Hl(e))),t.Ee}function vF(e,t){if(e.limitType==="F")return L1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sf(i.field,a)});const r=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return L1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function qv(e,t){const r=e.filters.concat([t]);return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Wv(e,t,r){return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Hh(e,t){return ow(Vn(e),Vn(t))&&e.limitType===t.limitType}function xj(e){return`${sw(Vn(e))}|lt:${e.limitType}`}function js(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>vj(i)).join(", ")}]`),qh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>go(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>go(i)).join(",")),`Target(${n})`}(Vn(e))}; limitType=${e.limitType})`}function Gh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Hl(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=D1(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Hl(n),i)||n.endAt&&!function(s,o,l){const u=D1(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Hl(n),i))}(e,t)}function yF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _j(e){return(t,r)=>{let n=!1;for(const i of Hl(e)){const a=wF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function wF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?mo(l,u):ae(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ae(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ba(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return ij(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=new rt(ie.comparator);function gi(){return xF}const bj=new rt(ie.comparator);function jl(...e){let t=bj;for(const r of e)t=t.insert(r.key,r);return t}function Ej(e){let t=bj;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ua(){return Gl()}function Sj(){return Gl()}function Gl(){return new ms(e=>e.toString(),(e,t)=>e.isEqual(t))}const _F=new rt(ie.comparator),bF=new Ct(ie.comparator);function _e(...e){let t=bF;for(const r of e)t=t.add(r);return t}const EF=new Ct(xe);function SF(){return EF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function Aj(e){return{integerValue:""+e}}function AF(e,t){return Z3(t)?Aj(t):lw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function PF(e,t,r){return e instanceof Af?function(i,a){const s={fields:{[oj]:{stringValue:sj},[uj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iw(a)&&(a=Wh(a)),a&&(s.fields[lj]=a),{mapValue:s}}(r,t):e instanceof xu?Tj(e,t):e instanceof _u?Cj(e,t):function(i,a){const s=Pj(i,a),o=F1(s)+F1(i.Ae);return zv(s)&&zv(i.Ae)?Aj(o):lw(i.serializer,o)}(e,t)}function TF(e,t,r){return e instanceof xu?Tj(e,t):e instanceof _u?Cj(e,t):r}function Pj(e,t){return e instanceof Pf?function(n){return zv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Af extends Qh{}class xu extends Qh{constructor(t){super(),this.elements=t}}function Tj(e,t){const r=Ij(t);for(const n of e.elements)r.some(i=>Wn(i,n))||r.push(n);return{arrayValue:{values:r}}}class _u extends Qh{constructor(t){super(),this.elements=t}}function Cj(e,t){let r=Ij(t);for(const n of e.elements)r=r.filter(i=>!Wn(i,n));return{arrayValue:{values:r}}}class Pf extends Qh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function F1(e){return ut(e.integerValue||e.doubleValue)}function Ij(e){return aw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function CF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof xu&&i instanceof xu||n instanceof _u&&i instanceof _u?po(n.elements,i.elements,Wn):n instanceof Pf&&i instanceof Pf?Wn(n.Ae,i.Ae):n instanceof Af&&i instanceof Af}(e.transform,t.transform)}class IF{constructor(t,r){this.version=t,this.transformResults=r}}class tn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new tn}static exists(t){return new tn(void 0,t)}static updateTime(t){return new tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Md(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Yh{}function jj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uw(e.key,tn.none()):new Wu(e.key,e.data,tn.none());{const r=e.data,n=br.empty();let i=new Ct(Gt.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Ea(e.key,n,new Lr(i.toArray()),tn.none())}}function jF(e,t,r){e instanceof Wu?function(i,a,s){const o=i.value.clone(),l=z1(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Ea?function(i,a,s){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=z1(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(Nj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Ql(e,t,r,n){return e instanceof Wu?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=a.value.clone(),c=U1(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Ea?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=U1(a.fieldTransforms,l,s),c=s.data;return c.setAll(Nj(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,s,o){return Md(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function NF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Pj(n.transform,i||null);a!=null&&(r===null&&(r=br.empty()),r.set(n.field,a))}return r||null}function $1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&po(n,i,(a,s)=>CF(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wu extends Yh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ea extends Yh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Nj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function z1(e,t,r){const n=new Map;Ie(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,TF(s,o,r[i]))}return n}function U1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,PF(a,s,t))}return n}class uw extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OF extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&jF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ql(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ql(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Sj();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=jj(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(le.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),_e())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(r,n)=>$1(r,n))&&po(this.baseMutations,t.baseMutations,(r,n)=>$1(r,n))}}class cw{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ie(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return _F}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new cw(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ee;function MF(e){switch(e){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:e})}}function Oj(e){if(e===void 0)return mi("GRPC error has no .code"),F.UNKNOWN;switch(e){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:e})}}(Ee=pt||(pt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new sa([4294967295,4294967295],0);function B1(e){const t=LF().encode(e),r=new HI;return r.update(t),new Uint8Array(r.digest())}function q1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new sa([r,n],0),new sa([i,a],0)]}class dw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Nl(`Invalid padding: ${r}`);if(n<0)throw new Nl(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=sa.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(sa.fromNumber(n)));return i.compare(VF)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=B1(t),[n,i]=q1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new dw(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=B1(t),[n,i]=q1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Xh(le.min(),i,new rt(xe),gi(),_e())}}class Ku{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ku(n,r,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class kj{constructor(t,r){this.targetId=t,this.Ce=r}}class Rj{constructor(t,r,n=Zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class W1{constructor(){this.ve=0,this.Fe=K1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=_e(),r=_e(),n=_e();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ae(38017,{changeType:a})}}),new Ku(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=K1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FF{constructor(t){this.Ge=t,this.ze=new Map,this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ae(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Bv(a))if(n===0){const s=new ie(a.path);this.et(r,s,ar.newNoDocument(s,le.min()))}else Ie(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ha(n).toUint8Array()}catch(l){if(l instanceof aj)return ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new dw(s,i,a)}catch(l){return ho(l instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Bv(o.target)){const l=new ie(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,ar.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=_e();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new Xh(t,r,this.Ye,this.je,n);return this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new W1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Ct(xe),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Ct(xe),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new W1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function rd(){return new rt(ie.comparator)}function K1(){return new rt(ie.comparator)}const $F={asc:"ASCENDING",desc:"DESCENDING"},zF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UF={and:"AND",or:"OR"};class BF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Kv(e,t){return e.useProto3Json||qh(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qF(e,t){return Tf(e,t.toTimestamp())}function Fn(e){return Ie(!!e,49232),le.fromTimestamp(function(r){const n=fa(r);return new We(n.seconds,n.nanos)}(e))}function fw(e,t){return Hv(e,t).canonicalString()}function Hv(e,t){const r=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Mj(e){const t=Ve.fromString(e);return Ie(zj(t),10190,{key:t.toString()}),t}function Gv(e,t){return fw(e.databaseId,t.path)}function dg(e,t){const r=Mj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie(Vj(r))}function Lj(e,t){return fw(e.databaseId,t)}function WF(e){const t=Mj(e);return t.length===4?Ve.emptyPath():Vj(t)}function Qv(e){return new Ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vj(e){return Ie(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function H1(e,t,r){return{name:Gv(e,t),fields:r.value.mapValue.fields}}function KF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ie(c===void 0||typeof c=="string",58123),Zt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?F.UNKNOWN:Oj(u.code);return new Y(c,u.message||"")}(s);r=new Rj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=dg(e,n.document.name),a=Fn(n.document.updateTime),s=n.document.createTime?Fn(n.document.createTime):le.min(),o=new br({mapValue:{fields:n.document.fields}}),l=ar.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Ld(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=dg(e,n.document),a=n.readTime?Fn(n.readTime):le.min(),s=ar.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Ld([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=dg(e,n.document),a=n.removedTargetIds||[];r=new Ld([],a,i,null)}else{if(!("filter"in t))return ae(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new DF(i,a),o=n.targetId;r=new kj(o,s)}}return r}function HF(e,t){let r;if(t instanceof Wu)r={update:H1(e,t.key,t.value)};else if(t instanceof uw)r={delete:Gv(e,t.key)};else if(t instanceof Ea)r={update:H1(e,t.key,t.data),updateMask:r6(t.fieldMask)};else{if(!(t instanceof OF))return ae(16599,{Vt:t.type});r={verify:Gv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _u)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ae(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ae(27497)}(e,t.precondition)),r}function GF(e,t){return e&&e.length>0?(Ie(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?Fn(i.updateTime):Fn(a);return s.isEqual(le.min())&&(s=Fn(a)),new IF(s,i.transformResults||[])}(r,t))):[]}function QF(e,t){return{documents:[Lj(e,t.path)]}}function YF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Lj(e,i);const a=function(u){if(u.length!==0)return $j(En.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Ns(p.field),direction:JF(p.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Kv(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function XF(e){let t=WF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ie(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=Fj(d);return p instanceof En&&mj(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(p=>function(g){return new Sf(Os(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,qh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new Ef(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new Ef(m,p)}(r.endAt)),gF(t,i,s,a,o,"F",l,u)}function ZF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Fj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Os(r.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Os(r.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Os(r.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Os(r.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(e):e.fieldFilter!==void 0?function(r){return vt.create(Os(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return En.create(r.compositeFilter.filters.map(n=>Fj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(r.compositeFilter.op))}(e):ae(30097,{filter:e})}function JF(e){return $F[e]}function e6(e){return zF[e]}function t6(e){return UF[e]}function Ns(e){return{fieldPath:e.canonicalString()}}function Os(e){return Gt.fromServerFormat(e.fieldPath)}function $j(e){return e instanceof vt?function(r){if(r.op==="=="){if(R1(r.value))return{unaryFilter:{field:Ns(r.field),op:"IS_NAN"}};if(k1(r.value))return{unaryFilter:{field:Ns(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(R1(r.value))return{unaryFilter:{field:Ns(r.field),op:"IS_NOT_NAN"}};if(k1(r.value))return{unaryFilter:{field:Ns(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(r.field),op:e6(r.op),value:r.value}}}(e):e instanceof En?function(r){const n=r.getFilters().map(i=>$j(i));return n.length===1?n[0]:{compositeFilter:{op:t6(r.op),filters:n}}}(e):ae(54877,{filter:e})}function r6(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function zj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r,n,i,a=le.min(),s=le.min(),o=Zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.yt=t}}function i6(e){const t=XF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Wv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Cn=new s6}addToCollectionParentIndex(t,r){return this.Cn.add(r),$.resolve()}getCollectionParents(t,r){return $.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $.resolve()}deleteFieldIndex(t,r){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,r){return $.resolve()}getDocumentsMatchingTarget(t,r){return $.resolve(null)}getIndexType(t,r){return $.resolve(0)}getFieldIndexes(t,r){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,r){return $.resolve(da.min())}getMinOffsetFromCollectionGroup(t,r){return $.resolve(da.min())}updateCollectionGroup(t,r,n){return $.resolve()}updateIndexEntries(t,r){return $.resolve()}}class s6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Ct(Ve.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ct(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uj=41943040;class xr{static withCacheSize(t){return new xr(t,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(Uj,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="LruGarbageCollector",o6=1048576;function Y1([e,t],[r,n]){const i=xe(e,r);return i===0?xe(t,n):i}class l6{constructor(t){this.Ir=t,this.buffer=new Ct(Y1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Y1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class u6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(Q1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Mo(r)?X(Q1,"Ignoring IndexedDB error during garbage collection: ",r):await Do(r)}await this.Vr(3e5)})}}class c6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return $.resolve(Bh.ce);const n=new l6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(G1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(u=Date.now(),Is()<=Se.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function d6(e,t){return new c6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.changes=new ms(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ar.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Ql(n.mutation,i,Lr.empty(),We.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,_e()).next(()=>n))}getLocalViewOfDocuments(t,r,n=_e()){const i=Ua();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=jl();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Ua();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,_e()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=gi();const s=Gl(),o=function(){return Gl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ea)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ql(c.mutation,u,c.mutation.getFieldMask(),We.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>o.set(u,new h6(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Gl();let i=new rt((s,o)=>s-o),a=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Lr.empty();c=o.applyToLocalView(u,c),n.set(l,c);const d=(i.get(o.batchId)||_e()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=Sj();c.forEach(p=>{if(!a.has(p)){const m=jj(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return $.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):wj(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$.resolve(Ua());let o=gu,l=a;return s.next(u=>$.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,_e())).next(c=>({batchId:o,changes:Ej(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=jl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=jl();return this.indexManager.getCollectionParents(t,a).next(o=>$.forEach(o,l=>{const u=function(d,p){return new qu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ar.newInvalidDocument(c)))});let o=jl();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Ql(c.mutation,u,Lr.empty(),We.now()),Gh(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(r)),$.resolve()}getNamedQuery(t,r){return $.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:i6(i.bundledQuery),readTime:Fn(i.readTime)}}(r)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(t,r){return $.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ua();return $.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),$.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(t,r,n){const i=Ua(),a=r.length+1,s=new ie(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new rt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ua(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Ua(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return $.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new RF(r,n));let a=this.qr.get(r);a===void 0&&(a=_e(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Qr=new Ct(Mt.$r),this.Ur=new Ct(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Mt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Mt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1);let a=_e();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Mt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Mt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||xe(t.Yr,r.Yr)}static Kr(t,r){return xe(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kF(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Mt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(t,r){return $.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?nw:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Mt(r,0),i=new Mt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ct(xe);return r.forEach(i=>{const a=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const s=new Mt(new ie(a),0);let o=new Ct(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),$.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ie(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(r.mutations,i=>{const a=new Mt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Mt(r,0),i=this.Zr.firstAfterOrEqual(n);return $.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t){this.ri=t,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $.resolve(n?n.document.mutableCopy():ar.newInvalidDocument(r))}getEntries(t,r){let n=gi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))}),$.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=gi();const s=r.path,o=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||G3(H3(c),n)<=0||(i.has(c.key)||Gh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(t,r,n,i){ae(9500)}ii(t,r){return $.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new x6(this)}getSize(t){return $.resolve(this.size)}}class x6 extends f6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),$.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.persistence=t,this.si=new ms(r=>sw(r),ow),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new hw,this.targetCount=0,this.ai=vo.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new vo(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$.resolve()}updateTargetData(t,r){return this.Pr(r),$.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),$.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $.resolve(n)}containsKey(t,r){return $.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new v6,this.referenceDelegate=t(this),this.Pi=new _6(this),this.indexManager=new a6,this.remoteDocumentCache=function(i){return new w6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new n6(r),this.Ii=new m6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new g6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new y6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new b6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class b6 extends Y3{constructor(t){super(),this.currentSequenceNumber=t}}class pw{constructor(t){this.persistence=t,this.Ri=new hw,this.Vi=null}static mi(t){return new pw(t)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,le.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return $.or([()=>$.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Cf{constructor(t,r){this.persistence=t,this.pi=new ms(n=>J3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=d6(this,r)}static mi(t,r){return new Cf(t,r)}Ei(){}di(t){return $.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return $.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?$.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,le.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Rd(t.data.value)),r}br(t,r,n){return $.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return $.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=_e(),i=_e();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return v4()?8:X3(m4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new E6;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Is()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",js(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Is()<=Se.DEBUG&&X("QueryEngine","Query:",js(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Is()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",js(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vn(r))):$.resolve())}ys(t,r){if(V1(r))return $.resolve(null);let n=Vn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Wv(r,null,"F"),n=Vn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=_e(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(t,Wv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return V1(r)||i.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?$.resolve(null):(Is()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(r)),this.vs(t,s,r,K3(i,gu)).next(o=>o))})}Ds(t,r){let n=new Ct(_j(t));return r.forEach((i,a)=>{Gh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Is()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",js(r)),this.ps.getDocumentsMatchingQuery(t,r,da.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LocalStore",A6=3e8;class P6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new rt(xe),this.xs=new ms(a=>sw(a),ow),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function T6(e,t,r,n){return new P6(e,t,r,n)}async function qj(e,t){const r=ue(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=_e();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function C6(e,t){const r=ue(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,p=d.keys();let m=$.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(w=>{const v=u.docVersions.get(g);Ie(v!==null,48541),w.version.compareTo(v)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=_e();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function Wj(e){const t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function I6(e,t){const r=ue(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Zt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(w,v,x){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=A6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&o.push(r.Pi.updateTargetData(a,m))});let l=gi(),u=_e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(j6(a,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(le.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return $.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function j6(e,t,r){let n=_e(),i=_e();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=gi();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(le.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):X(gw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function N6(e,t){const r=ue(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=nw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function O6(e,t){const r=ue(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,$.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Qi(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Yv(e,t,r){const n=ue(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mo(s))throw s;X(gw,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function X1(e,t,r){const n=ue(e);let i=le.min(),a=_e();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ue(l),p=d.xs.get(c);return p!==void 0?$.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(n,s,Vn(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:le.min(),r?a:_e())).next(o=>(k6(n,yF(t),o),{documents:o,Qs:a})))}function k6(e,t,r){let n=e.Os.get(t)||le.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class Z1{constructor(){this.activeTargetIds=SF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R6{constructor(){this.Mo=new Z1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Z1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="ConnectivityMonitor";class eS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(J1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(J1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Xv(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="RestConnection",M6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===_f?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=Xv(),o=this.zo(t,r.toUriEncodedString());X(fg,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=J0(u);return this.Jo(t,o,l,n,c).then(d=>(X(fg,`Received RPC '${t}' ${s}: `,d),d),d=>{throw ho(fg,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=M6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class F6 extends L6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=Xv();return new Promise((o,l)=>{const u=new GI;u.setWithCredentials(!0),u.listenOnce(QI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kd.NO_ERROR:const d=u.getResponseJson();X(tr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case kd.TIMEOUT:X(tr,`RPC '${t}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const p=u.getStatus();if(X(tr,`RPC '${t}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(g.status);l(new Y(w,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(tr,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);X(tr,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Xv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ZI(),o=XI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(tr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new V6({Yo:v=>{m?X(tr,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(p||(X(tr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),X(tr,`RPC '${t}' stream ${i} sending:`,v),d.send(v))},Zo:()=>d.close()}),w=(v,x,E)=>{v.listen(x,A=>{try{E(A)}catch(j){setTimeout(()=>{throw j},0)}})};return w(d,Il.EventType.OPEN,()=>{m||(X(tr,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),w(d,Il.EventType.CLOSE,()=>{m||(m=!0,X(tr,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(d))}),w(d,Il.EventType.ERROR,v=>{m||(m=!0,ho(tr,`RPC '${t}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),w(d,Il.EventType.MESSAGE,v=>{var x;if(!m){const E=v.data[0];Ie(!!E,16349);const A=E,j=(A==null?void 0:A.error)||((x=A[0])==null?void 0:x.error);if(j){X(tr,`RPC '${t}' stream ${i} received error:`,j);const T=j.status;let N=function(I){const D=pt[I];if(D!==void 0)return Oj(D)}(T),b=j.message;N===void 0&&(N=F.INTERNAL,b="Unknown error status: "+T+" with message "+j.message),m=!0,g.a_(new Y(N,b)),d.close()}else X(tr,`RPC '${t}' stream ${i} received:`,E),g.u_(E)}}),w(o,YI.STAT_EVENT,v=>{v.stat===Vv.PROXY?X(tr,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Vv.NOPROXY&&X(tr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){return new BF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="PersistentStream";class Hj{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(mi(r.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(tS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(tS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $6 extends Hj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=KF(this.serializer,t),n=function(a){if(!("targetChange"in a))return le.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Fn(s.readTime):le.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Qv(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Bv(l)?{documents:QF(a,l)}:{query:YF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Dj(a,s.resumeToken);const u=Kv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){o.readTime=Tf(a,s.snapshotVersion.toTimestamp());const u=Kv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=ZF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Qv(this.serializer),r.removeTarget=t,this.q_(r)}}class z6 extends Hj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=GF(t.writeResults,t.commitTime),n=Fn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Qv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>HF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{}class B6 extends U6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,Hv(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,Hv(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class q6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class W6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{gs(this)&&(X(as,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Hu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jh(u)}(this))})}),this.Ra=new q6(n,i)}}async function Jh(e){if(gs(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function Gj(e,t){const r=ue(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),xw(r)?ww(r):Lo(r).O_()&&yw(r,t))}function vw(e,t){const r=ue(e),n=Lo(r);r.Ia.delete(t),n.O_()&&Qj(r,t),r.Ia.size===0&&(n.O_()?n.L_():gs(r)&&r.Ra.set("Unknown"))}function yw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(le.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Lo(e).Y_(t)}function Qj(e,t){e.Va.Ue(t),Lo(e).Z_(t)}function ww(e){e.Va=new FF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Lo(e).start(),e.Ra.ua()}function xw(e){return gs(e)&&!Lo(e).x_()&&e.Ia.size>0}function gs(e){return ue(e).Ea.size===0}function Yj(e){e.Va=void 0}async function K6(e){e.Ra.set("Online")}async function H6(e){e.Ia.forEach((t,r)=>{yw(e,t)})}async function G6(e,t){Yj(e),xw(e)?(e.Ra.ha(t),ww(e)):e.Ra.set("Unknown")}async function Q6(e,t,r){if(e.Ra.set("Online"),t instanceof Rj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){X(as,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await If(e,n)}else if(t instanceof Ld?e.Va.Ze(t):t instanceof kj?e.Va.st(t):e.Va.tt(t),!r.isEqual(le.min()))try{const n=await Wj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Zt.EMPTY_BYTE_STRING,c.snapshotVersion)),Qj(a,l);const d=new Qi(c.target,l,u,c.sequenceNumber);yw(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){X(as,"Failed to raise snapshot:",n),await If(e,n)}}async function If(e,t,r){if(!Mo(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),r||(r=()=>Wj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(as,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Jh(e)})}function Xj(e,t){return t().catch(r=>If(e,r,t))}async function ep(e){const t=ue(e),r=ma(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nw;for(;Y6(t);)try{const i=await N6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,X6(t,i)}catch(i){await If(t,i)}Zj(t)&&Jj(t)}function Y6(e){return gs(e)&&e.Ta.length<10}function X6(e,t){e.Ta.push(t);const r=ma(e);r.O_()&&r.X_&&r.ea(t.mutations)}function Zj(e){return gs(e)&&!ma(e).x_()&&e.Ta.length>0}function Jj(e){ma(e).start()}async function Z6(e){ma(e).ra()}async function J6(e){const t=ma(e);for(const r of e.Ta)t.ea(r.mutations)}async function e$(e,t,r){const n=e.Ta.shift(),i=cw.from(n,t,r);await Xj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ep(e)}async function t$(e,t){t&&ma(e).X_&&await async function(n,i){if(function(s){return MF(s)&&s!==F.ABORTED}(i.code)){const a=n.Ta.shift();ma(n).B_(),await Xj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ep(n)}}(e,t),Zj(e)&&Jj(e)}async function rS(e,t){const r=ue(e);r.asyncQueue.verifyOperationInProgress(),X(as,"RemoteStore received new credentials");const n=gs(r);r.Ea.add(3),await Hu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Jh(r)}async function r$(e,t){const r=ue(e);t?(r.Ea.delete(2),await Jh(r)):t||(r.Ea.add(2),await Hu(r),r.Ra.set("Unknown"))}function Lo(e){return e.ma||(e.ma=function(r,n,i){const a=ue(r);return a.sa(),new $6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:K6.bind(null,e),t_:H6.bind(null,e),r_:G6.bind(null,e),H_:Q6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xw(e)?ww(e):e.Ra.set("Unknown")):(await e.ma.stop(),Yj(e))})),e.ma}function ma(e){return e.fa||(e.fa=function(r,n,i){const a=ue(r);return a.sa(),new z6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z6.bind(null,e),r_:t$.bind(null,e),ta:J6.bind(null,e),na:e$.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ep(e)):(await e.fa.stop(),e.Ta.length>0&&(X(as,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new _w(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bw(e,t){if(mi("AsyncQueue",`${t}: ${e}`),Mo(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=jl(),this.sortedSet=new rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new to;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.ga=new rt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ae(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class yo{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new yo(t,r,to.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class i${constructor(){this.queries=iS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ue(r),a=i.queries;i.queries=iS(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function iS(){return new ms(e=>xj(e),Hh)}async function Ew(e,t){const r=ue(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new n$,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=bw(s,`Initialization of query '${js(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&Aw(r)}async function Sw(e,t){const r=ue(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function a$(e,t){const r=ue(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Aw(r)}function s$(e,t,r){const n=ue(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function Aw(e){e.Ca.forEach(t=>{t.next()})}var Zv,aS;(aS=Zv||(Zv={})).Ma="default",aS.Cache="cache";class Pw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new yo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.key=t}}class tN{constructor(t){this.key=t}}class o${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=_j(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new nS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Gh(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(n.track({type:3,doc:m}),v=!0):this.su(p,m)||(n.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),v=!0):p&&!m&&(n.track({type:1,doc:p}),v=!0,(l||u)&&(o=!0)),v&&(m?(s=s.add(m),a=w?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,d)=>function(m,g){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:v})}};return w(m)-w(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new yo(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=_e(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new tN(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new eN(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=_e();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tw="SyncEngine";class l${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class u${constructor(t){this.key=t,this.hu=!1}}class c${constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ms(o=>xj(o),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new hw,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d$(e,t,r=!0){const n=oN(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await rN(n,t,r,!0),i}async function f$(e,t){const r=oN(e);await rN(r,t,!0,!1)}async function rN(e,t,r,n){const i=await O6(e.localStore,Vn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await h$(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Gj(e.remoteStore,i),o}async function h$(e,t,r,n,i){e.pu=(d,p,m)=>async function(w,v,x,E){let A=v.view.ru(x);A.Cs&&(A=await X1(w.localStore,v.query,!1).then(({documents:b})=>v.view.ru(b,A)));const j=E&&E.targetChanges.get(v.targetId),T=E&&E.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(A,w.isPrimaryClient,j,T);return oS(w,v.targetId,N.au),N.snapshot}(e,d,p,m);const a=await X1(e.localStore,t,!0),s=new o$(t,a.Qs),o=s.ru(a.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);oS(e,r,u.au);const c=new l$(t,r,s);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function p$(e,t,r){const n=ue(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Hh(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Yv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&vw(n.remoteStore,i.targetId),Jv(n,i.targetId)}).catch(Do)):(Jv(n,i.targetId),await Yv(n.localStore,i.targetId,!0))}async function m$(e,t){const r=ue(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),vw(r.remoteStore,n.targetId))}async function g$(e,t,r){const n=E$(e);try{const i=await function(s,o){const l=ue(s),u=We.now(),c=o.reduce((m,g)=>m.add(g.key),_e());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=gi(),w=_e();return l.Ns.getEntries(m,c).next(v=>{g=v,g.forEach((x,E)=>{E.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{d=v;const x=[];for(const E of o){const A=NF(E,d.get(E.key).overlayedDocument);A!=null&&x.push(new Ea(E.key,A,fj(A.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(v=>{p=v;const x=v.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:p.batchId,changes:Ej(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new rt(xe)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await Gu(n,i.changes),await ep(n.remoteStore)}catch(i){const a=bw(i,"Failed to persist write");r.reject(a)}}async function nN(e,t){const r=ue(e);try{const n=await I6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ie(s.hu,14607):i.removedDocuments.size>0&&(Ie(s.hu,42227),s.hu=!1))}),await Gu(r,n,t)}catch(n){await Do(n)}}function sS(e,t,r){const n=ue(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ue(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(o)&&(u=!0)}),u&&Aw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function v$(e,t,r){const n=ue(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new rt(ie.comparator);s=s.insert(a,ar.newNoDocument(a,le.min()));const o=_e().add(a),l=new Xh(le.min(),new Map,new rt(xe),s,o);await nN(n,l),n.du=n.du.remove(a),n.Au.delete(t),Cw(n)}else await Yv(n.localStore,t,!1).then(()=>Jv(n,t,r)).catch(Do)}async function y$(e,t){const r=ue(e),n=t.batch.batchId;try{const i=await C6(r.localStore,t);aN(r,n,null),iN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Gu(r,i)}catch(i){await Do(i)}}async function w$(e,t,r){const n=ue(e);try{const i=await function(s,o){const l=ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Ie(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);aN(n,t,r),iN(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Gu(n,i)}catch(i){await Do(i)}}function iN(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function aN(e,t,r){const n=ue(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Jv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||sN(e,n)})}function sN(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(vw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),Cw(e))}function oS(e,t,r){for(const n of r)n instanceof eN?(e.Ru.addReference(n.key,t),x$(e,n)):n instanceof tN?(X(Tw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||sN(e,n.key)):ae(19791,{wu:n})}function x$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(Tw,"New document in limbo: "+r),e.Eu.add(n),Cw(e))}function Cw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie(Ve.fromString(t)),n=e.fu.next();e.Au.set(n,new u$(r)),e.du=e.du.insert(r,n),Gj(e.remoteStore,new Qi(Vn(Kh(r.path)),n,"TargetPurposeLimboResolution",Bh.ce))}}async function Gu(e,t,r){const n=ue(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=mw.As(l.targetId,u);a.push(d)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,p=>$.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>$.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Mo(d))throw d;X(gw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,w)}}}(n.localStore,a))}async function _$(e,t){const r=ue(e);if(!r.currentUser.isEqual(t)){X(Tw,"User change. New user:",t.toKey());const n=await qj(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Gu(r,n.Ls)}}function b$(e,t){const r=ue(e),n=r.Au.get(t);if(n&&n.hu)return _e().add(n.key);{let i=_e();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function oN(e){const t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=b$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v$.bind(null,t),t.Pu.H_=a$.bind(null,t.eventManager),t.Pu.yu=s$.bind(null,t.eventManager),t}function E$(e){const t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w$.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return T6(this.persistence,new S6,t.initialUser,this.serializer)}Cu(t){return new Bj(pw.mi,this.serializer)}Du(t){return new R6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class S$ extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ie(this.persistence.referenceDelegate instanceof Cf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new u6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new Bj(n=>Cf.mi(n,r),this.serializer)}}class ey{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>sS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=_$.bind(null,this.syncEngine),await r$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new i$}()}createDatastore(t){const r=Zh(t.databaseInfo.databaseId),n=function(a){return new F6(a)}(t.databaseInfo);return function(a,s,o,l){return new B6(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new W6(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>sS(this.syncEngine,r,0),function(){return eS.v()?new eS:new D6}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const d=new c$(i,a,s,o,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ue(i);X(as,"RemoteStore shutting down."),a.Ea.add(5),await Hu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class A${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{X(ga,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X(ga,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=bw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function pg(e,t){e.asyncQueue.verifyOperationInProgress(),X(ga,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await qj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function lS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await P$(e);X(ga,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>rS(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>rS(t.remoteStore,i)),e._onlineComponents=t}async function P$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(ga,"Using user provided OfflineComponentProvider");try{await pg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ho("Error using user provided cache. Falling back to memory cache: "+r),await pg(e,new jf)}}else X(ga,"Using default OfflineComponentProvider"),await pg(e,new S$(void 0));return e._offlineComponents}async function lN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(ga,"Using user provided OnlineComponentProvider"),await lS(e,e._uninitializedComponentsProvider._online)):(X(ga,"Using default OnlineComponentProvider"),await lS(e,new ey))),e._onlineComponents}function T$(e){return lN(e).then(t=>t.syncEngine)}async function Nf(e){const t=await lN(e),r=t.eventManager;return r.onListen=d$.bind(null,t.syncEngine),r.onUnlisten=p$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=f$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=m$.bind(null,t.syncEngine),r}function C$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,d));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Pw(Kh(o.path),c,{includeMetadataChanges:!0,qa:!0});return Ew(a,d)}(await Nf(e),e.asyncQueue,t,r,n)),n.promise}function I$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,d)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Pw(o,c,{includeMetadataChanges:!0,qa:!0});return Ew(a,d)}(await Nf(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firestore.googleapis.com",cS=!0;class dS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cN,this.ssl=cS}else this.host=t.host,this.ssl=t.ssl??cS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Uj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<o6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uN(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tp{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new D3;switch(n.type){case"firstParty":return new F3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=uS.get(r);n&&(X("ComponentProvider","Removing Datastore"),uS.delete(r),n.terminate())}(this),Promise.resolve()}}function j$(e,t,r,n={}){var u;e=Cr(e,tp);const i=J0(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(c4(`https://${o}`),p4("Firestore",!0)),a.host!==cN&&a.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!vf(l,s)&&(e._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=nr.MOCK_USER;else{c=d4(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new nr(p)}e._authCredentials=new M3(new ej(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class ot{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ot(this.firestore,t,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Bu(r,ot._jsonSchema))return new ot(t,n||null,new ie(Ve.fromString(r.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:yt("string",ot._jsonSchemaVersion),referencePath:yt("string")};class oa extends vs{constructor(t,r,n){super(t,r,Kh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ot(this.firestore,null,new ie(t))}withConverter(t){return new oa(this.firestore,t,this._path)}}function ln(e,t,...r){if(e=qn(e),tj("collection","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return S1(n),new oa(e,null,n)}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return S1(n),new oa(e.firestore,null,n)}}function Ir(e,t,...r){if(e=qn(e),arguments.length===1&&(t=rw.newId()),tj("doc","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return E1(n),new ot(e,null,new ie(n))}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return E1(n),new ot(e.firestore,e instanceof oa?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="AsyncQueue";class hS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kj(this,"async_queue_retry"),this._c=()=>{const n=hg();n&&X(fS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=hg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=hg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;X(fS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",pS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=_w.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ae(47125,{Pc:pS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function pS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class vi extends tp{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new hS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hS(t),this._firestoreClient=void 0,await t}}}function N$(e,t){const r=typeof e=="object"?e:S3(),n=typeof e=="string"?e:_f,i=w3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=l4("firestore");a&&j$(i,...a)}return i}function rp(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||O$(e),e._firestoreClient}function O$(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,u,c){return new rF(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new A$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xr(Zt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Xr(Zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,Xr._jsonSchema))return Xr.fromBase64String(t.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:yt("string",Xr._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$n._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,$n._jsonSchema))return new $n(t.latitude,t.longitude)}}$n._jsonSchemaVersion="firestore/geoPoint/1.0",$n._jsonSchema={type:yt("string",$n._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new zn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:yt("string",zn._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=/^__.*__$/;class R${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms):new Wu(t,this.data,r,this.fieldTransforms)}}class dN{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function fN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:e})}}class Nw{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Of(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fN(this.Ac)&&k$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class D${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Zh(t)}Cc(t,r,n,i=!1){return new Nw({Ac:t,methodName:r,Dc:n,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(e){const t=e._freezeSettings(),r=Zh(e._databaseId);return new D$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function hN(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);Ow("Data must be an object, but it was:",s,n);const o=pN(n,s);let l,u;if(a.merge)l=new Lr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=ty(t,d,r);if(!s.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gN(c,p)||c.push(p)}l=new Lr(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new R$(new br(o),l,u)}class ap extends jw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ap}}function M$(e,t,r,n){const i=e.Cc(1,t,r);Ow("Data must be an object, but it was:",i,n);const a=[],s=br.empty();ba(n,(l,u)=>{const c=kw(t,l,r);u=qn(u);const d=i.yc(c);if(u instanceof ap)a.push(c);else{const p=Qu(u,d);p!=null&&(a.push(c),s.set(c,p))}});const o=new Lr(a);return new dN(s,o,i.fieldTransforms)}function L$(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[ty(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(ty(t,a[p])),l.push(a[p+1]);const u=[],c=br.empty();for(let p=o.length-1;p>=0;--p)if(!gN(u,o[p])){const m=o[p];let g=l[p];g=qn(g);const w=s.yc(m);if(g instanceof ap)u.push(m);else{const v=Qu(g,w);v!=null&&(u.push(m),c.set(m,v))}}const d=new Lr(u);return new dN(c,d,s.fieldTransforms)}function V$(e,t,r,n=!1){return Qu(r,e.Cc(n?4:3,t))}function Qu(e,t){if(mN(e=qn(e)))return Ow("Unsupported field value:",t,e),pN(e,t);if(e instanceof jw)return function(n,i){if(!fN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Qu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=qn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=We.fromDate(n);return{timestampValue:Tf(i.serializer,a)}}if(n instanceof We){const a=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,a)}}if(n instanceof $n)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xr)return{bytesValue:Dj(i.serializer,n._byteString)};if(n instanceof ot){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof zn)return function(s,o){return{mapValue:{fields:{[cj]:{stringValue:dj},[bf]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return lw(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Uh(n)}`)}(e,t)}function pN(e,t){const r={};return ij(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(e,(n,i)=>{const a=Qu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function mN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof We||e instanceof $n||e instanceof Xr||e instanceof ot||e instanceof jw||e instanceof zn)}function Ow(e,t,r){if(!mN(r)||!rj(r)){const n=Uh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ty(e,t,r){if((t=qn(t))instanceof np)return t._internalPath;if(typeof t=="string")return kw(e,t);throw Of("Field path arguments must be of type string or ",e,!1,void 0,r)}const F$=new RegExp("[~\\*/\\[\\]]");function kw(e,t,r){if(t.search(F$)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new np(...t.split("."))._internalPath}catch{throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Of(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function gN(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Rw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $$ extends vN{data(){return super.data()}}function Rw(e,t){return typeof t=="string"?kw(e,t):t instanceof np?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class z$ extends Dw{}function U$(e,t,...r){let n=[];t instanceof Dw&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof Mw).length,o=a.filter(l=>l instanceof sp).length;if(s>1||s>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class sp extends z${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new sp(t,r,n)}_apply(t){const r=this._parse(t);return wN(t._query,r),new vs(t.firestore,t.converter,qv(t._query,r))}_parse(t){const r=ip(t.firestore);return function(a,s,o,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){vS(d,c);const g=[];for(const w of d)g.push(gS(l,a,w));p={arrayValue:{values:g}}}else p=gS(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||vS(d,c),p=V$(o,s,d,c==="in"||c==="not-in");return vt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function B$(e,t,r){const n=t,i=Rw("where",e);return sp._create(i,n,r)}class Mw extends Dw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Mw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:En.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)wN(s,l),s=qv(s,l)}(t._query,r),new vs(t.firestore,t.converter,qv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gS(e,t,r){if(typeof(r=qn(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wj(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Ve.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return O1(e,new ie(n))}if(r instanceof ot)return O1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(r)}.`)}function vS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wN(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class q${convertValue(t,r="none"){switch(pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ae(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ba(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[bf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ut(s.doubleValue));return new zn(r)}convertGeoPoint(t){return new $n(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Wh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vu(t));default:return null}}convertTimestamp(t){const r=fa(t);return new We(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Ve.fromString(t);Ie(zj(n),9688,{name:t});const i=new yu(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||mi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Ol{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ga extends vN{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ga._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:yt("string",Ga._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vd extends Ga{data(t={}){return super.data(t)}}class Qa{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Vd(this._firestore,this._userDataWriter,n.key,n,new Ol(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:W$(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function W$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){e=Cr(e,ot);const t=Cr(e.firestore,vi);return C$(rp(t),e._key).then(r=>_N(t,e,r))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:yt("string",Qa._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vw extends q${constructor(t){super(),this.firestore=t}convertBytes(t){return new Xr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ot(this.firestore,null,r)}}function Yu(e){e=Cr(e,vs);const t=Cr(e.firestore,vi),r=rp(t),n=new Vw(t);return yN(e._query),I$(r,e._query).then(i=>new Qa(t,n,e,i))}function K$(e,t,r){e=Cr(e,ot);const n=Cr(e.firestore,vi),i=xN(e.converter,t,r);return up(n,[hN(ip(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,tn.none())])}function Xu(e,t,r,...n){e=Cr(e,ot);const i=Cr(e.firestore,vi),a=ip(i);let s;return s=typeof(t=qn(t))=="string"||t instanceof np?L$(a,"updateDoc",e._key,t,r,n):M$(a,"updateDoc",e._key,t),up(i,[s.toMutation(e._key,tn.exists(!0))])}function op(e){return up(Cr(e.firestore,vi),[new uw(e._key,tn.none())])}function lp(e,t){const r=Cr(e.firestore,vi),n=Ir(e),i=xN(e.converter,t);return up(r,[hN(ip(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,tn.exists(!1))]).then(()=>n)}function Fw(e,...t){var l,u,c;e=qn(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||mS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(mS(t[n])){const d=t[n];t[n]=(l=d.next)==null?void 0:l.bind(d),t[n+1]=(u=d.error)==null?void 0:u.bind(d),t[n+2]=(c=d.complete)==null?void 0:c.bind(d)}let a,s,o;if(e instanceof ot)s=Cr(e.firestore,vi),o=Kh(e._key.path),a={next:d=>{t[n]&&t[n](_N(s,e,d))},error:t[n+1],complete:t[n+2]};else{const d=Cr(e,vs);s=Cr(d.firestore,vi),o=d._query;const p=new Vw(s);a={next:m=>{t[n]&&t[n](new Qa(s,p,d,m))},error:t[n+1],complete:t[n+2]},yN(e._query)}return function(p,m,g,w){const v=new Iw(w),x=new Pw(m,v,g);return p.asyncQueue.enqueueAndForget(async()=>Ew(await Nf(p),x)),()=>{v.Nu(),p.asyncQueue.enqueueAndForget(async()=>Sw(await Nf(p),x))}}(rp(s),o,i,a)}function up(e,t){return function(n,i){const a=new oi;return n.asyncQueue.enqueueAndForget(async()=>g$(await T$(n),i,a)),a.promise}(rp(e),t)}function _N(e,t,r){const n=r.docs.get(t._key),i=new Vw(e);return new Ga(e,i,t._key,n,new Ol(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(i){Ro=i})(E3),wf(new pu("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new vi(new L3(n.getProvider("auth-internal")),new $3(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),eo(w1,x1,t),eo(w1,x1,"esm2020")})();var H$="firebase",G$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(H$,G$,"app");const Q$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},Y$=qI(Q$),He=N$(Y$),bN=async()=>(await Yu(ln(He,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),Da=async e=>{const t=Ir(He,"incidents",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},ry=async e=>(await lp(ln(He,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,fn=async(e,t)=>{const r=Ir(He,"incidents",e);await Xu(r,{...t})},X$=async e=>{await op(Ir(He,"incidents",e))},bu=async()=>(await Yu(ln(He,"users"))).docs.map(t=>({...t.data(),id:t.id})),EN=async e=>{const t=U$(ln(He,"users"),B$("username","==",e)),r=await Yu(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},kf=async e=>(await lp(ln(He,"users"),e)).id,SN=async(e,t)=>{const r=Ir(He,"users",e);await Xu(r,{...t})},Z$=async e=>{await op(Ir(He,"users",e))},J$=async(e,t)=>{const r=Ir(He,"users",e);await Xu(r,{preferences:t})},e5=async e=>{const r=(await bu()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},t5=async e=>{const t=await Da(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await fn(e.incidentId,{comments:n}),r.id},kl=async()=>(await Yu(ln(He,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),AN=async e=>(await lp(ln(He,"automationRules"),e)).id,r5=async(e,t)=>{const r=Ir(He,"automationRules",e);await Xu(r,{...t})},n5=async e=>{await op(Ir(He,"automationRules",e))},PN=async()=>{const e=Ir(He,"settings","app"),t=await Lw(e);return t.exists()?t.data():null},TN=async e=>{const t=Ir(He,"settings","app");await K$(t,e,{merge:!0})},i5=e=>Fw(ln(He,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),a5=e=>Fw(ln(He,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),s5=async()=>(await Yu(ln(He,"roles"))).docs.map(t=>({...t.data(),id:t.id})),$w=async e=>{const t=Ir(He,"roles",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},Fd=async e=>(await lp(ln(He,"roles"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,o5=async(e,t)=>{const r=Ir(He,"roles",e);await Xu(r,{...t})},l5=async e=>{await op(Ir(He,"roles",e))},CN=e=>Fw(ln(He,"roles"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),u5=async()=>{const e=await s5();if(e.length===0){const r=await Fd({name:"Administrador",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!0,viewAll:!0},users:{viewOwn:!0,editOwn:!0,viewAll:!0,create:!0,edit:!0,delete:!0},roles:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0},automation:{view:!0,create:!0,edit:!0,delete:!0}}});await Fd({name:"Usuario",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!0,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}}),await Fd({name:"Solo Lectura",isSystem:!0,permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!1,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}}),(await bu()).length===0&&await kf({username:"admin",password:"admin123",name:"Administrador",roleId:r,avatar:"",email:"admin@incidentalert.com"})}else if((await bu()).length===0){const n=e.find(i=>i.name==="Administrador");await kf({username:"admin",password:"admin123",name:"Administrador",roleId:(n==null?void 0:n.id)||e[0].id,avatar:"",email:"admin@incidentalert.com"})}await PN()||await TN({theme:"light",notifications:!0,autoAssign:!1,language:"es"})},c5=({onAdd:e})=>{const[t,r]=_.useState("MOV-"),[n,i]=_.useState(""),[a,s]=_.useState(""),[o,l]=_.useState(""),[u,c]=_.useState(""),[d,p]=_.useState(""),[m,g]=_.useState(""),[w,v]=_.useState(new Date().toISOString().split("T")[0]),[x,E]=_.useState("abierta"),[A,j]=_.useState("media"),[T,N]=_.useState("correctivo"),b=S=>{if(S.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const I={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:o.trim(),relevante:u.trim(),realizado:d.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:w,status:x,priority:A,type:T,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(I),r("MOV-"),i(""),s(""),l(""),c(""),p(""),g(""),v(new Date().toISOString().split("T")[0]),E("abierta"),j("media"),N("correctivo")};return f.jsx("div",{className:"incident-form-container",children:f.jsxs("form",{className:"incident-form",onSubmit:b,children:[f.jsx("h2",{children:" Crear Nueva Incidencia"}),f.jsxs("div",{className:"form-section",children:[f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),f.jsx("input",{id:"name",type:"text",value:t,onChange:S=>r(S.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"title",children:" Ttulo"}),f.jsx("input",{id:"title",type:"text",value:n,onChange:S=>i(S.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"description",children:"Descripcin"}),f.jsx("textarea",{id:"description",value:a,onChange:S=>s(S.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"relevante",children:" Relevante"}),f.jsx("textarea",{id:"relevante",value:u,onChange:S=>c(S.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"realizado",children:" Realizado"}),f.jsx("textarea",{id:"realizado",value:d,onChange:S=>p(S.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),f.jsx("textarea",{id:"clasesModificadas",value:m,onChange:S=>g(S.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Prioridad"}),f.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(S=>f.jsxs("button",{type:"button",className:`chip-option priority-${S} ${A===S?"selected":""}`,onClick:()=>j(S),children:[S==="baja"&&" Baja",S==="media"&&" Media",S==="alta"&&" Alta",S==="crtica"&&" Crtica"]},S))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Estado"}),f.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(S=>f.jsxs("button",{type:"button",className:`chip-option ${x===S?"selected":""}`,onClick:()=>E(S),children:[S==="abierta"&&"Abierta",S==="en-progreso"&&"En Progreso",S==="puesto-en-test"&&"Puesto en Test",S==="verificado-en-test"&&"Verificado en Test",S==="resuelta"&&"Resuelta",S==="cerrada"&&"Cerrada"]},S))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Tipo"}),f.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(S=>f.jsxs("button",{type:"button",className:`chip-option ${T===S?"selected":""}`,onClick:()=>N(S),children:[S==="correctivo"&&" Correctivo",S==="evolutivo"&&" Evolutivo",S==="tarea"&&" Tarea"]},S))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Informacin Adicional"}),f.jsxs("div",{className:"form-grid",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),f.jsx("input",{id:"creationDate",type:"date",value:w,onChange:S=>v(S.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),f.jsx("input",{id:"contactUser",type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Nombre del contacto"})]})]})]}),f.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},d5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=_.useState(e.name),[a,s]=_.useState(e.contactUser||""),[o,l]=_.useState(e.prQA2||""),[u,c]=_.useState(e.prMain||""),[d,p]=_.useState(e.creationDate||""),[m,g]=_.useState(e.status),[w,v]=_.useState(e.priority),[x,E]=_.useState(e.type),A=j=>{if(j.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:o.trim(),prMain:u.trim(),creationDate:d,status:m,priority:w,type:x})};return f.jsx("div",{className:"incident-edit-overlay",children:f.jsxs("form",{className:"incident-edit-form",onSubmit:A,children:[f.jsx("h2",{children:"Editar Incidencia"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),f.jsx("input",{id:"edit-name",type:"text",value:n,onChange:j=>i(j.target.value),placeholder:"Nombre de la incidencia"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),f.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:j=>s(j.target.value),placeholder:"Nombre del contacto"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),f.jsx("input",{id:"edit-prQA2",type:"text",value:o,onChange:j=>l(j.target.value),placeholder:"ID de PR para QA2"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),f.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:j=>c(j.target.value),placeholder:"ID de PR para MAIN"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),f.jsx("input",{id:"edit-creationDate",type:"date",value:d,onChange:j=>p(j.target.value)})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-status",children:"Estado"}),f.jsxs("select",{id:"edit-status",value:m,onChange:j=>g(j.target.value),children:[f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),f.jsxs("select",{id:"edit-priority",value:w,onChange:j=>v(j.target.value),children:[f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),f.jsxs("select",{id:"edit-type",value:x,onChange:j=>E(j.target.value),children:[f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function IN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=IN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=IN(e))&&(n&&(n+=" "),n+=t);return n}var f5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zw(e){if(typeof e!="string")return!1;var t=f5;return t.includes(e)}var h5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p5=new Set(h5);function jN(e){return typeof e!="string"?!1:p5.has(e)}function NN(e){return typeof e=="string"&&e.startsWith("data-")}function Sn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(jN(r)||NN(r))&&(t[r]=e[r]);return t}function Eu(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Sn(t)}return typeof e=="object"&&!Array.isArray(e)?Sn(e):null}function an(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(jN(r)||NN(r)||zw(r))&&(t[r]=e[r]);return t}var m5=["children","width","height","viewBox","className","style","title","desc"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function g5(e,t){if(e==null)return{};var r,n,i=v5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uw=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=g5(e,m5),d=a||{width:n,height:i,x:0,y:0},p=Oe("recharts-surface",s);return _.createElement("svg",ny({},an(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,l),_.createElement("desc",null,u),r)}),y5=["children","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}function w5(e,t){if(e==null)return{};var r,n,i=x5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pr=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=w5(e,y5),a=Oe("recharts-layer",n);return _.createElement("g",iy({className:a},an(i),{ref:t}),r)}),ON=_.createContext(null),_5=()=>_.useContext(ON);function Le(e){return function(){return e}}const kN=Math.cos,Rf=Math.sin,Tn=Math.sqrt,Df=Math.PI,cp=2*Df,ay=Math.PI,sy=2*ay,Ma=1e-6,b5=sy-Ma;function RN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function E5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RN;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class S5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RN:E5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,d=o-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ma)if(!(Math.abs(d*l-u*c)>Ma)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,w=l*l+u*u,v=m*m+g*g,x=Math.sqrt(w),E=Math.sqrt(p),A=a*Math.tan((ay-Math.acos((w+p-v)/(2*x*E)))/2),j=A/E,T=A/x;Math.abs(j-1)>Ma&&this._append`L${t+j*c},${r+j*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+T*l},${this._y1=r+T*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-c)>Ma)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%sy+sy),p>b5?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Ma&&this._append`A${n},${n},0,${+(p>=ay)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Bw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S5(t)}function qw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DN(e){this._context=e}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dp(e){return new DN(e)}function MN(e){return e[0]}function LN(e){return e[1]}function VN(e,t){var r=Le(!0),n=null,i=dp,a=null,s=Bw(o);e=typeof e=="function"?e:e===void 0?MN:Le(e),t=typeof t=="function"?t:t===void 0?LN:Le(t);function o(l){var u,c=(l=qw(l)).length,d,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Le(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function id(e,t,r){var n=null,i=Le(!0),a=null,s=dp,o=null,l=Bw(u);e=typeof e=="function"?e:e===void 0?MN:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LN:Le(+r);function u(d){var p,m,g,w=(d=qw(d)).length,v,x=!1,E,A=new Array(w),j=new Array(w);for(a==null&&(o=s(E=l())),p=0;p<=w;++p){if(!(p<w&&i(v=d[p],p,d))===x)if(x=!x)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(A[g],j[g]);o.lineEnd(),o.areaEnd()}x&&(A[p]=+e(v,p,d),j[p]=+t(v,p,d),o.point(n?+n(v,p,d):A[p],r?+r(v,p,d):j[p]))}if(E)return o=null,E+""||null}function c(){return VN().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Le(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Le(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Le(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class FN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function A5(e){return new FN(e,!0)}function P5(e){return new FN(e,!1)}const Ww={draw(e,t){const r=Tn(t/Df);e.moveTo(r,0),e.arc(0,0,r,0,cp)}},T5={draw(e,t){const r=Tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$N=Tn(1/3),C5=$N*2,I5={draw(e,t){const r=Tn(t/C5),n=r*$N;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},j5={draw(e,t){const r=Tn(t),n=-r/2;e.rect(n,n,r,r)}},N5=.8908130915292852,zN=Rf(Df/10)/Rf(7*Df/10),O5=Rf(cp/10)*zN,k5=-kN(cp/10)*zN,R5={draw(e,t){const r=Tn(t*N5),n=O5*r,i=k5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=cp*a/5,o=kN(s),l=Rf(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},mg=Tn(3),D5={draw(e,t){const r=-Tn(t/(mg*3));e.moveTo(0,r*2),e.lineTo(-mg*r,-r),e.lineTo(mg*r,-r),e.closePath()}},Wr=-.5,Kr=Tn(3)/2,oy=1/Tn(12),M5=(oy/2+1)*3,L5={draw(e,t){const r=Tn(t/M5),n=r/2,i=r*oy,a=n,s=r*oy+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Wr*n-Kr*i,Kr*n+Wr*i),e.lineTo(Wr*a-Kr*s,Kr*a+Wr*s),e.lineTo(Wr*o-Kr*l,Kr*o+Wr*l),e.lineTo(Wr*n+Kr*i,Wr*i-Kr*n),e.lineTo(Wr*a+Kr*s,Wr*s-Kr*a),e.lineTo(Wr*o+Kr*l,Wr*l-Kr*o),e.closePath()}};function V5(e,t){let r=null,n=Bw(i);e=typeof e=="function"?e:Le(e||Ww),t=typeof t=="function"?t:Le(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Le(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mf(){}function Lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UN(e){this._context=e}UN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F5(e){return new UN(e)}function BN(e){this._context=e}BN.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5(e){return new BN(e)}function qN(e){this._context=e}qN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z5(e){return new qN(e)}function WN(e){this._context=e}WN.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function U5(e){return new WN(e)}function yS(e){return e<0?-1:1}function wS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(yS(a)+yS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function xS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,xS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,xS(this,r=wS(this,e,t)),r);break;default:gg(this,this._t0,r=wS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function KN(e){this._context=new HN(e)}(KN.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function HN(e){this._context=e}HN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function B5(e){return new Vf(e)}function q5(e){return new KN(e)}function GN(e){this._context=e}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_S(e),i=_S(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _S(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function W5(e){return new GN(e)}function fp(e,t){this._context=e,this._t=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K5(e){return new fp(e,.5)}function H5(e){return new fp(e,0)}function G5(e){return new fp(e,1)}function wo(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ly(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Q5(e,t){return e[t]}function Y5(e){const t=[];return t.key=e,t}function X5(){var e=Le([]),t=ly,r=wo,n=Q5;function i(a){var s=Array.from(e.apply(this,arguments),Y5),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,a)]).data=d;for(o=0,c=qw(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Le(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Le(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ly:typeof a=="function"?a:Le(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??wo,i):r},i}function Z5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}wo(e,t)}}function J5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}wo(e,t)}}function ez(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<o;++g){var w=e[t[g]],v=w[n][1]||0,x=w[n-1][1]||0;m+=v-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,wo(e,t)}}var hp={},QN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(QN);var Kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Kw);var pp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(pp);var mp={},YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YN,r=pp;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=i[o];u?d==="\\"&&o+1<s?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}e.toPath=n})(mp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QN,r=Kw,n=pp,i=mp;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(hp);var tz=hp.get;const ss=Ai(tz);var Ft=e=>e===0?0:e>0?1:-1,An=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!An(e),Kn=e=>re(e)||typeof e=="string",rz=0,Su=e=>{var t=++rz;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(yi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return An(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},XN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function At(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function nz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ss(n,t))===r)}var zt=e=>e===null||typeof e>"u",Zu=e=>zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function iz(e){return e!=null}function Ju(){}var az=["type","size","sizeType"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=lz(e,"string");return typeof t=="symbol"?t:t+""}function lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uz(e,t){if(e==null)return{};var r,n,i=cz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZN={symbolCircle:Ww,symbolCross:T5,symbolDiamond:I5,symbolSquare:j5,symbolStar:R5,symbolTriangle:D5,symbolWye:L5},dz=Math.PI/180,fz=e=>{var t="symbol".concat(Zu(e));return ZN[t]||Ww},hz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pz=(e,t)=>{ZN["symbol".concat(Zu(e))]=t},Hw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=uz(e,az),a=ES(ES({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=fz(s),m=V5().type(p).size(hz(r,n,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=an(a);return re(u)&&re(c)&&re(r)?_.createElement("path",uy({},d,{className:Oe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Hw.registerSymbol=pz;var JN=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,mz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{zw(i)&&(n[i]=a=>r[i](r,a))}),n},gz=(e,t,r)=>n=>(e(t,r,n),null),ec=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];zw(i)&&typeof a=="function"&&(n||(n={}),n[i]=gz(a,t,r))}),n};function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=vz({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(null,arguments)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gr=32,Az={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Pz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Gr/2,a=Gr/6,s=Gr/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Gr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Gr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Gr/8,"h").concat(Gr,"v").concat(Gr*3/4,"h").concat(-Gr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var c=_z({},t);return delete c.legendIcon,_.cloneElement(t.legendIcon,c)}return _.createElement(Hw,{fill:o,cx:i,cy:i,size:Gr,sizeType:"diameter",type:l})}function Tz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Gr,height:Gr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Oe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,w=p?p(c.value,c,d):c.value;return _.createElement("li",Ff({className:m,style:l,key:"legend-item-".concat(d)},ec(e,c,d)),_.createElement(Uw,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(w," legend icon")},_.createElement(Pz,{data:c,iconType:s,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},w))})}var Cz=e=>{var t=Ut(e,Az),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(Tz,Ff({},t,{payload:r})))},eO={},tO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(tO);var Gw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gw);var rO={},gp={},nO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(nO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gp);var iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gp,r=iO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(rO);var aO={},sO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(sO);var oO={},Qw={},lO={},Yw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Yw);var Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Xw);var Zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw,r=Xw,n=Zw;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(g,w,v,x,E,A){const j=p(g,w,v,x,E,A);return j!==void 0?!!j:a(g,w,m,A)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function s(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return o(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let w=0;w<g.length;w++){const v=g[w];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!p(c[v],d[v],v,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function o(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,w]of d.entries()){const v=c.get(g);if(p(v,w,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let w=0;w<d.length;w++){const v=d[w];let x=!1;for(let E=0;E<c.length;E++){if(g.has(E))continue;const A=c[E];let j=!1;if(p(A,v,w,c,d,m)&&(j=!0),j){g.add(E),x=!0;break}}if(!x)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Qw);var uO={},Jw={},cO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cO);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ex);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",w="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",j="[object BigUint64Array]",T="[object Int8Array]",N="[object Int16Array]",b="[object Int32Array]",S="[object BigInt64Array]",I="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=w,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=N,e.int32ArrayTag=b,e.int8ArrayTag=T,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(tx);var dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO,r=ex,n=tx,i=Xw,a=dO;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,p,m=new Map,g=void 0){const w=g==null?void 0:g(c,d,p,m);if(w!==void 0)return w;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const v=new Array(c.length);m.set(c,v);for(let x=0;x<c.length;x++)v[x]=o(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;m.set(c,v);for(const[x,E]of c)v.set(x,o(E,x,p,m,g));return v}if(c instanceof Set){const v=new Set;m.set(c,v);for(const x of c)v.add(o(x,void 0,p,m,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,v);for(let x=0;x<c.length;x++)v[x]=o(c[x],x,p,m,g);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,v),l(v,c,p,m,g),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return m.set(c,v),l(v,c,p,m,g),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof Error){const v=new c.constructor;return m.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,p,m,g),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof Number){const v=new Number(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof String){const v=new String(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return m.set(c,v),l(v,c,p,m,g),v}return c}function l(c,d,p=c,m,g){const w=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<w.length;v++){const x=w[v],E=Object.getOwnPropertyDescriptor(c,x);(E==null||E.writable)&&(c[x]=o(d[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Jw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,r=uO;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(oO);var fO={},hO={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw,r=tx;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(hO);var mO={},rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(rx);var gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw,r=rx,n=gO,i=mp;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,r=pp,n=hO,i=hp,a=mO;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,r=sO,n=oO,i=fO;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO,r=Gw,n=rO,i=aO;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(eO);var Iz=eO.uniqBy;const PS=Ai(Iz);function vO(e,t,r){return t===!0?PS(e,r):typeof t=="function"?PS(e,t):e}var yO={exports:{}},wO={},xO={exports:{}},_O={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=_;function jz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nz=typeof Object.is=="function"?Object.is:jz,Oz=xo.useState,kz=xo.useEffect,Rz=xo.useLayoutEffect,Dz=xo.useDebugValue;function Mz(e,t){var r=t(),n=Oz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Rz(function(){i.value=r,i.getSnapshot=t,vg(i)&&a({inst:i})},[e,r,t]),kz(function(){return vg(i)&&a({inst:i}),e(function(){vg(i)&&a({inst:i})})},[e]),Dz(r),r}function vg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nz(e,r)}catch{return!0}}function Lz(e,t){return t()}var Vz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lz:Mz;_O.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:Vz;xO.exports=_O;var Fz=xO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=_,$z=Fz;function zz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uz=typeof Object.is=="function"?Object.is:zz,Bz=$z.useSyncExternalStore,qz=vp.useRef,Wz=vp.useEffect,Kz=vp.useMemo,Hz=vp.useDebugValue;wO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=qz(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Kz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return d=g}return d=m}if(g=d,Uz(c,m))return g;var w=n(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Bz(e,a[0],a[1]);return Wz(function(){s.hasValue=!0,s.value=o},[o]),Hz(o),o};yO.exports=wO;var Gz=yO.exports,nx=_.createContext(null),Qz=e=>e,$e=()=>{var e=_.useContext(nx);return e?e.store.dispatch:Qz},$d=()=>{},Yz=()=>$d,Xz=(e,t)=>e===t;function te(e){var t=_.useContext(nx);return Gz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Yz,t?t.store.getState:$d,t?t.store.getState:$d,t?e:$d,Xz)}function Zz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Jz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function e9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var TS=e=>Array.isArray(e)?e:[e];function t9(e){const t=Array.isArray(e[0])?e[0]:e;return e9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function r9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var n9=class{constructor(e){this.value=e}deref(){return this.value}},i9=typeof WeakRef<"u"?WeakRef:n9,a9=0,CS=1;function ad(){return{s:a9,v:void 0,o:null,p:null}}function bO(e,t={}){let r=ad();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var d;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=o.o;w===null&&(o.o=w=new WeakMap);const v=w.get(g);v===void 0?(o=ad(),w.set(g,o)):o=v}else{let w=o.p;w===null&&(o.p=w=new Map);const v=w.get(g);v===void 0?(o=ad(),w.set(g,o)):o=v}}const u=o;let c;if(o.s===CS)c=o.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new i9(c):c}return u.s=CS,u.v=c,c}return s.clearCache=()=>{r=ad(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function s9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Zz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=bO,argsMemoizeOptions:g=[]}=c,w=TS(p),v=TS(g),x=t9(i),E=d(function(){return a++,u.apply(null,arguments)},...w),A=m(function(){s++;const T=r9(x,arguments);return o=E.apply(null,T),o},...v);return Object.assign(A,{resultFunc:u,memoizedResultFunc:E,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=s9(bO),o9=Object.assign((e,t=L)=>{Jz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>o9}),EO={},SO={},AO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(AO);var PO={},ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ix);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(PO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO,r=PO,n=mp;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let w=m;for(let v=0;v<g.length&&w!=null;++v)w=w[g[v]];return w},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let w=0;w<d.length;w++){const v=t.compareValues(m.criteria[w],g.criteria[w],o[w]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=i})(SO);var TO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(TO);var ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx,r=gp,n=Yw,i=Zw;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(ax);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO,r=TO,n=ax;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(EO);var l9=EO.sortBy;const yp=Ai(l9);var CO=e=>e.legend.settings,u9=e=>e.legend.size,c9=e=>e.legend.payload,d9=L([c9,CO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?yp(n,r):n});function f9(){return te(d9)}var sd=1;function IO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>sd||Math.abs(s.left-t.left)>sd||Math.abs(s.top-t.top)>sd||Math.abs(s.width-t.width)>sd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h9=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=h9,yg=()=>Math.random().toString(36).substring(7).split("").join("."),p9={INIT:`@@redux/INIT${yg()}`,REPLACE:`@@redux/REPLACE${yg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yg()}`},$f=p9;function sx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jO(e,t,r){if(typeof e!="function")throw new Error(Wt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wt(1));return r(jO)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((v,x)=>{s.set(x,v)}))}function c(){if(l)throw new Error(Wt(3));return i}function d(v){if(typeof v!="function")throw new Error(Wt(4));if(l)throw new Error(Wt(5));let x=!0;u();const E=o++;return s.set(E,v),function(){if(x){if(l)throw new Error(Wt(6));x=!1,u(),s.delete(E),a=null}}}function p(v){if(!sx(v))throw new Error(Wt(7));if(typeof v.type>"u")throw new Error(Wt(8));if(typeof v.type!="string")throw new Error(Wt(17));if(l)throw new Error(Wt(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=s).forEach(E=>{E()}),v}function m(v){if(typeof v!="function")throw new Error(Wt(10));n=v,p({type:$f.REPLACE})}function g(){const v=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Wt(11));function E(){const j=x;j.next&&j.next(c())}return E(),{unsubscribe:v(E)}},[IS](){return this}}}return p({type:$f.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[IS]:g}}function m9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$f.INIT})>"u")throw new Error(Wt(12));if(typeof r(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function NO(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{m9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=s[d],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Wt(14));u[d]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function zf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function g9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Wt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=zf(...o)(i.dispatch),{...i,dispatch:a}}}function OO(e){return sx(e)&&"type"in e&&typeof e.type=="string"}var kO=Symbol.for("immer-nothing"),jS=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vr=Object,_o=Vr.getPrototypeOf,Uf="constructor",wp="prototype",cy="configurable",Bf="enumerable",zd="writable",Au="value",wi=e=>!!e&&!!e[mr];function Pn(e){var t;return e?RO(e)||xp(e)||!!e[jS]||!!((t=e[Uf])!=null&&t[jS])||_p(e)||bp(e):!1}var v9=Vr[wp][Uf].toString(),NS=new WeakMap;function RO(e){if(!e||!ox(e))return!1;const t=_o(e);if(t===null||t===Vr[wp])return!0;const r=Vr.hasOwnProperty.call(t,Uf)&&t[Uf];if(r===Object)return!0;if(!ks(r))return!1;let n=NS.get(r);return n===void 0&&(n=Function.toString.call(r),NS.set(r,n)),n===v9}function tc(e,t,r=!0){rc(e)===0?(r?Reflect.ownKeys(e):Vr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rc(e){const t=e[mr];return t?t.type_:xp(e)?1:_p(e)?2:bp(e)?3:0}var OS=(e,t,r=rc(e))=>r===2?e.has(t):Vr[wp].hasOwnProperty.call(e,t),dy=(e,t,r=rc(e))=>r===2?e.get(t):e[t],qf=(e,t,r,n=rc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function y9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xp=Array.isArray,_p=e=>e instanceof Map,bp=e=>e instanceof Set,ox=e=>typeof e=="object",ks=e=>typeof e=="function",wg=e=>typeof e=="boolean",Jn=e=>e.copy_||e.base_,lx=e=>e.modified_?e.copy_:e.base_;function fy(e,t){if(_p(e))return new Map(e);if(bp(e))return new Set(e);if(xp(e))return Array[wp].slice.call(e);const r=RO(e);if(t===!0||t==="class_only"&&!r){const n=Vr.getOwnPropertyDescriptors(e);delete n[mr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[zd]===!1&&(o[zd]=!0,o[cy]=!0),(o.get||o.set)&&(n[s]={[cy]:!0,[zd]:!0,[Bf]:o[Bf],[Au]:e[s]})}return Vr.create(_o(e),n)}else{const n=_o(e);if(n!==null&&r)return{...e};const i=Vr.create(n);return Vr.assign(i,e)}}function ux(e,t=!1){return Ep(e)||wi(e)||!Pn(e)||(rc(e)>1&&Vr.defineProperties(e,{set:od,add:od,clear:od,delete:od}),Vr.freeze(e),t&&tc(e,(r,n)=>{ux(n,!0)},!1)),e}function w9(){gn(2)}var od={[Au]:w9};function Ep(e){return e===null||!ox(e)?!0:Vr.isFrozen(e)}var Wf="MapSet",hy="Patches",DO={};function bo(e){const t=DO[e];return t||gn(0,e),t}var x9=e=>!!DO[e],Pu,MO=()=>Pu,_9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:x9(Wf)?bo(Wf):void 0});function kS(e,t){t&&(e.patchPlugin_=bo(hy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function py(e){my(e),e.drafts_.forEach(b9),e.drafts_=null}function my(e){e===Pu&&(Pu=e.parent_)}var RS=e=>Pu=_9(Pu,e);function b9(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[mr].modified_&&(py(t),gn(4)),Pn(e)&&(e=MS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[mr].base_,e,t)}else e=MS(t,r);return E9(t,e,!0),py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kO?e:void 0}function MS(e,t){if(Ep(t))return t;const r=t[mr];if(!r)return cx(t,e.handledSet_,e);if(!Sp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);FO(r,e)}return r.copy_}function E9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ux(t,r)}function LO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Sp=(e,t)=>e.scope_===t,S9=[];function VO(e,t,r,n){const i=Jn(e),a=e.type_;if(n!==void 0&&dy(i,n,a)===t){qf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;tc(i,(l,u)=>{if(wi(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??S9;for(const o of s)qf(i,o,r,a)}function A9(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Sp(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=lx(a);VO(e,a.draft_??a,s,r),FO(a,i)})}function FO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}LO(e)}}function P9(e,t,r){const{scope_:n}=e;if(wi(r)){const i=r[mr];Sp(i,n)&&i.callbacks_.push(function(){Ud(e);const s=lx(i);VO(e,r,s,t)})}else Pn(r)&&e.callbacks_.push(function(){const a=Jn(e);dy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&cx(dy(e.copy_,t,e.type_),n.handledSet_,n)})}function cx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||wi(e)||t.has(e)||!Pn(e)||Ep(e)||(t.add(e),tc(e,(n,i)=>{if(wi(i)){const a=i[mr];if(Sp(a,r)){const s=lx(a);qf(e,n,s,e.type_),LO(a)}}else Pn(i)&&cx(i,t,r)})),e}function T9(e,t){const r=xp(e),n={type_:r?1:0,scope_:t?t.scope_:MO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=dx;r&&(i=[n],a=Tu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var dx={get(e,t){if(t===mr)return e;const r=Jn(e);if(!OS(r,t,e.type_))return C9(e,r,t);const n=r[t];if(e.finalized_||!Pn(n))return n;if(n===xg(e.base_,t)){Ud(e);const i=e.type_===1?+t:t,a=vy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},set(e,t,r){const n=$O(Jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=xg(Jn(e),t),a=i==null?void 0:i[mr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(y9(r,i)&&(r!==void 0||OS(e.base_,t,e.type_)))return!0;Ud(e),gy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),P9(e,t,r)),!0},deleteProperty(e,t){return Ud(e),xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zd]:!0,[cy]:e.type_!==1||t!=="length",[Bf]:n[Bf],[Au]:r[t]}},defineProperty(){gn(11)},getPrototypeOf(e){return _o(e.base_)},setPrototypeOf(){gn(12)}},Tu={};tc(dx,(e,t)=>{Tu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Tu.deleteProperty=function(e,t){return Tu.set.call(this,e,t,void 0)};Tu.set=function(e,t,r){return dx.set.call(this,e[0],t,r,e[0])};function xg(e,t){const r=e[mr];return(r?Jn(r):e)[t]}function C9(e,t,r){var i;const n=$O(t,r);return n?Au in n?n[Au]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function $O(e,t){if(!(t in e))return;let r=_o(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_o(r)}}function gy(e){e.modified_||(e.modified_=!0,e.parent_&&gy(e.parent_))}function Ud(e){e.copy_||(e.assigned_=new Map,e.copy_=fy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var I9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ks(r)&&!ks(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}ks(n)||gn(6),i!==void 0&&!ks(i)&&gn(7);let a;if(Pn(r)){const s=RS(this),o=vy(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?py(s):my(s)}return kS(s,i),DS(a,s)}else if(!r||!ox(r)){if(a=n(r),a===void 0&&(a=r),a===kO&&(a=void 0),this.autoFreeze_&&ux(a,!0),i){const s=[],o=[];bo(hy).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else gn(1,r)},this.produceWithPatches=(r,n)=>{if(ks(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},wg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pn(t)||gn(8),wi(t)&&(t=_n(t));const r=RS(this),n=vy(r,t,void 0);return n[mr].isManual_=!0,my(r),n}finishDraft(t,r){const n=t&&t[mr];(!n||!n.isManual_)&&gn(9);const{scope_:i}=n;return kS(i,r),DS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=bo(hy).applyPatches_;return wi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function vy(e,t,r,n){const[i,a]=_p(t)?bo(Wf).proxyMap_(t,r):bp(t)?bo(Wf).proxySet_(t,r):T9(t,r);return((r==null?void 0:r.scope_)??MO()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?A9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function _n(e){return wi(e)||gn(10,e),zO(e)}function zO(e){if(!Pn(e)||Ep(e))return e;const t=e[mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fy(e,!0);return tc(r,(i,a)=>{qf(r,i,zO(a))},n),t&&(t.finalized_=!1),r}var j9=new I9,UO=j9.produce;function BO(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var N9=BO(),O9=BO,k9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function sn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($r(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>OO(n)&&n.type===e,r}var qO=class Rl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rl.prototype)}static get[Symbol.species](){return Rl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rl(...t[0].concat(this)):new Rl(...t.concat(this))}};function LS(e){return Pn(e)?UO(e,()=>{}):e}function ld(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function R9(e){return typeof e=="boolean"}var D9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new qO;return r&&(R9(r)?s.push(N9):s.push(O9(r.extraArgument))),s},WO="RTK_autoBatch",Ge=()=>e=>({payload:e,meta:{[WO]:!0}}),VS=e=>t=>{setTimeout(t,e)},KO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VS(10):e.type==="callback"?e.queueNotification:VS(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[WO]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},M9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new qO(e);return n&&i.push(KO(typeof n=="object"?n:void 0)),i};function L9(e){const t=D9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(sx(r))o=NO(r);else throw new Error($r(1));let l;typeof n=="function"?l=n(t):l=t();let u=zf;i&&(u=k9({trace:!1,...typeof i=="object"&&i}));const c=g9(...l),d=M9(c);let p=typeof s=="function"?s(d):d();const m=u(...p);return jO(o,a,m)}function HO(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error($r(28));if(o in t)throw new Error($r(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function V9(e){return typeof e=="function"}function F9(e,t){let[r,n,i]=HO(t),a;if(V9(e))a=()=>LS(e());else{const o=LS(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(wi(c)){const m=d(c,l);return m===void 0?c:m}else{if(Pn(c))return UO(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var $9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z9=(e=21)=>{let t="",r=e;for(;r--;)t+=$9[Math.random()*64|0];return t},U9=Symbol.for("rtk-slice-createasyncthunk");function B9(e,t){return`${e}/${t}`}function q9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[U9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error($r(11));const o=(typeof i.reducers=="function"?i.reducers(K9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(j,T){const N=typeof j=="string"?j:j.type;if(!N)throw new Error($r(12));if(N in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[N]=T,c},addMatcher(j,T){return u.sliceMatchers.push({matcher:j,reducer:T}),c},exposeAction(j,T){return u.actionCreators[j]=T,c},exposeCaseReducer(j,T){return u.sliceCaseReducersByName[j]=T,c}};l.forEach(j=>{const T=o[j],N={reducerName:j,type:B9(a,j),createNotation:typeof i.reducers=="function"};G9(T)?Y9(N,T,c,t):H9(N,T,c)});function d(){const[j={},T=[],N=void 0]=typeof i.extraReducers=="function"?HO(i.extraReducers):[i.extraReducers],b={...j,...u.sliceCaseReducersByType};return F9(i.initialState,S=>{for(let I in b)S.addCase(I,b[I]);for(let I of u.sliceMatchers)S.addMatcher(I.matcher,I.reducer);for(let I of T)S.addMatcher(I.matcher,I.reducer);N&&S.addDefaultCase(N)})}const p=j=>j,m=new Map,g=new WeakMap;let w;function v(j,T){return w||(w=d()),w(j,T)}function x(){return w||(w=d()),w.getInitialState()}function E(j,T=!1){function N(S){let I=S[j];return typeof I>"u"&&T&&(I=ld(g,N,x)),I}function b(S=p){const I=ld(m,T,()=>new WeakMap);return ld(I,S,()=>{const D={};for(const[C,k]of Object.entries(i.selectors??{}))D[C]=W9(k,S,()=>ld(g,S,x),T);return D})}return{reducerPath:j,getSelectors:b,get selectors(){return b(N)},selectSlice:N}}const A={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...E(s),injectInto(j,{reducerPath:T,...N}={}){const b=T??s;return j.inject({reducerPath:b,reducer:v},N),{...A,...E(b,!0)}}};return A}}function W9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var jr=q9();function K9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function H9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Q9(n))throw new Error($r(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?sn(e,s):sn(e))}function G9(e){return e._reducerDefinitionType==="asyncThunk"}function Q9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Y9({type:e,reducerName:t},r,n,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||ud,pending:o||ud,rejected:l||ud,settled:u||ud})}function ud(){}var X9="task",GO="listener",QO="completed",fx="cancelled",Z9=`task-${fx}`,J9=`task-${QO}`,yy=`${GO}-${fx}`,eU=`${GO}-${QO}`,Ap=class{constructor(e){km(this,"name","TaskAbortError");km(this,"message");this.code=e,this.message=`${X9} ${fx} (reason: ${e})`}},hx=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},Kf=()=>{},YO=(e,t=Kf)=>(e.catch(t),e),XO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ya=e=>{if(e.aborted)throw new Ap(e.reason)};function ZO(e,t){let r=Kf;return new Promise((n,i)=>{const a=()=>i(new Ap(e.reason));if(e.aborted){a();return}r=XO(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Kf})}var tU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ap?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hf=e=>t=>YO(ZO(e,t).then(r=>(Ya(e),r))),JO=e=>{const t=Hf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ro}=Object,FS={},Pp="listenerMiddleware",rU=(e,t)=>{const r=n=>XO(e,()=>n.abort(e.reason));return(n,i)=>{hx(n);const a=new AbortController;r(a);const s=tU(async()=>{Ya(e),Ya(a.signal);const o=await n({pause:Hf(a.signal),delay:JO(a.signal),signal:a.signal});return Ya(a.signal),o},()=>a.abort(J9));return i!=null&&i.autoJoin&&t.push(s.catch(Kf)),{result:Hf(e)(s),cancel(){a.abort(Z9)}}}},nU=(e,t)=>{const r=async(n,i)=>{Ya(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ZO(t,Promise.race(o));return Ya(t),l}finally{a()}};return(n,i)=>YO(r(n,i))},ek=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=sn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($r(21));return hx(a),{predicate:i,type:t,effect:a}},tk=ro(e=>{const{type:t,predicate:r,effect:n}=ek(e);return{id:z9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>tk}),$S=(e,t)=>{const{type:r,effect:n,predicate:i}=ek(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wy=e=>{e.pending.forEach(t=>{t.abort(yy)})},iU=(e,t)=>()=>{for(const r of t.keys())wy(r);e.clear()},zS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rk=ro(sn(`${Pp}/add`),{withTypes:()=>rk}),aU=sn(`${Pp}/removeAll`),nk=ro(sn(`${Pp}/remove`),{withTypes:()=>nk}),sU=(...e)=>{console.error(`${Pp}/error`,...e)},nc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=sU}=e;hx(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wy(m)}),l=m=>{const g=$S(t,m)??tk(m);return o(g)};ro(l,{withTypes:()=>l});const u=m=>{const g=$S(t,m);return g&&(g.unsubscribe(),m.cancelActive&&wy(g)),!!g};ro(u,{withTypes:()=>u});const c=async(m,g,w,v)=>{const x=new AbortController,E=nU(l,x.signal),A=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,ro({},w,{getOriginalState:v,condition:(j,T)=>E(j,T).then(Boolean),take:E,delay:JO(x.signal),pause:Hf(x.signal),extra:a,signal:x.signal,fork:rU(x.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,T,N)=>{j!==x&&(j.abort(yy),N.delete(j))})},cancel:()=>{x.abort(yy),m.pending.delete(x)},throwIfCancelled:()=>{Ya(x.signal)}})))}catch(j){j instanceof Ap||zS(s,j,{raisedBy:"effect"})}finally{await Promise.all(A),x.abort(eU),i(m),m.pending.delete(x)}},d=iU(t,r);return{middleware:m=>g=>w=>{if(!OO(w))return g(w);if(rk.match(w))return l(w.payload);if(aU.match(w)){d();return}if(nk.match(w))return u(w.payload);let v=m.getState();const x=()=>{if(v===FS)throw new Error($r(23));return v};let E;try{if(E=g(w),t.size>0){const A=m.getState(),j=Array.from(t.values());for(const T of j){let N=!1;try{N=T.predicate(w,A,v)}catch(b){N=!1,zS(s,b,{raisedBy:"predicate"})}N&&c(T,w,m,x)}}}finally{v=FS}return E},startListening:l,stopListening:u,clearListeners:d}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ik=jr({name:"chartLayout",initialState:oU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lU,setLayout:uU,setChartSize:cU,setScale:dU}=ik.actions,fU=ik.reducer;function ak(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return zt(e)||zt(t)?r:Kn(t)?ss(e,t,r):typeof t=="function"?t(e):r}var gU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&re(e[a]))return Ks(Ks({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&re(e[s]))return Ks(Ks({},e),{},{[s]:e[s]+(i||0)})}return e},ys=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sk=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},ok=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(w=m==="angleAxis"&&a&&a.length>=2?Ft(a[0]-a[1])*2*w:w,d||p){var v=(d||p||[]).map((x,E)=>{var A=n?n.indexOf(x):x;return{coordinate:s(A)+w,value:x,offset:w,index:E}});return v.filter(x=>!An(x.coordinate))}return l&&u?u.map((x,E)=>({coordinate:s(x)+w,value:x,index:E,offset:w})):s.ticks&&c!=null?s.ticks(c).map((x,E)=>({coordinate:s(x)+w,value:x,offset:w,index:E})):s.domain().map((x,E)=>({coordinate:s(x)+w,value:n?n[x]:x,index:E,offset:w}))},BS=1e-4,vU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-BS,a=Math.max(n[0],n[1])+BS,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},yU=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=An(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},xU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=An(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},_U={sign:wU,expand:Z5,none:wo,silhouette:J5,wiggle:ez,positive:xU},bU=(e,t,r)=>{var n=_U[r],i=X5().keys(t).value((a,s)=>Number(Ye(a,s,0))).order(ly).offset(n);return i(e)};function EU(e){return e==null?void 0:String(e)}var qS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ye(a,t.dataKey,t.scale.domain()[s]);return zt(o)?null:t.scale(o)-i/2+n},SU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},AU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},PU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],TU=(e,t,r)=>{if(e!=null)return PU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=ak(u,t,r),d=AU(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},WS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=yp(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function HS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ks(Ks({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Tp(e,t){if(e)return String(e);if(typeof t=="string")return t}var CU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},IU=(e,t)=>t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,Ci=e=>e.layout.height,jU=e=>e.layout.scale,lk=e=>e.layout.margin,Cp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ip=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uk="data-recharts-item-index",ck="data-recharts-item-data-key",ic=60;function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){NU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RU=e=>e.brush.height;function DU(e){var t=Ip(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function MU(e){var t=Ip(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function LU(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function VU(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var It=L([Ti,Ci,lk,RU,DU,MU,LU,VU,CO,u9],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=cd(cd({},d),c),m=p.bottom;p.bottom+=n,p=gU(p,l,u);var g=e-p.left-p.right,w=t-p.top-p.bottom;return cd(cd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(w,0)})}),FU=L(It,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),px=L(Ti,Ci,(e,t)=>({x:0,y:0,width:e,height:t})),$U=_.createContext(null),Nr=()=>_.useContext($U)!=null,jp=e=>e.brush,Np=L([jp,It,lk],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),dk={},fk={},hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),w()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},w=()=>{g(),s=void 0,o=null},v=()=>{c()},x=function(...E){if(i!=null&&i.aborted)return;s=this,o=E;const A=p==null;m(),l&&A&&c()};return x.schedule=m,x.cancel=w,x.flush=v,i==null||i.addEventListener("abort",w,{once:!0}),x}e.debounce=t})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...w){c=n.apply(this,w),d=null},i,{edges:u}),m=function(...w){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,w),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,w),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(dk);var zU=dk.throttle;const UU=Ai(zU);var Qf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},pk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=yi(n)?e:Number(n),l=yi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},BU={width:0,height:0,overflow:"visible"},qU={width:0,overflowX:"visible"},WU={height:0,overflowY:"visible"},KU={},HU=e=>{var{width:t,height:r}=e,n=yi(t),i=yi(r);return n&&i?BU:n?qU:i?WU:KU};function GU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function dt(e){return Number.isFinite(e)}function Hn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mk=_.createContext({width:-1,height:-1});function ZU(e){return Hn(e.width)&&Hn(e.height)}function gk(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return ZU(i)?_.createElement(mk.Provider,{value:i},t):null}var mx=()=>_.useContext(mk),JU=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,w=_.useRef(null),v=_.useRef();v.current=m,_.useImperativeHandle(t,()=>w.current);var[x,E]=_.useState({containerWidth:n.width,containerHeight:n.height}),A=_.useCallback((S,I)=>{E(D=>{var C=Math.round(S),k=Math.round(I);return D.containerWidth===C&&D.containerHeight===k?D:{containerWidth:C,containerHeight:k}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ju;var S=k=>{var O,{width:Q,height:se}=k[0].contentRect;A(Q,se),(O=v.current)===null||O===void 0||O.call(v,Q,se)};c>0&&(S=UU(S,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(S),{width:D,height:C}=w.current.getBoundingClientRect();return A(D,C),I.observe(w.current),()=>{I.disconnect()}},[A,c]);var{containerWidth:j,containerHeight:T}=x;Qf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:b}=pk(j,T,{width:i,height:a,aspect:r,maxHeight:l});return Qf(N!=null&&N>0||b!=null&&b>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,b,i,a,s,o,r),_.createElement("div",{id:d?"".concat(d):void 0,className:Oe("recharts-responsive-container",p),style:YS(YS({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:w},_.createElement("div",{style:HU({width:i,height:a})},_.createElement(gk,{width:N,height:b},u)))}),gx=_.forwardRef((e,t)=>{var r=mx();if(Hn(r.width)&&Hn(r.height))return e.children;var{width:n,height:i}=GU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=pk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(s)?_.createElement(gk,{width:a,height:s},e.children):_.createElement(JU,xy({},e,{width:n,height:i,ref:t}))});function vk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Op=()=>{var e,t=Nr(),r=te(FU),n=te(Np),i=(e=te(jp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},eB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yk=()=>{var e;return(e=te(It))!==null&&e!==void 0?e:eB},vx=()=>te(Ti),yx=()=>te(Ci),tB=()=>te(e=>e.layout.margin),Te=e=>e.layout.layoutType,kp=()=>te(Te),rB=()=>{var e=kp();return e!==void 0},Rp=e=>{var t=$e(),r=Nr(),{width:n,height:i}=e,a=mx(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),_.useEffect(()=>{!r&&Hn(s)&&Hn(o)&&t(cU({width:s,height:o}))},[t,r,s,o]),null},wk=Symbol.for("immer-nothing"),XS=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cu=Object.getPrototypeOf;function Eo(e){return!!e&&!!e[Ur]}function os(e){var t;return e?xk(e)||Array.isArray(e)||!!e[XS]||!!((t=e.constructor)!=null&&t[XS])||ac(e)||Mp(e):!1}var nB=Object.prototype.constructor.toString(),ZS=new WeakMap;function xk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=ZS.get(r);return n===void 0&&(n=Function.toString.call(r),ZS.set(r,n)),n===nB}function Yf(e,t,r=!0){Dp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Dp(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:ac(e)?2:Mp(e)?3:0}function _y(e,t){return Dp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _k(e,t,r){const n=Dp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ac(e){return e instanceof Map}function Mp(e){return e instanceof Set}function La(e){return e.copy_||e.base_}function by(e,t){if(ac(e))return new Map(e);if(Mp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=xk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Cu(e),n)}else{const n=Cu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function wx(e,t=!1){return Lp(e)||Eo(e)||!os(e)||(Dp(e)>1&&Object.defineProperties(e,{set:dd,add:dd,clear:dd,delete:dd}),Object.freeze(e),t&&Object.values(e).forEach(r=>wx(r,!0))),e}function aB(){vn(2)}var dd={value:aB};function Lp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var sB={};function ls(e){const t=sB[e];return t||vn(0,e),t}var Iu;function bk(){return Iu}function oB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JS(e,t){t&&(ls("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ey(e){Sy(e),e.drafts_.forEach(lB),e.drafts_=null}function Sy(e){e===Iu&&(Iu=e.parent_)}function eA(e){return Iu=oB(Iu,e)}function lB(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(Ey(t),vn(4)),os(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&ls("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,r,[]),Ey(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wk?e:void 0}function Xf(e,t,r){if(Lp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ur];if(!i)return Yf(t,(a,s)=>rA(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Yf(s,(l,u)=>rA(e,i,a,l,u,r,o),n),Zf(e,a,!1),r&&e.patches_&&ls("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function rA(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Lp(i);if(!(o&&!s)){if(Eo(i)){const l=a&&t&&t.type_!==3&&!_y(t.assigned_,n)?a.concat(n):void 0,u=Xf(e,i,l);if(_k(r,n,u),Eo(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(os(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ac(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zf(e,i)}}}function Zf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wx(t,r)}function uB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=xx;r&&(i=[n],a=ju);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var xx={get(e,t){if(t===Ur)return e;const r=La(e);if(!_y(r,t))return cB(e,r,t);const n=r[t];return e.finalized_||!os(n)?n:n===_g(e.base_,t)?(bg(e),e.copy_[t]=Py(n,e)):n},has(e,t){return t in La(e)},ownKeys(e){return Reflect.ownKeys(La(e))},set(e,t,r){const n=Ek(La(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=_g(La(e),t),a=i==null?void 0:i[Ur];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iB(r,i)&&(r!==void 0||_y(e.base_,t)))return!0;bg(e),Ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _g(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bg(e),Ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=La(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vn(11)},getPrototypeOf(e){return Cu(e.base_)},setPrototypeOf(){vn(12)}},ju={};Yf(xx,(e,t)=>{ju[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ju.deleteProperty=function(e,t){return ju.set.call(this,e,t,void 0)};ju.set=function(e,t,r){return xx.set.call(this,e[0],t,r,e[0])};function _g(e,t){const r=e[Ur];return(r?La(r):e)[t]}function cB(e,t,r){var i;const n=Ek(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ek(e,t){if(!(t in e))return;let r=Cu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cu(r)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function bg(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&vn(6),n!==void 0&&typeof n!="function"&&vn(7);let i;if(os(t)){const a=eA(this),s=Py(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Ey(a):Sy(a)}return JS(a,n),tA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wk&&(i=void 0),this.autoFreeze_&&wx(i,!0),n){const a=[],s=[];ls("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){os(e)||vn(8),Eo(e)&&(e=fB(e));const t=eA(this),r=Py(e,void 0);return r[Ur].isManual_=!0,Sy(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&vn(9);const{scope_:n}=r;return JS(n,t),tA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ls("Patches").applyPatches_;return Eo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Py(e,t){const r=ac(e)?ls("MapSet").proxyMap_(e,t):Mp(e)?ls("MapSet").proxySet_(e,t):uB(e,t);return(t?t.scope_:bk()).drafts_.push(r),r}function fB(e){return Eo(e)||vn(10,e),Sk(e)}function Sk(e){if(!os(e)||Lp(e))return e;const t=e[Ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return Yf(r,(i,a)=>{_k(r,i,Sk(a))},n),t&&(t.finalized_=!1),r}var hB=new dB;hB.produce;var pB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ak=jr({name:"legend",initialState:pB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ge()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(e,t){var r=_n(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:nA,setLegendSettings:mB,addLegendPayload:Pk,replaceLegendPayload:Tk,removeLegendPayload:Ck}=Ak.actions,gB=Ak.reducer,vB=["contextPayload"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e,t){if(e==null)return{};var r,n,i=bB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EB(e){return e.value}function SB(e){var{contextPayload:t}=e,r=_B(e,vB),n=vO(t,e.payloadUniqBy,EB),i=So(So({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(Cz,i)}function AB(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),So(So({},u),c)}function PB(e){var t=$e();return _.useEffect(()=>{t(mB(e))},[t,e]),null}function TB(e){var t=$e();return _.useEffect(()=>(t(nA(e)),()=>{t(nA({width:0,height:0}))}),[t,e]),null}function CB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var IB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Vp(e){var t=Ut(e,IB),r=f9(),n=_5(),i=tB(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=IO([r]),d=vx(),p=yx();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=CB(t.layout,s,a,m),w=l?o:So(So({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},AB(o,t,i,d,p,u)),o),v=l??n;if(v==null||r==null)return null;var x=_.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:c},_.createElement(PB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&_.createElement(TB,{width:u.width,height:u.height}),_.createElement(SB,Ty({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return Bn.createPortal(x,v)}Vp.displayName="Legend";function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=NB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=OB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e){return Array.isArray(e)&&Kn(e[0])&&Kn(e[1])?e.join(" ~ "):e}var RB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var T={padding:0,margin:0},N=(o?yp(a,o):a).map((b,S)=>{if(b.type==="none")return null;var I=b.formatter||s||kB,{value:D,name:C}=b,k=D,O=C;if(I){var Q=I(D,C,b,S,a);if(Array.isArray(Q))[k,O]=Q;else if(Q!=null)k=Q;else return null}var se=Eg({display:"block",paddingTop:4,paddingBottom:4,color:b.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:se},Kn(O)?_.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Kn(O)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},k),_.createElement("span",{className:"recharts-tooltip-item-unit"},b.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:T},N)}return null},g=Eg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Eg({margin:0},i),v=!zt(c),x=v?c:"",E=Oe("recharts-default-tooltip",l),A=Oe("recharts-tooltip-label",u);v&&d&&a!==void 0&&a!==null&&(x=d(c,a));var j=p?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Cy({className:E,style:g},j),_.createElement("p",{className:A,style:w},_.isValidElement(x)?x:"".concat(x)),m())},vl="recharts-tooltip-wrapper",DB={visibility:"hidden"};function MB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Oe(vl,{["".concat(vl,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(vl,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(vl,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(vl,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function sA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&re(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(t[n])return s[n]?c:d;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var w=d+o,v=p+u;return w>v?Math.max(c,p):Math.max(d,p)}function LB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&r?(c=sA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=sA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=LB({translateX:c,translateY:d,useTranslate3d:o})):u=DB,{cssProperties:u,cssClasses:MB({translateX:c,translateY:d,coordinate:r})}}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iy(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zB extends _.PureComponent{constructor(){super(...arguments),Iy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:w,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:E,cssProperties:A}=VB({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:p,viewBox:m}),j=x?{}:fd(fd({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=fd(fd({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:v},a)}}var Ik=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cA={curveBasisClosed:$5,curveBasisOpen:z5,curveBasis:F5,curveBumpX:A5,curveBumpY:P5,curveLinearClosed:U5,curveLinear:dp,curveMonotoneX:B5,curveMonotoneY:q5,curveNatural:W5,curveStep:K5,curveStepAfter:G5,curveStepBefore:H5},Jf=e=>dt(e.x)&&dt(e.y),dA=e=>e.base!=null&&Jf(e.base)&&Jf(e),yl=e=>e.x,wl=e=>e.y,WB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zu(e));return(r==="curveMonotone"||r==="curveBump")&&t?cA["".concat(r).concat(t==="vertical"?"Y":"X")]:cA[r]||dp},KB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=WB(t,i),o=a?r.filter(Jf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>uA(uA({},m),{},{base:n[g]}));i==="vertical"?l=id().y(wl).x1(yl).x0(m=>m.base.x):l=id().x(yl).y1(wl).y0(m=>m.base.y);var c=l.defined(dA).curve(s),d=a?u.filter(dA):u;return c(d)}i==="vertical"&&re(n)?l=id().y(wl).x1(yl).x0(n):re(n)?l=id().x(yl).y1(wl).y0(n):l=VN().x(yl).y(wl);var p=l.defined(Jf).curve(s);return p(o)},_x=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?KB(e):n;return _.createElement("path",jy({},Sn(e),mz(e),{className:Oe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},HB=["x","y","top","left","width","height","className"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t){if(e==null)return{};var r,n,i=JB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var e8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),t8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=ZB(e,HB),u=GB({x:t,y:r,top:n,left:i,width:a,height:s},l);return!re(t)||!re(r)||!re(a)||!re(s)||!re(n)||!re(i)?null:_.createElement("path",Ny({},an(u),{className:Oe("recharts-cross",o),d:e8(t,r,a,s,n,i)}))};function r8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=i8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),jk=(e,t,r)=>e.map(n=>"".concat(s8(n)," ").concat(t,"ms ").concat(r)).join(","),o8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Nu=(e,t)=>Object.keys(t).reduce((r,n)=>pA(pA({},r),{},{[n]:e(n,t[n])}),{});function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=u8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=(e,t,r)=>e+(t-e)*r,Oy=e=>{var{from:t,to:r}=e;return t!==r},Nk=(e,t,r)=>{var n=Nu((i,a)=>{if(Oy(a)){var[s,o]=e(a.from,a.to,a.velocity);return Pt(Pt({},a),{},{from:s,velocity:o})}return a},t);return r<1?Nu((i,a)=>Oy(a)?Pt(Pt({},a),{},{velocity:eh(a.velocity,n[i].velocity,r),from:eh(a.from,n[i].from,r)}):a,t):Nk(e,n,r-1)};function d8(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Pt(Pt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Nu((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Oy).length,c=null,d=p=>{s||(s=p);var m=p-s,g=m/r.dt;o=Nk(r,o,g),i(Pt(Pt(Pt({},e),t),l())),s=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function f8(e,t,r,n,i,a,s){var o=null,l=i.reduce((d,p)=>Pt(Pt({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Nu((w,v)=>eh(...v,r(p)),l);if(a(Pt(Pt(Pt({},e),t),m)),p<1)o=s.setTimeout(c);else{var g=Nu((w,v)=>eh(...v,r(1)),l);a(Pt(Pt(Pt({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const h8=(e,t,r,n,i,a)=>{var s=o8(e,t);return r==null?()=>(i(Pt(Pt({},e),t)),()=>{}):r.isStepper===!0?d8(e,t,r,s,i,a):f8(e,t,r,n,s,i,a)};var th=1e-4,Ok=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),gA=(e,t)=>r=>{var n=Ok(e,t);return kk(n,r)},p8=(e,t)=>r=>{var n=Ok(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return kk(i,r)},m8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},g8=(e,t,r,n)=>{var i=gA(e,r),a=gA(t,n),s=p8(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=s(d);if(Math.abs(m-c)<th||g<th)return a(d);d=o(d-m/g)}return a(d)};return l.isStepper=!1,l},vA=function(){return g8(...m8(...arguments))},v8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<th&&Math.abs(d)<th?[o,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},y8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vA(e);case"spring":return v8();default:if(e.split("(")[0]==="cubic-bezier")return vA(e)}return typeof e=="function"?e:null};function w8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class x8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _8(){return w8(new x8)}var b8=_.createContext(_8);function E8(e,t){var r=_.useContext(b8);return _.useMemo(()=>t??r(e),[e,t,r])}var S8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sc={devToolsEnabled:!1,isSsr:S8()},A8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yA={t:0},Sg={t:1};function Fp(e){var t=Ut(e,A8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!sc.isSsr:r,d=E8(t.animationId,t.animationManager),[p,m]=_.useState(c?yA:Sg),g=_.useRef(null);return _.useEffect(()=>{c||m(Sg)},[c]),_.useEffect(()=>{if(!c||!n)return Ju;var w=h8(yA,Sg,y8(a),i,m,d.getTimeoutController()),v=()=>{g.current=w()};return d.start([l,s,v,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[c,n,i,a,s,l,o,d]),u(p.t)}function $p(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(Su(t)),n=_.useRef(e);return n.current!==e&&(r.current=Su(t),n.current=e),r.current}var P8=["radius"],T8=["radius"];function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){C8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t,r){return(t=I8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=j8(e,"string");return typeof t=="symbol"?t:t+""}function j8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function _A(e,t){if(e==null)return{};var r,n,i=N8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+r-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*c[1])),u+="L ".concat(e+r,",").concat(t+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-o*c[2],",").concat(t+n)),u+="L ".concat(e+o*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},EA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rk=e=>{var t=Ut(e,EA),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:w}=t,v=_.useRef(o),x=_.useRef(l),E=_.useRef(a),A=_.useRef(s),j=_.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),T=$p(j,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Oe("recharts-rectangle",c);if(!w){var b=an(t),{radius:S}=b,I=_A(b,P8);return _.createElement("path",rh({},I,{radius:typeof u=="number"?u:void 0,className:N,d:bA(a,s,o,l,u)}))}var D=v.current,C=x.current,k=E.current,O=A.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),de=jk(["strokeDasharray"],p,typeof d=="string"?d:EA.animationEasing);return _.createElement(Fp,{animationId:T,key:T,canBegin:n>0,duration:p,easing:d,isActive:w,begin:m},oe=>{var U=At(D,o,oe),K=At(C,l,oe),ne=At(k,a,oe),me=At(O,s,oe);r.current&&(v.current=U,x.current=K,E.current=ne,A.current=me);var be;g?oe>0?be={transition:de,strokeDasharray:se}:be={strokeDasharray:Q}:be={strokeDasharray:se};var _t=an(t),{radius:ke}=_t,qt=_A(_t,T8);return _.createElement("path",rh({},qt,{radius:typeof u=="number"?u:void 0,className:N,d:bA(ne,me,U,K,u),ref:r,style:xA(xA({},be),t.style)}))})};function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,D8=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-nh*n)*r,y:t+Math.sin(-nh*n)*r}),Dk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},L8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=M8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:D8(l),angleInRadian:l}},V8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},F8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},$8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=L8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=V8(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?AA(AA({},t),{},{radius:i,angle:F8(c,t)}):null};function Mk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=wt(t,r,n,i),o=wt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}var z8=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/nh,d=l?i:i+a*c,p=wt(t,r,u,d),m=wt(t,r,n,d),g=l?i-a*c:i,w=wt(t,r,u*Math.cos(c*nh),g);return{center:p,circleTangency:m,lineTangency:w,theta:c}},Lk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=z8(a,s),l=a+o,u=wt(t,r,i,a),c=wt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=wt(t,r,n,a),m=wt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},U8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ft(u-l),{circleTangency:d,lineTangency:p,theta:m}=hd({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:w,theta:v}=hd({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-v;if(x<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Lk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:j,theta:T}=hd({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:b,theta:S}=hd({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(l-u):Math.abs(l-u)-T-S;if(I<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},B8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vk=e=>{var t=Ut(e,B8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Oe("recharts-sector",d),m=a-i,g=or(s,m,0,!0),w;return g>0&&Math.abs(u-c)<360?w=U8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):w=Lk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",ky({},an(t),{className:p,d:w}))};function q8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(JN(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=wt(n,i,a,o),u=wt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Mk(t)}}var Fk={},$k={},zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=$k;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(Fk);var W8=Fk.range;const Uk=Ai(W8);function la(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bx(e){let t,r,n;e.length!==2?(t=la,r=(o,l)=>la(e(o),l),n=(o,l)=>e(o)-l):(t=e===la||e===K8?e:H8,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function H8(){return 0}function Bk(e){return e===null?NaN:+e}function*G8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q8=bx(la),oc=Q8.right;bx(Bk).center;class PA extends Map{constructor(t,r=Z8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(TA(this,t))}has(t){return super.has(TA(this,t))}set(t,r){return super.set(Y8(this,t),r)}delete(t){return super.delete(X8(this,t))}}function TA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Z8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function J8(e=la){if(e===la)return qk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e7=Math.sqrt(50),t7=Math.sqrt(10),r7=Math.sqrt(2);function ih(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=e7?10:a>=t7?5:a>=r7?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?ih(e,t,r*2):[o,l,u]}function Ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ih(t,e,r):ih(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Dy(e,t,r){return t=+t,e=+e,r=+r,ih(e,t,r)[2]}function My(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Dy(t,e,r):Dy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function CA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function IA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Wk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?qk:J8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));Wk(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(xl(e,r,t),i(e[n],a)>0&&xl(e,r,n);s<o;){for(xl(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?xl(e,r,o):(++o,xl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function n7(e,t,r){if(e=Float64Array.from(G8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return IA(e);if(t>=1)return CA(e);var n,i=(n-1)*t,a=Math.floor(i),s=CA(Wk(e,a).subarray(0,a+1)),o=IA(e.subarray(a+1));return s+(o-s)*(i-a)}}function i7(e,t,r=Bk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function a7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ly=Symbol("implicit");function Ex(){var e=new PA,t=[],r=[],n=Ly;function i(a){let s=e.get(a);if(s===void 0){if(n!==Ly)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new PA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ex(t,r).unknown(n)},un.apply(i,arguments),i}function Sx(){var e=Ex().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,w=m?n:i;a=(w-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(w-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=a7(p).map(function(x){return g+a*x});return r(m?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,d()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return Sx(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},un.apply(d(),arguments)}function Kk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kk(t())},e}function s7(){return Kk(Sx.apply(null,arguments).paddingInner(1))}function Ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Hk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lc(){}var Ou=.7,ah=1/Ou,no="\\s*([+-]?\\d+)\\s*",ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o7=/^#([0-9a-f]{3,8})$/,l7=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),u7=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),c7=new RegExp(`^rgba\\(${no},${no},${no},${ku}\\)$`),d7=new RegExp(`^rgba\\(${Un},${Un},${Un},${ku}\\)$`),f7=new RegExp(`^hsl\\(${ku},${Un},${Un}\\)$`),h7=new RegExp(`^hsla\\(${ku},${Un},${Un},${ku}\\)$`),jA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ax(lc,Ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NA,formatHex:NA,formatHex8:p7,formatHsl:m7,formatRgb:OA,toString:OA});function NA(){return this.rgb().formatHex()}function p7(){return this.rgb().formatHex8()}function m7(){return Gk(this).formatHsl()}function OA(){return this.rgb().formatRgb()}function Ru(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=o7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kA(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l7.exec(e))?new Sr(t[1],t[2],t[3],1):(t=u7.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c7.exec(e))?pd(t[1],t[2],t[3],t[4]):(t=d7.exec(e))?pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=f7.exec(e))?MA(t[1],t[2]/100,t[3]/100,1):(t=h7.exec(e))?MA(t[1],t[2]/100,t[3]/100,t[4]):jA.hasOwnProperty(e)?kA(jA[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function kA(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function pd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function g7(e){return e instanceof lc||(e=Ru(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function Vy(e,t,r,n){return arguments.length===1?g7(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ax(Sr,Vy,Hk(lc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ou:Math.pow(Ou,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Xa(this.r),Xa(this.g),Xa(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RA,formatHex:RA,formatHex8:v7,formatRgb:DA,toString:DA}));function RA(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function v7(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function DA(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=Xa(e),(e<16?"0":"")+e.toString(16)}function MA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yn(e,t,r,n)}function Gk(e){if(e instanceof yn)return new yn(e.h,e.s,e.l,e.opacity);if(e instanceof lc||(e=Ru(e)),!e)return new yn;if(e instanceof yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yn(s,o,l,e.opacity)}function y7(e,t,r,n){return arguments.length===1?Gk(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ax(yn,y7,Hk(lc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ou:Math.pow(Ou,e),new yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Sr(Ag(e>=240?e-240:e+120,i,n),Ag(e,i,n),Ag(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new yn(LA(this.h),md(this.s),md(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${LA(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LA(e){return e=(e||0)%360,e<0?e+360:e}function md(e){return Math.max(0,Math.min(1,e||0))}function Ag(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Px=e=>()=>e;function w7(e,t){return function(r){return e+r*t}}function x7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _7(e){return(e=+e)==1?Qk:function(t,r){return r-t?x7(t,r,e):Px(isNaN(t)?r:t)}}function Qk(e,t){var r=t-e;return r?w7(e,r):Px(isNaN(e)?t:e)}const VA=function e(t){var r=_7(t);function n(i,a){var s=r((i=Vy(i)).r,(a=Vy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Qk(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function b7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function E7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function S7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Vo(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function A7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function P7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Vo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pg=new RegExp(Fy.source,"g");function T7(e){return function(){return e}}function C7(e){return function(t){return e(t)+""}}function I7(e,t){var r=Fy.lastIndex=Pg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Fy.exec(e))&&(i=Pg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:oh(n,i)})),r=Pg.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?C7(l[0].x):T7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Vo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Px(t):(r==="number"?oh:r==="string"?(n=Ru(t))?(t=n,VA):I7:t instanceof Ru?VA:t instanceof Date?A7:E7(t)?b7:Array.isArray(t)?S7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P7:oh)(e,t)}function Tx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function j7(e,t){t===void 0&&(t=e,e=Vo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function N7(e){return function(){return e}}function lh(e){return+e}var FA=[0,1];function fr(e){return e}function $y(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:N7(isNaN(t)?NaN:.5)}function O7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function k7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=$y(i,n),a=r(s,a)):(n=$y(n,i),a=r(a,s)),function(o){return a(n(o))}}function R7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=$y(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=oc(e,o,1,n)-1;return a[l](i[l](o))}}function uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zp(){var e=FA,t=FA,r=Vo,n,i,a,s=fr,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==fr&&(s=O7(e[0],e[p-1])),o=p>2?R7:k7,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return d.invert=function(p){return s(i((u||(u=o(t,e.map(n),oh)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,lh),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Tx,c()},d.clamp=function(p){return arguments.length?(s=p?!0:fr,c()):s!==fr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function Cx(){return zp()(fr,fr)}function D7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ao(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function M7(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function L7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Du(e){if(!(t=V7.exec(e)))throw new Error("invalid format: "+e);var t;return new Ix({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Du.prototype=Ix.prototype;function Ix(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Yk;function $7(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Yk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+uh(e,Math.max(0,t+a-1))[0]}function $A(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:D7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$A(e*100,t),r:$A,s:$7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UA(e){return e}var BA=Array.prototype.map,qA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z7(e){var t=e.grouping===void 0||e.thousands===void 0?UA:M7(BA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?UA:L7(BA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Du(d);var p=d.fill,m=d.align,g=d.sign,w=d.symbol,v=d.zero,x=d.width,E=d.comma,A=d.precision,j=d.trim,T=d.type;T==="n"?(E=!0,T="g"):zA[T]||(A===void 0&&(A=12),j=!0,T="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var N=w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",b=w==="$"?n:/[%p]/.test(T)?s:"",S=zA[T],I=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(C){var k=N,O=b,Q,se,de;if(T==="c")O=S(C)+O,C="";else{C=+C;var oe=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),A),j&&(C=F7(C)),oe&&+C==0&&g!=="+"&&(oe=!1),k=(oe?g==="("?g:o:g==="-"||g==="("?"":g)+k,O=(T==="s"?qA[8+Yk/3]:"")+O+(oe&&g==="("?")":""),I){for(Q=-1,se=C.length;++Q<se;)if(de=C.charCodeAt(Q),48>de||de>57){O=(de===46?i+C.slice(Q+1):C.slice(Q))+O,C=C.slice(0,Q);break}}}E&&!v&&(C=t(C,1/0));var U=k.length+C.length+O.length,K=U<x?new Array(x-U+1).join(p):"";switch(E&&v&&(C=t(K+C,K.length?x-O.length:1/0),K=""),m){case"<":C=k+C+O+K;break;case"=":C=k+K+C+O;break;case"^":C=K.slice(0,U=K.length>>1)+k+C+O+K.slice(U);break;default:C=K+k+C+O;break}return a(C)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=Du(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ao(p)/3)))*3,w=Math.pow(10,-g),v=qA[8+g/3];return function(x){return m(w*x)+v}}return{format:u,formatPrefix:c}}var gd,jx,Xk;U7({thousands:",",grouping:[3],currency:["$",""]});function U7(e){return gd=z7(e),jx=gd.format,Xk=gd.formatPrefix,gd}function B7(e){return Math.max(0,-Ao(Math.abs(e)))}function q7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(t)/3)))*3-Ao(Math.abs(e)))}function W7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ao(t)-Ao(e))+1}function Zk(e,t,r,n){var i=My(e,t,r),a;switch(n=Du(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=q7(i,s))&&(n.precision=a),Xk(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=W7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=B7(i))&&(n.precision=a-(n.type==="%")*2);break}}return jx(n)}function Sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Zk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Dy(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Jk(){var e=Cx();return e.copy=function(){return uc(e,Jk())},un.apply(e,arguments),Sa(e)}function eR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eR(e).unknown(t)},e=arguments.length?Array.from(e,lh):[0,1],Sa(r)}function tR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function WA(e){return Math.log(e)}function KA(e){return Math.exp(e)}function K7(e){return-Math.log(-e)}function H7(e){return-Math.exp(-e)}function G7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Q7(e){return e===10?G7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Y7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HA(e){return(t,r)=>-e(-t,r)}function Nx(e){const t=e(WA,KA),r=t.domain;let n=10,i,a;function s(){return i=Y7(n),a=Q7(n),r()[0]<0?(i=HA(i),a=HA(a),e(K7,H7)):e(WA,KA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,w;const v=o==null?10:+o;let x=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(w=p<0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;x.push(w)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(w=p>0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;x.push(w)}x.length*2<v&&(x=Ry(u,c,v))}else x=Ry(p,m,Math.min(m-p,v)).map(a);return d?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Du(l)).precision==null&&(l.trim=!0),l=jx(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(tR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function rR(){const e=Nx(zp()).domain([1,10]);return e.copy=()=>uc(e,rR()).base(e.base()),un.apply(e,arguments),e}function GA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ox(e){var t=1,r=e(GA(t),QA(t));return r.constant=function(n){return arguments.length?e(GA(t=+n),QA(t)):t},Sa(r)}function nR(){var e=Ox(zp());return e.copy=function(){return uc(e,nR()).constant(e.constant())},un.apply(e,arguments)}function YA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Z7(e){return e<0?-e*e:e*e}function kx(e){var t=e(fr,fr),r=1;function n(){return r===1?e(fr,fr):r===.5?e(X7,Z7):e(YA(r),YA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Sa(t)}function Rx(){var e=kx(zp());return e.copy=function(){return uc(e,Rx()).exponent(e.exponent())},un.apply(e,arguments),e}function J7(){return Rx.apply(null,arguments).exponent(.5)}function XA(e){return Math.sign(e)*e*e}function eq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iR(){var e=Cx(),t=[0,1],r=!1,n;function i(a){var s=eq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(XA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,lh)).map(XA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return iR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},un.apply(i,arguments),Sa(i)}function aR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=i7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[oc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(la),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return aR().domain(e).range(t).unknown(n)},un.apply(a,arguments)}function sR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[oc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return sR().domain([e,t]).range(i).unknown(a)},un.apply(Sa(s),arguments)}function oR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[oc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oR().domain(e).range(t).unknown(r)},un.apply(i,arguments)}const Tg=new Date,Cg=new Date;function jt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>jt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Tg.setTime(+a),Cg.setTime(+s),e(Tg),e(Cg),Math.floor(r(Tg,Cg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ch=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ch);ch.range;const ii=1e3,Jr=ii*60,ai=Jr*60,xi=ai*24,Dx=xi*7,ZA=xi*30,Ig=xi*365,qa=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());qa.range;const Mx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());Mx.range;const Lx=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());Lx.range;const Vx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());Vx.range;const Fx=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());Fx.range;const cc=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/xi,e=>e.getDate()-1);cc.range;const Up=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>e.getUTCDate()-1);Up.range;const lR=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>Math.floor(e/xi));lR.range;function ws(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Dx)}const Bp=ws(0),dh=ws(1),tq=ws(2),rq=ws(3),Po=ws(4),nq=ws(5),iq=ws(6);Bp.range;dh.range;tq.range;rq.range;Po.range;nq.range;iq.range;function xs(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dx)}const qp=xs(0),fh=xs(1),aq=xs(2),sq=xs(3),To=xs(4),oq=xs(5),lq=xs(6);qp.range;fh.range;aq.range;sq.range;To.range;oq.range;lq.range;const $x=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$x.range;const zx=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zx.range;const _i=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_i.range;const bi=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bi.range;function uR(e,t,r,n,i,a){const s=[[qa,1,ii],[qa,5,5*ii],[qa,15,15*ii],[qa,30,30*ii],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[n,1,xi],[n,2,2*xi],[r,1,Dx],[t,1,ZA],[t,3,3*ZA],[e,1,Ig]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=bx(([,,v])=>v).right(s,p);if(m===s.length)return e.every(My(u/Ig,c/Ig,d));if(m===0)return ch.every(Math.max(My(u,c,d),1));const[g,w]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(w)}return[o,l]}const[uq,cq]=uR(bi,zx,qp,lR,Fx,Lx),[dq,fq]=uR(_i,$x,Bp,cc,Vx,Mx);function jg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ng(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _l(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=bl(i),c=El(i),d=bl(a),p=El(a),m=bl(s),g=El(s),w=bl(o),v=El(o),x=bl(l),E=El(l),A={a:oe,A:U,b:K,B:ne,c:null,d:iP,e:iP,f:Mq,g:Kq,G:Gq,H:kq,I:Rq,j:Dq,L:cR,m:Lq,M:Vq,p:me,q:be,Q:oP,s:lP,S:Fq,u:$q,U:zq,V:Uq,w:Bq,W:qq,x:null,X:null,y:Wq,Y:Hq,Z:Qq,"%":sP},j={a:_t,A:ke,b:qt,B:bt,c:null,d:aP,e:aP,f:Jq,g:uW,G:dW,H:Yq,I:Xq,j:Zq,L:fR,m:eW,M:tW,p:ze,q:Qn,Q:oP,s:lP,S:rW,u:nW,U:iW,V:aW,w:sW,W:oW,x:null,X:null,y:lW,Y:cW,Z:fW,"%":sP},T={a:D,A:C,b:k,B:O,c:Q,d:rP,e:rP,f:Iq,g:tP,G:eP,H:nP,I:nP,j:Aq,L:Cq,m:Sq,M:Pq,p:I,q:Eq,Q:Nq,s:Oq,S:Tq,u:yq,U:wq,V:xq,w:vq,W:_q,x:se,X:de,y:tP,Y:eP,Z:bq,"%":jq};A.x=N(r,A),A.X=N(n,A),A.c=N(t,A),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(B,fe){return function(ye){var q=[],ft=-1,Ce=0,z=B.length,H,Z,ce;for(ye instanceof Date||(ye=new Date(+ye));++ft<z;)B.charCodeAt(ft)===37&&(q.push(B.slice(Ce,ft)),(Z=JA[H=B.charAt(++ft)])!=null?H=B.charAt(++ft):Z=H==="e"?" ":"0",(ce=fe[H])&&(H=ce(ye,Z)),q.push(H),Ce=ft+1);return q.push(B.slice(Ce,ft)),q.join("")}}function b(B,fe){return function(ye){var q=_l(1900,void 0,1),ft=S(q,B,ye+="",0),Ce,z;if(ft!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Ce=Ng(_l(q.y,0,1)),z=Ce.getUTCDay(),Ce=z>4||z===0?fh.ceil(Ce):fh(Ce),Ce=Up.offset(Ce,(q.V-1)*7),q.y=Ce.getUTCFullYear(),q.m=Ce.getUTCMonth(),q.d=Ce.getUTCDate()+(q.w+6)%7):(Ce=jg(_l(q.y,0,1)),z=Ce.getDay(),Ce=z>4||z===0?dh.ceil(Ce):dh(Ce),Ce=cc.offset(Ce,(q.V-1)*7),q.y=Ce.getFullYear(),q.m=Ce.getMonth(),q.d=Ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),z="Z"in q?Ng(_l(q.y,0,1)).getUTCDay():jg(_l(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(z+5)%7:q.w+q.U*7-(z+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Ng(q)):jg(q)}}function S(B,fe,ye,q){for(var ft=0,Ce=fe.length,z=ye.length,H,Z;ft<Ce;){if(q>=z)return-1;if(H=fe.charCodeAt(ft++),H===37){if(H=fe.charAt(ft++),Z=T[H in JA?fe.charAt(ft++):H],!Z||(q=Z(B,ye,q))<0)return-1}else if(H!=ye.charCodeAt(q++))return-1}return q}function I(B,fe,ye){var q=u.exec(fe.slice(ye));return q?(B.p=c.get(q[0].toLowerCase()),ye+q[0].length):-1}function D(B,fe,ye){var q=m.exec(fe.slice(ye));return q?(B.w=g.get(q[0].toLowerCase()),ye+q[0].length):-1}function C(B,fe,ye){var q=d.exec(fe.slice(ye));return q?(B.w=p.get(q[0].toLowerCase()),ye+q[0].length):-1}function k(B,fe,ye){var q=x.exec(fe.slice(ye));return q?(B.m=E.get(q[0].toLowerCase()),ye+q[0].length):-1}function O(B,fe,ye){var q=w.exec(fe.slice(ye));return q?(B.m=v.get(q[0].toLowerCase()),ye+q[0].length):-1}function Q(B,fe,ye){return S(B,t,fe,ye)}function se(B,fe,ye){return S(B,r,fe,ye)}function de(B,fe,ye){return S(B,n,fe,ye)}function oe(B){return s[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function ne(B){return o[B.getMonth()]}function me(B){return i[+(B.getHours()>=12)]}function be(B){return 1+~~(B.getMonth()/3)}function _t(B){return s[B.getUTCDay()]}function ke(B){return a[B.getUTCDay()]}function qt(B){return l[B.getUTCMonth()]}function bt(B){return o[B.getUTCMonth()]}function ze(B){return i[+(B.getUTCHours()>=12)]}function Qn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=N(B+="",A);return fe.toString=function(){return B},fe},parse:function(B){var fe=b(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=N(B+="",j);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=b(B+="",!0);return fe.toString=function(){return B},fe}}}var JA={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,pq=/^%/,mq=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function gq(e){return e.replace(mq,"\\$&")}function bl(e){return new RegExp("^(?:"+e.map(gq).join("|")+")","i")}function El(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _q(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function eP(e,t,r){var n=Bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Eq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Sq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Aq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Tq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jq(e,t,r){var n=pq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Oq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iP(e,t){return Pe(e.getDate(),t,2)}function kq(e,t){return Pe(e.getHours(),t,2)}function Rq(e,t){return Pe(e.getHours()%12||12,t,2)}function Dq(e,t){return Pe(1+cc.count(_i(e),e),t,3)}function cR(e,t){return Pe(e.getMilliseconds(),t,3)}function Mq(e,t){return cR(e,t)+"000"}function Lq(e,t){return Pe(e.getMonth()+1,t,2)}function Vq(e,t){return Pe(e.getMinutes(),t,2)}function Fq(e,t){return Pe(e.getSeconds(),t,2)}function $q(e){var t=e.getDay();return t===0?7:t}function zq(e,t){return Pe(Bp.count(_i(e)-1,e),t,2)}function dR(e){var t=e.getDay();return t>=4||t===0?Po(e):Po.ceil(e)}function Uq(e,t){return e=dR(e),Pe(Po.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function Bq(e){return e.getDay()}function qq(e,t){return Pe(dh.count(_i(e)-1,e),t,2)}function Wq(e,t){return Pe(e.getFullYear()%100,t,2)}function Kq(e,t){return e=dR(e),Pe(e.getFullYear()%100,t,2)}function Hq(e,t){return Pe(e.getFullYear()%1e4,t,4)}function Gq(e,t){var r=e.getDay();return e=r>=4||r===0?Po(e):Po.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function Qq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function aP(e,t){return Pe(e.getUTCDate(),t,2)}function Yq(e,t){return Pe(e.getUTCHours(),t,2)}function Xq(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function Zq(e,t){return Pe(1+Up.count(bi(e),e),t,3)}function fR(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function Jq(e,t){return fR(e,t)+"000"}function eW(e,t){return Pe(e.getUTCMonth()+1,t,2)}function tW(e,t){return Pe(e.getUTCMinutes(),t,2)}function rW(e,t){return Pe(e.getUTCSeconds(),t,2)}function nW(e){var t=e.getUTCDay();return t===0?7:t}function iW(e,t){return Pe(qp.count(bi(e)-1,e),t,2)}function hR(e){var t=e.getUTCDay();return t>=4||t===0?To(e):To.ceil(e)}function aW(e,t){return e=hR(e),Pe(To.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function sW(e){return e.getUTCDay()}function oW(e,t){return Pe(fh.count(bi(e)-1,e),t,2)}function lW(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function uW(e,t){return e=hR(e),Pe(e.getUTCFullYear()%100,t,2)}function cW(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function dW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?To(e):To.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function fW(){return"+0000"}function sP(){return"%"}function oP(e){return+e}function lP(e){return Math.floor(+e/1e3)}var As,pR,mR;hW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hW(e){return As=hq(e),pR=As.format,As.parse,mR=As.utcFormat,As.utcParse,As}function pW(e){return new Date(e)}function mW(e){return e instanceof Date?+e:+new Date(+e)}function Ux(e,t,r,n,i,a,s,o,l,u){var c=Cx(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),w=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),E=u("%b %d"),A=u("%B"),j=u("%Y");function T(N){return(l(N)<N?m:o(N)<N?g:s(N)<N?w:a(N)<N?v:n(N)<N?i(N)<N?x:E:r(N)<N?A:j)(N)}return c.invert=function(N){return new Date(d(N))},c.domain=function(N){return arguments.length?p(Array.from(N,mW)):p().map(pW)},c.ticks=function(N){var b=p();return e(b[0],b[b.length-1],N??10)},c.tickFormat=function(N,b){return b==null?T:u(b)},c.nice=function(N){var b=p();return(!N||typeof N.range!="function")&&(N=t(b[0],b[b.length-1],N??10)),N?p(tR(b,N)):c},c.copy=function(){return uc(c,Ux(e,t,r,n,i,a,s,o,l,u))},c}function gW(){return un.apply(Ux(dq,fq,_i,$x,Bp,cc,Vx,Mx,qa,pR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vW(){return un.apply(Ux(uq,cq,bi,zx,qp,Up,Fx,Lx,qa,mR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wp(){var e=0,t=1,r,n,i,a,s=fr,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,s=d(m,g),u):[s(0),s(1)]}}return u.range=c(Vo),u.rangeRound=c(Tx),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gR(){var e=Sa(Wp()(fr));return e.copy=function(){return Aa(e,gR())},Ii.apply(e,arguments)}function vR(){var e=Nx(Wp()).domain([1,10]);return e.copy=function(){return Aa(e,vR()).base(e.base())},Ii.apply(e,arguments)}function yR(){var e=Ox(Wp());return e.copy=function(){return Aa(e,yR()).constant(e.constant())},Ii.apply(e,arguments)}function Bx(){var e=kx(Wp());return e.copy=function(){return Aa(e,Bx()).exponent(e.exponent())},Ii.apply(e,arguments)}function yW(){return Bx.apply(null,arguments).exponent(.5)}function wR(){var e=[],t=fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((oc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(la),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>n7(e,a/n))},r.copy=function(){return wR(t).domain(e)},Ii.apply(r,arguments)}function Kp(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=fr,c,d=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-a)*(n*w<n*a?o:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t,r]=w,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function g(w){return function(v){var x,E,A;return arguments.length?([x,E,A]=v,u=j7(w,[x,E,A]),m):[u(0),u(.5),u(1)]}}return m.range=g(Vo),m.rangeRound=g(Tx),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(e),a=w(t),s=w(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function xR(){var e=Sa(Kp()(fr));return e.copy=function(){return Aa(e,xR())},Ii.apply(e,arguments)}function _R(){var e=Nx(Kp()).domain([.1,1,10]);return e.copy=function(){return Aa(e,_R()).base(e.base())},Ii.apply(e,arguments)}function bR(){var e=Ox(Kp());return e.copy=function(){return Aa(e,bR()).constant(e.constant())},Ii.apply(e,arguments)}function qx(){var e=kx(Kp());return e.copy=function(){return Aa(e,qx()).exponent(e.exponent())},Ii.apply(e,arguments)}function wW(){return qx.apply(null,arguments).exponent(.5)}const Dl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sx,scaleDiverging:xR,scaleDivergingLog:_R,scaleDivergingPow:qx,scaleDivergingSqrt:wW,scaleDivergingSymlog:bR,scaleIdentity:eR,scaleImplicit:Ly,scaleLinear:Jk,scaleLog:rR,scaleOrdinal:Ex,scalePoint:s7,scalePow:Rx,scaleQuantile:aR,scaleQuantize:sR,scaleRadial:iR,scaleSequential:gR,scaleSequentialLog:vR,scaleSequentialPow:Bx,scaleSequentialQuantile:wR,scaleSequentialSqrt:yW,scaleSequentialSymlog:yR,scaleSqrt:J7,scaleSymlog:nR,scaleThreshold:oR,scaleTime:gW,scaleUtc:vW,tickFormat:Zk},Symbol.toStringTag,{value:"Module"}));var Pa=e=>e.chartData,Wx=L([Pa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Kx=(e,t,r,n)=>n?Wx(e):Pa(e);function va(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function uP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ER(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(dt(r))i=r;else if(typeof r=="function")return;if(dt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(va(s))return s}}function xW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(va(n))return uP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(re(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&WS.test(i)){var l=WS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&KS.test(a)){var c=KS.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=t==null?void 0:t[1];var p=[s,o];if(va(p))return t==null?p:uP(p,t,r)}}}var Fo=1e9,_W={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gx,Xe=!0,on="[DecimalError] ",Za=on+"Invalid argument: ",Hx=on+"Exponent out of range: ",$o=Math.floor,Va=Math.pow,bW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Lt=1e7,qe=7,SR=9007199254740991,hh=$o(SR/qe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return li(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return De(li(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return xt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(on+"NaN");if(r.s<1)throw Error(on+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(Xe=!1,t=li(Mu(r,a),Mu(e,a),a),Xe=!0,De(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TR(t,e):AR(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(on+"NaN");return r.s?(Xe=!1,t=li(r,e,0,1).times(e),Xe=!0,r.minus(t)):De(new n(r),i)};ee.naturalExponential=ee.exp=function(){return PR(this)};ee.naturalLogarithm=ee.ln=function(){return Mu(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AR(t,e):TR(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Za+e);if(t=xt(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(on+"NaN")}for(e=xt(o),Xe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Dn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=$o((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(li(o,a,s+2)).times(.5),Dn(a.d).slice(0,s)===(t=Dn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Xe=!0,De(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%Lt|0,t=o/Lt|0;a[i]=(a[i]+t)%Lt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xe?De(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gn(e,0,Fo),t===void 0?t=n.rounding:Gn(t,0,8),De(r,e+xt(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=us(n,!0):(Gn(e,0,Fo),t===void 0?t=i.rounding:Gn(t,0,8),n=De(new i(n),e+1,t),r=us(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?us(i):(Gn(e,0,Fo),t===void 0?t=a.rounding:Gn(t,0,8),n=De(new a(i),e+xt(i)+1,t),r=us(n.abs(),!1,e+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return De(new t(e),xt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Dr);if(o=new l(o),!o.s){if(e.s<1)throw Error(on+"Infinity");return o}if(o.eq(Dr))return o;if(n=l.precision,e.eq(Dr))return De(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=SR){for(i=new l(Dr),t=Math.ceil(n/qe+4),Xe=!1;r%2&&(i=i.times(o),dP(i.d,t)),r=$o(r/2),r!==0;)o=o.times(o),dP(o.d,t);return Xe=!0,e.s<0?new l(Dr).div(i):De(i,n)}}else if(a<0)throw Error(on+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xe=!1,i=e.times(Mu(o,n+u)),Xe=!0,i=PR(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=xt(i),n=us(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gn(e,1,Fo),t===void 0?t=a.rounding:Gn(t,0,8),i=De(new a(i),e,t),r=xt(i),n=us(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gn(e,1,Fo),t===void 0?t=n.rounding:Gn(t,0,8)),De(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xt(e),r=e.constructor;return us(e,t<=r.toExpNeg||t>=r.toExpPos)};function AR(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Xe?De(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(d/qe),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Lt|0,l[a]%=Lt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xe?De(t,d):t}function Gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Za+e)}function Dn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=qe-n.length,r&&(a+=Ui(r)),a+=n;s=e[t],n=s+"",r=qe-n.length,r&&(a+=Ui(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var li=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Lt|0,s=a/Lt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,d,p,m,g,w,v,x,E,A,j,T,N,b,S,I=n.constructor,D=n.s==i.s?1:-1,C=n.d,k=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(on+"Division by zero");for(l=n.e-i.e,b=k.length,T=C.length,m=new I(D),g=m.d=[],u=0;k[u]==(C[u]||0);)++u;if(k[u]>(C[u]||0)&&--l,a==null?E=a=I.precision:s?E=a+(xt(n)-xt(i))+1:E=a,E<0)return new I(0);if(E=E/qe+2|0,u=0,b==1)for(c=0,k=k[0],E++;(u<T||c)&&E--;u++)A=c*Lt+(C[u]||0),g[u]=A/k|0,c=A%k|0;else{for(c=Lt/(k[0]+1)|0,c>1&&(k=e(k,c),C=e(C,c),b=k.length,T=C.length),j=b,w=C.slice(0,b),v=w.length;v<b;)w[v++]=0;S=k.slice(),S.unshift(0),N=k[0],k[1]>=Lt/2&&++N;do c=0,o=t(k,w,b,v),o<0?(x=w[0],b!=v&&(x=x*Lt+(w[1]||0)),c=x/N|0,c>1?(c>=Lt&&(c=Lt-1),d=e(k,c),p=d.length,v=w.length,o=t(d,w,p,v),o==1&&(c--,r(d,b<p?S:k,p))):(c==0&&(o=c=1),d=k.slice()),p=d.length,p<v&&d.unshift(0),r(w,d,v),o==-1&&(v=w.length,o=t(k,w,b,v),o<1&&(c++,r(w,b<v?S:k,v))),v=w.length):o===0&&(c++,w=[0]),g[u++]=c,o&&w[0]?w[v++]=C[j]||0:(w=[C[j]],v=1);while((j++<T||w[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=l,De(m,s?a+xt(m)+1:a)}}();function PR(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,d=c.precision;if(xt(e)>16)throw Error(Hx+xt(e));if(!e.s)return new c(Dr);for(Xe=!1,o=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Va(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Dr),c.precision=o;;){if(i=De(i.times(e),o),r=r.times(++l),s=a.plus(li(i,r,o)),Dn(s.d).slice(0,o)===Dn(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=d,t==null?(Xe=!0,De(a,d)):a}a=s}}function xt(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function Og(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(on+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function Mu(e,t){var r,n,i,a,s,o,l,u,c,d=1,p=10,m=e,g=m.d,w=m.constructor,v=w.precision;if(m.s<1)throw Error(on+(m.s?"NaN":"-Infinity"));if(m.eq(Dr))return new w(0);if(t==null?(Xe=!1,u=v):u=t,m.eq(10))return t==null&&(Xe=!0),Og(w,u);if(u+=p,w.precision=u,r=Dn(g),n=r.charAt(0),a=xt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Dn(m.d),n=r.charAt(0),d++;a=xt(m),n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1))}else return l=Og(w,u+2,v).times(a+""),m=Mu(new w(n+"."+r.slice(1)),u-p).plus(l),w.precision=v,t==null?(Xe=!0,De(m,v)):m;for(o=s=m=li(m.minus(Dr),m.plus(Dr),u),c=De(m.times(m),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(li(s,new w(i),u)),Dn(l.d).slice(0,u)===Dn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Og(w,u+2,v).times(a+""))),o=li(o,new w(d),u),w.precision=v,t==null?(Xe=!0,De(o,v)):o;o=l,i+=2}}function cP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=$o(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=qe;n<i;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>hh||e.e<-hh))throw Error(Hx+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,i,a,s,o,l,u,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=qe,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/qe),a=d.length,c>=a)return e;for(u=a=d[c],s=1;a>=10;a/=10)s++;n%=qe,i=n-qe+s}if(r!==void 0&&(a=Va(10,s-i-1),o=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Va(10,s-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=xt(e),d.length=1,t=t-a-1,d[0]=Va(10,(qe-t%qe)%qe),e.e=$o(-t/qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Va(10,qe-n),d[c]=i>0?(u/Va(10,s-i)%Va(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Lt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Lt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Xe&&(e.e>hh||e.e<-hh))throw Error(Hx+xt(e));return e}function TR(e,t){var r,n,i,a,s,o,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xe?De(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),i=Math.max(Math.ceil(m/qe),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Lt-1;--l[a],l[i]+=Lt}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xe?De(t,m):t):new p(0)}function us(e,t,r){var n,i=xt(e),a=Dn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ui(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ui(-i-1)+a,r&&(n=r-s)>0&&(a+=Ui(n))):i>=s?(a+=Ui(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ui(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ui(n))),e.s<0?"-"+a:a}function dP(e,t){if(e.length>t)return e.length=t,!0}function CR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Za+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return cP(s,a.toString())}else if(typeof a!="string")throw Error(Za+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,bW.test(a))cP(s,a);else throw Error(Za+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CR,i.config=i.set=EW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function EW(e){if(!e||typeof e!="object")throw Error(on+"Object expected");var t,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if($o(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Za+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Za+r+": "+n);return this}var Gx=CR(_W);Dr=new Gx(1);const je=Gx;var SW=e=>e,IR={},jR=e=>e===IR,fP=e=>function t(){return arguments.length===0||arguments.length===1&&jR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NR=(e,t)=>e===1?t:fP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==IR).length;return a>=e?t(...n):NR(e-a,fP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>jR(c)?o.shift():c);return t(...u,...o)}))}),AW=e=>NR(e.length,e),zy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},PW=AW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),TW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SW;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Uy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function OR(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function kR(e,t,r){for(var n=new je(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var RR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},DR=(e,t,r)=>{if(e.lte(0))return new je(0);var n=OR(e.toNumber()),i=new je(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new je(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new je(l.toNumber()):new je(Math.ceil(l.toNumber()))},CW=(e,t,r)=>{var n=new je(1),i=new je(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new je(10).pow(OR(e)-1),i=new je(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):r||(i=new je(Math.floor(e)));var s=Math.floor((t-1)/2),o=TW(PW(l=>i.add(new je(l-s).mul(n)).toNumber()),zy);return o(0,t)},MR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var s=DR(new je(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new je(0):(o=new je(t).add(r).div(2),o=o.sub(new je(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new je(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?MR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new je(l).mul(s)),tickMax:o.add(new je(u).mul(s))})},IW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=RR([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...zy(0,i-1).map(()=>1/0)]:[...zy(0,i-1).map(()=>-1/0),l];return r>n?Uy(u):u}if(o===l)return CW(o,i,a);var{step:c,tickMin:d,tickMax:p}=MR(o,l,s,a,0),m=kR(d,p.add(new je(.1).mul(c)),c);return r>n?Uy(m):m},jW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=RR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=DR(new je(o).sub(s).div(l-1),a,0),c=[...kR(new je(s),new je(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?Uy(c):c},LR=e=>e.rootProps.maxBarSize,NW=e=>e.rootProps.barGap,VR=e=>e.rootProps.barCategoryGap,OW=e=>e.rootProps.barSize,dc=e=>e.rootProps.stackOffset,FR=e=>e.rootProps.reverseStackOrder,Qx=e=>e.options.chartName,Yx=e=>e.rootProps.syncId,$R=e=>e.rootProps.syncMethod,Xx=e=>e.options.eventEmitter,Qt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:ei.type,unit:void 0},RW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:Rr.type,unit:void 0},DW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:"category",unit:void 0},Zx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DW:kW,Jx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MW:RW,Gp=e=>e.polarOptions,e_=L([Ti,Ci,It],Dk),zR=L([Gp,e_],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),UR=L([Gp,e_],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),LW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BR=L([Gp],LW);L([Zx,BR],Hp);var qR=L([e_,zR,UR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([Jx,qR],Hp);var WR=L([Te,Gp,zR,UR,Ti,Ci],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:or(s,i,i/2),cy:or(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ze=(e,t)=>t,fc=(e,t,r)=>r;function t_(e){return e==null?void 0:e.id}function KR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=t_(o);u.forEach((d,p)=>{var m=a==null||i?p:String(Ye(d,a,null)),g=Ye(d,o.dataKey,0),w;s.has(m)?w=s.get(m):w={},Object.assign(w,{[c]:g}),s.set(m,w)})}}),Array.from(s.values())}function Qp(e){return e.stackId!=null&&e.dataKey!=null}var Yp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Xp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Nt=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zo=e=>e.tooltip.settings.axisId;function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return(t=$W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var By=[0,"auto"],Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},HR=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var r=HR(e,t);return r??Rt},Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:By,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ic},GR=(e,t)=>e.cartesianAxis.yAxis[t],Ni=(e,t)=>{var r=GR(e,t);return r??Dt},UW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},r_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??UW},nt=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"zAxis":return r_(e,r);case"angleAxis":return Zx(e,r);case"radiusAxis":return Jx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BW=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hc=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"angleAxis":return Zx(e,r);case"radiusAxis":return Jx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function n_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var i_=e=>e.graphicalItems.cartesianItems,qW=L([Ze,fc],n_),a_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pc=L([i_,nt,qW],a_,{memoizeOptions:{resultEqualityCheck:Xp}}),YR=L([pc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qp)),XR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WW=L([pc],XR),s_=e=>e.map(t=>t.data).filter(Boolean).flat(1),KW=L([pc],s_,{memoizeOptions:{resultEqualityCheck:Xp}}),o_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},l_=L([KW,Kx],o_),u_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ye(i,n)}))):e.map(n=>({value:n})),Zp=L([l_,nt,pc],u_);function ZR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bd(e){if(Kn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function pP(e){if(Array.isArray(e)){var t=[Bd(e[0]),Bd(e[1])];return va(t)?t:void 0}var r=Bd(e);if(r!=null)return[r,r]}function Ei(e){return e.map(Bd).filter(iz)}function HW(e,t,r){return!r||typeof t!="number"||An(t)?[]:r.length?Ei(r.flatMap(n=>{var i=Ye(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!dt(a)||!dt(s)))return[t-a,t+s]})):[]}var Ot=e=>{var t=Nt(e),r=zo(e);return hc(e,t,r)},mc=L([Ot],e=>e==null?void 0:e.dataKey),GW=L([YR,Kx,Ot],KR),JR=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(t_);return[o,{stackedData:bU(e,c,r),graphicalItems:u}]}))},qy=L([GW,YR,dc,FR],JR),eD=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=TU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},QW=L([nt],e=>e.allowDataOverflow),c_=e=>{var t;if(e==null||!("domain"in e))return By;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ei(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:By},d_=L([nt],c_),f_=L([d_,QW],ER),YW=L([qy,Pa,Ze,f_],eD,{memoizeOptions:{resultEqualityCheck:Yp}}),Jp=e=>e.errorBars,XW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>ZR(r,n)),mh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},h_=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>ZR(i,x)),p=Ye(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=HW(o,p,d);if(m.length>=2){var g=Math.min(...m),w=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||w>s)&&(s=w)}var v=pP(p);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=pP(Ye(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),dt(a)&&dt(s))return[a,s]},ZW=L([l_,nt,WW,Jp,Ze],h_,{memoizeOptions:{resultEqualityCheck:Yp}});function JW(e){var{value:t}=e;if(Kn(t)||t instanceof Date)return t}var eK=(e,t,r)=>{var n=e.map(JW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&XN(n))?Uk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tD=e=>e.referenceElements.dots,Uo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tK=L([tD,Ze,fc],Uo),rD=e=>e.referenceElements.areas,rK=L([rD,Ze,fc],Uo),nD=e=>e.referenceElements.lines,nK=L([nD,Ze,fc],Uo),iD=(e,t)=>{var r=Ei(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iK=L(tK,Ze,iD),aD=(e,t)=>{var r=Ei(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aK=L([rK,Ze],aD);function sK(e){var t;if(e.x!=null)return Ei([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ei(r)}function oK(e){var t;if(e.y!=null)return Ei([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ei(r)}var sD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?sK(n):oK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lK=L([nK,Ze],sD),uK=L(iK,lK,aK,(e,t,r)=>mh(e,r,t)),p_=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?mh(n,a,i):mh(a,i);return xW(t,u,e.allowDataOverflow)},cK=L([nt,d_,f_,YW,ZW,uK,Te,Ze],p_,{memoizeOptions:{resultEqualityCheck:Yp}}),dK=[0,1],m_=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=ys(t,a);if(u&&o==null){var c;return Uk(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?eK(n,e,u):i==="expand"?dK:s}},g_=L([nt,Te,l_,Zp,dc,Ze,cK],m_),oD=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Zu(a));return o in Dl?o:"point"}}},Bo=L([nt,Te,QR,Qx,Ze],oD);function fK(e){if(e!=null){if(e in Dl)return Dl[e]();var t="scale".concat(Zu(e));if(t in Dl)return Dl[t]()}}function v_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=fK(t);if(i!=null){var a=i.domain(r).range(n);return vU(a),a}}}var y_=(e,t,r)=>{var n=c_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&va(e))return IW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&va(e))return jW(e,t.tickCount,t.allowDecimals)}},w_=L([g_,hc,Bo],y_),x_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&va(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},hK=L([nt,g_,w_,Ze],x_),pK=L(Zp,nt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ei(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),lD=L(pK,Te,VR,It,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!dt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=or(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),mK=(e,t)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:lD(e,"xAxis",t,r.padding)},gK=(e,t)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:lD(e,"yAxis",t,r.padding)},vK=L(ji,mK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),yK=L(Ni,gK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),wK=L([It,vK,Np,jp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),xK=L([It,Te,yK,Np,jp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return wK(e,r,n);case"yAxis":return xK(e,r,n);case"zAxis":return(i=r_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return BR(e);case"radiusAxis":return qR(e,r);default:return}},uD=L([nt,gc],Hp),qo=L([nt,Bo,hK,uD],v_);L([pc,Jp,Ze],XW);function cD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var em=(e,t)=>t,tm=(e,t,r)=>r,_K=L(Cp,em,tm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cD)),bK=L(Ip,em,tm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cD)),dD=(e,t)=>({width:e.width,height:t.height}),EK=(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}},fD=L(It,ji,dD),SK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},AK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PK=L(Ci,It,_K,em,tm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=dD(t,o);s==null&&(s=SK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),TK=L(Ti,It,bK,em,tm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=EK(t,o);s==null&&(s=AK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),CK=(e,t)=>{var r=ji(e,t);if(r!=null)return PK(e,r.orientation,r.mirror)},IK=L([It,ji,CK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jK=(e,t)=>{var r=Ni(e,t);if(r!=null)return TK(e,r.orientation,r.mirror)},NK=L([It,Ni,jK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),hD=L(It,Ni,(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}}),mP=(e,t,r)=>{switch(t){case"xAxis":return fD(e,r).width;case"yAxis":return hD(e,r).height;default:return}},pD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=ys(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&XN(l))return l}},__=L([Te,Zp,nt,Ze],pD),mD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=ys(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},b_=L([Te,Zp,hc,Ze],mD),gP=L([Te,BW,Bo,qo,__,b_,gc,w_,Ze],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=ys(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),OK=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=ys(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ft(a[0]-a[1])*2*g:g;var w=d||i;if(w){var v=w.map((x,E)=>{var A=s?s.indexOf(x):x;return{index:E,coordinate:n(A)+g,value:x,offset:g}});return v.filter(x=>dt(x.coordinate))}return u&&o?o.map((x,E)=>({coordinate:n(x)+g,value:x,index:E,offset:g})).filter(x=>dt(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,E)=>({coordinate:n(x)+g,value:s?s[x]:x,index:E,offset:g}))}},gD=L([Te,hc,Bo,qo,w_,gc,__,b_,Ze],OK),kK=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ys(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ft(n[0]-n[1])*2*u:u,o&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Co=L([Te,hc,qo,gc,__,b_,Ze],kK),Io=L(nt,qo,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})}),RK=L([nt,Bo,g_,uD],v_);L((e,t,r)=>r_(e,r),RK,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var DK=L([Te,Cp,Ip],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),vD=e=>e.options.defaultTooltipEventType,yD=e=>e.options.validateTooltipEventTypes;function wD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function E_(e,t){var r=vD(e),n=yD(e);return wD(t,r,n)}function MK(e){return te(t=>E_(t,e))}var xD=(e,t)=>{var r,n=Number(t);if(!(An(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LK=e=>e.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},VK={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_D=jr({name:"tooltip",initialState:VK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(e,t){var r=_n(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FK,replaceTooltipEntrySettings:$K,removeTooltipEntrySettings:zK,setTooltipSettingsState:UK,setActiveMouseOverItemIndex:bD,mouseLeaveItem:BK,mouseLeaveChart:ED,setActiveClickItemIndex:qK,setMouseOverAxisIndex:SD,setMouseClickAxisIndex:WK,setSyncInteraction:Wy,setKeyboardInteraction:Ky}=_D.actions,KK=_D.reducer;function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XK(e){return e.index!=null}var AD=(e,t,r,n)=>{if(t==null)return Ki;var i=YK(e,t,r);if(i==null)return Ki;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(XK(i)){if(a)return vd(vd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vd(vd({},Ki),{},{coordinate:i.coordinate})};function ZK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function JK(e,t){var r=ZK(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function eH(e,t,r){if(r==null||t==null)return!0;var n=Ye(e,t);return n==null||!va(r)?!0:JK(n,r)}var S_=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!dt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||eH(u,r,n)?String(l):null},PD=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},TD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},vc=e=>e.options.tooltipPayloadSearcher,Wo=e=>e.tooltip;function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){return e??t}var CD=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:w,settings:v}=m,x=iH(w,o),E=Array.isArray(x)?ak(x,u,c):x,A=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,j=v==null?void 0:v.nameKey,T;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?T=nz(E,n,i):T=a(E,t,l,j),Array.isArray(T))T.forEach(b=>{var S=wP(wP({},v),{},{name:b.name,unit:b.unit,color:void 0,fill:void 0});p.push(HS({tooltipEntrySettings:S,dataKey:b.dataKey,payload:b.payload,value:Ye(b.payload,b.dataKey),name:b.name}))});else{var N;p.push(HS({tooltipEntrySettings:v,dataKey:A,payload:T,value:Ye(T,A),name:(N=Ye(T,j))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return p},d)}},A_=L([Ot,Te,QR,Qx,Nt],oD),aH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sH=L([Nt,zo],n_),yc=L([aH,Ot,sH],a_,{memoizeOptions:{resultEqualityCheck:Xp}}),oH=L([yc],e=>e.filter(Qp)),lH=L([yc],s_,{memoizeOptions:{resultEqualityCheck:Xp}}),Ko=L([lH,Pa],o_),uH=L([oH,Pa,Ot],KR),P_=L([Ko,Ot,yc],u_),ID=L([Ot],c_),cH=L([Ot],e=>e.allowDataOverflow),jD=L([ID,cH],ER),dH=L([yc],e=>e.filter(Qp)),fH=L([uH,dH,dc,FR],JR),hH=L([fH,Pa,Nt,jD],eD),pH=L([yc],XR),mH=L([Ko,Ot,pH,Jp,Nt],h_,{memoizeOptions:{resultEqualityCheck:Yp}}),gH=L([tD,Nt,zo],Uo),vH=L([gH,Nt],iD),yH=L([rD,Nt,zo],Uo),wH=L([yH,Nt],aD),xH=L([nD,Nt,zo],Uo),_H=L([xH,Nt],sD),bH=L([vH,_H,wH],mh),EH=L([Ot,ID,jD,hH,mH,bH,Te,Nt],p_),wc=L([Ot,Te,Ko,P_,dc,Nt,EH],m_),SH=L([wc,Ot,A_],y_),AH=L([Ot,wc,SH,Nt],x_),ND=e=>{var t=Nt(e),r=zo(e),n=!1;return gc(e,t,r,n)},OD=L([Ot,ND],Hp),kD=L([Ot,A_,AH,OD],v_),PH=L([Te,P_,Ot,Nt],pD),TH=L([Te,P_,Ot,Nt],mD),CH=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=ys(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ft(i[0]-i[1])*2*d:d,u&&s?s.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},Oi=L([Te,Ot,A_,kD,ND,PH,TH,Nt],CH),T_=L([vD,yD,LK],(e,t,r)=>wD(r.shared,e,t)),RD=e=>e.tooltip.settings.trigger,C_=e=>e.tooltip.settings.defaultIndex,xc=L([Wo,T_,RD,C_],AD),cs=L([xc,Ko,mc,wc],S_),DD=L([Oi,cs],xD),I_=L([xc],e=>{if(e)return e.dataKey}),IH=L([xc],e=>{if(e)return e.graphicalItemId}),MD=L([Wo,T_,RD,C_],TD),jH=L([Ti,Ci,Te,It,Oi,C_,MD,vc],PD),NH=L([xc,jH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OH=L([xc],e=>e.active),kH=L([MD,cs,Pa,mc,DD,vc,T_],CD);L([kH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LH=()=>te(Ot),VH=()=>{var e=LH(),t=te(Oi),r=te(kD);return Gf(!e||!r?void 0:_P(_P({},e),{},{scale:r}),t)};function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},BH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ps(Ps(Ps({},n),wt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ps(Ps(Ps({},n),wt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var LD=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ft(c-u)!==Ft(d-c)){var m=[];if(Ft(d-c)===Ft(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var w=d+i[1]-i[0];m[0]=Math.min(c,(w+c)/2),m[1]=Math.max(c,(w+c)/2)}var v=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var x=Math.min(u,d),E=Math.max(u,d);if(e>(x+c)/2&&e<=(E+c)/2){({index:s}=r[l]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},WH=()=>te(Qx),j_=(e,t)=>t,VD=(e,t,r)=>r,N_=(e,t,r,n)=>n,KH=L(Oi,e=>yp(e,t=>t.coordinate)),O_=L([Wo,j_,VD,N_],AD),k_=L([O_,Ko,mc,wc],S_),HH=(e,t,r)=>{if(t!=null){var n=Wo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},FD=L([Wo,j_,VD,N_],TD),gh=L([Ti,Ci,Te,It,Oi,N_,FD,vc],PD),GH=L([O_,gh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$D=L([Oi,k_],xD),QH=L([FD,k_,Pa,mc,$D,vc,j_],CD),YH=L([O_,k_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),XH=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&qH(e,s)){var o=CU(e,t),l=LD(o,a,i,r,n),u=UH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},ZH=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=$8(e,r);if(o){var l=IU(o,t),u=LD(l,s,a,n,i),c=BH(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},JH=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?XH(e,t,n,i,a,s,o):ZH(e,t,r,n,i,a,s)},eG=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),tG=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:VW}});function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aG={},sG={zIndexMap:Object.values(Qt).reduce((e,t)=>SP(SP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aG)},oG=new Set(Object.values(Qt));function lG(e){return oG.has(e)}var zD=jr({name:"zIndex",initialState:sG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lG(r)&&delete e.zIndexMap[r])},prepare:Ge()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ge()}}}),{registerZIndexPortal:uG,unregisterZIndexPortal:cG,registerZIndexPortalId:dG,unregisterZIndexPortalId:fG}=zD.actions,hG=zD.reducer;function Cn(e){var{zIndex:t,children:r}=e,n=rB(),i=n&&t!==void 0&&t!==0,a=Nr(),s=$e();_.useLayoutEffect(()=>i?(s(uG({zIndex:t})),()=>{s(cG({zIndex:t}))}):Ju,[s,t,i]);var o=te(u=>eG(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Bn.createPortal(r,l):null}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function yG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,w,v;if(c==="ScatterChart")g=d,w=t8,v=Qt.cursorLine;else if(c==="BarChart")g=r8(o,d,a,s),w=Rk,v=Qt.cursorRectangle;else if(o==="radial"&&JN(d)){var{cx:x,cy:E,radius:A,startAngle:j,endAngle:T}=Mk(d);g={cx:x,cy:E,startAngle:j,endAngle:T,innerRadius:A,outerRadius:A},w=Vk,v=Qt.cursorLine}else g={points:q8(o,d,a)},w=_x,v=Qt.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,b=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},a),g),Eu(l)),{},{payload:p,payloadIndex:m,className:Oe("recharts-tooltip-cursor",N)});return _.createElement(Cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},_.createElement(vG,{cursor:l,cursorComp:w,cursorProps:b}))}function wG(e){var t=VH(),r=yk(),n=kp(),i=WH();return t==null||r==null||n==null||i==null?null:_.createElement(yG,Hy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var UD=_.createContext(null),xG=()=>_.useContext(UD),BD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,p,m,g){var w=r?r+u:u;if(!this._events[w])return!1;var v=this._events[w],x=arguments.length,E,A;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,p),!0;case 5:return v.fn.call(v.context,c,d,p,m),!0;case 6:return v.fn.call(v.context,c,d,p,m,g),!0}for(A=1,E=new Array(x-1);A<x;A++)E[A-1]=arguments[A];v.fn.apply(v.context,E)}else{var j=v.length,T;for(A=0;A<j;A++)switch(v[A].once&&this.removeListener(u,v[A].fn,void 0,!0),x){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,c);break;case 3:v[A].fn.call(v[A].context,c,d);break;case 4:v[A].fn.call(v[A].context,c,d,p);break;default:if(!E)for(T=1,E=new Array(x-1);T<x;T++)E[T-1]=arguments[T];v[A].fn.apply(v[A].context,E)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&s(this,m);else{for(var w=0,v=[],x=g.length;w<x;w++)(g[w].fn!==c||p&&!g[w].once||d&&g[w].context!==d)&&v.push(g[w]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(BD);var _G=BD.exports;const bG=Ai(_G);var Lu=new bG,Gy="recharts.syncEvent.tooltip",PP="recharts.syncEvent.brush";function qD(e,t){if(t){var r=Number.parseInt(t,10);if(!An(r))return e==null?void 0:e[r]}}var EG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},WD=jr({name:"options",initialState:EG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SG=WD.reducer,{createEventEmitter:AG}=WD.actions;function PG(e){return e.tooltip.syncInteraction}var TG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KD=jr({name:"chartData",initialState:TG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:TP,setDataStartEndIndexes:CG,setComputedData:Bte}=KD.actions,IG=KD.reducer,jG=["x","y"];function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){NG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){if(e==null)return{};var r,n,i=DG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MG(){var e=te(Yx),t=te(Xx),r=$e(),n=te($R),i=te(Oi),a=kp(),s=Op(),o=te(l=>l.rootProps.className);_.useEffect(()=>{if(e==null)return Ju;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y:w}=m,v=RG(m,jG),{x,y:E,width:A,height:j}=c.payload.sourceViewBox,T=Ts(Ts({},v),{},{x:s.x+(A?(g-x)/A:0)*s.width,y:s.y+(j?(w-E)/j:0)*s.height});r(Ts(Ts({},c),{},{payload:Ts(Ts({},c.payload),{},{coordinate:T})}))}else r(c);return}if(i!=null){var N;if(typeof n=="function"){var b={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,b);N=i[S]}else n==="value"&&(N=i.find(de=>String(de.value)===c.payload.label));var{coordinate:I}=c.payload;if(N==null||c.payload.active===!1||I==null||s==null){r(Wy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:C}=I,k=Math.min(D,s.x+s.width),O=Math.min(C,s.y+s.height),Q={x:a==="horizontal"?N.coordinate:k,y:a==="horizontal"?O:N.coordinate},se=Wy({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(N.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return Lu.on(Gy,l),()=>{Lu.off(Gy,l)}},[o,r,t,e,n,i,a,s])}function LG(){var e=te(Yx),t=te(Xx),r=$e();_.useEffect(()=>{if(e==null)return Ju;var n=(i,a,s)=>{t!==s&&e===i&&r(CG(a))};return Lu.on(PP,n),()=>{Lu.off(PP,n)}},[r,t,e])}function VG(){var e=$e();_.useEffect(()=>{e(AG())},[e]),MG(),LG()}function FG(e,t,r,n,i,a){var s=te(m=>HH(m,e,t)),o=te(Xx),l=te(Yx),u=te($R),c=te(PG),d=c==null?void 0:c.active,p=Op();_.useEffect(()=>{if(!d&&l!=null&&o!=null){var m=Wy({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Lu.emit(Gy,l,m,o)}},[d,r,s,i,n,o,l,u,a,p])}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e){return e.dataKey}function qG(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(RB,t)}var NP=[],WG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function R_(e){var t,r,n=Ut(e,WG),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:w,wrapperStyle:v,cursor:x,shared:E,trigger:A,defaultIndex:j,portal:T,axisId:N}=n,b=$e(),S=typeof j=="number"?String(j):j;_.useEffect(()=>{b(UK({shared:E,trigger:A,axisId:N,active:i,defaultIndex:S}))},[b,E,A,N,i,S]);var I=Op(),D=Ik(),C=MK(E),{activeIndex:k,isActive:O}=(t=te(ze=>YH(ze,C,A,S)))!==null&&t!==void 0?t:{},Q=te(ze=>QH(ze,C,A,S)),se=te(ze=>$D(ze,C,A,S)),de=te(ze=>GH(ze,C,A,S)),oe=Q,U=xG(),K=(r=i??O)!==null&&r!==void 0?r:!1,[ne,me]=IO([oe,K]),be=C==="axis"?se:void 0;FG(C,A,de,be,k,K);var _t=T??U;if(_t==null||I==null||C==null)return null;var ke=oe??NP;K||(ke=NP),u&&ke.length&&(ke=vO(ke.filter(ze=>ze.value!=null&&(ze.hide!==!0||n.includeHidden)),p,BG));var qt=ke.length>0,bt=_.createElement(zB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:K,coordinate:de,hasPayload:qt,offset:d,position:m,reverseDirection:g,useTranslate3d:w,viewBox:I,wrapperStyle:v,lastBoundingBox:ne,innerRef:me,hasPortalFromProps:!!T},qG(l,jP(jP({},n),{},{payload:ke,label:be,active:K,activeIndex:k,coordinate:de,accessibilityLayer:D})));return _.createElement(_.Fragment,null,Bn.createPortal(bt,_t),K&&_.createElement(wG,{cursor:x,tooltipEventType:C,coordinate:de,payload:ke,index:k}))}var _c=e=>null;_c.displayName="Cell";function KG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QG{constructor(t){KG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ={cacheSize:2e3,enableCache:!0},HD=YG({},eQ),kP=new QG(HD.cacheSize),tQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function rQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var DP=(e,t)=>{try{var r=document.getElementById(RP);r||(r=document.createElement("span"),r.setAttribute("id",RP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sc.isSsr)return{width:0,height:0};if(!HD.enableCache)return DP(t,r);var n=rQ(t,r),i=kP.get(n);if(i)return i;var a=DP(t,r);return kP.set(n,a),a},MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aQ=Object.keys(GD),Hs="NaN";function sQ(e,t){return e*GD[t]}class wr{static parse(t){var r,[,n,i]=(r=iQ.exec(t))!==null&&r!==void 0?r:[];return new wr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,An(t)&&(this.unit=""),r!==""&&!nQ.test(r)&&(this.num=NaN,this.unit=""),aQ.includes(r)&&(this.num=sQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return An(this.num)}}function QD(e){if(e.includes(Hs))return Hs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=MP.exec(t))!==null&&r!==void 0?r:[],s=wr.parse(n??""),o=wr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Hs;t=t.replace(MP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=LP.exec(t))!==null&&u!==void 0?u:[],m=wr.parse(c??""),g=wr.parse(p??""),w=d==="+"?m.add(g):m.subtract(g);if(w.isNaN())return Hs;t=t.replace(LP,w.toString())}return t}var VP=/\(([^()]*)\)/;function oQ(e){for(var t=e,r;(r=VP.exec(t))!=null;){var[,n]=r;t=t.replace(VP,QD(n))}return t}function lQ(e){var t=e.replace(/\s+/g,"");return t=oQ(t),t=QD(t),t}function uQ(e){try{return lQ(e)}catch{return Hs}}function kg(e){var t=uQ(e.slice(5,-1));return t===Hs?"":t}var cQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dQ=["dx","dy","angle","className","breakAll"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function FP(e,t){if(e==null)return{};var r,n,i=fQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YD=/[ \f\n\r\t\v\u2028\u2029]+/,XD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zt(t)||(r?i=t.toString().split(""):i=t.toString().split(YD));var a=i.map(o=>({word:o,width:Yl(o,n).width})),s=r?0:Yl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function hQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var ZD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),JD=e=>e.reduce((t,r)=>t.width>r.width?t:r),pQ="",$P=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=XD({breakAll:r,style:n,children:l+pQ});if(!u)return[!1,[]];var c=ZD(u.wordsWithComputedWidth,a,s,o),d=c.length>i||JD(c).width>Number(a);return[d,c]},mQ=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=re(a),c=String(s),d=ZD(t,n,r,i);if(!u||i)return d;var p=d.length>a||JD(d).width>Number(n);if(!p)return d;for(var m=0,g=c.length-1,w=0,v;m<=g&&w<=c.length-1;){var x=Math.floor((m+g)/2),E=x-1,[A,j]=$P(c,E,l,o,a,n,r,i),[T]=$P(c,x,l,o,a,n,r,i);if(!A&&!T&&(m=x+1),A&&T&&(g=x-1),!A&&T){v=j;break}w++}return v||d},zP=e=>{var t=zt(e)?[]:e.toString().split(YD);return[{words:t,width:void 0}]},gQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!sc.isSsr){var o,l,u=XD({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return zP(n);return mQ({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return zP(n)},e2="#808080",vQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:e2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rm=_.forwardRef((e,t)=>{var r=Ut(e,vQ),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=FP(r,cQ),p=_.useMemo(()=>gQ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:w,className:v,breakAll:x}=d,E=FP(d,dQ);if(!Kn(n)||!Kn(i)||p.length===0)return null;var A=Number(n)+(re(m)?m:0),j=Number(i)+(re(g)?g:0);if(!dt(A)||!dt(j))return null;var T;switch(c){case"start":T=kg("calc(".concat(s,")"));break;case"middle":T=kg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:T=kg("calc(".concat(p.length-1," * -").concat(a,")"));break}var N=[];if(l){var b=p[0].width,{width:S}=d;N.push("scale(".concat(re(S)&&re(b)?S/b:1,")"))}return w&&N.push("rotate(".concat(w,", ").concat(A,", ").concat(j,")")),N.length&&(E.transform=N.join(" ")),_.createElement("text",Qy({},an(E),{ref:t,x:A,y:j,className:Oe("recharts-text",v),textAnchor:u,fill:o.includes("url")?e2:o}),p.map((I,D)=>{var C=I.words.join(x?"":" ");return _.createElement("tspan",{x:A,dy:D===0?T:a,key:"".concat(C,"-").concat(D)},C)}))});rm.displayName="Text";var yQ=["labelRef"];function wQ(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var t2=_.createContext(null),SQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return _.createElement(t2.Provider,{value:l},o)},r2=()=>{var e=_.useContext(t2),t=Op();return e||vk(t)},AQ=_.createContext(null),PQ=()=>{var e=_.useContext(AQ),t=te(WR);return e||t},TQ=e=>{var{value:t,formatter:r}=e,n=zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},D_=e=>e!=null&&typeof e=="function",CQ=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},IQ=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,w=CQ(d,p),v=w>=0?1:-1,x,E;switch(t){case"insideStart":x=d+v*a,E=m;break;case"insideEnd":x=p-v*a,E=!m;break;case"end":x=p+v*a,E=m;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var A=wt(o,l,g,x),j=wt(o,l,g,x+(E?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(j.x,",").concat(j.y),N=zt(e.id)?Su("recharts-radial-line-"):e.id;return _.createElement("text",ti({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:N,d:T})),_.createElement("textPath",{xlinkHref:"#".concat(N)},r))},jQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:d}=wt(n,i,s+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=wt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Yy=e=>"cx"in e&&re(e.cx),NQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Yy(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,d=s,p=s+(l-u)/2,m=(d+p)/2,g=(l+u)/2,w=d+l/2,v=c>=0?1:-1,x=v*n,E=v>0?"end":"start",A=v>0?"start":"end",j=l>=0?1:-1,T=j*n,N=j>0?"end":"start",b=j>0?"start":"end";if(i==="top"){var S={x:d+l/2,y:o-x,textAnchor:"middle",verticalAnchor:E};return lt(lt({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:p+u/2,y:o+c+x,textAnchor:"middle",verticalAnchor:A};return lt(lt({},I),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var D={x:m-T,y:o+c/2,textAnchor:N,verticalAnchor:"middle"};return lt(lt({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var C={x:m+g+T,y:o+c/2,textAnchor:b,verticalAnchor:"middle"};return lt(lt({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:c}:{})}var k=a?{width:g,height:c}:{};return i==="insideLeft"?lt({x:m+T,y:o+c/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?lt({x:m+g-T,y:o+c/2,textAnchor:N,verticalAnchor:"middle"},k):i==="insideTop"?lt({x:d+l/2,y:o+x,textAnchor:"middle",verticalAnchor:A},k):i==="insideBottom"?lt({x:p+u/2,y:o+c-x,textAnchor:"middle",verticalAnchor:E},k):i==="insideTopLeft"?lt({x:d+T,y:o+x,textAnchor:b,verticalAnchor:A},k):i==="insideTopRight"?lt({x:d+l-T,y:o+x,textAnchor:N,verticalAnchor:A},k):i==="insideBottomLeft"?lt({x:p+T,y:o+c-x,textAnchor:b,verticalAnchor:E},k):i==="insideBottomRight"?lt({x:p+u-T,y:o+c-x,textAnchor:N,verticalAnchor:E},k):i&&typeof i=="object"&&(re(i.x)||yi(i.x))&&(re(i.y)||yi(i.y))?lt({x:s+or(i.x,g),y:o+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):lt({x:w,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},OQ={angle:0,offset:5,zIndex:Qt.label,position:"middle",textBreakAll:!1};function Bi(e){var t=Ut(e,OQ),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=PQ(),d=r2(),p=n==="center"?d:c??d,m,g,w;if(r==null?m=p:Yy(r)?m=r:m=vk(r),!m||zt(i)&&zt(a)&&!_.isValidElement(s)&&typeof s!="function")return null;var v=lt(lt({},t),{},{viewBox:m});if(_.isValidElement(s)){var{labelRef:x}=v,E=wQ(v,yQ);return _.cloneElement(s,E)}if(typeof s=="function"){if(g=_.createElement(s,v),_.isValidElement(g))return g}else g=TQ(t);var A=an(t);if(Yy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return IQ(t,n,g,A,m);w=jQ(m,t.offset,t.position)}else w=NQ(t,m);return _.createElement(Cn,{zIndex:t.zIndex},_.createElement(rm,ti({ref:u,className:Oe("recharts-label",o)},A,w,{textAnchor:hQ(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:l}),g))}Bi.displayName="Label";var kQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Bi,ti({key:"label-implicit"},n)):Kn(e)?_.createElement(Bi,ti({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Bi?_.cloneElement(e,lt({key:"label-implicit"},n)):_.createElement(Bi,ti({key:"label-implicit",content:e},n)):D_(e)?_.createElement(Bi,ti({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Bi,ti({},e,{key:"label-implicit"},n)):null};function RQ(e){var{label:t,labelRef:r}=e,n=r2();return kQ(t,n,r)||null}var n2={},i2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(i2);var a2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(a2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i2,r=a2,n=gp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(n2);var DQ=n2.last;const MQ=Ai(DQ);var LQ=["valueAccessor"],VQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function BP(e,t){if(e==null)return{};var r,n,i=FQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $Q=e=>Array.isArray(e.value)?MQ(e.value):e.value,s2=_.createContext(void 0),zQ=s2.Provider,o2=_.createContext(void 0),UQ=o2.Provider;function BQ(){return _.useContext(s2)}function qQ(){return _.useContext(o2)}function qd(e){var{valueAccessor:t=$Q}=e,r=BP(e,LQ),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=BP(r,VQ),u=BQ(),c=qQ(),d=u||c;return!d||!d.length?null:_.createElement(Cn,{zIndex:o??Qt.label},_.createElement(pr,{className:"recharts-label-list"},d.map((p,m)=>{var g,w=zt(n)?t(p,m):Ye(p&&p.payload,n),v=zt(a)?{}:{id:"".concat(a,"-").concat(m)};return _.createElement(Bi,vh({key:"label-".concat(m)},an(p),l,v,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}qd.displayName="LabelList";function l2(e){var{label:t}=e;return t?t===!0?_.createElement(qd,{key:"labelList-implicit"}):_.isValidElement(t)||D_(t)?_.createElement(qd,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(qd,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var u2=e=>e.graphicalItems.polarItems,WQ=L([Ze,fc],n_),nm=L([u2,nt,WQ],a_),KQ=L([nm],s_),im=L([KQ,Wx],o_),HQ=L([im,nt,nm],u_);L([im,nt,nm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ye(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var qP=()=>{},GQ=L([im,nt,nm,Jp,Ze],h_),QQ=L([nt,d_,f_,qP,GQ,qP,Te,Ze],p_),c2=L([nt,Te,im,HQ,dc,Ze,QQ],m_),YQ=L([c2,nt,Bo],y_);L([nt,c2,YQ,Ze],x_);var XQ={radiusAxis:{},angleAxis:{}},d2=jr({name:"polarAxis",initialState:XQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qte,removeRadiusAxis:Wte,addAngleAxis:Kte,removeAngleAxis:Hte}=d2.actions,ZQ=d2.reducer;function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return(t=eY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rY=(e,t)=>t,M_=L([u2,rY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nY=[],L_=(e,t,r)=>(r==null?void 0:r.length)===0?nY:r,f2=L([Wx,M_,L_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>KP(KP({},t.presentationProps),a.props))),i!=null)return i}}),iY=L([f2,M_,L_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ye(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Tp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),aY=L([f2,M_,L_,It],(e,t,r,n)=>{if(!(t==null||e==null))return sX({offset:n,pieSettings:t,displayedData:e,cells:r})}),h2={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.transitional.element"),F_=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),sm=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),lm=Symbol.for("react.consumer"),um=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),sY=Symbol.for("react.view_transition"),oY=Symbol.for("react.client.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case V_:switch(e=e.type,e){case am:case om:case sm:case dm:case fm:case sY:return e;default:switch(e=e&&e.$$typeof,e){case um:case cm:case pm:case hm:return e;case lm:return e;default:return t}}case F_:return t}}}Me.ContextConsumer=lm;Me.ContextProvider=um;Me.Element=V_;Me.ForwardRef=cm;Me.Fragment=am;Me.Lazy=pm;Me.Memo=hm;Me.Portal=F_;Me.Profiler=om;Me.StrictMode=sm;Me.Suspense=dm;Me.SuspenseList=fm;Me.isContextConsumer=function(e){return cn(e)===lm};Me.isContextProvider=function(e){return cn(e)===um};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===V_};Me.isForwardRef=function(e){return cn(e)===cm};Me.isFragment=function(e){return cn(e)===am};Me.isLazy=function(e){return cn(e)===pm};Me.isMemo=function(e){return cn(e)===hm};Me.isPortal=function(e){return cn(e)===F_};Me.isProfiler=function(e){return cn(e)===om};Me.isStrictMode=function(e){return cn(e)===sm};Me.isSuspense=function(e){return cn(e)===dm};Me.isSuspenseList=function(e){return cn(e)===fm};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===am||e===om||e===sm||e===dm||e===fm||typeof e=="object"&&e!==null&&(e.$$typeof===pm||e.$$typeof===hm||e.$$typeof===um||e.$$typeof===lm||e.$$typeof===cm||e.$$typeof===oY||e.getModuleId!==void 0)};Me.typeOf=cn;h2.exports=Me;var lY=h2.exports,HP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GP=null,Rg=null,p2=e=>{if(e===GP&&Array.isArray(Rg))return Rg;var t=[];return _.Children.forEach(e,r=>{zt(r)||(lY.isFragment(r)?t=t.concat(p2(r.props.children)):t.push(r))}),Rg=t,GP=e,t};function $_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>HP(i)):n=[HP(t)],p2(e).forEach(i=>{var a=ss(i,"type.displayName")||ss(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(m2);var uY=m2.isPlainObject;const cY=Ai(uY);function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}var XP=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},pY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mY=e=>{var t=Ut(e,pY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=_.useRef(null),[m,g]=_.useState(-1),w=_.useRef(i),v=_.useRef(a),x=_.useRef(s),E=_.useRef(r),A=_.useRef(n),j=$p(e,"trapezoid-");if(_.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var T=Oe("recharts-trapezoid",o);if(!d)return _.createElement("g",null,_.createElement("path",yh({},an(t),{className:T,d:XP(r,n,i,a,s)})));var N=w.current,b=v.current,S=x.current,I=E.current,D=A.current,C="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),O=jk(["strokeDasharray"],u,l);return _.createElement(Fp,{animationId:j,key:j,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var se=At(N,i,Q),de=At(b,a,Q),oe=At(S,s,Q),U=At(I,r,Q),K=At(D,n,Q);p.current&&(w.current=se,v.current=de,x.current=oe,E.current=U,A.current=K);var ne=Q>0?{transition:O,strokeDasharray:k}:{strokeDasharray:C};return _.createElement("path",yh({},an(t),{className:T,d:XP(U,K,se,de,oe),ref:p,style:YP(YP({},ne),t.style)}))})},gY=["option","shapeType","propTransformer","activeClassName"];function vY(e,t){if(e==null)return{};var r,n,i=yY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){wY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wY(e,t,r){return(t=xY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){return wh(wh({},t),e)}function EY(e,t){return e==="symbols"}function JP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(Rk,r);case"trapezoid":return _.createElement(mY,r);case"sector":return _.createElement(Vk,r);case"symbols":if(EY(t))return _.createElement(Hw,r);break;case"curve":return _.createElement(_x,r);default:return null}}function SY(e){return _.isValidElement(e)?e.props:e}function g2(e){var{option:t,shapeType:r,propTransformer:n=bY,activeClassName:i="recharts-active-shape"}=e,a=vY(e,gY),s;if(_.isValidElement(t))s=_.cloneElement(t,wh(wh({},a),SY(t)));else if(typeof t=="function")s=t(a,a.index);else if(cY(t)&&typeof t!="boolean"){var o=n(t,a);s=_.createElement(JP,{shapeType:r,elementProps:o})}else{var l=a;s=_.createElement(JP,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(pr,{className:i},s):s}var z_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(bD({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},U_=e=>{var t=$e();return(r,n)=>i=>{e==null||e(r,n,i),t(BK())}},B_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(qK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function v2(e){var{tooltipEntrySettings:t}=e,r=$e(),n=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(FK(t)):i.current!==t&&r($K({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(zK(i.current)),i.current=null)},[r]),null}function AY(e){var{legendPayload:t}=e,r=$e(),n=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(Pk(t)):i.current!==t&&r(Tk({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ck(i.current)),i.current=null)},[r]),null}function PY(e){var{legendPayload:t}=e,r=$e(),n=te(Te),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Pk(t)):i.current!==t&&r(Tk({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ck(i.current)),i.current=null)},[r]),null}var Dg,TY=()=>{var[e]=_.useState(()=>Su("uid-"));return e},CY=(Dg=$M.useId)!==null&&Dg!==void 0?Dg:TY;function y2(e,t){var r=CY();return t||(e?"".concat(e,"-").concat(r):r)}var IY=_.createContext(void 0),w2=e=>{var{id:t,type:r,children:n}=e,i=y2("recharts-".concat(r),t);return _.createElement(IY.Provider,{value:i},n(i))},jY={cartesianItems:[],polarItems:[]},x2=jr({name:"graphicalItems",initialState:jY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(e,t){var r=_n(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(e,t){var r=_n(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:NY,replaceCartesianGraphicalItem:OY,removeCartesianGraphicalItem:kY,addPolarGraphicalItem:RY,removePolarGraphicalItem:DY}=x2.actions,MY=x2.reducer,LY=e=>{var t=$e(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(NY(e)):r.current!==e&&t(OY({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(kY(r.current)),r.current=null)},[t]),null},VY=_.memo(LY);function FY(e){var t=$e();return _.useLayoutEffect(()=>(t(RY(e)),()=>{t(DY(e))}),[t,e]),null}var $Y=["key"],zY=["onMouseEnter","onClick","onMouseLeave"],UY=["id"],BY=["id"];function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function mm(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GY(e){var t=_.useMemo(()=>$_(e.children,_c),[e.children]),r=te(n=>iY(n,e.id,t));return r==null?null:_.createElement(PY,{legendPayload:r})}var QY=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Tp(o,t),hide:l,type:u,color:s,unit:""}};return _.createElement(v2,{tooltipEntrySettings:c})}),YY=(e,t)=>e>t?"start":e<t?"end":"middle",XY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),ZY=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=Dk(a,s),l=i+or(e.cx,a,a/2),u=n+or(e.cy,s,s/2),c=or(e.innerRadius,o,0),d=XY(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},JY=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function eX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var tX=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Oe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=mm(t,$Y);return _.createElement(_x,ya({},i,{type:"linear",className:r}))},rX=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=Oe("recharts-pie-label-text",eX(e));return _.createElement(rm,ya({},t,{alignmentBaseline:"middle",className:i}),n)};function nX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Sn(r),l=Eu(i),u=Eu(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,w=wt(p.cx,p.cy,p.outerRadius+c,g),v=st(st(st(st({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:YY(w.x,p.cx)},w),x=st(st(st(st({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[wt(p.cx,p.cy,p.outerRadius,g),w],key:"line"});return _.createElement(Cn,{zIndex:Qt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},_.createElement(pr,null,a&&tX(a,x),rX(i,v,Ye(p,s))))});return _.createElement(pr,{className:"recharts-pie-labels"},d)}function iX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(l2,{label:i}):_.createElement(nX,{sectors:t,props:r,showLabels:n})}function aX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=te(cs),l=te(I_),u=te(IH),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=mm(i,zY),g=z_(c,i.dataKey,s),w=U_(p),v=B_(d,i.dataKey,s);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,E)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var A=u==null||u===s,j=String(E)===o&&(l==null||i.dataKey===l)&&A,T=o?n:null,N=r&&j?r:T,b=st(st({},x),{},{stroke:x.stroke,tabIndex:-1,[uk]:E,[ck]:i.dataKey});return _.createElement(pr,ya({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},ec(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:w(x,E),onClick:v(x,E)}),_.createElement(g2,ya({option:a??N,index:E,shapeType:"sector",isActive:j},b)))}))}function sX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=JY(o,l),g=Math.abs(m),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(N=>Ye(N,u,0)!==0).length,x=(g>=360?v:v-1)*w,E=g-v*p-x,A=n.reduce((N,b)=>{var S=Ye(b,u,0);return N+(re(S)?S:0)},0),j;if(A>0){var T;j=n.map((N,b)=>{var S=Ye(N,u,0),I=Ye(N,c,b),D=ZY(r,a,N),C=(re(S)?S:0)/A,k,O=st(st({},N),i&&i[b]&&i[b].props);b?k=T.endAngle+Ft(m)*w*(S!==0?1:0):k=o;var Q=k+Ft(m)*((S!==0?p:0)+C*E),se=(k+Q)/2,de=(D.innerRadius+D.outerRadius)/2,oe=[{name:I,value:S,payload:O,dataKey:u,type:d}],U=wt(D.cx,D.cy,de,se);return T=st(st(st(st({},r.presentationProps),{},{percent:C,cornerRadius:typeof s=="string"?parseFloat(s):s,name:I,tooltipPayload:oe,midAngle:se,middleRadius:de,tooltipPosition:U},O),D),{},{value:S,dataKey:u,startAngle:k,endAngle:Q,payload:O,paddingAngle:Ft(m)*w}),T})}return j}function oX(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(UQ,{value:t?i:void 0},n)}function lX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=$p(t,"recharts-pie-"),g=r.current,[w,v]=_.useState(!1),x=_.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),E=_.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return _.createElement(oX,{showLabels:!w,sectors:i},_.createElement(Fp,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:E,onAnimationEnd:x,key:m},A=>{var j=[],T=i&&i[0],N=T==null?void 0:T.startAngle;return i==null||i.forEach((b,S)=>{var I=g&&g[S],D=S>0?ss(b,"paddingAngle",0):0;if(I){var C=At(I.endAngle-I.startAngle,b.endAngle-b.startAngle,A),k=st(st({},b),{},{startAngle:N+D,endAngle:N+C+D});j.push(k),N=k.endAngle}else{var{endAngle:O,startAngle:Q}=b,se=At(0,O-Q,A),de=st(st({},b),{},{startAngle:N+D,endAngle:N+se+D});j.push(de),N=de.endAngle}}),r.current=j,_.createElement(pr,null,_.createElement(aX,{sectors:j,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(iX,{showLabels:!w,sectors:i,props:t}),t.children)}var uX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qt.area};function cX(e){var{id:t}=e,r=mm(e,UY),{hide:n,className:i,rootTabIndex:a}=e,s=_.useMemo(()=>$_(e.children,_c),[e.children]),o=te(c=>aY(c,t,s)),l=_.useRef(null),u=Oe("recharts-pie",i);return n||o==null?(l.current=null,_.createElement(pr,{tabIndex:a,className:u})):_.createElement(Cn,{zIndex:e.zIndex},_.createElement(QY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),_.createElement(pr,{tabIndex:a,className:u},_.createElement(lX,{props:st(st({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function _2(e){var t=Ut(e,uX),{id:r}=t,n=mm(t,BY),i=Sn(n);return _.createElement(w2,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(FY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(GY,ya({},n,{id:a})),_.createElement(cX,ya({},n,{id:a}))))}_2.displayName="Pie";function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pX={xAxis:{},yAxis:{},zAxis:{}},b2=jr({name:"cartesianAxis",initialState:pX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ge()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ge()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ge()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ge()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ge()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ge()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=rT(rT({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:mX,replaceXAxis:gX,removeXAxis:vX,addYAxis:yX,replaceYAxis:wX,removeYAxis:xX,addZAxis:Gte,replaceZAxis:Qte,removeZAxis:Yte,updateYAxisWidth:_X}=b2.actions,bX=b2.reducer,EX=L([It],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),SX=L([EX,Ti,Ci],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),E2=()=>te(SX),AX="Invariant failed";function PX(e,t){throw new Error(AX)}var TX=["x","y"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=IX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e,t){if(e==null)return{};var r,n,i=OX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kX(e,t){var{x:r,y:n}=e,i=NX(e,TX),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Sl(Sl(Sl(Sl(Sl({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function xh(e){return _.createElement(g2,Xy({shapeType:"rectangle",propTransformer:kX,activeClassName:"recharts-active-bar"},e))}var RX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||zt(n);return a?t(n,i):(a||PX(),r)}},DX={},S2=jr({name:"errorBars",initialState:DX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Xte,replaceErrorBar:Zte,removeErrorBar:Jte}=S2.actions,MX=S2.reducer,LX=["children"];function VX(e,t){if(e==null)return{};var r,n,i=FX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $X={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zX=_.createContext($X);function UX(e){var{children:t}=e,r=VX(e,LX);return _.createElement(zX.Provider,{value:r},t)}function A2(e,t){var r,n,i=te(u=>ji(u,e)),a=te(u=>Ni(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Rt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Dt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function BX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=E2(),{needClipX:a,needClipY:s,needClip:o}=A2(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}function qX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var WX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=_;function KX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HX=typeof Object.is=="function"?Object.is:KX,GX=bc.useSyncExternalStore,QX=bc.useRef,YX=bc.useEffect,XX=bc.useMemo,ZX=bc.useDebugValue;WX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=QX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=XX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return d=g}return d=m}if(g=d,HX(c,m))return g;var w=n(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=GX(e,a[0],a[1]);return YX(function(){s.hasValue=!0,s.value=o},[o]),ZX(o),o};function JX(e){e()}function eZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var iT={notify(){},get:()=>[]};function tZ(e,t){let r,n=iT,i=0,a=!1;function s(w){c();const v=n.subscribe(w);let x=!1;return()=>{x||(x=!0,v(),d())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=eZ())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=iT)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var rZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nZ=rZ(),iZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aZ=iZ(),sZ=()=>nZ||aZ?_.useLayoutEffect:_.useEffect,oZ=sZ();function aT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function lZ(e,t){if(aT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!aT(e[r[i]],t[r[i]]))return!1;return!0}var Mg=Symbol.for("react-redux-context"),Lg=typeof globalThis<"u"?globalThis:{};function uZ(){if(!_.createContext)return{};const e=Lg[Mg]??(Lg[Mg]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var cZ=uZ();function dZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const l=tZ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=_.useMemo(()=>i.getState(),[i]);oZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||cZ;return _.createElement(o.Provider,{value:a},t)}var fZ=dZ,hZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function pZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function q_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(hZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!lZ(e[n],t[n]))return!1}else if(!pZ(e[n],t[n]))return!1;return!0}var mZ=["onMouseEnter","onMouseLeave","onClick"],gZ=["value","background","tooltipPosition"],vZ=["id"],yZ=["onMouseEnter","onClick","onMouseLeave"];function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(e,t){if(e==null)return{};var r,n,i=bZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Tp(r,t),payload:e}]},SZ=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Tp(a,t),hide:s,type:l,color:i,unit:o}};return _.createElement(v2,{tooltipEntrySettings:u})});function AZ(e){var t=te(cs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=_h(a,mZ),c=z_(s,n),d=U_(o),p=B_(l,n);if(!i||r==null)return null;var m=Eu(i);return _.createElement(Cn,{zIndex:qX(i,Qt.barBackground)},r.map((g,w)=>{var{value:v,background:x,tooltipPosition:E}=g,A=_h(g,gZ);if(!x)return null;var j=c(g,w),T=d(g,w),N=p(g,w),b=dr(dr(dr(dr(dr({option:i,isActive:String(w)===t},A),{},{fill:"#eee"},x),m),ec(u,g,w)),{},{onMouseEnter:j,onMouseLeave:T,onClick:N,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return _.createElement(xh,Si({key:"background-bar-".concat(w)},b))}))}function PZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return dr(dr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return _.createElement(zQ,{value:t?i:void 0},r)}function TZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=te(cs),l=te(I_),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?_.createElement(Cn,{zIndex:Qt.activeBar},_.createElement(xh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):_.createElement(xh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function CZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(xh,Si({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function IZ(e){var t,{data:r,props:n}=e,i=(t=Sn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=_h(i,vZ),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=_h(n,yZ),g=z_(c,l),w=U_(p),v=B_(d,l);return r?_.createElement(_.Fragment,null,r.map((x,E)=>_.createElement(pr,Si({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(E),className:"recharts-bar-rectangle"},ec(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:w(x,E),onClick:v(x,E)}),u?_.createElement(TZ,{shape:o,activeBar:u,baseProps:s,entry:x,index:E,dataKey:l}):_.createElement(CZ,{shape:o,baseProps:s,entry:x,index:E,dataKey:l})))):null}function jZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=$p(t,"recharts-bar-"),[m,g]=_.useState(!1),w=!m,v=_.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=_.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return _.createElement(PZ,{showLabels:w,rects:n},_.createElement(Fp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:x,key:p},E=>{var A=E===1?n:n==null?void 0:n.map((j,T)=>{var N=d&&d[T];if(N)return dr(dr({},j),{},{x:At(N.x,j.x,E),y:At(N.y,j.y,E),width:At(N.width,j.width,E),height:At(N.height,j.height,E)});if(i==="horizontal"){var b=At(0,j.height,E),S=At(j.stackedBarStart,j.y,E);return dr(dr({},j),{},{y:S,height:b})}var I=At(0,j.width,E),D=At(j.stackedBarStart,j.x,E);return dr(dr({},j),{},{width:I,x:D})});return E>0&&(r.current=A??null),A==null?null:_.createElement(pr,null,_.createElement(IZ,{props:t,data:A}))}),_.createElement(l2,{label:t.label}),t.children)}function NZ(e){var t=_.useRef(null);return _.createElement(jZ,{previousRectanglesRef:t,props:e})}var P2=0,OZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class kZ extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Oe("recharts-bar",i),d=u;return _.createElement(pr,{className:c,id:u},o&&_.createElement("defs",null,_.createElement(BX,{clipPathId:d,xAxisId:a,yAxisId:s})),_.createElement(pr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},_.createElement(AZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),_.createElement(NZ,this.props)))}}var RZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:P2,xAxisId:0,yAxisId:0,zIndex:Qt.bar};function DZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=A2(t,r),p=kp(),m=Nr(),g=$_(e.children,_c),w=te(E=>uJ(E,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var v,x=w==null?void 0:w[0];return x==null||x.height==null||x.width==null?v=0:v=p==="vertical"?x.height/2:x.width/2,_.createElement(UX,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:OZ,errorBarOffset:v},_.createElement(kZ,Si({},e,{layout:p,needClip:d,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function MZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:w}=e,v=t==="horizontal"?o:s,x=c?v.scale.domain():null,E=SU({numericAxis:v}),A=v.scale(E);return d.map((j,T)=>{var N,b,S,I,D,C;c?N=yU(c[T+w],x):(N=Ye(j,r),Array.isArray(N)||(N=[E,N]));var k=RX(n,P2)(N[1],T);if(t==="horizontal"){var O,[Q,se]=[o.scale(N[0]),o.scale(N[1])];b=qS({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:j,index:T}),S=(O=se??Q)!==null&&O!==void 0?O:void 0,I=i.size;var de=Q-se;if(D=An(de)?0:de,C={x:b,y:p.top,width:I,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var oe=Ft(D||k)*(Math.abs(k)-Math.abs(D));S-=oe,D+=oe}}else{var[U,K]=[s.scale(N[0]),s.scale(N[1])];if(b=U,S=qS({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:j,index:T}),I=K-U,D=i.size,C={x:p.left,y:S,width:p.width,height:D},Math.abs(k)>0&&Math.abs(I)<Math.abs(k)){var ne=Ft(I||k)*(Math.abs(k)-Math.abs(I));I+=ne}}if(b==null||S==null||I==null||D==null)return null;var me=dr(dr({},j),{},{stackedBarStart:A,x:b,y:S,width:I,height:D,value:c?N:N[1],payload:j,background:C,tooltipPosition:{x:b+I/2,y:S+D/2},parentViewBox:g},m&&m[T]&&m[T].props);return me}).filter(Boolean)}function LZ(e){var t=Ut(e,RZ),r=Nr();return _.createElement(w2,{id:t.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(AY,{legendPayload:EZ(t)}),_.createElement(SZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(VY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:EU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),_.createElement(Cn,{zIndex:t.zIndex},_.createElement(DZ,Si({},t,{id:n})))))}var io=_.memo(LZ,q_);io.displayName="Bar";function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ=(e,t)=>t,UZ=(e,t,r)=>r,BZ=(e,t,r,n)=>n,qZ=(e,t,r,n,i)=>i,Ec=L([i_,qZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),WZ=L([Ec],e=>e==null?void 0:e.maxBarSize),KZ=(e,t,r,n,i,a)=>a,lT=(e,t,r)=>{var n=r??e;if(!zt(n))return or(n,t,0)},HZ=L([Te,i_,zZ,UZ,BZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),GZ=(e,t,r,n)=>{var i=Te(e);return i==="horizontal"?qy(e,"yAxis",r,n):qy(e,"xAxis",t,n)},QZ=(e,t,r)=>{var n=Te(e);return n==="horizontal"?mP(e,"xAxis",t):mP(e,"yAxis",r)},YZ=(e,t,r)=>{var n={},i=e.filter(Qp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=lT(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=lT(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]},XZ=L([HZ,OW,QZ],YZ),ZZ=(e,t,r,n,i)=>{var a,s,o=Ec(e,t,r,n,i);if(o!=null){var l=Te(e),u=LR(e),{maxBarSize:c}=o,d=zt(c)?u:c,p,m;return l==="horizontal"?(p=Io(e,"xAxis",t,n),m=Co(e,"xAxis",t,n)):(p=Io(e,"yAxis",r,n),m=Co(e,"yAxis",r,n)),(a=(s=Gf(p,m,!0))!==null&&s!==void 0?s:d)!==null&&a!==void 0?a:0}},T2=(e,t,r,n)=>{var i=Te(e),a,s;return i==="horizontal"?(a=Io(e,"xAxis",t,n),s=Co(e,"xAxis",t,n)):(a=Io(e,"yAxis",r,n),s=Co(e,"yAxis",r,n)),Gf(a,s)};function JZ(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=or(e,r,0,!0),o,l=[];if(dt(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((x,E)=>x+(E.barSize||0),0);d+=(a-1)*s,d>=r&&(d-=(a-1)*s,s=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-s,size:0};o=n.reduce((x,E)=>{var A,j={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(A=E.barSize)!==null&&A!==void 0?A:0}},T=[...x,j];return m=T[T.length-1].position,T},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var w=(r-2*g-(a-1)*s)/a;w>1&&(w>>=0);var v=dt(i)?Math.min(w,i):w;o=n.reduce((x,E,A)=>[...x,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(w+s)*A+(w-v)/2,size:v}}],l)}return o}}var eJ=(e,t,r,n,i,a,s)=>{var o=zt(s)?t:s,l=JZ(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>wd(wd({},u),{},{position:wd(wd({},u.position),{},{offset:u.position.offset-i/2})}))),l},tJ=L([XZ,LR,NW,VR,ZZ,T2,WZ],eJ),rJ=(e,t,r,n)=>Io(e,"xAxis",t,n),nJ=(e,t,r,n)=>Io(e,"yAxis",r,n),iJ=(e,t,r,n)=>Co(e,"xAxis",t,n),aJ=(e,t,r,n)=>Co(e,"yAxis",r,n),sJ=L([tJ,Ec],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),oJ=(e,t)=>{var r=t_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},lJ=L([GZ,Ec],oJ),uJ=L([It,px,rJ,nJ,iJ,aJ,sJ,Te,Kx,T2,lJ,Ec,KZ],(e,t,r,n,i,a,s,o,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:w}=l;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=d,x;if(v!=null&&v.length>0?x=v:x=m==null?void 0:m.slice(g,w+1),x!=null)return MZ({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),C2=e=>{var{chartData:t}=e,r=$e(),n=Nr();return _.useEffect(()=>n?()=>{}:(r(TP(t)),()=>{r(TP(void 0))}),[t,r,n]),null},uT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},I2=jr({name:"brush",initialState:uT,reducers:{setBrushSettings(e,t){return t.payload==null?uT:t.payload}}}),{setBrushSettings:ere}=I2.actions,cJ=I2.reducer;function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class W_{static create(t){return new W_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}dJ(W_,"EPS",1e-4);function pJ(e){return(e%180+180)%180}var mJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pJ(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},gJ={dots:[],areas:[],lines:[]},j2=jr({name:"referenceElements",initialState:gJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_n(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_n(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_n(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tre,removeDot:rre,addArea:nre,removeArea:ire,addLine:are,removeLine:sre}=j2.actions,vJ=j2.reducer,yJ=_.createContext(void 0),wJ=e=>{var{children:t}=e,[r]=_.useState("".concat(Su("recharts"),"-clip")),n=E2();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return _.createElement(yJ.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function N2(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function xJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mJ(n,r)}function _J(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function bh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function bJ(e,t){return N2(e,t+1)}function EJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:N2(n,u)};var w=l,v,x=()=>(v===void 0&&(v=r(g,w)),v),E=g.coordinate,A=l===0||bh(e,E,x,c,o);A||(l=0,c=s,u+=1),A&&(c=E+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var m=a[p],g,w=()=>(g===void 0&&(g=r(m,p)),g);if(p===s-1){var v=e*(m.coordinate+e*w()/2-l);a[p]=m=rr(rr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[p]=m=rr(rr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=bh(e,m.tickCoord,w,o,l);x&&(l=m.tickCoord-e*(w()/2+i),a[p]=rr(rr({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function CJ(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],d=r(c,o-1),p=e*(c.coordinate+e*d/2-u);if(s[o-1]=c=rr(rr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=bh(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),s[o-1]=rr(rr({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,w=function(E){var A=s[E],j,T=()=>(j===void 0&&(j=r(A,E)),j);if(E===0){var N=e*(A.coordinate-e*T()/2-l);s[E]=A=rr(rr({},A),{},{tickCoord:N<0?A.coordinate-N*e:A.coordinate})}else s[E]=A=rr(rr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var b=bh(e,A.tickCoord,T,l,u);b&&(l=A.tickCoord+e*(T()/2+i),s[E]=rr(rr({},A),{},{isShow:!0}))}},v=0;v<g;v++)w(v);return s}function K_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(re(l)||sc.isSsr){var p;return(p=bJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",w=c&&g==="width"?Yl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(A,j)=>{var T=typeof u=="function"?u(A.value,j):A.value;return g==="width"?xJ(Yl(T,{fontSize:t,letterSpacing:r}),w,d):Yl(T,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Ft(i[1].coordinate-i[0].coordinate):1,E=_J(a,x,g);return l==="equidistantPreserveStart"?EJ(x,E,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=CJ(x,E,v,i,s,l==="preserveStartEnd"):m=TJ(x,E,v,i,s),m.filter(A=>A.isShow))}var IJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},jJ=["axisLine","width","height","className","hide","ticks","axisType"];function NJ(e,t){if(e==null)return{};var r,n,i=OJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qt.axis};function MJ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=mt(mt(mt({},l),Sn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=mt(mt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=mt(mt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return _.createElement("line",ds({},u,{className:Oe("recharts-cartesian-axis-line",ss(o,"className"))}))}function LJ(e,t,r,n,i,a,s,o,l){var u,c,d,p,m,g,w=o?-1:1,v=e.tickSize||s,x=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!o*i,d=p-w*v,g=d-w*l,m=x;break;case"left":d=p=e.coordinate,c=t+ +!o*n,u=c-w*v,m=u-w*l,g=x;break;case"right":d=p=e.coordinate,c=t+ +o*n,u=c+w*v,m=u+w*l,g=x;break;default:u=c=e.coordinate,p=r+ +o*i,d=p+w*v,g=d+w*l,m=x;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function VJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $J(e){var{option:t,tickProps:r,value:n}=e,i,a=Oe(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,mt(mt({},r),{},{className:a}));else if(typeof t=="function")i=t(mt(mt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Oe(s,t==null?void 0:t.className)),i=_.createElement(rm,ds({},r,{className:s}),n)}return i}var zJ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:w,tickSize:v,tickMargin:x,fontSize:E,letterSpacing:A,getTicksConfig:j,events:T,axisType:N}=e,b=K_(mt(mt({},j),{},{ticks:r}),E,A),S=VJ(c,d),I=FJ(c,d),D=Sn(j),C=Eu(n),k={};typeof i=="object"&&(k=i);var O=mt(mt({},D),{},{fill:"none"},k),Q=b.map(oe=>mt({entry:oe},LJ(oe,p,m,g,w,c,v,d,x))),se=Q.map(oe=>{var{entry:U,line:K}=oe;return _.createElement(pr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&_.createElement("line",ds({},O,K,{className:Oe("recharts-cartesian-axis-tick-line",ss(i,"className"))})))}),de=Q.map((oe,U)=>{var{entry:K,tick:ne}=oe,me=mt(mt(mt(mt({textAnchor:S,verticalAnchor:I},D),{},{stroke:"none",fill:a},C),ne),{},{index:U,payload:K,visibleTicksCount:b.length,tickFormatter:s,padding:l},u);return _.createElement(pr,ds({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},ec(T,K,U)),n&&_.createElement($J,{option:n,tickProps:me,value:"".concat(typeof s=="function"?s(K.value,U):K.value).concat(o||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},de.length>0&&_.createElement(Cn,{zIndex:Qt.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},de)),se.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},se))}),UJ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=NJ(e,jJ),[c,d]=_.useState(""),[p,m]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return IJ({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var E=x[0];if(E){var A=window.getComputedStyle(E),j=A.fontSize,T=A.letterSpacing;(j!==c||T!==p)&&(d(j),m(T))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Cn,{zIndex:e.zIndex},_.createElement(pr,{className:Oe("recharts-cartesian-axis",a)},_.createElement(MJ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Sn(e)}),_.createElement(zJ,{ref:w,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(SQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(RQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),H_=_.forwardRef((e,t)=>{var r=Ut(e,ui);return _.createElement(UJ,ds({},r,{ref:t}))});H_.displayName="CartesianAxis";var BJ=["x1","y1","x2","y2","key"],qJ=["offset"],WJ=["xAxisId","yAxisId"],KJ=["xAxisId","yAxisId"];function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var r,n,i=YJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return _.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function O2(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=Eh(r,BJ),d=(i=Sn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=Eh(d,qJ);n=_.createElement("line",Wa({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function ZJ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,WJ),l=i.map((u,c)=>{var d=sr(sr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return _.createElement(O2,{key:"line-".concat(c),option:n,lineItemProps:d})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function JJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,KJ),l=i.map((u,c)=>{var d=sr(sr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(O2,{option:n,lineItemProps:d,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function eee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+s-d:u[p+1]-d;if(g<=0)return null;var w=p%t.length;return _.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function tee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+s-d:u[p+1]-d;if(g<=0)return null;var w=p%r.length;return _.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:o,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var ree=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return sk(K_(sr(sr(sr({},ui),r),{},{ticks:ok(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},nee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return sk(K_(sr(sr(sr({},ui),r),{},{ticks:ok(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},iee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qt.grid};function G_(e){var t=vx(),r=yx(),n=yk(),i=sr(sr({},Ut(e,iee)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,g=Nr(),w=te(I=>gP(I,"xAxis",a,g)),v=te(I=>gP(I,"yAxis",s,g));if(!Hn(u)||!Hn(c)||!re(o)||!re(l))return null;var x=i.verticalCoordinatesGenerator||ree,E=i.horizontalCoordinatesGenerator||nee,{horizontalPoints:A,verticalPoints:j}=i;if((!A||!A.length)&&typeof E=="function"){var T=p&&p.length,N=E({yAxis:v?sr(sr({},v),{},{ticks:T?p:v.ticks}):void 0,width:t??u,height:r??c,offset:n},T?!0:d);Qf(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(A=N)}if((!j||!j.length)&&typeof x=="function"){var b=m&&m.length,S=x({xAxis:w?sr(sr({},w),{},{ticks:b?m:w.ticks}):void 0,width:t??u,height:r??c,offset:n},b?!0:d);Qf(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return _.createElement(Cn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(XJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(eee,Wa({},i,{horizontalPoints:A})),_.createElement(tee,Wa({},i,{verticalPoints:j})),_.createElement(ZJ,Wa({},i,{offset:n,horizontalPoints:A,xAxis:w,yAxis:v})),_.createElement(JJ,Wa({},i,{offset:n,verticalPoints:j,xAxis:w,yAxis:v}))))}G_.displayName="CartesianGrid";var aee=["domain","range"],see=["domain","range"];function hT(e,t){if(e==null)return{};var r,n,i=oee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function k2(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=hT(e,aee),{domain:a,range:s}=t,o=hT(t,see);return!pT(r,a)||!pT(n,s)?!1:q_(i,o)}var lee=["dangerouslySetInnerHTML","ticks"],uee=["id"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function mT(e,t){if(e==null)return{};var r,n,i=cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dee(e){var t=$e(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(vX(r.current)),r.current=null)},[t]),null}var fee=e=>{var{xAxisId:t,className:r}=e,n=te(px),i=Nr(),a="xAxis",s=te(v=>qo(v,a,t,i)),o=te(v=>gD(v,a,t,i)),l=te(v=>fD(v,t)),u=te(v=>IK(v,t)),c=te(v=>HR(v,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,m=mT(e,lee),{id:g}=c,w=mT(c,uee);return _.createElement(H_,Zy({},m,w,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Oe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},hee={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:ui.axisLine,height:Rt.height,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Rt.type,xAxisId:0},pee=e=>{var t=Ut(e,hee);return _.createElement(_.Fragment,null,_.createElement(dee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(fee,t))},Q_=_.memo(pee,k2);Q_.displayName="XAxis";var mee=["dangerouslySetInnerHTML","ticks"],gee=["id"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function gT(e,t){if(e==null)return{};var r,n,i=vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yee(e){var t=$e(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(yX(e)):r.current!==e&&t(wX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(xX(r.current)),r.current=null)},[t]),null}var wee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),s=_.useRef(null),o=te(px),l=Nr(),u=$e(),c="yAxis",d=te(T=>qo(T,c,t,l)),p=te(T=>hD(T,t)),m=te(T=>NK(T,t)),g=te(T=>gD(T,c,t,l)),w=te(T=>GR(T,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!p||D_(i)||_.isValidElement(i)||w==null)){var T=a.current;if(T){var N=T.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&u(_X({id:t,width:N}))}}},[g,p,u,i,t,n,w]),p==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,E=gT(e,mee),{id:A}=w,j=gT(w,gee);return _.createElement(H_,Jy({},E,j,{ref:a,labelRef:s,scale:d,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Oe("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:g,axisType:c}))},xee={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:ui.axisLine,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Dt.type,width:Dt.width,yAxisId:0},_ee=e=>{var t=Ut(e,xee);return _.createElement(_.Fragment,null,_.createElement(yee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(wee,t))},Y_=_.memo(_ee,k2);Y_.displayName="YAxis";var bee=(e,t)=>t,X_=L([bee,Te,WR,Nt,OD,Oi,KH,It],JH),Z_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},R2=sn("mouseClick"),D2=nc();D2.startListening({actionCreator:R2,effect:(e,t)=>{var r=e.payload,n=X_(t.getState(),Z_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(WK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var e0=sn("mouseMove"),M2=nc(),xd=null;M2.startListening({actionCreator:e0,effect:(e,t)=>{var r=e.payload;xd!==null&&cancelAnimationFrame(xd);var n=Z_(r);xd=requestAnimationFrame(()=>{var i=t.getState(),a=E_(i,i.tooltip.settings.shared);if(a==="axis"){var s=X_(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(SD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(ED())}xd=null})}});var vT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},L2=jr({name:"rootProps",initialState:vT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:vT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Eee=L2.reducer,{updateOptions:See}=L2.actions,V2=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Aee}=V2.actions,Pee=V2.reducer,F2=sn("keyDown"),$2=sn("focus"),J_=nc();J_.startListening({actionCreator:F2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=S_(i,Ko(r),mc(r),wc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Oi(r);if(a==="Enter"){var u=gh(r,"axis","hover",String(i.index));t.dispatch(Ky({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=DK(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*d;if(!(l==null||m>=l.length||m<0)){var g=gh(r,"axis","hover",String(m));t.dispatch(Ky({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});J_.startListening({actionCreator:$2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=gh(r,"axis","hover",String(a));t.dispatch(Ky({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Hr=sn("externalEvent"),z2=nc(),Vg=new Map;z2.startListening({actionCreator:Hr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Vg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:NH(o),activeDataKey:I_(o),activeIndex:cs(o),activeLabel:DD(o),activeTooltipIndex:cs(o),isTooltipActive:OH(o)};r(l,n)}finally{Vg.delete(i)}});Vg.set(i,s)}}});var Tee=L([Wo],e=>e.tooltipItemPayloads),Cee=L([Tee,vc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),U2=sn("touchMove"),B2=nc();B2.startListening({actionCreator:U2,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=E_(n,n.tooltip.settings.shared);if(i==="axis"){var a=X_(n,Z_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(SD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(uk),c=(s=l.getAttribute(ck))!==null&&s!==void 0?s:void 0,d=Cee(t.getState(),u,c);t.dispatch(bD({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var Iee=NO({brush:cJ,cartesianAxis:bX,chartData:IG,errorBars:MX,graphicalItems:MY,layout:fU,legend:gB,options:SG,polarAxis:ZQ,polarOptions:Pee,referenceElements:vJ,rootProps:Eee,tooltip:KK,zIndex:hG}),jee=function(t){return L9({reducer:Iee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([D2.middleware,M2.middleware,J_.middleware,z2.middleware,B2.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(KO({type:"raf"}))},devTools:sc.devToolsEnabled})};function q2(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Nr(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=jee(t));var s=nx;return _.createElement(fZ,{context:s,store:a.current},r)}function Nee(e){var{layout:t,margin:r}=e,n=$e(),i=Nr();return _.useEffect(()=>{i||(n(uU(t)),n(lU(r)))},[n,i,t,r]),null}var W2=_.memo(Nee,q_);function K2(e){var t=$e();return _.useEffect(()=>{t(See(e))},[t,e]),null}function yT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=y2("".concat(n).concat(t)),a=$e();return _.useLayoutEffect(()=>(a(dG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(fG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),_.createElement("g",{tabIndex:-1,id:i})}function wT(e){var{children:t,isPanorama:r}=e,n=te(tG);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return _.createElement(_.Fragment,null,i.map(s=>_.createElement(yT,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>_.createElement(yT,{key:s,zIndex:s,isPanorama:r})))}var Oee=["children"];function kee(e,t){if(e==null)return{};var r,n,i=Ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}var Dee={width:"100%",height:"100%",display:"block"},Mee=_.forwardRef((e,t)=>{var r=vx(),n=yx(),i=Ik();if(!Hn(r)||!Hn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),_.createElement(Uw,Sh({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:Dee,ref:t}),a)}),Lee=e=>{var{children:t}=e,r=te(Np);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return _.createElement(Uw,{width:n,height:i,x:s,y:a},t)},xT=_.forwardRef((e,t)=>{var{children:r}=e,n=kee(e,Oee),i=Nr();return i?_.createElement(Lee,null,_.createElement(wT,{isPanorama:!0},r)):_.createElement(Mee,Sh({ref:t},n),_.createElement(wT,{isPanorama:!1},r))});function Vee(){var e=$e(),[t,r]=_.useState(null),n=te(jU);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;dt(a)&&a!==n&&e(dU(a))}},[t,e,n]),r}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return(t=zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(null,arguments)}var Bee=()=>(VG(),null);function Ah(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var qee=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,s]=_.useState({containerWidth:Ah((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ah((n=e.style)===null||n===void 0?void 0:n.height)}),o=_.useCallback((u,c)=>{s(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var p=g=>{var{width:w,height:v}=g[0].contentRect;o(w,v)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,o]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),_.createElement(_.Fragment,null,_.createElement(Rp,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",fs({ref:l},e)))}),Wee=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:Ah(r),containerHeight:Ah(n)}),s=_.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),o=_.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return _.createElement(_.Fragment,null,_.createElement(Rp,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",fs({ref:o},e)))}),Kee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Rp,{width:r,height:n}),_.createElement("div",fs({ref:t},e)))}),Hee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return yi(r)||yi(n)?_.createElement(Wee,fs({},e,{ref:t})):_.createElement(Kee,fs({},e,{ref:t}))});function Gee(e){return e===!0?qee:Hee}var Qee=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:w,style:v,width:x,responsive:E,dispatchTouchEvents:A=!0}=e,j=_.useRef(null),T=$e(),[N,b]=_.useState(null),[S,I]=_.useState(null),D=Vee(),C=mx(),k=(C==null?void 0:C.width)>0?C.width:x,O=(C==null?void 0:C.height)>0?C.height:i,Q=_.useCallback(B=>{D(B),typeof t=="function"&&t(B),b(B),I(B),B!=null&&(j.current=B)},[D,t,b,I]),se=_.useCallback(B=>{T(R2(B)),T(Hr({handler:a,reactEvent:B}))},[T,a]),de=_.useCallback(B=>{T(e0(B)),T(Hr({handler:u,reactEvent:B}))},[T,u]),oe=_.useCallback(B=>{T(ED()),T(Hr({handler:c,reactEvent:B}))},[T,c]),U=_.useCallback(B=>{T(e0(B)),T(Hr({handler:d,reactEvent:B}))},[T,d]),K=_.useCallback(()=>{T($2())},[T]),ne=_.useCallback(B=>{T(F2(B.key))},[T]),me=_.useCallback(B=>{T(Hr({handler:s,reactEvent:B}))},[T,s]),be=_.useCallback(B=>{T(Hr({handler:o,reactEvent:B}))},[T,o]),_t=_.useCallback(B=>{T(Hr({handler:l,reactEvent:B}))},[T,l]),ke=_.useCallback(B=>{T(Hr({handler:p,reactEvent:B}))},[T,p]),qt=_.useCallback(B=>{T(Hr({handler:w,reactEvent:B}))},[T,w]),bt=_.useCallback(B=>{A&&T(U2(B)),T(Hr({handler:g,reactEvent:B}))},[T,A,g]),ze=_.useCallback(B=>{T(Hr({handler:m,reactEvent:B}))},[T,m]),Qn=Gee(E);return _.createElement(UD.Provider,{value:N},_.createElement(ON.Provider,{value:S},_.createElement(Qn,{width:k??(v==null?void 0:v.width),height:O??(v==null?void 0:v.height),className:Oe("recharts-wrapper",n),style:Fee({position:"relative",cursor:"default",width:k,height:O},v),onClick:se,onContextMenu:me,onDoubleClick:be,onFocus:K,onKeyDown:ne,onMouseDown:_t,onMouseEnter:de,onMouseLeave:oe,onMouseMove:U,onMouseUp:ke,onTouchEnd:ze,onTouchMove:bt,onTouchStart:qt,ref:Q},_.createElement(Bee,null),r)))}),Yee=["width","height","responsive","children","className","style","compact","title","desc"];function Xee(e,t){if(e==null)return{};var r,n,i=Zee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H2=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,d=Xee(e,Yee),p=Sn(d);return l?_.createElement(_.Fragment,null,_.createElement(Rp,{width:r,height:n}),_.createElement(xT,{otherAttributes:p,title:u,desc:c},a)):_.createElement(Qee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(xT,{otherAttributes:p,title:u,desc:c,ref:t},_.createElement(wJ,null,a)))});function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}var Jee={top:5,right:5,bottom:5,left:5},ete={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Jee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tte=_.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,ete),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return _.createElement(q2,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},_.createElement(C2,{chartData:u.data}),_.createElement(W2,{layout:i.layout,margin:i.margin}),_.createElement(K2,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(H2,t0({},i,{ref:r})))}),rte=["axis","item"],G2=_.forwardRef((e,t)=>_.createElement(tte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rte,tooltipPayloadSearcher:qD,categoricalChartProps:e,ref:t}));function nte(e){var t=$e();return _.useEffect(()=>{t(Aee(e))},[t,e]),null}var ite=["layout"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function ate(e,t){if(e==null)return{};var r,n,i=ste(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ote={top:5,right:5,bottom:5,left:5},Q2={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ote,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lte=_.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,Q2),{layout:a}=i,s=ate(i,ite),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(q2,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},_.createElement(C2,{chartData:i.data}),_.createElement(W2,{layout:a,margin:i.margin}),_.createElement(K2,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(nte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(H2,r0({},s,{ref:r})))});function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t,r){return(t=cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte=["item"],hte=ET(ET({},Q2),{},{layout:"centric",startAngle:0,endAngle:360}),pte=_.forwardRef((e,t)=>{var r=Ut(e,hte);return _.createElement(lte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fte,tooltipPayloadSearcher:qD,categoricalChartProps:r,ref:t})});const mte=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(s=>s.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(s=>s.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(s=>s.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(s=>s.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(s=>s.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(s=>s.value>0);return a.length===0?f.jsxs("div",{className:"incident-chart-container",children:[f.jsx("h3",{children:"Distribucin por Estado"}),f.jsx("div",{className:"chart-empty",children:f.jsx("p",{children:"No hay incidencias para mostrar"})})]}):f.jsxs("div",{className:"incident-chart-container",children:[f.jsx("h3",{children:"Distribucin por Estado"}),f.jsx(gx,{width:"100%",height:300,children:f.jsxs(pte,{children:[f.jsx(_2,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:o,percent:l})=>`${s}: ${o} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:s=>{t(s.status),r()},style:{cursor:"pointer"},children:a.map((s,o)=>f.jsx(_c,{fill:s.fill},`cell-${o}`))}),f.jsx(R_,{formatter:s=>`${s} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),f.jsx(Vp,{})]})})]})};function gte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,s=e.filter(l=>l.status==="cerrada").length,o=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:s}];return f.jsx("div",{className:"incident-stats-container",children:f.jsx("div",{className:"stats-chart",children:f.jsx(gx,{width:"100%",height:300,children:f.jsxs(G2,{data:o,children:[f.jsx(G_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),f.jsx(Q_,{dataKey:"name",stroke:"#667eea"}),f.jsx(Y_,{stroke:"#667eea"}),f.jsx(R_,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),f.jsx(Vp,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(io,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),f.jsx(io,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),f.jsx(io,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function vte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?f.jsxs("div",{className:"quick-incidents-container",children:[f.jsx("h3",{children:"Incidencias Pendientes"}),f.jsx("div",{className:"quick-incidents-empty",children:f.jsx("p",{children:" No hay incidencias pendientes"})})]}):f.jsxs("div",{className:"quick-incidents-container",children:[f.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),f.jsx("div",{className:"quick-incidents-list",children:r.map(a=>f.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:s=>{if(s.button===1){s.preventDefault();const o=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(o,"_blank")}},children:[f.jsx("div",{className:"quick-incident-name",children:a.name}),f.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function yte({incidents:e}){const t=()=>{const d=e.filter(m=>m.status==="cerrada");if(d.length===0)return 0;const p=d.reduce((m,g)=>{const w=new Date(g.creationDate),v=new Date(g.updatedAt),x=Math.abs(v.getTime()-w.getTime()),E=Math.ceil(x/(1e3*60*60*24));return m+E},0);return Math.round(p/d.length)},r=()=>({correctivo:e.filter(d=>d.type==="correctivo").length,evolutivo:e.filter(d=>d.type==="evolutivo").length,tarea:e.filter(d=>d.type==="tarea").length}),n=()=>{const d=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===d.getMonth()&&m.getFullYear()===d.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const d=e.filter(p=>p.status==="cerrada").length;return Math.round(d/e.length*100)},a=()=>e.filter(d=>(d.priority==="crtica"||d.priority==="alta")&&d.status!=="cerrada").length,s=t(),o=r(),l=n(),u=i(),c=a();return f.jsxs("div",{className:"metrics-dashboard",children:[f.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-card metric-primary",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:s}),f.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),f.jsxs("div",{className:"metric-card metric-success",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsxs("div",{className:"metric-value",children:[u,"%"]}),f.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),f.jsxs("div",{className:"metric-card metric-info",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:l}),f.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),f.jsxs("div",{className:"metric-card metric-warning",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:c}),f.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),f.jsxs("div",{className:"metrics-detail",children:[f.jsx("h3",{children:"Distribucin por Tipo"}),f.jsxs("div",{className:"type-stats",children:[f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Correctivo"}),f.jsx("span",{className:"type-stat-value",children:o.correctivo})]}),f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),f.jsx("span",{className:"type-stat-value",children:o.evolutivo})]}),f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Tarea"}),f.jsx("span",{className:"type-stat-value",children:o.tarea})]})]})]})]})}const wte=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((o,l)=>{const u=e.filter(d=>{const p=new Date(d.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(d=>{const p=new Date(d.updatedAt);return d.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:o,creadas:u,cerradas:c}})})();return f.jsxs("div",{className:"yearly-chart-container",children:[f.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),f.jsx(gx,{width:"100%",height:300,children:f.jsxs(G2,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[f.jsx(G_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),f.jsx(Q_,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),f.jsx(Y_,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),f.jsx(R_,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),f.jsx(Vp,{}),f.jsx(io,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),f.jsx(io,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),f.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),f.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),f.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function xte({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(d=>d.status==="cerrada"?!1:new Date(d.creationDate)<c&&(d.status==="abierta"||d.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(d=>d.status!=="puesto-en-test"&&d.status!=="verificado-en-test"?!1:new Date(d.creationDate)<c)},a=r(),s=n(),o=i(),l=a.length+s.length+o.length;return l===0?null:f.jsxs("div",{className:"alerts-banner",children:[f.jsxs("div",{className:"alerts-header",children:[f.jsx("span",{className:"alerts-icon",children:""}),f.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&f.jsxs("div",{className:"alert-section alert-stale",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:a.length}),f.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),f.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),s.length>0&&f.jsxs("div",{className:"alert-section alert-critical",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:s.length}),f.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),f.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]}),o.length>0&&f.jsxs("div",{className:"alert-section alert-test",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:o.length}),f.jsx("h4",{children:"En Test por ms de 3 das"})]}),f.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]})]})}function Y2(){return f.jsxs("div",{className:"logo-container",children:[f.jsx("div",{className:"logo-icon",children:f.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),f.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),f.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),f.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),f.jsxs("g",{transform:"translate(30, 30)",children:[f.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),f.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),f.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),f.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),f.jsx("div",{className:"logo-text",children:f.jsx("h1",{children:"IncidentAlert"})})]})}function _te({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=_.useState(""),[s,o]=_.useState(""),[l,u]=_.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},d=m=>{m.preventDefault(),i.trim()&&s.trim()&&(r(e,s.trim(),i.trim()),a(""),o(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return f.jsxs(f.Fragment,{children:[l&&Bn.createPortal(f.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:f.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:" Nuevo Comentario"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),f.jsxs("form",{className:"comment-form-modal",onSubmit:d,children:[f.jsxs("div",{className:"form-group-modal",children:[f.jsx("label",{htmlFor:"author",children:"Tu nombre"}),f.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:s,onChange:m=>o(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),f.jsxs("div",{className:"form-group-modal",children:[f.jsx("label",{htmlFor:"comment",children:"Comentario"}),f.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),f.jsxs("div",{className:"comments-section",children:[f.jsxs("div",{className:"comments-header",children:[f.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),f.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),f.jsx("div",{className:"comments-list",children:p.length===0?f.jsxs("div",{className:"no-comments",children:[f.jsx("span",{className:"no-comments-icon",children:""}),f.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>f.jsxs("div",{className:"comment-item",children:[f.jsxs("div",{className:"comment-header",children:[f.jsxs("div",{className:"comment-author",children:[f.jsx("span",{className:"author-icon",children:""}),f.jsx("strong",{children:m.author})]}),f.jsxs("div",{className:"comment-header-right",children:[f.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),f.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),f.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function bte({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[s,o]=_.useState(!1),[l,u]=_.useState(""),[c,d]=_.useState(!1),[p,m]=_.useState({show:!1,tag:null}),g=A=>{A.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),o(!1),d(!1))},w=A=>{n(e,A),d(!1)},v=A=>{m({show:!0,tag:A})},x=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),d(!1))};c&&r.filter(A=>!t.includes(A));const E=r;return f.jsxs("div",{className:"tags-manager",children:[f.jsxs("div",{className:"tags-header",children:[f.jsx("h4",{children:" Etiquetas"}),f.jsx("div",{className:"tags-actions",children:!s&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn-add-tag",onClick:()=>o(!0),children:"+ Nueva"}),E.length>0&&f.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",E),d(!c)},children:" Gestionar"})]})})]}),s&&f.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[f.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:A=>u(A.target.value),autoFocus:!0,className:"tag-input"}),f.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),f.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{o(!1),u("")},children:""})]}),c&&E.length>0&&f.jsxs("div",{className:"tag-suggestions",children:[f.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),f.jsx("div",{className:"suggestions-list",children:E.map(A=>f.jsxs("div",{className:"suggestion-item",children:[!t.includes(A)&&f.jsxs("button",{className:"suggestion-tag",onClick:()=>w(A),children:["+ ",A]}),t.includes(A)&&f.jsxs("span",{className:"tag-already-added",children:[" ",A]}),a&&f.jsx("button",{className:"btn-delete-global-tag",onClick:()=>v(A),title:"Eliminar etiqueta del sistema",children:""})]},A))})]}),p.show&&f.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:f.jsxs("div",{className:"delete-modal",onClick:A=>A.stopPropagation(),children:[f.jsx("div",{className:"delete-modal-header",children:f.jsx("h3",{children:" Eliminar Etiqueta"})}),f.jsxs("div",{className:"delete-modal-body",children:[f.jsxs("p",{children:["Eliminar la etiqueta ",f.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),f.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),f.jsxs("div",{className:"delete-modal-actions",children:[f.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),f.jsx("button",{className:"btn-confirm-delete",onClick:x,children:" Eliminar"})]})]})}),f.jsx("div",{className:"tags-list",children:t.length===0?f.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):f.jsx("div",{className:"tags-container",children:t.map(A=>f.jsxs("div",{className:"tag-item",children:[f.jsx("span",{className:"tag-name",children:A}),f.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,A),title:"Eliminar etiqueta",children:""})]},A))})})]})}function Ete({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},o=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#fbbf24"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#000",A.style.backgroundColor="#fbbf24"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const w=document.createRange();w.selectNodeContents(u);const v=window.getSelection();v&&(v.removeAllRanges(),v.addRange(w),document.execCommand("copy"),v.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[n&&Bn.createPortal(f.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:f.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"qa-modal-header",children:[f.jsx("h2",{children:" Vista Tabla QA"}),f.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),f.jsxs("div",{className:"qa-modal-body",children:[f.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),f.jsx("div",{className:"qa-table-container",children:f.jsxs("table",{className:"qa-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Priority"}),f.jsx("th",{children:"KP/MOV"}),f.jsx("th",{children:"Date"}),f.jsx("th",{children:"PR"}),f.jsx("th",{children:"Owner"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{}),f.jsx("td",{children:e}),f.jsx("td",{children:s()}),f.jsx("td",{children:a(l.link)}),f.jsx("td",{children:r})]},l.id))})]})}),f.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),f.jsxs("div",{className:"qa-modal-actions",children:[f.jsx("button",{className:"btn-copy-qa",onClick:o,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function Ste({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},o=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#10b981"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#fff",A.style.backgroundColor="#10b981"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const w=document.createRange();w.selectNodeContents(u);const v=window.getSelection();v&&(v.removeAllRanges(),v.addRange(w),document.execCommand("copy"),v.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[n&&Bn.createPortal(f.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:f.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"main-modal-header",children:[f.jsx("h2",{children:" Vista Tabla MAIN"}),f.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),f.jsxs("div",{className:"main-modal-body",children:[f.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),f.jsx("div",{className:"main-table-container",children:f.jsxs("table",{className:"main-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Priority"}),f.jsx("th",{children:"KP/MOV"}),f.jsx("th",{children:"Date"}),f.jsx("th",{children:"PR"}),f.jsx("th",{children:"Persona de Contacto"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{}),f.jsx("td",{children:e}),f.jsx("td",{children:s()}),f.jsx("td",{children:a(l.link)}),f.jsx("td",{children:r})]},l.id))})]})}),f.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),f.jsxs("div",{className:"main-modal-actions",children:[f.jsx("button",{className:"btn-copy-main",onClick:o,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const Ate=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:s,onUpdatePR:o})=>{const[l,u]=_.useState(!1),[c,d]=_.useState(!1),[p,m]=_.useState(null),[g,w]=_.useState(null),v=N=>{N.preventDefault();const b=new FormData(N.currentTarget),S=b.get("link").trim(),I=b.get("description").trim();S&&(p&&p.type==="qa2"?(o(e,"qa2",p.pr.id,S,I),m(null),w({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",S,I),w({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),N.currentTarget.reset(),setTimeout(()=>w(null),3e3))},x=N=>{N.preventDefault();const b=new FormData(N.currentTarget),S=b.get("link").trim(),I=b.get("description").trim();S&&(p&&p.type==="main"?(o(e,"main",p.pr.id,S,I),m(null),w({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",S,I),w({type:"success",message:" PR MAIN agregado correctamente"})),d(!1),N.currentTarget.reset(),setTimeout(()=>w(null),3e3))},E=(N,b)=>{m({pr:N,type:b}),b==="qa2"?u(!0):d(!0)},A=N=>{m(null),N==="qa2"?u(!1):d(!1)},j=(N,b,S)=>{N.stopPropagation(),s(e,b,S),w({type:"error",message:` PR ${b==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>w(null),3e3)},T=N=>{const b=N.split("/");return b[b.length-1]||N};return f.jsxs(f.Fragment,{children:[g&&f.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[f.jsx("span",{children:g.message}),f.jsx("button",{className:"pr-notification-close",onClick:()=>w(null),children:""})]}),l&&Bn.createPortal(f.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("qa2"),children:f.jsxs("div",{className:"pr-modal",onClick:N=>N.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>A("qa2"),children:""})]}),f.jsxs("form",{className:"pr-form-modal",onSubmit:v,children:[f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),f.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),f.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&f.jsx(Ete,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Bn.createPortal(f.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("main"),children:f.jsxs("div",{className:"pr-modal",onClick:N=>N.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>A("main"),children:""})]}),f.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),f.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),f.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&f.jsx(Ste,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),f.jsxs("div",{className:"pr-manager",children:[f.jsxs("div",{className:"pr-section",children:[f.jsxs("div",{className:"pr-section-header",children:[f.jsx("h3",{children:" PRs QA2"}),f.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),f.jsx("div",{className:"pr-list",children:r.length===0?f.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(N=>f.jsxs("div",{className:"pr-item",onClick:()=>E(N,"qa2"),children:[f.jsxs("div",{className:"pr-content",children:[f.jsxs("a",{href:N.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:b=>b.stopPropagation(),children:[" PR ",T(N.link)]}),f.jsx("span",{className:"pr-date",children:new Date(N.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),f.jsx("button",{className:"btn-remove-pr",onClick:b=>j(b,"qa2",N.id),title:"Eliminar PR",children:""})]},N.id))})]}),f.jsxs("div",{className:"pr-section",children:[f.jsxs("div",{className:"pr-section-header",children:[f.jsx("h3",{children:" PRs MAIN"}),f.jsx("button",{className:"btn-add-pr",onClick:()=>d(!0),children:"+ Agregar PR"})]}),f.jsx("div",{className:"pr-list",children:n.length===0?f.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(N=>f.jsxs("div",{className:"pr-item",onClick:()=>E(N,"main"),children:[f.jsxs("div",{className:"pr-content",children:[f.jsxs("a",{href:N.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:b=>b.stopPropagation(),children:[" PR ",T(N.link)]}),f.jsx("span",{className:"pr-date",children:new Date(N.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),f.jsx("button",{className:"btn-remove-pr",onClick:b=>j(b,"main",N.id),title:"Eliminar PR",children:""})]},N.id))})]})]})]})};function Pte({incident:e,currentUser:t}){const[r,n]=_.useState(!1),[i,a]=_.useState(""),s=u=>!u||u.length===0?"-":u.map(c=>{const d=c.link.split("/");return d[d.length-1]||c.link}).join(", "),o=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),d=document.createElement("p");d.textContent="Buenas, os envo una PR para su subida a PRO",d.style.marginBottom="1rem",c.appendChild(d);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const j=m.querySelector("tr");j&&(j.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(N=>{N.style.padding="0.75rem 0.5rem",N.style.border="1px solid #e5e7eb",N.style.fontWeight="700",N.style.color="#000",N.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(T=>{T.style.padding="0.75rem 0.5rem",T.style.border="1px solid #e5e7eb",T.style.color="#333",T.style.fontWeight="500",T.style.backgroundColor="white"});const w=p.querySelector('input[type="date"]');if(w){const j=w.parentElement;j&&(j.textContent=i||"-",j.style.color="#333")}const v=p.querySelector("textarea");if(v){const j=v.parentElement;j&&(j.textContent=e.description||"-",j.style.color="#333")}c.appendChild(p);const x=document.createElement("p");x.textContent="Un saludo, Gracias!",c.appendChild(x),document.body.appendChild(c);const E=document.createRange();E.selectNodeContents(c);const A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(E),document.execCommand("copy"),A.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[r&&Bn.createPortal(f.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:f.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"excel-modal-header",children:[f.jsx("h2",{children:" Vista Previa Excel"}),f.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),f.jsxs("div",{className:"excel-modal-body",children:[f.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),f.jsx("div",{className:"excel-table-container",children:f.jsxs("table",{className:"excel-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"INCIDENCIA/S"}),f.jsx("th",{children:"Estado peticin Incidencias"}),f.jsx("th",{children:"DIA DESPLIEGUE"}),f.jsx("th",{children:"PERSONA CONTACTO"}),f.jsx("th",{children:"DESCRIPCIN"}),f.jsx("th",{children:"DEPENDENCIAS"}),f.jsx("th",{children:"PR PRO"}),f.jsx("th",{children:"PR QA"}),f.jsx("th",{children:"Desplegado"}),f.jsx("th",{children:"PUESTO EXCEL QA"}),f.jsx("th",{children:"TIPO MOV"}),f.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("td",{children:e.name}),f.jsx("td",{children:"Verificado en Test"}),f.jsx("td",{children:f.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),f.jsx("td",{children:t}),f.jsx("td",{children:f.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),f.jsx("td",{children:"NO"}),f.jsx("td",{children:s(e.prMainList)}),f.jsx("td",{children:s(e.prQA2List)}),f.jsx("td",{children:"NO"}),f.jsx("td",{}),f.jsx("td",{children:o(e.type)}),f.jsx("td",{children:"-"})]})})]})}),f.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),f.jsxs("div",{className:"excel-modal-actions",children:[f.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const Tte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:d,onUpdatePR:p})=>{const[m,g]=_.useState(e.status),[w,v]=_.useState(e.priority),[x,E]=_.useState(e.type),j=(()=>{const S=yr.getUsers().find(I=>I.id===e.userId);return S?S.name:e.contactUser||"Usuario"})(),T=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${e.name}"? Esta accin no se puede deshacer.`)&&(a(e.id),r())},N=b=>{b.preventDefault();const S=new FormData(b.currentTarget),I={...e,name:(S.get("name")||"").trim(),title:(S.get("title")||"").trim(),description:(S.get("description")||"").trim(),contactUser:(S.get("contactUser")||"").trim(),prQA2:(S.get("prQA2")||"").trim(),prMain:(S.get("prMain")||"").trim(),creationDate:S.get("creationDate")||e.creationDate,relevante:(S.get("relevante")||"").trim(),realizado:(S.get("realizado")||"").trim(),clasesModificadas:(S.get("clasesModificadas")||"").trim(),priority:w,status:m,type:x,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",I),t(I)};return f.jsx("div",{className:"incident-detail-container",children:f.jsxs("div",{className:"incident-detail-layout",children:[f.jsx("div",{className:"detail-main-content",children:f.jsxs("div",{className:"incident-detail-card",children:[f.jsxs("div",{className:"incident-header-visual",children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),f.jsx("h1",{children:e.name})]}),f.jsx(Pte,{incident:e,currentUser:j})]}),f.jsxs("div",{className:"incident-badges",children:[f.jsxs("span",{className:`badge-status status-${e.status}`,children:[e.status==="abierta"&&"",e.status==="en-progreso"&&"",e.status==="puesto-en-test"&&"",e.status==="verificado-en-test"&&"",e.status==="resuelta"&&"",e.status==="cerrada"&&""," ",e.status.replace("-"," ")]}),f.jsxs("span",{className:`badge-priority priority-${e.priority}`,children:[e.priority==="baja"&&"",e.priority==="media"&&"",e.priority==="alta"&&"",e.priority==="crtica"&&""," ",e.priority]}),f.jsxs("span",{className:`badge-type type-${e.type}`,children:[e.type==="correctivo"&&"",e.type==="evolutivo"&&"",e.type==="tarea"&&""," ",e.type]})]})]}),f.jsxs("form",{onSubmit:N,className:"detail-form",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h2",{children:" Editar Informacin"}),f.jsxs("div",{className:"visual-field-group",children:[f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),f.jsx("input",{id:"name",name:"name",type:"text",defaultValue:e.name,placeholder:"MOV-XXXX",required:!0})]}),f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),f.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:e.contactUser||"",placeholder:"Nombre del contacto"})]}),f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),f.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:e.creationDate})]})]}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"title",children:" Ttulo"}),f.jsx("input",{id:"title",name:"title",type:"text",defaultValue:e.title||"",placeholder:"Ttulo para envo a PRO"})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"description",children:" Descripcin"}),f.jsx("textarea",{id:"description",name:"description",defaultValue:e.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"relevante",children:" Relevante"}),f.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:e.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"realizado",children:" Realizado"}),f.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:e.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),f.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:e.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h2",{children:" Estado y Clasificacin"}),f.jsxs("div",{className:"chip-selector-container",children:[f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Estado"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="abierta"?"selected":""}`,onClick:()=>g("abierta"),children:" Abierta"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="en-progreso"?"selected":""}`,onClick:()=>g("en-progreso"),children:" En Progreso"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="puesto-en-test"?"selected":""}`,onClick:()=>g("puesto-en-test"),children:" En Test"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="verificado-en-test"?"selected":""}`,onClick:()=>g("verificado-en-test"),children:" Verificado"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="resuelta"?"selected":""}`,onClick:()=>g("resuelta"),children:" Resuelta"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="cerrada"?"selected":""}`,onClick:()=>g("cerrada"),children:" Cerrada"})]})]}),f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Prioridad"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${w==="baja"?"selected":""}`,onClick:()=>v("baja"),children:" Baja"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${w==="media"?"selected":""}`,onClick:()=>v("media"),children:" Media"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${w==="alta"?"selected":""}`,onClick:()=>v("alta"),children:" Alta"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${w==="crtica"?"selected":""}`,onClick:()=>v("crtica"),children:" Crtica"})]})]}),f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Tipo"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option type-chip ${x==="correctivo"?"selected":""}`,onClick:()=>E("correctivo"),children:" Correctivo"}),f.jsx("button",{type:"button",className:`chip-option type-chip ${x==="evolutivo"?"selected":""}`,onClick:()=>E("evolutivo"),children:" Evolutivo"}),f.jsx("button",{type:"button",className:`chip-option type-chip ${x==="tarea"?"selected":""}`,onClick:()=>E("tarea"),children:" Tarea"})]})]})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),f.jsx("button",{type:"button",className:"btn-delete-incident",onClick:T,children:" Eliminar Incidencia"})]})]})]})}),f.jsxs("div",{className:"detail-sidebar",children:[f.jsx("div",{className:"incident-detail-card",children:f.jsx(Ate,{incidentId:e.id,incidentName:e.name,prQA2List:e.prQA2List||[],prMainList:e.prMainList||[],ownerName:j,onAddPR:c,onRemovePR:d,onUpdatePR:p})}),f.jsx("div",{className:"incident-detail-card",children:f.jsx(bte,{incidentId:e.id,tags:e.tags||[],allAvailableTags:u,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l})}),f.jsx("div",{className:"incident-detail-card",children:f.jsx(_te,{incidentId:e.id,comments:e.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},Cte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>f.jsxs("div",{className:"tabs-container",children:[f.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),f.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),f.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),f.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(s=>f.jsxs("div",{className:`tab-incident ${n===s.id?"active":""}`,onClick:()=>i==null?void 0:i(s.id),children:[f.jsxs("span",{className:"tab-incident-name",children:[" ",s.name]}),f.jsx("button",{className:"tab-incident-close",onClick:o=>{o.stopPropagation(),a==null||a(s.id)},children:""})]},s.id))]});function Ite({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,s]=_.useState(""),[o,l]=_.useState(n?[n]:[]),[u,c]=_.useState([]),[d,p]=_.useState([]),[m,g]=_.useState([]),[w,v]=_.useState(""),[x,E]=_.useState("");_.useEffect(()=>{n&&l([n])},[n]),_.useEffect(()=>{let C=[...e];if(a.trim()){const k=a.toLowerCase();C=C.filter(O=>O.name.toLowerCase().includes(k)||O.contactUser.toLowerCase().includes(k)||O.prQA2.toLowerCase().includes(k)||O.prMain.toLowerCase().includes(k)||O.comments&&O.comments.some(Q=>Q.text.toLowerCase().includes(k)||Q.author.toLowerCase().includes(k)))}o.length>0&&(C=C.filter(k=>o.includes(k.status))),u.length>0&&(C=C.filter(k=>u.includes(k.priority))),d.length>0&&(C=C.filter(k=>d.includes(k.type))),m.length>0&&(C=C.filter(k=>m.some(O=>k.tags&&k.tags.includes(O)))),w&&(C=C.filter(k=>new Date(k.creationDate).getFullYear()>=parseInt(w))),x&&(C=C.filter(k=>new Date(k.creationDate).getFullYear()<=parseInt(x))),t(C)},[a,o,u,d,m,w,x,e,t]);const A=()=>{s(""),l([]),c([]),p([]),g([]),v(""),E(""),t(e),i&&i()},j=()=>{l([]),i&&i()},T=C=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[C]||C,N=C=>{l(k=>k.includes(C)?k.filter(O=>O!==C):[...k,C])},b=C=>{c(k=>k.includes(C)?k.filter(O=>O!==C):[...k,C])},S=C=>{p(k=>k.includes(C)?k.filter(O=>O!==C):[...k,C])},I=C=>{g(k=>k.includes(C)?k.filter(O=>O!==C):[...k,C])},D=(a?1:0)+o.length+u.length+d.length+m.length+(w?1:0)+(x?1:0);return f.jsxs("div",{className:"advanced-search",children:[n&&f.jsxs("div",{className:"status-filter-banner",children:[f.jsxs("span",{children:[" Filtrando por estado: ",f.jsx("strong",{children:T(n)})]}),f.jsx("button",{onClick:j,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),f.jsx("div",{className:"search-header",children:f.jsx("h3",{children:" Bsqueda Avanzada"})}),f.jsxs("div",{className:"search-main",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:C=>s(C.target.value),className:"search-input"}),f.jsxs("button",{className:"btn-reset",onClick:A,children:[" Limpiar Filtros",D>0&&f.jsx("span",{className:"filters-badge-inline",children:D})]})]}),f.jsxs("div",{className:"filters-panel",children:[f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Estado"}),f.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(C=>f.jsxs("button",{className:`filter-chip ${o.includes(C)?"active":""}`,onClick:()=>N(C),children:[C==="abierta"&&"Abierta",C==="en-progreso"&&"En Progreso",C==="puesto-en-test"&&"Puesto en Test",C==="verificado-en-test"&&"Verificado en Test",C==="resuelta"&&"Resuelta",C==="cerrada"&&"Cerrada"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Prioridad"}),f.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(C=>f.jsxs("button",{className:`filter-chip priority-${C} ${u.includes(C)?"active":""}`,onClick:()=>b(C),children:[C==="baja"&&" Baja",C==="media"&&" Media",C==="alta"&&" Alta",C==="crtica"&&" Crtica"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Tipo"}),f.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(C=>f.jsxs("button",{className:`filter-chip ${d.includes(C)?"active":""}`,onClick:()=>S(C),children:[C==="correctivo"&&" Correctivo",C==="evolutivo"&&" Evolutivo",C==="tarea"&&" Tarea"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Rango de Aos"}),f.jsxs("div",{className:"date-filters",children:[f.jsxs("div",{className:"date-input-group",children:[f.jsx("label",{children:"Desde:"}),f.jsxs("select",{value:w,onChange:C=>v(C.target.value),className:"date-input",children:[f.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(C=>new Date(C.creationDate).getFullYear()))).sort((C,k)=>C-k).map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsxs("div",{className:"date-input-group",children:[f.jsx("label",{children:"Hasta:"}),f.jsxs("select",{value:x,onChange:C=>E(C.target.value),className:"date-input",children:[f.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(C=>new Date(C.creationDate).getFullYear()))).sort((C,k)=>C-k).map(C=>f.jsx("option",{value:C,children:C},C))]})]})]})]}),r.length>0&&f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:" Etiquetas"}),f.jsx("div",{className:"filter-chips",children:r.map(C=>f.jsx("button",{className:`filter-chip tag-chip ${m.includes(C)?"active":""}`,onClick:()=>I(C),children:C},C))})]})]})]})}const jte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:s})=>{const[o,l]=_.useState(e||[]),[u,c]=_.useState(""),[d,p]=_.useState("asc"),[m,g]=_.useState({show:!1,incident:null});_.useEffect(()=>{l(e||[])},[e]);const w=b=>{const S=u===b&&d==="asc"?"desc":"asc";c(b),p(S);const I=[...o].sort((D,C)=>{let k=D[b],O=C[b];if((b==="creationDate"||b==="createdAt"||b==="updatedAt")&&(k=new Date(k).getTime(),O=new Date(O).getTime()),typeof k=="string"&&typeof O=="string")return S==="asc"?k.localeCompare(O):O.localeCompare(k);if(k!==void 0&&O!==void 0){if(k<O)return S==="asc"?-1:1;if(k>O)return S==="asc"?1:-1}return 0});l(I)},v=b=>u!==b?"":d==="asc"?"":"",x=b=>new Date(b).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),E=b=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[b]||b,A=b=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[b]||b,j=b=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[b]||b,T=b=>!b||!Array.isArray(b)||b.length===0?"":b.filter(S=>S&&S.link).map(S=>{const I=S.link.split("/");return I[I.length-1]||""}).filter(S=>S).join(", ")||"",N=()=>{const b=O=>{if(O==null)return"";const Q=String(O);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},I=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(O=>b(O)).join(";"),...o.map(O=>[b(O.id),b(O.name),b(E(O.status)),b(A(O.priority)),b(j(O.type)),b(O.contactUser||""),b(O.prQA2||""),b(O.prMain||""),b(O.creationDate),b(x(O.createdAt)),b(x(O.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),k=URL.createObjectURL(D);C.setAttribute("href",k),C.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return e.length===0?f.jsx("div",{className:"all-incidents-empty",children:f.jsx("p",{children:"No hay incidencias para mostrar"})}):f.jsxs("div",{className:"all-incidents-table-container",children:[f.jsx("div",{className:"search-sidebar",children:f.jsx(Ite,{incidents:e,onResults:l,allAvailableTags:ge.getAllTags(),initialStatus:a,onClearStatusFilter:s})}),f.jsxs("div",{className:"table-content",children:[f.jsxs("div",{className:"table-actions",children:[f.jsxs("p",{className:"filter-results",children:["Mostrando ",o.length," de ",e.length," incidencias"]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&f.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),f.jsx("button",{className:"btn-export-excel",onClick:N,children:" Exportar a Excel"})]})]}),f.jsx("div",{className:"table-wrapper",children:f.jsxs("table",{className:"all-incidents-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsxs("th",{onClick:()=>w("name"),className:"sortable-header col-name",children:["Nombre ",v("name")]}),f.jsxs("th",{onClick:()=>w("status"),className:"sortable-header col-status",children:["Estado ",v("status")]}),f.jsxs("th",{onClick:()=>w("priority"),className:"sortable-header col-priority",children:["Prioridad ",v("priority")]}),f.jsxs("th",{onClick:()=>w("type"),className:"sortable-header col-type",children:["Tipo ",v("type")]}),f.jsxs("th",{onClick:()=>w("contactUser"),className:"sortable-header col-contact",children:["Contacto ",v("contactUser")]}),f.jsxs("th",{onClick:()=>w("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",v("prQA2")]}),f.jsxs("th",{onClick:()=>w("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",v("prMain")]}),f.jsx("th",{className:"col-actions",children:"Acciones"})]})}),f.jsx("tbody",{children:o.map(b=>f.jsxs("tr",{className:`row-priority-${b.priority} incident-row-clickable`,onClick:()=>n(b),onMouseDown:S=>{if(S.button===1){S.preventDefault();const I=`${window.location.origin}${window.location.pathname}?incident=${b.id}`;window.open(I,"_blank")}},children:[f.jsx("td",{className:"name-cell",title:b.name,children:b.name}),f.jsx("td",{title:E(b.status),children:f.jsx("span",{className:`status-badge status-${b.status}`,children:E(b.status)})}),f.jsx("td",{title:A(b.priority),children:f.jsx("span",{className:`priority-badge priority-${b.priority}`,children:A(b.priority)})}),f.jsx("td",{title:j(b.type),children:f.jsx("span",{className:`type-badge type-${b.type}`,children:j(b.type)})}),f.jsx("td",{className:"contact-cell",title:b.contactUser||"",children:b.contactUser||""}),f.jsx("td",{className:"pr-cell",title:T(b.prQA2List),children:T(b.prQA2List)}),f.jsx("td",{className:"pr-cell",title:T(b.prMainList),children:T(b.prMainList)}),f.jsx("td",{className:"actions-cell",onClick:S=>S.stopPropagation(),children:f.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:b}),title:"Eliminar incidencia",children:""})})]},b.id))})]})})]}),m.show&&m.incident&&f.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:f.jsxs("div",{className:"delete-modal",onClick:b=>b.stopPropagation(),children:[f.jsx("div",{className:"delete-modal-header",children:f.jsx("h3",{children:" Confirmar Eliminacin"})}),f.jsxs("div",{className:"delete-modal-body",children:[f.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),f.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),f.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),f.jsxs("div",{className:"delete-modal-actions",children:[f.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),f.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function Nte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=_.useState(!1),[s,o]=_.useState(null),[l,u]=_.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const w={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};s?(r(s.id,w),o(null)):t(w),d()},d=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var w,v,x,E,A;o(g),u({name:g.name,trigger:g.trigger,conditionField:((w=g.conditions[0])==null?void 0:w.field)||"type",conditionOperator:((v=g.conditions[0])==null?void 0:v.operator)||"equals",conditionValue:((x=g.conditions[0])==null?void 0:x.value.toString())||"",actionType:((E=g.actions[0])==null?void 0:E.type)||"set-priority",actionValue:((A=g.actions[0])==null?void 0:A.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return f.jsxs("div",{className:"automation-rules-container",children:[f.jsxs("div",{className:"rules-header",children:[f.jsxs("div",{className:"header-title",children:[f.jsx("h2",{children:" Reglas de Automatizacin"}),f.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),f.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&f.jsx("form",{className:"rule-form",onSubmit:c,children:f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:s?"Editar Regla":"Nueva Regla"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre de la regla"}),f.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Disparador"}),f.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[f.jsx("option",{value:"on-create",children:"Al crear incidencia"}),f.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),f.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),f.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"SI"})}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Campo"}),f.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[f.jsx("option",{value:"type",children:"Tipo"}),f.jsx("option",{value:"priority",children:"Prioridad"}),f.jsx("option",{value:"status",children:"Estado"}),f.jsx("option",{value:"days-open",children:"Das abierta"}),f.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Operador"}),f.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[f.jsx("option",{value:"equals",children:"Es igual a"}),f.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"greater-than",children:"Mayor que"}),f.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&f.jsx("option",{value:"contains",children:"Contiene"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor"}),l.conditionField==="type"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),f.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?f.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):f.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"ENTONCES"})}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Accin"}),f.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[f.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),f.jsx("option",{value:"set-status",children:"Cambiar estado"}),f.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),f.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?f.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?f.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),f.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]}):f.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save-rule",children:s?" Actualizar Regla":" Crear Regla"}),f.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:d,children:"Cancelar"})]})]})}),f.jsx("div",{className:"rules-list",children:e.length===0?f.jsxs("div",{className:"no-rules",children:[f.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),f.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>f.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[f.jsxs("div",{className:"rule-header-card",children:[f.jsxs("div",{className:"rule-info",children:[f.jsx("h3",{children:g.name}),f.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),f.jsxs("div",{className:"rule-actions",children:[f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:g.enabled,onChange:w=>r(g.id,{enabled:w.target.checked})}),f.jsx("span",{className:"toggle-slider"})]}),f.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),f.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),f.jsxs("div",{className:"rule-logic",children:[f.jsxs("div",{className:"logic-section",children:[f.jsx("span",{className:"logic-label",children:"SI:"}),f.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((w,v)=>f.jsxs("span",{className:"condition-badge",children:[w.field," ",w.operator," ",w.value]},v))})]}),f.jsx("div",{className:"logic-arrow",children:""}),f.jsxs("div",{className:"logic-section",children:[f.jsx("span",{className:"logic-label",children:"ENTONCES:"}),f.jsx("div",{className:"logic-content",children:(g.actions||[]).map((w,v)=>f.jsxs("span",{className:"action-badge",children:[w.type,": ",w.value]},v))})]})]})]},g.id))})]})}function Ote({currentUser:e}){const[t,r]=_.useState([]),[n,i]=_.useState([]),[a,s]=_.useState(new Map),[o,l]=_.useState(!1),[u,c]=_.useState(null),[d,p]=_.useState({username:"",password:"",name:"",email:"",avatar:"",roleId:""}),[m,g]=_.useState(!1),[w,v]=_.useState(null);_.useEffect(()=>{const b=a5(S=>{console.log("Usuarios actualizados en tiempo real:",S),r(S)});return()=>{b()}},[]),_.useEffect(()=>{const b=CN(S=>{i(S)});return()=>{b()}},[]),_.useEffect(()=>{const b=async()=>{const S=new Map;for(const I of t)if(I.roleId){const D=await $w(I.roleId);D&&S.set(I.id,D)}s(S)};t.length>0&&b()},[t]);const x=(b,S)=>{v({type:b,message:S}),setTimeout(()=>v(null),3e3)},E=()=>{p({username:"",password:"",name:"",email:"",avatar:"",roleId:""}),l(!1),c(null),g(!1)},A=async b=>{if(b.preventDefault(),!d.username.trim()||!d.password.trim()||!d.name.trim()){x("error","Usuario, contrasea y nombre son obligatorios");return}if(!d.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{if(await EN(d.username.toLowerCase())){x("error","Ya existe un usuario con ese nombre");return}await kf({username:d.username,password:d.password,name:d.name,email:d.email||void 0,avatar:d.avatar,roleId:d.roleId,createdAt:new Date().toISOString()}),x("success",`Usuario "${d.username}" creado correctamente`),E()}catch(S){console.error("Error creating user:",S),x("error",S instanceof Error?S.message:"Error al crear usuario")}},j=async b=>{if(b.preventDefault(),!!u){if(!d.name.trim()){x("error","El nombre es obligatorio");return}if(!d.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{const S={name:d.name,email:d.email||void 0,avatar:d.avatar,roleId:d.roleId};d.password.trim()&&(S.password=d.password),await SN(u.id,S),x("success",`Usuario "${u.username}" actualizado correctamente`),E()}catch(S){console.error("Error updating user:",S),x("error",S instanceof Error?S.message:"Error al actualizar usuario")}}},T=b=>{c(b),p({username:b.username,password:"",name:b.name,email:b.email||"",avatar:b.avatar||"",roleId:b.roleId||""}),l(!0)},N=async b=>{if(b.id===e.id){x("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${b.username}"?`))try{await Z$(b.id),x("success",`Usuario "${b.username}" eliminado correctamente`)}catch(S){console.error("Error deleting user:",S),x("error",S instanceof Error?S.message:"Error al eliminar usuario")}};return f.jsxs("div",{className:"user-management",children:[f.jsxs("div",{className:"user-management-header",children:[f.jsx("h3",{children:" Gestin de Usuarios"}),!o&&f.jsx("button",{className:"btn-create-user",onClick:()=>l(!0),children:" Crear Usuario"})]}),w&&f.jsxs("div",{className:`user-notification user-notification-${w.type}`,children:[w.type==="success"?"":""," ",w.message]}),o&&f.jsx("div",{className:"user-form-container",children:f.jsxs("form",{className:"user-form",onSubmit:u?j:A,children:[f.jsx("h4",{children:u?" Editar Usuario":" Nuevo Usuario"}),f.jsxs("div",{className:"user-form-row",children:[f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"username",children:"Usuario *"}),f.jsx("input",{id:"username",type:"text",value:d.username,onChange:b=>p({...d,username:b.target.value}),placeholder:"Nombre de usuario",disabled:!!u,required:!0}),u&&f.jsx("small",{className:"field-hint",children:"El usuario no se puede cambiar"})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),f.jsx("input",{id:"name",type:"text",value:d.name,onChange:b=>p({...d,name:b.target.value}),placeholder:"Nombre completo del usuario",required:!0})]})]}),f.jsxs("div",{className:"user-form-row",children:[f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:d.email,onChange:b=>p({...d,email:b.target.value}),placeholder:"correo@ejemplo.com"})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"roleId",children:"Rol *"}),f.jsxs("select",{id:"roleId",value:d.roleId,onChange:b=>p({...d,roleId:b.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar rol..."}),n.map(b=>f.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{children:"Avatar"}),f.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(b=>f.jsx("button",{type:"button",className:`avatar-option ${d.avatar===b?"selected":""}`,onClick:()=>p({...d,avatar:b}),children:b},b))})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"password",children:u?"Nueva Contrasea (dejar vaco para no cambiar)":"Contrasea *"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{id:"password",type:m?"text":"password",value:d.password,onChange:b=>p({...d,password:b.target.value}),placeholder:u?"Nueva contrasea (opcional)":"Contrasea",required:!u}),f.jsxs("label",{className:"show-password-toggle",children:[f.jsx("input",{type:"checkbox",checked:m,onChange:b=>g(b.target.checked)}),f.jsx("span",{children:"Mostrar contrasea"})]})]})]}),f.jsxs("div",{className:"user-form-actions",children:[f.jsx("button",{type:"submit",className:"btn-submit",children:u?" Guardar Cambios":" Crear Usuario"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:E,children:" Cancelar"})]})]})}),f.jsxs("div",{className:"users-list",children:[f.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),f.jsx("div",{className:"users-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Avatar"}),f.jsx("th",{children:"Usuario"}),f.jsx("th",{children:"Nombre"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"Rol"}),f.jsx("th",{children:"Fecha de Creacin"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(b=>{var S;return f.jsxs("tr",{className:b.id===e.id?"current-user":"",children:[f.jsx("td",{children:f.jsx("span",{className:"user-avatar",children:b.avatar||""})}),f.jsx("td",{children:f.jsxs("span",{className:"user-username",children:[b.username,b.id===e.id&&f.jsx("span",{className:"badge-current",children:" (T)"})]})}),f.jsx("td",{children:b.name}),f.jsx("td",{children:b.email||f.jsx("span",{className:"text-muted",children:"Sin email"})}),f.jsx("td",{children:f.jsx("span",{className:"role-badge",children:((S=a.get(b.id))==null?void 0:S.name)||f.jsx("span",{className:"text-muted",children:"Sin rol"})})}),f.jsx("td",{children:new Date(b.createdAt).toLocaleDateString("es-ES")}),f.jsx("td",{children:f.jsxs("div",{className:"user-actions",children:[f.jsx("button",{className:"btn-edit",onClick:()=>T(b),title:"Editar usuario",children:""}),f.jsx("button",{className:"btn-delete",onClick:()=>N(b),disabled:b.id===e.id,title:b.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},b.id)})})]})})]})]})}const n0=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function kte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=_.useState(t),a=async s=>{i(s),e(s);try{await J$(r.id,{...r.preferences,theme:s})}catch(o){console.error("Error saving theme preference:",o)}};return f.jsxs("div",{className:"appearance-settings",children:[f.jsx("h3",{children:" Apariencia"}),f.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),f.jsx("div",{className:"theme-grid",children:n0.map(s=>f.jsxs("div",{className:`theme-card ${n===s.id?"active":""}`,onClick:()=>a(s.id),children:[f.jsx("div",{className:"theme-preview",style:{background:s.preview},children:n===s.id&&f.jsx("div",{className:"theme-check",children:""})}),f.jsx("div",{className:"theme-name",children:s.name})]},s.id))}),n!==t&&f.jsx("div",{className:"theme-info",children:f.jsx("p",{children:" Tema aplicado correctamente"})})]})}const Cs={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},Fg="app_general_settings";function Rte({onSettingsChange:e}){const[t,r]=_.useState(()=>{try{const c=localStorage.getItem(Fg);return c?{...Cs,...JSON.parse(c)}:Cs}catch(c){return console.error("Error loading settings:",c),Cs}}),[n,i]=_.useState(null),a=(c,d)=>{const p={...t,[c]:d};r(p),localStorage.setItem(Fg,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},s=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(Cs),localStorage.setItem(Fg,JSON.stringify(Cs)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},o=async()=>{try{const c=await bN(),d=await bu(),p=await kl(),m=await PN(),g={incidents:c,users:d,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},w=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),v=URL.createObjectURL(w),x=document.createElement("a");x.href=v,x.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(v),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const d=(m=c.target.files)==null?void 0:m[0];if(!d)return;const p=new FileReader;p.onload=async g=>{var w;try{const v=JSON.parse((w=g.target)==null?void 0:w.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(v)){if(!v.every(E=>E.id&&E.name&&E.title&&E.status&&E.priority&&E.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const E of v)await ry(E)}else{if(v.incidents)for(const x of v.incidents)await ry(x);if(v.users)for(const x of v.users)await kf(x);if(v.automationRules)for(const x of v.automationRules)await AN(x);v.settings&&(await TN(v.settings),r({...Cs,...v.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(v){console.error("Import error:",v),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(d)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return f.jsxs("div",{className:"general-settings",children:[n&&f.jsx("div",{className:"settings-notification",children:n}),f.jsxs("div",{className:"settings-header",children:[f.jsx("h2",{children:" Configuracin General"}),f.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),f.jsxs("div",{className:"settings-sections",children:[f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Interfaz"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),f.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),f.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[f.jsx("option",{value:"2000",children:"2 segundos"}),f.jsx("option",{value:"3000",children:"3 segundos"}),f.jsx("option",{value:"4000",children:"4 segundos"}),f.jsx("option",{value:"5000",children:"5 segundos"}),f.jsx("option",{value:"7000",children:"7 segundos"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),f.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),f.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[f.jsx("option",{value:"5",children:"5"}),f.jsx("option",{value:"10",children:"10"}),f.jsx("option",{value:"20",children:"20"}),f.jsx("option",{value:"50",children:"50"}),f.jsx("option",{value:"100",children:"100"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Vista compacta"}),f.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("label",{children:[f.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),f.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),f.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Valores por Defecto"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Formato de fecha"}),f.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),f.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[f.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),f.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),f.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),f.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),f.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),f.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),f.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Comportamiento"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Autoguardado"}),f.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),f.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[f.jsx("option",{value:"15000",children:"15 segundos"}),f.jsx("option",{value:"30000",children:"30 segundos"}),f.jsx("option",{value:"60000",children:"1 minuto"}),f.jsx("option",{value:"120000",children:"2 minutos"}),f.jsx("option",{value:"0",children:"Desactivado"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),f.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),f.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),f.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),f.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[f.jsx("option",{value:"30000",children:"30 segundos"}),f.jsx("option",{value:"60000",children:"1 minuto"}),f.jsx("option",{value:"120000",children:"2 minutos"}),f.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Gestin de Datos"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Exportar datos"}),f.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),f.jsx("button",{className:"btn-export",onClick:o,children:" Exportar Todo"})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Importar datos"}),f.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),f.jsxs("label",{className:"btn-import",children:[" Importar",f.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),f.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),f.jsx("button",{className:"btn-reset",onClick:s,children:" Restaurar"})]}),f.jsxs("div",{className:"setting-item danger-zone",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:" Zona de peligro"}),f.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),f.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function Dte({onLogin:e}){const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,s]=_.useState(!1),[o,l]=_.useState("");_.useEffect(()=>{const c=localStorage.getItem("saved_username"),d=localStorage.getItem("saved_password");c&&d&&(r(c),i(d),s(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const d=await EN(t.toLowerCase());d&&d.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(d)),e(d)):l("Usuario o contrasea incorrectos")}catch(d){console.error("Error durante login:",d),l("Error al iniciar sesin. Intenta nuevamente.")}};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:"login-card",children:[f.jsxs("div",{className:"login-header",children:[f.jsx(Y2,{}),f.jsx("h1",{children:"Sistema de Incidencias"}),f.jsx("p",{children:"Inicia sesin para continuar"})]}),f.jsxs("form",{className:"login-form",onSubmit:u,children:[o&&f.jsxs("div",{className:"login-error",children:[" ",o]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{htmlFor:"username",children:"Usuario"}),f.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),f.jsx("div",{className:"login-remember",children:f.jsxs("label",{className:"remember-checkbox",children:[f.jsx("input",{type:"checkbox",checked:a,onChange:c=>s(c.target.checked)}),f.jsx("span",{children:"Guardar credenciales"})]})}),f.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function Mte({currentUser:e,onUpdate:t}){const[r,n]=_.useState({name:e.name,email:e.email||"",password:"",confirmPassword:"",avatar:e.avatar||""}),[i,a]=_.useState(null),[s,o]=_.useState(null),[l,u]=_.useState(!1);_.useEffect(()=>{(async()=>{if(e.roleId){const g=await $w(e.roleId);a(g)}})()},[e.roleId]);const c=(m,g)=>{o({type:m,message:g}),setTimeout(()=>o(null),3e3)},d=async m=>{if(m.preventDefault(),!r.name.trim()){c("error","El nombre es obligatorio");return}if(r.password&&r.password!==r.confirmPassword){c("error","Las contraseas no coinciden");return}try{const g={name:r.name,email:r.email,avatar:r.avatar};r.password&&(g.password=r.password),await SN(e.id,g),c("success","Perfil actualizado correctamente"),t(),n(w=>({...w,password:"",confirmPassword:""}))}catch(g){console.error("Error updating profile:",g),c("error","Error al actualizar el perfil")}},p=["","","","","","","","","","","",""];return f.jsxs("div",{className:"user-profile",children:[f.jsxs("div",{className:"profile-header",children:[f.jsx("h2",{children:" Mi Perfil"}),f.jsx("p",{className:"profile-description",children:"Administra tu informacin personal"})]}),s&&f.jsx("div",{className:`profile-notification profile-notification-${s.type}`,children:s.message}),f.jsxs("div",{className:"profile-content",children:[f.jsxs("div",{className:"profile-info-card",children:[f.jsx("h3",{children:"Informacin de la cuenta"}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Usuario:"}),f.jsx("span",{className:"info-value",children:e.username})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Rol:"}),f.jsx("span",{className:"info-value",children:(i==null?void 0:i.name)||"Sin rol"})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Fecha de creacin:"}),f.jsx("span",{className:"info-value",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),f.jsxs("form",{className:"profile-form",onSubmit:d,children:[f.jsx("h3",{children:"Editar informacin"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"avatar",children:"Avatar"}),f.jsx("div",{className:"avatar-selector",children:p.map(m=>f.jsx("button",{type:"button",className:`avatar-option ${r.avatar===m?"selected":""}`,onClick:()=>n({...r,avatar:m}),children:m},m))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"name",children:"Nombre completo *"}),f.jsx("input",{id:"name",type:"text",value:r.name,onChange:m=>n({...r,name:m.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:r.email,onChange:m=>n({...r,email:m.target.value})})]}),f.jsx("div",{className:"form-divider",children:f.jsx("h4",{children:"Cambiar contrasea (opcional)"})}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Nueva contrasea"}),f.jsxs("div",{className:"password-input",children:[f.jsx("input",{id:"password",type:l?"text":"password",value:r.password,onChange:m=>n({...r,password:m.target.value}),placeholder:"Dejar vaco para no cambiar"}),f.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!l),children:l?"":""})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),f.jsx("input",{id:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:m=>n({...r,confirmPassword:m.target.value}),placeholder:"Confirmar nueva contrasea"})]}),f.jsx("div",{className:"form-actions",children:f.jsx("button",{type:"submit",className:"btn-save",children:" Guardar cambios"})})]}),i&&f.jsxs("div",{className:"profile-permissions-card",children:[f.jsx("h3",{children:" Permisos de tu rol"}),f.jsxs("div",{className:"permissions-grid",children:[f.jsxs("div",{className:"permission-category",children:[f.jsx("h4",{children:" Incidencias"}),f.jsxs("ul",{children:[f.jsxs("li",{className:i.permissions.incidents.create?"allowed":"denied",children:[i.permissions.incidents.create?"":""," Crear"]}),f.jsxs("li",{className:i.permissions.incidents.update?"allowed":"denied",children:[i.permissions.incidents.update?"":""," Editar"]}),f.jsxs("li",{className:i.permissions.incidents.delete?"allowed":"denied",children:[i.permissions.incidents.delete?"":""," Eliminar"]}),f.jsxs("li",{className:i.permissions.incidents.viewAll?"allowed":"denied",children:[i.permissions.incidents.viewAll?"":""," Ver todas"]})]})]}),f.jsxs("div",{className:"permission-category",children:[f.jsx("h4",{children:" Usuarios"}),f.jsxs("ul",{children:[f.jsxs("li",{className:i.permissions.users.viewOwn?"allowed":"denied",children:[i.permissions.users.viewOwn?"":""," Ver propio"]}),f.jsxs("li",{className:i.permissions.users.editOwn?"allowed":"denied",children:[i.permissions.users.editOwn?"":""," Editar propio"]}),f.jsxs("li",{className:i.permissions.users.viewAll?"allowed":"denied",children:[i.permissions.users.viewAll?"":""," Ver todos"]}),f.jsxs("li",{className:i.permissions.users.edit?"allowed":"denied",children:[i.permissions.users.edit?"":""," Editar otros"]})]})]})]})]})]})]})}const Lte=({currentUser:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(""),[a,s]=_.useState(!1),[o,l]=_.useState(null),[u,c]=_.useState(null),[d,p]=_.useState({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}});_.useEffect(()=>{const T=CN(N=>{r(N)});return()=>T()},[]);const m=(T,N)=>{c({type:T,message:N}),setTimeout(()=>c(null),5e3)},g=T=>{T?(l(T),p({name:T.name,permissions:{...T.permissions}})):(l(null),p({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}})),s(!0)},w=()=>{s(!1),l(null)},v=(T,N,b)=>{p(S=>({...S,permissions:{...S.permissions,[T]:{...S.permissions[T],[N]:b}}}))},x=async T=>{if(T.preventDefault(),!d.name.trim()){m("error","El nombre del rol es obligatorio");return}try{o?(await o5(o.id,{name:d.name,permissions:d.permissions}),m("success","Rol actualizado correctamente")):(await Fd({name:d.name,permissions:d.permissions,isSystem:!1,createdAt:new Date().toISOString()}),m("success","Rol creado correctamente")),w()}catch(N){console.error("Error al guardar rol:",N),m("error","Error al guardar el rol")}},E=async T=>{if(T.isSystem){m("error","No se pueden eliminar roles del sistema");return}if(window.confirm(`Ests seguro de que deseas eliminar el rol "${T.name}"?`))try{await l5(T.id),m("success","Rol eliminado correctamente")}catch(N){console.error("Error al eliminar rol:",N),m("error","Error al eliminar el rol")}},A=t.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())),j=T=>{const N=[];return T.incidents.create&&T.incidents.update&&T.incidents.delete?N.push("Incidencias: Completo"):T.incidents.read&&N.push("Incidencias: Lectura"),T.users.viewAll&&T.users.create&&T.users.edit&&T.users.delete?N.push("Usuarios: Completo"):T.users.viewOwn&&N.push("Usuarios: Propio"),T.roles.create&&T.roles.edit&&T.roles.delete&&N.push("Roles: Completo"),T.settings.edit?N.push("Configuracin: Edicin"):T.settings.view&&N.push("Configuracin: Vista"),T.automation.create&&T.automation.edit&&T.automation.delete&&N.push("Automatizacin: Completo"),N.join("  ")||"Sin permisos especiales"};return f.jsxs("div",{className:"role-management",children:[f.jsxs("div",{className:"role-header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:"Gestin de Roles"}),f.jsx("p",{className:"role-description",children:"Crea y administra roles con permisos personalizados"})]}),f.jsx("button",{className:"btn-create-role",onClick:()=>g(),children:"+ Crear Rol"})]}),u&&f.jsx("div",{className:`role-notification role-notification-${u.type}`,children:u.message}),f.jsx("div",{className:"role-search",children:f.jsx("input",{type:"text",placeholder:"Buscar roles...",value:n,onChange:T=>i(T.target.value),className:"search-input"})}),f.jsx("div",{className:"roles-grid",children:A.map(T=>f.jsxs("div",{className:"role-card",children:[f.jsxs("div",{className:"role-card-header",children:[f.jsx("h3",{children:T.name}),T.isSystem&&f.jsx("span",{className:"system-badge",children:"Sistema"})]}),f.jsx("p",{className:"role-summary",children:j(T.permissions)}),f.jsxs("div",{className:"role-card-actions",children:[f.jsx("button",{className:"btn-edit",onClick:()=>g(T),disabled:T.isSystem,children:"Editar"}),f.jsx("button",{className:"btn-delete",onClick:()=>E(T),disabled:T.isSystem,children:"Eliminar"})]})]},T.id))}),a&&f.jsx("div",{className:"modal-overlay",onClick:w,children:f.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:o?"Editar Rol":"Crear Rol"}),f.jsx("button",{className:"modal-close",onClick:w,children:""})]}),f.jsxs("form",{onSubmit:x,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre del Rol *"}),f.jsx("input",{type:"text",value:d.name,onChange:T=>p({...d,name:T.target.value}),placeholder:"Ej: Editor, Supervisor, etc.",required:!0})]}),f.jsxs("div",{className:"permissions-section",children:[f.jsx("h3",{children:"Permisos"}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Incidencias"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.create,onChange:T=>v("incidents","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.read,onChange:T=>v("incidents","read",T.target.checked)}),"Leer"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.update,onChange:T=>v("incidents","update",T.target.checked)}),"Actualizar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.delete,onChange:T=>v("incidents","delete",T.target.checked)}),"Eliminar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.viewAll,onChange:T=>v("incidents","viewAll",T.target.checked)}),"Ver Todas"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Usuarios"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.viewOwn,onChange:T=>v("users","viewOwn",T.target.checked)}),"Ver Propio"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.editOwn,onChange:T=>v("users","editOwn",T.target.checked)}),"Editar Propio"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.viewAll,onChange:T=>v("users","viewAll",T.target.checked)}),"Ver Todos"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.create,onChange:T=>v("users","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.edit,onChange:T=>v("users","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.delete,onChange:T=>v("users","delete",T.target.checked)}),"Eliminar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Roles"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.view,onChange:T=>v("roles","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.create,onChange:T=>v("roles","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.edit,onChange:T=>v("roles","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.delete,onChange:T=>v("roles","delete",T.target.checked)}),"Eliminar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Configuracin"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.settings.view,onChange:T=>v("settings","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.settings.edit,onChange:T=>v("settings","edit",T.target.checked)}),"Editar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Automatizacin"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.view,onChange:T=>v("automation","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.create,onChange:T=>v("automation","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.edit,onChange:T=>v("automation","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.delete,onChange:T=>v("automation","delete",T.target.checked)}),"Eliminar"]})]})]})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{type:"button",className:"btn-cancel",onClick:w,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-save",children:o?"Guardar Cambios":"Crear Rol"})]})]})]})})]})};function Vte(){const[e,t]=_.useState(null),[r,n]=_.useState(null),[i,a]=_.useState([]),[s,o]=_.useState([]),[l,u]=_.useState(null),[c,d]=_.useState(null),[p,m]=_.useState("dashboard"),[g,w]=_.useState("profile"),[v,x]=_.useState(null),[E,A]=_.useState("purple-gradient"),[j,T]=_.useState([]),[N,b]=_.useState(null),[S,I]=_.useState(!1),[D,C]=_.useState(!1),k=e?i.filter(z=>z.userId===e.id):[],O=z=>{try{console.log("Changing tab to:",z),I(!0),setTimeout(()=>{m(z),I(!1)},100)}catch(H){console.error("Error changing tab:",H),I(!1)}},Q=z=>{I(!0),setTimeout(()=>{j.find(H=>H.id===z.id)||T([...j,z]),x(z),m("incident-detail"),I(!1)},100)};_.useEffect(()=>{(async()=>{try{await u5();const Z=yr.getCurrentUser();if(t(Z),Z){const ht=await e5(Z.id);ht.theme&&A(ht.theme)}const ce=await kl();o(ce);const we=new URLSearchParams(window.location.search).get("incident");if(we){const ht=await Da(we);ht&&(x(ht),m("incident-detail"))}}catch(Z){console.error("Error loading data:",Z),b({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const H=i5(Z=>{console.log("Incidencias actualizadas en tiempo real:",Z),a(Z),x(ce=>ce&&(Z.find(we=>we.id===ce.id)||ce)),T(ce=>ce.map(he=>Z.find(ht=>ht.id===he.id)||he))});return()=>{H()}},[]),_.useEffect(()=>{(async()=>{if(e!=null&&e.roleId)try{const H=await $w(e.roleId);n(H)}catch(H){console.error("Error loading user role:",H)}else n(null)})()},[e]),_.useEffect(()=>{if(N){const z=setTimeout(()=>{b(null)},4e3);return()=>clearTimeout(z)}},[N]);const se=async z=>{try{const H={...z,userId:e.id},Z=ge.applyAutomationRules(H,"on-create");await ry(Z),b({type:"success",message:` Incidencia "${z.name}" creada correctamente`,incidentId:z.id})}catch(H){console.error("Error adding incident:",H),b({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},de=async z=>{console.log("handleUpdateIncident llamado con:",z);try{await fn(z.id,z),u(null),console.log("Mostrando notificacin"),b({type:"success",message:` Incidencia "${z.name}" actualizada correctamente`,incidentId:z.id})}catch(H){console.error("Error updating incident:",H),b({type:"error",message:"Error al actualizar la incidencia."})}},oe=async z=>{try{await X$(z),T(j.filter(H=>H.id!==z)),(v==null?void 0:v.id)===z&&(x(null),m("all-incidents"))}catch(H){console.error("Error deleting incident:",H),b({type:"error",message:"Error al eliminar la incidencia."})}},U=z=>{const H=j.find(Z=>Z.id===z);H&&(x(H),m("incident-detail"))},K=z=>{T(j.filter(H=>H.id!==z)),(v==null?void 0:v.id)===z&&(x(null),m("all-incidents"))},ne=async(z,H,Z)=>{try{const ce={incidentId:z,author:H,text:Z,timestamp:new Date().toISOString()};await t5(ce)}catch(ce){console.error("Error adding comment:",ce)}},me=(z,H)=>{const Z=ge.deleteComment(z,H);if(a(Z),v&&v.id===z){const ce=Z.find(he=>he.id===z);ce&&x(ce)}},be=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=Z.tags||[];ce.includes(H)||await fn(z,{tags:[...ce,H]})}catch(Z){console.error("Error adding tag:",Z)}},_t=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=(Z.tags||[]).filter(he=>he!==H);await fn(z,{tags:ce})}catch(Z){console.error("Error removing tag:",Z)}},ke=()=>{const z=new Set;return i.forEach(H=>{var Z;(Z=H.tags)==null||Z.forEach(ce=>z.add(ce))}),Array.from(z)},qt=async z=>{var H;try{const Z=await bN();for(const ce of Z)if((H=ce.tags)!=null&&H.includes(z)){const he=ce.tags.filter(we=>we!==z);await fn(ce.id,{tags:he})}b({type:"success",message:` Etiqueta "${z}" eliminada de todas las incidencias`})}catch(Z){console.error("Error deleting tag globally:",Z)}},bt=async(z,H,Z,ce)=>{try{const he=await Da(z);if(!he)return;const we={id:`pr_${Date.now()}`,link:Z,description:ce,createdAt:new Date().toISOString()};if(H==="qa2"){const ht=[...he.prQA2List||[],we];await fn(z,{prQA2List:ht})}else{const ht=[...he.prMainList||[],we];await fn(z,{prMainList:ht})}}catch(he){console.error("Error adding PR:",he)}},ze=async(z,H,Z)=>{try{const ce=await Da(z);if(!ce)return;if(H==="qa2"){const he=(ce.prQA2List||[]).filter(we=>we.id!==Z);await fn(z,{prQA2List:he})}else{const he=(ce.prMainList||[]).filter(we=>we.id!==Z);await fn(z,{prMainList:he})}}catch(ce){console.error("Error removing PR:",ce)}},Qn=async(z,H,Z,ce,he)=>{try{const we=await Da(z);if(!we)return;if(H==="qa2"){const ht=(we.prQA2List||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prQA2List:ht})}else{const ht=(we.prMainList||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prMainList:ht})}}catch(we){console.error("Error updating PR:",we)}},B=async z=>{try{const H={...z,createdAt:new Date().toISOString()};await AN(H);const Z=await kl();o(Z)}catch(H){console.error("Error adding automation rule:",H)}},fe=async(z,H)=>{try{await r5(z,H);const Z=await kl();o(Z)}catch(Z){console.error("Error updating automation rule:",Z)}},ye=async z=>{try{await n5(z);const H=await kl();o(H)}catch(H){console.error("Error deleting automation rule:",H)}},q=z=>{A(z),localStorage.setItem("app_theme",z);const H=n0.find(Z=>Z.id===z);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};_.useEffect(()=>{const z=n0.find(H=>H.id===E);z&&document.documentElement.style.setProperty("--app-background",z.gradient)},[E]);const ft=z=>{t(z)},Ce=()=>{yr.logout(),t(null),x(null),T([]),m("dashboard")};return e?f.jsxs("div",{className:"app-container",children:[f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"app-header-content",children:f.jsx(Y2,{})}),f.jsxs("div",{className:"app-header-actions",children:[f.jsxs("div",{className:"user-info",children:[f.jsxs("span",{className:"user-name",children:[" ",e.name]}),f.jsx("button",{className:"btn-logout",onClick:Ce,title:"Cerrar sesin",children:" Salir"})]}),f.jsxs("div",{className:"app-header-badge",onClick:()=>C(!D),children:[f.jsx("span",{className:"badge-icon",children:""}),f.jsx("span",{className:"badge-text",children:"Alertas"}),k.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length>0&&f.jsx("span",{className:"alerts-count",children:k.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length})]}),f.jsxs("div",{className:"app-header-badge",onClick:()=>O("settings"),children:[f.jsx("span",{className:"badge-icon",children:""}),f.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),N&&f.jsxs("div",{className:`notification-banner notification-${N.type}`,children:[f.jsx("span",{children:N.message}),f.jsxs("div",{className:"notification-actions",children:[N.type==="success"&&N.incidentId&&f.jsx("button",{className:"notification-view",onClick:()=>{const z=k.find(H=>H.id===N.incidentId);z&&(x(z),m("incident-detail")),b(null)},"aria-label":"Ver incidencia",children:" Ver"}),f.jsx("button",{className:"notification-close",onClick:()=>b(null),"aria-label":"Cerrar notificacin",children:""})]})]}),f.jsx(Cte,{activeTab:p,onTabChange:O,openIncidents:j.map(z=>({id:z.id,name:z.name})),selectedIncidentId:v==null?void 0:v.id,onSelectIncident:U,onCloseIncident:K}),D&&f.jsx("div",{className:"alerts-modal",children:f.jsxs("div",{className:"alerts-modal-content",children:[f.jsxs("div",{className:"alerts-modal-header",children:[f.jsx("h3",{children:" Alertas"}),f.jsx("button",{className:"alerts-modal-close",onClick:()=>C(!1),children:""})]}),f.jsx(xte,{incidents:k,onViewIncident:z=>{Q(z),C(!1)}})]})}),p==="dashboard"?f.jsx("main",{className:"app-main dashboard-transition",children:f.jsxs("div",{className:"app-content",children:[f.jsxs("div",{className:"form-section",children:[f.jsx(yte,{incidents:k}),f.jsx(vte,{incidents:k,onViewDetail:Q})]}),f.jsxs("div",{className:"list-section",children:[f.jsx(mte,{incidents:k,onStatusClick:d,onNavigateToList:()=>m("all-incidents")}),f.jsx(wte,{incidents:k}),f.jsx(gte,{incidents:k})]})]})}):p==="new-incident"?f.jsx("main",{className:"app-main page-transition-enter",children:f.jsx("div",{className:"new-incident-section",children:f.jsx("div",{className:"form-section-centered",children:f.jsx(c5,{onAdd:se})})})}):p==="incident-detail"&&v?f.jsx("main",{className:"incident-detail-main",children:f.jsx(Tte,{incident:v,onUpdate:de,onAddComment:ne,onDeleteComment:me,onDelete:oe,onAddTag:be,onRemoveTag:_t,onDeleteTagGlobally:qt,allAvailableTags:ke(),onAddPR:bt,onRemovePR:ze,onUpdatePR:Qn,onBack:()=>{x(null),m("all-incidents")}})}):p==="settings"?f.jsx("main",{className:"app-main page-transition-enter",children:f.jsxs("div",{className:"settings-container",children:[f.jsxs("div",{className:"settings-sidebar",children:[f.jsx("h2",{children:" Ajustes"}),f.jsxs("div",{className:"settings-menu",children:[f.jsxs("button",{className:`settings-menu-item ${g==="profile"?"active":""}`,onClick:()=>w("profile"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Mi Perfil"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="automation"?"active":""}`,onClick:()=>w("automation"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Automatizacin"})]}),(r==null?void 0:r.permissions.users.viewAll)&&f.jsxs("button",{className:`settings-menu-item ${g==="users"?"active":""}`,onClick:()=>w("users"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Usuarios"})]}),(r==null?void 0:r.permissions.roles.view)&&f.jsxs("button",{className:`settings-menu-item ${g==="roles"?"active":""}`,onClick:()=>w("roles"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Roles"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="appearance"?"active":""}`,onClick:()=>w("appearance"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Apariencia"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="general"?"active":""}`,onClick:()=>w("general"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"General"})]})]})]}),f.jsx("div",{className:"settings-content",children:g==="profile"?f.jsx(Mte,{currentUser:e,onUpdate:async()=>{const H=(await bu()).find(Z=>Z.id===e.id);H&&t(H)}}):g==="automation"?f.jsx(Nte,{rules:s,onAddRule:B,onUpdateRule:fe,onDeleteRule:ye}):g==="users"&&(r!=null&&r.permissions.users.viewAll)?f.jsx(Ote,{currentUser:e}):g==="roles"&&(r!=null&&r.permissions.roles.view)?f.jsx(Lte,{currentUser:e}):g==="appearance"?f.jsx(kte,{currentTheme:E,onThemeChange:q,currentUser:e}):g==="general"?f.jsx(Rte,{}):null})]})}):f.jsx("main",{className:"app-main page-transition-enter",children:f.jsx("div",{className:"all-incidents-section",children:f.jsx(jte,{incidents:k,onEdit:u,onDelete:oe,onViewDetail:Q,onNewIncident:()=>O("new-incident"),selectedStatus:c,onClearFilter:()=>d(null)})})}),l&&f.jsx(d5,{incident:l,onSave:de,onCancel:()=>u(null)})]}):f.jsx(Dte,{onLogin:ft})}$g.createRoot(document.getElementById("root")).render(f.jsx(RT.StrictMode,{children:f.jsx(Vte,{})}));
