var oM=Object.defineProperty;var sM=(e,t,r)=>t in e?oM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Em=(e,t,r)=>sM(e,typeof t!="symbol"?t+"":t,r);function lM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function _i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cT={exports:{}},yh={},dT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),uM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),fM=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),mM=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),vM=Symbol.for("react.memo"),yM=Symbol.for("react.lazy"),Rb=Symbol.iterator;function wM(e){return e===null||typeof e!="object"?null:(e=Rb&&e[Rb]||e["@@iterator"],typeof e=="function"?e:null)}var fT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hT=Object.assign,pT={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=pT,this.updater=r||fT}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mT(){}mT.prototype=Ss.prototype;function Ky(e,t,r){this.props=e,this.context=t,this.refs=pT,this.updater=r||fT}var Hy=Ky.prototype=new mT;Hy.constructor=Ky;hT(Hy,Ss.prototype);Hy.isPureReactComponent=!0;var Db=Array.isArray,gT=Object.prototype.hasOwnProperty,Gy={current:null},vT={key:!0,ref:!0,__self:!0,__source:!0};function yT(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)gT.call(t,n)&&!vT.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Nu,type:e,key:a,ref:o,props:i,_owner:Gy.current}}function _M(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function xM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Mb=/\/+/g;function Sm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xM(""+e.key):t.toString(36)}function md(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nu:case uM:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Sm(o,0):n,Db(i)?(r="",e!=null&&(r=e.replace(Mb,"$&/")+"/"),md(i,t,r,"",function(u){return u})):i!=null&&(Qy(i)&&(i=_M(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Db(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Sm(a,s);o+=md(a,t,r,l,i)}else if(l=wM(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Sm(a,s++),o+=md(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(e,t,r){if(e==null)return e;var n=[],i=0;return md(e,n,"","",function(a){return t.call(r,a,i++)}),n}function bM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},gd={transition:null},EM={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:gd,ReactCurrentOwner:Gy};function wT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ic,forEach:function(e,t,r){Ic(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ic(e,function(){t++}),t},toArray:function(e){return Ic(e,function(t){return t})||[]},only:function(e){if(!Qy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ss;ge.Fragment=cM;ge.Profiler=fM;ge.PureComponent=Ky;ge.StrictMode=dM;ge.Suspense=gM;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM;ge.act=wT;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hT({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Gy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)gT.call(t,l)&&!vT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Nu,type:e.type,key:i,ref:a,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:pM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hM,_context:e},e.Consumer=e};ge.createElement=yT;ge.createFactory=function(e){var t=yT.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:mM,render:e}};ge.isValidElement=Qy;ge.lazy=function(e){return{$$typeof:yM,_payload:{_status:-1,_result:e},_init:bM}};ge.memo=function(e,t){return{$$typeof:vM,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=gd.transition;gd.transition={};try{e()}finally{gd.transition=t}};ge.unstable_act=wT;ge.useCallback=function(e,t){return mr.current.useCallback(e,t)};ge.useContext=function(e){return mr.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};ge.useEffect=function(e,t){return mr.current.useEffect(e,t)};ge.useId=function(){return mr.current.useId()};ge.useImperativeHandle=function(e,t,r){return mr.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return mr.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return mr.current.useReducer(e,t,r)};ge.useRef=function(e){return mr.current.useRef(e)};ge.useState=function(e){return mr.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return mr.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return mr.current.useTransition()};ge.version="18.3.1";dT.exports=ge;var _=dT.exports;const _T=_i(_),SM=lM({__proto__:null,default:_T},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM=_,PM=Symbol.for("react.element"),TM=Symbol.for("react.fragment"),IM=Object.prototype.hasOwnProperty,CM=AM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OM={key:!0,ref:!0,__self:!0,__source:!0};function xT(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)IM.call(t,n)&&!OM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:PM,type:e,key:a,ref:o,props:i,_owner:CM.current}}yh.Fragment=TM;yh.jsx=xT;yh.jsxs=xT;cT.exports=yh;var h=cT.exports,Cg={},bT={exports:{}},$r={},ET={exports:{}},ST={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var re=U.length;U.push(K);e:for(;0<re;){var me=re-1>>>1,_e=U[me];if(0<i(_e,K))U[me]=K,U[re]=_e,re=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],re=U.pop();if(re!==K){U[0]=re;e:for(var me=0,_e=U.length,yt=_e>>>1;me<yt;){var je=2*(me+1)-1,zt=U[je],wt=je+1,Fe=U[wt];if(0>i(zt,re))wt<_e&&0>i(Fe,zt)?(U[me]=Fe,U[wt]=re,me=wt):(U[me]=zt,U[je]=re,me=je);else if(wt<_e&&0>i(Fe,re))U[me]=Fe,U[wt]=re,me=wt;else break e}}return K}function i(U,K){var re=U.sortIndex-K.sortIndex;return re!==0?re:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function I(U){if(y=!1,E(U),!g)if(r(l)!==null)g=!0,fe(j);else{var K=r(u);K!==null&&le(I,K.startTime-U)}}function j(U,K){g=!1,y&&(y=!1,x(A),A=-1),m=!0;var re=p;try{for(E(K),d=r(l);d!==null&&(!(d.expirationTime>K)||U&&!T());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var _e=me(d.expirationTime<=K);K=e.unstable_now(),typeof _e=="function"?d.callback=_e:d===r(l)&&n(l),E(K)}else n(l);d=r(l)}if(d!==null)var yt=!0;else{var je=r(u);je!==null&&le(I,je.startTime-K),yt=!1}return yt}finally{d=null,p=re,m=!1}}var R=!1,S=null,A=-1,C=5,D=-1;function T(){return!(e.unstable_now()-D<C)}function k(){if(S!==null){var U=e.unstable_now();D=U;var K=!0;try{K=S(!0,U)}finally{K?O():(R=!1,S=null)}}else R=!1}var O;if(typeof b=="function")O=function(){b(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=k,O=function(){se.postMessage(null)}}else O=function(){w(k,0)};function fe(U){S=U,R||(R=!0,O())}function le(U,K){A=w(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,fe(j))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var re=p;p=K;try{return U()}finally{p=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return K()}finally{p=re}},e.unstable_scheduleCallback=function(U,K,re){var me=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,U={id:c++,callback:K,priorityLevel:U,startTime:re,expirationTime:_e,sortIndex:-1},re>me?(U.sortIndex=re,t(u,U),r(l)===null&&U===r(u)&&(y?(x(A),A=-1):y=!0,le(I,re-me))):(U.sortIndex=_e,t(l,U),g||m||(g=!0,fe(j))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var K=p;return function(){var re=p;p=K;try{return U.apply(this,arguments)}finally{p=re}}}})(ST);ET.exports=ST;var jM=ET.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=_,Vr=jM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,Kl={};function so(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Kl[e]=t,e=0;e<t.length;e++)AT.add(t[e])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,kM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lb={},Vb={};function RM(e){return Og.call(Vb,e)?!0:Og.call(Lb,e)?!1:kM.test(e)?Vb[e]=!0:(Lb[e]=!0,!1)}function DM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MM(e,t,r,n){if(t===null||typeof t>"u"||DM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yy=/[\-:]([a-z])/g;function Xy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yy,Xy);Qt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yy,Xy);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yy,Xy);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jy(e,t,r,n){var i=Qt.hasOwnProperty(t)?Qt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MM(t,r,i,n)&&(r=null),n||i===null?RM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xi=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),TT=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),Fb=Symbol.iterator;function al(e){return e===null||typeof e!="object"?null:(e=Fb&&e[Fb]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Am;function xl(e){if(Am===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Am=t&&t[1]||""}return`
`+Am+e}var Pm=!1;function Tm(e,t){if(!e||Pm)return"";Pm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xl(e):""}function LM(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=Tm(e.type,!1),e;case 11:return e=Tm(e.type.render,!1),e;case 1:return e=Tm(e.type,!0),e;default:return""}}function Rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Co:return"Portal";case jg:return"Profiler";case Zy:return"StrictMode";case Ng:return"Suspense";case kg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TT:return(e.displayName||"Context")+".Consumer";case PT:return(e._context.displayName||"Context")+".Provider";case e0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t0:return t=e.displayName||null,t!==null?t:Rg(e.type)||"Memo";case Di:t=e._payload,e=e._init;try{return Rg(e(t))}catch{}}return null}function VM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(t);case 8:return t===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FM(e){var t=CT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){e._valueTracker||(e._valueTracker=FM(e))}function OT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dg(e,t){var r=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $b(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ia(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jT(e,t){t=t.checked,t!=null&&Jy(e,"checked",t,!1)}function Mg(e,t){jT(e,t);var r=ia(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lg(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lg(e,t,r){(t!=="number"||Vd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bl=Array.isArray;function Bo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ia(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ub(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(bl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ia(r)}}function NT(e,t){var r=ia(t.value),n=ia(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jc,RT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$M=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){$M.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function DT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function MT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=DT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var zM=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(e,t){if(t){if(zM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function zg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=null;function r0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bg=null,qo=null,Wo=null;function qb(e){if(e=Du(e)){if(typeof Bg!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Eh(t),Bg(e.stateNode,e.type,t))}}function LT(e){qo?Wo?Wo.push(e):Wo=[e]:qo=e}function VT(){if(qo){var e=qo,t=Wo;if(Wo=qo=null,qb(e),t)for(e=0;e<t.length;e++)qb(t[e])}}function FT(e,t){return e(t)}function $T(){}var Im=!1;function zT(e,t,r){if(Im)return e(t,r);Im=!0;try{return FT(e,t,r)}finally{Im=!1,(qo!==null||Wo!==null)&&($T(),VT())}}function Gl(e,t){var r=e.stateNode;if(r===null)return null;var n=Eh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var qg=!1;if(ai)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){qg=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{qg=!1}function UM(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Nl=!1,Fd=null,$d=!1,Wg=null,BM={onError:function(e){Nl=!0,Fd=e}};function qM(e,t,r,n,i,a,o,s,l){Nl=!1,Fd=null,UM.apply(BM,arguments)}function WM(e,t,r,n,i,a,o,s,l){if(qM.apply(this,arguments),Nl){if(Nl){var u=Fd;Nl=!1,Fd=null}else throw Error(W(198));$d||($d=!0,Wg=u)}}function lo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function UT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wb(e){if(lo(e)!==e)throw Error(W(188))}function KM(e){var t=e.alternate;if(!t){if(t=lo(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Wb(i),e;if(a===n)return Wb(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function BT(e){return e=KM(e),e!==null?qT(e):null}function qT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qT(e);if(t!==null)return t;e=e.sibling}return null}var WT=Vr.unstable_scheduleCallback,Kb=Vr.unstable_cancelCallback,HM=Vr.unstable_shouldYield,GM=Vr.unstable_requestPaint,ut=Vr.unstable_now,QM=Vr.unstable_getCurrentPriorityLevel,n0=Vr.unstable_ImmediatePriority,KT=Vr.unstable_UserBlockingPriority,zd=Vr.unstable_NormalPriority,YM=Vr.unstable_LowPriority,HT=Vr.unstable_IdlePriority,wh=null,Nn=null;function XM(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(wh,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:eL,JM=Math.log,ZM=Math.LN2;function eL(e){return e>>>=0,e===0?32:31-(JM(e)/ZM|0)|0}var Nc=64,kc=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ud(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=El(s):(a&=o,a!==0&&(n=El(a)))}else o=r&~i,o!==0?n=El(o):a!==0&&(n=El(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pn(t),i=1<<r,n|=e[r],t&=~i;return n}function tL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-pn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=tL(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GT(){var e=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),e}function Cm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=r}function nL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-pn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function i0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ie=0;function QT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YT,a0,XT,JT,ZT,Hg=!1,Rc=[],Wi=null,Ki=null,Hi=null,Ql=new Map,Yl=new Map,Fi=[],iL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hb(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(t.pointerId)}}function sl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Du(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aL(e,t,r,n,i){switch(t){case"focusin":return Wi=sl(Wi,e,t,r,n,i),!0;case"dragenter":return Ki=sl(Ki,e,t,r,n,i),!0;case"mouseover":return Hi=sl(Hi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ql.set(a,sl(Ql.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Yl.set(a,sl(Yl.get(a)||null,e,t,r,n,i)),!0}return!1}function eI(e){var t=ka(e.target);if(t!==null){var r=lo(t);if(r!==null){if(t=r.tag,t===13){if(t=UT(r),t!==null){e.blockedOn=t,ZT(e.priority,function(){XT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ug=n,r.target.dispatchEvent(n),Ug=null}else return t=Du(r),t!==null&&a0(t),e.blockedOn=r,!1;t.shift()}return!0}function Gb(e,t,r){vd(e)&&r.delete(t)}function oL(){Hg=!1,Wi!==null&&vd(Wi)&&(Wi=null),Ki!==null&&vd(Ki)&&(Ki=null),Hi!==null&&vd(Hi)&&(Hi=null),Ql.forEach(Gb),Yl.forEach(Gb)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,Hg||(Hg=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,oL)))}function Xl(e){function t(i){return ll(i,e)}if(0<Rc.length){ll(Rc[0],e);for(var r=1;r<Rc.length;r++){var n=Rc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wi!==null&&ll(Wi,e),Ki!==null&&ll(Ki,e),Hi!==null&&ll(Hi,e),Ql.forEach(t),Yl.forEach(t),r=0;r<Fi.length;r++)n=Fi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fi.length&&(r=Fi[0],r.blockedOn===null);)eI(r),r.blockedOn===null&&Fi.shift()}var Ko=xi.ReactCurrentBatchConfig,Bd=!0;function sL(e,t,r,n){var i=Ie,a=Ko.transition;Ko.transition=null;try{Ie=1,o0(e,t,r,n)}finally{Ie=i,Ko.transition=a}}function lL(e,t,r,n){var i=Ie,a=Ko.transition;Ko.transition=null;try{Ie=4,o0(e,t,r,n)}finally{Ie=i,Ko.transition=a}}function o0(e,t,r,n){if(Bd){var i=Gg(e,t,r,n);if(i===null)Fm(e,t,n,qd,r),Hb(e,n);else if(aL(i,e,t,r,n))n.stopPropagation();else if(Hb(e,n),t&4&&-1<iL.indexOf(e)){for(;i!==null;){var a=Du(i);if(a!==null&&YT(a),a=Gg(e,t,r,n),a===null&&Fm(e,t,n,qd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Fm(e,t,n,null,r)}}var qd=null;function Gg(e,t,r,n){if(qd=null,e=r0(n),e=ka(e),e!==null)if(t=lo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=UT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qd=e,null}function tI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QM()){case n0:return 1;case KT:return 4;case zd:case YM:return 16;case HT:return 536870912;default:return 16}default:return 16}}var Ui=null,s0=null,yd=null;function rI(){if(yd)return yd;var e,t=s0,r=t.length,n,i="value"in Ui?Ui.value:Ui.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return yd=i.slice(e,1<n?1-n:void 0)}function wd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function Qb(){return!1}function zr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dc:Qb,this.isPropagationStopped=Qb,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=zr(As),Ru=Ze({},As,{view:0,detail:0}),uL=zr(Ru),Om,jm,ul,_h=Ze({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(Om=e.screenX-ul.screenX,jm=e.screenY-ul.screenY):jm=Om=0,ul=e),Om)},movementY:function(e){return"movementY"in e?e.movementY:jm}}),Yb=zr(_h),cL=Ze({},_h,{dataTransfer:0}),dL=zr(cL),fL=Ze({},Ru,{relatedTarget:0}),Nm=zr(fL),hL=Ze({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),pL=zr(hL),mL=Ze({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gL=zr(mL),vL=Ze({},As,{data:0}),Xb=zr(vL),yL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_L[e])?!!t[e]:!1}function u0(){return xL}var bL=Ze({},Ru,{key:function(e){if(e.key){var t=yL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u0,charCode:function(e){return e.type==="keypress"?wd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EL=zr(bL),SL=Ze({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jb=zr(SL),AL=Ze({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u0}),PL=zr(AL),TL=Ze({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),IL=zr(TL),CL=Ze({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OL=zr(CL),jL=[9,13,27,32],c0=ai&&"CompositionEvent"in window,kl=null;ai&&"documentMode"in document&&(kl=document.documentMode);var NL=ai&&"TextEvent"in window&&!kl,nI=ai&&(!c0||kl&&8<kl&&11>=kl),Zb=" ",eE=!1;function iI(e,t){switch(e){case"keyup":return jL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function kL(e,t){switch(e){case"compositionend":return aI(t);case"keypress":return t.which!==32?null:(eE=!0,Zb);case"textInput":return e=t.data,e===Zb&&eE?null:e;default:return null}}function RL(e,t){if(jo)return e==="compositionend"||!c0&&iI(e,t)?(e=rI(),yd=s0=Ui=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nI&&t.locale!=="ko"?null:t.data;default:return null}}var DL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DL[e.type]:t==="textarea"}function oI(e,t,r,n){LT(n),t=Wd(t,"onChange"),0<t.length&&(r=new l0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rl=null,Jl=null;function ML(e){vI(e,0)}function xh(e){var t=Ro(e);if(OT(t))return e}function LL(e,t){if(e==="change")return t}var sI=!1;if(ai){var km;if(ai){var Rm="oninput"in document;if(!Rm){var rE=document.createElement("div");rE.setAttribute("oninput","return;"),Rm=typeof rE.oninput=="function"}km=Rm}else km=!1;sI=km&&(!document.documentMode||9<document.documentMode)}function nE(){Rl&&(Rl.detachEvent("onpropertychange",lI),Jl=Rl=null)}function lI(e){if(e.propertyName==="value"&&xh(Jl)){var t=[];oI(t,Jl,e,r0(e)),zT(ML,t)}}function VL(e,t,r){e==="focusin"?(nE(),Rl=t,Jl=r,Rl.attachEvent("onpropertychange",lI)):e==="focusout"&&nE()}function FL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xh(Jl)}function $L(e,t){if(e==="click")return xh(t)}function zL(e,t){if(e==="input"||e==="change")return xh(t)}function UL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:UL;function Zl(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Og.call(t,i)||!vn(e[i],t[i]))return!1}return!0}function iE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aE(e,t){var r=iE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iE(r)}}function uI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cI(){for(var e=window,t=Vd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vd(e.document)}return t}function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BL(e){var t=cI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uI(r.ownerDocument.documentElement,r)){if(n!==null&&d0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=aE(r,a);var o=aE(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qL=ai&&"documentMode"in document&&11>=document.documentMode,No=null,Qg=null,Dl=null,Yg=!1;function oE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yg||No==null||No!==Vd(n)||(n=No,"selectionStart"in n&&d0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dl&&Zl(Dl,n)||(Dl=n,n=Wd(Qg,"onSelect"),0<n.length&&(t=new l0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=No)))}function Mc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ko={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Dm={},dI={};ai&&(dI=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function bh(e){if(Dm[e])return Dm[e];if(!ko[e])return e;var t=ko[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dI)return Dm[e]=t[r];return e}var fI=bh("animationend"),hI=bh("animationiteration"),pI=bh("animationstart"),mI=bh("transitionend"),gI=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(e,t){gI.set(e,t),so(t,[e])}for(var Mm=0;Mm<sE.length;Mm++){var Lm=sE[Mm],WL=Lm.toLowerCase(),KL=Lm[0].toUpperCase()+Lm.slice(1);pa(WL,"on"+KL)}pa(fI,"onAnimationEnd");pa(hI,"onAnimationIteration");pa(pI,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(mI,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function lE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WM(n,t,void 0,e),e.currentTarget=null}function vI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=l}}}if($d)throw e=Wg,$d=!1,Wg=null,e}function ze(e,t){var r=t[tv];r===void 0&&(r=t[tv]=new Set);var n=e+"__bubble";r.has(n)||(yI(t,e,2,!1),r.add(n))}function Vm(e,t,r){var n=0;t&&(n|=4),yI(r,e,n,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Lc]){e[Lc]=!0,AT.forEach(function(r){r!=="selectionchange"&&(HL.has(r)||Vm(r,!1,e),Vm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,Vm("selectionchange",!1,t))}}function yI(e,t,r,n){switch(tI(t)){case 1:var i=sL;break;case 4:i=lL;break;default:i=o0}r=i.bind(null,t,r,e),i=void 0,!qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Fm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ka(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}zT(function(){var u=a,c=r0(r),d=[];e:{var p=gI.get(e);if(p!==void 0){var m=l0,g=e;switch(e){case"keypress":if(wd(r)===0)break e;case"keydown":case"keyup":m=EL;break;case"focusin":g="focus",m=Nm;break;case"focusout":g="blur",m=Nm;break;case"beforeblur":case"afterblur":m=Nm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PL;break;case fI:case hI:case pI:m=pL;break;case mI:m=IL;break;case"scroll":m=uL;break;case"wheel":m=OL;break;case"copy":case"cut":case"paste":m=gL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jb}var y=(t&4)!==0,w=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var b=u,E;b!==null;){E=b;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,x!==null&&(I=Gl(b,x),I!=null&&y.push(tu(b,I,E)))),w)break;b=b.return}0<y.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Ug&&(g=r.relatedTarget||r.fromElement)&&(ka(g)||g[oi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ka(g):null,g!==null&&(w=lo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Yb,I="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Jb,I="onPointerLeave",x="onPointerEnter",b="pointer"),w=m==null?p:Ro(m),E=g==null?p:Ro(g),p=new y(I,b+"leave",m,r,c),p.target=w,p.relatedTarget=E,I=null,ka(c)===u&&(y=new y(x,b+"enter",g,r,c),y.target=E,y.relatedTarget=w,I=y),w=I,m&&g)t:{for(y=m,x=g,b=0,E=y;E;E=wo(E))b++;for(E=0,I=x;I;I=wo(I))E++;for(;0<b-E;)y=wo(y),b--;for(;0<E-b;)x=wo(x),E--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=wo(y),x=wo(x)}y=null}else y=null;m!==null&&uE(d,p,m,y,!1),g!==null&&w!==null&&uE(d,w,g,y,!0)}}e:{if(p=u?Ro(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=LL;else if(tE(p))if(sI)j=zL;else{j=FL;var R=VL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=$L);if(j&&(j=j(e,u))){oI(d,j,r,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Lg(p,"number",p.value)}switch(R=u?Ro(u):window,e){case"focusin":(tE(R)||R.contentEditable==="true")&&(No=R,Qg=u,Dl=null);break;case"focusout":Dl=Qg=No=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,oE(d,r,c);break;case"selectionchange":if(qL)break;case"keydown":case"keyup":oE(d,r,c)}var S;if(c0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else jo?iI(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(nI&&r.locale!=="ko"&&(jo||A!=="onCompositionStart"?A==="onCompositionEnd"&&jo&&(S=rI()):(Ui=c,s0="value"in Ui?Ui.value:Ui.textContent,jo=!0)),R=Wd(u,A),0<R.length&&(A=new Xb(A,e,null,r,c),d.push({event:A,listeners:R}),S?A.data=S:(S=aI(r),S!==null&&(A.data=S)))),(S=NL?kL(e,r):RL(e,r))&&(u=Wd(u,"onBeforeInput"),0<u.length&&(c=new Xb("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}vI(d,t)})}function tu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gl(e,r),a!=null&&n.unshift(tu(e,a,i)),a=Gl(e,t),a!=null&&n.push(tu(e,a,i))),e=e.return}return n}function wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uE(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Gl(r,a),l!=null&&o.unshift(tu(r,l,s))):i||(l=Gl(r,a),l!=null&&o.push(tu(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var GL=/\r\n?/g,QL=/\u0000|\uFFFD/g;function cE(e){return(typeof e=="string"?e:""+e).replace(GL,`
`).replace(QL,"")}function Vc(e,t,r){if(t=cE(t),cE(e)!==t&&r)throw Error(W(425))}function Kd(){}var Xg=null,Jg=null;function Zg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ev=typeof setTimeout=="function"?setTimeout:void 0,YL=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,XL=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(e){return dE.resolve(null).then(e).catch(JL)}:ev;function JL(e){setTimeout(function(){throw e})}function $m(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Xl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xl(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),On="__reactFiber$"+Ps,ru="__reactProps$"+Ps,oi="__reactContainer$"+Ps,tv="__reactEvents$"+Ps,ZL="__reactListeners$"+Ps,eV="__reactHandles$"+Ps;function ka(e){var t=e[On];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oi]||r[On]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fE(e);e!==null;){if(r=e[On])return r;e=fE(e)}return t}e=r,r=e.parentNode}return null}function Du(e){return e=e[On]||e[oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Eh(e){return e[ru]||null}var rv=[],Do=-1;function ma(e){return{current:e}}function qe(e){0>Do||(e.current=rv[Do],rv[Do]=null,Do--)}function Le(e,t){Do++,rv[Do]=e.current,e.current=t}var aa={},sr=ma(aa),Er=ma(!1),Ha=aa;function ts(e,t){var r=e.type.contextTypes;if(!r)return aa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(e){return e=e.childContextTypes,e!=null}function Hd(){qe(Er),qe(sr)}function hE(e,t,r){if(sr.current!==aa)throw Error(W(168));Le(sr,t),Le(Er,r)}function wI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,VM(e)||"Unknown",i));return Ze({},r,n)}function Gd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||aa,Ha=sr.current,Le(sr,e),Le(Er,Er.current),!0}function pE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=wI(e,t,Ha),n.__reactInternalMemoizedMergedChildContext=e,qe(Er),qe(sr),Le(sr,e)):qe(Er),Le(Er,r)}var Hn=null,Sh=!1,zm=!1;function _I(e){Hn===null?Hn=[e]:Hn.push(e)}function tV(e){Sh=!0,_I(e)}function ga(){if(!zm&&Hn!==null){zm=!0;var e=0,t=Ie;try{var r=Hn;for(Ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hn=null,Sh=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(e+1)),WT(n0,ga),i}finally{Ie=t,zm=!1}}return null}var Mo=[],Lo=0,Qd=null,Yd=0,Kr=[],Hr=0,Ga=null,Xn=1,Jn="";function Ta(e,t){Mo[Lo++]=Yd,Mo[Lo++]=Qd,Qd=e,Yd=t}function xI(e,t,r){Kr[Hr++]=Xn,Kr[Hr++]=Jn,Kr[Hr++]=Ga,Ga=e;var n=Xn;e=Jn;var i=32-pn(n)-1;n&=~(1<<i),r+=1;var a=32-pn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Xn=1<<32-pn(t)+i|r<<i|n,Jn=a+e}else Xn=1<<a|r<<i|n,Jn=e}function f0(e){e.return!==null&&(Ta(e,1),xI(e,1,0))}function h0(e){for(;e===Qd;)Qd=Mo[--Lo],Mo[Lo]=null,Yd=Mo[--Lo],Mo[Lo]=null;for(;e===Ga;)Ga=Kr[--Hr],Kr[Hr]=null,Jn=Kr[--Hr],Kr[Hr]=null,Xn=Kr[--Hr],Kr[Hr]=null}var Mr=null,kr=null,He=!1,cn=null;function bI(e,t){var r=Qr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,kr=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ga!==null?{id:Xn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,kr=null,!0):!1;default:return!1}}function nv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iv(e){if(He){var t=kr;if(t){var r=t;if(!mE(e,t)){if(nv(e))throw Error(W(418));t=Gi(r.nextSibling);var n=Mr;t&&mE(e,t)?bI(n,r):(e.flags=e.flags&-4097|2,He=!1,Mr=e)}}else{if(nv(e))throw Error(W(418));e.flags=e.flags&-4097|2,He=!1,Mr=e}}}function gE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Fc(e){if(e!==Mr)return!1;if(!He)return gE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zg(e.type,e.memoizedProps)),t&&(t=kr)){if(nv(e))throw EI(),Error(W(418));for(;t;)bI(e,t),t=Gi(t.nextSibling)}if(gE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kr=Gi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=Mr?Gi(e.stateNode.nextSibling):null;return!0}function EI(){for(var e=kr;e;)e=Gi(e.nextSibling)}function rs(){kr=Mr=null,He=!1}function p0(e){cn===null?cn=[e]:cn.push(e)}var rV=xi.ReactCurrentBatchConfig;function cl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function $c(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vE(e){var t=e._init;return t(e._payload)}function SI(e){function t(x,b){if(e){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ji(x,b),x.index=0,x.sibling=null,x}function a(x,b,E){return x.index=E,e?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,E,I){return b===null||b.tag!==6?(b=Gm(E,x.mode,I),b.return=x,b):(b=i(b,E),b.return=x,b)}function l(x,b,E,I){var j=E.type;return j===Oo?c(x,b,E.props.children,I,E.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Di&&vE(j)===b.type)?(I=i(b,E.props),I.ref=cl(x,b,E),I.return=x,I):(I=Pd(E.type,E.key,E.props,null,x.mode,I),I.ref=cl(x,b,E),I.return=x,I)}function u(x,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Qm(E,x.mode,I),b.return=x,b):(b=i(b,E.children||[]),b.return=x,b)}function c(x,b,E,I,j){return b===null||b.tag!==7?(b=za(E,x.mode,I,j),b.return=x,b):(b=i(b,E),b.return=x,b)}function d(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Gm(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cc:return E=Pd(b.type,b.key,b.props,null,x.mode,E),E.ref=cl(x,null,b),E.return=x,E;case Co:return b=Qm(b,x.mode,E),b.return=x,b;case Di:var I=b._init;return d(x,I(b._payload),E)}if(bl(b)||al(b))return b=za(b,x.mode,E,null),b.return=x,b;$c(x,b)}return null}function p(x,b,E,I){var j=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:s(x,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:return E.key===j?l(x,b,E,I):null;case Co:return E.key===j?u(x,b,E,I):null;case Di:return j=E._init,p(x,b,j(E._payload),I)}if(bl(E)||al(E))return j!==null?null:c(x,b,E,I,null);$c(x,E)}return null}function m(x,b,E,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(E)||null,s(b,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Cc:return x=x.get(I.key===null?E:I.key)||null,l(b,x,I,j);case Co:return x=x.get(I.key===null?E:I.key)||null,u(b,x,I,j);case Di:var R=I._init;return m(x,b,E,R(I._payload),j)}if(bl(I)||al(I))return x=x.get(E)||null,c(b,x,I,j,null);$c(b,I)}return null}function g(x,b,E,I){for(var j=null,R=null,S=b,A=b=0,C=null;S!==null&&A<E.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var D=p(x,S,E[A],I);if(D===null){S===null&&(S=C);break}e&&S&&D.alternate===null&&t(x,S),b=a(D,b,A),R===null?j=D:R.sibling=D,R=D,S=C}if(A===E.length)return r(x,S),He&&Ta(x,A),j;if(S===null){for(;A<E.length;A++)S=d(x,E[A],I),S!==null&&(b=a(S,b,A),R===null?j=S:R.sibling=S,R=S);return He&&Ta(x,A),j}for(S=n(x,S);A<E.length;A++)C=m(S,x,A,E[A],I),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),b=a(C,b,A),R===null?j=C:R.sibling=C,R=C);return e&&S.forEach(function(T){return t(x,T)}),He&&Ta(x,A),j}function y(x,b,E,I){var j=al(E);if(typeof j!="function")throw Error(W(150));if(E=j.call(E),E==null)throw Error(W(151));for(var R=j=null,S=b,A=b=0,C=null,D=E.next();S!==null&&!D.done;A++,D=E.next()){S.index>A?(C=S,S=null):C=S.sibling;var T=p(x,S,D.value,I);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(x,S),b=a(T,b,A),R===null?j=T:R.sibling=T,R=T,S=C}if(D.done)return r(x,S),He&&Ta(x,A),j;if(S===null){for(;!D.done;A++,D=E.next())D=d(x,D.value,I),D!==null&&(b=a(D,b,A),R===null?j=D:R.sibling=D,R=D);return He&&Ta(x,A),j}for(S=n(x,S);!D.done;A++,D=E.next())D=m(S,x,A,D.value,I),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=a(D,b,A),R===null?j=D:R.sibling=D,R=D);return e&&S.forEach(function(k){return t(x,k)}),He&&Ta(x,A),j}function w(x,b,E,I){if(typeof E=="object"&&E!==null&&E.type===Oo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:e:{for(var j=E.key,R=b;R!==null;){if(R.key===j){if(j=E.type,j===Oo){if(R.tag===7){r(x,R.sibling),b=i(R,E.props.children),b.return=x,x=b;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Di&&vE(j)===R.type){r(x,R.sibling),b=i(R,E.props),b.ref=cl(x,R,E),b.return=x,x=b;break e}r(x,R);break}else t(x,R);R=R.sibling}E.type===Oo?(b=za(E.props.children,x.mode,I,E.key),b.return=x,x=b):(I=Pd(E.type,E.key,E.props,null,x.mode,I),I.ref=cl(x,b,E),I.return=x,x=I)}return o(x);case Co:e:{for(R=E.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(x,b.sibling),b=i(b,E.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Qm(E,x.mode,I),b.return=x,x=b}return o(x);case Di:return R=E._init,w(x,b,R(E._payload),I)}if(bl(E))return g(x,b,E,I);if(al(E))return y(x,b,E,I);$c(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,E),b.return=x,x=b):(r(x,b),b=Gm(E,x.mode,I),b.return=x,x=b),o(x)):r(x,b)}return w}var ns=SI(!0),AI=SI(!1),Xd=ma(null),Jd=null,Vo=null,m0=null;function g0(){m0=Vo=Jd=null}function v0(e){var t=Xd.current;qe(Xd),e._currentValue=t}function av(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ho(e,t){Jd=e,m0=Vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Zr(e){var t=e._currentValue;if(m0!==e)if(e={context:e,memoizedValue:t,next:null},Vo===null){if(Jd===null)throw Error(W(308));Vo=e,Jd.dependencies={lanes:0,firstContext:e}}else Vo=Vo.next=e;return t}var Ra=null;function y0(e){Ra===null?Ra=[e]:Ra.push(e)}function PI(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,y0(t)):(r.next=i.next,i.next=r),t.interleaved=r,si(e,n)}function si(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mi=!1;function w0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,si(e,r)}return i=n.interleaved,i===null?(t.next=t,y0(n)):(t.next=i.next,i.next=t),n.interleaved=t,si(e,r)}function _d(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i0(e,r)}}function yE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zd(e,t,r,n){var i=e.updateQueue;Mi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Ze({},d,p);break e;case 2:Mi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ya|=o,e.lanes=o,e.memoizedState=d}}function wE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Mu={},kn=ma(Mu),nu=ma(Mu),iu=ma(Mu);function Da(e){if(e===Mu)throw Error(W(174));return e}function _0(e,t){switch(Le(iu,t),Le(nu,e),Le(kn,Mu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fg(t,e)}qe(kn),Le(kn,t)}function is(){qe(kn),qe(nu),qe(iu)}function II(e){Da(iu.current);var t=Da(kn.current),r=Fg(t,e.type);t!==r&&(Le(nu,e),Le(kn,r))}function x0(e){nu.current===e&&(qe(kn),qe(nu))}var Xe=ma(0);function ef(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Um=[];function b0(){for(var e=0;e<Um.length;e++)Um[e]._workInProgressVersionPrimary=null;Um.length=0}var xd=xi.ReactCurrentDispatcher,Bm=xi.ReactCurrentBatchConfig,Qa=0,Je=null,xt=null,Dt=null,tf=!1,Ml=!1,au=0,nV=0;function Jt(){throw Error(W(321))}function E0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vn(e[r],t[r]))return!1;return!0}function S0(e,t,r,n,i,a){if(Qa=a,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xd.current=e===null||e.memoizedState===null?sV:lV,e=r(n,i),Ml){a=0;do{if(Ml=!1,au=0,25<=a)throw Error(W(301));a+=1,Dt=xt=null,t.updateQueue=null,xd.current=uV,e=r(n,i)}while(Ml)}if(xd.current=rf,t=xt!==null&&xt.next!==null,Qa=0,Dt=xt=Je=null,tf=!1,t)throw Error(W(300));return e}function A0(){var e=au!==0;return au=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Je.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function en(){if(xt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Dt===null?Je.memoizedState:Dt.next;if(t!==null)Dt=t,xt=e;else{if(e===null)throw Error(W(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Dt===null?Je.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function ou(e,t){return typeof t=="function"?t(e):t}function qm(e){var t=en(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=xt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Qa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,Je.lanes|=c,Ya|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,vn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Je.lanes|=a,Ya|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wm(e){var t=en(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);vn(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function CI(){}function OI(e,t){var r=Je,n=en(),i=t(),a=!vn(n.memoizedState,i);if(a&&(n.memoizedState=i,xr=!0),n=n.queue,P0(kI.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,su(9,NI.bind(null,r,n,i,t),void 0,null),Lt===null)throw Error(W(349));Qa&30||jI(r,t,i)}return i}function jI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function NI(e,t,r,n){t.value=r,t.getSnapshot=n,RI(t)&&DI(e)}function kI(e,t,r){return r(function(){RI(t)&&DI(e)})}function RI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vn(e,r)}catch{return!0}}function DI(e){var t=si(e,1);t!==null&&mn(t,e,1,-1)}function _E(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:e},t.queue=e,e=e.dispatch=oV.bind(null,Je,e),[t.memoizedState,e]}function su(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function MI(){return en().memoizedState}function bd(e,t,r,n){var i=In();Je.flags|=e,i.memoizedState=su(1|t,r,void 0,n===void 0?null:n)}function Ah(e,t,r,n){var i=en();n=n===void 0?null:n;var a=void 0;if(xt!==null){var o=xt.memoizedState;if(a=o.destroy,n!==null&&E0(n,o.deps)){i.memoizedState=su(t,r,a,n);return}}Je.flags|=e,i.memoizedState=su(1|t,r,a,n)}function xE(e,t){return bd(8390656,8,e,t)}function P0(e,t){return Ah(2048,8,e,t)}function LI(e,t){return Ah(4,2,e,t)}function VI(e,t){return Ah(4,4,e,t)}function FI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $I(e,t,r){return r=r!=null?r.concat([e]):null,Ah(4,4,FI.bind(null,t,e),r)}function T0(){}function zI(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function UI(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BI(e,t,r){return Qa&21?(vn(r,t)||(r=GT(),Je.lanes|=r,Ya|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function iV(e,t){var r=Ie;Ie=r!==0&&4>r?r:4,e(!0);var n=Bm.transition;Bm.transition={};try{e(!1),t()}finally{Ie=r,Bm.transition=n}}function qI(){return en().memoizedState}function aV(e,t,r){var n=Xi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},WI(e))KI(t,r);else if(r=PI(e,t,r,n),r!==null){var i=fr();mn(r,e,n,i),HI(r,t,n)}}function oV(e,t,r){var n=Xi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(WI(e))KI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,vn(s,o)){var l=t.interleaved;l===null?(i.next=i,y0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=PI(e,t,i,n),r!==null&&(i=fr(),mn(r,e,n,i),HI(r,t,n))}}function WI(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function KI(e,t){Ml=tf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function HI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i0(e,r)}}var rf={readContext:Zr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},sV={readContext:Zr,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:Zr,useEffect:xE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bd(4194308,4,FI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return bd(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=aV.bind(null,Je,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:_E,useDebugValue:T0,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=_E(!1),t=e[0];return e=iV.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Je,i=In();if(He){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Lt===null)throw Error(W(349));Qa&30||jI(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,xE(kI.bind(null,n,a,e),[e]),n.flags|=2048,su(9,NI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=In(),t=Lt.identifierPrefix;if(He){var r=Jn,n=Xn;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=au++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lV={readContext:Zr,useCallback:zI,useContext:Zr,useEffect:P0,useImperativeHandle:$I,useInsertionEffect:LI,useLayoutEffect:VI,useMemo:UI,useReducer:qm,useRef:MI,useState:function(){return qm(ou)},useDebugValue:T0,useDeferredValue:function(e){var t=en();return BI(t,xt.memoizedState,e)},useTransition:function(){var e=qm(ou)[0],t=en().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:OI,useId:qI,unstable_isNewReconciler:!1},uV={readContext:Zr,useCallback:zI,useContext:Zr,useEffect:P0,useImperativeHandle:$I,useInsertionEffect:LI,useLayoutEffect:VI,useMemo:UI,useReducer:Wm,useRef:MI,useState:function(){return Wm(ou)},useDebugValue:T0,useDeferredValue:function(e){var t=en();return xt===null?t.memoizedState=e:BI(t,xt.memoizedState,e)},useTransition:function(){var e=Wm(ou)[0],t=en().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:OI,useId:qI,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ov(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ph={isMounted:function(e){return(e=e._reactInternals)?lo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),i=Xi(e),a=ti(n,i);a.payload=t,r!=null&&(a.callback=r),t=Qi(e,a,i),t!==null&&(mn(t,e,i,n),_d(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),i=Xi(e),a=ti(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Qi(e,a,i),t!==null&&(mn(t,e,i,n),_d(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=Xi(e),i=ti(r,n);i.tag=2,t!=null&&(i.callback=t),t=Qi(e,i,n),t!==null&&(mn(t,e,n,r),_d(t,e,n))}};function bE(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zl(r,n)||!Zl(i,a):!0}function GI(e,t,r){var n=!1,i=aa,a=t.contextType;return typeof a=="object"&&a!==null?a=Zr(a):(i=Sr(t)?Ha:sr.current,n=t.contextTypes,a=(n=n!=null)?ts(e,i):aa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ph,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function EE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ph.enqueueReplaceState(t,t.state,null)}function sv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},w0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Zr(a):(a=Sr(t)?Ha:sr.current,i.context=ts(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ov(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Zd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var r="",n=t;do r+=LM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Km(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cV=typeof WeakMap=="function"?WeakMap:Map;function QI(e,t,r){r=ti(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){af||(af=!0,yv=n),lv(e,t)},r}function YI(e,t,r){r=ti(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){lv(e,t),typeof n!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function SE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=SV.bind(null,e,t,r),t.then(e,e))}function AE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ti(-1,1),t.tag=2,Qi(r,t,1))),r.lanes|=1),e)}var dV=xi.ReactCurrentOwner,xr=!1;function ur(e,t,r,n){t.child=e===null?AI(t,null,r,n):ns(t,e.child,r,n)}function TE(e,t,r,n,i){r=r.render;var a=t.ref;return Ho(t,i),n=S0(e,t,r,n,a,i),r=A0(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,li(e,t,i)):(He&&r&&f0(t),t.flags|=1,ur(e,t,n,i),t.child)}function IE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!D0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,XI(e,t,a,n,i)):(e=Pd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(o,n)&&e.ref===t.ref)return li(e,t,i)}return t.flags|=1,e=Ji(a,n),e.ref=t.ref,e.return=t,t.child=e}function XI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Zl(a,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,li(e,t,i)}return uv(e,t,r,n,i)}function JI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le($o,Or),Or|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le($o,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Le($o,Or),Or|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Le($o,Or),Or|=n;return ur(e,t,i,r),t.child}function ZI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uv(e,t,r,n,i){var a=Sr(r)?Ha:sr.current;return a=ts(t,a),Ho(t,i),r=S0(e,t,r,n,a,i),n=A0(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,li(e,t,i)):(He&&n&&f0(t),t.flags|=1,ur(e,t,r,i),t.child)}function CE(e,t,r,n,i){if(Sr(r)){var a=!0;Gd(t)}else a=!1;if(Ho(t,i),t.stateNode===null)Ed(e,t),GI(t,r,n),sv(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=Sr(r)?Ha:sr.current,u=ts(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&EE(t,o,n,u),Mi=!1;var p=t.memoizedState;o.state=p,Zd(t,n,o,i),l=t.memoizedState,s!==n||p!==l||Er.current||Mi?(typeof c=="function"&&(ov(t,r,c,n),l=t.memoizedState),(s=Mi||bE(t,r,s,n,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,TI(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ln(t.type,s),o.props=u,d=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=Sr(r)?Ha:sr.current,l=ts(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&EE(t,o,n,l),Mi=!1,p=t.memoizedState,o.state=p,Zd(t,n,o,i);var g=t.memoizedState;s!==d||p!==g||Er.current||Mi?(typeof m=="function"&&(ov(t,r,m,n),g=t.memoizedState),(u=Mi||bE(t,r,u,n,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return cv(e,t,r,n,a,i)}function cv(e,t,r,n,i,a){ZI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&pE(t,r,!1),li(e,t,a);n=t.stateNode,dV.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,s,a)):ur(e,t,s,a),t.memoizedState=n.state,i&&pE(t,r,!0),t.child}function eC(e){var t=e.stateNode;t.pendingContext?hE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hE(e,t.context,!1),_0(e,t.containerInfo)}function OE(e,t,r,n,i){return rs(),p0(i),t.flags|=256,ur(e,t,r,n),t.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function fv(e){return{baseLanes:e,cachePool:null,transitions:null}}function tC(e,t,r){var n=t.pendingProps,i=Xe.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Xe,i&1),e===null)return iv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ch(o,n,0,null),e=za(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fv(r),t.memoizedState=dv,e):I0(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return fV(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ji(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ji(s,a):(a=za(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?fv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=dv,n}return a=e.child,e=a.sibling,n=Ji(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function I0(e,t){return t=Ch({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zc(e,t,r,n){return n!==null&&p0(n),ns(t,e.child,null,r),e=I0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fV(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Km(Error(W(422))),zc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ch({mode:"visible",children:n.children},i,0,null),a=za(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ns(t,e.child,null,o),t.child.memoizedState=fv(o),t.memoizedState=dv,a);if(!(t.mode&1))return zc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(W(419)),n=Km(a,n,void 0),zc(e,t,o,n)}if(s=(o&e.childLanes)!==0,xr||s){if(n=Lt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,si(e,i),mn(n,e,i,-1))}return R0(),n=Km(Error(W(421))),zc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,kr=Gi(i.nextSibling),Mr=t,He=!0,cn=null,e!==null&&(Kr[Hr++]=Xn,Kr[Hr++]=Jn,Kr[Hr++]=Ga,Xn=e.id,Jn=e.overflow,Ga=t),t=I0(t,n.children),t.flags|=4096,t)}function jE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),av(e.return,t,r)}function Hm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function rC(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jE(e,r,t);else if(e.tag===19)jE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ef(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ef(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hm(t,!0,r,null,a);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ed(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function li(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Ji(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ji(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hV(e,t,r){switch(t.tag){case 3:eC(t),rs();break;case 5:II(t);break;case 1:Sr(t.type)&&Gd(t);break;case 4:_0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Le(Xd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?tC(e,t,r):(Le(Xe,Xe.current&1),e=li(e,t,r),e!==null?e.sibling:null);Le(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,JI(e,t,r)}return li(e,t,r)}var nC,hv,iC,aC;nC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hv=function(){};iC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Da(kn.current);var a=null;switch(r){case"input":i=Dg(e,i),n=Dg(e,n),a=[];break;case"select":i=Ze({},i,{value:void 0}),n=Ze({},n,{value:void 0}),a=[];break;case"textarea":i=Vg(e,i),n=Vg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Kd)}$g(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};aC=function(e,t,r,n){r!==n&&(t.flags|=4)};function dl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pV(e,t,r){var n=t.pendingProps;switch(h0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Sr(t.type)&&Hd(),Zt(t),null;case 3:return n=t.stateNode,is(),qe(Er),qe(sr),b0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(xv(cn),cn=null))),hv(e,t),Zt(t),null;case 5:x0(t);var i=Da(iu.current);if(r=t.type,e!==null&&t.stateNode!=null)iC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Zt(t),null}if(e=Da(kn.current),Fc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[On]=t,n[ru]=a,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<Sl.length;i++)ze(Sl[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":$b(n,a),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ze("invalid",n);break;case"textarea":Ub(n,a),ze("invalid",n)}$g(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Vc(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Vc(n.textContent,s,e),i=["children",""+s]):Kl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":Oc(n),zb(n,a,!0);break;case"textarea":Oc(n),Bb(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Kd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[On]=t,e[ru]=n,nC(e,t,!1,!1),t.stateNode=e;e:{switch(o=zg(r,n),r){case"dialog":ze("cancel",e),ze("close",e),i=n;break;case"iframe":case"object":case"embed":ze("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sl.length;i++)ze(Sl[i],e);i=n;break;case"source":ze("error",e),i=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=n;break;case"details":ze("toggle",e),i=n;break;case"input":$b(e,n),i=Dg(e,n),ze("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ze({},n,{value:void 0}),ze("invalid",e);break;case"textarea":Ub(e,n),i=Vg(e,n),ze("invalid",e);break;default:i=n}$g(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?MT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hl(e,l):typeof l=="number"&&Hl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ze("scroll",e):l!=null&&Jy(e,a,l,o))}switch(r){case"input":Oc(e),zb(e,n,!1);break;case"textarea":Oc(e),Bb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ia(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Bo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)aC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Da(iu.current),Da(kn.current),Fc(t)){if(n=t.stateNode,r=t.memoizedProps,n[On]=t,(a=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:Vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[On]=t,t.stateNode=n}return Zt(t),null;case 13:if(qe(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&kr!==null&&t.mode&1&&!(t.flags&128))EI(),rs(),t.flags|=98560,a=!1;else if(a=Fc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[On]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else cn!==null&&(xv(cn),cn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?St===0&&(St=3):R0())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return is(),hv(e,t),e===null&&eu(t.stateNode.containerInfo),Zt(t),null;case 10:return v0(t.type._context),Zt(t),null;case 17:return Sr(t.type)&&Hd(),Zt(t),null;case 19:if(qe(Xe),a=t.memoizedState,a===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)dl(a,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ef(e),o!==null){for(t.flags|=128,dl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Xe,Xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ut()>os&&(t.flags|=128,n=!0,dl(a,!1),t.lanes=4194304)}else{if(!n)if(e=ef(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return Zt(t),null}else 2*ut()-a.renderingStartTime>os&&r!==1073741824&&(t.flags|=128,n=!0,dl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ut(),t.sibling=null,r=Xe.current,Le(Xe,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return k0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Or&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function mV(e,t){switch(h0(t),t.tag){case 1:return Sr(t.type)&&Hd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),qe(Er),qe(sr),b0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return x0(t),null;case 13:if(qe(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Xe),null;case 4:return is(),null;case 10:return v0(t.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var Uc=!1,nr=!1,gV=typeof WeakSet=="function"?WeakSet:Set,J=null;function Fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function pv(e,t,r){try{r()}catch(n){nt(e,t,n)}}var NE=!1;function vV(e,t){if(Xg=Bd,e=cI(),d0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(s=o),p===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jg={focusedElem:e,selectionRange:r},Bd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:ln(t.type,y),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){nt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=NE,NE=!1,g}function Ll(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&pv(t,r,a)}i=i.next}while(i!==n)}}function Th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oC(e){var t=e.alternate;t!==null&&(e.alternate=null,oC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[ru],delete t[tv],delete t[ZL],delete t[eV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sC(e){return e.tag===5||e.tag===3||e.tag===4}function kE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kd));else if(n!==4&&(e=e.child,e!==null))for(gv(e,t,r),e=e.sibling;e!==null;)gv(e,t,r),e=e.sibling}function vv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vv(e,t,r),e=e.sibling;e!==null;)vv(e,t,r),e=e.sibling}var qt=null,un=!1;function Ri(e,t,r){for(r=r.child;r!==null;)lC(e,t,r),r=r.sibling}function lC(e,t,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(wh,r)}catch{}switch(r.tag){case 5:nr||Fo(r,t);case 6:var n=qt,i=un;qt=null,Ri(e,t,r),qt=n,un=i,qt!==null&&(un?(e=qt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(un?(e=qt,r=r.stateNode,e.nodeType===8?$m(e.parentNode,r):e.nodeType===1&&$m(e,r),Xl(e)):$m(qt,r.stateNode));break;case 4:n=qt,i=un,qt=r.stateNode.containerInfo,un=!0,Ri(e,t,r),qt=n,un=i;break;case 0:case 11:case 14:case 15:if(!nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pv(r,t,o),i=i.next}while(i!==n)}Ri(e,t,r);break;case 1:if(!nr&&(Fo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){nt(r,t,s)}Ri(e,t,r);break;case 21:Ri(e,t,r);break;case 22:r.mode&1?(nr=(n=nr)||r.memoizedState!==null,Ri(e,t,r),nr=n):Ri(e,t,r);break;default:Ri(e,t,r)}}function RE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gV),t.forEach(function(n){var i=PV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function sn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:qt=s.stateNode,un=!1;break e;case 3:qt=s.stateNode.containerInfo,un=!0;break e;case 4:qt=s.stateNode.containerInfo,un=!0;break e}s=s.return}if(qt===null)throw Error(W(160));lC(a,o,i),qt=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uC(t,e),t=t.sibling}function uC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),Tn(e),n&4){try{Ll(3,e,e.return),Th(3,e)}catch(y){nt(e,e.return,y)}try{Ll(5,e,e.return)}catch(y){nt(e,e.return,y)}}break;case 1:sn(t,e),Tn(e),n&512&&r!==null&&Fo(r,r.return);break;case 5:if(sn(t,e),Tn(e),n&512&&r!==null&&Fo(r,r.return),e.flags&32){var i=e.stateNode;try{Hl(i,"")}catch(y){nt(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&jT(i,a),zg(s,o);var u=zg(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?MT(i,d):c==="dangerouslySetInnerHTML"?RT(i,d):c==="children"?Hl(i,d):Jy(i,c,d,u)}switch(s){case"input":Mg(i,a);break;case"textarea":NT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Bo(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Bo(i,!!a.multiple,a.defaultValue,!0):Bo(i,!!a.multiple,a.multiple?[]:"",!1))}i[ru]=a}catch(y){nt(e,e.return,y)}}break;case 6:if(sn(t,e),Tn(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){nt(e,e.return,y)}}break;case 3:if(sn(t,e),Tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(y){nt(e,e.return,y)}break;case 4:sn(t,e),Tn(e);break;case 13:sn(t,e),Tn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(j0=ut())),n&4&&RE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(nr=(u=nr)||c,sn(t,e),nr=u):sn(t,e),Tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ll(4,p,p.return);break;case 1:Fo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){nt(n,r,y)}}break;case 5:Fo(p,p.return);break;case 22:if(p.memoizedState!==null){ME(d);continue}}m!==null?(m.return=p,J=m):ME(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=DT("display",o))}catch(y){nt(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){nt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sn(t,e),Tn(e),n&4&&RE(e);break;case 21:break;default:sn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sC(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hl(i,""),n.flags&=-33);var a=kE(e);vv(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=kE(e);gv(e,s,o);break;default:throw Error(W(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yV(e,t,r){J=e,cC(e)}function cC(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Uc;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||nr;s=Uc;var u=nr;if(Uc=o,(nr=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?LE(i):l!==null?(l.return=o,J=l):LE(i);for(;a!==null;)J=a,cC(a),a=a.sibling;J=i,Uc=s,nr=u}DE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):DE(e)}}function DE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ln(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&wE(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wE(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nr||t.flags&512&&mv(t)}catch(p){nt(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function ME(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function LE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Th(4,t)}catch(l){nt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){nt(t,i,l)}}var a=t.return;try{mv(t)}catch(l){nt(t,a,l)}break;case 5:var o=t.return;try{mv(t)}catch(l){nt(t,o,l)}}}catch(l){nt(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var wV=Math.ceil,nf=xi.ReactCurrentDispatcher,C0=xi.ReactCurrentOwner,Xr=xi.ReactCurrentBatchConfig,Ee=0,Lt=null,ht=null,Gt=0,Or=0,$o=ma(0),St=0,lu=null,Ya=0,Ih=0,O0=0,Vl=null,wr=null,j0=0,os=1/0,Kn=null,af=!1,yv=null,Yi=null,Bc=!1,Bi=null,of=0,Fl=0,wv=null,Sd=-1,Ad=0;function fr(){return Ee&6?ut():Sd!==-1?Sd:Sd=ut()}function Xi(e){return e.mode&1?Ee&2&&Gt!==0?Gt&-Gt:rV.transition!==null?(Ad===0&&(Ad=GT()),Ad):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:tI(e.type)),e):1}function mn(e,t,r,n){if(50<Fl)throw Fl=0,wv=null,Error(W(185));ku(e,r,n),(!(Ee&2)||e!==Lt)&&(e===Lt&&(!(Ee&2)&&(Ih|=r),St===4&&$i(e,Gt)),Ar(e,n),r===1&&Ee===0&&!(t.mode&1)&&(os=ut()+500,Sh&&ga()))}function Ar(e,t){var r=e.callbackNode;rL(e,t);var n=Ud(e,e===Lt?Gt:0);if(n===0)r!==null&&Kb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Kb(r),t===1)e.tag===0?tV(VE.bind(null,e)):_I(VE.bind(null,e)),XL(function(){!(Ee&6)&&ga()}),r=null;else{switch(QT(n)){case 1:r=n0;break;case 4:r=KT;break;case 16:r=zd;break;case 536870912:r=HT;break;default:r=zd}r=yC(r,dC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dC(e,t){if(Sd=-1,Ad=0,Ee&6)throw Error(W(327));var r=e.callbackNode;if(Go()&&e.callbackNode!==r)return null;var n=Ud(e,e===Lt?Gt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sf(e,n);else{t=n;var i=Ee;Ee|=2;var a=hC();(Lt!==e||Gt!==t)&&(Kn=null,os=ut()+500,$a(e,t));do try{bV();break}catch(s){fC(e,s)}while(!0);g0(),nf.current=a,Ee=i,ht!==null?t=0:(Lt=null,Gt=0,t=St)}if(t!==0){if(t===2&&(i=Kg(e),i!==0&&(n=i,t=_v(e,i))),t===1)throw r=lu,$a(e,0),$i(e,n),Ar(e,ut()),r;if(t===6)$i(e,n);else{if(i=e.current.alternate,!(n&30)&&!_V(i)&&(t=sf(e,n),t===2&&(a=Kg(e),a!==0&&(n=a,t=_v(e,a))),t===1))throw r=lu,$a(e,0),$i(e,n),Ar(e,ut()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Ia(e,wr,Kn);break;case 3:if($i(e,n),(n&130023424)===n&&(t=j0+500-ut(),10<t)){if(Ud(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ev(Ia.bind(null,e,wr,Kn),t);break}Ia(e,wr,Kn);break;case 4:if($i(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-pn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wV(n/1960))-n,10<n){e.timeoutHandle=ev(Ia.bind(null,e,wr,Kn),n);break}Ia(e,wr,Kn);break;case 5:Ia(e,wr,Kn);break;default:throw Error(W(329))}}}return Ar(e,ut()),e.callbackNode===r?dC.bind(null,e):null}function _v(e,t){var r=Vl;return e.current.memoizedState.isDehydrated&&($a(e,t).flags|=256),e=sf(e,t),e!==2&&(t=wr,wr=r,t!==null&&xv(t)),e}function xv(e){wr===null?wr=e:wr.push.apply(wr,e)}function _V(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!vn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~O0,t&=~Ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pn(t),n=1<<r;e[r]=-1,t&=~n}}function VE(e){if(Ee&6)throw Error(W(327));Go();var t=Ud(e,0);if(!(t&1))return Ar(e,ut()),null;var r=sf(e,t);if(e.tag!==0&&r===2){var n=Kg(e);n!==0&&(t=n,r=_v(e,n))}if(r===1)throw r=lu,$a(e,0),$i(e,t),Ar(e,ut()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ia(e,wr,Kn),Ar(e,ut()),null}function N0(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(os=ut()+500,Sh&&ga())}}function Xa(e){Bi!==null&&Bi.tag===0&&!(Ee&6)&&Go();var t=Ee;Ee|=1;var r=Xr.transition,n=Ie;try{if(Xr.transition=null,Ie=1,e)return e()}finally{Ie=n,Xr.transition=r,Ee=t,!(Ee&6)&&ga()}}function k0(){Or=$o.current,qe($o)}function $a(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YL(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(h0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hd();break;case 3:is(),qe(Er),qe(sr),b0();break;case 5:x0(n);break;case 4:is();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:v0(n.type._context);break;case 22:case 23:k0()}r=r.return}if(Lt=e,ht=e=Ji(e.current,null),Gt=Or=t,St=0,lu=null,O0=Ih=Ya=0,wr=Vl=null,Ra!==null){for(t=0;t<Ra.length;t++)if(r=Ra[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ra=null}return e}function fC(e,t){do{var r=ht;try{if(g0(),xd.current=rf,tf){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tf=!1}if(Qa=0,Dt=xt=Je=null,Ml=!1,au=0,C0.current=null,r===null||r.return===null){St=1,lu=t,ht=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Gt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=AE(o);if(m!==null){m.flags&=-257,PE(m,o,s,a,t),m.mode&1&&SE(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){SE(a,u,t),R0();break e}l=Error(W(426))}}else if(He&&s.mode&1){var w=AE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),PE(w,o,s,a,t),p0(as(l,s));break e}}a=l=as(l,s),St!==4&&(St=2),Vl===null?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=QI(a,l,t);yE(a,x);break e;case 1:s=l;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Yi===null||!Yi.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=YI(a,s,t);yE(a,I);break e}}a=a.return}while(a!==null)}mC(r)}catch(j){t=j,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function hC(){var e=nf.current;return nf.current=rf,e===null?rf:e}function R0(){(St===0||St===3||St===2)&&(St=4),Lt===null||!(Ya&268435455)&&!(Ih&268435455)||$i(Lt,Gt)}function sf(e,t){var r=Ee;Ee|=2;var n=hC();(Lt!==e||Gt!==t)&&(Kn=null,$a(e,t));do try{xV();break}catch(i){fC(e,i)}while(!0);if(g0(),Ee=r,nf.current=n,ht!==null)throw Error(W(261));return Lt=null,Gt=0,St}function xV(){for(;ht!==null;)pC(ht)}function bV(){for(;ht!==null&&!HM();)pC(ht)}function pC(e){var t=vC(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?mC(e):ht=t,C0.current=null}function mC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mV(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,ht=null;return}}else if(r=pV(r,t,Or),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);St===0&&(St=5)}function Ia(e,t,r){var n=Ie,i=Xr.transition;try{Xr.transition=null,Ie=1,EV(e,t,r,n)}finally{Xr.transition=i,Ie=n}return null}function EV(e,t,r,n){do Go();while(Bi!==null);if(Ee&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(nL(e,a),e===Lt&&(ht=Lt=null,Gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bc||(Bc=!0,yC(zd,function(){return Go(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Xr.transition,Xr.transition=null;var o=Ie;Ie=1;var s=Ee;Ee|=4,C0.current=null,vV(e,r),uC(r,e),BL(Jg),Bd=!!Xg,Jg=Xg=null,e.current=r,yV(r),GM(),Ee=s,Ie=o,Xr.transition=a}else e.current=r;if(Bc&&(Bc=!1,Bi=e,of=i),a=e.pendingLanes,a===0&&(Yi=null),XM(r.stateNode),Ar(e,ut()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(af)throw af=!1,e=yv,yv=null,e;return of&1&&e.tag!==0&&Go(),a=e.pendingLanes,a&1?e===wv?Fl++:(Fl=0,wv=e):Fl=0,ga(),null}function Go(){if(Bi!==null){var e=QT(of),t=Xr.transition,r=Ie;try{if(Xr.transition=null,Ie=16>e?16:e,Bi===null)var n=!1;else{if(e=Bi,Bi=null,of=0,Ee&6)throw Error(W(331));var i=Ee;for(Ee|=4,J=e.current;J!==null;){var a=J,o=a.child;if(J.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ll(8,c,a)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(oC(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}J=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ll(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}var b=e.current;for(J=b;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=b;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Th(9,s)}}catch(j){nt(s,s.return,j)}if(s===o){J=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,J=I;break e}J=s.return}}if(Ee=i,ga(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(wh,e)}catch{}n=!0}return n}finally{Ie=r,Xr.transition=t}}return!1}function FE(e,t,r){t=as(r,t),t=QI(e,t,1),e=Qi(e,t,1),t=fr(),e!==null&&(ku(e,1,t),Ar(e,t))}function nt(e,t,r){if(e.tag===3)FE(e,e,r);else for(;t!==null;){if(t.tag===3){FE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yi===null||!Yi.has(n))){e=as(r,e),e=YI(t,e,1),t=Qi(t,e,1),e=fr(),t!==null&&(ku(t,1,e),Ar(t,e));break}}t=t.return}}function SV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Lt===e&&(Gt&r)===r&&(St===4||St===3&&(Gt&130023424)===Gt&&500>ut()-j0?$a(e,0):O0|=r),Ar(e,t)}function gC(e,t){t===0&&(e.mode&1?(t=kc,kc<<=1,!(kc&130023424)&&(kc=4194304)):t=1);var r=fr();e=si(e,t),e!==null&&(ku(e,t,r),Ar(e,r))}function AV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gC(e,r)}function PV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),gC(e,r)}var vC;vC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,hV(e,t,r);xr=!!(e.flags&131072)}else xr=!1,He&&t.flags&1048576&&xI(t,Yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ed(e,t),e=t.pendingProps;var i=ts(t,sr.current);Ho(t,r),i=S0(null,t,n,e,i,r);var a=A0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(n)?(a=!0,Gd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w0(t),i.updater=Ph,t.stateNode=i,i._reactInternals=t,sv(t,n,e,r),t=cv(null,t,n,!0,a,r)):(t.tag=0,He&&a&&f0(t),ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ed(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=IV(n),e=ln(n,e),i){case 0:t=uv(null,t,n,e,r);break e;case 1:t=CE(null,t,n,e,r);break e;case 11:t=TE(null,t,n,e,r);break e;case 14:t=IE(null,t,n,ln(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ln(n,i),uv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ln(n,i),CE(e,t,n,i,r);case 3:e:{if(eC(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,TI(e,t),Zd(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=as(Error(W(423)),t),t=OE(e,t,n,r,i);break e}else if(n!==i){i=as(Error(W(424)),t),t=OE(e,t,n,r,i);break e}else for(kr=Gi(t.stateNode.containerInfo.firstChild),Mr=t,He=!0,cn=null,r=AI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rs(),n===i){t=li(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return II(t),e===null&&iv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Zg(n,i)?o=null:a!==null&&Zg(n,a)&&(t.flags|=32),ZI(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&iv(t),null;case 13:return tC(e,t,r);case 4:return _0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ns(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ln(n,i),TE(e,t,n,i,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Le(Xd,n._currentValue),n._currentValue=o,a!==null)if(vn(a.value,o)){if(a.children===i.children&&!Er.current){t=li(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ti(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),av(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),av(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ho(t,r),i=Zr(i),n=n(i),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,i=ln(n,t.pendingProps),i=ln(n.type,i),IE(e,t,n,i,r);case 15:return XI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ln(n,i),Ed(e,t),t.tag=1,Sr(n)?(e=!0,Gd(t)):e=!1,Ho(t,r),GI(t,n,i),sv(t,n,i,r),cv(null,t,n,!0,e,r);case 19:return rC(e,t,r);case 22:return JI(e,t,r)}throw Error(W(156,t.tag))};function yC(e,t){return WT(e,t)}function TV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,r,n){return new TV(e,t,r,n)}function D0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IV(e){if(typeof e=="function")return D0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e0)return 11;if(e===t0)return 14}return 2}function Ji(e,t){var r=e.alternate;return r===null?(r=Qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pd(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")D0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Oo:return za(r.children,i,a,t);case Zy:o=8,i|=8;break;case jg:return e=Qr(12,r,t,i|2),e.elementType=jg,e.lanes=a,e;case Ng:return e=Qr(13,r,t,i),e.elementType=Ng,e.lanes=a,e;case kg:return e=Qr(19,r,t,i),e.elementType=kg,e.lanes=a,e;case IT:return Ch(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PT:o=10;break e;case TT:o=9;break e;case e0:o=11;break e;case t0:o=14;break e;case Di:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Qr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function za(e,t,r,n){return e=Qr(7,e,n,t),e.lanes=r,e}function Ch(e,t,r,n){return e=Qr(22,e,n,t),e.elementType=IT,e.lanes=r,e.stateNode={isHidden:!1},e}function Gm(e,t,r){return e=Qr(6,e,null,t),e.lanes=r,e}function Qm(e,t,r){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M0(e,t,r,n,i,a,o,s,l){return e=new CV(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},w0(a),e}function OV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wC(e){if(!e)return aa;e=e._reactInternals;e:{if(lo(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Sr(r))return wI(e,r,t)}return t}function _C(e,t,r,n,i,a,o,s,l){return e=M0(r,n,!0,e,i,a,o,s,l),e.context=wC(null),r=e.current,n=fr(),i=Xi(r),a=ti(n,i),a.callback=t??null,Qi(r,a,i),e.current.lanes=i,ku(e,i,n),Ar(e,n),e}function Oh(e,t,r,n){var i=t.current,a=fr(),o=Xi(i);return r=wC(r),t.context===null?t.context=r:t.pendingContext=r,t=ti(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qi(i,t,o),e!==null&&(mn(e,i,o,a),_d(e,i,o)),o}function lf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $E(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function L0(e,t){$E(e,t),(e=e.alternate)&&$E(e,t)}function jV(){return null}var xC=typeof reportError=="function"?reportError:function(e){console.error(e)};function V0(e){this._internalRoot=e}jh.prototype.render=V0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Oh(e,t,null,null)};jh.prototype.unmount=V0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xa(function(){Oh(null,e,null,null)}),t[oi]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=JT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fi.length&&t!==0&&t<Fi[r].priority;r++);Fi.splice(r,0,e),r===0&&eI(e)}};function F0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zE(){}function NV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=lf(o);a.call(u)}}var o=_C(t,n,e,0,null,!1,!1,"",zE);return e._reactRootContainer=o,e[oi]=o.current,eu(e.nodeType===8?e.parentNode:e),Xa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=lf(l);s.call(u)}}var l=M0(e,0,!1,null,null,!1,!1,"",zE);return e._reactRootContainer=l,e[oi]=l.current,eu(e.nodeType===8?e.parentNode:e),Xa(function(){Oh(t,l,r,n)}),l}function kh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=lf(o);s.call(l)}}Oh(t,o,e,i)}else o=NV(r,t,e,i,n);return lf(o)}YT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=El(t.pendingLanes);r!==0&&(i0(t,r|1),Ar(t,ut()),!(Ee&6)&&(os=ut()+500,ga()))}break;case 13:Xa(function(){var n=si(e,1);if(n!==null){var i=fr();mn(n,e,1,i)}}),L0(e,1)}};a0=function(e){if(e.tag===13){var t=si(e,134217728);if(t!==null){var r=fr();mn(t,e,134217728,r)}L0(e,134217728)}};XT=function(e){if(e.tag===13){var t=Xi(e),r=si(e,t);if(r!==null){var n=fr();mn(r,e,t,n)}L0(e,t)}};JT=function(){return Ie};ZT=function(e,t){var r=Ie;try{return Ie=e,t()}finally{Ie=r}};Bg=function(e,t,r){switch(t){case"input":if(Mg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Eh(n);if(!i)throw Error(W(90));OT(n),Mg(n,i)}}}break;case"textarea":NT(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};FT=N0;$T=Xa;var kV={usingClientEntryPoint:!1,Events:[Du,Ro,Eh,LT,VT,N0]},fl={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RV={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BT(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||jV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{wh=qc.inject(RV),Nn=qc}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kV;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(t))throw Error(W(200));return OV(e,t,null,r)};$r.createRoot=function(e,t){if(!F0(e))throw Error(W(299));var r=!1,n="",i=xC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=M0(e,1,!1,null,null,r,!1,n,i),e[oi]=t.current,eu(e.nodeType===8?e.parentNode:e),new V0(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=BT(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return Xa(e)};$r.hydrate=function(e,t,r){if(!Nh(t))throw Error(W(200));return kh(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!F0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=xC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_C(t,null,e,1,r??null,i,!1,a,o),e[oi]=t.current,eu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jh(t)};$r.render=function(e,t,r){if(!Nh(t))throw Error(W(200));return kh(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!Nh(e))throw Error(W(40));return e._reactRootContainer?(Xa(function(){kh(null,null,e,!1,function(){e._reactRootContainer=null,e[oi]=null})}),!0):!1};$r.unstable_batchedUpdates=N0;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return kh(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function bC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bC)}catch(e){console.error(e)}}bC(),bT.exports=$r;var Fn=bT.exports,UE=Fn;Cg.createRoot=UE.createRoot,Cg.hydrateRoot=UE.hydrateRoot;const BE="incidents",qE="automation_rules",WE="system_tags",DV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ae={getIncidents:()=>{try{const e=localStorage.getItem(BE);if(!e)return[];const t=JSON.parse(e);return DV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(BE,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ae.getIncidents();return t.push(e),ae.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ae.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ae.saveIncidents(r)),r},deleteIncident:e=>{const t=ae.getIncidents().filter(r=>r.id!==e);return ae.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ae.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ae.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r)),r},addTag:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r),ae.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ae.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ae.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(WE);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(WE,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ae.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ae.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ae.getSystemTags().filter(r=>r!==e);return ae.saveSystemTags(t),t},getAllTags:()=>ae.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ae.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ae.saveIncidents(t),ae.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ae.getIncidents(),a=i.find(o=>o.id===e);if(a){const o={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(o)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(o)),a.updatedAt=new Date().toISOString(),ae.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ae.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ae.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ae.getIncidents(),o=a.find(s=>s.id===e);if(o){let s=t==="qa2"?o.prQA2List:o.prMainList;if(s){const l=s.findIndex(u=>u.id===r);l!==-1&&(s[l]={...s[l],link:n,description:i},o.updatedAt=new Date().toISOString(),ae.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(qE);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(qE,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ae.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ae.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ae.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ae.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ae.getAutomationRules().filter(r=>r.id!==e);return ae.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ae.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(o=>{const s=n[o.field];switch(o.operator){case"equals":return s===o.value;case"not-equals":return s!==o.value;case"greater-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>o.value:!1;case"less-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<o.value:!1;case"contains":return o.field==="has-tag"&&n.tags?n.tags.includes(o.value):!1;default:return!1}})&&i.actions.forEach(o=>{switch(o.type){case"set-priority":n.priority=o.value;break;case"set-status":n.status=o.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(o.value)||n.tags.push(o.value);break;case"assign-to":n.assignedTo=o.value;break}})}),n}},KE="users",Wc="current_user",st={getUsers:()=>{const e=localStorage.getItem(KE);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(KE,JSON.stringify(e))},createUser:(e,t,r)=>{const n=st.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),st.saveUsers(n),i},login:(e,t)=>{const n=st.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Wc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Wc)},getCurrentUser:()=>{const e=localStorage.getItem(Wc);return e?JSON.parse(e):null},isAuthenticated:()=>st.getCurrentUser()!==null,initializeDefaultUser:()=>{st.getUsers().length===0&&st.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=st.getUsers(),n=r.findIndex(o=>o.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(o=>o.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,st.saveUsers(r);const a=st.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Wc,JSON.stringify(i)),i},deleteUser:e=>{const t=st.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");st.saveUsers(r)}},MV=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},LV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},SC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):LV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new VV;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class VV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FV=function(e){const t=EC(e);return SC.encodeByteArray(t,!0)},uf=function(e){return FV(e).replace(/\./g,"")},$V=function(e){try{return SC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=()=>zV().__FIREBASE_DEFAULTS__,BV=()=>{if(typeof process>"u"||typeof HE>"u")return;const e=HE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$V(e[1]);return t&&JSON.parse(t)},$0=()=>{try{return MV()||UV()||BV()||qV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},WV=e=>{var t,r;return(r=(t=$0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},KV=e=>{const t=WV(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},AC=()=>{var e;return(e=$0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GV(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[uf(JSON.stringify(r)),uf(JSON.stringify(o)),""].join(".")}const $l={};function YV(){const e={prod:[],emulator:[]};for(const t of Object.keys($l))$l[t]?e.emulator.push(t):e.prod.push(t);return e}function XV(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let GE=!1;function JV(e,t){if(typeof window>"u"||typeof document>"u"||!z0(window.location.host)||$l[e]===t||$l[e]||GE)return;$l[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=YV().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{GE=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=XV(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),y=r("learnmore"),w=document.getElementById(y)||document.createElement("a"),x=r("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),c(w,y);const I=u();l(b,x),E.append(b,g,w,I),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e4(){var t;const e=(t=$0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t4(){return!e4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r4(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="FirebaseError";class Ts extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=i4,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PC.prototype.create)}}class PC{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?a4(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,s,n)}}function a4(e,t){return e.replace(o4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const o4=/\{\$([^}]+)}/g;function cf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(QE(a)&&QE(o)){if(!cf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function QE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e){return e&&e._delegate?e._delegate:e}class uu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new HV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u4(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:l4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l4(e){return e===Ca?void 0:e}function u4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new s4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));const d4={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},f4=be.INFO,h4={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},p4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=h4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TC{constructor(t){this.name=t,this._logLevel=f4,this._logHandler=p4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const m4=(e,t)=>t.some(r=>e instanceof r);let YE,XE;function g4(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v4(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,bv=new WeakMap,CC=new WeakMap,Ym=new WeakMap,U0=new WeakMap;function y4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Zi(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&IC.set(r,e)}).catch(()=>{}),U0.set(t,e),t}function w4(e){if(bv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});bv.set(e,t)}let Ev={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return bv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||CC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Zi(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _4(e){Ev=e(Ev)}function x4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Xm(this),t,...r);return CC.set(n,t.sort?t.sort():[t]),Zi(n)}:v4().includes(e)?function(...t){return e.apply(Xm(this),t),Zi(IC.get(this))}:function(...t){return Zi(e.apply(Xm(this),t))}}function b4(e){return typeof e=="function"?x4(e):(e instanceof IDBTransaction&&w4(e),m4(e,g4())?new Proxy(e,Ev):e)}function Zi(e){if(e instanceof IDBRequest)return y4(e);if(Ym.has(e))return Ym.get(e);const t=b4(e);return t!==e&&(Ym.set(e,t),U0.set(t,e)),t}const Xm=e=>U0.get(e);function E4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Zi(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Zi(o.result),l.oldVersion,l.newVersion,Zi(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const S4=["get","getKey","getAll","getAllKeys","count"],A4=["put","add","delete","clear"],Jm=new Map;function JE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jm.get(t))return Jm.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=A4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||S4.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Jm.set(t,a),a}_4(e=>({...e,get:(t,r,n)=>JE(t,r)||e.get(t,r,n),has:(t,r)=>!!JE(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(T4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function T4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sv="@firebase/app",ZE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new TC("@firebase/app"),I4="@firebase/app-compat",C4="@firebase/analytics-compat",O4="@firebase/analytics",j4="@firebase/app-check-compat",N4="@firebase/app-check",k4="@firebase/auth",R4="@firebase/auth-compat",D4="@firebase/database",M4="@firebase/data-connect",L4="@firebase/database-compat",V4="@firebase/functions",F4="@firebase/functions-compat",$4="@firebase/installations",z4="@firebase/installations-compat",U4="@firebase/messaging",B4="@firebase/messaging-compat",q4="@firebase/performance",W4="@firebase/performance-compat",K4="@firebase/remote-config",H4="@firebase/remote-config-compat",G4="@firebase/storage",Q4="@firebase/storage-compat",Y4="@firebase/firestore",X4="@firebase/ai",J4="@firebase/firestore-compat",Z4="firebase",e3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="[DEFAULT]",t3={[Sv]:"fire-core",[I4]:"fire-core-compat",[O4]:"fire-analytics",[C4]:"fire-analytics-compat",[N4]:"fire-app-check",[j4]:"fire-app-check-compat",[k4]:"fire-auth",[R4]:"fire-auth-compat",[D4]:"fire-rtdb",[M4]:"fire-data-connect",[L4]:"fire-rtdb-compat",[V4]:"fire-fn",[F4]:"fire-fn-compat",[$4]:"fire-iid",[z4]:"fire-iid-compat",[U4]:"fire-fcm",[B4]:"fire-fcm-compat",[q4]:"fire-perf",[W4]:"fire-perf-compat",[K4]:"fire-rc",[H4]:"fire-rc-compat",[G4]:"fire-gcs",[Q4]:"fire-gcs-compat",[Y4]:"fire-fst",[J4]:"fire-fst-compat",[X4]:"fire-vertex","fire-js":"fire-js",[Z4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,r3=new Map,Pv=new Map;function e1(e,t){try{e.container.addComponent(t)}catch(r){ui.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ff(e){const t=e.name;if(Pv.has(t))return ui.debug(`There were multiple attempts to register component ${t}.`),!1;Pv.set(t,e);for(const r of df.values())e1(r,e);for(const r of r3.values())e1(r,e);return!0}function n3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function i3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new PC("app","Firebase",a3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=e3;function OC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Av,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw ea.create("bad-app-name",{appName:String(i)});if(r||(r=AC()),!r)throw ea.create("no-options");const a=df.get(i);if(a){if(cf(r,a.options)&&cf(n,a.config))return a;throw ea.create("duplicate-app",{appName:i})}const o=new c4(i);for(const l of Pv.values())o.addComponent(l);const s=new o3(r,n,o);return df.set(i,s),s}function l3(e=Av){const t=df.get(e);if(!t&&e===Av&&AC())return OC();if(!t)throw ea.create("no-app",{appName:e});return t}function Qo(e,t,r){let n=t3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ui.warn(o.join(" "));return}ff(new uu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebase-heartbeat-database",c3=1,cu="firebase-heartbeat-store";let Zm=null;function jC(){return Zm||(Zm=E4(u3,c3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cu)}catch(r){console.warn(r)}}}}).catch(e=>{throw ea.create("idb-open",{originalErrorMessage:e.message})})),Zm}async function d3(e){try{const r=(await jC()).transaction(cu),n=await r.objectStore(cu).get(NC(e));return await r.done,n}catch(t){if(t instanceof Ts)ui.warn(t.message);else{const r=ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ui.warn(r.message)}}}async function t1(e,t){try{const n=(await jC()).transaction(cu,"readwrite");await n.objectStore(cu).put(t,NC(e)),await n.done}catch(r){if(r instanceof Ts)ui.warn(r.message);else{const n=ea.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ui.warn(n.message)}}}function NC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1024,h3=30;class p3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new g3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>h3){const o=v3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ui.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=r1(),{heartbeatsToSend:n,unsentEntries:i}=m3(this._heartbeatsCache.heartbeats),a=uf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ui.warn(r),""}}}function r1(){return new Date().toISOString().substring(0,10)}function m3(e,t=f3){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),n1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),n1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class g3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r4()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await d3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return t1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return t1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function n1(e){return uf(JSON.stringify({version:2,heartbeats:e})).length}function v3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(e){ff(new uu("platform-logger",t=>new P4(t),"PRIVATE")),ff(new uu("heartbeat",t=>new p3(t),"PRIVATE")),Qo(Sv,ZE,e),Qo(Sv,ZE,"esm2020"),Qo("fire-js","")}y3("");var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,kC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(D,T,k){for(var O=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)O[Q-2]=arguments[Q];return A.prototype[T].apply(D,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,C){C||(C=0);const D=Array(16);if(typeof A=="string")for(var T=0;T<16;++T)D[T]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(T=0;T<16;++T)D[T]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],T=S.g[2];let k=S.g[3],O;O=A+(k^C&(T^k))+D[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[2]+606105819&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[3]+3250441966&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[6]+2821735955&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[7]+4249261313&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[10]+4294925233&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[11]+2304563134&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(k^C&(T^k))+D[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(T^A&(C^T))+D[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=T+(C^k&(A^C))+D[14]+2792965006&4294967295,T=k+(O<<17&4294967295|O>>>15),O=C+(A^T&(k^A))+D[15]+1236535329&4294967295,C=T+(O<<22&4294967295|O>>>10),O=A+(T^k&(C^T))+D[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[11]+643717713&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[0]+3921069994&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[15]+3634488961&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[4]+3889429448&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[3]+4107603335&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[8]+1163531501&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(T^k&(C^T))+D[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^T&(A^C))+D[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=T+(A^C&(k^A))+D[7]+1735328473&4294967295,T=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(T^k))+D[12]+2368359562&4294967295,C=T+(O<<20&4294967295|O>>>12),O=A+(C^T^k)+D[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[11]+1839030562&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[14]+4259657740&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[7]+4139469664&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[10]+3200236656&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[3]+3572445317&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[6]+76029189&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(C^T^k)+D[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^T)+D[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=T+(k^A^C)+D[15]+530742520&4294967295,T=k+(O<<16&4294967295|O>>>16),O=C+(T^k^A)+D[2]+3299628645&4294967295,C=T+(O<<23&4294967295|O>>>9),O=A+(T^(C|~k))+D[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[14]+2878612391&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[5]+4237533241&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[10]+4293915773&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[1]+2240044497&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[6]+2734768916&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[13]+1309151649&4294967295,C=T+(O<<21&4294967295|O>>>11),O=A+(T^(C|~k))+D[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~T))+D[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=T+(A^(k|~C))+D[2]+718787259&4294967295,T=k+(O<<15&4294967295|O>>>17),O=C+(k^(T|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+k&4294967295}n.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,D=this.C;let T=this.h,k=0;for(;k<A;){if(T==0)for(;k<=C;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(D[T++]=S.charCodeAt(k++),T==this.blockSize){i(this,D),T=0;break}}else for(;k<A;)if(D[T++]=S[k++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=A},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)S[A++]=this.g[C]>>>D&255;return S};function a(S,A){var C=s;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function o(S,A){this.h=A;const C=[];let D=!0;for(let T=S.length-1;T>=0;T--){const k=S[T]|0;D&&k==A||(C[T]=k,D=!1)}this.g=C}var s={};function l(S){return-128<=S&&S<128?a(S,function(A){return new o([A|0],A<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(S<0)return w(u(-S));const A=[];let C=1;for(let D=0;S>=C;D++)A[D]=S/C|0,C*=4294967296;return new o(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return w(c(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(A,8));let D=d;for(let k=0;k<S.length;k+=8){var T=Math.min(8,S.length-k);const O=parseInt(S.substring(k,k+T),A);T<8?(T=u(Math.pow(A,T)),D=D.j(T).add(u(O))):(D=D.j(C),D=D.add(u(O)))}return D}var d=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-w(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);S+=(D>=0?D:4294967296+D)*A,A*=4294967296}return S},e.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+w(this).toString(S);const A=u(Math.pow(S,6));var C=this;let D="";for(;;){const T=I(C,A).g;C=x(C,T.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=T,g(C))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},e.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function y(S){return S.h==-1}e.l=function(S){return S=x(this,S),y(S)?-1:g(S)?0:1};function w(S){const A=S.g.length,C=[];for(let D=0;D<A;D++)C[D]=~S.g[D];return new o(C,~S.h).add(p)}e.abs=function(){return y(this)?w(this):this},e.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let D=0;for(let T=0;T<=A;T++){let k=D+(this.i(T)&65535)+(S.i(T)&65535),O=(k>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);D=O>>>16,k&=65535,O&=65535,C[T]=O<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,A){return S.add(w(A))}e.j=function(S){if(g(this)||g(S))return d;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<S.g.length;T++){const k=this.i(D)>>>16,O=this.i(D)&65535,Q=S.i(T)>>>16,se=S.i(T)&65535;C[2*D+2*T]+=O*se,b(C,2*D+2*T),C[2*D+2*T+1]+=k*se,b(C,2*D+2*T+1),C[2*D+2*T+1]+=O*Q,b(C,2*D+2*T+1),C[2*D+2*T+2]+=k*Q,b(C,2*D+2*T+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new o(C,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function E(S,A){this.g=S,this.h=A}function I(S,A){if(g(A))throw Error("division by zero");if(g(S))return new E(d,d);if(y(S))return A=I(w(S),A),new E(w(A.g),w(A.h));if(y(A))return A=I(S,w(A)),new E(w(A.g),A.h);if(S.g.length>30){if(y(S)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var C=p,D=A;D.l(S)<=0;)C=j(C),D=j(D);var T=R(C,1),k=R(D,1);for(D=R(D,2),C=R(C,2);!g(D);){var O=k.add(D);O.l(S)<=0&&(T=T.add(C),k=O),D=R(D,1),C=R(C,1)}return A=x(S,T.j(A)),new E(T,A)}for(T=d;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=u(C),O=k.j(A);y(O)||O.l(S)>0;)C-=D,k=u(C),O=k.j(A);g(k)&&(k=p),T=T.add(k),S=x(S,O)}return new E(T,S)}e.B=function(S){return I(this,S).h},e.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)&S.i(D);return new o(C,this.h&S.h)},e.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)|S.i(D);return new o(C,this.h|S.h)},e.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)^S.i(D);return new o(C,this.h^S.h)};function j(S){const A=S.g.length+1,C=[];for(let D=0;D<A;D++)C[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(C,S.h)}function R(S,A){const C=A>>5;A%=32;const D=S.g.length-C,T=[];for(let k=0;k<D;k++)T[k]=A>0?S.i(k+C)>>>A|S.i(k+C+1)<<32-A:S.i(k+C);return new o(T,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,kC=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ta=o}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RC,Al,DC,Td,Tv,MC,LC,VC;(function(){var e,t=Object.defineProperty;function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var v=0;v<f.length;++v){var P=f[v];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,v){if(v)e:{var P=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var M=f[N];if(!(M in P))break e;P=P[M]}f=f[f.length-1],N=P[f],v=v(N),v!=N&&v!=null&&t(P,f,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(v){var P=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&P.push([N,v[N]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function l(f,v,P){return f.call.apply(f.bind,arguments)}function u(f,v,P){return u=l,u.apply(null,arguments)}function c(f,v){var P=Array.prototype.slice.call(arguments,1);return function(){var N=P.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function d(f,v){function P(){}P.prototype=v.prototype,f.Z=v.prototype,f.prototype=new P,f.prototype.constructor=f,f.Ob=function(N,M,V){for(var H=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)H[pe-2]=arguments[pe];return v.prototype[M].apply(N,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function m(f){const v=f.length;if(v>0){const P=Array(v);for(let N=0;N<v;N++)P[N]=f[N];return P}return[]}function g(f,v){for(let N=1;N<arguments.length;N++){const M=arguments[N];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=f.length||0;const V=M.length||0;f.length=P+V;for(let H=0;H<V;H++)f[P+H]=M[H]}else f.push(M)}}class y{constructor(v,P){this.i=v,this.j=P,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(f){o.setTimeout(()=>{throw f},0)}function x(){var f=S;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class b{constructor(){this.h=this.g=null}add(v,P){const N=E.get();N.set(v,P),this.h?this.h.next=N:this.g=N,this.h=N}}var E=new y(()=>new I,f=>f.reset());class I{constructor(){this.next=this.g=this.h=null}set(v,P){this.h=v,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let j,R=!1,S=new b,A=()=>{const f=Promise.resolve(void 0);j=()=>{f.then(C)}};function C(){for(var f;f=x();){try{f.h.call(f.g)}catch(P){w(P)}var v=E;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}R=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,v),o.removeEventListener("test",P,v)}catch{}return f}();function O(f){return/^[\s\xa0]*$/.test(f)}function Q(f,v){T.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}d(Q,T),Q.prototype.init=function(f,v){const P=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(P=="mouseover"?v=f.fromElement:P=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),fe=0;function le(f,v,P,N,M){this.listener=f,this.proxy=null,this.src=v,this.type=P,this.capture=!!N,this.ha=M,this.key=++fe,this.da=this.fa=!1}function U(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,v,P){for(const N in f)v.call(P,f[N],N,f)}function re(f,v){for(const P in f)v.call(void 0,f[P],P,f)}function me(f){const v={};for(const P in f)v[P]=f[P];return v}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(f,v){let P,N;for(let M=1;M<arguments.length;M++){N=arguments[M];for(P in N)f[P]=N[P];for(let V=0;V<_e.length;V++)P=_e[V],Object.prototype.hasOwnProperty.call(N,P)&&(f[P]=N[P])}}function je(f){this.src=f,this.g={},this.h=0}je.prototype.add=function(f,v,P,N,M){const V=f.toString();f=this.g[V],f||(f=this.g[V]=[],this.h++);const H=wt(f,v,N,M);return H>-1?(v=f[H],P||(v.fa=!1)):(v=new le(v,this.src,V,!!N,M),v.fa=P,f.push(v)),v};function zt(f,v){const P=v.type;if(P in f.g){var N=f.g[P],M=Array.prototype.indexOf.call(N,v,void 0),V;(V=M>=0)&&Array.prototype.splice.call(N,M,1),V&&(U(v),f.g[P].length==0&&(delete f.g[P],f.h--))}}function wt(f,v,P,N){for(let M=0;M<f.length;++M){const V=f[M];if(!V.da&&V.listener==v&&V.capture==!!P&&V.ha==N)return M}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Wn={};function B(f,v,P,N,M){if(Array.isArray(v)){for(let V=0;V<v.length;V++)B(f,v[V],P,N,M);return null}return P=Xt(P),f&&f[se]?f.J(v,P,s(N)?!!N.capture:!1,M):he(f,v,P,!1,N,M)}function he(f,v,P,N,M,V){if(!v)throw Error("Invalid event type");const H=s(M)?!!M.capture:!!M;let pe=ce(f);if(pe||(f[Fe]=pe=new je(f)),P=pe.add(v,P,N,H,V),P.proxy)return P;if(N=ve(),P.proxy=N,N.src=f,N.listener=P,f.addEventListener)k||(M=H),M===void 0&&(M=!1),f.addEventListener(v.toString(),N,M);else if(f.attachEvent)f.attachEvent(G(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ve(){function f(P){return v.call(f.src,f.listener,P)}const v=ie;return f}function q(f,v,P,N,M){if(Array.isArray(v))for(var V=0;V<v.length;V++)q(f,v[V],P,N,M);else N=s(N)?!!N.capture:!!N,P=Xt(P),f&&f[se]?(f=f.i,V=String(v).toString(),V in f.g&&(v=f.g[V],P=wt(v,P,N,M),P>-1&&(U(v[P]),Array.prototype.splice.call(v,P,1),v.length==0&&(delete f.g[V],f.h--)))):f&&(f=ce(f))&&(v=f.g[v.toString()],f=-1,v&&(f=wt(v,P,N,M)),(P=f>-1?v[f]:null)&&z(P))}function z(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[se])zt(v.i,f);else{var P=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(P,N,f.capture):v.detachEvent?v.detachEvent(G(P),N):v.addListener&&v.removeListener&&v.removeListener(N),(P=ce(v))?(zt(P,f),P.h==0&&(P.src=null,v[Fe]=null)):U(f)}}}function G(f){return f in Wn?Wn[f]:Wn[f]="on"+f}function ie(f,v){if(f.da)f=!0;else{v=new Q(v,this);const P=f.listener,N=f.ha||f.src;f.fa&&z(f),f=P.call(N,v)}return f}function ce(f){return f=f[Fe],f instanceof je?f:null}var Oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(f){return typeof f=="function"?f:(f[Oe]||(f[Oe]=function(v){return f.handleEvent(v)}),f[Oe])}function We(){D.call(this),this.i=new je(this),this.M=this,this.G=null}d(We,D),We.prototype[se]=!0,We.prototype.removeEventListener=function(f,v,P,N){q(this,f,v,P,N)};function Ut(f,v){var P,N=f.G;if(N)for(P=[];N;N=N.G)P.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new T(v,f);else if(v instanceof T)v.target=v.target||f;else{var M=v;v=new T(N,f),yt(v,M)}M=!0;let V,H;if(P)for(H=P.length-1;H>=0;H--)V=v.g=P[H],M=gc(V,N,!0,v)&&M;if(V=v.g=f,M=gc(V,N,!0,v)&&M,M=gc(V,N,!1,v)&&M,P)for(H=0;H<P.length;H++)V=v.g=P[H],M=gc(V,N,!1,v)&&M}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const P=f.g[v];for(let N=0;N<P.length;N++)U(P[N]);delete f.g[v],f.h--}}this.G=null},We.prototype.J=function(f,v,P,N){return this.i.add(String(f),v,!1,P,N)},We.prototype.K=function(f,v,P,N){return this.i.add(String(f),v,!0,P,N)};function gc(f,v,P,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let M=!0;for(let V=0;V<v.length;++V){const H=v[V];if(H&&!H.da&&H.capture==P){const pe=H.listener,_t=H.ha||H.src;H.fa&&zt(f.i,H),M=pe.call(_t,N)!==!1&&M}}return M&&!N.defaultPrevented}function RD(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:o.setTimeout(f,v||0)}function $x(f){f.g=RD(()=>{f.g=null,f.i&&(f.i=!1,$x(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class DD extends D{constructor(v,P){super(),this.m=v,this.l=P,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$x(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(f){D.call(this),this.h=f,this.g={}}d(Bs,D);var zx=[];function Ux(f){K(f.g,function(v,P){this.g.hasOwnProperty(P)&&z(v)},f),f.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),Ux(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var om=o.JSON.stringify,MD=o.JSON.parse,LD=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Bx(){}function qx(){}var qs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sm(){T.call(this,"d")}d(sm,T);function lm(){T.call(this,"c")}d(lm,T);var ba={},Wx=null;function vc(){return Wx=Wx||new We}ba.Ia="serverreachability";function Kx(f){T.call(this,ba.Ia,f)}d(Kx,T);function Ws(f){const v=vc();Ut(v,new Kx(v))}ba.STAT_EVENT="statevent";function Hx(f,v){T.call(this,ba.STAT_EVENT,f),this.stat=v}d(Hx,T);function lr(f){const v=vc();Ut(v,new Hx(v,f))}ba.Ja="timingevent";function Gx(f,v){T.call(this,ba.Ja,f),this.size=v}d(Gx,T);function Ks(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},v)}function Hs(){this.g=!0}Hs.prototype.ua=function(){this.g=!1};function VD(f,v,P,N,M,V){f.info(function(){if(f.g)if(V){var H="",pe=V.split("&");for(let Ne=0;Ne<pe.length;Ne++){var _t=pe[Ne].split("=");if(_t.length>1){const Ot=_t[0];_t=_t[1];const Pn=Ot.split("_");H=Pn.length>=2&&Pn[1]=="type"?H+(Ot+"="+_t+"&"):H+(Ot+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+N+") [attempt "+M+"]: "+v+`
`+P+`
`+H})}function FD(f,v,P,N,M,V,H){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+M+"]: "+v+`
`+P+`
`+V+" "+H})}function go(f,v,P,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+zD(f,P)+(N?" "+N:"")})}function $D(f,v){f.info(function(){return"TIMEOUT: "+v})}Hs.prototype.info=function(){};function zD(f,v){if(!f.g)return v;if(!v)return null;try{const V=JSON.parse(v);if(V){for(f=0;f<V.length;f++)if(Array.isArray(V[f])){var P=V[f];if(!(P.length<2)){var N=P[1];if(Array.isArray(N)&&!(N.length<1)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<N.length;H++)N[H]=""}}}}return om(V)}catch{return v}}var yc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yx;function um(){}d(um,Bx),um.prototype.g=function(){return new XMLHttpRequest},Yx=new um;function Gs(f){return encodeURIComponent(String(f))}function UD(f){var v=1;f=f.split(":");const P=[];for(;v>0&&f.length;)P.push(f.shift()),v--;return f.length&&P.push(f.join(":")),P}function Ii(f,v,P,N){this.j=f,this.i=v,this.l=P,this.S=N||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xx}function Xx(){this.i=null,this.g="",this.h=!1}var Jx={},cm={};function dm(f,v,P){f.M=1,f.A=_c(An(v)),f.u=P,f.R=!0,Zx(f,null)}function Zx(f,v){f.F=Date.now(),wc(f),f.B=An(f.A);var P=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),fb(P.i,"t",N),f.C=0,P=f.j.L,f.h=new Xx,f.g=Ob(f.j,P?v:null,!f.u),f.P>0&&(f.O=new DD(u(f.Y,f,f.g),f.P)),v=f.V,P=f.g,N=f.ba;var M="readystatechange";Array.isArray(M)||(M&&(zx[0]=M.toString()),M=zx);for(let V=0;V<M.length;V++){const H=B(P,M[V],N||v.handleEvent,!1,v.h||v);if(!H)break;v.g[H.key]=H}v=f.J?me(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Ws(),VD(f.i,f.v,f.B,f.l,f.S,f.u)}Ii.prototype.ba=function(f){f=f.target;const v=this.O;v&&ji(f)==3?v.j():this.Y(f)},Ii.prototype.Y=function(f){try{if(f==this.g)e:{const pe=ji(this.g),_t=this.g.ya(),Ne=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||wb(this.g)))){this.K||pe!=4||_t==7||(_t==8||Ne<=0?Ws(3):Ws(2)),fm(this);var v=this.g.ca();this.X=v;var P=BD(this);if(this.o=v==200,FD(this.i,this.v,this.B,this.l,this.S,pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,M=this.g;if((N=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var V=N;break t}}V=null}if(f=V)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hm(this,f);else{this.o=!1,this.m=3,lr(12),Ea(this),Qs(this);break e}}if(this.R){f=!0;let Ot;for(;!this.K&&this.C<P.length;)if(Ot=qD(this,P),Ot==cm){pe==4&&(this.m=4,lr(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Jx){this.m=4,lr(15),go(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,Ot,null),hm(this,Ot);if(eb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||P.length!=0||this.h.h||(this.m=1,lr(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,P,"[Invalid Chunked Response]"),Ea(this),Qs(this);else if(P.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),xm(H),H.P=!0,lr(11))}}else go(this.i,this.l,P,null),hm(this,P);pe==4&&Ea(this),this.o&&!this.K&&(pe==4?Pb(this.j,this):(this.o=!1,wc(this)))}else iM(this.g),v==400&&P.indexOf("Unknown SID")>0?(this.m=3,lr(12)):(this.m=0,lr(13)),Ea(this),Qs(this)}}}catch{}finally{}};function BD(f){if(!eb(f))return f.g.la();const v=wb(f.g);if(v==="")return"";let P="";const N=v.length,M=ji(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ea(f),Qs(f),"";f.h.i=new o.TextDecoder}for(let V=0;V<N;V++)f.h.h=!0,P+=f.h.i.decode(v[V],{stream:!(M&&V==N-1)});return v.length=0,f.h.g+=P,f.C=0,f.h.g}function eb(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qD(f,v){var P=f.C,N=v.indexOf(`
`,P);return N==-1?cm:(P=Number(v.substring(P,N)),isNaN(P)?Jx:(N+=1,N+P>v.length?cm:(v=v.slice(N,N+P),f.C=N+P,v)))}Ii.prototype.cancel=function(){this.K=!0,Ea(this)};function wc(f){f.T=Date.now()+f.H,tb(f,f.H)}function tb(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ks(u(f.aa,f),v)}function fm(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Ii.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?($D(this.i,this.B),this.M!=2&&(Ws(),lr(17)),Ea(this),this.m=2,Qs(this)):tb(this,this.T-f)};function Qs(f){f.j.I==0||f.K||Pb(f.j,f)}function Ea(f){fm(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Ux(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function hm(f,v){try{var P=f.j;if(P.I!=0&&(P.g==f||pm(P.h,f))){if(!f.L&&pm(P.h,f)&&P.I==3){try{var N=P.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var M=N;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<f.F)Ac(P),Ec(P);else break e;_m(P),lr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ks(u(P.Va,P),6e3));ib(P.h)<=1&&P.ta&&(P.ta=void 0)}else Aa(P,11)}else if((f.L||P.g==f)&&Ac(P),!O(v))for(M=P.Ba.g.parse(v),v=0;v<M.length;v++){let Ne=M[v];const Ot=Ne[0];if(!(Ot<=P.K))if(P.K=Ot,Ne=Ne[1],P.I==2)if(Ne[0]=="c"){P.M=Ne[1],P.ba=Ne[2];const Pn=Ne[3];Pn!=null&&(P.ka=Pn,P.j.info("VER="+P.ka));const Pa=Ne[4];Pa!=null&&(P.za=Pa,P.j.info("SVER="+P.za));const Ni=Ne[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(N=1.5*Ni,P.O=N,P.j.info("backChannelRequestTimeoutMs_="+N)),N=P;const ki=f.g;if(ki){const Tc=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var V=N.h;V.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(mm(V,V.h),V.h=null))}if(N.G){const bm=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;bm&&(N.wa=bm,$e(N.J,N.G,bm))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-f.F,P.j.info("Handshake RTT: "+P.T+"ms")),N=P;var H=f;if(N.na=Cb(N,N.L?N.ba:null,N.W),H.L){ab(N.h,H);var pe=H,_t=N.O;_t&&(pe.H=_t),pe.D&&(fm(pe),wc(pe)),N.g=H}else Sb(N);P.i.length>0&&Sc(P)}else Ne[0]!="stop"&&Ne[0]!="close"||Aa(P,7);else P.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Aa(P,7):wm(P):Ne[0]!="noop"&&P.l&&P.l.qa(Ne),P.A=0)}}Ws(4)}catch{}}var WD=class{constructor(f,v){this.g=f,this.map=v}};function rb(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ib(f){return f.h?1:f.g?f.g.size:0}function pm(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function mm(f,v){f.g?f.g.add(v):f.h=v}function ab(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}rb.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ob(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const P of f.g.values())v=v.concat(P.G);return v}return m(f.i)}var sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KD(f,v){if(f){f=f.split("&");for(let P=0;P<f.length;P++){const N=f[P].indexOf("=");let M,V=null;N>=0?(M=f[P].substring(0,N),V=f[P].substring(N+1)):M=f[P],v(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ci(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Ci?(this.l=f.l,Ys(this,f.j),this.o=f.o,this.g=f.g,Xs(this,f.u),this.h=f.h,gm(this,hb(f.i)),this.m=f.m):f&&(v=String(f).match(sb))?(this.l=!1,Ys(this,v[1]||"",!0),this.o=Js(v[2]||""),this.g=Js(v[3]||"",!0),Xs(this,v[4]),this.h=Js(v[5]||"",!0),gm(this,v[6]||"",!0),this.m=Js(v[7]||"")):(this.l=!1,this.i=new el(null,this.l))}Ci.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Zs(v,lb,!0),":");var P=this.g;return(P||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Zs(v,lb,!0),"@"),f.push(Gs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&f.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(Zs(P,P.charAt(0)=="/"?QD:GD,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Zs(P,XD)),f.join("")},Ci.prototype.resolve=function(f){const v=An(this);let P=!!f.j;P?Ys(v,f.j):P=!!f.o,P?v.o=f.o:P=!!f.g,P?v.g=f.g:P=f.u!=null;var N=f.h;if(P)Xs(v,f.u);else if(P=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var M=v.h.lastIndexOf("/");M!=-1&&(N=v.h.slice(0,M+1)+N)}if(M=N,M==".."||M==".")N="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){N=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let H=0;H<M.length;){const pe=M[H++];pe=="."?N&&H==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&H==M.length&&V.push("")):(V.push(pe),N=!0)}N=V.join("/")}else N=M}return P?v.h=N:P=f.i.toString()!=="",P?gm(v,hb(f.i)):P=!!f.m,P&&(v.m=f.m),v};function An(f){return new Ci(f)}function Ys(f,v,P){f.j=P?Js(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Xs(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function gm(f,v,P){v instanceof el?(f.i=v,JD(f.i,f.l)):(P||(v=Zs(v,YD)),f.i=new el(v,f.l))}function $e(f,v,P){f.i.set(v,P)}function _c(f){return $e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Js(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zs(f,v,P){return typeof f=="string"?(f=encodeURI(f).replace(v,HD),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function HD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var lb=/[#\/\?@]/g,GD=/[#\?:]/g,QD=/[#\?]/g,YD=/[#\?@]/g,XD=/#/g;function el(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Sa(f){f.g||(f.g=new Map,f.h=0,f.i&&KD(f.i,function(v,P){f.add(decodeURIComponent(v.replace(/\+/g," ")),P)}))}e=el.prototype,e.add=function(f,v){Sa(this),this.i=null,f=vo(this,f);let P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(v),this.h+=1,this};function ub(f,v){Sa(f),v=vo(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function cb(f,v){return Sa(f),v=vo(f,v),f.g.has(v)}e.forEach=function(f,v){Sa(this),this.g.forEach(function(P,N){P.forEach(function(M){f.call(v,M,N,this)},this)},this)};function db(f,v){Sa(f);let P=[];if(typeof v=="string")cb(f,v)&&(P=P.concat(f.g.get(vo(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)P=P.concat(f[v]);return P}e.set=function(f,v){return Sa(this),this.i=null,f=vo(this,f),cb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=db(this,f),f.length>0?String(f[0]):v):v};function fb(f,v,P){ub(f,v),P.length>0&&(f.i=null,f.g.set(vo(f,v),m(P)),f.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var P=v[N];const M=Gs(P);P=db(this,P);for(let V=0;V<P.length;V++){let H=M;P[V]!==""&&(H+="="+Gs(P[V])),f.push(H)}}return this.i=f.join("&")};function hb(f){const v=new el;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function vo(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function JD(f,v){v&&!f.j&&(Sa(f),f.i=null,f.g.forEach(function(P,N){const M=N.toLowerCase();N!=M&&(ub(this,N),fb(this,M,P))},f)),f.j=v}function ZD(f,v){const P=new Hs;if(o.Image){const N=new Image;N.onload=c(Oi,P,"TestLoadImage: loaded",!0,v,N),N.onerror=c(Oi,P,"TestLoadImage: error",!1,v,N),N.onabort=c(Oi,P,"TestLoadImage: abort",!1,v,N),N.ontimeout=c(Oi,P,"TestLoadImage: timeout",!1,v,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function eM(f,v){const P=new Hs,N=new AbortController,M=setTimeout(()=>{N.abort(),Oi(P,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(V=>{clearTimeout(M),V.ok?Oi(P,"TestPingServer: ok",!0,v):Oi(P,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(M),Oi(P,"TestPingServer: error",!1,v)})}function Oi(f,v,P,N,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),N(P)}catch{}}function tM(){this.g=new LD}function vm(f){this.i=f.Sb||null,this.h=f.ab||!1}d(vm,Bx),vm.prototype.g=function(){return new xc(this.i,this.h)};function xc(f,v){We.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(xc,We),e=xc.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,rl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||o).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pb(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function pb(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?tl(this):rl(this),this.readyState==3&&pb(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,tl(this))},e.Na=function(f){this.g&&(this.response=f,tl(this))},e.ga=function(){this.g&&tl(this)};function tl(f){f.readyState=4,f.l=null,f.j=null,f.B=null,rl(f)}e.setRequestHeader=function(f,v){this.A.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var P=v.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=v.next();return f.join(`\r
`)};function rl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mb(f){let v="";return K(f,function(P,N){v+=N,v+=":",v+=P,v+=`\r
`}),v}function ym(f,v,P){e:{for(N in P){var N=!1;break e}N=!0}N||(P=mb(P),typeof f=="string"?P!=null&&Gs(P):$e(f,v,P))}function rt(f){We.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(rt,We);var rM=/^https?$/i,nM=["POST","PUT"];e=rt.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,v,P,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yx.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(V){gb(this,V);return}if(f=P||"",P=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var M in N)P.set(M,N[M]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())P.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(nM,v,void 0)>=0)||N||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of P)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(V){gb(this,V)}};function gb(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,vb(f),bc(f)}function vb(f){f.A||(f.A=!0,Ut(f,"complete"),Ut(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ut(this,"complete"),Ut(this,"abort"),bc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),rt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?yb(this):this.Xa())},e.Xa=function(){yb(this)};function yb(f){if(f.h&&typeof a<"u"){if(f.v&&ji(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ut(f,"readystatechange"),ji(f)==4){f.h=!1;try{const V=f.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var P;if(!(P=v)){var N;if(N=V===0){let H=String(f.D).match(sb)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),N=!rM.test(H?H.toLowerCase():"")}P=N}if(P)Ut(f,"complete"),Ut(f,"success");else{f.o=6;try{var M=ji(f)>2?f.g.statusText:""}catch{M=""}f.l=M+" ["+f.ca()+"]",vb(f)}}finally{bc(f)}}}}function bc(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const P=f.g;f.g=null,v||Ut(f,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ji(f){return f.g?f.g.readyState:0}e.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),MD(v)}};function wb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function iM(f){const v={};f=(f.g&&ji(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(O(f[N]))continue;var P=UD(f[N]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=v[M]||[];v[M]=V,V.push(P)}re(v,function(N){return N.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nl(f,v,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||v}function _b(f){this.za=0,this.i=[],this.j=new Hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nl("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nl("baseRetryDelayMs",5e3,f),this.Za=nl("retryDelaySeedMs",1e4,f),this.Ta=nl("forwardChannelMaxRetries",2,f),this.va=nl("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new rb(f&&f.concurrentRequestLimit),this.Ba=new tM,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=_b.prototype,e.ka=8,e.I=1,e.connect=function(f,v,P,N){lr(0),this.W=f,this.H=v||{},P&&N!==void 0&&(this.H.OSID=P,this.H.OAID=N),this.F=this.X,this.J=Cb(this,null,this.W),Sc(this)};function wm(f){if(xb(f),f.I==3){var v=f.V++,P=An(f.J);if($e(P,"SID",f.M),$e(P,"RID",v),$e(P,"TYPE","terminate"),il(f,P),v=new Ii(f,f.j,v),v.M=2,v.A=_c(An(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(v.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=v.A,P=!0),P||(v.g=Ob(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wc(v)}Ib(f)}function Ec(f){f.g&&(xm(f),f.g.cancel(),f.g=null)}function xb(f){Ec(f),f.v&&(o.clearTimeout(f.v),f.v=null),Ac(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function Sc(f){if(!nb(f.h)&&!f.m){f.m=!0;var v=f.Ea;j||A(),R||(j(),R=!0),S.add(v,f),f.D=0}}function aM(f,v){return ib(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ks(u(f.Ea,f,v),Tb(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const M=new Ii(this,this.j,f);let V=this.o;if(this.U&&(V?(V=me(V),yt(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var v=0,P=0;P<this.i.length;P++){t:{var N=this.i[P];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=P;break e}if(v===4096||P===this.i.length-1){v=P+1;break e}}v=1e3}else v=1e3;v=Eb(this,M,v),P=An(this.J),$e(P,"RID",f),$e(P,"CVER",22),this.G&&$e(P,"X-HTTP-Session-Id",this.G),il(this,P),V&&(this.R?v="headers="+Gs(mb(V))+"&"+v:this.u&&ym(P,this.u,V)),mm(this.h,M),this.Ra&&$e(P,"TYPE","init"),this.S?($e(P,"$req",v),$e(P,"SID","null"),M.U=!0,dm(M,P,null)):dm(M,P,v),this.I=2}}else this.I==3&&(f?bb(this,f):this.i.length==0||nb(this.h)||bb(this))};function bb(f,v){var P;v?P=v.l:P=f.V++;const N=An(f.J);$e(N,"SID",f.M),$e(N,"RID",P),$e(N,"AID",f.K),il(f,N),f.u&&f.o&&ym(N,f.u,f.o),P=new Ii(f,f.j,P,f.D+1),f.u===null&&(P.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Eb(f,P,1e3),P.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),mm(f.h,P),dm(P,N,v)}function il(f,v){f.H&&K(f.H,function(P,N){$e(v,N,P)}),f.l&&K({},function(P,N){$e(v,N,P)})}function Eb(f,v,P){P=Math.min(f.i.length,P);const N=f.l?u(f.l.Ka,f.l,f):null;e:{var M=f.i;let pe=-1;for(;;){const _t=["count="+P];pe==-1?P>0?(pe=M[0].g,_t.push("ofs="+pe)):pe=0:_t.push("ofs="+pe);let Ne=!0;for(let Ot=0;Ot<P;Ot++){var V=M[Ot].g;const Pn=M[Ot].map;if(V-=pe,V<0)pe=Math.max(0,M[Ot].g-100),Ne=!1;else try{V="req"+V+"_"||"";try{var H=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Pa,Ni]of H){let ki=Ni;s(Ni)&&(ki=om(Ni)),_t.push(V+Pa+"="+encodeURIComponent(ki))}}catch(Pa){throw _t.push(V+"type="+encodeURIComponent("_badmap")),Pa}}catch{N&&N(Pn)}}if(Ne){H=_t.join("&");break e}}H=void 0}return f=f.i.splice(0,P),v.G=f,H}function Sb(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;j||A(),R||(j(),R=!0),S.add(v,f),f.A=0}}function _m(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ks(u(f.Da,f),Tb(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,Ab(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ks(u(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lr(10),Ec(this),Ab(this))};function xm(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function Ab(f){f.g=new Ii(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=An(f.na);$e(v,"RID","rpc"),$e(v,"SID",f.M),$e(v,"AID",f.K),$e(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&$e(v,"TO",f.ia),$e(v,"TYPE","xmlhttp"),il(f,v),f.u&&f.o&&ym(v,f.u,f.o),f.O&&(f.g.H=f.O);var P=f.g;f=f.ba,P.M=1,P.A=_c(An(v)),P.u=null,P.R=!0,Zx(P,f)}e.Va=function(){this.C!=null&&(this.C=null,Ec(this),_m(this),lr(19))};function Ac(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Pb(f,v){var P=null;if(f.g==v){Ac(f),xm(f),f.g=null;var N=2}else if(pm(f.h,v))P=v.G,ab(f.h,v),N=1;else return;if(f.I!=0){if(v.o)if(N==1){P=v.u?v.u.length:0,v=Date.now()-v.F;var M=f.D;N=vc(),Ut(N,new Gx(N,P)),Sc(f)}else Sb(f);else if(M=v.m,M==3||M==0&&v.X>0||!(N==1&&aM(f,v)||N==2&&_m(f)))switch(P&&P.length>0&&(v=f.h,v.i=v.i.concat(P)),M){case 1:Aa(f,5);break;case 4:Aa(f,10);break;case 3:Aa(f,6);break;default:Aa(f,2)}}}function Tb(f,v){let P=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(P*=2),P*v}function Aa(f,v){if(f.j.info("Error code "+v),v==2){var P=u(f.bb,f),N=f.Ua;const M=!N;N=new Ci(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ys(N,"https"),_c(N),M?ZD(N.toString(),P):eM(N.toString(),P)}else lr(2);f.I=0,f.l&&f.l.pa(v),Ib(f),xb(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))};function Ib(f){if(f.I=0,f.ja=[],f.l){const v=ob(f.h);(v.length!=0||f.i.length!=0)&&(g(f.ja,v),g(f.ja,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.oa()}}function Cb(f,v,P){var N=P instanceof Ci?An(P):new Ci(P);if(N.g!="")v&&(N.g=v+"."+N.g),Xs(N,N.u);else{var M=o.location;N=M.protocol,v=v?v+"."+M.hostname:M.hostname,M=+M.port;const V=new Ci(null);N&&Ys(V,N),v&&(V.g=v),M&&Xs(V,M),P&&(V.h=P),N=V}return P=f.G,v=f.wa,P&&v&&$e(N,P,v),$e(N,"VER",f.ka),il(f,N),N}function Ob(f,v,P){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new rt(new vm({ab:P})):new rt(f.ma),v.Fa(f.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function jb(){}e=jb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Pc(){}Pc.prototype.g=function(f,v){return new Cr(f,v)};function Cr(f,v){We.call(this),this.g=new _b(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!O(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new yo(this)}d(Cr,We),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){wm(this.g)},Cr.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.v&&(P={},P.__data__=om(f),f=P);v.i.push(new WD(v.Ya++,f)),v.I==3&&Sc(v)},Cr.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,Cr.Z.N.call(this)};function Nb(f){sm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const P in v){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}d(Nb,sm);function kb(){lm.call(this),this.status=1}d(kb,lm);function yo(f){this.g=f}d(yo,jb),yo.prototype.ra=function(){Ut(this.g,"a")},yo.prototype.qa=function(f){Ut(this.g,new Nb(f))},yo.prototype.pa=function(f){Ut(this.g,new kb)},yo.prototype.oa=function(){Ut(this.g,"b")},Pc.prototype.createWebChannel=Pc.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,VC=function(){return new Pc},LC=function(){return vc()},MC=ba,Tv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,Td=yc,Qx.COMPLETE="complete",DC=Qx,qx.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",We.prototype.listen=We.prototype.J,Al=qx,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,RC=rt}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const a1="@firebase/firestore",o1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new TC("@firebase/firestore");function So(){return Ja.logLevel}function X(e,...t){if(Ja.logLevel<=be.DEBUG){const r=t.map(B0);Ja.debug(`Firestore (${Is}): ${e}`,...r)}}function ci(e,...t){if(Ja.logLevel<=be.ERROR){const r=t.map(B0);Ja.error(`Firestore (${Is}): ${e}`,...r)}}function ss(e,...t){if(Ja.logLevel<=be.WARN){const r=t.map(B0);Ja.warn(`Firestore (${Is}): ${e}`,...r)}}function B0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,FC(e,n,r)}function FC(e,t,r){let n=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ci(n),new Error(n)}function Pe(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||FC(t,i,n)}function de(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ts{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class w3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(rr.UNAUTHENTICATED))}shutdown(){}}class _3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(t){this.t=t,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Pe(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Pe(typeof n.accessToken=="string",31837,{l:n}),new $C(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new rr(t)}}class b3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new b3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,i3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Pe(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Pe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new s1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=A3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function ye(e,t){return e<t?-1:e>t?1:0}function Iv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return eg(i)===eg(a)?ye(i,a):eg(i)?1:-1}return ye(e.length,t.length)}const P3=55296,T3=57343;function eg(e){const t=e.charCodeAt(0);return t>=P3&&t<=T3}function ls(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__name__";class Cn{constructor(t,r,n){r===void 0?r=0:r>t.length&&oe(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&oe(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Cn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Cn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Cn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return ye(t.length,r.length)}static compareSegments(t,r){const n=Cn.isNumericId(t),i=Cn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Cn.extractNumericId(t).compare(Cn.extractNumericId(r)):Iv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ta.fromString(t.substring(4,t.length-2))}}class Me extends Cn{construct(t,r,n){return new Me(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Me(r)}static emptyPath(){return new Me([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Cn{construct(t,r,n){return new Kt(t,r,n)}static isValidIdentifier(t){return I3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l1}static keyField(){return new Kt([l1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kt(r)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.path=t}static fromPath(t){return new ne(Me.fromString(t))}static fromName(t){return new ne(Me.fromString(t).popFirst(5))}static empty(){return new ne(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Me.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ne(new Me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function C3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function u1(e){if(!ne.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function c1(e){if(ne.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function UC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Rh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":oe(12329,{type:typeof e})}function Pr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Rh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Lu(e,t){if(!UC(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const o=e[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=-62135596800,f1=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*f1);return new Be(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<d1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f1}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lu(t,Be._jsonSchema))return new Be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-d1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:mt("string",Be._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(t){return new ue(t)}static min(){return new ue(new Be(0,0))}static max(){return new ue(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function O3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(n===1e9?new Be(r+1,0):new Be(r,n));return new oa(i,ne.empty(),t)}function j3(e){return new oa(e.readTime,e.key,du)}class oa{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new oa(ue.min(),ne.empty(),du)}static max(){return new oa(ue.max(),ne.empty(),du)}}function N3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ne.comparator(e.documentKey,t.documentKey),r!==0?r:ye(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==k3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof $?r:$.resolve(r)}catch(r){return $.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):$.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):$.reject(r)}static resolve(t){return new $((r,n)=>{r(t)})}static reject(t){return new $((r,n)=>{n(t)})}static waitFor(t){return new $((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=$.resolve(!1);for(const n of t)r=r.next(i=>i?$.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new $((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new $((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function D3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Os(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-1;function Mh(e){return e==null}function hf(e){return e===0&&1/e==-1/0}function M3(e){return typeof e=="number"&&Number.isInteger(e)&&!hf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="";function L3(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=h1(t)),t=V3(e.get(r),t);return h1(t)}function V3(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case BC:r+="";break;default:r+=a}}return r}function h1(e){return e+BC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function va(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function qC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,r){this.comparator=t,this.root=r||Wt.EMPTY}insert(t,r){return new et(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wt{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Wt.RED,this.left=i??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Wt(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw oe(27949);return t+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Wt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new m1(this.data.getIterator())}getIteratorFrom(t){return new m1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof At)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new At(this.comparator);return r.data=t,r}}class m1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.fields=t,t.sort(Kt.comparator)}static empty(){return new Rr([])}unionWith(t){let r=new At(Kt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Rr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ls(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new WC("Invalid base64 string: "+a):a}}(t);return new Yt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new Yt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(e){if(Pe(!!e,39018),typeof e=="string"){let t=0;const r=F3.exec(e);if(Pe(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:lt(e.seconds),nanos:lt(e.nanos)}}function lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function la(e){return typeof e=="string"?Yt.fromBase64String(e):Yt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="server_timestamp",HC="__type__",GC="__previous_value__",QC="__local_write_time__";function K0(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[HC])==null?void 0:n.stringValue)===KC}function Lh(e){const t=e.mapValue.fields[GC];return K0(t)?Lh(t):t}function fu(e){const t=sa(e.mapValue.fields[QC].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(t,r,n,i,a,o,s,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const pf="(default)";class hu{constructor(t,r){this.projectId=t,this.database=r||pf}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__type__",z3="__max__",Gc={mapValue:{}},XC="__vector__",mf="value";function ua(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?K0(e)?4:B3(e)?9007199254740991:U3(e)?10:11:oe(28295,{value:e})}function zn(e,t){if(e===t)return!0;const r=ua(e);if(r!==ua(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fu(e).isEqual(fu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=sa(i.timestampValue),s=sa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return la(i.bytesValue).isEqual(la(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return lt(i.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return lt(i.integerValue)===lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=lt(i.doubleValue),s=lt(a.doubleValue);return o===s?hf(o)===hf(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return ls(e.arrayValue.values||[],t.arrayValue.values||[],zn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(p1(o)!==p1(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!zn(o[l],s[l])))return!1;return!0}(e,t);default:return oe(52216,{left:e})}}function pu(e,t){return(e.values||[]).find(r=>zn(r,t))!==void 0}function us(e,t){if(e===t)return 0;const r=ua(e),n=ua(t);if(r!==n)return ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ye(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=lt(a.integerValue||a.doubleValue),l=lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return g1(e.timestampValue,t.timestampValue);case 4:return g1(fu(e),fu(t));case 5:return Iv(e.stringValue,t.stringValue);case 6:return function(a,o){const s=la(a),l=la(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=ye(lt(a.latitude),lt(o.latitude));return s!==0?s:ye(lt(a.longitude),lt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return v1(e.arrayValue,t.arrayValue);case 10:return function(a,o){var p,m,g,y;const s=a.fields||{},l=o.fields||{},u=(p=s[mf])==null?void 0:p.arrayValue,c=(m=l[mf])==null?void 0:m.arrayValue,d=ye(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:v1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===Gc.mapValue&&o===Gc.mapValue)return 0;if(a===Gc.mapValue)return 1;if(o===Gc.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Iv(l[d],c[d]);if(p!==0)return p;const m=us(s[l[d]],u[c[d]]);if(m!==0)return m}return ye(l.length,c.length)}(e.mapValue,t.mapValue);default:throw oe(23264,{he:r})}}function g1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ye(e,t);const r=sa(e),n=sa(t),i=ye(r.seconds,n.seconds);return i!==0?i:ye(r.nanos,n.nanos)}function v1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=us(r[i],n[i]);if(a)return a}return ye(r.length,n.length)}function cs(e){return Cv(e)}function Cv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=sa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return la(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ne.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Cv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Cv(r.fields[o])}`;return i+"}"}(e.mapValue):oe(61005,{value:e})}function Id(e){switch(ua(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(e);return t?16+Id(t):16;case 5:return 2*e.stringValue.length;case 6:return la(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Id(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return va(n.fields,(a,o)=>{i+=a.length+Id(o)}),i}(e.mapValue);default:throw oe(13486,{value:e})}}function y1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ov(e){return!!e&&"integerValue"in e}function H0(e){return!!e&&"arrayValue"in e}function w1(e){return!!e&&"nullValue"in e}function _1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cd(e){return!!e&&"mapValue"in e}function U3(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[YC])==null?void 0:n.stringValue)===XC}function zl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return va(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=zl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=zl(e.arrayValue.values[r]);return t}return{...e}}function B3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===z3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.value=t}static empty(){return new _r({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Cd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(r)}setAll(t){let r=Kt.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=zl(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Cd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return zn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){va(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new _r(zl(this.value))}}function JC(e){const t=[];return va(e.fields,(r,n)=>{const i=new Kt([r]);if(Cd(n)){const a=JC(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new Rr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new ir(t,0,ue.min(),ue.min(),ue.min(),_r.empty(),0)}static newFoundDocument(t,r,n,i){return new ir(t,1,r,ue.min(),n,i,0)}static newNoDocument(t,r){return new ir(t,2,r,ue.min(),ue.min(),_r.empty(),0)}static newUnknownDocument(t,r){return new ir(t,3,r,ue.min(),ue.min(),_r.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ir&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,r){this.position=t,this.inclusive=r}}function x1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=ne.comparator(ne.fromName(o.referenceValue),r.key):n=us(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function b1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!zn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,r="asc"){this.field=t,this.dir=r}}function q3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{}class pt extends ZC{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new K3(t,r,n):r==="array-contains"?new Q3(t,n):r==="in"?new Y3(t,n):r==="not-in"?new X3(t,n):r==="array-contains-any"?new J3(t,n):new pt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new H3(t,n):new G3(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(us(r,this.value)):r!==null&&ua(this.value)===ua(r)&&this.matchesComparison(us(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends ZC{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new yn(t,r)}matches(t){return eO(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eO(e){return e.op==="and"}function tO(e){return W3(e)&&eO(e)}function W3(e){for(const t of e.filters)if(t instanceof yn)return!1;return!0}function jv(e){if(e instanceof pt)return e.field.canonicalString()+e.op.toString()+cs(e.value);if(tO(e))return e.filters.map(t=>jv(t)).join(",");{const t=e.filters.map(r=>jv(r)).join(",");return`${e.op}(${t})`}}function rO(e,t){return e instanceof pt?function(n,i){return i instanceof pt&&n.op===i.op&&n.field.isEqual(i.field)&&zn(n.value,i.value)}(e,t):e instanceof yn?function(n,i){return i instanceof yn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&rO(o,i.filters[s]),!0):!1}(e,t):void oe(19439)}function nO(e){return e instanceof pt?function(r){return`${r.field.canonicalString()} ${r.op} ${cs(r.value)}`}(e):e instanceof yn?function(r){return r.op.toString()+" {"+r.getFilters().map(nO).join(" ,")+"}"}(e):"Filter"}class K3 extends pt{constructor(t,r,n){super(t,r,n),this.key=ne.fromName(n.referenceValue)}matches(t){const r=ne.comparator(t.key,this.key);return this.matchesComparison(r)}}class H3 extends pt{constructor(t,r){super(t,"in",r),this.keys=iO("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class G3 extends pt{constructor(t,r){super(t,"not-in",r),this.keys=iO("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function iO(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ne.fromName(n.referenceValue))}class Q3 extends pt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return H0(r)&&pu(r.arrayValue,this.value)}}class Y3 extends pt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&pu(this.value.arrayValue,r)}}class X3 extends pt{constructor(t,r){super(t,"not-in",r)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!pu(this.value.arrayValue,r)}}class J3 extends pt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!H0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>pu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function E1(e,t=null,r=[],n=[],i=null,a=null,o=null){return new Z3(e,t,r,n,i,a,o)}function G0(e){const t=de(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>jv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Mh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>cs(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>cs(n)).join(",")),t.Te=r}return t.Te}function Q0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!q3(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!rO(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!b1(e.startAt,t.startAt)&&b1(e.endAt,t.endAt)}function Nv(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eF(e,t,r,n,i,a,o,s){return new Vu(e,t,r,n,i,a,o,s)}function Vh(e){return new Vu(e)}function S1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aO(e){return e.collectionGroup!==null}function Ul(e){const t=de(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new At(Kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new vf(a,n))}),r.has(Kt.keyField().canonicalString())||t.Ie.push(new vf(Kt.keyField(),n))}return t.Ie}function Rn(e){const t=de(e);return t.Ee||(t.Ee=tF(t,Ul(e))),t.Ee}function tF(e,t){if(e.limitType==="F")return E1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new vf(i.field,a)});const r=e.endAt?new gf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new gf(e.startAt.position,e.startAt.inclusive):null;return E1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function kv(e,t){const r=e.filters.concat([t]);return new Vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Rv(e,t,r){return new Vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Fh(e,t){return Q0(Rn(e),Rn(t))&&e.limitType===t.limitType}function oO(e){return`${G0(Rn(e))}|lt:${e.limitType}`}function Ao(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>nO(i)).join(", ")}]`),Mh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cs(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cs(i)).join(",")),`Target(${n})`}(Rn(e))}; limitType=${e.limitType})`}function $h(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ne.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Ul(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=x1(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Ul(n),i)||n.endAt&&!function(o,s,l){const u=x1(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Ul(n),i))}(e,t)}function rF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sO(e){return(t,r)=>{let n=!1;for(const i of Ul(e)){const a=nF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function nF(e,t,r){const n=e.field.isKeyField()?ne.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?us(l,u):oe(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return oe(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){va(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return qC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new et(ne.comparator);function di(){return iF}const lO=new et(ne.comparator);function Pl(...e){let t=lO;for(const r of e)t=t.insert(r.key,r);return t}function uO(e){let t=lO;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ma(){return Bl()}function cO(){return Bl()}function Bl(){return new uo(e=>e.toString(),(e,t)=>e.isEqual(t))}const aF=new et(ne.comparator),oF=new At(ne.comparator);function we(...e){let t=oF;for(const r of e)t=t.add(r);return t}const sF=new At(ye);function lF(){return sF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(t)?"-0":t}}function dO(e){return{integerValue:""+e}}function uF(e,t){return M3(t)?dO(t):Y0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function cF(e,t,r){return e instanceof yf?function(i,a){const o={fields:{[HC]:{stringValue:KC},[QC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&K0(a)&&(a=Lh(a)),a&&(o.fields[GC]=a),{mapValue:o}}(r,t):e instanceof mu?hO(e,t):e instanceof gu?pO(e,t):function(i,a){const o=fO(i,a),s=A1(o)+A1(i.Ae);return Ov(o)&&Ov(i.Ae)?dO(s):Y0(i.serializer,s)}(e,t)}function dF(e,t,r){return e instanceof mu?hO(e,t):e instanceof gu?pO(e,t):r}function fO(e,t){return e instanceof wf?function(n){return Ov(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class yf extends zh{}class mu extends zh{constructor(t){super(),this.elements=t}}function hO(e,t){const r=mO(t);for(const n of e.elements)r.some(i=>zn(i,n))||r.push(n);return{arrayValue:{values:r}}}class gu extends zh{constructor(t){super(),this.elements=t}}function pO(e,t){let r=mO(t);for(const n of e.elements)r=r.filter(i=>!zn(i,n));return{arrayValue:{values:r}}}class wf extends zh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function A1(e){return lt(e.integerValue||e.doubleValue)}function mO(e){return H0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function fF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof mu&&i instanceof mu||n instanceof gu&&i instanceof gu?ls(n.elements,i.elements,zn):n instanceof wf&&i instanceof wf?zn(n.Ae,i.Ae):n instanceof yf&&i instanceof yf}(e.transform,t.transform)}class hF{constructor(t,r){this.version=t,this.transformResults=r}}class Jr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Jr}static exists(t){return new Jr(void 0,t)}static updateTime(t){return new Jr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Od(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Uh{}function gO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new X0(e.key,Jr.none()):new Fu(e.key,e.data,Jr.none());{const r=e.data,n=_r.empty();let i=new At(Kt.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new ya(e.key,n,new Rr(i.toArray()),Jr.none())}}function pF(e,t,r){e instanceof Fu?function(i,a,o){const s=i.value.clone(),l=T1(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof ya?function(i,a,o){if(!Od(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=T1(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(vO(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function ql(e,t,r,n){return e instanceof Fu?function(a,o,s,l){if(!Od(a.precondition,o))return s;const u=a.value.clone(),c=I1(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof ya?function(a,o,s,l){if(!Od(a.precondition,o))return s;const u=I1(a.fieldTransforms,l,o),c=o.data;return c.setAll(vO(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return Od(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function mF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=fO(n.transform,i||null);a!=null&&(r===null&&(r=_r.empty()),r.set(n.field,a))}return r||null}function P1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ls(n,i,(a,o)=>fF(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fu extends Uh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends Uh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vO(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function T1(e,t,r){const n=new Map;Pe(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,dF(o,s,r[i]))}return n}function I1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,cF(a,o,t))}return n}class X0 extends Uh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gF extends Uh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&pF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=ql(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=ql(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=cO();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=gO(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),we())}isEqual(t){return this.batchId===t.batchId&&ls(this.mutations,t.mutations,(r,n)=>P1(r,n))&&ls(this.baseMutations,t.baseMutations,(r,n)=>P1(r,n))}}class J0{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Pe(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return aF}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new J0(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,xe;function _F(e){switch(e){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:e})}}function yO(e){if(e===void 0)return ci("GRPC error has no .code"),F.UNKNOWN;switch(e){case dt.OK:return F.OK;case dt.CANCELLED:return F.CANCELLED;case dt.UNKNOWN:return F.UNKNOWN;case dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case dt.INTERNAL:return F.INTERNAL;case dt.UNAVAILABLE:return F.UNAVAILABLE;case dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case dt.NOT_FOUND:return F.NOT_FOUND;case dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case dt.ABORTED:return F.ABORTED;case dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case dt.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:e})}}(xe=dt||(dt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new ta([4294967295,4294967295],0);function C1(e){const t=xF().encode(e),r=new kC;return r.update(t),new Uint8Array(r.digest())}function O1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ta([r,n],0),new ta([i,a],0)]}class Z0{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Tl(`Invalid padding: ${r}`);if(n<0)throw new Tl(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=ta.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(ta.fromNumber(n)));return i.compare(bF)===1&&(i=new ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=C1(t),[n,i]=O1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new Z0(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.ge===0)return;const r=C1(t),[n,i]=O1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Bh(ue.min(),i,new et(ye),di(),we())}}class $u{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new $u(n,r,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class wO{constructor(t,r){this.targetId=t,this.Ce=r}}class _O{constructor(t,r,n=Yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class j1{constructor(){this.ve=0,this.Fe=N1(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=we(),r=we(),n=we();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:oe(38017,{changeType:a})}}),new $u(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=N1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EF{constructor(t){this.Ge=t,this.ze=new Map,this.je=di(),this.Je=Qc(),this.He=Qc(),this.Ye=new et(ye)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:oe(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Nv(a))if(n===0){const o=new ne(a.path);this.et(r,o,ir.newNoDocument(o,ue.min()))}else Pe(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(t),l=s?this.ct(s,t,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=la(n).toUint8Array()}catch(l){if(l instanceof WC)return ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Z0(o,i,a)}catch(l){return ss(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&Nv(s.target)){const l=new ne(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ir.newNoDocument(l,t))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=we();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(t));const i=new Bh(t,r,this.Ye,this.je,n);return this.je=di(),this.Je=Qc(),this.He=Qc(),this.Ye=new et(ye),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new j1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new At(ye),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new At(ye),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new j1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Qc(){return new et(ne.comparator)}function N1(){return new et(ne.comparator)}const SF={asc:"ASCENDING",desc:"DESCENDING"},AF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PF={and:"AND",or:"OR"};class TF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Dv(e,t){return e.useProto3Json||Mh(t)?t:{value:t}}function _f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function IF(e,t){return _f(e,t.toTimestamp())}function Dn(e){return Pe(!!e,49232),ue.fromTimestamp(function(r){const n=sa(r);return new Be(n.seconds,n.nanos)}(e))}function ew(e,t){return Mv(e,t).canonicalString()}function Mv(e,t){const r=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function bO(e){const t=Me.fromString(e);return Pe(TO(t),10190,{key:t.toString()}),t}function Lv(e,t){return ew(e.databaseId,t.path)}function tg(e,t){const r=bO(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ne(SO(r))}function EO(e,t){return ew(e.databaseId,t)}function CF(e){const t=bO(e);return t.length===4?Me.emptyPath():SO(t)}function Vv(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SO(e){return Pe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function k1(e,t,r){return{name:Lv(e,t),fields:r.value.mapValue.fields}}function OF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Pe(c===void 0||typeof c=="string",58123),Yt.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Yt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?F.UNKNOWN:yO(u.code);return new Y(c,u.message||"")}(o);r=new _O(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=tg(e,n.document.name),a=Dn(n.document.updateTime),o=n.document.createTime?Dn(n.document.createTime):ue.min(),s=new _r({mapValue:{fields:n.document.fields}}),l=ir.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new jd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=tg(e,n.document),a=n.readTime?Dn(n.readTime):ue.min(),o=ir.newNoDocument(i,a),s=n.removedTargetIds||[];r=new jd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=tg(e,n.document),a=n.removedTargetIds||[];r=new jd([],a,i,null)}else{if(!("filter"in t))return oe(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new wF(i,a),s=n.targetId;r=new wO(s,o)}}return r}function jF(e,t){let r;if(t instanceof Fu)r={update:k1(e,t.key,t.value)};else if(t instanceof X0)r={delete:Lv(e,t.key)};else if(t instanceof ya)r={update:k1(e,t.key,t.data),updateMask:$F(t.fieldMask)};else{if(!(t instanceof gF))return oe(16599,{Vt:t.type});r={verify:Lv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof yf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof wf)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw oe(20930,{transform:o.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:IF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:oe(27497)}(e,t.precondition)),r}function NF(e,t){return e&&e.length>0?(Pe(t!==void 0,14353),e.map(r=>function(i,a){let o=i.updateTime?Dn(i.updateTime):Dn(a);return o.isEqual(ue.min())&&(o=Dn(a)),new hF(o,i.transformResults||[])}(r,t))):[]}function kF(e,t){return{documents:[EO(e,t.path)]}}function RF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=EO(e,i);const a=function(u){if(u.length!==0)return PO(yn.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Po(p.field),direction:LF(p.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Dv(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function DF(e){let t=CF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Pe(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=AO(d);return p instanceof yn&&tO(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(p=>function(g){return new vf(To(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Mh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new gf(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new gf(m,p)}(r.endAt)),eF(t,i,o,a,s,"F",l,u)}function MF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function AO(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=To(r.unaryFilter.field);return pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=To(r.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=To(r.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=To(r.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(e):e.fieldFilter!==void 0?function(r){return pt.create(To(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return yn.create(r.compositeFilter.filters.map(n=>AO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(r.compositeFilter.op))}(e):oe(30097,{filter:e})}function LF(e){return SF[e]}function VF(e){return AF[e]}function FF(e){return PF[e]}function Po(e){return{fieldPath:e.canonicalString()}}function To(e){return Kt.fromServerFormat(e.fieldPath)}function PO(e){return e instanceof pt?function(r){if(r.op==="=="){if(_1(r.value))return{unaryFilter:{field:Po(r.field),op:"IS_NAN"}};if(w1(r.value))return{unaryFilter:{field:Po(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_1(r.value))return{unaryFilter:{field:Po(r.field),op:"IS_NOT_NAN"}};if(w1(r.value))return{unaryFilter:{field:Po(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(r.field),op:VF(r.op),value:r.value}}}(e):e instanceof yn?function(r){const n=r.getFilters().map(i=>PO(i));return n.length===1?n[0]:{compositeFilter:{op:FF(r.op),filters:n}}}(e):oe(54877,{filter:e})}function $F(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function TO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,r,n,i,a=ue.min(),o=ue.min(),s=Yt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(t){this.yt=t}}function UF(e){const t=DF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.Cn=new qF}addToCollectionParentIndex(t,r){return this.Cn.add(r),$.resolve()}getCollectionParents(t,r){return $.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $.resolve()}deleteFieldIndex(t,r){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,r){return $.resolve()}getDocumentsMatchingTarget(t,r){return $.resolve(null)}getIndexType(t,r){return $.resolve(0)}getFieldIndexes(t,r){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,r){return $.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,r){return $.resolve(oa.min())}updateCollectionGroup(t,r,n){return $.resolve()}updateIndexEntries(t,r){return $.resolve()}}class qF{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new At(Me.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new At(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IO=41943040;class yr{static withCacheSize(t){return new yr(t,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(IO,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ds(0)}static cr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="LruGarbageCollector",WF=1048576;function M1([e,t],[r,n]){const i=ye(e,r);return i===0?ye(t,n):i}class KF{constructor(t){this.Ir=t,this.buffer=new At(M1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();M1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class HF{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(D1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Os(r)?X(D1,"Ignoring IndexedDB error during garbage collection: ",r):await Cs(r)}await this.Vr(3e5)})}}class GF{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return $.resolve(Dh.ce);const n=new KF(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(R1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(t,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(u=Date.now(),So()<=be.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function QF(e,t){return new GF(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.changes=new uo(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ir.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&ql(n.mutation,i,Rr.empty(),Be.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,we()).next(()=>n))}getLocalViewOfDocuments(t,r,n=we()){const i=Ma();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=Pl();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=Ma();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,we()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=di();const o=Bl(),s=function(){return Bl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ya)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ql(c.mutation,u,c.mutation.getFieldMask(),Be.now())):o.set(u.key,Rr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>s.set(u,new XF(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(t,r){const n=Bl();let i=new et((o,s)=>o-s),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Rr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=cO();c.forEach(p=>{if(!a.has(p)){const m=gO(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return $.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):aO(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$.resolve(Ma());let s=du,l=a;return o.next(u=>$.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,we())).next(c=>({batchId:s,changes:uO(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ne(r)).next(n=>{let i=Pl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=Pl();return this.indexManager.getCollectionParents(t,a).next(s=>$.forEach(s,l=>{const u=function(d,p){return new Vu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ir.newInvalidDocument(c)))});let s=Pl();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ql(c.mutation,u,Rr.empty(),Be.now()),$h(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}}(r)),$.resolve()}getNamedQuery(t,r){return $.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:UF(i.bundledQuery),readTime:Dn(i.readTime)}}(r)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.overlays=new et(ne.comparator),this.qr=new Map}getOverlay(t,r){return $.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ma();return $.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),$.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(t,r,n){const i=Ma(),a=r.length+1,o=new ne(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ma(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ma(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return $.resolve(s)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new yF(r,n));let a=this.qr.get(r);a===void 0&&(a=we(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Qr=new At(kt.$r),this.Ur=new At(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new kt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new kt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ne(new Me([])),n=new kt(r,t),i=new kt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ne(new Me([])),n=new kt(r,t),i=new kt(r,t+1);let a=we();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new kt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class kt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ne.comparator(t.key,r.key)||ye(t.Yr,r.Yr)}static Kr(t,r){return ye(t.Yr,r.Yr)||ne.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new At(kt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vF(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new kt(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,r){return $.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?W0:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new kt(r,0),i=new kt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new At(ye);return r.forEach(i=>{const a=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{n=n.add(s.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ne.isDocumentKey(a)||(a=a.child(""));const o=new kt(new ne(a),0);let s=new At(ye);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),$.resolve(this.ti(s))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Pe(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(r.mutations,i=>{const a=new kt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new kt(r,0),i=this.Zr.firstAfterOrEqual(n);return $.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.ri=t,this.docs=function(){return new et(ne.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $.resolve(n?n.document.mutableCopy():ir.newInvalidDocument(r))}getEntries(t,r){let n=di();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ir.newInvalidDocument(i))}),$.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=di();const o=r.path,s=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||N3(j3(c),n)<=0||(i.has(c.key)||$h(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(t,r,n,i){oe(9500)}ii(t,r){return $.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new i6(this)}getSize(t){return $.resolve(this.size)}}class i6 extends YF{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),$.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t){this.persistence=t,this.si=new uo(r=>G0(r),Q0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new tw,this.targetCount=0,this.ai=ds.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new ds(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$.resolve()}updateTargetData(t,r){return this.Pr(r),$.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),$.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $.resolve(n)}containsKey(t,r){return $.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,r){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new t6,this.referenceDelegate=t(this),this.Pi=new a6(this),this.indexManager=new BF,this.remoteDocumentCache=function(i){return new n6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new zF(r),this.Ii=new ZF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new e6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new r6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new o6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class o6 extends R3{constructor(t){super(),this.currentSequenceNumber=t}}class rw{constructor(t){this.persistence=t,this.Ri=new tw,this.Vi=null}static mi(t){return new rw(t)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const i=ne.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return $.or([()=>$.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class xf{constructor(t,r){this.persistence=t,this.pi=new uo(n=>L3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=QF(this,r)}static mi(t,r){return new xf(t,r)}Ei(){}di(t){return $.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return $.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?$.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,r).next(s=>{s||(n++,a.removeEntry(o,ue.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Id(t.data.value)),r}br(t,r,n){return $.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return $.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=we(),i=we();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return t4()?8:D3(ZV())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new s6;return this.Ss(t,r,o).next(s=>{if(a.result=s,this.Vs)return this.bs(t,r,o,s.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(So()<=be.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ao(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(So()<=be.DEBUG&&X("QueryEngine","Query:",Ao(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(So()<=be.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ao(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(r))):$.resolve())}ys(t,r){if(S1(r))return $.resolve(null);let n=Rn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Rv(r,null,"F"),n=Rn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=we(...a);return this.ps.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(t,Rv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return S1(r)||i.isEqual(ue.min())?$.resolve(null):this.ps.getDocuments(t,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?$.resolve(null):(So()<=be.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(r)),this.vs(t,o,r,O3(i,du)).next(s=>s))})}Ds(t,r){let n=new At(sO(t));return r.forEach((i,a)=>{$h(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return So()<=be.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ao(r)),this.ps.getDocumentsMatchingQuery(t,r,oa.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LocalStore",u6=3e8;class c6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new et(ye),this.xs=new uo(a=>G0(a),Q0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function d6(e,t,r,n){return new c6(e,t,r,n)}async function OO(e,t){const r=de(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=we();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function f6(e,t){const r=de(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=$.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);Pe(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function jO(e){const t=de(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function h6(e,t){const r=de(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Yt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(y,w,x){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=u6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&s.push(r.Pi.updateTargetData(a,m))});let l=di(),u=we();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(p6(a,o,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(ue.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return $.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function p6(e,t,r){let n=we(),i=we();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=di();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ue.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):X(iw,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function m6(e,t){const r=de(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=W0),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function g6(e,t){const r=de(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,$.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new qi(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Fv(e,t,r){const n=de(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Os(o))throw o;X(iw,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function L1(e,t,r){const n=de(e);let i=ue.min(),a=we();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=de(l),p=d.xs.get(c);return p!==void 0?$.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(n,o,Rn(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,t,r?i:ue.min(),r?a:we())).next(s=>(v6(n,rF(t),s),{documents:s,Qs:a})))}function v6(e,t,r){let n=e.Os.get(t)||ue.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class V1{constructor(){this.activeTargetIds=lF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class y6{constructor(){this.Mo=new V1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new V1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="ConnectivityMonitor";class $1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(F1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(F1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function $v(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",_6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===pf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const o=$v(),s=this.zo(t,r.toUriEncodedString());X(rg,`Sending RPC '${t}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=z0(u);return this.Jo(t,s,l,n,c).then(d=>(X(rg,`Received RPC '${t}' ${o}: `,d),d),d=>{throw ss(rg,`RPC '${t}' ${o} failed with error: `,d,"url: ",s,"request:",n),d})}Ho(t,r,n,i,a,o){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=_6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class E6 extends x6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const o=$v();return new Promise((s,l)=>{const u=new RC;u.setWithCredentials(!0),u.listenOnce(DC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Td.NO_ERROR:const d=u.getResponseJson();X(er,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Td.TIMEOUT:X(er,`RPC '${t}' ${o} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const p=u.getStatus();if(X(er,`RPC '${t}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(er,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);X(er,`RPC '${t}' ${o} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=$v(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=VC(),s=LC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(er,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new b6({Yo:w=>{m?X(er,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(p||(X(er,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),X(er,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),y=(w,x,b)=>{w.listen(x,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return y(d,Al.EventType.OPEN,()=>{m||(X(er,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),y(d,Al.EventType.CLOSE,()=>{m||(m=!0,X(er,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(d))}),y(d,Al.EventType.ERROR,w=>{m||(m=!0,ss(er,`RPC '${t}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(d,Al.EventType.MESSAGE,w=>{var x;if(!m){const b=w.data[0];Pe(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((x=E[0])==null?void 0:x.error);if(I){X(er,`RPC '${t}' stream ${i} received error:`,I);const j=I.status;let R=function(C){const D=dt[C];if(D!==void 0)return yO(D)}(j),S=I.message;R===void 0&&(R=F.INTERNAL,S="Unknown error status: "+j+" with message "+I.message),m=!0,g.a_(new Y(R,S)),d.close()}else X(er,`RPC '${t}' stream ${i} received:`,b),g.u_(b)}}),y(s,MC.STAT_EVENT,w=>{w.stat===Tv.PROXY?X(er,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===Tv.NOPROXY&&X(er,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){return new TF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="PersistentStream";class kO{constructor(t,r,n,i,a,o,s,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NO(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(ci(r.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(z1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S6 extends kO{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=OF(this.serializer,t),n=function(a){if(!("targetChange"in a))return ue.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Dn(o.readTime):ue.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Vv(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Nv(l)?{documents:kF(a,l)}:{query:RF(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=xO(a,o.resumeToken);const u=Dv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){s.readTime=_f(a,o.snapshotVersion.toTimestamp());const u=Dv(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=MF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Vv(this.serializer),r.removeTarget=t,this.q_(r)}}class A6 extends kO{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=NF(t.writeResults,t.commitTime),n=Dn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Vv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>jF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{}class T6 extends P6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(t,Mv(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(t,Mv(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class I6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class C6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{co(this)&&(X(Za,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await zu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Wh(u)}(this))})}),this.Ra=new I6(n,i)}}async function Wh(e){if(co(e))for(const t of e.da)await t(!0)}async function zu(e){for(const t of e.da)await t(!1)}function RO(e,t){const r=de(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),lw(r)?sw(r):js(r).O_()&&ow(r,t))}function aw(e,t){const r=de(e),n=js(r);r.Ia.delete(t),n.O_()&&DO(r,t),r.Ia.size===0&&(n.O_()?n.L_():co(r)&&r.Ra.set("Unknown"))}function ow(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}js(e).Y_(t)}function DO(e,t){e.Va.Ue(t),js(e).Z_(t)}function sw(e){e.Va=new EF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),js(e).start(),e.Ra.ua()}function lw(e){return co(e)&&!js(e).x_()&&e.Ia.size>0}function co(e){return de(e).Ea.size===0}function MO(e){e.Va=void 0}async function O6(e){e.Ra.set("Online")}async function j6(e){e.Ia.forEach((t,r)=>{ow(e,t)})}async function N6(e,t){MO(e),lw(e)?(e.Ra.ha(t),sw(e)):e.Ra.set("Unknown")}async function k6(e,t,r){if(e.Ra.set("Online"),t instanceof _O&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(e,t)}catch(n){X(Za,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await bf(e,n)}else if(t instanceof jd?e.Va.Ze(t):t instanceof wO?e.Va.st(t):e.Va.tt(t),!r.isEqual(ue.min()))try{const n=await jO(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Yt.EMPTY_BYTE_STRING,c.snapshotVersion)),DO(a,l);const d=new qi(c.target,l,u,c.sequenceNumber);ow(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){X(Za,"Failed to raise snapshot:",n),await bf(e,n)}}async function bf(e,t,r){if(!Os(t))throw t;e.Ea.add(1),await zu(e),e.Ra.set("Offline"),r||(r=()=>jO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(Za,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Wh(e)})}function LO(e,t){return t().catch(r=>bf(e,r,t))}async function Kh(e){const t=de(e),r=ca(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:W0;for(;R6(t);)try{const i=await m6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,D6(t,i)}catch(i){await bf(t,i)}VO(t)&&FO(t)}function R6(e){return co(e)&&e.Ta.length<10}function D6(e,t){e.Ta.push(t);const r=ca(e);r.O_()&&r.X_&&r.ea(t.mutations)}function VO(e){return co(e)&&!ca(e).x_()&&e.Ta.length>0}function FO(e){ca(e).start()}async function M6(e){ca(e).ra()}async function L6(e){const t=ca(e);for(const r of e.Ta)t.ea(r.mutations)}async function V6(e,t,r){const n=e.Ta.shift(),i=J0.from(n,t,r);await LO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Kh(e)}async function F6(e,t){t&&ca(e).X_&&await async function(n,i){if(function(o){return _F(o)&&o!==F.ABORTED}(i.code)){const a=n.Ta.shift();ca(n).B_(),await LO(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Kh(n)}}(e,t),VO(e)&&FO(e)}async function U1(e,t){const r=de(e);r.asyncQueue.verifyOperationInProgress(),X(Za,"RemoteStore received new credentials");const n=co(r);r.Ea.add(3),await zu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Wh(r)}async function $6(e,t){const r=de(e);t?(r.Ea.delete(2),await Wh(r)):t||(r.Ea.add(2),await zu(r),r.Ra.set("Unknown"))}function js(e){return e.ma||(e.ma=function(r,n,i){const a=de(r);return a.sa(),new S6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:O6.bind(null,e),t_:j6.bind(null,e),r_:N6.bind(null,e),H_:k6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),lw(e)?sw(e):e.Ra.set("Unknown")):(await e.ma.stop(),MO(e))})),e.ma}function ca(e){return e.fa||(e.fa=function(r,n,i){const a=de(r);return a.sa(),new A6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:M6.bind(null,e),r_:F6.bind(null,e),ta:L6.bind(null,e),na:V6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Kh(e)):(await e.fa.stop(),e.Ta.length>0&&(X(Za,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new uw(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(e,t){if(ci("AsyncQueue",`${t}: ${e}`),Os(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ne.comparator(r.key,n.key):(r,n)=>ne.comparator(r.key,n.key),this.keyedMap=Pl(),this.sortedSet=new et(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Yo;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ga=new et(ne.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):oe(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class fs{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new fs(t,r,Yo.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class U6{constructor(){this.queries=q1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=de(r),a=i.queries;i.queries=q1(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function q1(){return new uo(e=>oO(e),Fh)}async function dw(e,t){const r=de(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new z6,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=cw(o,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&hw(r)}async function fw(e,t){const r=de(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(t);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function B6(e,t){const r=de(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&hw(r)}function q6(e,t,r){const n=de(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function hw(e){e.Ca.forEach(t=>{t.next()})}var zv,W1;(W1=zv||(zv={})).Ma="default",W1.Cache="cache";class pw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new fs(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.key=t}}class zO{constructor(t){this.key=t}}class W6{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=sO(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new B1,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=$h(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),w=!0):this.su(p,m)||(n.track({type:2,doc:m}),w=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),w=!0):p&&!m&&(n.track({type:1,doc:p}),w=!0,(l||u)&&(s=!0)),w&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((c,d)=>function(m,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:w})}};return y(m)-y(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new fs(this.query,t.tu,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=we(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new zO(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new $O(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=we();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return fs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mw="SyncEngine";class K6{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class H6{constructor(t){this.key=t,this.hu=!1}}class G6{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new uo(s=>oO(s),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new et(ne.comparator),this.Au=new Map,this.Ru=new tw,this.Vu={},this.mu=new Map,this.fu=ds.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q6(e,t,r=!0){const n=HO(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await UO(n,t,r,!0),i}async function Y6(e,t){const r=HO(e);await UO(r,t,!0,!1)}async function UO(e,t,r,n){const i=await g6(e.localStore,Rn(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await X6(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&RO(e.remoteStore,i),s}async function X6(e,t,r,n,i){e.pu=(d,p,m)=>async function(y,w,x,b){let E=w.view.ru(x);E.Cs&&(E=await L1(y.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,E)));const I=b&&b.targetChanges.get(w.targetId),j=b&&b.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(E,y.isPrimaryClient,I,j);return H1(y,w.targetId,R.au),R.snapshot}(e,d,p,m);const a=await L1(e.localStore,t,!0),o=new W6(t,a.Qs),s=o.ru(a.documents),l=$u.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);H1(e,r,u.au);const c=new K6(t,r,o);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function J6(e,t,r){const n=de(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!Fh(o,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Fv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&aw(n.remoteStore,i.targetId),Uv(n,i.targetId)}).catch(Cs)):(Uv(n,i.targetId),await Fv(n.localStore,i.targetId,!0))}async function Z6(e,t){const r=de(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),aw(r.remoteStore,n.targetId))}async function e$(e,t,r){const n=s$(e);try{const i=await function(o,s){const l=de(o),u=Be.now(),c=s.reduce((m,g)=>m.add(g.key),we());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=di(),y=we();return l.Ns.getEntries(m,c).next(w=>{g=w,g.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(w=>{d=w;const x=[];for(const b of s){const E=mF(b,d.get(b.key).overlayedDocument);E!=null&&x.push(new ya(b.key,E,JC(E.value.mapValue),Jr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,s)}).next(w=>{p=w;const x=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,x)})}).then(()=>({batchId:p.batchId,changes:uO(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new et(ye)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await Uu(n,i.changes),await Kh(n.remoteStore)}catch(i){const a=cw(i,"Failed to persist write");r.reject(a)}}async function BO(e,t){const r=de(e);try{const n=await h6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Pe(o.hu,14607):i.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))}),await Uu(r,n,t)}catch(n){await Cs(n)}}function K1(e,t,r){const n=de(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const s=o.view.va(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=de(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)}),u&&hw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function t$(e,t,r){const n=de(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let o=new et(ne.comparator);o=o.insert(a,ir.newNoDocument(a,ue.min()));const s=we().add(a),l=new Bh(ue.min(),new Map,new et(ye),o,s);await BO(n,l),n.du=n.du.remove(a),n.Au.delete(t),gw(n)}else await Fv(n.localStore,t,!1).then(()=>Uv(n,t,r)).catch(Cs)}async function r$(e,t){const r=de(e),n=t.batch.batchId;try{const i=await f6(r.localStore,t);WO(r,n,null),qO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Uu(r,i)}catch(i){await Cs(i)}}async function n$(e,t,r){const n=de(e);try{const i=await function(o,s){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Pe(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);WO(n,t,r),qO(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Uu(n,i)}catch(i){await Cs(i)}}function qO(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function WO(e,t,r){const n=de(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Uv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||KO(e,n)})}function KO(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(aw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),gw(e))}function H1(e,t,r){for(const n of r)n instanceof $O?(e.Ru.addReference(n.key,t),i$(e,n)):n instanceof zO?(X(mw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||KO(e,n.key)):oe(19791,{wu:n})}function i$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(mw,"New document in limbo: "+r),e.Eu.add(n),gw(e))}function gw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ne(Me.fromString(t)),n=e.fu.next();e.Au.set(n,new H6(r)),e.du=e.du.insert(r,n),RO(e.remoteStore,new qi(Rn(Vh(r.path)),n,"TargetPurposeLimboResolution",Dh.ce))}}async function Uu(e,t,r){const n=de(e),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{o.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=nw.As(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,p=>$.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>$.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Os(d))throw d;X(iw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,y)}}}(n.localStore,a))}async function a$(e,t){const r=de(e);if(!r.currentUser.isEqual(t)){X(mw,"User change. New user:",t.toKey());const n=await OO(r.localStore,t);r.currentUser=t,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Uu(r,n.Ls)}}function o$(e,t){const r=de(e),n=r.Au.get(t);if(n&&n.hu)return we().add(n.key);{let i=we();const a=r.Iu.get(t);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function HO(e){const t=de(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=o$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=t$.bind(null,t),t.Pu.H_=B6.bind(null,t.eventManager),t.Pu.yu=q6.bind(null,t.eventManager),t}function s$(e){const t=de(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=r$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=n$.bind(null,t),t}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return d6(this.persistence,new l6,t.initialUser,this.serializer)}Cu(t){return new CO(rw.mi,this.serializer)}Du(t){return new y6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class l$ extends Ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Pe(this.persistence.referenceDelegate instanceof xf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new HF(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new CO(n=>xf.mi(n,r),this.serializer)}}class Bv{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>K1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=a$.bind(null,this.syncEngine),await $6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new U6}()}createDatastore(t){const r=qh(t.databaseInfo.databaseId),n=function(a){return new E6(a)}(t.databaseInfo);return function(a,o,s,l){return new T6(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new C6(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>K1(this.syncEngine,r,0),function(){return $1.v()?new $1:new w6}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new G6(i,a,o,s,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=de(i);X(Za,"RemoteStore shutting down."),a.Ea.add(5),await zu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}Bv.provider={build:()=>new Bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ci("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class u${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{X(da,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(X(da,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=cw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function ig(e,t){e.asyncQueue.verifyOperationInProgress(),X(da,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await OO(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function G1(e,t){e.asyncQueue.verifyOperationInProgress();const r=await c$(e);X(da,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>U1(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>U1(t.remoteStore,i)),e._onlineComponents=t}async function c$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(da,"Using user provided OfflineComponentProvider");try{await ig(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ss("Error using user provided cache. Falling back to memory cache: "+r),await ig(e,new Ef)}}else X(da,"Using default OfflineComponentProvider"),await ig(e,new l$(void 0));return e._offlineComponents}async function GO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(da,"Using user provided OnlineComponentProvider"),await G1(e,e._uninitializedComponentsProvider._online)):(X(da,"Using default OnlineComponentProvider"),await G1(e,new Bv))),e._onlineComponents}function d$(e){return GO(e).then(t=>t.syncEngine)}async function Sf(e){const t=await GO(e),r=t.eventManager;return r.onListen=Q6.bind(null,t.syncEngine),r.onUnlisten=J6.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Y6.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Z6.bind(null,t.syncEngine),r}function f$(e,t,r={}){const n=new ri;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new vw({next:p=>{c.Nu(),o.enqueueAndForget(()=>fw(a,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new pw(Vh(s.path),c,{includeMetadataChanges:!0,qa:!0});return dw(a,d)}(await Sf(e),e.asyncQueue,t,r,n)),n.promise}function h$(e,t,r={}){const n=new ri;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new vw({next:p=>{c.Nu(),o.enqueueAndForget(()=>fw(a,d)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new pw(s,c,{includeMetadataChanges:!0,qa:!0});return dw(a,d)}(await Sf(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firestore.googleapis.com",Y1=!0;class X1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YO,this.ssl=Y1}else this.host=t.host,this.ssl=t.ssl??Y1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WF)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QO(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new w3;switch(n.type){case"firstParty":return new E3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Q1.get(r);n&&(X("ComponentProvider","Removing Datastore"),Q1.delete(r),n.terminate())}(this),Promise.resolve()}}function p$(e,t,r,n={}){var u;e=Pr(e,Hh);const i=z0(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;i&&(GV(`https://${s}`),JV("Firestore",!0)),a.host!==YO&&a.host!==s&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!cf(l,o)&&(e._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=rr.MOCK_USER;else{c=QV(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new rr(p)}e._authCredentials=new _3(new $C(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class at{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new at(this.firestore,t,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Lu(r,at._jsonSchema))return new at(t,n||null,new ne(Me.fromString(r.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:mt("string",at._jsonSchemaVersion),referencePath:mt("string")};class ra extends fo{constructor(t,r,n){super(t,r,Vh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new at(this.firestore,null,new ne(t))}withConverter(t){return new ra(this.firestore,t,this._path)}}function Ns(e,t,...r){if(e=$n(e),zC("collection","path",t),e instanceof Hh){const n=Me.fromString(t,...r);return c1(n),new ra(e,null,n)}{if(!(e instanceof at||e instanceof ra))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Me.fromString(t,...r));return c1(n),new ra(e.firestore,null,n)}}function ks(e,t,...r){if(e=$n(e),arguments.length===1&&(t=q0.newId()),zC("doc","path",t),e instanceof Hh){const n=Me.fromString(t,...r);return u1(n),new at(e,null,new ne(n))}{if(!(e instanceof at||e instanceof ra))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Me.fromString(t,...r));return u1(n),new at(e.firestore,e instanceof ra?e.converter:null,new ne(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="AsyncQueue";class Z1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NO(this,"async_queue_retry"),this._c=()=>{const n=ng();n&&X(J1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=ng();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=ng();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ri;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Os(t))throw t;X(J1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",eS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=uw.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:eS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function eS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class fi extends Hh{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new Z1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z1(t),this._firestoreClient=void 0,await t}}}function m$(e,t){const r=typeof e=="object"?e:l3(),n=typeof e=="string"?e:pf,i=n3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=KV("firestore");a&&p$(i,...a)}return i}function Gh(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||g$(e),e._firestoreClient}function g$(e){var n,i,a;const t=e._freezeSettings(),r=function(s,l,u,c){return new $3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new u$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gr(Yt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Gr(Yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lu(t,Gr._jsonSchema))return Gr.fromBase64String(t.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:mt("string",Gr._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(t){if(Lu(t,Mn._jsonSchema))return new Mn(t.latitude,t.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:mt("string",Mn._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ln._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lu(t,Ln._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Ln(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ln._jsonSchemaVersion="firestore/vectorValue/1.0",Ln._jsonSchema={type:mt("string",Ln._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=/^__.*__$/;class y${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new ya(t,this.data,this.fieldMask,r,this.fieldTransforms):new Fu(t,this.data,r,this.fieldTransforms)}}class XO{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new ya(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function JO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:e})}}class ww{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ww({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Af(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JO(this.Ac)&&v$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class w${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||qh(t)}Cc(t,r,n,i=!1){return new ww({Ac:t,methodName:r,Dc:n,path:Kt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(e){const t=e._freezeSettings(),r=qh(e._databaseId);return new w$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ZO(e,t,r,n,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);_w("Data must be an object, but it was:",o,n);const s=ej(n,o);let l,u;if(a.merge)l=new Rr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=qv(t,d,r);if(!o.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rj(c,p)||c.push(p)}l=new Rr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new y$(new _r(s),l,u)}class Xh extends yw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}function _$(e,t,r,n){const i=e.Cc(1,t,r);_w("Data must be an object, but it was:",i,n);const a=[],o=_r.empty();va(n,(l,u)=>{const c=xw(t,l,r);u=$n(u);const d=i.yc(c);if(u instanceof Xh)a.push(c);else{const p=Bu(u,d);p!=null&&(a.push(c),o.set(c,p))}});const s=new Rr(a);return new XO(o,s,i.fieldTransforms)}function x$(e,t,r,n,i,a){const o=e.Cc(1,t,r),s=[qv(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(qv(t,a[p])),l.push(a[p+1]);const u=[],c=_r.empty();for(let p=s.length-1;p>=0;--p)if(!rj(u,s[p])){const m=s[p];let g=l[p];g=$n(g);const y=o.yc(m);if(g instanceof Xh)u.push(m);else{const w=Bu(g,y);w!=null&&(u.push(m),c.set(m,w))}}const d=new Rr(u);return new XO(c,d,o.fieldTransforms)}function b$(e,t,r,n=!1){return Bu(r,e.Cc(n?4:3,t))}function Bu(e,t){if(tj(e=$n(e)))return _w("Unsupported field value:",t,e),ej(e,t);if(e instanceof yw)return function(n,i){if(!JO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Bu(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=$n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Be.fromDate(n);return{timestampValue:_f(i.serializer,a)}}if(n instanceof Be){const a=new Be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_f(i.serializer,a)}}if(n instanceof Mn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gr)return{bytesValue:xO(i.serializer,n._byteString)};if(n instanceof at){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ew(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ln)return function(o,s){return{mapValue:{fields:{[YC]:{stringValue:XC},[mf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return Y0(s.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Rh(n)}`)}(e,t)}function ej(e,t){const r={};return qC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):va(e,(n,i)=>{const a=Bu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function tj(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Be||e instanceof Mn||e instanceof Gr||e instanceof at||e instanceof yw||e instanceof Ln)}function _w(e,t,r){if(!tj(r)||!UC(r)){const n=Rh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function qv(e,t,r){if((t=$n(t))instanceof Qh)return t._internalPath;if(typeof t=="string")return xw(e,t);throw Af("Field path arguments must be of type string or ",e,!1,void 0,r)}const E$=new RegExp("[~\\*/\\[\\]]");function xw(e,t,r){if(t.search(E$)>=0)throw Af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Qh(...t.split("."))._internalPath}catch{throw Af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Af(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,s+e+l)}function rj(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new S$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(bw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class S$ extends nj{data(){return super.data()}}function bw(e,t){return typeof t=="string"?xw(e,t):t instanceof Qh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{}class A$ extends Ew{}function P$(e,t,...r){let n=[];t instanceof Ew&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof Sw).length,s=a.filter(l=>l instanceof Jh).length;if(o>1||o>0&&s>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Jh extends A${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Jh(t,r,n)}_apply(t){const r=this._parse(t);return aj(t._query,r),new fo(t.firestore,t.converter,kv(t._query,r))}_parse(t){const r=Yh(t.firestore);return function(a,o,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nS(d,c);const g=[];for(const y of d)g.push(rS(l,a,y));p={arrayValue:{values:g}}}else p=rS(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nS(d,c),p=b$(s,o,d,c==="in"||c==="not-in");return pt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function T$(e,t,r){const n=t,i=bw("where",e);return Jh._create(i,n,r)}class Sw extends Ew{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Sw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:yn.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)aj(o,l),o=kv(o,l)}(t._query,r),new fo(t.firestore,t.converter,kv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rS(e,t,r){if(typeof(r=$n(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aO(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Me.fromString(r));if(!ne.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return y1(e,new ne(n))}if(r instanceof at)return y1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(r)}.`)}function nS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aj(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class I${convertValue(t,r="none"){switch(ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw oe(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return va(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[mf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>lt(o.doubleValue));return new Ln(r)}convertGeoPoint(t){return new Mn(lt(t.latitude),lt(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Lh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const r=sa(t);return new Be(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Me.fromString(t);Pe(TO(n),9688,{name:t});const i=new hu(n.get(1),n.get(3)),a=new ne(n.popFirst(5));return i.isEqual(r)||ci(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Il{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ua extends nj{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(bw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ua._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:mt("string",Ua._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Nd extends Ua{data(t={}){return super.data(t)}}class Ba{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Nd(this._firestore,this._userDataWriter,n.key,n,new Il(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Nd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Il(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Nd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Il(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:C$(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ba._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function C$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(e){e=Pr(e,at);const t=Pr(e.firestore,fi);return f$(Gh(t),e._key).then(r=>uj(t,e,r))}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:mt("string",Ba._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class Aw extends I${constructor(t){super(),this.firestore=t}convertBytes(t){return new Gr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new at(this.firestore,null,r)}}function Pw(e){e=Pr(e,fo);const t=Pr(e.firestore,fi),r=Gh(t),n=new Aw(t);return ij(e._query),h$(r,e._query).then(i=>new Ba(t,n,e,i))}function O$(e,t,r){e=Pr(e,at);const n=Pr(e.firestore,fi),i=oj(e.converter,t,r);return Zh(n,[ZO(Yh(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Jr.none())])}function j$(e,t,r,...n){e=Pr(e,at);const i=Pr(e.firestore,fi),a=Yh(i);let o;return o=typeof(t=$n(t))=="string"||t instanceof Qh?x$(a,"updateDoc",e._key,t,r,n):_$(a,"updateDoc",e._key,t),Zh(i,[o.toMutation(e._key,Jr.exists(!0))])}function N$(e){return Zh(Pr(e.firestore,fi),[new X0(e._key,Jr.none())])}function lj(e,t){const r=Pr(e.firestore,fi),n=ks(e),i=oj(e.converter,t);return Zh(r,[ZO(Yh(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Jr.exists(!1))]).then(()=>n)}function k$(e,...t){var l,u,c;e=$n(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||tS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(tS(t[n])){const d=t[n];t[n]=(l=d.next)==null?void 0:l.bind(d),t[n+1]=(u=d.error)==null?void 0:u.bind(d),t[n+2]=(c=d.complete)==null?void 0:c.bind(d)}let a,o,s;if(e instanceof at)o=Pr(e.firestore,fi),s=Vh(e._key.path),a={next:d=>{t[n]&&t[n](uj(o,e,d))},error:t[n+1],complete:t[n+2]};else{const d=Pr(e,fo);o=Pr(d.firestore,fi),s=d._query;const p=new Aw(o);a={next:m=>{t[n]&&t[n](new Ba(o,p,d,m))},error:t[n+1],complete:t[n+2]},ij(e._query)}return function(p,m,g,y){const w=new vw(y),x=new pw(m,w,g);return p.asyncQueue.enqueueAndForget(async()=>dw(await Sf(p),x)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>fw(await Sf(p),x))}}(Gh(o),s,i,a)}function Zh(e,t){return function(n,i){const a=new ri;return n.asyncQueue.enqueueAndForget(async()=>e$(await d$(n),i,a)),a.promise}(Gh(e),t)}function uj(e,t,r){const n=r.docs.get(t._key),i=new Aw(e);return new Ua(e,i,t._key,n,new Il(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(i){Is=i})(s3),ff(new uu("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new fi(new x3(n.getProvider("auth-internal")),new S3(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Qo(a1,o1,t),Qo(a1,o1,"esm2020")})();var R$="firebase",D$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(R$,D$,"app");const M$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},L$=OC(M$),bn=m$(L$),cj=async e=>{const t=ks(bn,"incidents",e),r=await sj(t);return r.exists()?{...r.data(),id:r.id}:null},V$=async e=>(await lj(Ns(bn,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,dj=async(e,t)=>{const r=ks(bn,"incidents",e);await j$(r,{...t})},F$=async e=>{await N$(ks(bn,"incidents",e))},$$=async()=>(await Pw(Ns(bn,"users"))).docs.map(t=>({...t.data(),id:t.id})),z$=async e=>{const t=P$(Ns(bn,"users"),T$("username","==",e)),r=await Pw(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},U$=async e=>(await lj(Ns(bn,"users"),e)).id,B$=async e=>{const t=await cj(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await dj(e.incidentId,{comments:n}),r.id},q$=async()=>(await Pw(Ns(bn,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),W$=async()=>{const e=ks(bn,"settings","app"),t=await sj(e);return t.exists()?t.data():null},K$=async e=>{const t=ks(bn,"settings","app");await O$(t,e,{merge:!0})},H$=e=>k$(Ns(bn,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),G$=async()=>{(await $$()).length===0&&await U$({username:"admin",password:"admin123",name:"Administrador",role:"admin",avatar:"",email:"admin@incidentalert.com"}),await W$()||await K$({theme:"light",notifications:!0,autoAssign:!1,language:"es"})},Q$=({onAdd:e})=>{const[t,r]=_.useState("MOV-"),[n,i]=_.useState(""),[a,o]=_.useState(""),[s,l]=_.useState(""),[u,c]=_.useState(""),[d,p]=_.useState(""),[m,g]=_.useState(""),[y,w]=_.useState(new Date().toISOString().split("T")[0]),[x,b]=_.useState("abierta"),[E,I]=_.useState("media"),[j,R]=_.useState("correctivo"),S=A=>{if(A.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const C={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:s.trim(),relevante:u.trim(),realizado:d.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:y,status:x,priority:E,type:j,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(C),r("MOV-"),i(""),o(""),l(""),c(""),p(""),g(""),w(new Date().toISOString().split("T")[0]),b("abierta"),I("media"),R("correctivo")};return h.jsx("div",{className:"incident-form-container",children:h.jsxs("form",{className:"incident-form",onSubmit:S,children:[h.jsx("h2",{children:" Crear Nueva Incidencia"}),h.jsxs("div",{className:"form-section",children:[h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),h.jsx("input",{id:"name",type:"text",value:t,onChange:A=>r(A.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"description",children:"Descripcin"}),h.jsx("textarea",{id:"description",value:a,onChange:A=>o(A.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",value:u,onChange:A=>c(A.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",value:d,onChange:A=>p(A.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",value:m,onChange:A=>g(A.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Prioridad"}),h.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(A=>h.jsxs("button",{type:"button",className:`chip-option priority-${A} ${E===A?"selected":""}`,onClick:()=>I(A),children:[A==="baja"&&" Baja",A==="media"&&" Media",A==="alta"&&" Alta",A==="crtica"&&" Crtica"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Estado"}),h.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${x===A?"selected":""}`,onClick:()=>b(A),children:[A==="abierta"&&"Abierta",A==="en-progreso"&&"En Progreso",A==="puesto-en-test"&&"Puesto en Test",A==="verificado-en-test"&&"Verificado en Test",A==="resuelta"&&"Resuelta",A==="cerrada"&&"Cerrada"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Tipo"}),h.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${j===A?"selected":""}`,onClick:()=>R(A),children:[A==="correctivo"&&" Correctivo",A==="evolutivo"&&" Evolutivo",A==="tarea"&&" Tarea"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Informacin Adicional"}),h.jsxs("div",{className:"form-grid",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"creationDate",type:"date",value:y,onChange:A=>w(A.target.value)})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"contactUser",type:"text",value:s,onChange:A=>l(A.target.value),placeholder:"Nombre del contacto"})]})]})]}),h.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},Y$=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=_.useState(e.name),[a,o]=_.useState(e.contactUser||""),[s,l]=_.useState(e.prQA2||""),[u,c]=_.useState(e.prMain||""),[d,p]=_.useState(e.creationDate||""),[m,g]=_.useState(e.status),[y,w]=_.useState(e.priority),[x,b]=_.useState(e.type),E=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:s.trim(),prMain:u.trim(),creationDate:d,status:m,priority:y,type:x})};return h.jsx("div",{className:"incident-edit-overlay",children:h.jsxs("form",{className:"incident-edit-form",onSubmit:E,children:[h.jsx("h2",{children:"Editar Incidencia"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),h.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>o(I.target.value),placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),h.jsx("input",{id:"edit-prQA2",type:"text",value:s,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),h.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:I=>c(I.target.value),placeholder:"ID de PR para MAIN"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"edit-creationDate",type:"date",value:d,onChange:I=>p(I.target.value)})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-status",children:"Estado"}),h.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),h.jsxs("select",{id:"edit-priority",value:y,onChange:I=>w(I.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),h.jsxs("select",{id:"edit-type",value:x,onChange:I=>b(I.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function fj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=fj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=fj(e))&&(n&&(n+=" "),n+=t);return n}var X$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tw(e){if(typeof e!="string")return!1;var t=X$;return t.includes(e)}var J$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z$=new Set(J$);function hj(e){return typeof e!="string"?!1:Z$.has(e)}function pj(e){return typeof e=="string"&&e.startsWith("data-")}function wn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hj(r)||pj(r))&&(t[r]=e[r]);return t}function vu(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wn(t)}return typeof e=="object"&&!Array.isArray(e)?wn(e):null}function tn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hj(r)||pj(r)||Tw(r))&&(t[r]=e[r]);return t}var e5=["children","width","height","viewBox","className","style","title","desc"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function t5(e,t){if(e==null)return{};var r,n,i=r5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iw=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=t5(e,e5),d=a||{width:n,height:i,x:0,y:0},p=Ce("recharts-surface",o);return _.createElement("svg",Wv({},tn(c),{className:p,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,l),_.createElement("desc",null,u),r)}),n5=["children","className"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function i5(e,t){if(e==null)return{};var r,n,i=a5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hr=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=i5(e,n5),a=Ce("recharts-layer",n);return _.createElement("g",Kv({className:a},tn(i),{ref:t}),r)}),mj=_.createContext(null),o5=()=>_.useContext(mj);function De(e){return function(){return e}}const gj=Math.cos,Pf=Math.sin,En=Math.sqrt,Tf=Math.PI,ep=2*Tf,Hv=Math.PI,Gv=2*Hv,Oa=1e-6,s5=Gv-Oa;function vj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function l5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vj;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class u5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vj:l5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Oa)if(!(Math.abs(d*l-u*c)>Oa)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,y=l*l+u*u,w=m*m+g*g,x=Math.sqrt(y),b=Math.sqrt(p),E=a*Math.tan((Hv-Math.acos((y+p-w)/(2*x*b)))/2),I=E/b,j=E/x;Math.abs(I-1)>Oa&&this._append`L${t+I*c},${r+I*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+j*l},${this._y1=r+j*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Oa||Math.abs(this._y1-c)>Oa)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%Gv+Gv),p>s5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Oa&&this._append`A${n},${n},0,${+(p>=Hv)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Cw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u5(t)}function Ow(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yj(e){this._context=e}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tp(e){return new yj(e)}function wj(e){return e[0]}function _j(e){return e[1]}function xj(e,t){var r=De(!0),n=null,i=tp,a=null,o=Cw(s);e=typeof e=="function"?e:e===void 0?wj:De(e),t=typeof t=="function"?t:t===void 0?_j:De(t);function s(l){var u,c=(l=Ow(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:De(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:De(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:De(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Xc(e,t,r){var n=null,i=De(!0),a=null,o=tp,s=null,l=Cw(u);e=typeof e=="function"?e:e===void 0?wj:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_j:De(+r);function u(d){var p,m,g,y=(d=Ow(d)).length,w,x=!1,b,E=new Array(y),I=new Array(y);for(a==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&i(w=d[p],p,d))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],I[g]);s.lineEnd(),s.areaEnd()}x&&(E[p]=+e(w,p,d),I[p]=+t(w,p,d),s.point(n?+n(w,p,d):E[p],r?+r(w,p,d):I[p]))}if(b)return s=null,b+""||null}function c(){return xj().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:De(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:De(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:De(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class bj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function c5(e){return new bj(e,!0)}function d5(e){return new bj(e,!1)}const jw={draw(e,t){const r=En(t/Tf);e.moveTo(r,0),e.arc(0,0,r,0,ep)}},f5={draw(e,t){const r=En(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ej=En(1/3),h5=Ej*2,p5={draw(e,t){const r=En(t/h5),n=r*Ej;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},m5={draw(e,t){const r=En(t),n=-r/2;e.rect(n,n,r,r)}},g5=.8908130915292852,Sj=Pf(Tf/10)/Pf(7*Tf/10),v5=Pf(ep/10)*Sj,y5=-gj(ep/10)*Sj,w5={draw(e,t){const r=En(t*g5),n=v5*r,i=y5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=ep*a/5,s=gj(o),l=Pf(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ag=En(3),_5={draw(e,t){const r=-En(t/(ag*3));e.moveTo(0,r*2),e.lineTo(-ag*r,-r),e.lineTo(ag*r,-r),e.closePath()}},Ur=-.5,Br=En(3)/2,Qv=1/En(12),x5=(Qv/2+1)*3,b5={draw(e,t){const r=En(t/x5),n=r/2,i=r*Qv,a=n,o=r*Qv+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Ur*n-Br*i,Br*n+Ur*i),e.lineTo(Ur*a-Br*o,Br*a+Ur*o),e.lineTo(Ur*s-Br*l,Br*s+Ur*l),e.lineTo(Ur*n+Br*i,Ur*i-Br*n),e.lineTo(Ur*a+Br*o,Ur*o-Br*a),e.lineTo(Ur*s+Br*l,Ur*l-Br*s),e.closePath()}};function E5(e,t){let r=null,n=Cw(i);e=typeof e=="function"?e:De(e||jw),t=typeof t=="function"?t:De(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:De(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:De(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function If(){}function Cf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Aj(e){this._context=e}Aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S5(e){return new Aj(e)}function Pj(e){this._context=e}Pj.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A5(e){return new Pj(e)}function Tj(e){this._context=e}Tj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P5(e){return new Tj(e)}function Ij(e){this._context=e}Ij.prototype={areaStart:If,areaEnd:If,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T5(e){return new Ij(e)}function iS(e){return e<0?-1:1}function aS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(iS(a)+iS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function oS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function og(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Of(e){this._context=e}Of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:og(this,this._t0,oS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,og(this,oS(this,r=aS(this,e,t)),r);break;default:og(this,this._t0,r=aS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Cj(e){this._context=new Oj(e)}(Cj.prototype=Object.create(Of.prototype)).point=function(e,t){Of.prototype.point.call(this,t,e)};function Oj(e){this._context=e}Oj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function I5(e){return new Of(e)}function C5(e){return new Cj(e)}function jj(e){this._context=e}jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sS(e),i=sS(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function O5(e){return new jj(e)}function rp(e,t){this._context=e,this._t=t}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function j5(e){return new rp(e,.5)}function N5(e){return new rp(e,0)}function k5(e){return new rp(e,1)}function hs(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Yv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function R5(e,t){return e[t]}function D5(e){const t=[];return t.key=e,t}function M5(){var e=De([]),t=Yv,r=hs,n=R5;function i(a){var o=Array.from(e.apply(this,arguments),D5),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=Ow(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:De(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:De(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Yv:typeof a=="function"?a:De(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??hs,i):r},i}function L5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}hs(e,t)}}function V5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}hs(e,t)}}function F5(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var y=e[t[g]],w=y[n][1]||0,x=y[n-1][1]||0;m+=w-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,hs(e,t)}}var np={},Nj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Nj);var Nw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Nw);var ip={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ip);var ap={},kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj,r=ip;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(ap);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nj,r=Nw,n=ip,i=ap;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(np);var $5=np.get;const eo=_i($5);var Mt=e=>e===0?0:e>0?1:-1,_n=e=>typeof e=="number"&&e!=+e,hi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,te=e=>(typeof e=="number"||e instanceof Number)&&!_n(e),Un=e=>te(e)||typeof e=="string",z5=0,yu=e=>{var t=++z5;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&typeof t!="string")return n;var a;if(hi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return _n(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Rj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function bt(e,t,r){return te(e)&&te(t)?e+r*(t-e):t}function U5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):eo(n,t))===r)}var Vt=e=>e===null||typeof e>"u",qu=e=>Vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function B5(e){return e!=null}function Wu(){}var q5=["type","size","sizeType"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){W5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W5(e,t,r){return(t=K5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5(e){var t=H5(e,"string");return typeof t=="symbol"?t:t+""}function H5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G5(e,t){if(e==null)return{};var r,n,i=Q5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dj={symbolCircle:jw,symbolCross:f5,symbolDiamond:p5,symbolSquare:m5,symbolStar:w5,symbolTriangle:_5,symbolWye:b5},Y5=Math.PI/180,X5=e=>{var t="symbol".concat(qu(e));return Dj[t]||jw},J5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Y5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z5=(e,t)=>{Dj["symbol".concat(qu(e))]=t},kw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=G5(e,q5),a=uS(uS({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=X5(o),m=E5().type(p).size(J5(r,n,o)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=tn(a);return te(u)&&te(c)&&te(r)?_.createElement("path",Xv({},d,{className:Ce("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};kw.registerSymbol=Z5;var Mj=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ez=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Tw(i)&&(n[i]=a=>r[i](r,a))}),n},tz=(e,t,r)=>n=>(e(t,r,n),null),Ku=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Tw(i)&&typeof a=="function"&&(n||(n={}),n[i]=tz(a,t,r))}),n};function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nz(e,t,r){return(t=iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ft(e,t){var r=rz({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=uz(e,"string");return typeof t=="symbol"?t:t+""}function uz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,cz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function dz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Wr/2,a=Wr/6,o=Wr/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Wr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var c=oz({},t);return delete c.legendIcon,_.cloneElement(t.legendIcon,c)}return _.createElement(kw,{fill:s,cx:i,cy:i,size:Wr,sizeType:"diameter",type:l})}function fz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:Wr,height:Wr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Ce({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,d):c.value;return _.createElement("li",jf({className:m,style:l,key:"legend-item-".concat(d)},Ku(e,c,d)),_.createElement(Iw,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},_.createElement(dz,{data:c,iconType:o,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var hz=e=>{var t=Ft(e,cz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(fz,jf({},t,{payload:r})))},Lj={},Vj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(Vj);var Rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rw);var Fj={},op={},$j={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})($j);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$j;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(op);var zj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=op,r=zj;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Fj);var Uj={},Bj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=np;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Bj);var qj={},Dw={},Wj={},Mw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Mw);var Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Lw);var Vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw,r=Lw,n=Vw;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(g,y,w,x,b,E){const I=p(g,y,w,x,b,E);return I!==void 0?!!I:a(g,y,m,E)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return s(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let y=0;y<g.length;y++){const w=g[y];if(!r.isPrimitive(c)&&!(w in c)||d[w]===void 0&&c[w]!==void 0||d[w]===null&&c[w]!==null||!p(c[w],d[w],w,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of d.entries()){const w=c.get(g);if(p(w,y,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<d.length;y++){const w=d[y];let x=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const E=c[b];let I=!1;if(p(E,w,y,c,d,m)&&(I=!0),I){g.add(b),x=!0;break}}if(!x)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(Wj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Dw);var Kj={},Fw={},Hj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Hj);var $w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})($w);var zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",I="[object BigUint64Array]",j="[object Int8Array]",R="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",C="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=y,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=R,e.int32ArrayTag=S,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=E,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=x})(zw);var Gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Gj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hj,r=$w,n=zw,i=Lw,a=Gj;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,d,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const w=new Array(c.length);m.set(c,w);for(let x=0;x<c.length;x++)w[x]=s(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(w.index=c.index),Object.hasOwn(c,"input")&&(w.input=c.input),w}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const w=new RegExp(c.source,c.flags);return w.lastIndex=c.lastIndex,w}if(c instanceof Map){const w=new Map;m.set(c,w);for(const[x,b]of c)w.set(x,s(b,x,p,m,g));return w}if(c instanceof Set){const w=new Set;m.set(c,w);for(const x of c)w.add(s(x,void 0,p,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const w=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,w);for(let x=0;x<c.length;x++)w[x]=s(c[x],x,p,m,g);return w}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const w=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,w),l(w,c,p,m,g),w}if(typeof File<"u"&&c instanceof File){const w=new File([c],c.name,{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(typeof Blob<"u"&&c instanceof Blob){const w=new Blob([c],{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Error){const w=new c.constructor;return m.set(c,w),w.message=c.message,w.name=c.name,w.stack=c.stack,w.cause=c.cause,l(w,c,p,m,g),w}if(c instanceof Boolean){const w=new Boolean(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Number){const w=new Number(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof String){const w=new String(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(typeof c=="object"&&u(c)){const w=Object.create(Object.getPrototypeOf(c));return m.set(c,w),l(w,c,p,m,g),w}return c}function l(c,d,p=c,m,g){const y=[...Object.keys(d),...t.getSymbols(d)];for(let w=0;w<y.length;w++){const x=y[w],b=Object.getOwnPropertyDescriptor(c,x);(b==null||b.writable)&&(c[x]=s(d[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Fw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw,r=Kj;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(qj);var Qj={},Yj={},Xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw,r=zw;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Xj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xj;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Yj);var Jj={},Uw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Uw);var Zj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nw,r=Uw,n=Zj,i=ap;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(Jj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw,r=ip,n=Yj,i=np,a=Jj;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(Qj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rw,r=Bj,n=qj,i=Qj;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(Uj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vj,r=Rw,n=Fj,i=Uj;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(Lj);var pz=Lj.uniqBy;const fS=_i(pz);function eN(e,t,r){return t===!0?fS(e,r):typeof t=="function"?fS(e,t):e}var tN={exports:{}},rN={},nN={exports:{}},iN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=_;function mz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gz=typeof Object.is=="function"?Object.is:mz,vz=ps.useState,yz=ps.useEffect,wz=ps.useLayoutEffect,_z=ps.useDebugValue;function xz(e,t){var r=t(),n=vz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return wz(function(){i.value=r,i.getSnapshot=t,sg(i)&&a({inst:i})},[e,r,t]),yz(function(){return sg(i)&&a({inst:i}),e(function(){sg(i)&&a({inst:i})})},[e]),_z(r),r}function sg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gz(e,r)}catch{return!0}}function bz(e,t){return t()}var Ez=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bz:xz;iN.useSyncExternalStore=ps.useSyncExternalStore!==void 0?ps.useSyncExternalStore:Ez;nN.exports=iN;var Sz=nN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=_,Az=Sz;function Pz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tz=typeof Object.is=="function"?Object.is:Pz,Iz=Az.useSyncExternalStore,Cz=sp.useRef,Oz=sp.useEffect,jz=sp.useMemo,Nz=sp.useDebugValue;rN.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Cz(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=jz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,Tz(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=Iz(e,a[0],a[1]);return Oz(function(){o.hasValue=!0,o.value=s},[s]),Nz(s),s};tN.exports=rN;var kz=tN.exports,Bw=_.createContext(null),Rz=e=>e,Ve=()=>{var e=_.useContext(Bw);return e?e.store.dispatch:Rz},kd=()=>{},Dz=()=>kd,Mz=(e,t)=>e===t;function ee(e){var t=_.useContext(Bw);return kz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dz,t?t.store.getState:kd,t?t.store.getState:kd,t?e:kd,Mz)}function Lz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Vz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var hS=e=>Array.isArray(e)?e:[e];function $z(e){const t=Array.isArray(e[0])?e[0]:e;return Fz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zz(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Uz=class{constructor(e){this.value=e}deref(){return this.value}},Bz=typeof WeakRef<"u"?WeakRef:Uz,qz=0,pS=1;function Jc(){return{s:qz,v:void 0,o:null,p:null}}function aN(e,t={}){let r=Jc();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const w=y.get(g);w===void 0?(s=Jc(),y.set(g,s)):s=w}else{let y=s.p;y===null&&(s.p=y=new Map);const w=y.get(g);w===void 0?(s=Jc(),y.set(g,s)):s=w}}const u=s;let c;if(s.s===pS)c=s.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Bz(c):c}return u.s=pS,u.v=c,c}return o.clearCache=()=>{r=Jc(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Wz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Lz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=aN,argsMemoizeOptions:g=[]}=c,y=hS(p),w=hS(g),x=$z(i),b=d(function(){return a++,u.apply(null,arguments)},...y),E=m(function(){o++;const j=zz(x,arguments);return s=b.apply(null,j),s},...w);return Object.assign(E,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=Wz(aN),Kz=Object.assign((e,t=L)=>{Vz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>Kz}),oN={},sN={},lN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(lN);var uN={},qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(uN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN,r=uN,n=ap;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,g)=>{let y=m;for(let w=0;w<g.length&&y!=null;++w)y=y[g[w]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<d.length;y++){const w=t.compareValues(m.criteria[y],g.criteria[y],s[y]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(sN);var cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(cN);var Ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uw,r=op,n=Mw,i=Vw;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(Ww);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN,r=cN,n=Ww;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(oN);var Hz=oN.sortBy;const lp=_i(Hz);var dN=e=>e.legend.settings,Gz=e=>e.legend.size,Qz=e=>e.legend.payload,Yz=L([Qz,dN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?lp(n,r):n});function Xz(){return ee(Yz)}var Zc=1;function fN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Zc||Math.abs(o.left-t.left)>Zc||Math.abs(o.top-t.top)>Zc||Math.abs(o.width-t.width)>Zc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jz=typeof Symbol=="function"&&Symbol.observable||"@@observable",mS=Jz,lg=()=>Math.random().toString(36).substring(7).split("").join("."),Zz={INIT:`@@redux/INIT${lg()}`,REPLACE:`@@redux/REPLACE${lg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lg()}`},Nf=Zz;function Kw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hN(e,t,r){if(typeof e!="function")throw new Error(Bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(hN)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((w,x)=>{o.set(x,w)}))}function c(){if(l)throw new Error(Bt(3));return i}function d(w){if(typeof w!="function")throw new Error(Bt(4));if(l)throw new Error(Bt(5));let x=!0;u();const b=s++;return o.set(b,w),function(){if(x){if(l)throw new Error(Bt(6));x=!1,u(),o.delete(b),a=null}}}function p(w){if(!Kw(w))throw new Error(Bt(7));if(typeof w.type>"u")throw new Error(Bt(8));if(typeof w.type!="string")throw new Error(Bt(17));if(l)throw new Error(Bt(9));try{l=!0,i=n(i,w)}finally{l=!1}return(a=o).forEach(b=>{b()}),w}function m(w){if(typeof w!="function")throw new Error(Bt(10));n=w,p({type:Nf.REPLACE})}function g(){const w=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Bt(11));function b(){const I=x;I.next&&I.next(c())}return b(),{unsubscribe:w(b)}},[mS](){return this}}}return p({type:Nf.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[mS]:g}}function e9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nf.INIT})>"u")throw new Error(Bt(12));if(typeof r(void 0,{type:Nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function pN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{e9(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=o[d],g=p(m,s);if(typeof g>"u")throw s&&s.type,new Error(Bt(14));u[d]=g,l=l||g!==m}return l=l||n.length!==Object.keys(o).length,l?u:o}}function kf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function t9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Bt(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=kf(...s)(i.dispatch),{...i,dispatch:a}}}function mN(e){return Kw(e)&&"type"in e&&typeof e.type=="string"}var gN=Symbol.for("immer-nothing"),gS=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dr=Object,ms=Dr.getPrototypeOf,Rf="constructor",up="prototype",Jv="configurable",Df="enumerable",Rd="writable",wu="value",pi=e=>!!e&&!!e[pr];function xn(e){var t;return e?vN(e)||cp(e)||!!e[gS]||!!((t=e[Rf])!=null&&t[gS])||dp(e)||fp(e):!1}var r9=Dr[up][Rf].toString(),vS=new WeakMap;function vN(e){if(!e||!Hw(e))return!1;const t=ms(e);if(t===null||t===Dr[up])return!0;const r=Dr.hasOwnProperty.call(t,Rf)&&t[Rf];if(r===Object)return!0;if(!Io(r))return!1;let n=vS.get(r);return n===void 0&&(n=Function.toString.call(r),vS.set(r,n)),n===r9}function Hu(e,t,r=!0){Gu(e)===0?(r?Reflect.ownKeys(e):Dr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Gu(e){const t=e[pr];return t?t.type_:cp(e)?1:dp(e)?2:fp(e)?3:0}var yS=(e,t,r=Gu(e))=>r===2?e.has(t):Dr[up].hasOwnProperty.call(e,t),Zv=(e,t,r=Gu(e))=>r===2?e.get(t):e[t],Mf=(e,t,r,n=Gu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function n9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cp=Array.isArray,dp=e=>e instanceof Map,fp=e=>e instanceof Set,Hw=e=>typeof e=="object",Io=e=>typeof e=="function",ug=e=>typeof e=="boolean",Gn=e=>e.copy_||e.base_,Gw=e=>e.modified_?e.copy_:e.base_;function ey(e,t){if(dp(e))return new Map(e);if(fp(e))return new Set(e);if(cp(e))return Array[up].slice.call(e);const r=vN(e);if(t===!0||t==="class_only"&&!r){const n=Dr.getOwnPropertyDescriptors(e);delete n[pr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[Rd]===!1&&(s[Rd]=!0,s[Jv]=!0),(s.get||s.set)&&(n[o]={[Jv]:!0,[Rd]:!0,[Df]:s[Df],[wu]:e[o]})}return Dr.create(ms(e),n)}else{const n=ms(e);if(n!==null&&r)return{...e};const i=Dr.create(n);return Dr.assign(i,e)}}function Qw(e,t=!1){return hp(e)||pi(e)||!xn(e)||(Gu(e)>1&&Dr.defineProperties(e,{set:ed,add:ed,clear:ed,delete:ed}),Dr.freeze(e),t&&Hu(e,(r,n)=>{Qw(n,!0)},!1)),e}function i9(){dn(2)}var ed={[wu]:i9};function hp(e){return e===null||!Hw(e)?!0:Dr.isFrozen(e)}var Lf="MapSet",ty="Patches",yN={};function gs(e){const t=yN[e];return t||dn(0,e),t}var a9=e=>!!yN[e],_u,wN=()=>_u,o9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:a9(Lf)?gs(Lf):void 0});function wS(e,t){t&&(e.patchPlugin_=gs(ty),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ry(e){ny(e),e.drafts_.forEach(s9),e.drafts_=null}function ny(e){e===_u&&(_u=e.parent_)}var _S=e=>_u=o9(_u,e);function s9(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pr].modified_&&(ry(t),dn(4)),xn(e)&&(e=bS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[pr].base_,e,t)}else e=bS(t,r);return l9(t,e,!0),ry(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gN?e:void 0}function bS(e,t){if(hp(t))return t;const r=t[pr];if(!r)return Yw(t,e.handledSet_,e);if(!pp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);bN(r,e)}return r.copy_}function l9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qw(t,r)}function _N(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var pp=(e,t)=>e.scope_===t,u9=[];function xN(e,t,r,n){const i=Gn(e),a=e.type_;if(n!==void 0&&Zv(i,n,a)===t){Mf(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Hu(i,(l,u)=>{if(pi(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??u9;for(const s of o)Mf(i,s,r,a)}function c9(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!pp(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=Gw(a);xN(e,a.draft_??a,o,r),bN(a,i)})}function bN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}_N(e)}}function d9(e,t,r){const{scope_:n}=e;if(pi(r)){const i=r[pr];pp(i,n)&&i.callbacks_.push(function(){Dd(e);const o=Gw(i);xN(e,r,o,t)})}else xn(r)&&e.callbacks_.push(function(){const a=Gn(e);Zv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yw(Zv(e.copy_,t,e.type_),n.handledSet_,n)})}function Yw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||pi(e)||t.has(e)||!xn(e)||hp(e)||(t.add(e),Hu(e,(n,i)=>{if(pi(i)){const a=i[pr];if(pp(a,r)){const o=Gw(a);Mf(e,n,o,e.type_),_N(a)}}else xn(i)&&Yw(i,t,r)})),e}function f9(e,t){const r=cp(e),n={type_:r?1:0,scope_:t?t.scope_:wN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Xw;r&&(i=[n],a=xu);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var Xw={get(e,t){if(t===pr)return e;const r=Gn(e);if(!yS(r,t,e.type_))return h9(e,r,t);const n=r[t];if(e.finalized_||!xn(n))return n;if(n===cg(e.base_,t)){Dd(e);const i=e.type_===1?+t:t,a=ay(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Gn(e)},ownKeys(e){return Reflect.ownKeys(Gn(e))},set(e,t,r){const n=EN(Gn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=cg(Gn(e),t),a=i==null?void 0:i[pr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(n9(r,i)&&(r!==void 0||yS(e.base_,t,e.type_)))return!0;Dd(e),iy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),d9(e,t,r)),!0},deleteProperty(e,t){return Dd(e),cg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),iy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Rd]:!0,[Jv]:e.type_!==1||t!=="length",[Df]:n[Df],[wu]:r[t]}},defineProperty(){dn(11)},getPrototypeOf(e){return ms(e.base_)},setPrototypeOf(){dn(12)}},xu={};Hu(Xw,(e,t)=>{xu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});xu.deleteProperty=function(e,t){return xu.set.call(this,e,t,void 0)};xu.set=function(e,t,r){return Xw.set.call(this,e[0],t,r,e[0])};function cg(e,t){const r=e[pr];return(r?Gn(r):e)[t]}function h9(e,t,r){var i;const n=EN(t,r);return n?wu in n?n[wu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function EN(e,t){if(!(t in e))return;let r=ms(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ms(r)}}function iy(e){e.modified_||(e.modified_=!0,e.parent_&&iy(e.parent_))}function Dd(e){e.copy_||(e.assigned_=new Map,e.copy_=ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Io(r)&&!Io(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}Io(n)||dn(6),i!==void 0&&!Io(i)&&dn(7);let a;if(xn(r)){const o=_S(this),s=ay(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?ry(o):ny(o)}return wS(o,i),xS(a,o)}else if(!r||!Hw(r)){if(a=n(r),a===void 0&&(a=r),a===gN&&(a=void 0),this.autoFreeze_&&Qw(a,!0),i){const o=[],s=[];gs(ty).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else dn(1,r)},this.produceWithPatches=(r,n)=>{if(Io(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},ug(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ug(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ug(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xn(t)||dn(8),pi(t)&&(t=gn(t));const r=_S(this),n=ay(r,t,void 0);return n[pr].isManual_=!0,ny(r),n}finishDraft(t,r){const n=t&&t[pr];(!n||!n.isManual_)&&dn(9);const{scope_:i}=n;return wS(i,r),xS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=gs(ty).applyPatches_;return pi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function ay(e,t,r,n){const[i,a]=dp(t)?gs(Lf).proxyMap_(t,r):fp(t)?gs(Lf).proxySet_(t,r):f9(t,r);return((r==null?void 0:r.scope_)??wN()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?c9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function gn(e){return pi(e)||dn(10,e),SN(e)}function SN(e){if(!xn(e)||hp(e))return e;const t=e[pr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ey(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ey(e,!0);return Hu(r,(i,a)=>{Mf(r,i,SN(a))},n),t&&(t.finalized_=!1),r}var m9=new p9,AN=m9.produce;function PN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var g9=PN(),v9=PN,y9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kf:kf.apply(null,arguments)};function rn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Lr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>mN(n)&&n.type===e,r}var TN=class Cl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cl.prototype)}static get[Symbol.species](){return Cl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cl(...t[0].concat(this)):new Cl(...t.concat(this))}};function ES(e){return xn(e)?AN(e,()=>{}):e}function td(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function w9(e){return typeof e=="boolean"}var _9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new TN;return r&&(w9(r)?o.push(g9):o.push(v9(r.extraArgument))),o},IN="RTK_autoBatch",Ke=()=>e=>({payload:e,meta:{[IN]:!0}}),SS=e=>t=>{setTimeout(t,e)},CN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SS(10):e.type==="callback"?e.queueNotification:SS(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return s.add(c),()=>{p(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[IN]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},x9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new TN(e);return n&&i.push(CN(typeof n=="object"?n:void 0)),i};function b9(e){const t=_9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Kw(r))s=pN(r);else throw new Error(Lr(1));let l;typeof n=="function"?l=n(t):l=t();let u=kf;i&&(u=y9({trace:!1,...typeof i=="object"&&i}));const c=t9(...l),d=x9(c);let p=typeof o=="function"?o(d):d();const m=u(...p);return hN(s,a,m)}function ON(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Lr(28));if(s in t)throw new Error(Lr(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function E9(e){return typeof e=="function"}function S9(e,t){let[r,n,i]=ON(t),a;if(E9(e))a=()=>ES(e());else{const s=ES(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(pi(c)){const m=d(c,l);return m===void 0?c:m}else{if(xn(c))return AN(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},s)}return o.getInitialState=a,o}var A9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P9=(e=21)=>{let t="",r=e;for(;r--;)t+=A9[Math.random()*64|0];return t},T9=Symbol.for("rtk-slice-createasyncthunk");function I9(e,t){return`${e}/${t}`}function C9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[T9];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Lr(11));const s=(typeof i.reducers=="function"?i.reducers(j9()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,j){const R=typeof I=="string"?I:I.type;if(!R)throw new Error(Lr(12));if(R in u.sliceCaseReducersByType)throw new Error(Lr(13));return u.sliceCaseReducersByType[R]=j,c},addMatcher(I,j){return u.sliceMatchers.push({matcher:I,reducer:j}),c},exposeAction(I,j){return u.actionCreators[I]=j,c},exposeCaseReducer(I,j){return u.sliceCaseReducersByName[I]=j,c}};l.forEach(I=>{const j=s[I],R={reducerName:I,type:I9(a,I),createNotation:typeof i.reducers=="function"};k9(j)?D9(R,j,c,t):N9(R,j,c)});function d(){const[I={},j=[],R=void 0]=typeof i.extraReducers=="function"?ON(i.extraReducers):[i.extraReducers],S={...I,...u.sliceCaseReducersByType};return S9(i.initialState,A=>{for(let C in S)A.addCase(C,S[C]);for(let C of u.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of j)A.addMatcher(C.matcher,C.reducer);R&&A.addDefaultCase(R)})}const p=I=>I,m=new Map,g=new WeakMap;let y;function w(I,j){return y||(y=d()),y(I,j)}function x(){return y||(y=d()),y.getInitialState()}function b(I,j=!1){function R(A){let C=A[I];return typeof C>"u"&&j&&(C=td(g,R,x)),C}function S(A=p){const C=td(m,j,()=>new WeakMap);return td(C,A,()=>{const D={};for(const[T,k]of Object.entries(i.selectors??{}))D[T]=O9(k,A,()=>td(g,A,x),j);return D})}return{reducerPath:I,getSelectors:S,get selectors(){return S(R)},selectSlice:R}}const E={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(I,{reducerPath:j,...R}={}){const S=j??o;return I.inject({reducerPath:S,reducer:w},R),{...E,...b(S,!0)}}};return E}}function O9(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Tr=C9();function j9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function N9({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!R9(n))throw new Error(Lr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?rn(e,o):rn(e))}function k9(e){return e._reducerDefinitionType==="asyncThunk"}function R9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function D9({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Lr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||rd,pending:s||rd,rejected:l||rd,settled:u||rd})}function rd(){}var M9="task",jN="listener",NN="completed",Jw="cancelled",L9=`task-${Jw}`,V9=`task-${NN}`,oy=`${jN}-${Jw}`,F9=`${jN}-${NN}`,mp=class{constructor(e){Em(this,"name","TaskAbortError");Em(this,"message");this.code=e,this.message=`${M9} ${Jw} (reason: ${e})`}},Zw=(e,t)=>{if(typeof e!="function")throw new TypeError(Lr(32))},Vf=()=>{},kN=(e,t=Vf)=>(e.catch(t),e),RN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qa=e=>{if(e.aborted)throw new mp(e.reason)};function DN(e,t){let r=Vf;return new Promise((n,i)=>{const a=()=>i(new mp(e.reason));if(e.aborted){a();return}r=RN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Vf})}var $9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ff=e=>t=>kN(DN(e,t).then(r=>(qa(e),r))),MN=e=>{const t=Ff(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xo}=Object,AS={},gp="listenerMiddleware",z9=(e,t)=>{const r=n=>RN(e,()=>n.abort(e.reason));return(n,i)=>{Zw(n);const a=new AbortController;r(a);const o=$9(async()=>{qa(e),qa(a.signal);const s=await n({pause:Ff(a.signal),delay:MN(a.signal),signal:a.signal});return qa(a.signal),s},()=>a.abort(V9));return i!=null&&i.autoJoin&&t.push(o.catch(Vf)),{result:Ff(e)(o),cancel(){a.abort(L9)}}}},U9=(e,t)=>{const r=async(n,i)=>{qa(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await DN(t,Promise.race(s));return qa(t),l}finally{a()}};return(n,i)=>kN(r(n,i))},LN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=rn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Lr(21));return Zw(a),{predicate:i,type:t,effect:a}},VN=Xo(e=>{const{type:t,predicate:r,effect:n}=LN(e);return{id:P9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Lr(22))}}},{withTypes:()=>VN}),PS=(e,t)=>{const{type:r,effect:n,predicate:i}=LN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},sy=e=>{e.pending.forEach(t=>{t.abort(oy)})},B9=(e,t)=>()=>{for(const r of t.keys())sy(r);e.clear()},TS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},FN=Xo(rn(`${gp}/add`),{withTypes:()=>FN}),q9=rn(`${gp}/removeAll`),$N=Xo(rn(`${gp}/remove`),{withTypes:()=>$N}),W9=(...e)=>{console.error(`${gp}/error`,...e)},Qu=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:o=W9}=e;Zw(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&sy(m)}),l=m=>{const g=PS(t,m)??VN(m);return s(g)};Xo(l,{withTypes:()=>l});const u=m=>{const g=PS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&sy(g)),!!g};Xo(u,{withTypes:()=>u});const c=async(m,g,y,w)=>{const x=new AbortController,b=U9(l,x.signal),E=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,Xo({},y,{getOriginalState:w,condition:(I,j)=>b(I,j).then(Boolean),take:b,delay:MN(x.signal),pause:Ff(x.signal),extra:a,signal:x.signal,fork:z9(x.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,j,R)=>{I!==x&&(I.abort(oy),R.delete(I))})},cancel:()=>{x.abort(oy),m.pending.delete(x)},throwIfCancelled:()=>{qa(x.signal)}})))}catch(I){I instanceof mp||TS(o,I,{raisedBy:"effect"})}finally{await Promise.all(E),x.abort(F9),i(m),m.pending.delete(x)}},d=B9(t,r);return{middleware:m=>g=>y=>{if(!mN(y))return g(y);if(FN.match(y))return l(y.payload);if(q9.match(y)){d();return}if($N.match(y))return u(y.payload);let w=m.getState();const x=()=>{if(w===AS)throw new Error(Lr(23));return w};let b;try{if(b=g(y),t.size>0){const E=m.getState(),I=Array.from(t.values());for(const j of I){let R=!1;try{R=j.predicate(y,E,w)}catch(S){R=!1,TS(o,S,{raisedBy:"predicate"})}R&&c(j,y,m,x)}}}finally{w=AS}return b},startListening:l,stopListening:u,clearListeners:d}};function Lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zN=Tr({name:"chartLayout",initialState:K9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:H9,setLayout:G9,setChartSize:Q9,setScale:Y9}=zN.actions,X9=zN.reducer;function UN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){J9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J9(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ge(e,t,r){return Vt(e)||Vt(t)?r:Un(t)?eo(e,t,r):typeof t=="function"?t(e):r}var tU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&te(e[a]))return zo(zo({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&te(e[o]))return zo(zo({},e),{},{[o]:e[o]+(i||0)})}return e},ho=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},qN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Mt(a[0]-a[1])*2*y:y,d||p){var w=(d||p||[]).map((x,b)=>{var E=n?n.indexOf(x):x;return{coordinate:o(E)+y,value:x,offset:y,index:b}});return w.filter(x=>!_n(x.coordinate))}return l&&u?u.map((x,b)=>({coordinate:o(x)+y,value:x,index:b,offset:y})):o.ticks&&c!=null?o.ticks(c).map((x,b)=>({coordinate:o(x)+y,value:x,offset:y,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+y,value:n?n[x]:x,index:b,offset:y}))},CS=1e-4,rU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-CS,a=Math.max(n[0],n[1])+CS,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},nU=(e,t)=>{if(!t||t.length!==2||!te(t[0])||!te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(i[0]=r),(!te(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},iU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=_n(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},aU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=_n(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},oU={sign:iU,expand:L5,none:hs,silhouette:V5,wiggle:F5,positive:aU},sU=(e,t,r)=>{var n=oU[r],i=M5().keys(t).value((a,o)=>Number(Ge(a,o,0))).order(Yv).offset(n);return i(e)};function lU(e){return e==null?void 0:String(e)}var OS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ge(a,t.dataKey,t.scale.domain()[o]);return Vt(s)?null:t.scale(s)-i/2+n},uU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},cU=e=>{var t=e.flat(2).filter(te);return[Math.min(...t),Math.max(...t)]},dU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fU=(e,t,r)=>{if(e!=null)return dU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=UN(u,t,r),d=cU(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},jS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$f=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=lp(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function kS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return zo(zo({},t),{},{dataKey:r,payload:n,value:i,name:a})}function vp(e,t){if(e)return String(e);if(typeof t=="string")return t}var hU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pU=(e,t)=>t==="centric"?e.angle:e.radius,bi=e=>e.layout.width,Ei=e=>e.layout.height,mU=e=>e.layout.scale,WN=e=>e.layout.margin,yp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),wp=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KN="data-recharts-item-index",HN="data-recharts-item-data-key",Yu=60;function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wU=e=>e.brush.height;function _U(e){var t=wp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Yu;return r+i}return r},0)}function xU(e){var t=wp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Yu;return r+i}return r},0)}function bU(e){var t=yp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function EU(e){var t=yp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Pt=L([bi,Ei,WN,wU,_U,xU,bU,EU,dN,Gz],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},p=nd(nd({},d),c),m=p.bottom;p.bottom+=n,p=tU(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return nd(nd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),SU=L(Pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e_=L(bi,Ei,(e,t)=>({x:0,y:0,width:e,height:t})),AU=_.createContext(null),Ir=()=>_.useContext(AU)!=null,_p=e=>e.brush,xp=L([_p,Pt,WN],(e,t,r)=>({height:e.height,x:te(e.x)?e.x:t.left,y:te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:te(e.width)?e.width:t.width})),GN={},QN={},YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),o=void 0,s=null},w=()=>{c()},x=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const E=p==null;m(),l&&E&&c()};return x.schedule=m,x.cancel=y,x.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...y){c=n.apply(this,y),d=null},i,{edges:u}),m=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,y),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(QN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QN;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(GN);var PU=GN.throttle;const TU=_i(PU);var zf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},XN=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=hi(n)?e:Number(n),l=hi(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},IU={width:0,height:0,overflow:"visible"},CU={width:0,overflowX:"visible"},OU={height:0,overflowY:"visible"},jU={},NU=e=>{var{width:t,height:r}=e,n=hi(t),i=hi(r);return n&&i?IU:n?CU:i?OU:jU};function kU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ct(e){return Number.isFinite(e)}function Bn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){RU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=MU(e,"string");return typeof t=="symbol"?t:t+""}function MU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN=_.createContext({width:-1,height:-1});function LU(e){return Bn(e.width)&&Bn(e.height)}function ZN(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return LU(i)?_.createElement(JN.Provider,{value:i},t):null}var t_=()=>_.useContext(JN),VU=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,y=_.useRef(null),w=_.useRef();w.current=m,_.useImperativeHandle(t,()=>y.current);var[x,b]=_.useState({containerWidth:n.width,containerHeight:n.height}),E=_.useCallback((A,C)=>{b(D=>{var T=Math.round(A),k=Math.round(C);return D.containerWidth===T&&D.containerHeight===k?D:{containerWidth:T,containerHeight:k}})},[]);_.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Wu;var A=k=>{var O,{width:Q,height:se}=k[0].contentRect;E(Q,se),(O=w.current)===null||O===void 0||O.call(w,Q,se)};c>0&&(A=TU(A,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(A),{width:D,height:T}=y.current.getBoundingClientRect();return E(D,T),C.observe(y.current),()=>{C.disconnect()}},[E,c]);var{containerWidth:I,containerHeight:j}=x;zf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:S}=XN(I,j,{width:i,height:a,aspect:r,maxHeight:l});return zf(R!=null&&R>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,S,i,a,o,s,r),_.createElement("div",{id:d?"".concat(d):void 0,className:Ce("recharts-responsive-container",p),style:MS(MS({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},_.createElement("div",{style:NU({width:i,height:a})},_.createElement(ZN,{width:R,height:S},u)))}),r_=_.forwardRef((e,t)=>{var r=t_();if(Bn(r.width)&&Bn(r.height))return e.children;var{width:n,height:i}=kU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=XN(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return te(a)&&te(o)?_.createElement(ZN,{width:a,height:o},e.children):_.createElement(VU,ly({},e,{width:n,height:i,ref:t}))});function ek(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bp=()=>{var e,t=Ir(),r=ee(SU),n=ee(xp),i=(e=ee(_p))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},FU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tk=()=>{var e;return(e=ee(Pt))!==null&&e!==void 0?e:FU},n_=()=>ee(bi),i_=()=>ee(Ei),$U=()=>ee(e=>e.layout.margin),Ae=e=>e.layout.layoutType,Ep=()=>ee(Ae),zU=()=>{var e=Ep();return e!==void 0},Sp=e=>{var t=Ve(),r=Ir(),{width:n,height:i}=e,a=t_(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),_.useEffect(()=>{!r&&Bn(o)&&Bn(s)&&t(Q9({width:o,height:s}))},[t,r,o,s]),null},rk=Symbol.for("immer-nothing"),LS=Symbol.for("immer-draftable"),Fr=Symbol.for("immer-state");function fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bu=Object.getPrototypeOf;function vs(e){return!!e&&!!e[Fr]}function to(e){var t;return e?nk(e)||Array.isArray(e)||!!e[LS]||!!((t=e.constructor)!=null&&t[LS])||Xu(e)||Pp(e):!1}var UU=Object.prototype.constructor.toString(),VS=new WeakMap;function nk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=VS.get(r);return n===void 0&&(n=Function.toString.call(r),VS.set(r,n)),n===UU}function Uf(e,t,r=!0){Ap(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ap(e){const t=e[Fr];return t?t.type_:Array.isArray(e)?1:Xu(e)?2:Pp(e)?3:0}function uy(e,t){return Ap(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ik(e,t,r){const n=Ap(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function BU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xu(e){return e instanceof Map}function Pp(e){return e instanceof Set}function ja(e){return e.copy_||e.base_}function cy(e,t){if(Xu(e))return new Map(e);if(Pp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Fr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(bu(e),n)}else{const n=bu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function a_(e,t=!1){return Tp(e)||vs(e)||!to(e)||(Ap(e)>1&&Object.defineProperties(e,{set:id,add:id,clear:id,delete:id}),Object.freeze(e),t&&Object.values(e).forEach(r=>a_(r,!0))),e}function qU(){fn(2)}var id={value:qU};function Tp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WU={};function ro(e){const t=WU[e];return t||fn(0,e),t}var Eu;function ak(){return Eu}function KU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FS(e,t){t&&(ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){fy(e),e.drafts_.forEach(HU),e.drafts_=null}function fy(e){e===Eu&&(Eu=e.parent_)}function $S(e){return Eu=KU(Eu,e)}function HU(e){const t=e[Fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Fr].modified_&&(dy(t),fn(4)),to(e)&&(e=Bf(t,e),t.parent_||qf(t,e)),t.patches_&&ro("Patches").generateReplacementPatches_(r[Fr].base_,e,t.patches_,t.inversePatches_)):e=Bf(t,r,[]),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rk?e:void 0}function Bf(e,t,r){if(Tp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Fr];if(!i)return Uf(t,(a,o)=>US(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return qf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Uf(o,(l,u)=>US(e,i,a,l,u,r,s),n),qf(e,a,!1),r&&e.patches_&&ro("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function US(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=Tp(i);if(!(s&&!o)){if(vs(i)){const l=a&&t&&t.type_!==3&&!uy(t.assigned_,n)?a.concat(n):void 0,u=Bf(e,i,l);if(ik(r,n,u),vs(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(to(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Bf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Xu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&qf(e,i)}}}function qf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&a_(t,r)}function GU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ak(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=o_;r&&(i=[n],a=Su);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var o_={get(e,t){if(t===Fr)return e;const r=ja(e);if(!uy(r,t))return QU(e,r,t);const n=r[t];return e.finalized_||!to(n)?n:n===dg(e.base_,t)?(fg(e),e.copy_[t]=py(n,e)):n},has(e,t){return t in ja(e)},ownKeys(e){return Reflect.ownKeys(ja(e))},set(e,t,r){const n=ok(ja(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=dg(ja(e),t),a=i==null?void 0:i[Fr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(BU(r,i)&&(r!==void 0||uy(e.base_,t)))return!0;fg(e),hy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return dg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fg(e),hy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ja(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fn(11)},getPrototypeOf(e){return bu(e.base_)},setPrototypeOf(){fn(12)}},Su={};Uf(o_,(e,t)=>{Su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,r){return o_.set.call(this,e[0],t,r,e[0])};function dg(e,t){const r=e[Fr];return(r?ja(r):e)[t]}function QU(e,t,r){var i;const n=ok(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function ok(e,t){if(!(t in e))return;let r=bu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bu(r)}}function hy(e){e.modified_||(e.modified_=!0,e.parent_&&hy(e.parent_))}function fg(e){e.copy_||(e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&fn(6),n!==void 0&&typeof n!="function"&&fn(7);let i;if(to(t)){const a=$S(this),o=py(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?dy(a):fy(a)}return FS(a,n),zS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===rk&&(i=void 0),this.autoFreeze_&&a_(i,!0),n){const a=[],o=[];ro("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else fn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){to(e)||fn(8),vs(e)&&(e=XU(e));const t=$S(this),r=py(e,void 0);return r[Fr].isManual_=!0,fy(t),r}finishDraft(e,t){const r=e&&e[Fr];(!r||!r.isManual_)&&fn(9);const{scope_:n}=r;return FS(n,t),zS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ro("Patches").applyPatches_;return vs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function py(e,t){const r=Xu(e)?ro("MapSet").proxyMap_(e,t):Pp(e)?ro("MapSet").proxySet_(e,t):GU(e,t);return(t?t.scope_:ak()).drafts_.push(r),r}function XU(e){return vs(e)||fn(10,e),sk(e)}function sk(e){if(!to(e)||Tp(e))return e;const t=e[Fr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cy(e,!0);return Uf(r,(i,a)=>{ik(r,i,sk(a))},n),t&&(t.finalized_=!1),r}var JU=new YU;JU.produce;var ZU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lk=Tr({name:"legend",initialState:ZU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=gn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ke()},removeLegendPayload:{reducer(e,t){var r=gn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ke()}}}),{setLegendSize:BS,setLegendSettings:eB,addLegendPayload:uk,replaceLegendPayload:ck,removeLegendPayload:dk}=lk.actions,tB=lk.reducer,rB=["contextPayload"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){nB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nB(e,t,r){return(t=iB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=aB(e,"string");return typeof t=="symbol"?t:t+""}function aB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oB(e,t){if(e==null)return{};var r,n,i=sB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lB(e){return e.value}function uB(e){var{contextPayload:t}=e,r=oB(e,rB),n=eN(t,e.payloadUniqBy,lB),i=ys(ys({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(hz,i)}function cB(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ys(ys({},u),c)}function dB(e){var t=Ve();return _.useEffect(()=>{t(eB(e))},[t,e]),null}function fB(e){var t=Ve();return _.useEffect(()=>(t(BS(e)),()=>{t(BS({width:0,height:0}))}),[t,e]),null}function hB(e,t,r,n){return e==="vertical"&&te(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var pB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ip(e){var t=Ft(e,pB),r=Xz(),n=o5(),i=$U(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=fN([r]),d=n_(),p=i_();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=hB(t.layout,o,a,m),y=l?s:ys(ys({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||o||"auto"},cB(s,t,i,d,p,u)),s),w=l??n;if(w==null||r==null)return null;var x=_.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},_.createElement(dB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&_.createElement(fB,{width:u.width,height:u.height}),_.createElement(uB,my({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return Fn.createPortal(x,w)}Ip.displayName="Legend";function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return(t=gB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=vB(e,"string");return typeof t=="symbol"?t:t+""}function vB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yB(e){return Array.isArray(e)&&Un(e[0])&&Un(e[1])?e.join(" ~ "):e}var wB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},R=(s?lp(a,s):a).map((S,A)=>{if(S.type==="none")return null;var C=S.formatter||o||yB,{value:D,name:T}=S,k=D,O=T;if(C){var Q=C(D,T,S,A,a);if(Array.isArray(Q))[k,O]=Q;else if(Q!=null)k=Q;else return null}var se=hg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:se},Un(O)?_.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Un(O)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},k),_.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},R)}return null},g=hg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=hg({margin:0},i),w=!Vt(c),x=w?c:"",b=Ce("recharts-default-tooltip",l),E=Ce("recharts-tooltip-label",u);w&&d&&a!==void 0&&a!==null&&(x=d(c,a));var I=p?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",gy({className:b,style:g},I),_.createElement("p",{className:E,style:y},_.isValidElement(x)?x:"".concat(x)),m())},hl="recharts-tooltip-wrapper",_B={visibility:"hidden"};function xB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ce(hl,{["".concat(hl,"-right")]:te(r)&&t&&te(t.x)&&r>=t.x,["".concat(hl,"-left")]:te(r)&&t&&te(t.x)&&r<t.x,["".concat(hl,"-bottom")]:te(n)&&t&&te(t.y)&&n>=t.y,["".concat(hl,"-top")]:te(n)&&t&&te(t.y)&&n<t.y})}function KS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&te(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var p=l[n];if(p==null)return 0;if(o[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var y=d+s,w=p+u;return y>w?Math.max(c,p):Math.max(d,p)}function bB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=KS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=KS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=bB({translateX:c,translateY:d,useTranslate3d:s})):u=_B,{cssProperties:u,cssClasses:xB({translateX:c,translateY:d,coordinate:r})}}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vy(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=AB(e,"string");return typeof t=="symbol"?t:t+""}function AB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PB extends _.PureComponent{constructor(){super(...arguments),vy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:E}=EB({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),I=x?{}:ad(ad({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=ad(ad({},I),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:w},a)}}var fk=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){TB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YS={curveBasisClosed:A5,curveBasisOpen:P5,curveBasis:S5,curveBumpX:c5,curveBumpY:d5,curveLinearClosed:T5,curveLinear:tp,curveMonotoneX:I5,curveMonotoneY:C5,curveNatural:O5,curveStep:j5,curveStepAfter:k5,curveStepBefore:N5},Wf=e=>ct(e.x)&&ct(e.y),XS=e=>e.base!=null&&Wf(e.base)&&Wf(e),pl=e=>e.x,ml=e=>e.y,OB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qu(e));return(r==="curveMonotone"||r==="curveBump")&&t?YS["".concat(r).concat(t==="vertical"?"Y":"X")]:YS[r]||tp},jB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=OB(t,i),s=a?r.filter(Wf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>QS(QS({},m),{},{base:n[g]}));i==="vertical"?l=Xc().y(ml).x1(pl).x0(m=>m.base.x):l=Xc().x(pl).y1(ml).y0(m=>m.base.y);var c=l.defined(XS).curve(o),d=a?u.filter(XS):u;return c(d)}i==="vertical"&&te(n)?l=Xc().y(ml).x1(pl).x0(n):te(n)?l=Xc().x(pl).y1(ml).y0(n):l=xj().x(pl).y(ml);var p=l.defined(Wf).curve(o);return p(s)},s_=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?jB(e):n;return _.createElement("path",yy({},wn(e),ez(e),{className:Ce("recharts-curve",t),d:a===null?void 0:a,ref:i}))},NB=["x","y","top","left","width","height","className"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){RB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t,r){return(t=DB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e,t){if(e==null)return{};var r,n,i=VB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FB=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),$B=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=LB(e,NB),u=kB({x:t,y:r,top:n,left:i,width:a,height:o},l);return!te(t)||!te(r)||!te(a)||!te(o)||!te(n)||!te(i)?null:_.createElement("path",wy({},tn(u),{className:Ce("recharts-cross",s),d:FB(t,r,a,o,n,i)}))};function zB(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hk=(e,t,r)=>e.map(n=>"".concat(WB(n)," ").concat(t,"ms ").concat(r)).join(","),KB=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Au=(e,t)=>Object.keys(t).reduce((r,n)=>eA(eA({},r),{},{[n]:e(n,t[n])}),{});function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){HB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t,r){return(t=GB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=(e,t,r)=>e+(t-e)*r,_y=e=>{var{from:t,to:r}=e;return t!==r},pk=(e,t,r)=>{var n=Au((i,a)=>{if(_y(a)){var[o,s]=e(a.from,a.to,a.velocity);return Et(Et({},a),{},{from:o,velocity:s})}return a},t);return r<1?Au((i,a)=>_y(a)?Et(Et({},a),{},{velocity:Kf(a.velocity,n[i].velocity,r),from:Kf(a.from,n[i].from,r)}):a,t):pk(e,n,r-1)};function YB(e,t,r,n,i,a){var o,s=n.reduce((p,m)=>Et(Et({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Au((p,m)=>m.from,s),u=()=>!Object.values(s).filter(_y).length,c=null,d=p=>{o||(o=p);var m=p-o,g=m/r.dt;s=pk(r,s,g),i(Et(Et(Et({},e),t),l())),o=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function XB(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,p)=>Et(Et({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Au((y,w)=>Kf(...w,r(p)),l);if(a(Et(Et(Et({},e),t),m)),p<1)s=o.setTimeout(c);else{var g=Au((y,w)=>Kf(...w,r(1)),l);a(Et(Et(Et({},e),t),g))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const JB=(e,t,r,n,i,a)=>{var o=KB(e,t);return r==null?()=>(i(Et(Et({},e),t)),()=>{}):r.isStepper===!0?YB(e,t,r,o,i,a):XB(e,t,r,n,o,i,a)};var Hf=1e-4,mk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),rA=(e,t)=>r=>{var n=mk(e,t);return gk(n,r)},ZB=(e,t)=>r=>{var n=mk(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return gk(i,r)},e8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},t8=(e,t,r,n)=>{var i=rA(e,r),a=rA(t,n),o=ZB(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=o(d);if(Math.abs(m-c)<Hf||g<Hf)return a(d);d=s(d-m/g)}return a(d)};return l.isStepper=!1,l},nA=function(){return t8(...e8(...arguments))},r8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+o;return Math.abs(p-s)<Hf&&Math.abs(d)<Hf?[s,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},n8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nA(e);case"spring":return r8();default:if(e.split("(")[0]==="cubic-bezier")return nA(e)}return typeof e=="function"?e:null};function i8(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class a8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function o8(){return i8(new a8)}var s8=_.createContext(o8);function l8(e,t){var r=_.useContext(s8);return _.useMemo(()=>t??r(e),[e,t,r])}var u8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ju={devToolsEnabled:!1,isSsr:u8()},c8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iA={t:0},pg={t:1};function Cp(e){var t=Ft(e,c8),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!Ju.isSsr:r,d=l8(t.animationId,t.animationManager),[p,m]=_.useState(c?iA:pg),g=_.useRef(null);return _.useEffect(()=>{c||m(pg)},[c]),_.useEffect(()=>{if(!c||!n)return Wu;var y=JB(iA,pg,n8(a),i,m,d.getTimeoutController()),w=()=>{g.current=y()};return d.start([l,o,w,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,n,i,a,o,l,s,d]),u(p.t)}function Op(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(yu(t)),n=_.useRef(e);return n.current!==e&&(r.current=yu(t),n.current=e),r.current}var d8=["radius"],f8=["radius"];function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){h8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h8(e,t,r){return(t=p8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8(e){var t=m8(e,"string");return typeof t=="symbol"?t:t+""}function m8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}function sA(e,t){if(e==null)return{};var r,n,i=g8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},uA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vk=e=>{var t=Ft(e,uA),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,w=_.useRef(s),x=_.useRef(l),b=_.useRef(a),E=_.useRef(o),I=_.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),j=Op(I,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var R=Ce("recharts-rectangle",c);if(!y){var S=tn(t),{radius:A}=S,C=sA(S,d8);return _.createElement("path",Gf({},C,{radius:typeof u=="number"?u:void 0,className:R,d:lA(a,o,s,l,u)}))}var D=w.current,T=x.current,k=b.current,O=E.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),fe=hk(["strokeDasharray"],p,typeof d=="string"?d:uA.animationEasing);return _.createElement(Cp,{animationId:j,key:j,canBegin:n>0,duration:p,easing:d,isActive:y,begin:m},le=>{var U=bt(D,s,le),K=bt(T,l,le),re=bt(k,a,le),me=bt(O,o,le);r.current&&(w.current=U,x.current=K,b.current=re,E.current=me);var _e;g?le>0?_e={transition:fe,strokeDasharray:se}:_e={strokeDasharray:Q}:_e={strokeDasharray:se};var yt=tn(t),{radius:je}=yt,zt=sA(yt,f8);return _.createElement("path",Gf({},zt,{radius:typeof u=="number"?u:void 0,className:R,d:lA(re,me,U,K,u),ref:r,style:oA(oA({},_e),t.style)}))})};function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){v8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8(e,t,r){return(t=y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf=Math.PI/180,_8=e=>e*180/Math.PI,gt=(e,t,r,n)=>({x:e+Math.cos(-Qf*n)*r,y:t+Math.sin(-Qf*n)*r}),yk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},x8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},b8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=x8({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:_8(l),angleInRadian:l}},E8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},S8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},A8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=b8({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=E8(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?dA(dA({},t),{},{radius:i,angle:S8(c,t)}):null};function wk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=gt(t,r,n,i),s=gt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}var P8=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},od=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Qf,d=l?i:i+a*c,p=gt(t,r,u,d),m=gt(t,r,n,d),g=l?i-a*c:i,y=gt(t,r,u*Math.cos(c*Qf),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},_k=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=P8(a,o),l=a+s,u=gt(t,r,i,a),c=gt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=gt(t,r,n,a),m=gt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},T8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Mt(u-l),{circleTangency:d,lineTangency:p,theta:m}=od({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:y,theta:w}=od({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-m-w;if(x<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_k({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:I,theta:j}=od({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:R,lineTangency:S,theta:A}=od({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=s?Math.abs(l-u):Math.abs(l-u)-j-A;if(C<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},I8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xk=e=>{var t=Ft(e,I8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Ce("recharts-sector",d),m=a-i,g=or(o,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=T8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=_k({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",xy({},tn(t),{className:p,d:y}))};function C8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Mj(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=gt(n,i,a,s),u=gt(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return wk(t)}}var bk={},Ek={},Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,r=Ek;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(bk);var O8=bk.range;const Ak=_i(O8);function na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function l_(e){let t,r,n;e.length!==2?(t=na,r=(s,l)=>na(e(s),l),n=(s,l)=>e(s)-l):(t=e===na||e===j8?e:N8,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function N8(){return 0}function Pk(e){return e===null?NaN:+e}function*k8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const R8=l_(na),Zu=R8.right;l_(Pk).center;class fA extends Map{constructor(t,r=L8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(hA(this,t))}has(t){return super.has(hA(this,t))}set(t,r){return super.set(D8(this,t),r)}delete(t){return super.delete(M8(this,t))}}function hA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function D8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function L8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function V8(e=na){if(e===na)return Tk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Tk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const F8=Math.sqrt(50),$8=Math.sqrt(10),z8=Math.sqrt(2);function Yf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=F8?10:a>=$8?5:a>=z8?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Yf(e,t,r*2):[s,l,u]}function by(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Yf(t,e,r):Yf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Ey(e,t,r){return t=+t,e=+e,r=+r,Yf(e,t,r)[2]}function Sy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ey(t,e,r):Ey(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function pA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Ik(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Tk:V8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));Ik(e,t,m,g,i)}const a=e[t];let o=r,s=n;for(gl(e,r,t),i(e[n],a)>0&&gl(e,r,n);o<s;){for(gl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function U8(e,t,r){if(e=Float64Array.from(k8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return mA(e);if(t>=1)return pA(e);var n,i=(n-1)*t,a=Math.floor(i),o=pA(Ik(e,a).subarray(0,a+1)),s=mA(e.subarray(a+1));return o+(s-o)*(i-a)}}function B8(e,t,r=Pk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function q8(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ay=Symbol("implicit");function u_(){var e=new fA,t=[],r=[],n=Ay;function i(a){let o=e.get(a);if(o===void 0){if(n!==Ay)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new fA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return u_(t,r).unknown(n)},an.apply(i,arguments),i}function c_(){var e=u_().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var w=q8(p).map(function(x){return g+a*x});return r(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return c_(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},an.apply(d(),arguments)}function Ck(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ck(t())},e}function W8(){return Ck(c_.apply(null,arguments).paddingInner(1))}function d_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ok(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ec(){}var Pu=.7,Xf=1/Pu,Jo="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K8=/^#([0-9a-f]{3,8})$/,H8=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),G8=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),Q8=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Tu}\\)$`),Y8=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Tu}\\)$`),X8=new RegExp(`^hsl\\(${Tu},${Vn},${Vn}\\)$`),J8=new RegExp(`^hsla\\(${Tu},${Vn},${Vn},${Tu}\\)$`),gA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d_(ec,Iu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vA,formatHex:vA,formatHex8:Z8,formatHsl:e7,formatRgb:yA,toString:yA});function vA(){return this.rgb().formatHex()}function Z8(){return this.rgb().formatHex8()}function e7(){return jk(this).formatHsl()}function yA(){return this.rgb().formatRgb()}function Iu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=K8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wA(t):r===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H8.exec(e))?new br(t[1],t[2],t[3],1):(t=G8.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Q8.exec(e))?sd(t[1],t[2],t[3],t[4]):(t=Y8.exec(e))?sd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X8.exec(e))?bA(t[1],t[2]/100,t[3]/100,1):(t=J8.exec(e))?bA(t[1],t[2]/100,t[3]/100,t[4]):gA.hasOwnProperty(e)?wA(gA[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function wA(e){return new br(e>>16&255,e>>8&255,e&255,1)}function sd(e,t,r,n){return n<=0&&(e=t=r=NaN),new br(e,t,r,n)}function t7(e){return e instanceof ec||(e=Iu(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function Py(e,t,r,n){return arguments.length===1?t7(e):new br(e,t,r,n??1)}function br(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}d_(br,Py,Ok(ec,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pu:Math.pow(Pu,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(Wa(this.r),Wa(this.g),Wa(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_A,formatHex:_A,formatHex8:r7,formatRgb:xA,toString:xA}));function _A(){return`#${La(this.r)}${La(this.g)}${La(this.b)}`}function r7(){return`#${La(this.r)}${La(this.g)}${La(this.b)}${La((isNaN(this.opacity)?1:this.opacity)*255)}`}function xA(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function La(e){return e=Wa(e),(e<16?"0":"")+e.toString(16)}function bA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hn(e,t,r,n)}function jk(e){if(e instanceof hn)return new hn(e.h,e.s,e.l,e.opacity);if(e instanceof ec||(e=Iu(e)),!e)return new hn;if(e instanceof hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new hn(o,s,l,e.opacity)}function n7(e,t,r,n){return arguments.length===1?jk(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}d_(hn,n7,Ok(ec,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pu:Math.pow(Pu,e),new hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new br(mg(e>=240?e-240:e+120,i,n),mg(e,i,n),mg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new hn(EA(this.h),ld(this.s),ld(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${EA(this.h)}, ${ld(this.s)*100}%, ${ld(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EA(e){return e=(e||0)%360,e<0?e+360:e}function ld(e){return Math.max(0,Math.min(1,e||0))}function mg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const f_=e=>()=>e;function i7(e,t){return function(r){return e+r*t}}function a7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function o7(e){return(e=+e)==1?Nk:function(t,r){return r-t?a7(t,r,e):f_(isNaN(t)?r:t)}}function Nk(e,t){var r=t-e;return r?i7(e,r):f_(isNaN(e)?t:e)}const SA=function e(t){var r=o7(t);function n(i,a){var o=r((i=Py(i)).r,(a=Py(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Nk(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function s7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function l7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Rs(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function c7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Rs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gg=new RegExp(Ty.source,"g");function f7(e){return function(){return e}}function h7(e){return function(t){return e(t)+""}}function p7(e,t){var r=Ty.lastIndex=gg.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ty.exec(e))&&(i=gg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Zf(n,i)})),r=gg.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?h7(l[0].x):f7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Rs(e,t){var r=typeof t,n;return t==null||r==="boolean"?f_(t):(r==="number"?Zf:r==="string"?(n=Iu(t))?(t=n,SA):p7:t instanceof Iu?SA:t instanceof Date?c7:l7(t)?s7:Array.isArray(t)?u7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d7:Zf)(e,t)}function h_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function m7(e,t){t===void 0&&(t=e,e=Rs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function g7(e){return function(){return e}}function eh(e){return+e}var AA=[0,1];function dr(e){return e}function Iy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:g7(isNaN(t)?NaN:.5)}function v7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function y7(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Iy(i,n),a=r(o,a)):(n=Iy(n,i),a=r(a,o)),function(s){return a(n(s))}}function w7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Iy(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Zu(e,s,1,n)-1;return a[l](i[l](s))}}function tc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jp(){var e=AA,t=AA,r=Rs,n,i,a,o=dr,s,l,u;function c(){var p=Math.min(e.length,t.length);return o!==dr&&(o=v7(e[0],e[p-1])),s=p>2?w7:y7,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(t,e.map(n),Zf)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,eh),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=h_,c()},d.clamp=function(p){return arguments.length?(o=p?!0:dr,c()):o!==dr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function p_(){return jp()(dr,dr)}function _7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function th(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ws(e){return e=th(Math.abs(e)),e?e[1]:NaN}function x7(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function b7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var E7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cu(e){if(!(t=E7.exec(e)))throw new Error("invalid format: "+e);var t;return new m_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cu.prototype=m_.prototype;function m_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var kk;function A7(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(kk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+th(e,Math.max(0,t+a-1))[0]}function PA(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const TA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PA(e*100,t),r:PA,s:A7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IA(e){return e}var CA=Array.prototype.map,OA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function P7(e){var t=e.grouping===void 0||e.thousands===void 0?IA:x7(CA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?IA:b7(CA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Cu(d);var p=d.fill,m=d.align,g=d.sign,y=d.symbol,w=d.zero,x=d.width,b=d.comma,E=d.precision,I=d.trim,j=d.type;j==="n"?(b=!0,j="g"):TA[j]||(E===void 0&&(E=12),I=!0,j="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=y==="$"?n:/[%p]/.test(j)?o:"",A=TA[j],C=/[defgprs%]/.test(j);E=E===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function D(T){var k=R,O=S,Q,se,fe;if(j==="c")O=A(T)+O,T="";else{T=+T;var le=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),E),I&&(T=S7(T)),le&&+T==0&&g!=="+"&&(le=!1),k=(le?g==="("?g:s:g==="-"||g==="("?"":g)+k,O=(j==="s"?OA[8+kk/3]:"")+O+(le&&g==="("?")":""),C){for(Q=-1,se=T.length;++Q<se;)if(fe=T.charCodeAt(Q),48>fe||fe>57){O=(fe===46?i+T.slice(Q+1):T.slice(Q))+O,T=T.slice(0,Q);break}}}b&&!w&&(T=t(T,1/0));var U=k.length+T.length+O.length,K=U<x?new Array(x-U+1).join(p):"";switch(b&&w&&(T=t(K+T,K.length?x-O.length:1/0),K=""),m){case"<":T=k+T+O+K;break;case"=":T=k+K+T+O;break;case"^":T=K.slice(0,U=K.length>>1)+k+T+O+K.slice(U);break;default:T=K+k+T+O;break}return a(T)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=Cu(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(ws(p)/3)))*3,y=Math.pow(10,-g),w=OA[8+g/3];return function(x){return m(y*x)+w}}return{format:u,formatPrefix:c}}var ud,g_,Rk;T7({thousands:",",grouping:[3],currency:["$",""]});function T7(e){return ud=P7(e),g_=ud.format,Rk=ud.formatPrefix,ud}function I7(e){return Math.max(0,-ws(Math.abs(e)))}function C7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ws(t)/3)))*3-ws(Math.abs(e)))}function O7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ws(t)-ws(e))+1}function Dk(e,t,r,n){var i=Sy(e,t,r),a;switch(n=Cu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=C7(i,o))&&(n.precision=a),Rk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=O7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=I7(i))&&(n.precision=a-(n.type==="%")*2);break}}return g_(n)}function wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return by(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Dk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Ey(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Mk(){var e=p_();return e.copy=function(){return tc(e,Mk())},an.apply(e,arguments),wa(e)}function Lk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,eh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Lk(e).unknown(t)},e=arguments.length?Array.from(e,eh):[0,1],wa(r)}function Vk(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function jA(e){return Math.log(e)}function NA(e){return Math.exp(e)}function j7(e){return-Math.log(-e)}function N7(e){return-Math.exp(-e)}function k7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R7(e){return e===10?k7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function D7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kA(e){return(t,r)=>-e(-t,r)}function v_(e){const t=e(jA,NA),r=t.domain;let n=10,i,a;function o(){return i=D7(n),a=R7(n),r()[0]<0?(i=kA(i),a=kA(a),e(j7,N7)):e(jA,NA),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const w=s==null?10:+s;let x=[];if(!(n%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}x.length*2<w&&(x=by(u,c,w))}else x=by(p,m,Math.min(m-p,w)).map(a);return d?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cu(l)).precision==null&&(l.trim=!0),l=g_(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(Vk(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function Fk(){const e=v_(jp()).domain([1,10]);return e.copy=()=>tc(e,Fk()).base(e.base()),an.apply(e,arguments),e}function RA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y_(e){var t=1,r=e(RA(t),DA(t));return r.constant=function(n){return arguments.length?e(RA(t=+n),DA(t)):t},wa(r)}function $k(){var e=y_(jp());return e.copy=function(){return tc(e,$k()).constant(e.constant())},an.apply(e,arguments)}function MA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function L7(e){return e<0?-e*e:e*e}function w_(e){var t=e(dr,dr),r=1;function n(){return r===1?e(dr,dr):r===.5?e(M7,L7):e(MA(r),MA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},wa(t)}function __(){var e=w_(jp());return e.copy=function(){return tc(e,__()).exponent(e.exponent())},an.apply(e,arguments),e}function V7(){return __.apply(null,arguments).exponent(.5)}function LA(e){return Math.sign(e)*e*e}function F7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zk(){var e=p_(),t=[0,1],r=!1,n;function i(a){var o=F7(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(LA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,eh)).map(LA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return zk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(i,arguments),wa(i)}function Uk(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=B8(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Zu(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(na),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Uk().domain(e).range(t).unknown(n)},an.apply(a,arguments)}function Bk(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Zu(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Bk().domain([e,t]).range(i).unknown(a)},an.apply(wa(o),arguments)}function qk(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Zu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qk().domain(e).range(t).unknown(r)},an.apply(i,arguments)}const vg=new Date,yg=new Date;function Tt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Tt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(vg.setTime(+a),yg.setTime(+o),e(vg),e(yg),Math.floor(r(vg,yg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const rh=Tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rh);rh.range;const Zn=1e3,Yr=Zn*60,ei=Yr*60,mi=ei*24,x_=mi*7,VA=mi*30,wg=mi*365,Va=Tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCSeconds());Va.range;const b_=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());b_.range;const E_=Tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());E_.range;const S_=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getHours());S_.range;const A_=Tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getUTCHours());A_.range;const rc=Tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/mi,e=>e.getDate()-1);rc.range;const Np=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);Np.range;const Wk=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));Wk.range;function po(e){return Tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/x_)}const kp=po(0),nh=po(1),$7=po(2),z7=po(3),_s=po(4),U7=po(5),B7=po(6);kp.range;nh.range;$7.range;z7.range;_s.range;U7.range;B7.range;function mo(e){return Tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/x_)}const Rp=mo(0),ih=mo(1),q7=mo(2),W7=mo(3),xs=mo(4),K7=mo(5),H7=mo(6);Rp.range;ih.range;q7.range;W7.range;xs.range;K7.range;H7.range;const P_=Tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());P_.range;const T_=Tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());T_.range;const gi=Tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gi.range;const vi=Tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vi.range;function Kk(e,t,r,n,i,a){const o=[[Va,1,Zn],[Va,5,5*Zn],[Va,15,15*Zn],[Va,30,30*Zn],[a,1,Yr],[a,5,5*Yr],[a,15,15*Yr],[a,30,30*Yr],[i,1,ei],[i,3,3*ei],[i,6,6*ei],[i,12,12*ei],[n,1,mi],[n,2,2*mi],[r,1,x_],[t,1,VA],[t,3,3*VA],[e,1,wg]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=l_(([,,w])=>w).right(o,p);if(m===o.length)return e.every(Sy(u/wg,c/wg,d));if(m===0)return rh.every(Math.max(Sy(u,c,d),1));const[g,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(y)}return[s,l]}const[G7,Q7]=Kk(vi,T_,Rp,Wk,A_,E_),[Y7,X7]=Kk(gi,P_,kp,rc,S_,b_);function _g(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function J7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=yl(i),c=wl(i),d=yl(a),p=wl(a),m=yl(o),g=wl(o),y=yl(s),w=wl(s),x=yl(l),b=wl(l),E={a:le,A:U,b:K,B:re,c:null,d:qA,e:qA,f:xq,g:jq,G:kq,H:yq,I:wq,j:_q,L:Hk,m:bq,M:Eq,p:me,q:_e,Q:HA,s:GA,S:Sq,u:Aq,U:Pq,V:Tq,w:Iq,W:Cq,x:null,X:null,y:Oq,Y:Nq,Z:Rq,"%":KA},I={a:yt,A:je,b:zt,B:wt,c:null,d:WA,e:WA,f:Vq,g:Gq,G:Yq,H:Dq,I:Mq,j:Lq,L:Qk,m:Fq,M:$q,p:Fe,q:Wn,Q:HA,s:GA,S:zq,u:Uq,U:Bq,V:qq,w:Wq,W:Kq,x:null,X:null,y:Hq,Y:Qq,Z:Xq,"%":KA},j={a:D,A:T,b:k,B:O,c:Q,d:UA,e:UA,f:pq,g:zA,G:$A,H:BA,I:BA,j:cq,L:hq,m:uq,M:dq,p:C,q:lq,Q:gq,s:vq,S:fq,u:nq,U:iq,V:aq,w:rq,W:oq,x:se,X:fe,y:zA,Y:$A,Z:sq,"%":mq};E.x=R(r,E),E.X=R(n,E),E.c=R(t,E),I.x=R(r,I),I.X=R(n,I),I.c=R(t,I);function R(B,he){return function(ve){var q=[],z=-1,G=0,ie=B.length,ce,Oe,Xt;for(ve instanceof Date||(ve=new Date(+ve));++z<ie;)B.charCodeAt(z)===37&&(q.push(B.slice(G,z)),(Oe=FA[ce=B.charAt(++z)])!=null?ce=B.charAt(++z):Oe=ce==="e"?" ":"0",(Xt=he[ce])&&(ce=Xt(ve,Oe)),q.push(ce),G=z+1);return q.push(B.slice(G,z)),q.join("")}}function S(B,he){return function(ve){var q=vl(1900,void 0,1),z=A(q,B,ve+="",0),G,ie;if(z!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(he&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(G=xg(vl(q.y,0,1)),ie=G.getUTCDay(),G=ie>4||ie===0?ih.ceil(G):ih(G),G=Np.offset(G,(q.V-1)*7),q.y=G.getUTCFullYear(),q.m=G.getUTCMonth(),q.d=G.getUTCDate()+(q.w+6)%7):(G=_g(vl(q.y,0,1)),ie=G.getDay(),G=ie>4||ie===0?nh.ceil(G):nh(G),G=rc.offset(G,(q.V-1)*7),q.y=G.getFullYear(),q.m=G.getMonth(),q.d=G.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ie="Z"in q?xg(vl(q.y,0,1)).getUTCDay():_g(vl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ie+5)%7:q.w+q.U*7-(ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,xg(q)):_g(q)}}function A(B,he,ve,q){for(var z=0,G=he.length,ie=ve.length,ce,Oe;z<G;){if(q>=ie)return-1;if(ce=he.charCodeAt(z++),ce===37){if(ce=he.charAt(z++),Oe=j[ce in FA?he.charAt(z++):ce],!Oe||(q=Oe(B,ve,q))<0)return-1}else if(ce!=ve.charCodeAt(q++))return-1}return q}function C(B,he,ve){var q=u.exec(he.slice(ve));return q?(B.p=c.get(q[0].toLowerCase()),ve+q[0].length):-1}function D(B,he,ve){var q=m.exec(he.slice(ve));return q?(B.w=g.get(q[0].toLowerCase()),ve+q[0].length):-1}function T(B,he,ve){var q=d.exec(he.slice(ve));return q?(B.w=p.get(q[0].toLowerCase()),ve+q[0].length):-1}function k(B,he,ve){var q=x.exec(he.slice(ve));return q?(B.m=b.get(q[0].toLowerCase()),ve+q[0].length):-1}function O(B,he,ve){var q=y.exec(he.slice(ve));return q?(B.m=w.get(q[0].toLowerCase()),ve+q[0].length):-1}function Q(B,he,ve){return A(B,t,he,ve)}function se(B,he,ve){return A(B,r,he,ve)}function fe(B,he,ve){return A(B,n,he,ve)}function le(B){return o[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function re(B){return s[B.getMonth()]}function me(B){return i[+(B.getHours()>=12)]}function _e(B){return 1+~~(B.getMonth()/3)}function yt(B){return o[B.getUTCDay()]}function je(B){return a[B.getUTCDay()]}function zt(B){return l[B.getUTCMonth()]}function wt(B){return s[B.getUTCMonth()]}function Fe(B){return i[+(B.getUTCHours()>=12)]}function Wn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var he=R(B+="",E);return he.toString=function(){return B},he},parse:function(B){var he=S(B+="",!1);return he.toString=function(){return B},he},utcFormat:function(B){var he=R(B+="",I);return he.toString=function(){return B},he},utcParse:function(B){var he=S(B+="",!0);return he.toString=function(){return B},he}}}var FA={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Z7=/^%/,eq=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function tq(e){return e.replace(eq,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(tq).join("|")+")","i")}function wl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rq(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nq(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function iq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function aq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function oq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $A(e,t,r){var n=$t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zA(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lq(e,t,r){var n=$t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UA(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function cq(e,t,r){var n=$t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function BA(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=$t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hq(e,t,r){var n=$t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pq(e,t,r){var n=$t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mq(e,t,r){var n=Z7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gq(e,t,r){var n=$t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function vq(e,t,r){var n=$t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qA(e,t){return Se(e.getDate(),t,2)}function yq(e,t){return Se(e.getHours(),t,2)}function wq(e,t){return Se(e.getHours()%12||12,t,2)}function _q(e,t){return Se(1+rc.count(gi(e),e),t,3)}function Hk(e,t){return Se(e.getMilliseconds(),t,3)}function xq(e,t){return Hk(e,t)+"000"}function bq(e,t){return Se(e.getMonth()+1,t,2)}function Eq(e,t){return Se(e.getMinutes(),t,2)}function Sq(e,t){return Se(e.getSeconds(),t,2)}function Aq(e){var t=e.getDay();return t===0?7:t}function Pq(e,t){return Se(kp.count(gi(e)-1,e),t,2)}function Gk(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function Tq(e,t){return e=Gk(e),Se(_s.count(gi(e),e)+(gi(e).getDay()===4),t,2)}function Iq(e){return e.getDay()}function Cq(e,t){return Se(nh.count(gi(e)-1,e),t,2)}function Oq(e,t){return Se(e.getFullYear()%100,t,2)}function jq(e,t){return e=Gk(e),Se(e.getFullYear()%100,t,2)}function Nq(e,t){return Se(e.getFullYear()%1e4,t,4)}function kq(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Se(e.getFullYear()%1e4,t,4)}function Rq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function WA(e,t){return Se(e.getUTCDate(),t,2)}function Dq(e,t){return Se(e.getUTCHours(),t,2)}function Mq(e,t){return Se(e.getUTCHours()%12||12,t,2)}function Lq(e,t){return Se(1+Np.count(vi(e),e),t,3)}function Qk(e,t){return Se(e.getUTCMilliseconds(),t,3)}function Vq(e,t){return Qk(e,t)+"000"}function Fq(e,t){return Se(e.getUTCMonth()+1,t,2)}function $q(e,t){return Se(e.getUTCMinutes(),t,2)}function zq(e,t){return Se(e.getUTCSeconds(),t,2)}function Uq(e){var t=e.getUTCDay();return t===0?7:t}function Bq(e,t){return Se(Rp.count(vi(e)-1,e),t,2)}function Yk(e){var t=e.getUTCDay();return t>=4||t===0?xs(e):xs.ceil(e)}function qq(e,t){return e=Yk(e),Se(xs.count(vi(e),e)+(vi(e).getUTCDay()===4),t,2)}function Wq(e){return e.getUTCDay()}function Kq(e,t){return Se(ih.count(vi(e)-1,e),t,2)}function Hq(e,t){return Se(e.getUTCFullYear()%100,t,2)}function Gq(e,t){return e=Yk(e),Se(e.getUTCFullYear()%100,t,2)}function Qq(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function Yq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xs(e):xs.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function Xq(){return"+0000"}function KA(){return"%"}function HA(e){return+e}function GA(e){return Math.floor(+e/1e3)}var _o,Xk,Jk;Jq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jq(e){return _o=J7(e),Xk=_o.format,_o.parse,Jk=_o.utcFormat,_o.utcParse,_o}function Zq(e){return new Date(e)}function eW(e){return e instanceof Date?+e:+new Date(+e)}function I_(e,t,r,n,i,a,o,s,l,u){var c=p_(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),b=u("%b %d"),E=u("%B"),I=u("%Y");function j(R){return(l(R)<R?m:s(R)<R?g:o(R)<R?y:a(R)<R?w:n(R)<R?i(R)<R?x:b:r(R)<R?E:I)(R)}return c.invert=function(R){return new Date(d(R))},c.domain=function(R){return arguments.length?p(Array.from(R,eW)):p().map(Zq)},c.ticks=function(R){var S=p();return e(S[0],S[S.length-1],R??10)},c.tickFormat=function(R,S){return S==null?j:u(S)},c.nice=function(R){var S=p();return(!R||typeof R.range!="function")&&(R=t(S[0],S[S.length-1],R??10)),R?p(Vk(S,R)):c},c.copy=function(){return tc(c,I_(e,t,r,n,i,a,o,s,l,u))},c}function tW(){return an.apply(I_(Y7,X7,gi,P_,kp,rc,S_,b_,Va,Xk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rW(){return an.apply(I_(G7,Q7,vi,T_,Rp,Np,A_,E_,Va,Jk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dp(){var e=0,t=1,r,n,i,a,o=dr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(Rs),u.rangeRound=c(h_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function _a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zk(){var e=wa(Dp()(dr));return e.copy=function(){return _a(e,Zk())},Si.apply(e,arguments)}function eR(){var e=v_(Dp()).domain([1,10]);return e.copy=function(){return _a(e,eR()).base(e.base())},Si.apply(e,arguments)}function tR(){var e=y_(Dp());return e.copy=function(){return _a(e,tR()).constant(e.constant())},Si.apply(e,arguments)}function C_(){var e=w_(Dp());return e.copy=function(){return _a(e,C_()).exponent(e.exponent())},Si.apply(e,arguments)}function nW(){return C_.apply(null,arguments).exponent(.5)}function rR(){var e=[],t=dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(na),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>U8(e,a/n))},r.copy=function(){return rR(t).domain(e)},Si.apply(r,arguments)}function Mp(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=dr,c,d=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var x,b,E;return arguments.length?([x,b,E]=w,u=m7(y,[x,b,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(Rs),m.rangeRound=g(h_),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function nR(){var e=wa(Mp()(dr));return e.copy=function(){return _a(e,nR())},Si.apply(e,arguments)}function iR(){var e=v_(Mp()).domain([.1,1,10]);return e.copy=function(){return _a(e,iR()).base(e.base())},Si.apply(e,arguments)}function aR(){var e=y_(Mp());return e.copy=function(){return _a(e,aR()).constant(e.constant())},Si.apply(e,arguments)}function O_(){var e=w_(Mp());return e.copy=function(){return _a(e,O_()).exponent(e.exponent())},Si.apply(e,arguments)}function iW(){return O_.apply(null,arguments).exponent(.5)}const Ol=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:c_,scaleDiverging:nR,scaleDivergingLog:iR,scaleDivergingPow:O_,scaleDivergingSqrt:iW,scaleDivergingSymlog:aR,scaleIdentity:Lk,scaleImplicit:Ay,scaleLinear:Mk,scaleLog:Fk,scaleOrdinal:u_,scalePoint:W8,scalePow:__,scaleQuantile:Uk,scaleQuantize:Bk,scaleRadial:zk,scaleSequential:Zk,scaleSequentialLog:eR,scaleSequentialPow:C_,scaleSequentialQuantile:rR,scaleSequentialSqrt:nW,scaleSequentialSymlog:tR,scaleSqrt:V7,scaleSymlog:$k,scaleThreshold:qk,scaleTime:tW,scaleUtc:rW,tickFormat:Dk},Symbol.toStringTag,{value:"Module"}));var xa=e=>e.chartData,j_=L([xa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),N_=(e,t,r,n)=>n?j_(e):xa(e);function fa(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ct(t)&&ct(r))return!0}return!1}function QA(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function oR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ct(r))i=r;else if(typeof r=="function")return;if(ct(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(fa(o))return o}}function aW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fa(n))return QA(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(te(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&jS.test(i)){var l=jS.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(te(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&NS.test(a)){var c=NS.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var p=[o,s];if(fa(p))return t==null?p:QA(p,t,r)}}}var Ds=1e9,oW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R_,Qe=!0,nn="[DecimalError] ",Ka=nn+"Invalid argument: ",k_=nn+"Exponent out of range: ",Ms=Math.floor,Na=Math.pow,sW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Rt=1e7,Ue=7,sR=9007199254740991,ah=Ms(sR/Ue),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Z.dividedBy=Z.div=function(e){return ni(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return ke(ni(t,new r(e),0,1),r.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return vt(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nr))throw Error(nn+"NaN");if(r.s<1)throw Error(nn+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(Qe=!1,t=ni(Ou(r,a),Ou(e,a),a),Qe=!0,ke(t,i))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cR(t,e):lR(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(nn+"NaN");return r.s?(Qe=!1,t=ni(r,e,0,1).times(e),Qe=!0,r.minus(t)):ke(new n(r),i)};Z.naturalExponential=Z.exp=function(){return uR(this)};Z.naturalLogarithm=Z.ln=function(){return Ou(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lR(t,e):cR(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ka+e);if(t=vt(i)+1,n=i.d.length-1,r=n*Ue+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(nn+"NaN")}for(e=vt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=jn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ms((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ni(s,a,o+2)).times(.5),jn(a.d).slice(0,o)===(t=jn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ke(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Qe=!0,ke(n,r)};Z.times=Z.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%Rt|0,t=s/Rt|0;a[i]=(a[i]+t)%Rt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Qe?ke(e,d.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,Ds),t===void 0?t=n.rounding:qn(t,0,8),ke(r,e+vt(r)+1,t))};Z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=no(n,!0):(qn(e,0,Ds),t===void 0?t=i.rounding:qn(t,0,8),n=ke(new i(n),e+1,t),r=no(n,!0,e+1)),r};Z.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?no(i):(qn(e,0,Ds),t===void 0?t=a.rounding:qn(t,0,8),n=ke(new a(i),e+vt(i)+1,t),r=no(n.abs(),!1,e+vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return ke(new t(e),vt(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Nr);if(s=new l(s),!s.s){if(e.s<1)throw Error(nn+"Infinity");return s}if(s.eq(Nr))return s;if(n=l.precision,e.eq(Nr))return ke(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=sR){for(i=new l(Nr),t=Math.ceil(n/Ue+4),Qe=!1;r%2&&(i=i.times(s),XA(i.d,t)),r=Ms(r/2),r!==0;)s=s.times(s),XA(s.d,t);return Qe=!0,e.s<0?new l(Nr).div(i):ke(i,n)}}else if(a<0)throw Error(nn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qe=!1,i=e.times(Ou(s,n+u)),Qe=!0,i=uR(i),i.s=a,i};Z.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=vt(i),n=no(i,r<=a.toExpNeg||r>=a.toExpPos)):(qn(e,1,Ds),t===void 0?t=a.rounding:qn(t,0,8),i=ke(new a(i),e,t),r=vt(i),n=no(i,e<=r||r<=a.toExpNeg,e)),n};Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,Ds),t===void 0?t=n.rounding:qn(t,0,8)),ke(new n(r),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return no(e,t<=r.toExpNeg||t>=r.toExpPos)};function lR(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Qe?ke(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Ue),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Rt|0,l[a]%=Rt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Qe?ke(t,d):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ka+e)}function jn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ue-n.length,r&&(a+=Li(r)),a+=n;o=e[t],n=o+"",r=Ue-n.length,r&&(a+=Li(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ni=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Rt|0,o=a/Rt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Rt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,p,m,g,y,w,x,b,E,I,j,R,S,A,C=n.constructor,D=n.s==i.s?1:-1,T=n.d,k=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(nn+"Division by zero");for(l=n.e-i.e,S=k.length,j=T.length,m=new C(D),g=m.d=[],u=0;k[u]==(T[u]||0);)++u;if(k[u]>(T[u]||0)&&--l,a==null?b=a=C.precision:o?b=a+(vt(n)-vt(i))+1:b=a,b<0)return new C(0);if(b=b/Ue+2|0,u=0,S==1)for(c=0,k=k[0],b++;(u<j||c)&&b--;u++)E=c*Rt+(T[u]||0),g[u]=E/k|0,c=E%k|0;else{for(c=Rt/(k[0]+1)|0,c>1&&(k=e(k,c),T=e(T,c),S=k.length,j=T.length),I=S,y=T.slice(0,S),w=y.length;w<S;)y[w++]=0;A=k.slice(),A.unshift(0),R=k[0],k[1]>=Rt/2&&++R;do c=0,s=t(k,y,S,w),s<0?(x=y[0],S!=w&&(x=x*Rt+(y[1]||0)),c=x/R|0,c>1?(c>=Rt&&(c=Rt-1),d=e(k,c),p=d.length,w=y.length,s=t(d,y,p,w),s==1&&(c--,r(d,S<p?A:k,p))):(c==0&&(s=c=1),d=k.slice()),p=d.length,p<w&&d.unshift(0),r(y,d,w),s==-1&&(w=y.length,s=t(k,y,S,w),s<1&&(c++,r(y,S<w?A:k,w))),w=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[w++]=T[I]||0:(y=[T[I]],w=1);while((I++<j||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,ke(m,o?a+vt(m)+1:a)}}();function uR(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(vt(e)>16)throw Error(k_+vt(e));if(!e.s)return new c(Nr);for(Qe=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Na(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Nr),c.precision=s;;){if(i=ke(i.times(e),s),r=r.times(++l),o=a.plus(ni(i,r,s)),jn(o.d).slice(0,s)===jn(a.d).slice(0,s)){for(;u--;)a=ke(a.times(a),s);return c.precision=d,t==null?(Qe=!0,ke(a,d)):a}a=o}}function vt(e){for(var t=e.e*Ue,r=e.d[0];r>=10;r/=10)t++;return t}function bg(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(nn+"LN10 precision limit exceeded");return ke(new e(e.LN10),t)}function Li(e){for(var t="";e--;)t+="0";return t}function Ou(e,t){var r,n,i,a,o,s,l,u,c,d=1,p=10,m=e,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(nn+(m.s?"NaN":"-Infinity"));if(m.eq(Nr))return new y(0);if(t==null?(Qe=!1,u=w):u=t,m.eq(10))return t==null&&(Qe=!0),bg(y,u);if(u+=p,y.precision=u,r=jn(g),n=r.charAt(0),a=vt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=jn(m.d),n=r.charAt(0),d++;a=vt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=bg(y,u+2,w).times(a+""),m=Ou(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=w,t==null?(Qe=!0,ke(m,w)):m;for(s=o=m=ni(m.minus(Nr),m.plus(Nr),u),c=ke(m.times(m),u),i=3;;){if(o=ke(o.times(c),u),l=s.plus(ni(o,new y(i),u)),jn(l.d).slice(0,u)===jn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(bg(y,u+2,w).times(a+""))),s=ni(s,new y(d),u),y.precision=w,t==null?(Qe=!0,ke(s,w)):s;s=l,i+=2}}function YA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ms(r/Ue),e.d=[],n=(r+1)%Ue,r<0&&(n+=Ue),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ue;n<i;)e.d.push(+t.slice(n,n+=Ue));t=t.slice(n),n=Ue-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>ah||e.e<-ah))throw Error(k_+r)}else e.s=0,e.e=0,e.d=[0];return e}function ke(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ue,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/Ue),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=Ue,i=n-Ue+o}if(r!==void 0&&(a=Na(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Na(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=vt(e),d.length=1,t=t-a-1,d[0]=Na(10,(Ue-t%Ue)%Ue),e.e=Ms(-t/Ue)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Na(10,Ue-n),d[c]=i>0?(u/Na(10,o-i)%Na(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Rt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Rt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Qe&&(e.e>ah||e.e<-ah))throw Error(k_+vt(e));return e}function cR(e,t){var r,n,i,a,o,s,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?ke(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Ue),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Rt-1;--l[a],l[i]+=Rt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qe?ke(t,m):t):new p(0)}function no(e,t,r){var n,i=vt(e),a=jn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Li(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Li(-i-1)+a,r&&(n=r-o)>0&&(a+=Li(n))):i>=o?(a+=Li(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Li(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Li(n))),e.s<0?"-"+a:a}function XA(e,t){if(e.length>t)return e.length=t,!0}function dR(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ka+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return YA(o,a.toString())}else if(typeof a!="string")throw Error(Ka+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sW.test(a))YA(o,a);else throw Error(Ka+a)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dR,i.config=i.set=lW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function lW(e){if(!e||typeof e!="object")throw Error(nn+"Object expected");var t,r,n,i=["precision",1,Ds,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ms(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ka+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ka+r+": "+n);return this}var R_=dR(oW);Nr=new R_(1);const Te=R_;var uW=e=>e,fR={},hR=e=>e===fR,JA=e=>function t(){return arguments.length===0||arguments.length===1&&hR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pR=(e,t)=>e===1?t:JA(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==fR).length;return a>=e?t(...n):pR(e-a,JA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>hR(c)?s.shift():c);return t(...u,...s)}))}),cW=e=>pR(e.length,e),Cy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},dW=cW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),fW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return uW;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Oy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function mR(e){var t;return e===0?t=1:t=Math.floor(new Te(e).abs().log(10).toNumber())+1,t}function gR(e,t,r){for(var n=new Te(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var vR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},yR=(e,t,r)=>{if(e.lte(0))return new Te(0);var n=mR(e.toNumber()),i=new Te(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Te(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Te(l.toNumber()):new Te(Math.ceil(l.toNumber()))},hW=(e,t,r)=>{var n=new Te(1),i=new Te(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Te(10).pow(mR(e)-1),i=new Te(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Te(Math.floor(e)))}else e===0?i=new Te(Math.floor((t-1)/2)):r||(i=new Te(Math.floor(e)));var o=Math.floor((t-1)/2),s=fW(dW(l=>i.add(new Te(l-o).mul(n)).toNumber()),Cy);return s(0,t)},wR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Te(0),tickMin:new Te(0),tickMax:new Te(0)};var o=yR(new Te(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Te(0):(s=new Te(t).add(r).div(2),s=s.sub(new Te(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Te(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?wR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Te(l).mul(o)),tickMax:s.add(new Te(u).mul(o))})},pW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=vR([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Cy(0,i-1).map(()=>1/0)]:[...Cy(0,i-1).map(()=>-1/0),l];return r>n?Oy(u):u}if(s===l)return hW(s,i,a);var{step:c,tickMin:d,tickMax:p}=wR(s,l,o,a,0),m=gR(d,p.add(new Te(.1).mul(c)),c);return r>n?Oy(m):m},mW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=vR([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=yR(new Te(s).sub(o).div(l-1),a,0),c=[...gR(new Te(o),new Te(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?Oy(c):c},_R=e=>e.rootProps.maxBarSize,gW=e=>e.rootProps.barGap,xR=e=>e.rootProps.barCategoryGap,vW=e=>e.rootProps.barSize,nc=e=>e.rootProps.stackOffset,bR=e=>e.rootProps.reverseStackOrder,D_=e=>e.options.chartName,M_=e=>e.rootProps.syncId,ER=e=>e.rootProps.syncMethod,L_=e=>e.options.eventEmitter,Ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qn.angleAxisId,includeHidden:!1,name:void 0,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:void 0,ticks:void 0,type:Qn.type,unit:void 0},wW={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},_W={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qn.scale,tick:Qn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xW={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},V_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_W:yW,F_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xW:wW,Vp=e=>e.polarOptions,$_=L([bi,Ei,Pt],yk),SR=L([Vp,$_],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),AR=L([Vp,$_],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),bW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PR=L([Vp],bW);L([V_,PR],Lp);var TR=L([$_,SR,AR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([F_,TR],Lp);var IR=L([Ae,Vp,SR,AR,bi,Ei],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:or(o,i,i/2),cy:or(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ye=(e,t)=>t,ic=(e,t,r)=>r;function z_(e){return e==null?void 0:e.id}function CR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=z_(s);u.forEach((d,p)=>{var m=a==null||i?p:String(Ge(d,a,null)),g=Ge(d,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[c]:g}),o.set(m,y)})}}),Array.from(o.values())}function Fp(e){return e.stackId!=null&&e.dataKey!=null}var $p=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function EW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var It=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ls=e=>e.tooltip.settings.axisId;function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=AW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=[0,"auto"],jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OR=(e,t)=>e.cartesianAxis.xAxis[t],Ai=(e,t)=>{var r=OR(e,t);return r??jt},Nt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yu},jR=(e,t)=>e.cartesianAxis.yAxis[t],Pi=(e,t)=>{var r=jR(e,t);return r??Nt},TW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},U_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??TW},tt=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Pi(e,r);case"zAxis":return U_(e,r);case"angleAxis":return V_(e,r);case"radiusAxis":return F_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},IW=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Pi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ac=(e,t,r)=>{switch(t){case"xAxis":return Ai(e,r);case"yAxis":return Pi(e,r);case"angleAxis":return V_(e,r);case"radiusAxis":return F_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function B_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var q_=e=>e.graphicalItems.cartesianItems,CW=L([Ye,ic],B_),W_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),oc=L([q_,tt,CW],W_,{memoizeOptions:{resultEqualityCheck:zp}}),kR=L([oc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fp)),RR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OW=L([oc],RR),K_=e=>e.map(t=>t.data).filter(Boolean).flat(1),jW=L([oc],K_,{memoizeOptions:{resultEqualityCheck:zp}}),H_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},G_=L([jW,N_],H_),Q_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ge(i,n)}))):e.map(n=>({value:n})),Up=L([G_,tt,oc],Q_);function DR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Md(e){if(Un(e)||e instanceof Date){var t=Number(e);if(ct(t))return t}}function eP(e){if(Array.isArray(e)){var t=[Md(e[0]),Md(e[1])];return fa(t)?t:void 0}var r=Md(e);if(r!=null)return[r,r]}function yi(e){return e.map(Md).filter(B5)}function NW(e,t,r){return!r||typeof t!="number"||_n(t)?[]:r.length?yi(r.flatMap(n=>{var i=Ge(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ct(a)||!ct(o)))return[t-a,t+o]})):[]}var Ct=e=>{var t=It(e),r=Ls(e);return ac(e,t,r)},sc=L([Ct],e=>e==null?void 0:e.dataKey),kW=L([kR,N_,Ct],CR),MR=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(z_);return[s,{stackedData:sU(e,c,r),graphicalItems:u}]}))},Ny=L([kW,kR,nc,bR],MR),LR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=fU(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},RW=L([tt],e=>e.allowDataOverflow),Y_=e=>{var t;if(e==null||!("domain"in e))return jy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=yi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:jy},X_=L([tt],Y_),J_=L([X_,RW],oR),DW=L([Ny,xa,Ye,J_],LR,{memoizeOptions:{resultEqualityCheck:$p}}),Bp=e=>e.errorBars,MW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>DR(r,n)),sh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},Z_=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>DR(i,x)),p=Ge(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=NW(s,p,d);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(o==null||y>o)&&(o=y)}var w=eP(p);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=eP(Ge(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),ct(a)&&ct(o))return[a,o]},LW=L([G_,tt,OW,Bp,Ye],Z_,{memoizeOptions:{resultEqualityCheck:$p}});function VW(e){var{value:t}=e;if(Un(t)||t instanceof Date)return t}var FW=(e,t,r)=>{var n=e.map(VW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Rj(n))?Ak(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},VR=e=>e.referenceElements.dots,Vs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$W=L([VR,Ye,ic],Vs),FR=e=>e.referenceElements.areas,zW=L([FR,Ye,ic],Vs),$R=e=>e.referenceElements.lines,UW=L([$R,Ye,ic],Vs),zR=(e,t)=>{var r=yi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BW=L($W,Ye,zR),UR=(e,t)=>{var r=yi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qW=L([zW,Ye],UR);function WW(e){var t;if(e.x!=null)return yi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:yi(r)}function KW(e){var t;if(e.y!=null)return yi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:yi(r)}var BR=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?WW(n):KW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HW=L([UW,Ye],BR),GW=L(BW,HW,qW,(e,t,r)=>sh(e,r,t)),ex=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?sh(n,a,i):sh(a,i);return aW(t,u,e.allowDataOverflow)},QW=L([tt,X_,J_,DW,LW,GW,Ae,Ye],ex,{memoizeOptions:{resultEqualityCheck:$p}}),YW=[0,1],tx=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=ho(t,a);if(u&&s==null){var c;return Ak(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?FW(n,e,u):i==="expand"?YW:o}},rx=L([tt,Ae,G_,Up,nc,Ye,QW],tx),qR=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(qu(a));return s in Ol?s:"point"}}},Fs=L([tt,Ae,NR,D_,Ye],qR);function XW(e){if(e!=null){if(e in Ol)return Ol[e]();var t="scale".concat(qu(e));if(t in Ol)return Ol[t]()}}function nx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=XW(t);if(i!=null){var a=i.domain(r).range(n);return rU(a),a}}}var ix=(e,t,r)=>{var n=Y_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fa(e))return pW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fa(e))return mW(e,t.tickCount,t.allowDecimals)}},ax=L([rx,ac,Fs],ix),ox=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fa(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},JW=L([tt,rx,ax,Ye],ox),ZW=L(Up,tt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yi(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),WR=L(ZW,Ae,xR,Pt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!ct(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=or(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),eK=(e,t)=>{var r=Ai(e,t);return r==null||typeof r.padding!="string"?0:WR(e,"xAxis",t,r.padding)},tK=(e,t)=>{var r=Pi(e,t);return r==null||typeof r.padding!="string"?0:WR(e,"yAxis",t,r.padding)},rK=L(Ai,eK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),nK=L(Pi,tK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),iK=L([Pt,rK,xp,_p,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aK=L([Pt,Ae,nK,xp,_p,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return iK(e,r,n);case"yAxis":return aK(e,r,n);case"zAxis":return(i=U_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return PR(e);case"radiusAxis":return TR(e,r);default:return}},KR=L([tt,lc],Lp),$s=L([tt,Fs,JW,KR],nx);L([oc,Bp,Ye],MW);function HR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qp=(e,t)=>t,Wp=(e,t,r)=>r,oK=L(yp,qp,Wp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HR)),sK=L(wp,qp,Wp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HR)),GR=(e,t)=>({width:e.width,height:t.height}),lK=(e,t)=>{var r=typeof t.width=="number"?t.width:Yu;return{width:r,height:e.height}},QR=L(Pt,Ai,GR),uK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},dK=L(Ei,Pt,oK,qp,Wp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=GR(t,s);o==null&&(o=uK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),fK=L(bi,Pt,sK,qp,Wp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=lK(t,s);o==null&&(o=cK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),hK=(e,t)=>{var r=Ai(e,t);if(r!=null)return dK(e,r.orientation,r.mirror)},pK=L([Pt,Ai,hK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),mK=(e,t)=>{var r=Pi(e,t);if(r!=null)return fK(e,r.orientation,r.mirror)},gK=L([Pt,Pi,mK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),YR=L(Pt,Pi,(e,t)=>{var r=typeof t.width=="number"?t.width:Yu;return{width:r,height:e.height}}),tP=(e,t,r)=>{switch(t){case"xAxis":return QR(e,r).width;case"yAxis":return YR(e,r).height;default:return}},XR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=ho(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&Rj(l))return l}},sx=L([Ae,Up,tt,Ye],XR),JR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=ho(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},lx=L([Ae,Up,ac,Ye],JR),rP=L([Ae,IW,Fs,$s,sx,lx,lc,ax,Ye],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=ho(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),vK=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=ho(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Mt(a[0]-a[1])*2*g:g;var y=d||i;if(y){var w=y.map((x,b)=>{var E=o?o.indexOf(x):x;return{index:b,coordinate:n(E)+g,value:x,offset:g}});return w.filter(x=>ct(x.coordinate))}return u&&s?s.map((x,b)=>({coordinate:n(x)+g,value:x,index:b,offset:g})).filter(x=>ct(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,b)=>({coordinate:n(x)+g,value:o?o[x]:x,index:b,offset:g}))}},ZR=L([Ae,ac,Fs,$s,ax,lc,sx,lx,Ye],vK),yK=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=ho(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Mt(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},bs=L([Ae,ac,$s,lc,sx,lx,Ye],yK),Es=L(tt,$s,(e,t)=>{if(!(e==null||t==null))return oh(oh({},e),{},{scale:t})}),wK=L([tt,Fs,rx,KR],nx);L((e,t,r)=>U_(e,r),wK,(e,t)=>{if(!(e==null||t==null))return oh(oh({},e),{},{scale:t})});var _K=L([Ae,yp,wp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),e2=e=>e.options.defaultTooltipEventType,t2=e=>e.options.validateTooltipEventTypes;function r2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ux(e,t){var r=e2(e),n=t2(e);return r2(t,r,n)}function xK(e){return ee(t=>ux(t,e))}var n2=(e,t)=>{var r,n=Number(t);if(!(_n(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bK=e=>e.tooltip.settings,zi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},EK={itemInteraction:{click:zi,hover:zi},axisInteraction:{click:zi,hover:zi},keyboardInteraction:zi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},i2=Tr({name:"tooltip",initialState:EK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=gn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ke()},removeTooltipEntrySettings:{reducer(e,t){var r=gn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:SK,replaceTooltipEntrySettings:AK,removeTooltipEntrySettings:PK,setTooltipSettingsState:TK,setActiveMouseOverItemIndex:a2,mouseLeaveItem:IK,mouseLeaveChart:o2,setActiveClickItemIndex:CK,setMouseOverAxisIndex:s2,setMouseClickAxisIndex:OK,setSyncInteraction:ky,setKeyboardInteraction:Ry}=i2.actions,jK=i2.reducer;function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return(t=kK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MK(e){return e.index!=null}var l2=(e,t,r,n)=>{if(t==null)return zi;var i=DK(e,t,r);if(i==null)return zi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(MK(i)){if(a)return cd(cd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return cd(cd({},zi),{},{coordinate:i.coordinate})};function LK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function VK(e,t){var r=LK(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function FK(e,t,r){if(r==null||t==null)return!0;var n=Ge(e,t);return n==null||!fa(r)?!0:VK(n,r)}var cx=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ct(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||FK(u,r,n)?String(l):null},u2=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},c2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},uc=e=>e.options.tooltipPayloadSearcher,zs=e=>e.tooltip;function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=UK(e,"string");return typeof t=="symbol"?t:t+""}function UK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BK(e,t){return e??t}var d2=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:w}=m,x=BK(y,s),b=Array.isArray(x)?UN(x,u,c):x,E=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n,I=w==null?void 0:w.nameKey,j;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=U5(b,n,i):j=a(b,t,l,I),Array.isArray(j))j.forEach(S=>{var A=aP(aP({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(kS({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:Ge(S.payload,S.dataKey),name:S.name}))});else{var R;p.push(kS({tooltipEntrySettings:w,dataKey:E,payload:j,value:Ge(j,E),name:(R=Ge(j,I))!==null&&R!==void 0?R:w==null?void 0:w.name}))}return p},d)}},dx=L([Ct,Ae,NR,D_,It],qR),qK=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),WK=L([It,Ls],B_),cc=L([qK,Ct,WK],W_,{memoizeOptions:{resultEqualityCheck:zp}}),KK=L([cc],e=>e.filter(Fp)),HK=L([cc],K_,{memoizeOptions:{resultEqualityCheck:zp}}),Us=L([HK,xa],H_),GK=L([KK,xa,Ct],CR),fx=L([Us,Ct,cc],Q_),f2=L([Ct],Y_),QK=L([Ct],e=>e.allowDataOverflow),h2=L([f2,QK],oR),YK=L([cc],e=>e.filter(Fp)),XK=L([GK,YK,nc,bR],MR),JK=L([XK,xa,It,h2],LR),ZK=L([cc],RR),eH=L([Us,Ct,ZK,Bp,It],Z_,{memoizeOptions:{resultEqualityCheck:$p}}),tH=L([VR,It,Ls],Vs),rH=L([tH,It],zR),nH=L([FR,It,Ls],Vs),iH=L([nH,It],UR),aH=L([$R,It,Ls],Vs),oH=L([aH,It],BR),sH=L([rH,oH,iH],sh),lH=L([Ct,f2,h2,JK,eH,sH,Ae,It],ex),dc=L([Ct,Ae,Us,fx,nc,It,lH],tx),uH=L([dc,Ct,dx],ix),cH=L([Ct,dc,uH,It],ox),p2=e=>{var t=It(e),r=Ls(e),n=!1;return lc(e,t,r,n)},m2=L([Ct,p2],Lp),g2=L([Ct,dx,cH,m2],nx),dH=L([Ae,fx,Ct,It],XR),fH=L([Ae,fx,Ct,It],JR),hH=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=ho(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mt(i[0]-i[1])*2*d:d,u&&o?o.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},Ti=L([Ae,Ct,dx,g2,p2,dH,fH,It],hH),hx=L([e2,t2,bK],(e,t,r)=>r2(r.shared,e,t)),v2=e=>e.tooltip.settings.trigger,px=e=>e.tooltip.settings.defaultIndex,fc=L([zs,hx,v2,px],l2),io=L([fc,Us,sc,dc],cx),y2=L([Ti,io],n2),mx=L([fc],e=>{if(e)return e.dataKey}),pH=L([fc],e=>{if(e)return e.graphicalItemId}),w2=L([zs,hx,v2,px],c2),mH=L([bi,Ei,Ae,Pt,Ti,px,w2,uc],u2),gH=L([fc,mH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vH=L([fc],e=>e.active),yH=L([w2,io,xa,sc,y2,uc,hx],d2);L([yH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=()=>ee(Ct),EH=()=>{var e=bH(),t=ee(Ti),r=ee(g2);return $f(!e||!r?void 0:sP(sP({},e),{},{scale:r}),t)};function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},IH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return xo(xo(xo({},n),gt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return xo(xo(xo({},n),gt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var _2=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Mt(c-u)!==Mt(d-c)){var m=[];if(Mt(d-c)===Mt(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=d+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:o}=r[l]);break}}else{var x=Math.min(u,d),b=Math.max(u,d);if(e>(x+c)/2&&e<=(b+c)/2){({index:o}=r[l]);break}}}else if(t){for(var E=0;E<s;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},OH=()=>ee(D_),gx=(e,t)=>t,x2=(e,t,r)=>r,vx=(e,t,r,n)=>n,jH=L(Ti,e=>lp(e,t=>t.coordinate)),yx=L([zs,gx,x2,vx],l2),wx=L([yx,Us,sc,dc],cx),NH=(e,t,r)=>{if(t!=null){var n=zs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},b2=L([zs,gx,x2,vx],c2),lh=L([bi,Ei,Ae,Pt,Ti,vx,b2,uc],u2),kH=L([yx,lh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),E2=L([Ti,wx],n2),RH=L([b2,wx,xa,sc,E2,uc,gx],d2),DH=L([yx,wx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),MH=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&CH(e,o)){var s=hU(e,t),l=_2(s,a,i,r,n),u=TH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},LH=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=A8(e,r);if(s){var l=pU(s,t),u=_2(l,o,a,n,i),c=IH(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},VH=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?MH(e,t,n,i,a,o,s):LH(e,t,r,n,i,a,o)},FH=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),$H=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ht)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:EW}});function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qH={},WH={zIndexMap:Object.values(Ht).reduce((e,t)=>cP(cP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),qH)},KH=new Set(Object.values(Ht));function HH(e){return KH.has(e)}var S2=Tr({name:"zIndex",initialState:WH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!HH(r)&&delete e.zIndexMap[r])},prepare:Ke()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ke()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ke()}}}),{registerZIndexPortal:GH,unregisterZIndexPortal:QH,registerZIndexPortalId:YH,unregisterZIndexPortalId:XH}=S2.actions,JH=S2.reducer;function Sn(e){var{zIndex:t,children:r}=e,n=zU(),i=n&&t!==void 0&&t!==0,a=Ir(),o=Ve();_.useLayoutEffect(()=>i?(o(GH({zIndex:t})),()=>{o(QH({zIndex:t}))}):Wu,[o,t,i]);var s=ee(u=>FH(u,t,a));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?Fn.createPortal(r,l):null}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function nG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,y,w;if(c==="ScatterChart")g=d,y=$B,w=Ht.cursorLine;else if(c==="BarChart")g=zB(s,d,a,o),y=vk,w=Ht.cursorRectangle;else if(s==="radial"&&Mj(d)){var{cx:x,cy:b,radius:E,startAngle:I,endAngle:j}=wk(d);g={cx:x,cy:b,startAngle:I,endAngle:j,innerRadius:E,outerRadius:E},y=xk,w=Ht.cursorLine}else g={points:C8(s,d,a)},y=s_,w=Ht.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,S=dd(dd(dd(dd({stroke:"#ccc",pointerEvents:"none"},a),g),vu(l)),{},{payload:p,payloadIndex:m,className:Ce("recharts-tooltip-cursor",R)});return _.createElement(Sn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},_.createElement(rG,{cursor:l,cursorComp:y,cursorProps:S}))}function iG(e){var t=EH(),r=tk(),n=Ep(),i=OH();return t==null||r==null||n==null||i==null?null:_.createElement(nG,Dy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var A2=_.createContext(null),aG=()=>_.useContext(A2),P2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],x=arguments.length,b,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,p),!0;case 5:return w.fn.call(w.context,c,d,p,m),!0;case 6:return w.fn.call(w.context,c,d,p,m,g),!0}for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];w.fn.apply(w.context,b)}else{var I=w.length,j;for(E=0;E<I;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),x){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,d);break;case 4:w[E].fn.call(w[E].context,c,d,p);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];w[E].fn.apply(w[E].context,b)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,w=[],x=g.length;y<x;y++)(g[y].fn!==c||p&&!g[y].once||d&&g[y].context!==d)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(P2);var oG=P2.exports;const sG=_i(oG);var ju=new sG,My="recharts.syncEvent.tooltip",fP="recharts.syncEvent.brush";function T2(e,t){if(t){var r=Number.parseInt(t,10);if(!_n(r))return e==null?void 0:e[r]}}var lG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},I2=Tr({name:"options",initialState:lG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uG=I2.reducer,{createEventEmitter:cG}=I2.actions;function dG(e){return e.tooltip.syncInteraction}var fG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},C2=Tr({name:"chartData",initialState:fG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:hP,setDataStartEndIndexes:hG,setComputedData:Pte}=C2.actions,pG=C2.reducer,mG=["x","y"];function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t){if(e==null)return{};var r,n,i=_G(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xG(){var e=ee(M_),t=ee(L_),r=Ve(),n=ee(ER),i=ee(Ti),a=Ep(),o=bp(),s=ee(l=>l.rootProps.className);_.useEffect(()=>{if(e==null)return Wu;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(o&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,w=wG(m,mG),{x,y:b,width:E,height:I}=c.payload.sourceViewBox,j=bo(bo({},w),{},{x:o.x+(E?(g-x)/E:0)*o.width,y:o.y+(I?(y-b)/I:0)*o.height});r(bo(bo({},c),{},{payload:bo(bo({},c.payload),{},{coordinate:j})}))}else r(c);return}if(i!=null){var R;if(typeof n=="function"){var S={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=n(i,S);R=i[A]}else n==="value"&&(R=i.find(fe=>String(fe.value)===c.payload.label));var{coordinate:C}=c.payload;if(R==null||c.payload.active===!1||C==null||o==null){r(ky({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:T}=C,k=Math.min(D,o.x+o.width),O=Math.min(T,o.y+o.height),Q={x:a==="horizontal"?R.coordinate:k,y:a==="horizontal"?O:R.coordinate},se=ky({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(R.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return ju.on(My,l),()=>{ju.off(My,l)}},[s,r,t,e,n,i,a,o])}function bG(){var e=ee(M_),t=ee(L_),r=Ve();_.useEffect(()=>{if(e==null)return Wu;var n=(i,a,o)=>{t!==o&&e===i&&r(hG(a))};return ju.on(fP,n),()=>{ju.off(fP,n)}},[r,t,e])}function EG(){var e=Ve();_.useEffect(()=>{e(cG())},[e]),xG(),bG()}function SG(e,t,r,n,i,a){var o=ee(m=>NH(m,e,t)),s=ee(L_),l=ee(M_),u=ee(ER),c=ee(dG),d=c==null?void 0:c.active,p=bp();_.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=ky({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});ju.emit(My,l,m,s)}},[d,r,o,i,n,s,l,u,a,p])}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e){return e.dataKey}function CG(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(wB,t)}var vP=[],OG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _x(e){var t,r,n=Ft(e,OG),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:x,shared:b,trigger:E,defaultIndex:I,portal:j,axisId:R}=n,S=Ve(),A=typeof I=="number"?String(I):I;_.useEffect(()=>{S(TK({shared:b,trigger:E,axisId:R,active:i,defaultIndex:A}))},[S,b,E,R,i,A]);var C=bp(),D=fk(),T=xK(b),{activeIndex:k,isActive:O}=(t=ee(Fe=>DH(Fe,T,E,A)))!==null&&t!==void 0?t:{},Q=ee(Fe=>RH(Fe,T,E,A)),se=ee(Fe=>E2(Fe,T,E,A)),fe=ee(Fe=>kH(Fe,T,E,A)),le=Q,U=aG(),K=(r=i??O)!==null&&r!==void 0?r:!1,[re,me]=fN([le,K]),_e=T==="axis"?se:void 0;SG(T,E,fe,_e,k,K);var yt=j??U;if(yt==null||C==null||T==null)return null;var je=le??vP;K||(je=vP),u&&je.length&&(je=eN(je.filter(Fe=>Fe.value!=null&&(Fe.hide!==!0||n.includeHidden)),p,IG));var zt=je.length>0,wt=_.createElement(PB,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:K,coordinate:fe,hasPayload:zt,offset:d,position:m,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:w,lastBoundingBox:re,innerRef:me,hasPortalFromProps:!!j},CG(l,gP(gP({},n),{},{payload:je,label:_e,active:K,activeIndex:k,coordinate:fe,accessibilityLayer:D})));return _.createElement(_.Fragment,null,Fn.createPortal(wt,yt),K&&_.createElement(iG,{cursor:x,tooltipEventType:T,coordinate:fe,payload:je,index:k}))}var hc=e=>null;hc.displayName="Cell";function jG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RG{constructor(t){jG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FG={cacheSize:2e3,enableCache:!0},O2=DG({},FG),wP=new RG(O2.cacheSize),$G={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_P="recharts_measurement_span";function zG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var xP=(e,t)=>{try{var r=document.getElementById(_P);r||(r=document.createElement("span"),r.setAttribute("id",_P),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,$G,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ju.isSsr)return{width:0,height:0};if(!O2.enableCache)return xP(t,r);var n=zG(t,r),i=wP.get(n);if(i)return i;var a=xP(t,r);return wP.set(n,a),a},bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,j2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qG=Object.keys(j2),Uo="NaN";function WG(e,t){return e*j2[t]}class vr{static parse(t){var r,[,n,i]=(r=BG.exec(t))!==null&&r!==void 0?r:[];return new vr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_n(t)&&(this.unit=""),r!==""&&!UG.test(r)&&(this.num=NaN,this.unit=""),qG.includes(r)&&(this.num=WG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _n(this.num)}}function N2(e){if(e.includes(Uo))return Uo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=bP.exec(t))!==null&&r!==void 0?r:[],o=vr.parse(n??""),s=vr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Uo;t=t.replace(bP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=EP.exec(t))!==null&&u!==void 0?u:[],m=vr.parse(c??""),g=vr.parse(p??""),y=d==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Uo;t=t.replace(EP,y.toString())}return t}var SP=/\(([^()]*)\)/;function KG(e){for(var t=e,r;(r=SP.exec(t))!=null;){var[,n]=r;t=t.replace(SP,N2(n))}return t}function HG(e){var t=e.replace(/\s+/g,"");return t=KG(t),t=N2(t),t}function GG(e){try{return HG(e)}catch{return Uo}}function Eg(e){var t=GG(e.slice(5,-1));return t===Uo?"":t}var QG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],YG=["dx","dy","angle","className","breakAll"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function AP(e,t){if(e==null)return{};var r,n,i=XG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k2=/[ \f\n\r\t\v\u2028\u2029]+/,R2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Vt(t)||(r?i=t.toString().split(""):i=t.toString().split(k2));var a=i.map(s=>({word:s,width:Wl(s,n).width})),o=r?0:Wl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function JG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var D2=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),M2=e=>e.reduce((t,r)=>t.width>r.width?t:r),ZG="",PP=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=R2({breakAll:r,style:n,children:l+ZG});if(!u)return[!1,[]];var c=D2(u.wordsWithComputedWidth,a,o,s),d=c.length>i||M2(c).width>Number(a);return[d,c]},eQ=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=te(a),c=String(o),d=D2(t,n,r,i);if(!u||i)return d;var p=d.length>a||M2(d).width>Number(n);if(!p)return d;for(var m=0,g=c.length-1,y=0,w;m<=g&&y<=c.length-1;){var x=Math.floor((m+g)/2),b=x-1,[E,I]=PP(c,b,l,s,a,n,r,i),[j]=PP(c,x,l,s,a,n,r,i);if(!E&&!j&&(m=x+1),E&&j&&(g=x-1),!E&&j){w=I;break}y++}return w||d},TP=e=>{var t=Vt(e)?[]:e.toString().split(k2);return[{words:t,width:void 0}]},tQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Ju.isSsr){var s,l,u=R2({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return TP(n);return eQ({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return TP(n)},L2="#808080",rQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:L2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Kp=_.forwardRef((e,t)=>{var r=Ft(e,rQ),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=AP(r,QG),p=_.useMemo(()=>tQ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:y,className:w,breakAll:x}=d,b=AP(d,YG);if(!Un(n)||!Un(i)||p.length===0)return null;var E=Number(n)+(te(m)?m:0),I=Number(i)+(te(g)?g:0);if(!ct(E)||!ct(I))return null;var j;switch(c){case"start":j=Eg("calc(".concat(o,")"));break;case"middle":j=Eg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:j=Eg("calc(".concat(p.length-1," * -").concat(a,")"));break}var R=[];if(l){var S=p[0].width,{width:A}=d;R.push("scale(".concat(te(A)&&te(S)?A/S:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(E,", ").concat(I,")")),R.length&&(b.transform=R.join(" ")),_.createElement("text",Ly({},tn(b),{ref:t,x:E,y:I,className:Ce("recharts-text",w),textAnchor:u,fill:s.includes("url")?L2:s}),p.map((C,D)=>{var T=C.words.join(x?"":" ");return _.createElement("tspan",{x:E,dy:D===0?j:a,key:"".concat(T,"-").concat(D)},T)}))});Kp.displayName="Text";var nQ=["labelRef"];function iQ(e,t){if(e==null)return{};var r,n,i=aQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(null,arguments)}var V2=_.createContext(null),uQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return _.createElement(V2.Provider,{value:l},s)},F2=()=>{var e=_.useContext(V2),t=bp();return e||ek(t)},cQ=_.createContext(null),dQ=()=>{var e=_.useContext(cQ),t=ee(IR);return e||t},fQ=e=>{var{value:t,formatter:r}=e,n=Vt(e.children)?t:e.children;return typeof r=="function"?r(n):n},xx=e=>e!=null&&typeof e=="function",hQ=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pQ=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=hQ(d,p),w=y>=0?1:-1,x,b;switch(t){case"insideStart":x=d+w*a,b=m;break;case"insideEnd":x=p-w*a,b=!m;break;case"end":x=p+w*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var E=gt(s,l,g,x),I=gt(s,l,g,x+(b?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(I.x,",").concat(I.y),R=Vt(e.id)?yu("recharts-radial-line-"):e.id;return _.createElement("text",Yn({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:R,d:j})),_.createElement("textPath",{xlinkHref:"#".concat(R)},r))},mQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=gt(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+o)/2,{x:m,y:g}=gt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Vy=e=>"cx"in e&&te(e.cx),gQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Vy(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,p=o+(l-u)/2,m=(d+p)/2,g=(l+u)/2,y=d+l/2,w=c>=0?1:-1,x=w*n,b=w>0?"end":"start",E=w>0?"start":"end",I=l>=0?1:-1,j=I*n,R=I>0?"end":"start",S=I>0?"start":"end";if(i==="top"){var A={x:d+l/2,y:s-x,textAnchor:"middle",verticalAnchor:b};return ot(ot({},A),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:p+u/2,y:s+c+x,textAnchor:"middle",verticalAnchor:E};return ot(ot({},C),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var D={x:m-j,y:s+c/2,textAnchor:R,verticalAnchor:"middle"};return ot(ot({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var T={x:m+g+j,y:s+c/2,textAnchor:S,verticalAnchor:"middle"};return ot(ot({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:c}:{})}var k=a?{width:g,height:c}:{};return i==="insideLeft"?ot({x:m+j,y:s+c/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?ot({x:m+g-j,y:s+c/2,textAnchor:R,verticalAnchor:"middle"},k):i==="insideTop"?ot({x:d+l/2,y:s+x,textAnchor:"middle",verticalAnchor:E},k):i==="insideBottom"?ot({x:p+u/2,y:s+c-x,textAnchor:"middle",verticalAnchor:b},k):i==="insideTopLeft"?ot({x:d+j,y:s+x,textAnchor:S,verticalAnchor:E},k):i==="insideTopRight"?ot({x:d+l-j,y:s+x,textAnchor:R,verticalAnchor:E},k):i==="insideBottomLeft"?ot({x:p+j,y:s+c-x,textAnchor:S,verticalAnchor:b},k):i==="insideBottomRight"?ot({x:p+u-j,y:s+c-x,textAnchor:R,verticalAnchor:b},k):i&&typeof i=="object"&&(te(i.x)||hi(i.x))&&(te(i.y)||hi(i.y))?ot({x:o+or(i.x,g),y:s+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):ot({x:y,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},vQ={angle:0,offset:5,zIndex:Ht.label,position:"middle",textBreakAll:!1};function Vi(e){var t=Ft(e,vQ),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=dQ(),d=F2(),p=n==="center"?d:c??d,m,g,y;if(r==null?m=p:Vy(r)?m=r:m=ek(r),!m||Vt(i)&&Vt(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var w=ot(ot({},t),{},{viewBox:m});if(_.isValidElement(o)){var{labelRef:x}=w,b=iQ(w,nQ);return _.cloneElement(o,b)}if(typeof o=="function"){if(g=_.createElement(o,w),_.isValidElement(g))return g}else g=fQ(t);var E=tn(t);if(Vy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return pQ(t,n,g,E,m);y=mQ(m,t.offset,t.position)}else y=gQ(t,m);return _.createElement(Sn,{zIndex:t.zIndex},_.createElement(Kp,Yn({ref:u,className:Ce("recharts-label",s)},E,y,{textAnchor:JG(E.textAnchor)?E.textAnchor:y.textAnchor,breakAll:l}),g))}Vi.displayName="Label";var yQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(Vi,Yn({key:"label-implicit"},n)):Un(e)?_.createElement(Vi,Yn({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===Vi?_.cloneElement(e,ot({key:"label-implicit"},n)):_.createElement(Vi,Yn({key:"label-implicit",content:e},n)):xx(e)?_.createElement(Vi,Yn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(Vi,Yn({},e,{key:"label-implicit"},n)):null};function wQ(e){var{label:t,labelRef:r}=e,n=F2();return yQ(t,n,r)||null}var $2={},z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(z2);var U2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(U2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z2,r=U2,n=op;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})($2);var _Q=$2.last;const xQ=_i(_Q);var bQ=["valueAccessor"],EQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function CP(e,t){if(e==null)return{};var r,n,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AQ=e=>Array.isArray(e.value)?xQ(e.value):e.value,B2=_.createContext(void 0),PQ=B2.Provider,q2=_.createContext(void 0),TQ=q2.Provider;function IQ(){return _.useContext(B2)}function CQ(){return _.useContext(q2)}function Ld(e){var{valueAccessor:t=AQ}=e,r=CP(e,bQ),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=CP(r,EQ),u=IQ(),c=CQ(),d=u||c;return!d||!d.length?null:_.createElement(Sn,{zIndex:s??Ht.label},_.createElement(hr,{className:"recharts-label-list"},d.map((p,m)=>{var g,y=Vt(n)?t(p,m):Ge(p&&p.payload,n),w=Vt(a)?{}:{id:"".concat(a,"-").concat(m)};return _.createElement(Vi,uh({key:"label-".concat(m)},tn(p),l,w,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Ld.displayName="LabelList";function W2(e){var{label:t}=e;return t?t===!0?_.createElement(Ld,{key:"labelList-implicit"}):_.isValidElement(t)||xx(t)?_.createElement(Ld,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Ld,uh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var K2=e=>e.graphicalItems.polarItems,OQ=L([Ye,ic],B_),Hp=L([K2,tt,OQ],W_),jQ=L([Hp],K_),Gp=L([jQ,j_],H_),NQ=L([Gp,tt,Hp],Q_);L([Gp,tt,Hp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ge(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var OP=()=>{},kQ=L([Gp,tt,Hp,Bp,Ye],Z_),RQ=L([tt,X_,J_,OP,kQ,OP,Ae,Ye],ex),H2=L([tt,Ae,Gp,NQ,nc,Ye,RQ],tx),DQ=L([H2,tt,Fs],ix);L([tt,H2,DQ,Ye],ox);var MQ={radiusAxis:{},angleAxis:{}},G2=Tr({name:"polarAxis",initialState:MQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tte,removeRadiusAxis:Ite,addAngleAxis:Cte,removeAngleAxis:Ote}=G2.actions,LQ=G2.reducer;function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ=(e,t)=>t,bx=L([K2,zQ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),UQ=[],Ex=(e,t,r)=>(r==null?void 0:r.length)===0?UQ:r,Q2=L([j_,bx,Ex],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>NP(NP({},t.presentationProps),a.props))),i!=null)return i}}),BQ=L([Q2,bx,Ex],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Ge(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:vp(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),qQ=L([Q2,bx,Ex,Pt],(e,t,r,n)=>{if(!(t==null||e==null))return WY({offset:n,pieSettings:t,displayedData:e,cells:r})}),Y2={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=Symbol.for("react.transitional.element"),Ax=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Jp=Symbol.for("react.consumer"),Zp=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),rm=Symbol.for("react.suspense_list"),nm=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),WQ=Symbol.for("react.view_transition"),KQ=Symbol.for("react.client.reference");function on(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sx:switch(e=e.type,e){case Qp:case Xp:case Yp:case tm:case rm:case WQ:return e;default:switch(e=e&&e.$$typeof,e){case Zp:case em:case im:case nm:return e;case Jp:return e;default:return t}}case Ax:return t}}}Re.ContextConsumer=Jp;Re.ContextProvider=Zp;Re.Element=Sx;Re.ForwardRef=em;Re.Fragment=Qp;Re.Lazy=im;Re.Memo=nm;Re.Portal=Ax;Re.Profiler=Xp;Re.StrictMode=Yp;Re.Suspense=tm;Re.SuspenseList=rm;Re.isContextConsumer=function(e){return on(e)===Jp};Re.isContextProvider=function(e){return on(e)===Zp};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sx};Re.isForwardRef=function(e){return on(e)===em};Re.isFragment=function(e){return on(e)===Qp};Re.isLazy=function(e){return on(e)===im};Re.isMemo=function(e){return on(e)===nm};Re.isPortal=function(e){return on(e)===Ax};Re.isProfiler=function(e){return on(e)===Xp};Re.isStrictMode=function(e){return on(e)===Yp};Re.isSuspense=function(e){return on(e)===tm};Re.isSuspenseList=function(e){return on(e)===rm};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qp||e===Xp||e===Yp||e===tm||e===rm||typeof e=="object"&&e!==null&&(e.$$typeof===im||e.$$typeof===nm||e.$$typeof===Zp||e.$$typeof===Jp||e.$$typeof===em||e.$$typeof===KQ||e.getModuleId!==void 0)};Re.typeOf=on;Y2.exports=Re;var HQ=Y2.exports,kP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",RP=null,Sg=null,X2=e=>{if(e===RP&&Array.isArray(Sg))return Sg;var t=[];return _.Children.forEach(e,r=>{Vt(r)||(HQ.isFragment(r)?t=t.concat(X2(r.props.children)):t.push(r))}),Sg=t,RP=e,t};function Px(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>kP(i)):n=[kP(t)],X2(e).forEach(i=>{var a=eo(i,"type.displayName")||eo(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(J2);var GQ=J2.isPlainObject;const QQ=_i(GQ);function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}var LP=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},ZQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eY=e=>{var t=Ft(e,ZQ),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=_.useRef(null),[m,g]=_.useState(-1),y=_.useRef(i),w=_.useRef(a),x=_.useRef(o),b=_.useRef(r),E=_.useRef(n),I=Op(e,"trapezoid-");if(_.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=Ce("recharts-trapezoid",s);if(!d)return _.createElement("g",null,_.createElement("path",ch({},tn(t),{className:j,d:LP(r,n,i,a,o)})));var R=y.current,S=w.current,A=x.current,C=b.current,D=E.current,T="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),O=hk(["strokeDasharray"],u,l);return _.createElement(Cp,{animationId:I,key:I,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var se=bt(R,i,Q),fe=bt(S,a,Q),le=bt(A,o,Q),U=bt(C,r,Q),K=bt(D,n,Q);p.current&&(y.current=se,w.current=fe,x.current=le,b.current=U,E.current=K);var re=Q>0?{transition:O,strokeDasharray:k}:{strokeDasharray:T};return _.createElement("path",ch({},tn(t),{className:j,d:LP(U,K,se,fe,le),ref:p,style:MP(MP({},re),t.style)}))})},tY=["option","shapeType","propTransformer","activeClassName"];function rY(e,t){if(e==null)return{};var r,n,i=nY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sY(e,t){return dh(dh({},t),e)}function lY(e,t){return e==="symbols"}function FP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(vk,r);case"trapezoid":return _.createElement(eY,r);case"sector":return _.createElement(xk,r);case"symbols":if(lY(t))return _.createElement(kw,r);break;case"curve":return _.createElement(s_,r);default:return null}}function uY(e){return _.isValidElement(e)?e.props:e}function Z2(e){var{option:t,shapeType:r,propTransformer:n=sY,activeClassName:i="recharts-active-shape"}=e,a=rY(e,tY),o;if(_.isValidElement(t))o=_.cloneElement(t,dh(dh({},a),uY(t)));else if(typeof t=="function")o=t(a,a.index);else if(QQ(t)&&typeof t!="boolean"){var s=n(t,a);o=_.createElement(FP,{shapeType:r,elementProps:s})}else{var l=a;o=_.createElement(FP,{shapeType:r,elementProps:l})}return a.isActive?_.createElement(hr,{className:i},o):o}var Tx=(e,t,r)=>{var n=Ve();return(i,a)=>o=>{e==null||e(i,a,o),n(a2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Ix=e=>{var t=Ve();return(r,n)=>i=>{e==null||e(r,n,i),t(IK())}},Cx=(e,t,r)=>{var n=Ve();return(i,a)=>o=>{e==null||e(i,a,o),n(CK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function eD(e){var{tooltipEntrySettings:t}=e,r=Ve(),n=Ir(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(SK(t)):i.current!==t&&r(AK({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(PK(i.current)),i.current=null)},[r]),null}function cY(e){var{legendPayload:t}=e,r=Ve(),n=Ir(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(uk(t)):i.current!==t&&r(ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(dk(i.current)),i.current=null)},[r]),null}function dY(e){var{legendPayload:t}=e,r=Ve(),n=ee(Ae),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(uk(t)):i.current!==t&&r(ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(dk(i.current)),i.current=null)},[r]),null}var Ag,fY=()=>{var[e]=_.useState(()=>yu("uid-"));return e},hY=(Ag=SM.useId)!==null&&Ag!==void 0?Ag:fY;function tD(e,t){var r=hY();return t||(e?"".concat(e,"-").concat(r):r)}var pY=_.createContext(void 0),rD=e=>{var{id:t,type:r,children:n}=e,i=tD("recharts-".concat(r),t);return _.createElement(pY.Provider,{value:i},n(i))},mY={cartesianItems:[],polarItems:[]},nD=Tr({name:"graphicalItems",initialState:mY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=gn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=gn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ke()},removePolarGraphicalItem:{reducer(e,t){var r=gn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ke()}}}),{addCartesianGraphicalItem:gY,replaceCartesianGraphicalItem:vY,removeCartesianGraphicalItem:yY,addPolarGraphicalItem:wY,removePolarGraphicalItem:_Y}=nD.actions,xY=nD.reducer,bY=e=>{var t=Ve(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(gY(e)):r.current!==e&&t(vY({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(yY(r.current)),r.current=null)},[t]),null},EY=_.memo(bY);function SY(e){var t=Ve();return _.useLayoutEffect(()=>(t(wY(e)),()=>{t(_Y(e))}),[t,e]),null}var AY=["key"],PY=["onMouseEnter","onClick","onMouseLeave"],TY=["id"],IY=["id"];function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=OY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(null,arguments)}function am(e,t){if(e==null)return{};var r,n,i=NY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kY(e){var t=_.useMemo(()=>Px(e.children,hc),[e.children]),r=ee(n=>BQ(n,e.id,t));return r==null?null:_.createElement(dY,{legendPayload:r})}var RY=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:vp(s,t),hide:l,type:u,color:o,unit:""}};return _.createElement(eD,{tooltipEntrySettings:c})}),DY=(e,t)=>e>t?"start":e<t?"end":"middle",MY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),LY=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=yk(a,o),l=i+or(e.cx,a,a/2),u=n+or(e.cy,o,o/2),c=or(e.innerRadius,s,0),d=MY(r,e.outerRadius,s),p=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},VY=(e,t)=>{var r=Mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function FY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var $Y=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ce("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=am(t,AY);return _.createElement(s_,ha({},i,{type:"linear",className:r}))},zY=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=Ce("recharts-pie-label-text",FY(e));return _.createElement(Kp,ha({},t,{alignmentBaseline:"middle",className:i}),n)};function UY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=wn(r),l=vu(i),u=vu(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=gt(p.cx,p.cy,p.outerRadius+c,g),w=it(it(it(it({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:DY(y.x,p.cx)},y),x=it(it(it(it({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[gt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return _.createElement(Sn,{zIndex:Ht.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},_.createElement(hr,null,a&&$Y(a,x),zY(i,w,Ge(p,o))))});return _.createElement(hr,{className:"recharts-pie-labels"},d)}function BY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(W2,{label:i}):_.createElement(UY,{sectors:t,props:r,showLabels:n})}function qY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=ee(io),l=ee(mx),u=ee(pH),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=am(i,PY),g=Tx(c,i.dataKey,o),y=Ix(p),w=Cx(d,i.dataKey,o);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var E=u==null||u===o,I=String(b)===s&&(l==null||i.dataKey===l)&&E,j=s?n:null,R=r&&I?r:j,S=it(it({},x),{},{stroke:x.stroke,tabIndex:-1,[KN]:b,[HN]:i.dataKey});return _.createElement(hr,ha({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Ku(m,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:w(x,b)}),_.createElement(Z2,ha({option:a??R,index:b,shapeType:"sector",isActive:I},S)))}))}function WY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=VY(s,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(R=>Ge(R,u,0)!==0).length,x=(g>=360?w:w-1)*y,b=g-w*p-x,E=n.reduce((R,S)=>{var A=Ge(S,u,0);return R+(te(A)?A:0)},0),I;if(E>0){var j;I=n.map((R,S)=>{var A=Ge(R,u,0),C=Ge(R,c,S),D=LY(r,a,R),T=(te(A)?A:0)/E,k,O=it(it({},R),i&&i[S]&&i[S].props);S?k=j.endAngle+Mt(m)*y*(A!==0?1:0):k=s;var Q=k+Mt(m)*((A!==0?p:0)+T*b),se=(k+Q)/2,fe=(D.innerRadius+D.outerRadius)/2,le=[{name:C,value:A,payload:O,dataKey:u,type:d}],U=gt(D.cx,D.cy,fe,se);return j=it(it(it(it({},r.presentationProps),{},{percent:T,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:le,midAngle:se,middleRadius:fe,tooltipPosition:U},O),D),{},{value:A,dataKey:u,startAngle:k,endAngle:Q,payload:O,paddingAngle:Mt(m)*y}),j})}return I}function KY(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(TQ,{value:t?i:void 0},n)}function HY(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=Op(t,"recharts-pie-"),g=r.current,[y,w]=_.useState(!1),x=_.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),b=_.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return _.createElement(KY,{showLabels:!y,sectors:i},_.createElement(Cp,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},E=>{var I=[],j=i&&i[0],R=j==null?void 0:j.startAngle;return i==null||i.forEach((S,A)=>{var C=g&&g[A],D=A>0?eo(S,"paddingAngle",0):0;if(C){var T=bt(C.endAngle-C.startAngle,S.endAngle-S.startAngle,E),k=it(it({},S),{},{startAngle:R+D,endAngle:R+T+D});I.push(k),R=k.endAngle}else{var{endAngle:O,startAngle:Q}=S,se=bt(0,O-Q,E),fe=it(it({},S),{},{startAngle:R+D,endAngle:R+se+D});I.push(fe),R=fe.endAngle}}),r.current=I,_.createElement(hr,null,_.createElement(qY,{sectors:I,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(BY,{showLabels:!y,sectors:i,props:t}),t.children)}var GY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ht.area};function QY(e){var{id:t}=e,r=am(e,TY),{hide:n,className:i,rootTabIndex:a}=e,o=_.useMemo(()=>Px(e.children,hc),[e.children]),s=ee(c=>qQ(c,t,o)),l=_.useRef(null),u=Ce("recharts-pie",i);return n||s==null?(l.current=null,_.createElement(hr,{tabIndex:a,className:u})):_.createElement(Sn,{zIndex:e.zIndex},_.createElement(RY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),_.createElement(hr,{tabIndex:a,className:u},_.createElement(HY,{props:it(it({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function iD(e){var t=Ft(e,GY),{id:r}=t,n=am(t,IY),i=wn(n);return _.createElement(rD,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(SY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(kY,ha({},n,{id:a})),_.createElement(QY,ha({},n,{id:a}))))}iD.displayName="Pie";function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZY={xAxis:{},yAxis:{},zAxis:{}},aD=Tr({name:"cartesianAxis",initialState:ZY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=UP(UP({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:eX,replaceXAxis:tX,removeXAxis:rX,addYAxis:nX,replaceYAxis:iX,removeYAxis:aX,addZAxis:jte,replaceZAxis:Nte,removeZAxis:kte,updateYAxisWidth:oX}=aD.actions,sX=aD.reducer,lX=L([Pt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),uX=L([lX,bi,Ei],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),oD=()=>ee(uX),cX="Invariant failed";function dX(e,t){throw new Error(cX)}var fX=["x","y"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=pX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gX(e,t){if(e==null)return{};var r,n,i=vX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yX(e,t){var{x:r,y:n}=e,i=gX(e,fX),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return _l(_l(_l(_l(_l({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function fh(e){return _.createElement(Z2,Fy({shapeType:"rectangle",propTransformer:yX,activeClassName:"recharts-active-bar"},e))}var wX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(te(t))return t;var a=te(n)||Vt(n);return a?t(n,i):(a||dX(),r)}},_X={},sD=Tr({name:"errorBars",initialState:_X,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Rte,replaceErrorBar:Dte,removeErrorBar:Mte}=sD.actions,xX=sD.reducer,bX=["children"];function EX(e,t){if(e==null)return{};var r,n,i=SX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PX=_.createContext(AX);function TX(e){var{children:t}=e,r=EX(e,bX);return _.createElement(PX.Provider,{value:r},t)}function lD(e,t){var r,n,i=ee(u=>Ai(u,e)),a=ee(u=>Pi(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:jt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Nt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function IX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=oD(),{needClipX:a,needClipY:o,needClip:s}=lD(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function CX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ct(e.zIndex)?e.zIndex:t}var OX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=_;function jX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NX=typeof Object.is=="function"?Object.is:jX,kX=pc.useSyncExternalStore,RX=pc.useRef,DX=pc.useEffect,MX=pc.useMemo,LX=pc.useDebugValue;OX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=RX(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=MX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,NX(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=kX(e,a[0],a[1]);return DX(function(){o.hasValue=!0,o.value=s},[s]),LX(s),s};function VX(e){e()}function FX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var qP={notify(){},get:()=>[]};function $X(e,t){let r,n=qP,i=0,a=!1;function o(y){c();const w=n.subscribe(y);let x=!1;return()=>{x||(x=!0,w(),d())}}function s(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=FX())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=qP)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var zX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UX=zX(),BX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qX=BX(),WX=()=>UX||qX?_.useLayoutEffect:_.useEffect,KX=WX();function WP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function HX(e,t){if(WP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!WP(e[r[i]],t[r[i]]))return!1;return!0}var Pg=Symbol.for("react-redux-context"),Tg=typeof globalThis<"u"?globalThis:{};function GX(){if(!_.createContext)return{};const e=Tg[Pg]??(Tg[Pg]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var QX=GX();function YX(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const l=$X(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=_.useMemo(()=>i.getState(),[i]);KX(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||QX;return _.createElement(s.Provider,{value:a},t)}var XX=YX,JX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ZX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ox(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(JX.has(n)){if(e[n]==null&&t[n]==null)continue;if(!HX(e[n],t[n]))return!1}else if(!ZX(e[n],t[n]))return!1;return!0}var eJ=["onMouseEnter","onMouseLeave","onClick"],tJ=["value","background","tooltipPosition"],rJ=["id"],nJ=["onMouseEnter","onClick","onMouseLeave"];function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(null,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){iJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iJ(e,t,r){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(e,t){if(e==null)return{};var r,n,i=sJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lJ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:vp(r,t),payload:e}]},uJ=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:vp(a,t),hide:o,type:l,color:i,unit:s}};return _.createElement(eD,{tooltipEntrySettings:u})});function cJ(e){var t=ee(io),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=hh(a,eJ),c=Tx(o,n),d=Ix(s),p=Cx(l,n);if(!i||r==null)return null;var m=vu(i);return _.createElement(Sn,{zIndex:CX(i,Ht.barBackground)},r.map((g,y)=>{var{value:w,background:x,tooltipPosition:b}=g,E=hh(g,tJ);if(!x)return null;var I=c(g,y),j=d(g,y),R=p(g,y),S=cr(cr(cr(cr(cr({option:i,isActive:String(y)===t},E),{},{fill:"#eee"},x),m),Ku(u,g,y)),{},{onMouseEnter:I,onMouseLeave:j,onClick:R,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return _.createElement(fh,wi({key:"background-bar-".concat(y)},S))}))}function dJ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return cr(cr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return _.createElement(PQ,{value:t?i:void 0},r)}function fJ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ee(io),l=ee(mx),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?_.createElement(Sn,{zIndex:Ht.activeBar},_.createElement(fh,wi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):_.createElement(fh,wi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function hJ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(fh,wi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function pJ(e){var t,{data:r,props:n}=e,i=(t=wn(n))!==null&&t!==void 0?t:{},{id:a}=i,o=hh(i,rJ),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=hh(n,nJ),g=Tx(c,l),y=Ix(p),w=Cx(d,l);return r?_.createElement(_.Fragment,null,r.map((x,b)=>_.createElement(hr,wi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},Ku(m,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:w(x,b)}),u?_.createElement(fJ,{shape:s,activeBar:u,baseProps:o,entry:x,index:b,dataKey:l}):_.createElement(hJ,{shape:s,baseProps:o,entry:x,index:b,dataKey:l})))):null}function mJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=Op(t,"recharts-bar-"),[m,g]=_.useState(!1),y=!m,w=_.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=_.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return _.createElement(dJ,{showLabels:y,rects:n},_.createElement(Cp,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:w,onAnimationStart:x,key:p},b=>{var E=b===1?n:n==null?void 0:n.map((I,j)=>{var R=d&&d[j];if(R)return cr(cr({},I),{},{x:bt(R.x,I.x,b),y:bt(R.y,I.y,b),width:bt(R.width,I.width,b),height:bt(R.height,I.height,b)});if(i==="horizontal"){var S=bt(0,I.height,b),A=bt(I.stackedBarStart,I.y,b);return cr(cr({},I),{},{y:A,height:S})}var C=bt(0,I.width,b),D=bt(I.stackedBarStart,I.x,b);return cr(cr({},I),{},{width:C,x:D})});return b>0&&(r.current=E??null),E==null?null:_.createElement(hr,null,_.createElement(pJ,{props:t,data:E}))}),_.createElement(W2,{label:t.label}),t.children)}function gJ(e){var t=_.useRef(null);return _.createElement(mJ,{previousRectanglesRef:t,props:e})}var uD=0,vJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ge(e,t)}};class yJ extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=Ce("recharts-bar",i),d=u;return _.createElement(hr,{className:c,id:u},s&&_.createElement("defs",null,_.createElement(IX,{clipPathId:d,xAxisId:a,yAxisId:o})),_.createElement(hr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},_.createElement(cJ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),_.createElement(gJ,this.props)))}}var wJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:uD,xAxisId:0,yAxisId:0,zIndex:Ht.bar};function _J(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=lD(t,r),p=Ep(),m=Ir(),g=Px(e.children,hc),y=ee(b=>GJ(b,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var w,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?w=0:w=p==="vertical"?x.height/2:x.width/2,_.createElement(TX,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:vJ,errorBarOffset:w},_.createElement(yJ,wi({},e,{layout:p,needClip:d,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function xJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:y}=e,w=t==="horizontal"?s:o,x=c?w.scale.domain():null,b=uU({numericAxis:w}),E=w.scale(b);return d.map((I,j)=>{var R,S,A,C,D,T;c?R=nU(c[j+y],x):(R=Ge(I,r),Array.isArray(R)||(R=[b,R]));var k=wX(n,uD)(R[1],j);if(t==="horizontal"){var O,[Q,se]=[s.scale(R[0]),s.scale(R[1])];S=OS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:I,index:j}),A=(O=se??Q)!==null&&O!==void 0?O:void 0,C=i.size;var fe=Q-se;if(D=_n(fe)?0:fe,T={x:S,y:p.top,width:C,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var le=Mt(D||k)*(Math.abs(k)-Math.abs(D));A-=le,D+=le}}else{var[U,K]=[o.scale(R[0]),o.scale(R[1])];if(S=U,A=OS({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:I,index:j}),C=K-U,D=i.size,T={x:p.left,y:A,width:p.width,height:D},Math.abs(k)>0&&Math.abs(C)<Math.abs(k)){var re=Mt(C||k)*(Math.abs(k)-Math.abs(C));C+=re}}if(S==null||A==null||C==null||D==null)return null;var me=cr(cr({},I),{},{stackedBarStart:E,x:S,y:A,width:C,height:D,value:c?R:R[1],payload:I,background:T,tooltipPosition:{x:S+C/2,y:A+D/2},parentViewBox:g},m&&m[j]&&m[j].props);return me}).filter(Boolean)}function bJ(e){var t=Ft(e,wJ),r=Ir();return _.createElement(rD,{id:t.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(cY,{legendPayload:lJ(t)}),_.createElement(uJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(EY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:lU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),_.createElement(Sn,{zIndex:t.zIndex},_.createElement(_J,wi({},t,{id:n})))))}var Zo=_.memo(bJ,Ox);Zo.displayName="Bar";function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PJ=(e,t)=>t,TJ=(e,t,r)=>r,IJ=(e,t,r,n)=>n,CJ=(e,t,r,n,i)=>i,mc=L([q_,CJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),OJ=L([mc],e=>e==null?void 0:e.maxBarSize),jJ=(e,t,r,n,i,a)=>a,GP=(e,t,r)=>{var n=r??e;if(!Vt(n))return or(n,t,0)},NJ=L([Ae,q_,PJ,TJ,IJ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),kJ=(e,t,r,n)=>{var i=Ae(e);return i==="horizontal"?Ny(e,"yAxis",r,n):Ny(e,"xAxis",t,n)},RJ=(e,t,r)=>{var n=Ae(e);return n==="horizontal"?tP(e,"xAxis",t):tP(e,"yAxis",r)},DJ=(e,t,r)=>{var n={},i=e.filter(Fp),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=GP(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=GP(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]},MJ=L([NJ,vW,RJ],DJ),LJ=(e,t,r,n,i)=>{var a,o,s=mc(e,t,r,n,i);if(s!=null){var l=Ae(e),u=_R(e),{maxBarSize:c}=s,d=Vt(c)?u:c,p,m;return l==="horizontal"?(p=Es(e,"xAxis",t,n),m=bs(e,"xAxis",t,n)):(p=Es(e,"yAxis",r,n),m=bs(e,"yAxis",r,n)),(a=(o=$f(p,m,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},cD=(e,t,r,n)=>{var i=Ae(e),a,o;return i==="horizontal"?(a=Es(e,"xAxis",t,n),o=bs(e,"xAxis",t,n)):(a=Es(e,"yAxis",r,n),o=bs(e,"yAxis",r,n)),$f(a,o)};function VJ(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=or(e,r,0,!0),s,l=[];if(ct(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((x,b)=>x+(b.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-o,size:0};s=n.reduce((x,b)=>{var E,I={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},j=[...x,I];return m=j[j.length-1].position,j},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var y=(r-2*g-(a-1)*o)/a;y>1&&(y>>=0);var w=ct(i)?Math.min(y,i):y;s=n.reduce((x,b,E)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+o)*E+(y-w)/2,size:w}}],l)}return s}}var FJ=(e,t,r,n,i,a,o)=>{var s=Vt(o)?t:o,l=VJ(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>fd(fd({},u),{},{position:fd(fd({},u.position),{},{offset:u.position.offset-i/2})}))),l},$J=L([MJ,_R,gW,xR,LJ,cD,OJ],FJ),zJ=(e,t,r,n)=>Es(e,"xAxis",t,n),UJ=(e,t,r,n)=>Es(e,"yAxis",r,n),BJ=(e,t,r,n)=>bs(e,"xAxis",t,n),qJ=(e,t,r,n)=>bs(e,"yAxis",r,n),WJ=L([$J,mc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),KJ=(e,t)=>{var r=z_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},HJ=L([kJ,mc],KJ),GJ=L([Pt,e_,zJ,UJ,BJ,qJ,WJ,Ae,N_,cD,HJ,mc,jJ],(e,t,r,n,i,a,o,s,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:w}=d,x;if(w!=null&&w.length>0?x=w:x=m==null?void 0:m.slice(g,y+1),x!=null)return xJ({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),dD=e=>{var{chartData:t}=e,r=Ve(),n=Ir();return _.useEffect(()=>n?()=>{}:(r(hP(t)),()=>{r(hP(void 0))}),[t,r,n]),null},QP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fD=Tr({name:"brush",initialState:QP,reducers:{setBrushSettings(e,t){return t.payload==null?QP:t.payload}}}),{setBrushSettings:Lte}=fD.actions,QJ=fD.reducer;function YJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jx{static create(t){return new jx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}YJ(jx,"EPS",1e-4);function ZJ(e){return(e%180+180)%180}var eZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ZJ(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},tZ={dots:[],areas:[],lines:[]},hD=Tr({name:"referenceElements",initialState:tZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=gn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=gn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=gn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Vte,removeDot:Fte,addArea:$te,removeArea:zte,addLine:Ute,removeLine:Bte}=hD.actions,rZ=hD.reducer,nZ=_.createContext(void 0),iZ=e=>{var{children:t}=e,[r]=_.useState("".concat(yu("recharts"),"-clip")),n=oD();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return _.createElement(nZ.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function pD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function aZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eZ(n,r)}function oZ(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ph(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function sZ(e,t){return pD(e,t+1)}function lZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:pD(n,u)};var y=l,w,x=()=>(w===void 0&&(w=r(g,y)),w),b=g.coordinate,E=l===0||ph(e,b,x,c,s);E||(l=0,c=o,u+=1),E&&(c=b+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){uZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZ(e,t,r){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fZ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===o-1){var w=e*(m.coordinate+e*y()/2-l);a[p]=m=tr(tr({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[p]=m=tr(tr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=ph(e,m.tickCoord,y,s,l);x&&(l=m.tickCoord-e*(y()/2+i),a[p]=tr(tr({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function hZ(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),p=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=tr(tr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=ph(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=tr(tr({},c),{},{isShow:!0}))}}for(var g=a?s-1:s,y=function(b){var E=o[b],I,j=()=>(I===void 0&&(I=r(E,b)),I);if(b===0){var R=e*(E.coordinate-e*j()/2-l);o[b]=E=tr(tr({},E),{},{tickCoord:R<0?E.coordinate-R*e:E.coordinate})}else o[b]=E=tr(tr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var S=ph(e,E.tickCoord,j,l,u);S&&(l=E.tickCoord+e*(j()/2+i),o[b]=tr(tr({},E),{},{isShow:!0}))}},w=0;w<g;w++)y(w);return o}function Nx(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(te(l)||Ju.isSsr){var p;return(p=sZ(i,te(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?Wl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(E,I)=>{var j=typeof u=="function"?u(E.value,I):E.value;return g==="width"?aZ(Wl(j,{fontSize:t,letterSpacing:r}),y,d):Wl(j,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Mt(i[1].coordinate-i[0].coordinate):1,b=oZ(a,x,g);return l==="equidistantPreserveStart"?lZ(x,b,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=hZ(x,b,w,i,o,l==="preserveStartEnd"):m=fZ(x,b,w,i,o),m.filter(E=>E.isShow))}var pZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},mZ=["axisLine","width","height","className","hide","ticks","axisType"];function gZ(e,t){if(e==null)return{};var r,n,i=vZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ao.apply(null,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ht.axis};function xZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=ft(ft(ft({},l),wn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=ft(ft({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=ft(ft({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return _.createElement("line",ao({},u,{className:Ce("recharts-cartesian-axis-line",eo(s,"className"))}))}function bZ(e,t,r,n,i,a,o,s,l){var u,c,d,p,m,g,y=s?-1:1,w=e.tickSize||o,x=te(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!s*i,d=p-y*w,g=d-y*l,m=x;break;case"left":d=p=e.coordinate,c=t+ +!s*n,u=c-y*w,m=u-y*l,g=x;break;case"right":d=p=e.coordinate,c=t+ +s*n,u=c+y*w,m=u+y*l,g=x;break;default:u=c=e.coordinate,p=r+ +s*i,d=p+y*w,g=d+y*l,m=x;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function EZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function SZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function AZ(e){var{option:t,tickProps:r,value:n}=e,i,a=Ce(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,ft(ft({},r),{},{className:a}));else if(typeof t=="function")i=t(ft(ft({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ce(o,t==null?void 0:t.className)),i=_.createElement(Kp,ao({},r,{className:o}),n)}return i}var PZ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:y,tickSize:w,tickMargin:x,fontSize:b,letterSpacing:E,getTicksConfig:I,events:j,axisType:R}=e,S=Nx(ft(ft({},I),{},{ticks:r}),b,E),A=EZ(c,d),C=SZ(c,d),D=wn(I),T=vu(n),k={};typeof i=="object"&&(k=i);var O=ft(ft({},D),{},{fill:"none"},k),Q=S.map(le=>ft({entry:le},bZ(le,p,m,g,y,c,w,d,x))),se=Q.map(le=>{var{entry:U,line:K}=le;return _.createElement(hr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&_.createElement("line",ao({},O,K,{className:Ce("recharts-cartesian-axis-tick-line",eo(i,"className"))})))}),fe=Q.map((le,U)=>{var{entry:K,tick:re}=le,me=ft(ft(ft(ft({textAnchor:A,verticalAnchor:C},D),{},{stroke:"none",fill:a},T),re),{},{index:U,payload:K,visibleTicksCount:S.length,tickFormatter:o,padding:l},u);return _.createElement(hr,ao({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Ku(j,K,U)),n&&_.createElement(AZ,{option:n,tickProps:me,value:"".concat(typeof o=="function"?o(K.value,U):K.value).concat(s||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},fe.length>0&&_.createElement(Sn,{zIndex:Ht.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},fe)),se.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},se))}),TZ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=gZ(e,mZ),[c,d]=_.useState(""),[p,m]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return pZ({ticks:g.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=_.useCallback(w=>{if(w){var x=w.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var b=x[0];if(b){var E=window.getComputedStyle(b),I=E.fontSize,j=E.letterSpacing;(I!==c||j!==p)&&(d(I),m(j))}}},[c,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Sn,{zIndex:e.zIndex},_.createElement(hr,{className:Ce("recharts-cartesian-axis",a)},_.createElement(xZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:wn(e)}),_.createElement(PZ,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(uQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(wQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),kx=_.forwardRef((e,t)=>{var r=Ft(e,ii);return _.createElement(TZ,ao({},r,{ref:t}))});kx.displayName="CartesianAxis";var IZ=["x1","y1","x2","y2","key"],CZ=["offset"],OZ=["xAxisId","yAxisId"],jZ=["xAxisId","yAxisId"];function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){NZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NZ(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(null,arguments)}function mh(e,t){if(e==null)return{};var r,n,i=DZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return _.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function mD(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=mh(r,IZ),d=(i=wn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=mh(d,CZ);n=_.createElement("line",Fa({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function LZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=mh(e,OZ),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return _.createElement(mD,{key:"line-".concat(c),option:n,lineItemProps:d})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function VZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=mh(e,jZ),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return _.createElement(mD,{option:n,lineItemProps:d,key:"line-".concat(c)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function FZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%t.length;return _.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function $Z(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%r.length;return _.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:s,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var zZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return BN(Nx(ar(ar(ar({},ii),r),{},{ticks:qN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},UZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return BN(Nx(ar(ar(ar({},ii),r),{},{ticks:qN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},BZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ht.grid};function Rx(e){var t=n_(),r=i_(),n=tk(),i=ar(ar({},Ft(e,BZ)),{},{x:te(e.x)?e.x:n.left,y:te(e.y)?e.y:n.top,width:te(e.width)?e.width:n.width,height:te(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,g=Ir(),y=ee(C=>rP(C,"xAxis",a,g)),w=ee(C=>rP(C,"yAxis",o,g));if(!Bn(u)||!Bn(c)||!te(s)||!te(l))return null;var x=i.verticalCoordinatesGenerator||zZ,b=i.horizontalCoordinatesGenerator||UZ,{horizontalPoints:E,verticalPoints:I}=i;if((!E||!E.length)&&typeof b=="function"){var j=p&&p.length,R=b({yAxis:w?ar(ar({},w),{},{ticks:j?p:w.ticks}):void 0,width:t??u,height:r??c,offset:n},j?!0:d);zf(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(E=R)}if((!I||!I.length)&&typeof x=="function"){var S=m&&m.length,A=x({xAxis:y?ar(ar({},y),{},{ticks:S?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},S?!0:d);zf(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(I=A)}return _.createElement(Sn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(MZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(FZ,Fa({},i,{horizontalPoints:E})),_.createElement($Z,Fa({},i,{verticalPoints:I})),_.createElement(LZ,Fa({},i,{offset:n,horizontalPoints:E,xAxis:y,yAxis:w})),_.createElement(VZ,Fa({},i,{offset:n,verticalPoints:I,xAxis:y,yAxis:w}))))}Rx.displayName="CartesianGrid";var qZ=["domain","range"],WZ=["domain","range"];function ZP(e,t){if(e==null)return{};var r,n,i=KZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function gD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=ZP(e,qZ),{domain:a,range:o}=t,s=ZP(t,WZ);return!eT(r,a)||!eT(n,o)?!1:Ox(i,s)}var HZ=["dangerouslySetInnerHTML","ticks"],GZ=["id"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function tT(e,t){if(e==null)return{};var r,n,i=QZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YZ(e){var t=Ve(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(eX(e)):r.current!==e&&t(tX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(rX(r.current)),r.current=null)},[t]),null}var XZ=e=>{var{xAxisId:t,className:r}=e,n=ee(e_),i=Ir(),a="xAxis",o=ee(w=>$s(w,a,t,i)),s=ee(w=>ZR(w,a,t,i)),l=ee(w=>QR(w,t)),u=ee(w=>pK(w,t)),c=ee(w=>OR(w,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,m=tT(e,HZ),{id:g}=c,y=tT(c,GZ);return _.createElement(kx,$y({},m,y,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:Ce("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},JZ={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:ii.axisLine,height:jt.height,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:jt.type,xAxisId:0},ZZ=e=>{var t=Ft(e,JZ);return _.createElement(_.Fragment,null,_.createElement(YZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(XZ,t))},Dx=_.memo(ZZ,gD);Dx.displayName="XAxis";var eee=["dangerouslySetInnerHTML","ticks"],tee=["id"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function rT(e,t){if(e==null)return{};var r,n,i=ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nee(e){var t=Ve(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(nX(e)):r.current!==e&&t(iX({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(aX(r.current)),r.current=null)},[t]),null}var iee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),o=_.useRef(null),s=ee(e_),l=Ir(),u=Ve(),c="yAxis",d=ee(j=>$s(j,c,t,l)),p=ee(j=>YR(j,t)),m=ee(j=>gK(j,t)),g=ee(j=>ZR(j,c,t,l)),y=ee(j=>jR(j,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!p||xx(i)||_.isValidElement(i)||y==null)){var j=a.current;if(j){var R=j.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&u(oX({id:t,width:R}))}}},[g,p,u,i,t,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:x}=e,b=rT(e,eee),{id:E}=y,I=rT(y,tee);return _.createElement(kx,zy({},b,I,{ref:a,labelRef:o,scale:d,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ce("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:g,axisType:c}))},aee={allowDataOverflow:Nt.allowDataOverflow,allowDecimals:Nt.allowDecimals,allowDuplicatedCategory:Nt.allowDuplicatedCategory,angle:Nt.angle,axisLine:ii.axisLine,hide:!1,includeHidden:Nt.includeHidden,interval:Nt.interval,minTickGap:Nt.minTickGap,mirror:Nt.mirror,orientation:Nt.orientation,padding:Nt.padding,reversed:Nt.reversed,scale:Nt.scale,tick:Nt.tick,tickCount:Nt.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:Nt.type,width:Nt.width,yAxisId:0},oee=e=>{var t=Ft(e,aee);return _.createElement(_.Fragment,null,_.createElement(nee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(iee,t))},Mx=_.memo(oee,gD);Mx.displayName="YAxis";var see=(e,t)=>t,Lx=L([see,Ae,IR,It,m2,Ti,jH,Pt],VH),Vx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},vD=rn("mouseClick"),yD=Qu();yD.startListening({actionCreator:vD,effect:(e,t)=>{var r=e.payload,n=Lx(t.getState(),Vx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(OK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Uy=rn("mouseMove"),wD=Qu(),hd=null;wD.startListening({actionCreator:Uy,effect:(e,t)=>{var r=e.payload;hd!==null&&cancelAnimationFrame(hd);var n=Vx(r);hd=requestAnimationFrame(()=>{var i=t.getState(),a=ux(i,i.tooltip.settings.shared);if(a==="axis"){var o=Lx(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(s2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(o2())}hd=null})}});var nT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_D=Tr({name:"rootProps",initialState:nT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:nT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),lee=_D.reducer,{updateOptions:uee}=_D.actions,xD=Tr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cee}=xD.actions,dee=xD.reducer,bD=rn("keyDown"),ED=rn("focus"),Fx=Qu();Fx.startListening({actionCreator:bD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=cx(i,Us(r),sc(r),dc(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ti(r);if(a==="Enter"){var u=lh(r,"axis","hover",String(i.index));t.dispatch(Ry({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=_K(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=s+p*d;if(!(l==null||m>=l.length||m<0)){var g=lh(r,"axis","hover",String(m));t.dispatch(Ry({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});Fx.startListening({actionCreator:ED,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=lh(r,"axis","hover",String(a));t.dispatch(Ry({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var qr=rn("externalEvent"),SD=Qu(),Ig=new Map;SD.startListening({actionCreator:qr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Ig.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:gH(s),activeDataKey:mx(s),activeIndex:io(s),activeLabel:y2(s),activeTooltipIndex:io(s),isTooltipActive:vH(s)};r(l,n)}finally{Ig.delete(i)}});Ig.set(i,o)}}});var fee=L([zs],e=>e.tooltipItemPayloads),hee=L([fee,uc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),AD=rn("touchMove"),PD=Qu();PD.startListening({actionCreator:AD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=ux(n,n.tooltip.settings.shared);if(i==="axis"){var a=Lx(n,Vx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(s2({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(KN),c=(o=l.getAttribute(HN))!==null&&o!==void 0?o:void 0,d=hee(t.getState(),u,c);t.dispatch(a2({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var pee=pN({brush:QJ,cartesianAxis:sX,chartData:pG,errorBars:xX,graphicalItems:xY,layout:X9,legend:tB,options:uG,polarAxis:LQ,polarOptions:dee,referenceElements:rZ,rootProps:lee,tooltip:jK,zIndex:JH}),mee=function(t){return b9({reducer:pee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([yD.middleware,wD.middleware,Fx.middleware,SD.middleware,PD.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(CN({type:"raf"}))},devTools:Ju.devToolsEnabled})};function TD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ir(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=mee(t));var o=Bw;return _.createElement(XX,{context:o,store:a.current},r)}function gee(e){var{layout:t,margin:r}=e,n=Ve(),i=Ir();return _.useEffect(()=>{i||(n(G9(t)),n(H9(r)))},[n,i,t,r]),null}var ID=_.memo(gee,Ox);function CD(e){var t=Ve();return _.useEffect(()=>{t(uee(e))},[t,e]),null}function iT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=tD("".concat(n).concat(t)),a=Ve();return _.useLayoutEffect(()=>(a(YH({zIndex:t,elementId:i,isPanorama:r})),()=>{a(XH({zIndex:t,isPanorama:r}))}),[a,t,i,r]),_.createElement("g",{tabIndex:-1,id:i})}function aT(e){var{children:t,isPanorama:r}=e,n=ee($H);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(iT,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>_.createElement(iT,{key:o,zIndex:o,isPanorama:r})))}var vee=["children"];function yee(e,t){if(e==null)return{};var r,n,i=wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var _ee={width:"100%",height:"100%",display:"block"},xee=_.forwardRef((e,t)=>{var r=n_(),n=i_(),i=fk();if(!Bn(r)||!Bn(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),_.createElement(Iw,gh({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:_ee,ref:t}),a)}),bee=e=>{var{children:t}=e,r=ee(xp);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return _.createElement(Iw,{width:n,height:i,x:o,y:a},t)},oT=_.forwardRef((e,t)=>{var{children:r}=e,n=yee(e,vee),i=Ir();return i?_.createElement(bee,null,_.createElement(aT,{isPanorama:!0},r)):_.createElement(xee,gh({ref:t},n),_.createElement(aT,{isPanorama:!1},r))});function Eee(){var e=Ve(),[t,r]=_.useState(null),n=ee(mU);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ct(a)&&a!==n&&e(Y9(a))}},[t,e,n]),r}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function See(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(null,arguments)}var Iee=()=>(EG(),null);function vh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Cee=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,o]=_.useState({containerWidth:vh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:vh((n=e.style)===null||n===void 0?void 0:n.height)}),s=_.useCallback((u,c)=>{o(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var p=g=>{var{width:y,height:w}=g[0].contentRect;s(y,w)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,s]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),_.createElement(_.Fragment,null,_.createElement(Sp,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",oo({ref:l},e)))}),Oee=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:vh(r),containerHeight:vh(n)}),o=_.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),s=_.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Sp,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",oo({ref:s},e)))}),jee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Sp,{width:r,height:n}),_.createElement("div",oo({ref:t},e)))}),Nee=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return hi(r)||hi(n)?_.createElement(Oee,oo({},e,{ref:t})):_.createElement(jee,oo({},e,{ref:t}))});function kee(e){return e===!0?Cee:Nee}var Ree=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:w,width:x,responsive:b,dispatchTouchEvents:E=!0}=e,I=_.useRef(null),j=Ve(),[R,S]=_.useState(null),[A,C]=_.useState(null),D=Eee(),T=t_(),k=(T==null?void 0:T.width)>0?T.width:x,O=(T==null?void 0:T.height)>0?T.height:i,Q=_.useCallback(B=>{D(B),typeof t=="function"&&t(B),S(B),C(B),B!=null&&(I.current=B)},[D,t,S,C]),se=_.useCallback(B=>{j(vD(B)),j(qr({handler:a,reactEvent:B}))},[j,a]),fe=_.useCallback(B=>{j(Uy(B)),j(qr({handler:u,reactEvent:B}))},[j,u]),le=_.useCallback(B=>{j(o2()),j(qr({handler:c,reactEvent:B}))},[j,c]),U=_.useCallback(B=>{j(Uy(B)),j(qr({handler:d,reactEvent:B}))},[j,d]),K=_.useCallback(()=>{j(ED())},[j]),re=_.useCallback(B=>{j(bD(B.key))},[j]),me=_.useCallback(B=>{j(qr({handler:o,reactEvent:B}))},[j,o]),_e=_.useCallback(B=>{j(qr({handler:s,reactEvent:B}))},[j,s]),yt=_.useCallback(B=>{j(qr({handler:l,reactEvent:B}))},[j,l]),je=_.useCallback(B=>{j(qr({handler:p,reactEvent:B}))},[j,p]),zt=_.useCallback(B=>{j(qr({handler:y,reactEvent:B}))},[j,y]),wt=_.useCallback(B=>{E&&j(AD(B)),j(qr({handler:g,reactEvent:B}))},[j,E,g]),Fe=_.useCallback(B=>{j(qr({handler:m,reactEvent:B}))},[j,m]),Wn=kee(b);return _.createElement(A2.Provider,{value:R},_.createElement(mj.Provider,{value:A},_.createElement(Wn,{width:k??(w==null?void 0:w.width),height:O??(w==null?void 0:w.height),className:Ce("recharts-wrapper",n),style:See({position:"relative",cursor:"default",width:k,height:O},w),onClick:se,onContextMenu:me,onDoubleClick:_e,onFocus:K,onKeyDown:re,onMouseDown:yt,onMouseEnter:fe,onMouseLeave:le,onMouseMove:U,onMouseUp:je,onTouchEnd:Fe,onTouchMove:wt,onTouchStart:zt,ref:Q},_.createElement(Iee,null),r)))}),Dee=["width","height","responsive","children","className","style","compact","title","desc"];function Mee(e,t){if(e==null)return{};var r,n,i=Lee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OD=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=Mee(e,Dee),p=wn(d);return l?_.createElement(_.Fragment,null,_.createElement(Sp,{width:r,height:n}),_.createElement(oT,{otherAttributes:p,title:u,desc:c},a)):_.createElement(Ree,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(oT,{otherAttributes:p,title:u,desc:c,ref:t},_.createElement(iZ,null,a)))});function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}var Vee={top:5,right:5,bottom:5,left:5},Fee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$ee=_.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,Fee),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return _.createElement(TD,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},_.createElement(dD,{chartData:u.data}),_.createElement(ID,{layout:i.layout,margin:i.margin}),_.createElement(CD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(OD,By({},i,{ref:r})))}),zee=["axis","item"],jD=_.forwardRef((e,t)=>_.createElement($ee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zee,tooltipPayloadSearcher:T2,categoricalChartProps:e,ref:t}));function Uee(e){var t=Ve();return _.useEffect(()=>{t(cee(e))},[t,e]),null}var Bee=["layout"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function qee(e,t){if(e==null)return{};var r,n,i=Wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kee={top:5,right:5,bottom:5,left:5},ND={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Hee=_.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,ND),{layout:a}=i,o=qee(i,Bee),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(TD,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},_.createElement(dD,{chartData:i.data}),_.createElement(ID,{layout:a,margin:i.margin}),_.createElement(CD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Uee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(OD,qy({},o,{ref:r})))});function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=["item"],Jee=uT(uT({},ND),{},{layout:"centric",startAngle:0,endAngle:360}),Zee=_.forwardRef((e,t)=>{var r=Ft(e,Jee);return _.createElement(Hee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xee,tooltipPayloadSearcher:T2,categoricalChartProps:r,ref:t})});const ete=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(o=>o.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(o=>o.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(o=>o.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(o=>o.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(o=>o.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(o=>o.value>0);return a.length===0?h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx("div",{className:"chart-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})})]}):h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx(r_,{width:"100%",height:300,children:h.jsxs(Zee,{children:[h.jsx(iD,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,value:s,percent:l})=>`${o}: ${s} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:o=>{t(o.status),r()},style:{cursor:"pointer"},children:a.map((o,s)=>h.jsx(hc,{fill:o.fill},`cell-${s}`))}),h.jsx(_x,{formatter:o=>`${o} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),h.jsx(Ip,{})]})})]})};function tte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,o=e.filter(l=>l.status==="cerrada").length,s=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:o}];return h.jsx("div",{className:"incident-stats-container",children:h.jsx("div",{className:"stats-chart",children:h.jsx(r_,{width:"100%",height:300,children:h.jsxs(jD,{data:s,children:[h.jsx(Rx,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),h.jsx(Dx,{dataKey:"name",stroke:"#667eea"}),h.jsx(Mx,{stroke:"#667eea"}),h.jsx(_x,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),h.jsx(Ip,{wrapperStyle:{paddingTop:"20px"}}),h.jsx(Zo,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),h.jsx(Zo,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),h.jsx(Zo,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function rte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?h.jsxs("div",{className:"quick-incidents-container",children:[h.jsx("h3",{children:"Incidencias Pendientes"}),h.jsx("div",{className:"quick-incidents-empty",children:h.jsx("p",{children:" No hay incidencias pendientes"})})]}):h.jsxs("div",{className:"quick-incidents-container",children:[h.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),h.jsx("div",{className:"quick-incidents-list",children:r.map(a=>h.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:o=>{if(o.button===1){o.preventDefault();const s=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(s,"_blank")}},children:[h.jsx("div",{className:"quick-incident-name",children:a.name}),h.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function nte({incidents:e}){const t=()=>{const d=e.filter(m=>m.status==="cerrada");if(d.length===0)return 0;const p=d.reduce((m,g)=>{const y=new Date(g.creationDate),w=new Date(g.updatedAt),x=Math.abs(w.getTime()-y.getTime()),b=Math.ceil(x/(1e3*60*60*24));return m+b},0);return Math.round(p/d.length)},r=()=>({correctivo:e.filter(d=>d.type==="correctivo").length,evolutivo:e.filter(d=>d.type==="evolutivo").length,tarea:e.filter(d=>d.type==="tarea").length}),n=()=>{const d=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===d.getMonth()&&m.getFullYear()===d.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const d=e.filter(p=>p.status==="cerrada").length;return Math.round(d/e.length*100)},a=()=>e.filter(d=>(d.priority==="crtica"||d.priority==="alta")&&d.status!=="cerrada").length,o=t(),s=r(),l=n(),u=i(),c=a();return h.jsxs("div",{className:"metrics-dashboard",children:[h.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),h.jsxs("div",{className:"metrics-grid",children:[h.jsxs("div",{className:"metric-card metric-primary",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:o}),h.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-success",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsxs("div",{className:"metric-value",children:[u,"%"]}),h.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-info",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:l}),h.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),h.jsxs("div",{className:"metric-card metric-warning",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:c}),h.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),h.jsxs("div",{className:"metrics-detail",children:[h.jsx("h3",{children:"Distribucin por Tipo"}),h.jsxs("div",{className:"type-stats",children:[h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Correctivo"}),h.jsx("span",{className:"type-stat-value",children:s.correctivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),h.jsx("span",{className:"type-stat-value",children:s.evolutivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Tarea"}),h.jsx("span",{className:"type-stat-value",children:s.tarea})]})]})]})]})}const ite=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((s,l)=>{const u=e.filter(d=>{const p=new Date(d.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(d=>{const p=new Date(d.updatedAt);return d.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:s,creadas:u,cerradas:c}})})();return h.jsxs("div",{className:"yearly-chart-container",children:[h.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),h.jsx(r_,{width:"100%",height:300,children:h.jsxs(jD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(Rx,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),h.jsx(Dx,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(Mx,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(_x,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),h.jsx(Ip,{}),h.jsx(Zo,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),h.jsx(Zo,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),h.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function ate({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(d=>d.status==="cerrada"?!1:new Date(d.creationDate)<c&&(d.status==="abierta"||d.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(d=>d.status!=="puesto-en-test"&&d.status!=="verificado-en-test"?!1:new Date(d.creationDate)<c)},a=r(),o=n(),s=i(),l=a.length+o.length+s.length;return l===0?null:h.jsxs("div",{className:"alerts-banner",children:[h.jsxs("div",{className:"alerts-header",children:[h.jsx("span",{className:"alerts-icon",children:""}),h.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&h.jsxs("div",{className:"alert-section alert-stale",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:a.length}),h.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),h.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),o.length>0&&h.jsxs("div",{className:"alert-section alert-critical",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:o.length}),h.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),h.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]}),s.length>0&&h.jsxs("div",{className:"alert-section alert-test",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:s.length}),h.jsx("h4",{children:"En Test por ms de 3 das"})]}),h.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]})]})}function kD(){return h.jsxs("div",{className:"logo-container",children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),h.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),h.jsxs("g",{transform:"translate(30, 30)",children:[h.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),h.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),h.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),h.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),h.jsx("div",{className:"logo-text",children:h.jsx("h1",{children:"IncidentAlert"})})]})}function ote({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},d=m=>{m.preventDefault(),i.trim()&&o.trim()&&(r(e,o.trim(),i.trim()),a(""),s(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return h.jsxs(h.Fragment,{children:[l&&Fn.createPortal(h.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:h.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:" Nuevo Comentario"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),h.jsxs("form",{className:"comment-form-modal",onSubmit:d,children:[h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"author",children:"Tu nombre"}),h.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:o,onChange:m=>s(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"comment",children:"Comentario"}),h.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),h.jsxs("div",{className:"comments-section",children:[h.jsxs("div",{className:"comments-header",children:[h.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),h.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),h.jsx("div",{className:"comments-list",children:p.length===0?h.jsxs("div",{className:"no-comments",children:[h.jsx("span",{className:"no-comments-icon",children:""}),h.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>h.jsxs("div",{className:"comment-item",children:[h.jsxs("div",{className:"comment-header",children:[h.jsxs("div",{className:"comment-author",children:[h.jsx("span",{className:"author-icon",children:""}),h.jsx("strong",{children:m.author})]}),h.jsxs("div",{className:"comment-header-right",children:[h.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),h.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function ste({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[o,s]=_.useState(!1),[l,u]=_.useState(""),[c,d]=_.useState(!1),[p,m]=_.useState({show:!1,tag:null}),g=E=>{E.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),s(!1),d(!1))},y=E=>{n(e,E),d(!1)},w=E=>{m({show:!0,tag:E})},x=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),d(!1))};c&&r.filter(E=>!t.includes(E));const b=r;return h.jsxs("div",{className:"tags-manager",children:[h.jsxs("div",{className:"tags-header",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"tags-actions",children:!o&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-add-tag",onClick:()=>s(!0),children:"+ Nueva"}),b.length>0&&h.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",b),d(!c)},children:" Gestionar"})]})})]}),o&&h.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[h.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:E=>u(E.target.value),autoFocus:!0,className:"tag-input"}),h.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),h.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{s(!1),u("")},children:""})]}),c&&b.length>0&&h.jsxs("div",{className:"tag-suggestions",children:[h.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),h.jsx("div",{className:"suggestions-list",children:b.map(E=>h.jsxs("div",{className:"suggestion-item",children:[!t.includes(E)&&h.jsxs("button",{className:"suggestion-tag",onClick:()=>y(E),children:["+ ",E]}),t.includes(E)&&h.jsxs("span",{className:"tag-already-added",children:[" ",E]}),a&&h.jsx("button",{className:"btn-delete-global-tag",onClick:()=>w(E),title:"Eliminar etiqueta del sistema",children:""})]},E))})]}),p.show&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:h.jsxs("div",{className:"delete-modal",onClick:E=>E.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Eliminar Etiqueta"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsxs("p",{children:["Eliminar la etiqueta ",h.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),h.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:x,children:" Eliminar"})]})]})}),h.jsx("div",{className:"tags-list",children:t.length===0?h.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):h.jsx("div",{className:"tags-container",children:t.map(E=>h.jsxs("div",{className:"tag-item",children:[h.jsx("span",{className:"tag-name",children:E}),h.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,E),title:"Eliminar etiqueta",children:""})]},E))})})]})}function lte({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#fbbf24"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#000",E.style.backgroundColor="#fbbf24"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&Fn.createPortal(h.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"qa-modal-header",children:[h.jsx("h2",{children:" Vista Tabla QA"}),h.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"qa-modal-body",children:[h.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),h.jsx("div",{className:"qa-table-container",children:h.jsxs("table",{className:"qa-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Owner"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"qa-modal-actions",children:[h.jsx("button",{className:"btn-copy-qa",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function ute({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=_.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#10b981"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#fff",E.style.backgroundColor="#10b981"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&Fn.createPortal(h.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"main-modal-header",children:[h.jsx("h2",{children:" Vista Tabla MAIN"}),h.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"main-modal-body",children:[h.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),h.jsx("div",{className:"main-table-container",children:h.jsxs("table",{className:"main-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Persona de Contacto"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"main-modal-actions",children:[h.jsx("button",{className:"btn-copy-main",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const cte=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:o,onUpdatePR:s})=>{const[l,u]=_.useState(!1),[c,d]=_.useState(!1),[p,m]=_.useState(null),[g,y]=_.useState(null),w=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),C=S.get("description").trim();A&&(p&&p.type==="qa2"?(s(e,"qa2",p.pr.id,A,C),m(null),y({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",A,C),y({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},x=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),C=S.get("description").trim();A&&(p&&p.type==="main"?(s(e,"main",p.pr.id,A,C),m(null),y({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",A,C),y({type:"success",message:" PR MAIN agregado correctamente"})),d(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},b=(R,S)=>{m({pr:R,type:S}),S==="qa2"?u(!0):d(!0)},E=R=>{m(null),R==="qa2"?u(!1):d(!1)},I=(R,S,A)=>{R.stopPropagation(),o(e,S,A),y({type:"error",message:` PR ${S==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>y(null),3e3)},j=R=>{const S=R.split("/");return S[S.length-1]||R};return h.jsxs(h.Fragment,{children:[g&&h.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[h.jsx("span",{children:g.message}),h.jsx("button",{className:"pr-notification-close",onClick:()=>y(null),children:""})]}),l&&Fn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("qa2"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("qa2"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:w,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),h.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),h.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&h.jsx(lte,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Fn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("main"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("main"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),h.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),h.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&h.jsx(ute,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),h.jsxs("div",{className:"pr-manager",children:[h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs QA2"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:r.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"qa2"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",j(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"qa2",R.id),title:"Eliminar PR",children:""})]},R.id))})]}),h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs MAIN"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>d(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:n.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"main"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",j(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"main",R.id),title:"Eliminar PR",children:""})]},R.id))})]})]})]})};function dte({incident:e,currentUser:t}){const[r,n]=_.useState(!1),[i,a]=_.useState(""),o=u=>!u||u.length===0?"-":u.map(c=>{const d=c.link.split("/");return d[d.length-1]||c.link}).join(", "),s=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),d=document.createElement("p");d.textContent="Buenas, os envo una PR para su subida a PRO",d.style.marginBottom="1rem",c.appendChild(d);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(R=>{R.style.padding="0.75rem 0.5rem",R.style.border="1px solid #e5e7eb",R.style.fontWeight="700",R.style.color="#000",R.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(j=>{j.style.padding="0.75rem 0.5rem",j.style.border="1px solid #e5e7eb",j.style.color="#333",j.style.fontWeight="500",j.style.backgroundColor="white"});const y=p.querySelector('input[type="date"]');if(y){const I=y.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const w=p.querySelector("textarea");if(w){const I=w.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}c.appendChild(p);const x=document.createElement("p");x.textContent="Un saludo, Gracias!",c.appendChild(x),document.body.appendChild(c);const b=document.createRange();b.selectNodeContents(c);const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(b),document.execCommand("copy"),E.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[r&&Fn.createPortal(h.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:h.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[h.jsxs("div",{className:"excel-modal-header",children:[h.jsx("h2",{children:" Vista Previa Excel"}),h.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),h.jsxs("div",{className:"excel-modal-body",children:[h.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),h.jsx("div",{className:"excel-table-container",children:h.jsxs("table",{className:"excel-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"INCIDENCIA/S"}),h.jsx("th",{children:"Estado peticin Incidencias"}),h.jsx("th",{children:"DIA DESPLIEGUE"}),h.jsx("th",{children:"PERSONA CONTACTO"}),h.jsx("th",{children:"DESCRIPCIN"}),h.jsx("th",{children:"DEPENDENCIAS"}),h.jsx("th",{children:"PR PRO"}),h.jsx("th",{children:"PR QA"}),h.jsx("th",{children:"Desplegado"}),h.jsx("th",{children:"PUESTO EXCEL QA"}),h.jsx("th",{children:"TIPO MOV"}),h.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),h.jsx("tbody",{children:h.jsxs("tr",{children:[h.jsx("td",{children:e.name}),h.jsx("td",{children:"Verificado en Test"}),h.jsx("td",{children:h.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),h.jsx("td",{children:t}),h.jsx("td",{children:h.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),h.jsx("td",{children:"NO"}),h.jsx("td",{children:o(e.prMainList)}),h.jsx("td",{children:o(e.prQA2List)}),h.jsx("td",{children:"NO"}),h.jsx("td",{}),h.jsx("td",{children:s(e.type)}),h.jsx("td",{children:"-"})]})})]})}),h.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),h.jsxs("div",{className:"excel-modal-actions",children:[h.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const fte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:d,onUpdatePR:p})=>{const[m,g]=_.useState(e.status),[y,w]=_.useState(e.priority),[x,b]=_.useState(e.type),I=(()=>{const A=st.getUsers().find(C=>C.id===e.userId);return A?A.name:e.contactUser||"Usuario"})(),j=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${e.name}"? Esta accin no se puede deshacer.`)&&(a(e.id),r())},R=S=>{S.preventDefault();const A=new FormData(S.currentTarget),C={...e,name:(A.get("name")||"").trim(),title:(A.get("title")||"").trim(),description:(A.get("description")||"").trim(),contactUser:(A.get("contactUser")||"").trim(),prQA2:(A.get("prQA2")||"").trim(),prMain:(A.get("prMain")||"").trim(),creationDate:A.get("creationDate")||e.creationDate,relevante:(A.get("relevante")||"").trim(),realizado:(A.get("realizado")||"").trim(),clasesModificadas:(A.get("clasesModificadas")||"").trim(),priority:y,status:m,type:x,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",C),t(C)};return h.jsx("div",{className:"incident-detail-container",children:h.jsxs("div",{className:"incident-detail-layout",children:[h.jsx("div",{className:"detail-main-content",children:h.jsxs("div",{className:"incident-detail-card",children:[h.jsxs("div",{className:"incident-header-visual",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),h.jsx("h1",{children:e.name})]}),h.jsx(dte,{incident:e,currentUser:I})]}),h.jsxs("div",{className:"incident-badges",children:[h.jsxs("span",{className:`badge-status status-${e.status}`,children:[e.status==="abierta"&&"",e.status==="en-progreso"&&"",e.status==="puesto-en-test"&&"",e.status==="verificado-en-test"&&"",e.status==="resuelta"&&"",e.status==="cerrada"&&""," ",e.status.replace("-"," ")]}),h.jsxs("span",{className:`badge-priority priority-${e.priority}`,children:[e.priority==="baja"&&"",e.priority==="media"&&"",e.priority==="alta"&&"",e.priority==="crtica"&&""," ",e.priority]}),h.jsxs("span",{className:`badge-type type-${e.type}`,children:[e.type==="correctivo"&&"",e.type==="evolutivo"&&"",e.type==="tarea"&&""," ",e.type]})]})]}),h.jsxs("form",{onSubmit:R,className:"detail-form",children:[h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Editar Informacin"}),h.jsxs("div",{className:"visual-field-group",children:[h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),h.jsx("input",{id:"name",name:"name",type:"text",defaultValue:e.name,placeholder:"MOV-XXXX",required:!0})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),h.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:e.contactUser||"",placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),h.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:e.creationDate})]})]}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",name:"title",type:"text",defaultValue:e.title||"",placeholder:"Ttulo para envo a PRO"})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"description",children:" Descripcin"}),h.jsx("textarea",{id:"description",name:"description",defaultValue:e.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:e.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:e.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:e.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Estado y Clasificacin"}),h.jsxs("div",{className:"chip-selector-container",children:[h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Estado"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="abierta"?"selected":""}`,onClick:()=>g("abierta"),children:" Abierta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="en-progreso"?"selected":""}`,onClick:()=>g("en-progreso"),children:" En Progreso"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="puesto-en-test"?"selected":""}`,onClick:()=>g("puesto-en-test"),children:" En Test"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="verificado-en-test"?"selected":""}`,onClick:()=>g("verificado-en-test"),children:" Verificado"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="resuelta"?"selected":""}`,onClick:()=>g("resuelta"),children:" Resuelta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="cerrada"?"selected":""}`,onClick:()=>g("cerrada"),children:" Cerrada"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Prioridad"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${y==="baja"?"selected":""}`,onClick:()=>w("baja"),children:" Baja"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${y==="media"?"selected":""}`,onClick:()=>w("media"),children:" Media"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${y==="alta"?"selected":""}`,onClick:()=>w("alta"),children:" Alta"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${y==="crtica"?"selected":""}`,onClick:()=>w("crtica"),children:" Crtica"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Tipo"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="correctivo"?"selected":""}`,onClick:()=>b("correctivo"),children:" Correctivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="evolutivo"?"selected":""}`,onClick:()=>b("evolutivo"),children:" Evolutivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${x==="tarea"?"selected":""}`,onClick:()=>b("tarea"),children:" Tarea"})]})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-delete-incident",onClick:j,children:" Eliminar Incidencia"})]})]})]})}),h.jsxs("div",{className:"detail-sidebar",children:[h.jsx("div",{className:"incident-detail-card",children:h.jsx(cte,{incidentId:e.id,incidentName:e.name,prQA2List:e.prQA2List||[],prMainList:e.prMainList||[],ownerName:I,onAddPR:c,onRemovePR:d,onUpdatePR:p})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(ste,{incidentId:e.id,tags:e.tags||[],allAvailableTags:u,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(ote,{incidentId:e.id,comments:e.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},hte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>h.jsxs("div",{className:"tabs-container",children:[h.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),h.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),h.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),h.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(o=>h.jsxs("div",{className:`tab-incident ${n===o.id?"active":""}`,onClick:()=>i==null?void 0:i(o.id),children:[h.jsxs("span",{className:"tab-incident-name",children:[" ",o.name]}),h.jsx("button",{className:"tab-incident-close",onClick:s=>{s.stopPropagation(),a==null||a(o.id)},children:""})]},o.id))]});function pte({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,o]=_.useState(""),[s,l]=_.useState(n?[n]:[]),[u,c]=_.useState([]),[d,p]=_.useState([]),[m,g]=_.useState([]),[y,w]=_.useState(""),[x,b]=_.useState("");_.useEffect(()=>{n&&l([n])},[n]),_.useEffect(()=>{let T=[...e];if(a.trim()){const k=a.toLowerCase();T=T.filter(O=>O.name.toLowerCase().includes(k)||O.contactUser.toLowerCase().includes(k)||O.prQA2.toLowerCase().includes(k)||O.prMain.toLowerCase().includes(k)||O.comments&&O.comments.some(Q=>Q.text.toLowerCase().includes(k)||Q.author.toLowerCase().includes(k)))}s.length>0&&(T=T.filter(k=>s.includes(k.status))),u.length>0&&(T=T.filter(k=>u.includes(k.priority))),d.length>0&&(T=T.filter(k=>d.includes(k.type))),m.length>0&&(T=T.filter(k=>m.some(O=>k.tags&&k.tags.includes(O)))),y&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()>=parseInt(y))),x&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()<=parseInt(x))),t(T)},[a,s,u,d,m,y,x,e,t]);const E=()=>{o(""),l([]),c([]),p([]),g([]),w(""),b(""),t(e),i&&i()},I=()=>{l([]),i&&i()},j=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,R=T=>{l(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},S=T=>{c(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},A=T=>{p(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},C=T=>{g(k=>k.includes(T)?k.filter(O=>O!==T):[...k,T])},D=(a?1:0)+s.length+u.length+d.length+m.length+(y?1:0)+(x?1:0);return h.jsxs("div",{className:"advanced-search",children:[n&&h.jsxs("div",{className:"status-filter-banner",children:[h.jsxs("span",{children:[" Filtrando por estado: ",h.jsx("strong",{children:j(n)})]}),h.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),h.jsx("div",{className:"search-header",children:h.jsx("h3",{children:" Bsqueda Avanzada"})}),h.jsxs("div",{className:"search-main",children:[h.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>o(T.target.value),className:"search-input"}),h.jsxs("button",{className:"btn-reset",onClick:E,children:[" Limpiar Filtros",D>0&&h.jsx("span",{className:"filters-badge-inline",children:D})]})]}),h.jsxs("div",{className:"filters-panel",children:[h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Estado"}),h.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>h.jsxs("button",{className:`filter-chip ${s.includes(T)?"active":""}`,onClick:()=>R(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Prioridad"}),h.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>h.jsxs("button",{className:`filter-chip priority-${T} ${u.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Tipo"}),h.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>h.jsxs("button",{className:`filter-chip ${d.includes(T)?"active":""}`,onClick:()=>A(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Rango de Aos"}),h.jsxs("div",{className:"date-filters",children:[h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Desde:"}),h.jsxs("select",{value:y,onChange:T=>w(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]}),h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Hasta:"}),h.jsxs("select",{value:x,onChange:T=>b(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"filter-chips",children:r.map(T=>h.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>C(T),children:T},T))})]})]})]})}const mte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:o})=>{const[s,l]=_.useState(e||[]),[u,c]=_.useState(""),[d,p]=_.useState("asc"),[m,g]=_.useState({show:!1,incident:null});_.useEffect(()=>{l(e||[])},[e]);const y=S=>{const A=u===S&&d==="asc"?"desc":"asc";c(S),p(A);const C=[...s].sort((D,T)=>{let k=D[S],O=T[S];if((S==="creationDate"||S==="createdAt"||S==="updatedAt")&&(k=new Date(k).getTime(),O=new Date(O).getTime()),typeof k=="string"&&typeof O=="string")return A==="asc"?k.localeCompare(O):O.localeCompare(k);if(k!==void 0&&O!==void 0){if(k<O)return A==="asc"?-1:1;if(k>O)return A==="asc"?1:-1}return 0});l(C)},w=S=>u!==S?"":d==="asc"?"":"",x=S=>new Date(S).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),b=S=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[S]||S,E=S=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[S]||S,I=S=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[S]||S,j=S=>!S||!Array.isArray(S)||S.length===0?"":S.filter(A=>A&&A.link).map(A=>{const C=A.link.split("/");return C[C.length-1]||""}).filter(A=>A).join(", ")||"",R=()=>{const S=O=>{if(O==null)return"";const Q=String(O);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},C=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(O=>S(O)).join(";"),...s.map(O=>[S(O.id),S(O.name),S(b(O.status)),S(E(O.priority)),S(I(O.type)),S(O.contactUser||""),S(O.prQA2||""),S(O.prMain||""),S(O.creationDate),S(x(O.createdAt)),S(x(O.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),k=URL.createObjectURL(D);T.setAttribute("href",k),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?h.jsx("div",{className:"all-incidents-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})}):h.jsxs("div",{className:"all-incidents-table-container",children:[h.jsx("div",{className:"search-sidebar",children:h.jsx(pte,{incidents:e,onResults:l,allAvailableTags:ae.getAllTags(),initialStatus:a,onClearStatusFilter:o})}),h.jsxs("div",{className:"table-content",children:[h.jsxs("div",{className:"table-actions",children:[h.jsxs("p",{className:"filter-results",children:["Mostrando ",s.length," de ",e.length," incidencias"]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&h.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),h.jsx("button",{className:"btn-export-excel",onClick:R,children:" Exportar a Excel"})]})]}),h.jsx("div",{className:"table-wrapper",children:h.jsxs("table",{className:"all-incidents-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsxs("th",{onClick:()=>y("name"),className:"sortable-header col-name",children:["Nombre ",w("name")]}),h.jsxs("th",{onClick:()=>y("status"),className:"sortable-header col-status",children:["Estado ",w("status")]}),h.jsxs("th",{onClick:()=>y("priority"),className:"sortable-header col-priority",children:["Prioridad ",w("priority")]}),h.jsxs("th",{onClick:()=>y("type"),className:"sortable-header col-type",children:["Tipo ",w("type")]}),h.jsxs("th",{onClick:()=>y("contactUser"),className:"sortable-header col-contact",children:["Contacto ",w("contactUser")]}),h.jsxs("th",{onClick:()=>y("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",w("prQA2")]}),h.jsxs("th",{onClick:()=>y("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",w("prMain")]}),h.jsx("th",{className:"col-actions",children:"Acciones"})]})}),h.jsx("tbody",{children:s.map(S=>h.jsxs("tr",{className:`row-priority-${S.priority} incident-row-clickable`,onClick:()=>n(S),onMouseDown:A=>{if(A.button===1){A.preventDefault();const C=`${window.location.origin}${window.location.pathname}?incident=${S.id}`;window.open(C,"_blank")}},children:[h.jsx("td",{className:"name-cell",title:S.name,children:S.name}),h.jsx("td",{title:b(S.status),children:h.jsx("span",{className:`status-badge status-${S.status}`,children:b(S.status)})}),h.jsx("td",{title:E(S.priority),children:h.jsx("span",{className:`priority-badge priority-${S.priority}`,children:E(S.priority)})}),h.jsx("td",{title:I(S.type),children:h.jsx("span",{className:`type-badge type-${S.type}`,children:I(S.type)})}),h.jsx("td",{className:"contact-cell",title:S.contactUser||"",children:S.contactUser||""}),h.jsx("td",{className:"pr-cell",title:j(S.prQA2List),children:j(S.prQA2List)}),h.jsx("td",{className:"pr-cell",title:j(S.prMainList),children:j(S.prMainList)}),h.jsx("td",{className:"actions-cell",onClick:A=>A.stopPropagation(),children:h.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:S}),title:"Eliminar incidencia",children:""})})]},S.id))})]})})]}),m.show&&m.incident&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:h.jsxs("div",{className:"delete-modal",onClick:S=>S.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Confirmar Eliminacin"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),h.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),h.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function gte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=_.useState(!1),[o,s]=_.useState(null),[l,u]=_.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const y={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};o?(r(o.id,y),s(null)):t(y),d()},d=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var y,w,x,b,E;s(g),u({name:g.name,trigger:g.trigger,conditionField:((y=g.conditions[0])==null?void 0:y.field)||"type",conditionOperator:((w=g.conditions[0])==null?void 0:w.operator)||"equals",conditionValue:((x=g.conditions[0])==null?void 0:x.value.toString())||"",actionType:((b=g.actions[0])==null?void 0:b.type)||"set-priority",actionValue:((E=g.actions[0])==null?void 0:E.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return h.jsxs("div",{className:"automation-rules-container",children:[h.jsxs("div",{className:"rules-header",children:[h.jsxs("div",{className:"header-title",children:[h.jsx("h2",{children:" Reglas de Automatizacin"}),h.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),h.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&h.jsx("form",{className:"rule-form",onSubmit:c,children:h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:o?"Editar Regla":"Nueva Regla"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Nombre de la regla"}),h.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),h.jsx("div",{className:"form-row",children:h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Disparador"}),h.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[h.jsx("option",{value:"on-create",children:"Al crear incidencia"}),h.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),h.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),h.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"SI"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Campo"}),h.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[h.jsx("option",{value:"type",children:"Tipo"}),h.jsx("option",{value:"priority",children:"Prioridad"}),h.jsx("option",{value:"status",children:"Estado"}),h.jsx("option",{value:"days-open",children:"Das abierta"}),h.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Operador"}),h.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[h.jsx("option",{value:"equals",children:"Es igual a"}),h.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&h.jsxs(h.Fragment,{children:[h.jsx("option",{value:"greater-than",children:"Mayor que"}),h.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&h.jsx("option",{value:"contains",children:"Contiene"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.conditionField==="type"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?h.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):h.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"ENTONCES"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Accin"}),h.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[h.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),h.jsx("option",{value:"set-status",children:"Cambiar estado"}),h.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),h.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):h.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save-rule",children:o?" Actualizar Regla":" Crear Regla"}),h.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:d,children:"Cancelar"})]})]})}),h.jsx("div",{className:"rules-list",children:e.length===0?h.jsxs("div",{className:"no-rules",children:[h.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),h.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>h.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[h.jsxs("div",{className:"rule-header-card",children:[h.jsxs("div",{className:"rule-info",children:[h.jsx("h3",{children:g.name}),h.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),h.jsxs("div",{className:"rule-actions",children:[h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:g.enabled,onChange:y=>r(g.id,{enabled:y.target.checked})}),h.jsx("span",{className:"toggle-slider"})]}),h.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),h.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),h.jsxs("div",{className:"rule-logic",children:[h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"SI:"}),h.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((y,w)=>h.jsxs("span",{className:"condition-badge",children:[y.field," ",y.operator," ",y.value]},w))})]}),h.jsx("div",{className:"logic-arrow",children:""}),h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"ENTONCES:"}),h.jsx("div",{className:"logic-content",children:(g.actions||[]).map((y,w)=>h.jsxs("span",{className:"action-badge",children:[y.type,": ",y.value]},w))})]})]})]},g.id))})]})}function vte({currentUser:e}){const[t,r]=_.useState(st.getUsers()),[n,i]=_.useState(!1),[a,o]=_.useState(null),[s,l]=_.useState({username:"",password:"",name:""}),[u,c]=_.useState(!1),[d,p]=_.useState(null),m=(E,I)=>{p({type:E,message:I}),setTimeout(()=>p(null),3e3)},g=()=>{l({username:"",password:"",name:""}),i(!1),o(null),c(!1)},y=E=>{if(E.preventDefault(),!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{const I=st.createUser(s.username,s.password,s.name);r(st.getUsers()),m("success",`Usuario "${I.username}" creado correctamente`),g()}catch(I){m("error",I instanceof Error?I.message:"Error al crear usuario")}},w=E=>{if(E.preventDefault(),!!a){if(!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{st.updateUser(a.id,{username:s.username,password:s.password,name:s.name}),r(st.getUsers()),m("success",`Usuario "${s.username}" actualizado correctamente`),g()}catch(I){m("error",I instanceof Error?I.message:"Error al actualizar usuario")}}},x=E=>{o(E),l({username:E.username,password:E.password,name:E.name}),i(!0)},b=E=>{if(E.id===e.id){m("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${E.username}"?`))try{st.deleteUser(E.id),r(st.getUsers()),m("success",`Usuario "${E.username}" eliminado correctamente`)}catch(I){m("error",I instanceof Error?I.message:"Error al eliminar usuario")}};return h.jsxs("div",{className:"user-management",children:[h.jsxs("div",{className:"user-management-header",children:[h.jsx("h3",{children:" Gestin de Usuarios"}),!n&&h.jsx("button",{className:"btn-create-user",onClick:()=>i(!0),children:" Crear Usuario"})]}),d&&h.jsxs("div",{className:`user-notification user-notification-${d.type}`,children:[d.type==="success"?"":""," ",d.message]}),n&&h.jsx("div",{className:"user-form-container",children:h.jsxs("form",{className:"user-form",onSubmit:a?w:y,children:[h.jsx("h4",{children:a?" Editar Usuario":" Nuevo Usuario"}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:s.username,onChange:E=>l({...s,username:E.target.value}),placeholder:"Nombre de usuario",disabled:!!a})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"name",children:"Nombre Completo"}),h.jsx("input",{id:"name",type:"text",value:s.name,onChange:E=>l({...s,name:E.target.value}),placeholder:"Nombre completo del usuario"})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsxs("div",{className:"password-input-wrapper",children:[h.jsx("input",{id:"password",type:u?"text":"password",value:s.password,onChange:E=>l({...s,password:E.target.value}),placeholder:a?"Nueva contrasea":"Contrasea"}),h.jsxs("label",{className:"show-password-toggle",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:E=>c(E.target.checked)}),h.jsx("span",{children:"Mostrar contrasea"})]})]})]}),h.jsxs("div",{className:"user-form-actions",children:[h.jsx("button",{type:"submit",className:"btn-submit",style:{flex:"1 1 0",minWidth:0,width:"auto"},children:a?" Guardar Cambios":" Crear Usuario"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:g,style:{flex:"1 1 0",minWidth:0,width:"auto"},children:" Cancelar"})]})]})}),h.jsxs("div",{className:"users-list",children:[h.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),h.jsx("div",{className:"users-table",children:h.jsxs("table",{children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Usuario"}),h.jsx("th",{children:"Nombre"}),h.jsx("th",{children:"Fecha de Creacin"}),h.jsx("th",{children:"Acciones"})]})}),h.jsx("tbody",{children:t.map(E=>h.jsxs("tr",{className:E.id===e.id?"current-user":"",children:[h.jsx("td",{children:h.jsxs("span",{className:"user-username",children:[E.username,E.id===e.id&&h.jsx("span",{className:"badge-current",children:" (T)"})]})}),h.jsx("td",{children:E.name}),h.jsx("td",{children:new Date(E.createdAt).toLocaleDateString("es-ES")}),h.jsx("td",{children:h.jsxs("div",{className:"user-actions",children:[h.jsx("button",{className:"btn-edit",onClick:()=>x(E),title:"Editar usuario",children:""}),h.jsx("button",{className:"btn-delete",onClick:()=>b(E),disabled:E.id===e.id,title:E.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},E.id))})]})})]})]})}const Wy=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function yte({onThemeChange:e,currentTheme:t}){const[r,n]=_.useState(t),i=a=>{n(a),e(a)};return h.jsxs("div",{className:"appearance-settings",children:[h.jsx("h3",{children:" Apariencia"}),h.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),h.jsx("div",{className:"theme-grid",children:Wy.map(a=>h.jsxs("div",{className:`theme-card ${r===a.id?"active":""}`,onClick:()=>i(a.id),children:[h.jsx("div",{className:"theme-preview",style:{background:a.preview},children:r===a.id&&h.jsx("div",{className:"theme-check",children:""})}),h.jsx("div",{className:"theme-name",children:a.name})]},a.id))}),r!==t&&h.jsx("div",{className:"theme-info",children:h.jsx("p",{children:" Tema aplicado correctamente"})})]})}const Eo={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},pd="app_general_settings";function wte({onSettingsChange:e}){const[t,r]=_.useState(()=>{try{const c=localStorage.getItem(pd);return c?{...Eo,...JSON.parse(c)}:Eo}catch(c){return console.error("Error loading settings:",c),Eo}}),[n,i]=_.useState(null),a=(c,d)=>{const p={...t,[c]:d};r(p),localStorage.setItem(pd,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},o=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(Eo),localStorage.setItem(pd,JSON.stringify(Eo)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},s=()=>{try{const c={incidents:JSON.parse(localStorage.getItem("incidents")||"[]"),comments:JSON.parse(localStorage.getItem("incident_comments")||"{}"),automationRules:JSON.parse(localStorage.getItem("automation_rules")||"[]"),systemTags:JSON.parse(localStorage.getItem("system_tags")||"[]"),users:JSON.parse(localStorage.getItem("users")||"[]"),settings:t,exportDate:new Date().toISOString()},d=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),p=URL.createObjectURL(d),m=document.createElement("a");m.href=p,m.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,m.click(),URL.revokeObjectURL(p),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const d=(m=c.target.files)==null?void 0:m[0];if(!d)return;const p=new FileReader;p.onload=g=>{var y;try{const w=JSON.parse((y=g.target)==null?void 0:y.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(w)){if(!w.every(b=>b.id&&b.name&&b.title&&b.status&&b.priority&&b.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}localStorage.setItem("incidents",JSON.stringify(w))}else w.incidents&&localStorage.setItem("incidents",JSON.stringify(w.incidents)),w.comments&&localStorage.setItem("incident_comments",JSON.stringify(w.comments)),w.automationRules&&localStorage.setItem("automation_rules",JSON.stringify(w.automationRules)),w.systemTags&&localStorage.setItem("system_tags",JSON.stringify(w.systemTags)),w.users&&localStorage.setItem("users",JSON.stringify(w.users)),w.settings&&(r({...Eo,...w.settings}),localStorage.setItem(pd,JSON.stringify(w.settings)));i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(w){console.error("Import error:",w),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(d)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return h.jsxs("div",{className:"general-settings",children:[n&&h.jsx("div",{className:"settings-notification",children:n}),h.jsxs("div",{className:"settings-header",children:[h.jsx("h2",{children:" Configuracin General"}),h.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),h.jsxs("div",{className:"settings-sections",children:[h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Interfaz"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),h.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),h.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[h.jsx("option",{value:"2000",children:"2 segundos"}),h.jsx("option",{value:"3000",children:"3 segundos"}),h.jsx("option",{value:"4000",children:"4 segundos"}),h.jsx("option",{value:"5000",children:"5 segundos"}),h.jsx("option",{value:"7000",children:"7 segundos"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),h.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),h.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[h.jsx("option",{value:"5",children:"5"}),h.jsx("option",{value:"10",children:"10"}),h.jsx("option",{value:"20",children:"20"}),h.jsx("option",{value:"50",children:"50"}),h.jsx("option",{value:"100",children:"100"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Vista compacta"}),h.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{children:[h.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),h.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),h.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Valores por Defecto"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Formato de fecha"}),h.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),h.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[h.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),h.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),h.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),h.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),h.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Comportamiento"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Autoguardado"}),h.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),h.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"15000",children:"15 segundos"}),h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"0",children:"Desactivado"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),h.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),h.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),h.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),h.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Gestin de Datos"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Exportar datos"}),h.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),h.jsx("button",{className:"btn-export",onClick:s,children:" Exportar Todo"})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Importar datos"}),h.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),h.jsxs("label",{className:"btn-import",children:[" Importar",h.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),h.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),h.jsx("button",{className:"btn-reset",onClick:o,children:" Restaurar"})]}),h.jsxs("div",{className:"setting-item danger-zone",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:" Zona de peligro"}),h.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),h.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function _te({onLogin:e}){const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,o]=_.useState(!1),[s,l]=_.useState("");_.useEffect(()=>{const c=localStorage.getItem("saved_username"),d=localStorage.getItem("saved_password");c&&d&&(r(c),i(d),o(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const d=await z$(t.toLowerCase());d&&d.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(d)),e(d)):l("Usuario o contrasea incorrectos")}catch(d){console.error("Error durante login:",d),l("Error al iniciar sesin. Intenta nuevamente.")}};return h.jsx("div",{className:"login-container",children:h.jsxs("div",{className:"login-card",children:[h.jsxs("div",{className:"login-header",children:[h.jsx(kD,{}),h.jsx("h1",{children:"Sistema de Incidencias"}),h.jsx("p",{children:"Inicia sesin para continuar"})]}),h.jsxs("form",{className:"login-form",onSubmit:u,children:[s&&h.jsxs("div",{className:"login-error",children:[" ",s]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),h.jsx("div",{className:"login-remember",children:h.jsxs("label",{className:"remember-checkbox",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:c=>o(c.target.checked)}),h.jsx("span",{children:"Guardar credenciales"})]})}),h.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function xte(){const[e,t]=_.useState(null),[r,n]=_.useState([]),[i,a]=_.useState([]),[o,s]=_.useState(null),[l,u]=_.useState(null),[c,d]=_.useState("dashboard"),[p,m]=_.useState("automation"),[g,y]=_.useState(null),[w,x]=_.useState(()=>localStorage.getItem("app_theme")||"purple-gradient"),[b,E]=_.useState([]),[I,j]=_.useState(null),[R,S]=_.useState(!1),[A,C]=_.useState(!1),D=e?r.filter(z=>z.userId===e.id):[],T=z=>{try{console.log("Changing tab to:",z),S(!0),setTimeout(()=>{d(z),S(!1)},100)}catch(G){console.error("Error changing tab:",G),S(!1)}},k=z=>{S(!0),setTimeout(()=>{b.find(G=>G.id===z.id)||E([...b,z]),y(z),d("incident-detail"),S(!1)},100)};_.useEffect(()=>{(async()=>{try{await G$();const ie=st.getCurrentUser();t(ie);const ce=await q$();a(ce);const Xt=new URLSearchParams(window.location.search).get("incident");if(Xt){const We=await cj(Xt);We&&(y(We),d("incident-detail"))}}catch(ie){console.error("Error loading data:",ie),j({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const G=H$(ie=>{if(console.log("Incidencias actualizadas en tiempo real:",ie),n(ie),g){const ce=ie.find(Oe=>Oe.id===g.id);ce&&y(ce)}});return()=>{G()}},[]),_.useEffect(()=>{if(I){const z=setTimeout(()=>{j(null)},4e3);return()=>clearTimeout(z)}},[I]);const O=async z=>{try{const G={...z,userId:e.id},ie=ae.applyAutomationRules(G,"on-create");await V$(ie),j({type:"success",message:` Incidencia "${z.name}" creada correctamente`,incidentId:z.id})}catch(G){console.error("Error adding incident:",G),j({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},Q=async z=>{console.log("handleUpdateIncident llamado con:",z);try{await dj(z.id,z),s(null),console.log("Mostrando notificacin"),j({type:"success",message:` Incidencia "${z.name}" actualizada correctamente`,incidentId:z.id})}catch(G){console.error("Error updating incident:",G),j({type:"error",message:"Error al actualizar la incidencia."})}},se=async z=>{try{await F$(z),E(b.filter(G=>G.id!==z)),(g==null?void 0:g.id)===z&&(y(null),d("all-incidents"))}catch(G){console.error("Error deleting incident:",G),j({type:"error",message:"Error al eliminar la incidencia."})}},fe=z=>{const G=b.find(ie=>ie.id===z);G&&(y(G),d("incident-detail"))},le=z=>{E(b.filter(G=>G.id!==z)),(g==null?void 0:g.id)===z&&(y(null),d("all-incidents"))},U=async(z,G,ie)=>{try{const ce={incidentId:z,author:G,text:ie,timestamp:new Date().toISOString()};await B$(ce)}catch(ce){console.error("Error adding comment:",ce)}},K=(z,G)=>{const ie=ae.deleteComment(z,G);if(n(ie),g&&g.id===z){const ce=ie.find(Oe=>Oe.id===z);ce&&y(ce)}},re=(z,G)=>{const ie=ae.addTag(z,G);if(n(ie),g&&g.id===z){const ce=ie.find(Oe=>Oe.id===z);ce&&y(ce)}},me=(z,G)=>{const ie=ae.removeTag(z,G);if(n(ie),g&&g.id===z){const ce=ie.find(Oe=>Oe.id===z);ce&&y(ce)}},_e=()=>ae.getAllTags(),yt=z=>{const G=ae.deleteTagFromAllIncidents(z);if(n(G),g){const ie=G.find(ce=>ce.id===g.id);ie&&y(ie)}j({type:"success",message:` Etiqueta "${z}" eliminada de todas las incidencias`})},je=(z,G,ie,ce)=>{const Oe=ae.addPR(z,G,ie,ce);if(n(Oe),g&&g.id===z){const Xt=Oe.find(We=>We.id===z);Xt&&y(Xt)}},zt=(z,G,ie)=>{const ce=ae.removePR(z,G,ie);if(n(ce),g&&g.id===z){const Oe=ce.find(Xt=>Xt.id===z);Oe&&y(Oe)}},wt=(z,G,ie,ce,Oe)=>{const Xt=ae.updatePR(z,G,ie,ce,Oe);if(n(Xt),g&&g.id===z){const We=Xt.find(Ut=>Ut.id===z);We&&y(We)}},Fe=z=>{const G=ae.addAutomationRule(z);a(G)},Wn=(z,G)=>{const ie=ae.updateAutomationRule(z,G);a(ie)},B=z=>{const G=ae.deleteAutomationRule(z);a(G)},he=z=>{x(z),localStorage.setItem("app_theme",z);const G=Wy.find(ie=>ie.id===z);G&&document.documentElement.style.setProperty("--app-background",G.gradient)};_.useEffect(()=>{const z=Wy.find(G=>G.id===w);z&&document.documentElement.style.setProperty("--app-background",z.gradient)},[w]);const ve=z=>{t(z)},q=()=>{st.logout(),t(null),y(null),E([]),d("dashboard")};return e?h.jsxs("div",{className:"app-container",children:[h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"app-header-content",children:h.jsx(kD,{})}),h.jsxs("div",{className:"app-header-actions",children:[h.jsxs("div",{className:"user-info",children:[h.jsxs("span",{className:"user-name",children:[" ",e.name]}),h.jsx("button",{className:"btn-logout",onClick:q,title:"Cerrar sesin",children:" Salir"})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>C(!A),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Alertas"}),D.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length>0&&h.jsx("span",{className:"alerts-count",children:D.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>T("settings"),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),I&&h.jsxs("div",{className:`notification-banner notification-${I.type}`,children:[h.jsx("span",{children:I.message}),h.jsxs("div",{className:"notification-actions",children:[I.type==="success"&&I.incidentId&&h.jsx("button",{className:"notification-view",onClick:()=>{const z=D.find(G=>G.id===I.incidentId);z&&(y(z),d("incident-detail")),j(null)},"aria-label":"Ver incidencia",children:" Ver"}),h.jsx("button",{className:"notification-close",onClick:()=>j(null),"aria-label":"Cerrar notificacin",children:""})]})]}),h.jsx(hte,{activeTab:c,onTabChange:T,openIncidents:b.map(z=>({id:z.id,name:z.name})),selectedIncidentId:g==null?void 0:g.id,onSelectIncident:fe,onCloseIncident:le}),A&&h.jsx("div",{className:"alerts-modal",children:h.jsxs("div",{className:"alerts-modal-content",children:[h.jsxs("div",{className:"alerts-modal-header",children:[h.jsx("h3",{children:" Alertas"}),h.jsx("button",{className:"alerts-modal-close",onClick:()=>C(!1),children:""})]}),h.jsx(ate,{incidents:D,onViewIncident:z=>{k(z),C(!1)}})]})}),c==="dashboard"?h.jsx("main",{className:"app-main dashboard-transition",children:h.jsxs("div",{className:"app-content",children:[h.jsxs("div",{className:"form-section",children:[h.jsx(nte,{incidents:D}),h.jsx(rte,{incidents:D,onViewDetail:k})]}),h.jsxs("div",{className:"list-section",children:[h.jsx(ete,{incidents:D,onStatusClick:u,onNavigateToList:()=>d("all-incidents")}),h.jsx(ite,{incidents:D}),h.jsx(tte,{incidents:D})]})]})}):c==="new-incident"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"new-incident-section",children:h.jsx("div",{className:"form-section-centered",children:h.jsx(Q$,{onAdd:O})})})}):c==="incident-detail"&&g?h.jsx("main",{className:"incident-detail-main",children:h.jsx(fte,{incident:g,onUpdate:Q,onAddComment:U,onDeleteComment:K,onDelete:se,onAddTag:re,onRemoveTag:me,onDeleteTagGlobally:yt,allAvailableTags:_e(),onAddPR:je,onRemovePR:zt,onUpdatePR:wt,onBack:()=>{y(null),d("all-incidents")}})}):c==="settings"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsxs("div",{className:"settings-container",children:[h.jsxs("div",{className:"settings-sidebar",children:[h.jsx("h2",{children:" Ajustes"}),h.jsxs("div",{className:"settings-menu",children:[h.jsxs("button",{className:`settings-menu-item ${p==="automation"?"active":""}`,onClick:()=>m("automation"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Automatizacin"})]}),e&&e.username==="admin"&&h.jsxs("button",{className:`settings-menu-item ${p==="users"?"active":""}`,onClick:()=>m("users"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Usuarios"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="appearance"?"active":""}`,onClick:()=>m("appearance"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Apariencia"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="general"?"active":""}`,onClick:()=>m("general"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"General"})]})]})]}),h.jsx("div",{className:"settings-content",children:p==="automation"?h.jsx(gte,{rules:i,onAddRule:Fe,onUpdateRule:Wn,onDeleteRule:B}):p==="users"&&e&&e.username==="admin"?h.jsx(vte,{currentUser:e}):p==="appearance"?h.jsx(yte,{currentTheme:w,onThemeChange:he}):p==="general"?h.jsx(wte,{}):null})]})}):h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"all-incidents-section",children:h.jsx(mte,{incidents:D,onEdit:s,onDelete:se,onViewDetail:k,onNewIncident:()=>T("new-incident"),selectedStatus:l,onClearFilter:()=>u(null)})})}),o&&h.jsx(Y$,{incident:o,onSave:Q,onCancel:()=>s(null)})]}):h.jsx(_te,{onLogin:ve})}Cg.createRoot(document.getElementById("root")).render(h.jsx(_T.StrictMode,{children:h.jsx(xte,{})}));
