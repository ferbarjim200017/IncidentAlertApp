var yM=Object.defineProperty;var wM=(e,t,r)=>t in e?yM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tm=(e,t,r)=>wM(e,typeof t!="symbol"?t+"":t,r);function _M(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function bi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wT={exports:{}},_h={},_T={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),xM=Symbol.for("react.portal"),bM=Symbol.for("react.fragment"),EM=Symbol.for("react.strict_mode"),SM=Symbol.for("react.profiler"),AM=Symbol.for("react.provider"),PM=Symbol.for("react.context"),TM=Symbol.for("react.forward_ref"),CM=Symbol.for("react.suspense"),IM=Symbol.for("react.memo"),jM=Symbol.for("react.lazy"),Bb=Symbol.iterator;function OM(e){return e===null||typeof e!="object"?null:(e=Bb&&e[Bb]||e["@@iterator"],typeof e=="function"?e:null)}var xT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bT=Object.assign,ET={};function Cs(e,t,r){this.props=e,this.context=t,this.refs=ET,this.updater=r||xT}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ST(){}ST.prototype=Cs.prototype;function Zy(e,t,r){this.props=e,this.context=t,this.refs=ET,this.updater=r||xT}var Jy=Zy.prototype=new ST;Jy.constructor=Zy;bT(Jy,Cs.prototype);Jy.isPureReactComponent=!0;var qb=Array.isArray,AT=Object.prototype.hasOwnProperty,e0={current:null},PT={key:!0,ref:!0,__self:!0,__source:!0};function TT(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)AT.call(t,n)&&!PT.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Du,type:e,key:a,ref:o,props:i,_owner:e0.current}}function NM(e,t){return{$$typeof:Du,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function t0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Du}function kM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wb=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kM(""+e.key):t.toString(36)}function vd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Du:case xM:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Cm(o,0):n,qb(i)?(r="",e!=null&&(r=e.replace(Wb,"$&/")+"/"),vd(i,t,r,"",function(u){return u})):i!=null&&(t0(i)&&(i=NM(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",qb(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Cm(a,s);o+=vd(a,t,r,l,i)}else if(l=OM(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Cm(a,s++),o+=vd(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(e,t,r){if(e==null)return e;var n=[],i=0;return vd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function RM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},yd={transition:null},DM={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:yd,ReactCurrentOwner:e0};function CT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Oc,forEach:function(e,t,r){Oc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oc(e,function(){t++}),t},toArray:function(e){return Oc(e,function(t){return t})||[]},only:function(e){if(!t0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Cs;ge.Fragment=bM;ge.Profiler=SM;ge.PureComponent=Zy;ge.StrictMode=EM;ge.Suspense=CM;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DM;ge.act=CT;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bT({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=e0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)AT.call(t,l)&&!PT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Du,type:e.type,key:i,ref:a,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:PM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AM,_context:e},e.Consumer=e};ge.createElement=TT;ge.createFactory=function(e){var t=TT.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:TM,render:e}};ge.isValidElement=t0;ge.lazy=function(e){return{$$typeof:jM,_payload:{_status:-1,_result:e},_init:RM}};ge.memo=function(e,t){return{$$typeof:IM,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=yd.transition;yd.transition={};try{e()}finally{yd.transition=t}};ge.unstable_act=CT;ge.useCallback=function(e,t){return mr.current.useCallback(e,t)};ge.useContext=function(e){return mr.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};ge.useEffect=function(e,t){return mr.current.useEffect(e,t)};ge.useId=function(){return mr.current.useId()};ge.useImperativeHandle=function(e,t,r){return mr.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return mr.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return mr.current.useReducer(e,t,r)};ge.useRef=function(e){return mr.current.useRef(e)};ge.useState=function(e){return mr.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return mr.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return mr.current.useTransition()};ge.version="18.3.1";_T.exports=ge;var x=_T.exports;const IT=bi(x),MM=_M({__proto__:null,default:IT},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM=x,VM=Symbol.for("react.element"),FM=Symbol.for("react.fragment"),$M=Object.prototype.hasOwnProperty,zM=LM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UM={key:!0,ref:!0,__self:!0,__source:!0};function jT(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$M.call(t,n)&&!UM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:VM,type:e,key:a,ref:o,props:i,_owner:zM.current}}_h.Fragment=FM;_h.jsx=jT;_h.jsxs=jT;wT.exports=_h;var h=wT.exports,Rg={},OT={exports:{}},zr={},NT={exports:{}},kT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var pe=ne-1>>>1,_e=U[pe];if(0<i(_e,K))U[pe]=K,U[ne]=_e,ne=pe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var pe=0,_e=U.length,wt=_e>>>1;pe<wt;){var Ne=2*(pe+1)-1,Bt=U[Ne],_t=Ne+1,$e=U[_t];if(0>i(Bt,ne))_t<_e&&0>i($e,Bt)?(U[pe]=$e,U[_t]=ne,pe=_t):(U[pe]=Bt,U[Ne]=ne,pe=Ne);else if(_t<_e&&0>i($e,ne))U[pe]=$e,U[_t]=ne,pe=_t;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function C(U){if(y=!1,E(U),!g)if(r(l)!==null)g=!0,de(O);else{var K=r(u);K!==null&&le(C,K.startTime-U)}}function O(U,K){g=!1,y&&(y=!1,_(A),A=-1),m=!0;var ne=p;try{for(E(K),d=r(l);d!==null&&(!(d.expirationTime>K)||U&&!T());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var _e=pe(d.expirationTime<=K);K=e.unstable_now(),typeof _e=="function"?d.callback=_e:d===r(l)&&n(l),E(K)}else n(l);d=r(l)}if(d!==null)var wt=!0;else{var Ne=r(u);Ne!==null&&le(C,Ne.startTime-K),wt=!1}return wt}finally{d=null,p=ne,m=!1}}var R=!1,S=null,A=-1,I=5,D=-1;function T(){return!(e.unstable_now()-D<I)}function k(){if(S!==null){var U=e.unstable_now();D=U;var K=!0;try{K=S(!0,U)}finally{K?j():(R=!1,S=null)}}else R=!1}var j;if(typeof b=="function")j=function(){b(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=k,j=function(){se.postMessage(null)}}else j=function(){w(k,0)};function de(U){S=U,R||(R=!0,j())}function le(U,K){A=w(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,de(O))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},e.unstable_scheduleCallback=function(U,K,ne){var pe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ne+_e,U={id:c++,callback:K,priorityLevel:U,startTime:ne,expirationTime:_e,sortIndex:-1},ne>pe?(U.sortIndex=ne,t(u,U),r(l)===null&&U===r(u)&&(y?(_(A),A=-1):y=!0,le(C,ne-pe))):(U.sortIndex=_e,t(l,U),g||m||(g=!0,de(O))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})(kT);NT.exports=kT;var BM=NT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM=x,Fr=BM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RT=new Set,Ql={};function fo(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Ql[e]=t,e=0;e<t.length;e++)RT.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=Object.prototype.hasOwnProperty,WM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kb={},Hb={};function KM(e){return Dg.call(Hb,e)?!0:Dg.call(Kb,e)?!1:WM.test(e)?Hb[e]=!0:(Kb[e]=!0,!1)}function HM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GM(e,t,r,n){if(t===null||typeof t>"u"||HM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var r0=/[\-:]([a-z])/g;function n0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(r0,n0);Yt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(r0,n0);Yt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(r0,n0);Yt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function i0(e,t,r,n){var i=Yt.hasOwnProperty(t)?Yt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GM(t,r,i,n)&&(r=null),n||i===null?KM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ei=qM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),DT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),LT=Symbol.for("react.offscreen"),Gb=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=Gb&&e[Gb]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Im;function El(e){if(Im===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Im=t&&t[1]||""}return`
`+Im+e}var jm=!1;function Om(e,t){if(!e||jm)return"";jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{jm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?El(e):""}function QM(e){switch(e.tag){case 5:return El(e.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function Fg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ro:return"Fragment";case ko:return"Portal";case Mg:return"Profiler";case a0:return"StrictMode";case Lg:return"Suspense";case Vg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MT:return(e.displayName||"Context")+".Consumer";case DT:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case s0:return t=e.displayName||null,t!==null?t:Fg(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return Fg(e(t))}catch{}}return null}function YM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(t);case 8:return t===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XM(e){var t=VT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){e._valueTracker||(e._valueTracker=XM(e))}function FT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $d(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $g(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $T(e,t){t=t.checked,t!=null&&i0(e,"checked",t,!1)}function zg(e,t){$T(e,t);var r=sa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ug(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ug(e,t.type,sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ug(e,t,r){(t!=="number"||$d(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sl=Array.isArray;function Ho(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sa(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Sl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sa(r)}}function zT(e,t){var r=sa(t.value),n=sa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rc,BT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZM=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){ZM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function qT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function WT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var JM=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(e,t){if(t){if(JM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Kg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function l0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gg=null,Go=null,Qo=null;function Jb(e){if(e=Vu(e)){if(typeof Gg!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Ah(t),Gg(e.stateNode,e.type,t))}}function KT(e){Go?Qo?Qo.push(e):Qo=[e]:Go=e}function HT(){if(Go){var e=Go,t=Qo;if(Qo=Go=null,Jb(e),t)for(e=0;e<t.length;e++)Jb(t[e])}}function GT(e,t){return e(t)}function QT(){}var Nm=!1;function YT(e,t,r){if(Nm)return e(t,r);Nm=!0;try{return GT(e,t,r)}finally{Nm=!1,(Go!==null||Qo!==null)&&(QT(),HT())}}function Xl(e,t){var r=e.stateNode;if(r===null)return null;var n=Ah(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Qg=!1;if(si)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Qg=!1}function eL(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Dl=!1,zd=null,Ud=!1,Yg=null,tL={onError:function(e){Dl=!0,zd=e}};function rL(e,t,r,n,i,a,o,s,l){Dl=!1,zd=null,eL.apply(tL,arguments)}function nL(e,t,r,n,i,a,o,s,l){if(rL.apply(this,arguments),Dl){if(Dl){var u=zd;Dl=!1,zd=null}else throw Error(W(198));Ud||(Ud=!0,Yg=u)}}function ho(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eE(e){if(ho(e)!==e)throw Error(W(188))}function iL(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return eE(i),e;if(a===n)return eE(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function ZT(e){return e=iL(e),e!==null?JT(e):null}function JT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JT(e);if(t!==null)return t;e=e.sibling}return null}var eC=Fr.unstable_scheduleCallback,tE=Fr.unstable_cancelCallback,aL=Fr.unstable_shouldYield,oL=Fr.unstable_requestPaint,ct=Fr.unstable_now,sL=Fr.unstable_getCurrentPriorityLevel,u0=Fr.unstable_ImmediatePriority,tC=Fr.unstable_UserBlockingPriority,Bd=Fr.unstable_NormalPriority,lL=Fr.unstable_LowPriority,rC=Fr.unstable_IdlePriority,xh=null,Rn=null;function uL(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:fL,cL=Math.log,dL=Math.LN2;function fL(e){return e>>>=0,e===0?32:31-(cL(e)/dL|0)|0}var Dc=64,Mc=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Al(s):(a&=o,a!==0&&(n=Al(a)))}else o=r&~i,o!==0?n=Al(o):a!==0&&(n=Al(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gn(t),i=1<<r,n|=e[r],t&=~i;return n}function hL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-gn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=hL(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nC(){var e=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),e}function km(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=r}function mL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-gn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function c0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var je=0;function iC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aC,d0,oC,sC,lC,Zg=!1,Lc=[],Gi=null,Qi=null,Yi=null,Zl=new Map,Jl=new Map,Ui=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rE(e,t){switch(e){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function ul(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Vu(t),t!==null&&d0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vL(e,t,r,n,i){switch(t){case"focusin":return Gi=ul(Gi,e,t,r,n,i),!0;case"dragenter":return Qi=ul(Qi,e,t,r,n,i),!0;case"mouseover":return Yi=ul(Yi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Zl.set(a,ul(Zl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Jl.set(a,ul(Jl.get(a)||null,e,t,r,n,i)),!0}return!1}function uC(e){var t=La(e.target);if(t!==null){var r=ho(t);if(r!==null){if(t=r.tag,t===13){if(t=XT(r),t!==null){e.blockedOn=t,lC(e.priority,function(){oC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return t=Vu(r),t!==null&&d0(t),e.blockedOn=r,!1;t.shift()}return!0}function nE(e,t,r){wd(e)&&r.delete(t)}function yL(){Zg=!1,Gi!==null&&wd(Gi)&&(Gi=null),Qi!==null&&wd(Qi)&&(Qi=null),Yi!==null&&wd(Yi)&&(Yi=null),Zl.forEach(nE),Jl.forEach(nE)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zg||(Zg=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,yL)))}function eu(e){function t(i){return cl(i,e)}if(0<Lc.length){cl(Lc[0],e);for(var r=1;r<Lc.length;r++){var n=Lc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gi!==null&&cl(Gi,e),Qi!==null&&cl(Qi,e),Yi!==null&&cl(Yi,e),Zl.forEach(t),Jl.forEach(t),r=0;r<Ui.length;r++)n=Ui[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ui.length&&(r=Ui[0],r.blockedOn===null);)uC(r),r.blockedOn===null&&Ui.shift()}var Yo=Ei.ReactCurrentBatchConfig,Wd=!0;function wL(e,t,r,n){var i=je,a=Yo.transition;Yo.transition=null;try{je=1,f0(e,t,r,n)}finally{je=i,Yo.transition=a}}function _L(e,t,r,n){var i=je,a=Yo.transition;Yo.transition=null;try{je=4,f0(e,t,r,n)}finally{je=i,Yo.transition=a}}function f0(e,t,r,n){if(Wd){var i=Jg(e,t,r,n);if(i===null)Bm(e,t,n,Kd,r),rE(e,n);else if(vL(i,e,t,r,n))n.stopPropagation();else if(rE(e,n),t&4&&-1<gL.indexOf(e)){for(;i!==null;){var a=Vu(i);if(a!==null&&aC(a),a=Jg(e,t,r,n),a===null&&Bm(e,t,n,Kd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Bm(e,t,n,null,r)}}var Kd=null;function Jg(e,t,r,n){if(Kd=null,e=l0(n),e=La(e),e!==null)if(t=ho(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kd=e,null}function cC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sL()){case u0:return 1;case tC:return 4;case Bd:case lL:return 16;case rC:return 536870912;default:return 16}default:return 16}}var Wi=null,h0=null,_d=null;function dC(){if(_d)return _d;var e,t=h0,r=t.length,n,i="value"in Wi?Wi.value:Wi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return _d=i.slice(e,1<n?1-n:void 0)}function xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vc(){return!0}function iE(){return!1}function Ur(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vc:iE,this.isPropagationStopped=iE,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),t}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p0=Ur(Is),Lu=tt({},Is,{view:0,detail:0}),xL=Ur(Lu),Rm,Dm,dl,bh=tt({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(Rm=e.screenX-dl.screenX,Dm=e.screenY-dl.screenY):Dm=Rm=0,dl=e),Rm)},movementY:function(e){return"movementY"in e?e.movementY:Dm}}),aE=Ur(bh),bL=tt({},bh,{dataTransfer:0}),EL=Ur(bL),SL=tt({},Lu,{relatedTarget:0}),Mm=Ur(SL),AL=tt({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),PL=Ur(AL),TL=tt({},Is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CL=Ur(TL),IL=tt({},Is,{data:0}),oE=Ur(IL),jL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NL[e])?!!t[e]:!1}function m0(){return kL}var RL=tt({},Lu,{key:function(e){if(e.key){var t=jL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m0,charCode:function(e){return e.type==="keypress"?xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DL=Ur(RL),ML=tt({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sE=Ur(ML),LL=tt({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m0}),VL=Ur(LL),FL=tt({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=Ur(FL),zL=tt({},bh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UL=Ur(zL),BL=[9,13,27,32],g0=si&&"CompositionEvent"in window,Ml=null;si&&"documentMode"in document&&(Ml=document.documentMode);var qL=si&&"TextEvent"in window&&!Ml,fC=si&&(!g0||Ml&&8<Ml&&11>=Ml),lE=" ",uE=!1;function hC(e,t){switch(e){case"keyup":return BL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Do=!1;function WL(e,t){switch(e){case"compositionend":return pC(t);case"keypress":return t.which!==32?null:(uE=!0,lE);case"textInput":return e=t.data,e===lE&&uE?null:e;default:return null}}function KL(e,t){if(Do)return e==="compositionend"||!g0&&hC(e,t)?(e=dC(),_d=h0=Wi=null,Do=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fC&&t.locale!=="ko"?null:t.data;default:return null}}var HL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HL[e.type]:t==="textarea"}function mC(e,t,r,n){KT(n),t=Hd(t,"onChange"),0<t.length&&(r=new p0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ll=null,tu=null;function GL(e){PC(e,0)}function Eh(e){var t=Vo(e);if(FT(t))return e}function QL(e,t){if(e==="change")return t}var gC=!1;if(si){var Lm;if(si){var Vm="oninput"in document;if(!Vm){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),Vm=typeof dE.oninput=="function"}Lm=Vm}else Lm=!1;gC=Lm&&(!document.documentMode||9<document.documentMode)}function fE(){Ll&&(Ll.detachEvent("onpropertychange",vC),tu=Ll=null)}function vC(e){if(e.propertyName==="value"&&Eh(tu)){var t=[];mC(t,tu,e,l0(e)),YT(GL,t)}}function YL(e,t,r){e==="focusin"?(fE(),Ll=t,tu=r,Ll.attachEvent("onpropertychange",vC)):e==="focusout"&&fE()}function XL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eh(tu)}function ZL(e,t){if(e==="click")return Eh(t)}function JL(e,t){if(e==="input"||e==="change")return Eh(t)}function eV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:eV;function ru(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Dg.call(t,i)||!wn(e[i],t[i]))return!1}return!0}function hE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pE(e,t){var r=hE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hE(r)}}function yC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wC(){for(var e=window,t=$d();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$d(e.document)}return t}function v0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tV(e){var t=wC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yC(r.ownerDocument.documentElement,r)){if(n!==null&&v0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=pE(r,a);var o=pE(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rV=si&&"documentMode"in document&&11>=document.documentMode,Mo=null,ev=null,Vl=null,tv=!1;function mE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tv||Mo==null||Mo!==$d(n)||(n=Mo,"selectionStart"in n&&v0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vl&&ru(Vl,n)||(Vl=n,n=Hd(ev,"onSelect"),0<n.length&&(t=new p0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mo)))}function Fc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lo={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},Fm={},_C={};si&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Sh(e){if(Fm[e])return Fm[e];if(!Lo[e])return e;var t=Lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _C)return Fm[e]=t[r];return e}var xC=Sh("animationend"),bC=Sh("animationiteration"),EC=Sh("animationstart"),SC=Sh("transitionend"),AC=new Map,gE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(e,t){AC.set(e,t),fo(t,[e])}for(var $m=0;$m<gE.length;$m++){var zm=gE[$m],nV=zm.toLowerCase(),iV=zm[0].toUpperCase()+zm.slice(1);va(nV,"on"+iV)}va(xC,"onAnimationEnd");va(bC,"onAnimationIteration");va(EC,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(SC,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function vE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nL(n,t,void 0,e),e.currentTarget=null}function PC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;vE(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;vE(i,s,u),a=l}}}if(Ud)throw e=Yg,Ud=!1,Yg=null,e}function Ue(e,t){var r=t[ov];r===void 0&&(r=t[ov]=new Set);var n=e+"__bubble";r.has(n)||(TC(t,e,2,!1),r.add(n))}function Um(e,t,r){var n=0;t&&(n|=4),TC(r,e,n,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[$c]){e[$c]=!0,RT.forEach(function(r){r!=="selectionchange"&&(aV.has(r)||Um(r,!1,e),Um(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Um("selectionchange",!1,t))}}function TC(e,t,r,n){switch(cC(t)){case 1:var i=wL;break;case 4:i=_L;break;default:i=f0}r=i.bind(null,t,r,e),i=void 0,!Qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Bm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=La(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}YT(function(){var u=a,c=l0(r),d=[];e:{var p=AC.get(e);if(p!==void 0){var m=p0,g=e;switch(e){case"keypress":if(xd(r)===0)break e;case"keydown":case"keyup":m=DL;break;case"focusin":g="focus",m=Mm;break;case"focusout":g="blur",m=Mm;break;case"beforeblur":case"afterblur":m=Mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VL;break;case xC:case bC:case EC:m=PL;break;case SC:m=$L;break;case"scroll":m=xL;break;case"wheel":m=UL;break;case"copy":case"cut":case"paste":m=CL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sE}var y=(t&4)!==0,w=!y&&e==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var b=u,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,_!==null&&(C=Xl(b,_),C!=null&&y.push(iu(b,C,E)))),w)break;b=b.return}0<y.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Hg&&(g=r.relatedTarget||r.fromElement)&&(La(g)||g[li]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?La(g):null,g!==null&&(w=ho(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=aE,C="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=sE,C="onPointerLeave",_="onPointerEnter",b="pointer"),w=m==null?p:Vo(m),E=g==null?p:Vo(g),p=new y(C,b+"leave",m,r,c),p.target=w,p.relatedTarget=E,C=null,La(c)===u&&(y=new y(_,b+"enter",g,r,c),y.target=E,y.relatedTarget=w,C=y),w=C,m&&g)t:{for(y=m,_=g,b=0,E=y;E;E=Eo(E))b++;for(E=0,C=_;C;C=Eo(C))E++;for(;0<b-E;)y=Eo(y),b--;for(;0<E-b;)_=Eo(_),E--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Eo(y),_=Eo(_)}y=null}else y=null;m!==null&&yE(d,p,m,y,!1),g!==null&&w!==null&&yE(d,w,g,y,!0)}}e:{if(p=u?Vo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=QL;else if(cE(p))if(gC)O=JL;else{O=XL;var R=YL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=ZL);if(O&&(O=O(e,u))){mC(d,O,r,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Ug(p,"number",p.value)}switch(R=u?Vo(u):window,e){case"focusin":(cE(R)||R.contentEditable==="true")&&(Mo=R,ev=u,Vl=null);break;case"focusout":Vl=ev=Mo=null;break;case"mousedown":tv=!0;break;case"contextmenu":case"mouseup":case"dragend":tv=!1,mE(d,r,c);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":mE(d,r,c)}var S;if(g0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Do?hC(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(fC&&r.locale!=="ko"&&(Do||A!=="onCompositionStart"?A==="onCompositionEnd"&&Do&&(S=dC()):(Wi=c,h0="value"in Wi?Wi.value:Wi.textContent,Do=!0)),R=Hd(u,A),0<R.length&&(A=new oE(A,e,null,r,c),d.push({event:A,listeners:R}),S?A.data=S:(S=pC(r),S!==null&&(A.data=S)))),(S=qL?WL(e,r):KL(e,r))&&(u=Hd(u,"onBeforeInput"),0<u.length&&(c=new oE("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}PC(d,t)})}function iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xl(e,r),a!=null&&n.unshift(iu(e,a,i)),a=Xl(e,t),a!=null&&n.push(iu(e,a,i))),e=e.return}return n}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yE(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Xl(r,a),l!=null&&o.unshift(iu(r,l,s))):i||(l=Xl(r,a),l!=null&&o.push(iu(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var oV=/\r\n?/g,sV=/\u0000|\uFFFD/g;function wE(e){return(typeof e=="string"?e:""+e).replace(oV,`
`).replace(sV,"")}function zc(e,t,r){if(t=wE(t),wE(e)!==t&&r)throw Error(W(425))}function Gd(){}var rv=null,nv=null;function iv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,lV=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,uV=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(e){return _E.resolve(null).then(e).catch(cV)}:av;function cV(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),eu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);eu(t)}function Xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),Nn="__reactFiber$"+js,au="__reactProps$"+js,li="__reactContainer$"+js,ov="__reactEvents$"+js,dV="__reactListeners$"+js,fV="__reactHandles$"+js;function La(e){var t=e[Nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[li]||r[Nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xE(e);e!==null;){if(r=e[Nn])return r;e=xE(e)}return t}e=r,r=e.parentNode}return null}function Vu(e){return e=e[Nn]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Ah(e){return e[au]||null}var sv=[],Fo=-1;function ya(e){return{current:e}}function We(e){0>Fo||(e.current=sv[Fo],sv[Fo]=null,Fo--)}function Ve(e,t){Fo++,sv[Fo]=e.current,e.current=t}var la={},sr=ya(la),Sr=ya(!1),Xa=la;function as(e,t){var r=e.type.contextTypes;if(!r)return la;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(e){return e=e.childContextTypes,e!=null}function Qd(){We(Sr),We(sr)}function bE(e,t,r){if(sr.current!==la)throw Error(W(168));Ve(sr,t),Ve(Sr,r)}function CC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,YM(e)||"Unknown",i));return tt({},r,n)}function Yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||la,Xa=sr.current,Ve(sr,e),Ve(Sr,Sr.current),!0}function EE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=CC(e,t,Xa),n.__reactInternalMemoizedMergedChildContext=e,We(Sr),We(sr),Ve(sr,e)):We(Sr),Ve(Sr,r)}var Qn=null,Ph=!1,Wm=!1;function IC(e){Qn===null?Qn=[e]:Qn.push(e)}function hV(e){Ph=!0,IC(e)}function wa(){if(!Wm&&Qn!==null){Wm=!0;var e=0,t=je;try{var r=Qn;for(je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qn=null,Ph=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(e+1)),eC(u0,wa),i}finally{je=t,Wm=!1}}return null}var $o=[],zo=0,Xd=null,Zd=0,Hr=[],Gr=0,Za=null,Jn=1,ei="";function ja(e,t){$o[zo++]=Zd,$o[zo++]=Xd,Xd=e,Zd=t}function jC(e,t,r){Hr[Gr++]=Jn,Hr[Gr++]=ei,Hr[Gr++]=Za,Za=e;var n=Jn;e=ei;var i=32-gn(n)-1;n&=~(1<<i),r+=1;var a=32-gn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Jn=1<<32-gn(t)+i|r<<i|n,ei=a+e}else Jn=1<<a|r<<i|n,ei=e}function y0(e){e.return!==null&&(ja(e,1),jC(e,1,0))}function w0(e){for(;e===Xd;)Xd=$o[--zo],$o[zo]=null,Zd=$o[--zo],$o[zo]=null;for(;e===Za;)Za=Hr[--Gr],Hr[Gr]=null,ei=Hr[--Gr],Hr[Gr]=null,Jn=Hr[--Gr],Hr[Gr]=null}var Lr=null,Rr=null,He=!1,fn=null;function OC(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function SE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lr=e,Rr=Xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lr=e,Rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Za!==null?{id:Jn,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lr=e,Rr=null,!0):!1;default:return!1}}function lv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uv(e){if(He){var t=Rr;if(t){var r=t;if(!SE(e,t)){if(lv(e))throw Error(W(418));t=Xi(r.nextSibling);var n=Lr;t&&SE(e,t)?OC(n,r):(e.flags=e.flags&-4097|2,He=!1,Lr=e)}}else{if(lv(e))throw Error(W(418));e.flags=e.flags&-4097|2,He=!1,Lr=e}}}function AE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lr=e}function Uc(e){if(e!==Lr)return!1;if(!He)return AE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iv(e.type,e.memoizedProps)),t&&(t=Rr)){if(lv(e))throw NC(),Error(W(418));for(;t;)OC(e,t),t=Xi(t.nextSibling)}if(AE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rr=Xi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rr=null}}else Rr=Lr?Xi(e.stateNode.nextSibling):null;return!0}function NC(){for(var e=Rr;e;)e=Xi(e.nextSibling)}function os(){Rr=Lr=null,He=!1}function _0(e){fn===null?fn=[e]:fn.push(e)}var pV=Ei.ReactCurrentBatchConfig;function fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Bc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PE(e){var t=e._init;return t(e._payload)}function kC(e){function t(_,b){if(e){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=ta(_,b),_.index=0,_.sibling=null,_}function a(_,b,E){return _.index=E,e?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function s(_,b,E,C){return b===null||b.tag!==6?(b=Zm(E,_.mode,C),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,C){var O=E.type;return O===Ro?c(_,b,E.props.children,C,E.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&PE(O)===b.type)?(C=i(b,E.props),C.ref=fl(_,b,E),C.return=_,C):(C=Cd(E.type,E.key,E.props,null,_.mode,C),C.ref=fl(_,b,E),C.return=_,C)}function u(_,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Jm(E,_.mode,C),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function c(_,b,E,C,O){return b===null||b.tag!==7?(b=Wa(E,_.mode,C,O),b.return=_,b):(b=i(b,E),b.return=_,b)}function d(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zm(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nc:return E=Cd(b.type,b.key,b.props,null,_.mode,E),E.ref=fl(_,null,b),E.return=_,E;case ko:return b=Jm(b,_.mode,E),b.return=_,b;case Vi:var C=b._init;return d(_,C(b._payload),E)}if(Sl(b)||sl(b))return b=Wa(b,_.mode,E,null),b.return=_,b;Bc(_,b)}return null}function p(_,b,E,C){var O=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:s(_,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nc:return E.key===O?l(_,b,E,C):null;case ko:return E.key===O?u(_,b,E,C):null;case Vi:return O=E._init,p(_,b,O(E._payload),C)}if(Sl(E)||sl(E))return O!==null?null:c(_,b,E,C,null);Bc(_,E)}return null}function m(_,b,E,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(E)||null,s(b,_,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Nc:return _=_.get(C.key===null?E:C.key)||null,l(b,_,C,O);case ko:return _=_.get(C.key===null?E:C.key)||null,u(b,_,C,O);case Vi:var R=C._init;return m(_,b,E,R(C._payload),O)}if(Sl(C)||sl(C))return _=_.get(E)||null,c(b,_,C,O,null);Bc(b,C)}return null}function g(_,b,E,C){for(var O=null,R=null,S=b,A=b=0,I=null;S!==null&&A<E.length;A++){S.index>A?(I=S,S=null):I=S.sibling;var D=p(_,S,E[A],C);if(D===null){S===null&&(S=I);break}e&&S&&D.alternate===null&&t(_,S),b=a(D,b,A),R===null?O=D:R.sibling=D,R=D,S=I}if(A===E.length)return r(_,S),He&&ja(_,A),O;if(S===null){for(;A<E.length;A++)S=d(_,E[A],C),S!==null&&(b=a(S,b,A),R===null?O=S:R.sibling=S,R=S);return He&&ja(_,A),O}for(S=n(_,S);A<E.length;A++)I=m(S,_,A,E[A],C),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?A:I.key),b=a(I,b,A),R===null?O=I:R.sibling=I,R=I);return e&&S.forEach(function(T){return t(_,T)}),He&&ja(_,A),O}function y(_,b,E,C){var O=sl(E);if(typeof O!="function")throw Error(W(150));if(E=O.call(E),E==null)throw Error(W(151));for(var R=O=null,S=b,A=b=0,I=null,D=E.next();S!==null&&!D.done;A++,D=E.next()){S.index>A?(I=S,S=null):I=S.sibling;var T=p(_,S,D.value,C);if(T===null){S===null&&(S=I);break}e&&S&&T.alternate===null&&t(_,S),b=a(T,b,A),R===null?O=T:R.sibling=T,R=T,S=I}if(D.done)return r(_,S),He&&ja(_,A),O;if(S===null){for(;!D.done;A++,D=E.next())D=d(_,D.value,C),D!==null&&(b=a(D,b,A),R===null?O=D:R.sibling=D,R=D);return He&&ja(_,A),O}for(S=n(_,S);!D.done;A++,D=E.next())D=m(S,_,A,D.value,C),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=a(D,b,A),R===null?O=D:R.sibling=D,R=D);return e&&S.forEach(function(k){return t(_,k)}),He&&ja(_,A),O}function w(_,b,E,C){if(typeof E=="object"&&E!==null&&E.type===Ro&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Nc:e:{for(var O=E.key,R=b;R!==null;){if(R.key===O){if(O=E.type,O===Ro){if(R.tag===7){r(_,R.sibling),b=i(R,E.props.children),b.return=_,_=b;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&PE(O)===R.type){r(_,R.sibling),b=i(R,E.props),b.ref=fl(_,R,E),b.return=_,_=b;break e}r(_,R);break}else t(_,R);R=R.sibling}E.type===Ro?(b=Wa(E.props.children,_.mode,C,E.key),b.return=_,_=b):(C=Cd(E.type,E.key,E.props,null,_.mode,C),C.ref=fl(_,b,E),C.return=_,_=C)}return o(_);case ko:e:{for(R=E.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=Jm(E,_.mode,C),b.return=_,_=b}return o(_);case Vi:return R=E._init,w(_,b,R(E._payload),C)}if(Sl(E))return g(_,b,E,C);if(sl(E))return y(_,b,E,C);Bc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,E),b.return=_,_=b):(r(_,b),b=Zm(E,_.mode,C),b.return=_,_=b),o(_)):r(_,b)}return w}var ss=kC(!0),RC=kC(!1),Jd=ya(null),ef=null,Uo=null,x0=null;function b0(){x0=Uo=ef=null}function E0(e){var t=Jd.current;We(Jd),e._currentValue=t}function cv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xo(e,t){ef=e,x0=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(br=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(x0!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(ef===null)throw Error(W(308));Uo=e,ef.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Va=null;function S0(e){Va===null?Va=[e]:Va.push(e)}function DC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,S0(t)):(r.next=i.next,i.next=r),t.interleaved=r,ui(e,n)}function ui(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fi=!1;function A0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ui(e,r)}return i=n.interleaved,i===null?(t.next=t,S0(n)):(t.next=i.next,i.next=t),n.interleaved=t,ui(e,r)}function bd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c0(e,r)}}function TE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tf(e,t,r,n){var i=e.updateQueue;Fi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=tt({},d,p);break e;case 2:Fi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);eo|=o,e.lanes=o,e.memoizedState=d}}function CE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Fu={},Dn=ya(Fu),ou=ya(Fu),su=ya(Fu);function Fa(e){if(e===Fu)throw Error(W(174));return e}function P0(e,t){switch(Ve(su,t),Ve(ou,e),Ve(Dn,Fu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qg(t,e)}We(Dn),Ve(Dn,t)}function ls(){We(Dn),We(ou),We(su)}function LC(e){Fa(su.current);var t=Fa(Dn.current),r=qg(t,e.type);t!==r&&(Ve(ou,e),Ve(Dn,r))}function T0(e){ou.current===e&&(We(Dn),We(ou))}var Je=ya(0);function rf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Km=[];function C0(){for(var e=0;e<Km.length;e++)Km[e]._workInProgressVersionPrimary=null;Km.length=0}var Ed=Ei.ReactCurrentDispatcher,Hm=Ei.ReactCurrentBatchConfig,Ja=0,et=null,bt=null,Lt=null,nf=!1,Fl=!1,lu=0,mV=0;function Zt(){throw Error(W(321))}function I0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wn(e[r],t[r]))return!1;return!0}function j0(e,t,r,n,i,a){if(Ja=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ed.current=e===null||e.memoizedState===null?wV:_V,e=r(n,i),Fl){a=0;do{if(Fl=!1,lu=0,25<=a)throw Error(W(301));a+=1,Lt=bt=null,t.updateQueue=null,Ed.current=xV,e=r(n,i)}while(Fl)}if(Ed.current=af,t=bt!==null&&bt.next!==null,Ja=0,Lt=bt=et=null,nf=!1,t)throw Error(W(300));return e}function O0(){var e=lu!==0;return lu=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?et.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function tn(){if(bt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Lt===null?et.memoizedState:Lt.next;if(t!==null)Lt=t,bt=e;else{if(e===null)throw Error(W(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Lt===null?et.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function uu(e,t){return typeof t=="function"?t(e):t}function Gm(e){var t=tn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=bt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Ja&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,et.lanes|=c,eo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,wn(n,t.memoizedState)||(br=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,eo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qm(e){var t=tn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);wn(a,t.memoizedState)||(br=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function VC(){}function FC(e,t){var r=et,n=tn(),i=t(),a=!wn(n.memoizedState,i);if(a&&(n.memoizedState=i,br=!0),n=n.queue,N0(UC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,cu(9,zC.bind(null,r,n,i,t),void 0,null),Ft===null)throw Error(W(349));Ja&30||$C(r,t,i)}return i}function $C(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zC(e,t,r,n){t.value=r,t.getSnapshot=n,BC(t)&&qC(e)}function UC(e,t,r){return r(function(){BC(t)&&qC(e)})}function BC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wn(e,r)}catch{return!0}}function qC(e){var t=ui(e,1);t!==null&&vn(t,e,1,-1)}function IE(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:e},t.queue=e,e=e.dispatch=yV.bind(null,et,e),[t.memoizedState,e]}function cu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WC(){return tn().memoizedState}function Sd(e,t,r,n){var i=jn();et.flags|=e,i.memoizedState=cu(1|t,r,void 0,n===void 0?null:n)}function Th(e,t,r,n){var i=tn();n=n===void 0?null:n;var a=void 0;if(bt!==null){var o=bt.memoizedState;if(a=o.destroy,n!==null&&I0(n,o.deps)){i.memoizedState=cu(t,r,a,n);return}}et.flags|=e,i.memoizedState=cu(1|t,r,a,n)}function jE(e,t){return Sd(8390656,8,e,t)}function N0(e,t){return Th(2048,8,e,t)}function KC(e,t){return Th(4,2,e,t)}function HC(e,t){return Th(4,4,e,t)}function GC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QC(e,t,r){return r=r!=null?r.concat([e]):null,Th(4,4,GC.bind(null,t,e),r)}function k0(){}function YC(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&I0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XC(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&I0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZC(e,t,r){return Ja&21?(wn(r,t)||(r=nC(),et.lanes|=r,eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,br=!0),e.memoizedState=r)}function gV(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var n=Hm.transition;Hm.transition={};try{e(!1),t()}finally{je=r,Hm.transition=n}}function JC(){return tn().memoizedState}function vV(e,t,r){var n=ea(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eI(e))tI(t,r);else if(r=DC(e,t,r,n),r!==null){var i=fr();vn(r,e,n,i),rI(r,t,n)}}function yV(e,t,r){var n=ea(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eI(e))tI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,wn(s,o)){var l=t.interleaved;l===null?(i.next=i,S0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=DC(e,t,i,n),r!==null&&(i=fr(),vn(r,e,n,i),rI(r,t,n))}}function eI(e){var t=e.alternate;return e===et||t!==null&&t===et}function tI(e,t){Fl=nf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,c0(e,r)}}var af={readContext:en,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},wV={readContext:en,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:jE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sd(4194308,4,GC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sd(4,2,e,t)},useMemo:function(e,t){var r=jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vV.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:IE,useDebugValue:k0,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=IE(!1),t=e[0];return e=gV.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,i=jn();if(He){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Ft===null)throw Error(W(349));Ja&30||$C(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,jE(UC.bind(null,n,a,e),[e]),n.flags|=2048,cu(9,zC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=jn(),t=Ft.identifierPrefix;if(He){var r=ei,n=Jn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_V={readContext:en,useCallback:YC,useContext:en,useEffect:N0,useImperativeHandle:QC,useInsertionEffect:KC,useLayoutEffect:HC,useMemo:XC,useReducer:Gm,useRef:WC,useState:function(){return Gm(uu)},useDebugValue:k0,useDeferredValue:function(e){var t=tn();return ZC(t,bt.memoizedState,e)},useTransition:function(){var e=Gm(uu)[0],t=tn().memoizedState;return[e,t]},useMutableSource:VC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1},xV={readContext:en,useCallback:YC,useContext:en,useEffect:N0,useImperativeHandle:QC,useInsertionEffect:KC,useLayoutEffect:HC,useMemo:XC,useReducer:Qm,useRef:WC,useState:function(){return Qm(uu)},useDebugValue:k0,useDeferredValue:function(e){var t=tn();return bt===null?t.memoizedState=e:ZC(t,bt.memoizedState,e)},useTransition:function(){var e=Qm(uu)[0],t=tn().memoizedState;return[e,t]},useMutableSource:VC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ch={isMounted:function(e){return(e=e._reactInternals)?ho(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),i=ea(e),a=ni(n,i);a.payload=t,r!=null&&(a.callback=r),t=Zi(e,a,i),t!==null&&(vn(t,e,i,n),bd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),i=ea(e),a=ni(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Zi(e,a,i),t!==null&&(vn(t,e,i,n),bd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=ea(e),i=ni(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zi(e,i,n),t!==null&&(vn(t,e,n,r),bd(t,e,n))}};function OE(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ru(r,n)||!ru(i,a):!0}function nI(e,t,r){var n=!1,i=la,a=t.contextType;return typeof a=="object"&&a!==null?a=en(a):(i=Ar(t)?Xa:sr.current,n=t.contextTypes,a=(n=n!=null)?as(e,i):la),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ch,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function NE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ch.enqueueReplaceState(t,t.state,null)}function fv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},A0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=en(a):(a=Ar(t)?Xa:sr.current,i.context=as(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ch.enqueueReplaceState(i,i.state,null),tf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t){try{var r="",n=t;do r+=QM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ym(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bV=typeof WeakMap=="function"?WeakMap:Map;function iI(e,t,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sf||(sf=!0,Ev=n),hv(e,t)},r}function aI(e,t,r){r=ni(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){hv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){hv(e,t),typeof n!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function kE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=MV.bind(null,e,t,r),t.then(e,e))}function RE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function DE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ni(-1,1),t.tag=2,Zi(r,t,1))),r.lanes|=1),e)}var EV=Ei.ReactCurrentOwner,br=!1;function ur(e,t,r,n){t.child=e===null?RC(t,null,r,n):ss(t,e.child,r,n)}function ME(e,t,r,n,i){r=r.render;var a=t.ref;return Xo(t,i),n=j0(e,t,r,n,a,i),r=O0(),e!==null&&!br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ci(e,t,i)):(He&&r&&y0(t),t.flags|=1,ur(e,t,n,i),t.child)}function LE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!z0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,oI(e,t,a,n,i)):(e=Cd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ru,r(o,n)&&e.ref===t.ref)return ci(e,t,i)}return t.flags|=1,e=ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function oI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ru(a,n)&&e.ref===t.ref)if(br=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(br=!0);else return t.lanes=e.lanes,ci(e,t,i)}return pv(e,t,r,n,i)}function sI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(qo,Or),Or|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(qo,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ve(qo,Or),Or|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ve(qo,Or),Or|=n;return ur(e,t,i,r),t.child}function lI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pv(e,t,r,n,i){var a=Ar(r)?Xa:sr.current;return a=as(t,a),Xo(t,i),r=j0(e,t,r,n,a,i),n=O0(),e!==null&&!br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ci(e,t,i)):(He&&n&&y0(t),t.flags|=1,ur(e,t,r,i),t.child)}function VE(e,t,r,n,i){if(Ar(r)){var a=!0;Yd(t)}else a=!1;if(Xo(t,i),t.stateNode===null)Ad(e,t),nI(t,r,n),fv(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=en(u):(u=Ar(r)?Xa:sr.current,u=as(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&NE(t,o,n,u),Fi=!1;var p=t.memoizedState;o.state=p,tf(t,n,o,i),l=t.memoizedState,s!==n||p!==l||Sr.current||Fi?(typeof c=="function"&&(dv(t,r,c,n),l=t.memoizedState),(s=Fi||OE(t,r,s,n,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,MC(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:cn(t.type,s),o.props=u,d=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=en(l):(l=Ar(r)?Xa:sr.current,l=as(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&NE(t,o,n,l),Fi=!1,p=t.memoizedState,o.state=p,tf(t,n,o,i);var g=t.memoizedState;s!==d||p!==g||Sr.current||Fi?(typeof m=="function"&&(dv(t,r,m,n),g=t.memoizedState),(u=Fi||OE(t,r,u,n,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return mv(e,t,r,n,a,i)}function mv(e,t,r,n,i,a){lI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&EE(t,r,!1),ci(e,t,a);n=t.stateNode,EV.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ss(t,e.child,null,a),t.child=ss(t,null,s,a)):ur(e,t,s,a),t.memoizedState=n.state,i&&EE(t,r,!0),t.child}function uI(e){var t=e.stateNode;t.pendingContext?bE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bE(e,t.context,!1),P0(e,t.containerInfo)}function FE(e,t,r,n,i){return os(),_0(i),t.flags|=256,ur(e,t,r,n),t.child}var gv={dehydrated:null,treeContext:null,retryLane:0};function vv(e){return{baseLanes:e,cachePool:null,transitions:null}}function cI(e,t,r){var n=t.pendingProps,i=Je.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Je,i&1),e===null)return uv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Oh(o,n,0,null),e=Wa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=vv(r),t.memoizedState=gv,e):R0(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return SV(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ta(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ta(s,a):(a=Wa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?vv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=gv,n}return a=e.child,e=a.sibling,n=ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function R0(e,t){return t=Oh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qc(e,t,r,n){return n!==null&&_0(n),ss(t,e.child,null,r),e=R0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SV(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Ym(Error(W(422))),qc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Oh({mode:"visible",children:n.children},i,0,null),a=Wa(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ss(t,e.child,null,o),t.child.memoizedState=vv(o),t.memoizedState=gv,a);if(!(t.mode&1))return qc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(W(419)),n=Ym(a,n,void 0),qc(e,t,o,n)}if(s=(o&e.childLanes)!==0,br||s){if(n=Ft,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ui(e,i),vn(n,e,i,-1))}return $0(),n=Ym(Error(W(421))),qc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Rr=Xi(i.nextSibling),Lr=t,He=!0,fn=null,e!==null&&(Hr[Gr++]=Jn,Hr[Gr++]=ei,Hr[Gr++]=Za,Jn=e.id,ei=e.overflow,Za=t),t=R0(t,n.children),t.flags|=4096,t)}function $E(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cv(e.return,t,r)}function Xm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function dI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$E(e,r,t);else if(e.tag===19)$E(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ve(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&rf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xm(t,!0,r,null,a);break;case"together":Xm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ci(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AV(e,t,r){switch(t.tag){case 3:uI(t),os();break;case 5:LC(t);break;case 1:Ar(t.type)&&Yd(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ve(Jd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ve(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?cI(e,t,r):(Ve(Je,Je.current&1),e=ci(e,t,r),e!==null?e.sibling:null);Ve(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,sI(e,t,r)}return ci(e,t,r)}var fI,yv,hI,pI;fI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yv=function(){};hI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Fa(Dn.current);var a=null;switch(r){case"input":i=$g(e,i),n=$g(e,n),a=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),a=[];break;case"textarea":i=Bg(e,i),n=Bg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gd)}Wg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};pI=function(e,t,r,n){r!==n&&(t.flags|=4)};function hl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PV(e,t,r){var n=t.pendingProps;switch(w0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return Ar(t.type)&&Qd(),Jt(t),null;case 3:return n=t.stateNode,ls(),We(Sr),We(sr),C0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Uc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Pv(fn),fn=null))),yv(e,t),Jt(t),null;case 5:T0(t);var i=Fa(su.current);if(r=t.type,e!==null&&t.stateNode!=null)hI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Jt(t),null}if(e=Fa(Dn.current),Uc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Nn]=t,n[au]=a,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(i=0;i<Pl.length;i++)Ue(Pl[i],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Qb(n,a),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ue("invalid",n);break;case"textarea":Xb(n,a),Ue("invalid",n)}Wg(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&zc(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&zc(n.textContent,s,e),i=["children",""+s]):Ql.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ue("scroll",n)}switch(r){case"input":kc(n),Yb(n,a,!0);break;case"textarea":kc(n),Zb(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Gd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Nn]=t,e[au]=n,fI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kg(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),i=n;break;case"iframe":case"object":case"embed":Ue("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pl.length;i++)Ue(Pl[i],e);i=n;break;case"source":Ue("error",e),i=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=n;break;case"details":Ue("toggle",e),i=n;break;case"input":Qb(e,n),i=$g(e,n),Ue("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":Xb(e,n),i=Bg(e,n),Ue("invalid",e);break;default:i=n}Wg(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?WT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yl(e,l):typeof l=="number"&&Yl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ql.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ue("scroll",e):l!=null&&i0(e,a,l,o))}switch(r){case"input":kc(e),Yb(e,n,!1);break;case"textarea":kc(e),Zb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ho(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)pI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Fa(su.current),Fa(Dn.current),Uc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,(a=n.nodeValue!==r)&&(e=Lr,e!==null))switch(e.tag){case 3:zc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=t,t.stateNode=n}return Jt(t),null;case 13:if(We(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Rr!==null&&t.mode&1&&!(t.flags&128))NC(),os(),t.flags|=98560,a=!1;else if(a=Uc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Nn]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jt(t),a=!1}else fn!==null&&(Pv(fn),fn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?At===0&&(At=3):$0())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return ls(),yv(e,t),e===null&&nu(t.stateNode.containerInfo),Jt(t),null;case 10:return E0(t.type._context),Jt(t),null;case 17:return Ar(t.type)&&Qd(),Jt(t),null;case 19:if(We(Je),a=t.memoizedState,a===null)return Jt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)hl(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rf(e),o!==null){for(t.flags|=128,hl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>cs&&(t.flags|=128,n=!0,hl(a,!1),t.lanes=4194304)}else{if(!n)if(e=rf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return Jt(t),null}else 2*ct()-a.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,n=!0,hl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=Je.current,Ve(Je,n?r&1|2:r&1),t):(Jt(t),null);case 22:case 23:return F0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Or&1073741824&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function TV(e,t){switch(w0(t),t.tag){case 1:return Ar(t.type)&&Qd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(),We(Sr),We(sr),C0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return T0(t),null;case 13:if(We(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Je),null;case 4:return ls(),null;case 10:return E0(t.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var Wc=!1,nr=!1,CV=typeof WeakSet=="function"?WeakSet:Set,J=null;function Bo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function wv(e,t,r){try{r()}catch(n){at(e,t,n)}}var zE=!1;function IV(e,t){if(rv=Wd,e=wC(),v0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(s=o),p===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(nv={focusedElem:e,selectionRange:r},Wd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?y:cn(t.type,y),w);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){at(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=zE,zE=!1,g}function $l(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&wv(t,r,a)}i=i.next}while(i!==n)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _v(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mI(e){var t=e.alternate;t!==null&&(e.alternate=null,mI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[au],delete t[ov],delete t[dV],delete t[fV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gI(e){return e.tag===5||e.tag===3||e.tag===4}function UE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gd));else if(n!==4&&(e=e.child,e!==null))for(xv(e,t,r),e=e.sibling;e!==null;)xv(e,t,r),e=e.sibling}function bv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bv(e,t,r),e=e.sibling;e!==null;)bv(e,t,r),e=e.sibling}var Wt=null,dn=!1;function Li(e,t,r){for(r=r.child;r!==null;)vI(e,t,r),r=r.sibling}function vI(e,t,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:nr||Bo(r,t);case 6:var n=Wt,i=dn;Wt=null,Li(e,t,r),Wt=n,dn=i,Wt!==null&&(dn?(e=Wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(dn?(e=Wt,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),eu(e)):qm(Wt,r.stateNode));break;case 4:n=Wt,i=dn,Wt=r.stateNode.containerInfo,dn=!0,Li(e,t,r),Wt=n,dn=i;break;case 0:case 11:case 14:case 15:if(!nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wv(r,t,o),i=i.next}while(i!==n)}Li(e,t,r);break;case 1:if(!nr&&(Bo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){at(r,t,s)}Li(e,t,r);break;case 21:Li(e,t,r);break;case 22:r.mode&1?(nr=(n=nr)||r.memoizedState!==null,Li(e,t,r),nr=n):Li(e,t,r);break;default:Li(e,t,r)}}function BE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CV),t.forEach(function(n){var i=VV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ln(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Wt=s.stateNode,dn=!1;break e;case 3:Wt=s.stateNode.containerInfo,dn=!0;break e;case 4:Wt=s.stateNode.containerInfo,dn=!0;break e}s=s.return}if(Wt===null)throw Error(W(160));vI(a,o,i),Wt=null,dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yI(t,e),t=t.sibling}function yI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),In(e),n&4){try{$l(3,e,e.return),Ih(3,e)}catch(y){at(e,e.return,y)}try{$l(5,e,e.return)}catch(y){at(e,e.return,y)}}break;case 1:ln(t,e),In(e),n&512&&r!==null&&Bo(r,r.return);break;case 5:if(ln(t,e),In(e),n&512&&r!==null&&Bo(r,r.return),e.flags&32){var i=e.stateNode;try{Yl(i,"")}catch(y){at(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&$T(i,a),Kg(s,o);var u=Kg(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?WT(i,d):c==="dangerouslySetInnerHTML"?BT(i,d):c==="children"?Yl(i,d):i0(i,c,d,u)}switch(s){case"input":zg(i,a);break;case"textarea":zT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ho(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ho(i,!!a.multiple,a.defaultValue,!0):Ho(i,!!a.multiple,a.multiple?[]:"",!1))}i[au]=a}catch(y){at(e,e.return,y)}}break;case 6:if(ln(t,e),In(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){at(e,e.return,y)}}break;case 3:if(ln(t,e),In(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eu(t.containerInfo)}catch(y){at(e,e.return,y)}break;case 4:ln(t,e),In(e);break;case 13:ln(t,e),In(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(L0=ct())),n&4&&BE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(nr=(u=nr)||c,ln(t,e),nr=u):ln(t,e),In(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:$l(4,p,p.return);break;case 1:Bo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){at(n,r,y)}}break;case 5:Bo(p,p.return);break;case 22:if(p.memoizedState!==null){WE(d);continue}}m!==null?(m.return=p,J=m):WE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=qT("display",o))}catch(y){at(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){at(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ln(t,e),In(e),n&4&&BE(e);break;case 21:break;default:ln(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gI(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yl(i,""),n.flags&=-33);var a=UE(e);bv(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=UE(e);xv(e,s,o);break;default:throw Error(W(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jV(e,t,r){J=e,wI(e)}function wI(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Wc;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||nr;s=Wc;var u=nr;if(Wc=o,(nr=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?KE(i):l!==null?(l.return=o,J=l):KE(i);for(;a!==null;)J=a,wI(a),a=a.sibling;J=i,Wc=s,nr=u}qE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):qE(e)}}function qE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Ih(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&CE(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}CE(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&eu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nr||t.flags&512&&_v(t)}catch(p){at(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function WE(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function KE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ih(4,t)}catch(l){at(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){at(t,i,l)}}var a=t.return;try{_v(t)}catch(l){at(t,a,l)}break;case 5:var o=t.return;try{_v(t)}catch(l){at(t,o,l)}}}catch(l){at(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var OV=Math.ceil,of=Ei.ReactCurrentDispatcher,D0=Ei.ReactCurrentOwner,Zr=Ei.ReactCurrentBatchConfig,Se=0,Ft=null,pt=null,Qt=0,Or=0,qo=ya(0),At=0,du=null,eo=0,jh=0,M0=0,zl=null,_r=null,L0=0,cs=1/0,Gn=null,sf=!1,Ev=null,Ji=null,Kc=!1,Ki=null,lf=0,Ul=0,Sv=null,Pd=-1,Td=0;function fr(){return Se&6?ct():Pd!==-1?Pd:Pd=ct()}function ea(e){return e.mode&1?Se&2&&Qt!==0?Qt&-Qt:pV.transition!==null?(Td===0&&(Td=nC()),Td):(e=je,e!==0||(e=window.event,e=e===void 0?16:cC(e.type)),e):1}function vn(e,t,r,n){if(50<Ul)throw Ul=0,Sv=null,Error(W(185));Mu(e,r,n),(!(Se&2)||e!==Ft)&&(e===Ft&&(!(Se&2)&&(jh|=r),At===4&&Bi(e,Qt)),Pr(e,n),r===1&&Se===0&&!(t.mode&1)&&(cs=ct()+500,Ph&&wa()))}function Pr(e,t){var r=e.callbackNode;pL(e,t);var n=qd(e,e===Ft?Qt:0);if(n===0)r!==null&&tE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tE(r),t===1)e.tag===0?hV(HE.bind(null,e)):IC(HE.bind(null,e)),uV(function(){!(Se&6)&&wa()}),r=null;else{switch(iC(n)){case 1:r=u0;break;case 4:r=tC;break;case 16:r=Bd;break;case 536870912:r=rC;break;default:r=Bd}r=TI(r,_I.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _I(e,t){if(Pd=-1,Td=0,Se&6)throw Error(W(327));var r=e.callbackNode;if(Zo()&&e.callbackNode!==r)return null;var n=qd(e,e===Ft?Qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=uf(e,n);else{t=n;var i=Se;Se|=2;var a=bI();(Ft!==e||Qt!==t)&&(Gn=null,cs=ct()+500,qa(e,t));do try{RV();break}catch(s){xI(e,s)}while(!0);b0(),of.current=a,Se=i,pt!==null?t=0:(Ft=null,Qt=0,t=At)}if(t!==0){if(t===2&&(i=Xg(e),i!==0&&(n=i,t=Av(e,i))),t===1)throw r=du,qa(e,0),Bi(e,n),Pr(e,ct()),r;if(t===6)Bi(e,n);else{if(i=e.current.alternate,!(n&30)&&!NV(i)&&(t=uf(e,n),t===2&&(a=Xg(e),a!==0&&(n=a,t=Av(e,a))),t===1))throw r=du,qa(e,0),Bi(e,n),Pr(e,ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Oa(e,_r,Gn);break;case 3:if(Bi(e,n),(n&130023424)===n&&(t=L0+500-ct(),10<t)){if(qd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=av(Oa.bind(null,e,_r,Gn),t);break}Oa(e,_r,Gn);break;case 4:if(Bi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-gn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OV(n/1960))-n,10<n){e.timeoutHandle=av(Oa.bind(null,e,_r,Gn),n);break}Oa(e,_r,Gn);break;case 5:Oa(e,_r,Gn);break;default:throw Error(W(329))}}}return Pr(e,ct()),e.callbackNode===r?_I.bind(null,e):null}function Av(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(qa(e,t).flags|=256),e=uf(e,t),e!==2&&(t=_r,_r=r,t!==null&&Pv(t)),e}function Pv(e){_r===null?_r=e:_r.push.apply(_r,e)}function NV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!wn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~M0,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gn(t),n=1<<r;e[r]=-1,t&=~n}}function HE(e){if(Se&6)throw Error(W(327));Zo();var t=qd(e,0);if(!(t&1))return Pr(e,ct()),null;var r=uf(e,t);if(e.tag!==0&&r===2){var n=Xg(e);n!==0&&(t=n,r=Av(e,n))}if(r===1)throw r=du,qa(e,0),Bi(e,t),Pr(e,ct()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oa(e,_r,Gn),Pr(e,ct()),null}function V0(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(cs=ct()+500,Ph&&wa())}}function to(e){Ki!==null&&Ki.tag===0&&!(Se&6)&&Zo();var t=Se;Se|=1;var r=Zr.transition,n=je;try{if(Zr.transition=null,je=1,e)return e()}finally{je=n,Zr.transition=r,Se=t,!(Se&6)&&wa()}}function F0(){Or=qo.current,We(qo)}function qa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lV(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(w0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qd();break;case 3:ls(),We(Sr),We(sr),C0();break;case 5:T0(n);break;case 4:ls();break;case 13:We(Je);break;case 19:We(Je);break;case 10:E0(n.type._context);break;case 22:case 23:F0()}r=r.return}if(Ft=e,pt=e=ta(e.current,null),Qt=Or=t,At=0,du=null,M0=jh=eo=0,_r=zl=null,Va!==null){for(t=0;t<Va.length;t++)if(r=Va[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Va=null}return e}function xI(e,t){do{var r=pt;try{if(b0(),Ed.current=af,nf){for(var n=et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nf=!1}if(Ja=0,Lt=bt=et=null,Fl=!1,lu=0,D0.current=null,r===null||r.return===null){At=1,du=t,pt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=RE(o);if(m!==null){m.flags&=-257,DE(m,o,s,a,t),m.mode&1&&kE(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){kE(a,u,t),$0();break e}l=Error(W(426))}}else if(He&&s.mode&1){var w=RE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),DE(w,o,s,a,t),_0(us(l,s));break e}}a=l=us(l,s),At!==4&&(At=2),zl===null?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=iI(a,l,t);TE(a,_);break e;case 1:s=l;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ji===null||!Ji.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=aI(a,s,t);TE(a,C);break e}}a=a.return}while(a!==null)}SI(r)}catch(O){t=O,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function bI(){var e=of.current;return of.current=af,e===null?af:e}function $0(){(At===0||At===3||At===2)&&(At=4),Ft===null||!(eo&268435455)&&!(jh&268435455)||Bi(Ft,Qt)}function uf(e,t){var r=Se;Se|=2;var n=bI();(Ft!==e||Qt!==t)&&(Gn=null,qa(e,t));do try{kV();break}catch(i){xI(e,i)}while(!0);if(b0(),Se=r,of.current=n,pt!==null)throw Error(W(261));return Ft=null,Qt=0,At}function kV(){for(;pt!==null;)EI(pt)}function RV(){for(;pt!==null&&!aL();)EI(pt)}function EI(e){var t=PI(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?SI(e):pt=t,D0.current=null}function SI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TV(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,pt=null;return}}else if(r=PV(r,t,Or),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);At===0&&(At=5)}function Oa(e,t,r){var n=je,i=Zr.transition;try{Zr.transition=null,je=1,DV(e,t,r,n)}finally{Zr.transition=i,je=n}return null}function DV(e,t,r,n){do Zo();while(Ki!==null);if(Se&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(mL(e,a),e===Ft&&(pt=Ft=null,Qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kc||(Kc=!0,TI(Bd,function(){return Zo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Zr.transition,Zr.transition=null;var o=je;je=1;var s=Se;Se|=4,D0.current=null,IV(e,r),yI(r,e),tV(nv),Wd=!!rv,nv=rv=null,e.current=r,jV(r),oL(),Se=s,je=o,Zr.transition=a}else e.current=r;if(Kc&&(Kc=!1,Ki=e,lf=i),a=e.pendingLanes,a===0&&(Ji=null),uL(r.stateNode),Pr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sf)throw sf=!1,e=Ev,Ev=null,e;return lf&1&&e.tag!==0&&Zo(),a=e.pendingLanes,a&1?e===Sv?Ul++:(Ul=0,Sv=e):Ul=0,wa(),null}function Zo(){if(Ki!==null){var e=iC(lf),t=Zr.transition,r=je;try{if(Zr.transition=null,je=16>e?16:e,Ki===null)var n=!1;else{if(e=Ki,Ki=null,lf=0,Se&6)throw Error(W(331));var i=Se;for(Se|=4,J=e.current;J!==null;){var a=J,o=a.child;if(J.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:$l(8,c,a)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(mI(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}J=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$l(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}var b=e.current;for(J=b;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=b;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ih(9,s)}}catch(O){at(s,s.return,O)}if(s===o){J=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,J=C;break e}J=s.return}}if(Se=i,wa(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{je=r,Zr.transition=t}}return!1}function GE(e,t,r){t=us(r,t),t=iI(e,t,1),e=Zi(e,t,1),t=fr(),e!==null&&(Mu(e,1,t),Pr(e,t))}function at(e,t,r){if(e.tag===3)GE(e,e,r);else for(;t!==null;){if(t.tag===3){GE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ji===null||!Ji.has(n))){e=us(r,e),e=aI(t,e,1),t=Zi(t,e,1),e=fr(),t!==null&&(Mu(t,1,e),Pr(t,e));break}}t=t.return}}function MV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(Qt&r)===r&&(At===4||At===3&&(Qt&130023424)===Qt&&500>ct()-L0?qa(e,0):M0|=r),Pr(e,t)}function AI(e,t){t===0&&(e.mode&1?(t=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):t=1);var r=fr();e=ui(e,t),e!==null&&(Mu(e,t,r),Pr(e,r))}function LV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),AI(e,r)}function VV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),AI(e,r)}var PI;PI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sr.current)br=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return br=!1,AV(e,t,r);br=!!(e.flags&131072)}else br=!1,He&&t.flags&1048576&&jC(t,Zd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ad(e,t),e=t.pendingProps;var i=as(t,sr.current);Xo(t,r),i=j0(null,t,n,e,i,r);var a=O0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(n)?(a=!0,Yd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A0(t),i.updater=Ch,t.stateNode=i,i._reactInternals=t,fv(t,n,e,r),t=mv(null,t,n,!0,a,r)):(t.tag=0,He&&a&&y0(t),ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ad(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$V(n),e=cn(n,e),i){case 0:t=pv(null,t,n,e,r);break e;case 1:t=VE(null,t,n,e,r);break e;case 11:t=ME(null,t,n,e,r);break e;case 14:t=LE(null,t,n,cn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:cn(n,i),pv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:cn(n,i),VE(e,t,n,i,r);case 3:e:{if(uI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,MC(e,t),tf(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=us(Error(W(423)),t),t=FE(e,t,n,r,i);break e}else if(n!==i){i=us(Error(W(424)),t),t=FE(e,t,n,r,i);break e}else for(Rr=Xi(t.stateNode.containerInfo.firstChild),Lr=t,He=!0,fn=null,r=RC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(os(),n===i){t=ci(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return LC(t),e===null&&uv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,iv(n,i)?o=null:a!==null&&iv(n,a)&&(t.flags|=32),lI(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&uv(t),null;case 13:return cI(e,t,r);case 4:return P0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:cn(n,i),ME(e,t,n,i,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ve(Jd,n._currentValue),n._currentValue=o,a!==null)if(wn(a.value,o)){if(a.children===i.children&&!Sr.current){t=ci(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ni(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),cv(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),cv(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Xo(t,r),i=en(i),n=n(i),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,i=cn(n,t.pendingProps),i=cn(n.type,i),LE(e,t,n,i,r);case 15:return oI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:cn(n,i),Ad(e,t),t.tag=1,Ar(n)?(e=!0,Yd(t)):e=!1,Xo(t,r),nI(t,n,i),fv(t,n,i,r),mv(null,t,n,!0,e,r);case 19:return dI(e,t,r);case 22:return sI(e,t,r)}throw Error(W(156,t.tag))};function TI(e,t){return eC(e,t)}function FV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new FV(e,t,r,n)}function z0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $V(e){if(typeof e=="function")return z0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===s0)return 14}return 2}function ta(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cd(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")z0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ro:return Wa(r.children,i,a,t);case a0:o=8,i|=8;break;case Mg:return e=Yr(12,r,t,i|2),e.elementType=Mg,e.lanes=a,e;case Lg:return e=Yr(13,r,t,i),e.elementType=Lg,e.lanes=a,e;case Vg:return e=Yr(19,r,t,i),e.elementType=Vg,e.lanes=a,e;case LT:return Oh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DT:o=10;break e;case MT:o=9;break e;case o0:o=11;break e;case s0:o=14;break e;case Vi:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Yr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Wa(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function Oh(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=LT,e.lanes=r,e.stateNode={isHidden:!1},e}function Zm(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U0(e,t,r,n,i,a,o,s,l){return e=new zV(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(a),e}function UV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CI(e){if(!e)return la;e=e._reactInternals;e:{if(ho(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Ar(r))return CC(e,r,t)}return t}function II(e,t,r,n,i,a,o,s,l){return e=U0(r,n,!0,e,i,a,o,s,l),e.context=CI(null),r=e.current,n=fr(),i=ea(r),a=ni(n,i),a.callback=t??null,Zi(r,a,i),e.current.lanes=i,Mu(e,i,n),Pr(e,n),e}function Nh(e,t,r,n){var i=t.current,a=fr(),o=ea(i);return r=CI(r),t.context===null?t.context=r:t.pendingContext=r,t=ni(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zi(i,t,o),e!==null&&(vn(e,i,o,a),bd(e,i,o)),o}function cf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function B0(e,t){QE(e,t),(e=e.alternate)&&QE(e,t)}function BV(){return null}var jI=typeof reportError=="function"?reportError:function(e){console.error(e)};function q0(e){this._internalRoot=e}kh.prototype.render=q0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Nh(e,t,null,null)};kh.prototype.unmount=q0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;to(function(){Nh(null,e,null,null)}),t[li]=null}};function kh(e){this._internalRoot=e}kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=sC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ui.length&&t!==0&&t<Ui[r].priority;r++);Ui.splice(r,0,e),r===0&&uC(e)}};function W0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YE(){}function qV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=cf(o);a.call(u)}}var o=II(t,n,e,0,null,!1,!1,"",YE);return e._reactRootContainer=o,e[li]=o.current,nu(e.nodeType===8?e.parentNode:e),to(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=cf(l);s.call(u)}}var l=U0(e,0,!1,null,null,!1,!1,"",YE);return e._reactRootContainer=l,e[li]=l.current,nu(e.nodeType===8?e.parentNode:e),to(function(){Nh(t,l,r,n)}),l}function Dh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=cf(o);s.call(l)}}Nh(t,o,e,i)}else o=qV(r,t,e,i,n);return cf(o)}aC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Al(t.pendingLanes);r!==0&&(c0(t,r|1),Pr(t,ct()),!(Se&6)&&(cs=ct()+500,wa()))}break;case 13:to(function(){var n=ui(e,1);if(n!==null){var i=fr();vn(n,e,1,i)}}),B0(e,1)}};d0=function(e){if(e.tag===13){var t=ui(e,134217728);if(t!==null){var r=fr();vn(t,e,134217728,r)}B0(e,134217728)}};oC=function(e){if(e.tag===13){var t=ea(e),r=ui(e,t);if(r!==null){var n=fr();vn(r,e,t,n)}B0(e,t)}};sC=function(){return je};lC=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};Gg=function(e,t,r){switch(t){case"input":if(zg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ah(n);if(!i)throw Error(W(90));FT(n),zg(n,i)}}}break;case"textarea":zT(e,r);break;case"select":t=r.value,t!=null&&Ho(e,!!r.multiple,t,!1)}};GT=V0;QT=to;var WV={usingClientEntryPoint:!1,Events:[Vu,Vo,Ah,KT,HT,V0]},pl={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZT(e),e===null?null:e.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||BV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{xh=Hc.inject(KV),Rn=Hc}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV;zr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(t))throw Error(W(200));return UV(e,t,null,r)};zr.createRoot=function(e,t){if(!W0(e))throw Error(W(299));var r=!1,n="",i=jI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=U0(e,1,!1,null,null,r,!1,n,i),e[li]=t.current,nu(e.nodeType===8?e.parentNode:e),new q0(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=ZT(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return to(e)};zr.hydrate=function(e,t,r){if(!Rh(t))throw Error(W(200));return Dh(null,e,t,!0,r)};zr.hydrateRoot=function(e,t,r){if(!W0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=jI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=II(t,null,e,1,r??null,i,!1,a,o),e[li]=t.current,nu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new kh(t)};zr.render=function(e,t,r){if(!Rh(t))throw Error(W(200));return Dh(null,e,t,!1,r)};zr.unmountComponentAtNode=function(e){if(!Rh(e))throw Error(W(40));return e._reactRootContainer?(to(function(){Dh(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};zr.unstable_batchedUpdates=V0;zr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Rh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Dh(e,t,r,!1,n)};zr.version="18.3.1-next-f1338f8080-20240426";function OI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OI)}catch(e){console.error(e)}}OI(),OT.exports=zr;var zn=OT.exports,XE=zn;Rg.createRoot=XE.createRoot,Rg.hydrateRoot=XE.hydrateRoot;const ZE="incidents",JE="automation_rules",e1="system_tags",HV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),me={getIncidents:()=>{try{const e=localStorage.getItem(ZE);if(!e)return[];const t=JSON.parse(e);return HV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(ZE,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=me.getIncidents();return t.push(e),me.saveIncidents(t),t},updateIncident:(e,t)=>{const r=me.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},me.saveIncidents(r)),r},deleteIncident:e=>{const t=me.getIncidents().filter(r=>r.id!==e);return me.saveIncidents(t),t},addComment:(e,t,r)=>{const n=me.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),me.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=me.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),me.saveIncidents(r)),r},addTag:(e,t)=>{const r=me.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),me.saveIncidents(r),me.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=me.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),me.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(e1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(e1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=me.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),me.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=me.getSystemTags().filter(r=>r!==e);return me.saveSystemTags(t),t},getAllTags:()=>me.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=me.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),me.saveIncidents(t),me.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=me.getIncidents(),a=i.find(o=>o.id===e);if(a){const o={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(o)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(o)),a.updatedAt=new Date().toISOString(),me.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=me.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),me.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=me.getIncidents(),o=a.find(s=>s.id===e);if(o){let s=t==="qa2"?o.prQA2List:o.prMainList;if(s){const l=s.findIndex(u=>u.id===r);l!==-1&&(s[l]={...s[l],link:n,description:i},o.updatedAt=new Date().toISOString(),me.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(JE);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(JE,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=me.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),me.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=me.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},me.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=me.getAutomationRules().filter(r=>r.id!==e);return me.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=me.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(o=>{const s=n[o.field];switch(o.operator){case"equals":return s===o.value;case"not-equals":return s!==o.value;case"greater-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>o.value:!1;case"less-than":return o.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<o.value:!1;case"contains":return o.field==="has-tag"&&n.tags?n.tags.includes(o.value):!1;default:return!1}})&&i.actions.forEach(o=>{switch(o.type){case"set-priority":n.priority=o.value;break;case"set-status":n.status=o.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(o.value)||n.tags.push(o.value);break;case"assign-to":n.assignedTo=o.value;break}})}),n}},t1="users",Gc="current_user",vr={getUsers:()=>{const e=localStorage.getItem(t1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(t1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=vr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),vr.saveUsers(n),i},login:(e,t)=>{const n=vr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Gc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Gc)},getCurrentUser:()=>{const e=localStorage.getItem(Gc);return e?JSON.parse(e):null},isAuthenticated:()=>vr.getCurrentUser()!==null,initializeDefaultUser:()=>{vr.getUsers().length===0&&vr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=vr.getUsers(),n=r.findIndex(o=>o.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(o=>o.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,vr.saveUsers(r);const a=vr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Gc,JSON.stringify(i)),i},deleteUser:e=>{const t=vr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");vr.saveUsers(r)}},GV=()=>{};var r1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},QV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new YV;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XV=function(e){const t=NI(e);return kI.encodeByteArray(t,!0)},df=function(e){return XV(e).replace(/\./g,"")},ZV=function(e){try{return kI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=()=>JV().__FIREBASE_DEFAULTS__,t4=()=>{if(typeof process>"u"||typeof r1>"u")return;const e=r1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},r4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZV(e[1]);return t&&JSON.parse(t)},K0=()=>{try{return GV()||e4()||t4()||r4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},n4=e=>{var t,r;return(r=(t=K0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},i4=e=>{const t=n4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},RI=()=>{var e;return(e=K0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[df(JSON.stringify(r)),df(JSON.stringify(o)),""].join(".")}const Bl={};function l4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?e.emulator.push(t):e.prod.push(t);return e}function u4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let n1=!1;function c4(e,t){if(typeof window>"u"||typeof document>"u"||!H0(window.location.host)||Bl[e]===t||Bl[e]||n1)return;Bl[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=l4().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{n1=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=u4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),y=r("learnmore"),w=document.getElementById(y)||document.createElement("a"),_=r("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),c(w,y);const C=u();l(b,_),E.append(b,g,w,C),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f4(){var t;const e=(t=K0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return!f4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FirebaseError";class Os extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=g4,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DI.prototype.create)}}class DI{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?v4(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Os(i,s,n)}}function v4(e,t){return e.replace(y4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const y4=/\{\$([^}]+)}/g;function ff(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(i1(a)&&i1(o)){if(!ff(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function i1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e){return e&&e._delegate?e._delegate:e}class fu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new a4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(x4(t))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Na){return this.instances.has(t)}getOptions(t=Na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Na){return this.component?this.component.multipleInstances?t:Na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _4(e){return e===Na?void 0:e}function x4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new w4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));const E4={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},S4=be.INFO,A4={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},P4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=A4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class MI{constructor(t){this.name=t,this._logLevel=S4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?E4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const T4=(e,t)=>t.some(r=>e instanceof r);let a1,o1;function C4(){return a1||(a1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LI=new WeakMap,Tv=new WeakMap,VI=new WeakMap,eg=new WeakMap,G0=new WeakMap;function j4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(ra(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&LI.set(r,e)}).catch(()=>{}),G0.set(t,e),t}function O4(e){if(Tv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Tv.set(e,t)}let Cv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Tv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||VI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ra(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function N4(e){Cv=e(Cv)}function k4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(tg(this),t,...r);return VI.set(n,t.sort?t.sort():[t]),ra(n)}:I4().includes(e)?function(...t){return e.apply(tg(this),t),ra(LI.get(this))}:function(...t){return ra(e.apply(tg(this),t))}}function R4(e){return typeof e=="function"?k4(e):(e instanceof IDBTransaction&&O4(e),T4(e,C4())?new Proxy(e,Cv):e)}function ra(e){if(e instanceof IDBRequest)return j4(e);if(eg.has(e))return eg.get(e);const t=R4(e);return t!==e&&(eg.set(e,t),G0.set(t,e)),t}const tg=e=>G0.get(e);function D4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=ra(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const M4=["get","getKey","getAll","getAllKeys","count"],L4=["put","add","delete","clear"],rg=new Map;function s1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rg.get(t))return rg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=L4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||M4.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return rg.set(t,a),a}N4(e=>({...e,get:(t,r,n)=>s1(t,r)||e.get(t,r,n),has:(t,r)=>!!s1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(F4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function F4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Iv="@firebase/app",l1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new MI("@firebase/app"),$4="@firebase/app-compat",z4="@firebase/analytics-compat",U4="@firebase/analytics",B4="@firebase/app-check-compat",q4="@firebase/app-check",W4="@firebase/auth",K4="@firebase/auth-compat",H4="@firebase/database",G4="@firebase/data-connect",Q4="@firebase/database-compat",Y4="@firebase/functions",X4="@firebase/functions-compat",Z4="@firebase/installations",J4="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",r3="@firebase/performance",n3="@firebase/performance-compat",i3="@firebase/remote-config",a3="@firebase/remote-config-compat",o3="@firebase/storage",s3="@firebase/storage-compat",l3="@firebase/firestore",u3="@firebase/ai",c3="@firebase/firestore-compat",d3="firebase",f3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",h3={[Iv]:"fire-core",[$4]:"fire-core-compat",[U4]:"fire-analytics",[z4]:"fire-analytics-compat",[q4]:"fire-app-check",[B4]:"fire-app-check-compat",[W4]:"fire-auth",[K4]:"fire-auth-compat",[H4]:"fire-rtdb",[G4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[Y4]:"fire-fn",[X4]:"fire-fn-compat",[Z4]:"fire-iid",[J4]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[r3]:"fire-perf",[n3]:"fire-perf-compat",[i3]:"fire-rc",[a3]:"fire-rc-compat",[o3]:"fire-gcs",[s3]:"fire-gcs-compat",[l3]:"fire-fst",[c3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,p3=new Map,Ov=new Map;function u1(e,t){try{e.container.addComponent(t)}catch(r){di.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function pf(e){const t=e.name;if(Ov.has(t))return di.debug(`There were multiple attempts to register component ${t}.`),!1;Ov.set(t,e);for(const r of hf.values())u1(r,e);for(const r of p3.values())u1(r,e);return!0}function m3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function g3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new DI("app","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=f3;function FI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:jv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw na.create("bad-app-name",{appName:String(i)});if(r||(r=RI()),!r)throw na.create("no-options");const a=hf.get(i);if(a){if(ff(r,a.options)&&ff(n,a.config))return a;throw na.create("duplicate-app",{appName:i})}const o=new b4(i);for(const l of Ov.values())o.addComponent(l);const s=new y3(r,n,o);return hf.set(i,s),s}function _3(e=jv){const t=hf.get(e);if(!t&&e===jv&&RI())return FI();if(!t)throw na.create("no-app",{appName:e});return t}function Jo(e,t,r){let n=h3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),di.warn(o.join(" "));return}pf(new fu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="firebase-heartbeat-database",b3=1,hu="firebase-heartbeat-store";let ng=null;function $I(){return ng||(ng=D4(x3,b3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hu)}catch(r){console.warn(r)}}}}).catch(e=>{throw na.create("idb-open",{originalErrorMessage:e.message})})),ng}async function E3(e){try{const r=(await $I()).transaction(hu),n=await r.objectStore(hu).get(zI(e));return await r.done,n}catch(t){if(t instanceof Os)di.warn(t.message);else{const r=na.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});di.warn(r.message)}}}async function c1(e,t){try{const n=(await $I()).transaction(hu,"readwrite");await n.objectStore(hu).put(t,zI(e)),await n.done}catch(r){if(r instanceof Os)di.warn(r.message);else{const n=na.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});di.warn(n.message)}}}function zI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=1024,A3=30;class P3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new C3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>A3){const o=I3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){di.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=d1(),{heartbeatsToSend:n,unsentEntries:i}=T3(this._heartbeatsCache.heartbeats),a=df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return di.warn(r),""}}}function d1(){return new Date().toISOString().substring(0,10)}function T3(e,t=S3){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),f1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),f1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class C3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await E3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return c1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return c1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function f1(e){return df(JSON.stringify({version:2,heartbeats:e})).length}function I3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(e){pf(new fu("platform-logger",t=>new V4(t),"PRIVATE")),pf(new fu("heartbeat",t=>new P3(t),"PRIVATE")),Jo(Iv,l1,e),Jo(Iv,l1,"esm2020"),Jo("fire-js","")}j3("");var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,UI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,A){function I(){}I.prototype=A.prototype,S.F=A.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(D,T,k){for(var j=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];return A.prototype[T].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,I){I||(I=0);const D=Array(16);if(typeof A=="string")for(var T=0;T<16;++T)D[T]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(T=0;T<16;++T)D[T]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=S.g[0],I=S.g[1],T=S.g[2];let k=S.g[3],j;j=A+(k^I&(T^k))+D[0]+3614090360&4294967295,A=I+(j<<7&4294967295|j>>>25),j=k+(T^A&(I^T))+D[1]+3905402710&4294967295,k=A+(j<<12&4294967295|j>>>20),j=T+(I^k&(A^I))+D[2]+606105819&4294967295,T=k+(j<<17&4294967295|j>>>15),j=I+(A^T&(k^A))+D[3]+3250441966&4294967295,I=T+(j<<22&4294967295|j>>>10),j=A+(k^I&(T^k))+D[4]+4118548399&4294967295,A=I+(j<<7&4294967295|j>>>25),j=k+(T^A&(I^T))+D[5]+1200080426&4294967295,k=A+(j<<12&4294967295|j>>>20),j=T+(I^k&(A^I))+D[6]+2821735955&4294967295,T=k+(j<<17&4294967295|j>>>15),j=I+(A^T&(k^A))+D[7]+4249261313&4294967295,I=T+(j<<22&4294967295|j>>>10),j=A+(k^I&(T^k))+D[8]+1770035416&4294967295,A=I+(j<<7&4294967295|j>>>25),j=k+(T^A&(I^T))+D[9]+2336552879&4294967295,k=A+(j<<12&4294967295|j>>>20),j=T+(I^k&(A^I))+D[10]+4294925233&4294967295,T=k+(j<<17&4294967295|j>>>15),j=I+(A^T&(k^A))+D[11]+2304563134&4294967295,I=T+(j<<22&4294967295|j>>>10),j=A+(k^I&(T^k))+D[12]+1804603682&4294967295,A=I+(j<<7&4294967295|j>>>25),j=k+(T^A&(I^T))+D[13]+4254626195&4294967295,k=A+(j<<12&4294967295|j>>>20),j=T+(I^k&(A^I))+D[14]+2792965006&4294967295,T=k+(j<<17&4294967295|j>>>15),j=I+(A^T&(k^A))+D[15]+1236535329&4294967295,I=T+(j<<22&4294967295|j>>>10),j=A+(T^k&(I^T))+D[1]+4129170786&4294967295,A=I+(j<<5&4294967295|j>>>27),j=k+(I^T&(A^I))+D[6]+3225465664&4294967295,k=A+(j<<9&4294967295|j>>>23),j=T+(A^I&(k^A))+D[11]+643717713&4294967295,T=k+(j<<14&4294967295|j>>>18),j=I+(k^A&(T^k))+D[0]+3921069994&4294967295,I=T+(j<<20&4294967295|j>>>12),j=A+(T^k&(I^T))+D[5]+3593408605&4294967295,A=I+(j<<5&4294967295|j>>>27),j=k+(I^T&(A^I))+D[10]+38016083&4294967295,k=A+(j<<9&4294967295|j>>>23),j=T+(A^I&(k^A))+D[15]+3634488961&4294967295,T=k+(j<<14&4294967295|j>>>18),j=I+(k^A&(T^k))+D[4]+3889429448&4294967295,I=T+(j<<20&4294967295|j>>>12),j=A+(T^k&(I^T))+D[9]+568446438&4294967295,A=I+(j<<5&4294967295|j>>>27),j=k+(I^T&(A^I))+D[14]+3275163606&4294967295,k=A+(j<<9&4294967295|j>>>23),j=T+(A^I&(k^A))+D[3]+4107603335&4294967295,T=k+(j<<14&4294967295|j>>>18),j=I+(k^A&(T^k))+D[8]+1163531501&4294967295,I=T+(j<<20&4294967295|j>>>12),j=A+(T^k&(I^T))+D[13]+2850285829&4294967295,A=I+(j<<5&4294967295|j>>>27),j=k+(I^T&(A^I))+D[2]+4243563512&4294967295,k=A+(j<<9&4294967295|j>>>23),j=T+(A^I&(k^A))+D[7]+1735328473&4294967295,T=k+(j<<14&4294967295|j>>>18),j=I+(k^A&(T^k))+D[12]+2368359562&4294967295,I=T+(j<<20&4294967295|j>>>12),j=A+(I^T^k)+D[5]+4294588738&4294967295,A=I+(j<<4&4294967295|j>>>28),j=k+(A^I^T)+D[8]+2272392833&4294967295,k=A+(j<<11&4294967295|j>>>21),j=T+(k^A^I)+D[11]+1839030562&4294967295,T=k+(j<<16&4294967295|j>>>16),j=I+(T^k^A)+D[14]+4259657740&4294967295,I=T+(j<<23&4294967295|j>>>9),j=A+(I^T^k)+D[1]+2763975236&4294967295,A=I+(j<<4&4294967295|j>>>28),j=k+(A^I^T)+D[4]+1272893353&4294967295,k=A+(j<<11&4294967295|j>>>21),j=T+(k^A^I)+D[7]+4139469664&4294967295,T=k+(j<<16&4294967295|j>>>16),j=I+(T^k^A)+D[10]+3200236656&4294967295,I=T+(j<<23&4294967295|j>>>9),j=A+(I^T^k)+D[13]+681279174&4294967295,A=I+(j<<4&4294967295|j>>>28),j=k+(A^I^T)+D[0]+3936430074&4294967295,k=A+(j<<11&4294967295|j>>>21),j=T+(k^A^I)+D[3]+3572445317&4294967295,T=k+(j<<16&4294967295|j>>>16),j=I+(T^k^A)+D[6]+76029189&4294967295,I=T+(j<<23&4294967295|j>>>9),j=A+(I^T^k)+D[9]+3654602809&4294967295,A=I+(j<<4&4294967295|j>>>28),j=k+(A^I^T)+D[12]+3873151461&4294967295,k=A+(j<<11&4294967295|j>>>21),j=T+(k^A^I)+D[15]+530742520&4294967295,T=k+(j<<16&4294967295|j>>>16),j=I+(T^k^A)+D[2]+3299628645&4294967295,I=T+(j<<23&4294967295|j>>>9),j=A+(T^(I|~k))+D[0]+4096336452&4294967295,A=I+(j<<6&4294967295|j>>>26),j=k+(I^(A|~T))+D[7]+1126891415&4294967295,k=A+(j<<10&4294967295|j>>>22),j=T+(A^(k|~I))+D[14]+2878612391&4294967295,T=k+(j<<15&4294967295|j>>>17),j=I+(k^(T|~A))+D[5]+4237533241&4294967295,I=T+(j<<21&4294967295|j>>>11),j=A+(T^(I|~k))+D[12]+1700485571&4294967295,A=I+(j<<6&4294967295|j>>>26),j=k+(I^(A|~T))+D[3]+2399980690&4294967295,k=A+(j<<10&4294967295|j>>>22),j=T+(A^(k|~I))+D[10]+4293915773&4294967295,T=k+(j<<15&4294967295|j>>>17),j=I+(k^(T|~A))+D[1]+2240044497&4294967295,I=T+(j<<21&4294967295|j>>>11),j=A+(T^(I|~k))+D[8]+1873313359&4294967295,A=I+(j<<6&4294967295|j>>>26),j=k+(I^(A|~T))+D[15]+4264355552&4294967295,k=A+(j<<10&4294967295|j>>>22),j=T+(A^(k|~I))+D[6]+2734768916&4294967295,T=k+(j<<15&4294967295|j>>>17),j=I+(k^(T|~A))+D[13]+1309151649&4294967295,I=T+(j<<21&4294967295|j>>>11),j=A+(T^(I|~k))+D[4]+4149444226&4294967295,A=I+(j<<6&4294967295|j>>>26),j=k+(I^(A|~T))+D[11]+3174756917&4294967295,k=A+(j<<10&4294967295|j>>>22),j=T+(A^(k|~I))+D[2]+718787259&4294967295,T=k+(j<<15&4294967295|j>>>17),j=I+(k^(T|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+k&4294967295}n.prototype.v=function(S,A){A===void 0&&(A=S.length);const I=A-this.blockSize,D=this.C;let T=this.h,k=0;for(;k<A;){if(T==0)for(;k<=I;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(D[T++]=S.charCodeAt(k++),T==this.blockSize){i(this,D),T=0;break}}else for(;k<A;)if(D[T++]=S[k++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=A},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,I=0;I<4;++I)for(let D=0;D<32;D+=8)S[A++]=this.g[I]>>>D&255;return S};function a(S,A){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=A(S)}function o(S,A){this.h=A;const I=[];let D=!0;for(let T=S.length-1;T>=0;T--){const k=S[T]|0;D&&k==A||(I[T]=k,D=!1)}this.g=I}var s={};function l(S){return-128<=S&&S<128?a(S,function(A){return new o([A|0],A<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(S<0)return w(u(-S));const A=[];let I=1;for(let D=0;S>=I;D++)A[D]=S/I|0,I*=4294967296;return new o(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return w(c(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(A,8));let D=d;for(let k=0;k<S.length;k+=8){var T=Math.min(8,S.length-k);const j=parseInt(S.substring(k,k+T),A);T<8?(T=u(Math.pow(A,T)),D=D.j(T).add(u(j))):(D=D.j(I),D=D.add(u(j)))}return D}var d=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(y(this))return-w(this).m();let S=0,A=1;for(let I=0;I<this.g.length;I++){const D=this.i(I);S+=(D>=0?D:4294967296+D)*A,A*=4294967296}return S},e.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+w(this).toString(S);const A=u(Math.pow(S,6));var I=this;let D="";for(;;){const T=C(I,A).g;I=_(I,T.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=T,g(I))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},e.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function y(S){return S.h==-1}e.l=function(S){return S=_(this,S),y(S)?-1:g(S)?0:1};function w(S){const A=S.g.length,I=[];for(let D=0;D<A;D++)I[D]=~S.g[D];return new o(I,~S.h).add(p)}e.abs=function(){return y(this)?w(this):this},e.add=function(S){const A=Math.max(this.g.length,S.g.length),I=[];let D=0;for(let T=0;T<=A;T++){let k=D+(this.i(T)&65535)+(S.i(T)&65535),j=(k>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);D=j>>>16,k&=65535,j&=65535,I[T]=j<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(S,A){return S.add(w(A))}e.j=function(S){if(g(this)||g(S))return d;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const A=this.g.length+S.g.length,I=[];for(var D=0;D<2*A;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<S.g.length;T++){const k=this.i(D)>>>16,j=this.i(D)&65535,Q=S.i(T)>>>16,se=S.i(T)&65535;I[2*D+2*T]+=j*se,b(I,2*D+2*T),I[2*D+2*T+1]+=k*se,b(I,2*D+2*T+1),I[2*D+2*T+1]+=j*Q,b(I,2*D+2*T+1),I[2*D+2*T+2]+=k*Q,b(I,2*D+2*T+2)}for(S=0;S<A;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=A;S<2*A;S++)I[S]=0;return new o(I,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function E(S,A){this.g=S,this.h=A}function C(S,A){if(g(A))throw Error("division by zero");if(g(S))return new E(d,d);if(y(S))return A=C(w(S),A),new E(w(A.g),w(A.h));if(y(A))return A=C(S,w(A)),new E(w(A.g),A.h);if(S.g.length>30){if(y(S)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var I=p,D=A;D.l(S)<=0;)I=O(I),D=O(D);var T=R(I,1),k=R(D,1);for(D=R(D,2),I=R(I,2);!g(D);){var j=k.add(D);j.l(S)<=0&&(T=T.add(I),k=j),D=R(D,1),I=R(I,1)}return A=_(S,T.j(A)),new E(T,A)}for(T=d;S.l(A)>=0;){for(I=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=u(I),j=k.j(A);y(j)||j.l(S)>0;)I-=D,k=u(I),j=k.j(A);g(k)&&(k=p),T=T.add(k),S=_(S,j)}return new E(T,S)}e.B=function(S){return C(this,S).h},e.and=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let D=0;D<A;D++)I[D]=this.i(D)&S.i(D);return new o(I,this.h&S.h)},e.or=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let D=0;D<A;D++)I[D]=this.i(D)|S.i(D);return new o(I,this.h|S.h)},e.xor=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let D=0;D<A;D++)I[D]=this.i(D)^S.i(D);return new o(I,this.h^S.h)};function O(S){const A=S.g.length+1,I=[];for(let D=0;D<A;D++)I[D]=S.i(D)<<1|S.i(D-1)>>>31;return new o(I,S.h)}function R(S,A){const I=A>>5;A%=32;const D=S.g.length-I,T=[];for(let k=0;k<D;k++)T[k]=A>0?S.i(k+I)>>>A|S.i(k+I+1)<<32-A:S.i(k+I);return new o(T,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,UI=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ia=o}).apply(typeof h1<"u"?h1:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BI,Tl,qI,Id,Nv,WI,KI,HI;(function(){var e,t=Object.defineProperty;function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var v=0;v<f.length;++v){var P=f[v];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,v){if(v)e:{var P=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var M=f[N];if(!(M in P))break e;P=P[M]}f=f[f.length-1],N=P[f],v=v(N),v!=N&&v!=null&&t(P,f,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(v){var P=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&P.push([N,v[N]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function l(f,v,P){return f.call.apply(f.bind,arguments)}function u(f,v,P){return u=l,u.apply(null,arguments)}function c(f,v){var P=Array.prototype.slice.call(arguments,1);return function(){var N=P.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function d(f,v){function P(){}P.prototype=v.prototype,f.Z=v.prototype,f.prototype=new P,f.prototype.constructor=f,f.Ob=function(N,M,V){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return v.prototype[M].apply(N,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function m(f){const v=f.length;if(v>0){const P=Array(v);for(let N=0;N<v;N++)P[N]=f[N];return P}return[]}function g(f,v){for(let N=1;N<arguments.length;N++){const M=arguments[N];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=f.length||0;const V=M.length||0;f.length=P+V;for(let G=0;G<V;G++)f[P+G]=M[G]}else f.push(M)}}class y{constructor(v,P){this.i=v,this.j=P,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(f){o.setTimeout(()=>{throw f},0)}function _(){var f=S;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class b{constructor(){this.h=this.g=null}add(v,P){const N=E.get();N.set(v,P),this.h?this.h.next=N:this.g=N,this.h=N}}var E=new y(()=>new C,f=>f.reset());class C{constructor(){this.next=this.g=this.h=null}set(v,P){this.h=v,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let O,R=!1,S=new b,A=()=>{const f=Promise.resolve(void 0);O=()=>{f.then(I)}};function I(){for(var f;f=_();){try{f.h.call(f.g)}catch(P){w(P)}var v=E;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}R=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,v),o.removeEventListener("test",P,v)}catch{}return f}();function j(f){return/^[\s\xa0]*$/.test(f)}function Q(f,v){T.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}d(Q,T),Q.prototype.init=function(f,v){const P=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(P=="mouseover"?v=f.fromElement:P=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),de=0;function le(f,v,P,N,M){this.listener=f,this.proxy=null,this.src=v,this.type=P,this.capture=!!N,this.ha=M,this.key=++de,this.da=this.fa=!1}function U(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,v,P){for(const N in f)v.call(P,f[N],N,f)}function ne(f,v){for(const P in f)v.call(void 0,f[P],P,f)}function pe(f){const v={};for(const P in f)v[P]=f[P];return v}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(f,v){let P,N;for(let M=1;M<arguments.length;M++){N=arguments[M];for(P in N)f[P]=N[P];for(let V=0;V<_e.length;V++)P=_e[V],Object.prototype.hasOwnProperty.call(N,P)&&(f[P]=N[P])}}function Ne(f){this.src=f,this.g={},this.h=0}Ne.prototype.add=function(f,v,P,N,M){const V=f.toString();f=this.g[V],f||(f=this.g[V]=[],this.h++);const G=_t(f,v,N,M);return G>-1?(v=f[G],P||(v.fa=!1)):(v=new le(v,this.src,V,!!N,M),v.fa=P,f.push(v)),v};function Bt(f,v){const P=v.type;if(P in f.g){var N=f.g[P],M=Array.prototype.indexOf.call(N,v,void 0),V;(V=M>=0)&&Array.prototype.splice.call(N,M,1),V&&(U(v),f.g[P].length==0&&(delete f.g[P],f.h--))}}function _t(f,v,P,N){for(let M=0;M<f.length;++M){const V=f[M];if(!V.da&&V.listener==v&&V.capture==!!P&&V.ha==N)return M}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Hn={};function B(f,v,P,N,M){if(Array.isArray(v)){for(let V=0;V<v.length;V++)B(f,v[V],P,N,M);return null}return P=Xe(P),f&&f[se]?f.J(v,P,s(N)?!!N.capture:!1,M):fe(f,v,P,!1,N,M)}function fe(f,v,P,N,M,V){if(!v)throw Error("Invalid event type");const G=s(M)?!!M.capture:!!M;let he=ae(f);if(he||(f[$e]=he=new Ne(f)),P=he.add(v,P,N,G,V),P.proxy)return P;if(N=ve(),P.proxy=N,N.src=f,N.listener=P,f.addEventListener)k||(M=G),M===void 0&&(M=!1),f.addEventListener(v.toString(),N,M);else if(f.attachEvent)f.attachEvent(H(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ve(){function f(P){return v.call(f.src,f.listener,P)}const v=Z;return f}function q(f,v,P,N,M){if(Array.isArray(v))for(var V=0;V<v.length;V++)q(f,v[V],P,N,M);else N=s(N)?!!N.capture:!!N,P=Xe(P),f&&f[se]?(f=f.i,V=String(v).toString(),V in f.g&&(v=f.g[V],P=_t(v,P,N,M),P>-1&&(U(v[P]),Array.prototype.splice.call(v,P,1),v.length==0&&(delete f.g[V],f.h--)))):f&&(f=ae(f))&&(v=f.g[v.toString()],f=-1,v&&(f=_t(v,P,N,M)),(P=f>-1?v[f]:null)&&$(P))}function $(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[se])Bt(v.i,f);else{var P=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(P,N,f.capture):v.detachEvent?v.detachEvent(H(P),N):v.addListener&&v.removeListener&&v.removeListener(N),(P=ae(v))?(Bt(P,f),P.h==0&&(P.src=null,v[$e]=null)):U(f)}}}function H(f){return f in Hn?Hn[f]:Hn[f]="on"+f}function Z(f,v){if(f.da)f=!0;else{v=new Q(v,this);const P=f.listener,N=f.ha||f.src;f.fa&&$(f),f=P.call(N,v)}return f}function ae(f){return f=f[$e],f instanceof Ne?f:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(f){return typeof f=="function"?f:(f[Ee]||(f[Ee]=function(v){return f.handleEvent(v)}),f[Ee])}function Te(){D.call(this),this.i=new Ne(this),this.M=this,this.G=null}d(Te,D),Te.prototype[se]=!0,Te.prototype.removeEventListener=function(f,v,P,N){q(this,f,v,P,N)};function Ze(f,v){var P,N=f.G;if(N)for(P=[];N;N=N.G)P.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new T(v,f);else if(v instanceof T)v.target=v.target||f;else{var M=v;v=new T(N,f),wt(v,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=v.g=P[G],M=wc(V,N,!0,v)&&M;if(V=v.g=f,M=wc(V,N,!0,v)&&M,M=wc(V,N,!1,v)&&M,P)for(G=0;G<P.length;G++)V=v.g=P[G],M=wc(V,N,!1,v)&&M}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const P=f.g[v];for(let N=0;N<P.length;N++)U(P[N]);delete f.g[v],f.h--}}this.G=null},Te.prototype.J=function(f,v,P,N){return this.i.add(String(f),v,!1,P,N)},Te.prototype.K=function(f,v,P,N){return this.i.add(String(f),v,!0,P,N)};function wc(f,v,P,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let M=!0;for(let V=0;V<v.length;++V){const G=v[V];if(G&&!G.da&&G.capture==P){const he=G.listener,xt=G.ha||G.src;G.fa&&Bt(f.i,G),M=he.call(xt,N)!==!1&&M}}return M&&!N.defaultPrevented}function KD(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:o.setTimeout(f,v||0)}function Qx(f){f.g=KD(()=>{f.g=null,f.i&&(f.i=!1,Qx(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class HD extends D{constructor(v,P){super(),this.m=v,this.l=P,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qx(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(f){D.call(this),this.h=f,this.g={}}d(Ws,D);var Yx=[];function Xx(f){K(f.g,function(v,P){this.g.hasOwnProperty(P)&&$(v)},f),f.g={}}Ws.prototype.N=function(){Ws.Z.N.call(this),Xx(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cm=o.JSON.stringify,GD=o.JSON.parse,QD=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Zx(){}function Jx(){}var Ks={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dm(){T.call(this,"d")}d(dm,T);function fm(){T.call(this,"c")}d(fm,T);var Aa={},eb=null;function _c(){return eb=eb||new Te}Aa.Ia="serverreachability";function tb(f){T.call(this,Aa.Ia,f)}d(tb,T);function Hs(f){const v=_c();Ze(v,new tb(v))}Aa.STAT_EVENT="statevent";function rb(f,v){T.call(this,Aa.STAT_EVENT,f),this.stat=v}d(rb,T);function lr(f){const v=_c();Ze(v,new rb(v,f))}Aa.Ja="timingevent";function nb(f,v){T.call(this,Aa.Ja,f),this.size=v}d(nb,T);function Gs(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},v)}function Qs(){this.g=!0}Qs.prototype.ua=function(){this.g=!1};function YD(f,v,P,N,M,V){f.info(function(){if(f.g)if(V){var G="",he=V.split("&");for(let ke=0;ke<he.length;ke++){var xt=he[ke].split("=");if(xt.length>1){const Nt=xt[0];xt=xt[1];const Cn=Nt.split("_");G=Cn.length>=2&&Cn[1]=="type"?G+(Nt+"="+xt+"&"):G+(Nt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+N+") [attempt "+M+"]: "+v+`
`+P+`
`+G})}function XD(f,v,P,N,M,V,G){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+M+"]: "+v+`
`+P+`
`+V+" "+G})}function _o(f,v,P,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+JD(f,P)+(N?" "+N:"")})}function ZD(f,v){f.info(function(){return"TIMEOUT: "+v})}Qs.prototype.info=function(){};function JD(f,v){if(!f.g)return v;if(!v)return null;try{const V=JSON.parse(v);if(V){for(f=0;f<V.length;f++)if(Array.isArray(V[f])){var P=V[f];if(!(P.length<2)){var N=P[1];if(Array.isArray(N)&&!(N.length<1)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<N.length;G++)N[G]=""}}}}return cm(V)}catch{return v}}var xc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ib={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ab;function hm(){}d(hm,Zx),hm.prototype.g=function(){return new XMLHttpRequest},ab=new hm;function Ys(f){return encodeURIComponent(String(f))}function eM(f){var v=1;f=f.split(":");const P=[];for(;v>0&&f.length;)P.push(f.shift()),v--;return f.length&&P.push(f.join(":")),P}function Oi(f,v,P,N){this.j=f,this.i=v,this.l=P,this.S=N||1,this.V=new Ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}var sb={},pm={};function mm(f,v,P){f.M=1,f.A=Ec(Tn(v)),f.u=P,f.R=!0,lb(f,null)}function lb(f,v){f.F=Date.now(),bc(f),f.B=Tn(f.A);var P=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),xb(P.i,"t",N),f.C=0,P=f.j.L,f.h=new ob,f.g=Fb(f.j,P?v:null,!f.u),f.P>0&&(f.O=new HD(u(f.Y,f,f.g),f.P)),v=f.V,P=f.g,N=f.ba;var M="readystatechange";Array.isArray(M)||(M&&(Yx[0]=M.toString()),M=Yx);for(let V=0;V<M.length;V++){const G=B(P,M[V],N||v.handleEvent,!1,v.h||v);if(!G)break;v.g[G.key]=G}v=f.J?pe(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Hs(),YD(f.i,f.v,f.B,f.l,f.S,f.u)}Oi.prototype.ba=function(f){f=f.target;const v=this.O;v&&Ri(f)==3?v.j():this.Y(f)},Oi.prototype.Y=function(f){try{if(f==this.g)e:{const he=Ri(this.g),xt=this.g.ya(),ke=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||Cb(this.g)))){this.K||he!=4||xt==7||(xt==8||ke<=0?Hs(3):Hs(2)),gm(this);var v=this.g.ca();this.X=v;var P=tM(this);if(this.o=v==200,XD(this.i,this.v,this.B,this.l,this.S,he,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,M=this.g;if((N=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(N)){var V=N;break t}}V=null}if(f=V)_o(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vm(this,f);else{this.o=!1,this.m=3,lr(12),Pa(this),Xs(this);break e}}if(this.R){f=!0;let Nt;for(;!this.K&&this.C<P.length;)if(Nt=rM(this,P),Nt==pm){he==4&&(this.m=4,lr(14),f=!1),_o(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==sb){this.m=4,lr(15),_o(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else _o(this.i,this.l,Nt,null),vm(this,Nt);if(ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||P.length!=0||this.h.h||(this.m=1,lr(16),f=!1),this.o=this.o&&f,!f)_o(this.i,this.l,P,"[Invalid Chunked Response]"),Pa(this),Xs(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Am(G),G.P=!0,lr(11))}}else _o(this.i,this.l,P,null),vm(this,P);he==4&&Pa(this),this.o&&!this.K&&(he==4?Db(this.j,this):(this.o=!1,bc(this)))}else gM(this.g),v==400&&P.indexOf("Unknown SID")>0?(this.m=3,lr(12)):(this.m=0,lr(13)),Pa(this),Xs(this)}}}catch{}finally{}};function tM(f){if(!ub(f))return f.g.la();const v=Cb(f.g);if(v==="")return"";let P="";const N=v.length,M=Ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pa(f),Xs(f),"";f.h.i=new o.TextDecoder}for(let V=0;V<N;V++)f.h.h=!0,P+=f.h.i.decode(v[V],{stream:!(M&&V==N-1)});return v.length=0,f.h.g+=P,f.C=0,f.h.g}function ub(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function rM(f,v){var P=f.C,N=v.indexOf(`
`,P);return N==-1?pm:(P=Number(v.substring(P,N)),isNaN(P)?sb:(N+=1,N+P>v.length?pm:(v=v.slice(N,N+P),f.C=N+P,v)))}Oi.prototype.cancel=function(){this.K=!0,Pa(this)};function bc(f){f.T=Date.now()+f.H,cb(f,f.H)}function cb(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gs(u(f.aa,f),v)}function gm(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Oi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ZD(this.i,this.B),this.M!=2&&(Hs(),lr(17)),Pa(this),this.m=2,Xs(this)):cb(this,this.T-f)};function Xs(f){f.j.I==0||f.K||Db(f.j,f)}function Pa(f){gm(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Xx(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function vm(f,v){try{var P=f.j;if(P.I!=0&&(P.g==f||ym(P.h,f))){if(!f.L&&ym(P.h,f)&&P.I==3){try{var N=P.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var M=N;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<f.F)Cc(P),Pc(P);else break e;Sm(P),lr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Gs(u(P.Va,P),6e3));hb(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ca(P,11)}else if((f.L||P.g==f)&&Cc(P),!j(v))for(M=P.Ba.g.parse(v),v=0;v<M.length;v++){let ke=M[v];const Nt=ke[0];if(!(Nt<=P.K))if(P.K=Nt,ke=ke[1],P.I==2)if(ke[0]=="c"){P.M=ke[1],P.ba=ke[2];const Cn=ke[3];Cn!=null&&(P.ka=Cn,P.j.info("VER="+P.ka));const Ia=ke[4];Ia!=null&&(P.za=Ia,P.j.info("SVER="+P.za));const Di=ke[5];Di!=null&&typeof Di=="number"&&Di>0&&(N=1.5*Di,P.O=N,P.j.info("backChannelRequestTimeoutMs_="+N)),N=P;const Mi=f.g;if(Mi){const jc=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jc){var V=N.h;V.g||jc.indexOf("spdy")==-1&&jc.indexOf("quic")==-1&&jc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(wm(V,V.h),V.h=null))}if(N.G){const Pm=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Pm&&(N.wa=Pm,ze(N.J,N.G,Pm))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-f.F,P.j.info("Handshake RTT: "+P.T+"ms")),N=P;var G=f;if(N.na=Vb(N,N.L?N.ba:null,N.W),G.L){pb(N.h,G);var he=G,xt=N.O;xt&&(he.H=xt),he.D&&(gm(he),bc(he)),N.g=G}else kb(N);P.i.length>0&&Tc(P)}else ke[0]!="stop"&&ke[0]!="close"||Ca(P,7);else P.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ca(P,7):Em(P):ke[0]!="noop"&&P.l&&P.l.qa(ke),P.A=0)}}Hs(4)}catch{}}var nM=class{constructor(f,v){this.g=f,this.map=v}};function db(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hb(f){return f.h?1:f.g?f.g.size:0}function ym(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function wm(f,v){f.g?f.g.add(v):f.h=v}function pb(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}db.prototype.cancel=function(){if(this.i=mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mb(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const P of f.g.values())v=v.concat(P.G);return v}return m(f.i)}var gb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iM(f,v){if(f){f=f.split("&");for(let P=0;P<f.length;P++){const N=f[P].indexOf("=");let M,V=null;N>=0?(M=f[P].substring(0,N),V=f[P].substring(N+1)):M=f[P],v(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ni(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof Ni?(this.l=f.l,Zs(this,f.j),this.o=f.o,this.g=f.g,Js(this,f.u),this.h=f.h,_m(this,bb(f.i)),this.m=f.m):f&&(v=String(f).match(gb))?(this.l=!1,Zs(this,v[1]||"",!0),this.o=el(v[2]||""),this.g=el(v[3]||"",!0),Js(this,v[4]),this.h=el(v[5]||"",!0),_m(this,v[6]||"",!0),this.m=el(v[7]||"")):(this.l=!1,this.i=new rl(null,this.l))}Ni.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(tl(v,vb,!0),":");var P=this.g;return(P||v=="file")&&(f.push("//"),(v=this.o)&&f.push(tl(v,vb,!0),"@"),f.push(Ys(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&f.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(tl(P,P.charAt(0)=="/"?sM:oM,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",tl(P,uM)),f.join("")},Ni.prototype.resolve=function(f){const v=Tn(this);let P=!!f.j;P?Zs(v,f.j):P=!!f.o,P?v.o=f.o:P=!!f.g,P?v.g=f.g:P=f.u!=null;var N=f.h;if(P)Js(v,f.u);else if(P=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var M=v.h.lastIndexOf("/");M!=-1&&(N=v.h.slice(0,M+1)+N)}if(M=N,M==".."||M==".")N="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){N=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const he=M[G++];he=="."?N&&G==M.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&G==M.length&&V.push("")):(V.push(he),N=!0)}N=V.join("/")}else N=M}return P?v.h=N:P=f.i.toString()!=="",P?_m(v,bb(f.i)):P=!!f.m,P&&(v.m=f.m),v};function Tn(f){return new Ni(f)}function Zs(f,v,P){f.j=P?el(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Js(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function _m(f,v,P){v instanceof rl?(f.i=v,cM(f.i,f.l)):(P||(v=tl(v,lM)),f.i=new rl(v,f.l))}function ze(f,v,P){f.i.set(v,P)}function Ec(f){return ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function el(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function tl(f,v,P){return typeof f=="string"?(f=encodeURI(f).replace(v,aM),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function aM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vb=/[#\/\?@]/g,oM=/[#\?:]/g,sM=/[#\?]/g,lM=/[#\?@]/g,uM=/#/g;function rl(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ta(f){f.g||(f.g=new Map,f.h=0,f.i&&iM(f.i,function(v,P){f.add(decodeURIComponent(v.replace(/\+/g," ")),P)}))}e=rl.prototype,e.add=function(f,v){Ta(this),this.i=null,f=xo(this,f);let P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(v),this.h+=1,this};function yb(f,v){Ta(f),v=xo(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function wb(f,v){return Ta(f),v=xo(f,v),f.g.has(v)}e.forEach=function(f,v){Ta(this),this.g.forEach(function(P,N){P.forEach(function(M){f.call(v,M,N,this)},this)},this)};function _b(f,v){Ta(f);let P=[];if(typeof v=="string")wb(f,v)&&(P=P.concat(f.g.get(xo(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)P=P.concat(f[v]);return P}e.set=function(f,v){return Ta(this),this.i=null,f=xo(this,f),wb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=_b(this,f),f.length>0?String(f[0]):v):v};function xb(f,v,P){yb(f,v),P.length>0&&(f.i=null,f.g.set(xo(f,v),m(P)),f.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var P=v[N];const M=Ys(P);P=_b(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+Ys(P[V])),f.push(G)}}return this.i=f.join("&")};function bb(f){const v=new rl;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function xo(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function cM(f,v){v&&!f.j&&(Ta(f),f.i=null,f.g.forEach(function(P,N){const M=N.toLowerCase();N!=M&&(yb(this,N),xb(this,M,P))},f)),f.j=v}function dM(f,v){const P=new Qs;if(o.Image){const N=new Image;N.onload=c(ki,P,"TestLoadImage: loaded",!0,v,N),N.onerror=c(ki,P,"TestLoadImage: error",!1,v,N),N.onabort=c(ki,P,"TestLoadImage: abort",!1,v,N),N.ontimeout=c(ki,P,"TestLoadImage: timeout",!1,v,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function fM(f,v){const P=new Qs,N=new AbortController,M=setTimeout(()=>{N.abort(),ki(P,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(V=>{clearTimeout(M),V.ok?ki(P,"TestPingServer: ok",!0,v):ki(P,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(M),ki(P,"TestPingServer: error",!1,v)})}function ki(f,v,P,N,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),N(P)}catch{}}function hM(){this.g=new QD}function xm(f){this.i=f.Sb||null,this.h=f.ab||!1}d(xm,Zx),xm.prototype.g=function(){return new Sc(this.i,this.h)};function Sc(f,v){Te.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Sc,Te),e=Sc.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,il(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||o).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eb(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eb(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?nl(this):il(this),this.readyState==3&&Eb(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,nl(this))},e.Na=function(f){this.g&&(this.response=f,nl(this))},e.ga=function(){this.g&&nl(this)};function nl(f){f.readyState=4,f.l=null,f.j=null,f.B=null,il(f)}e.setRequestHeader=function(f,v){this.A.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var P=v.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=v.next();return f.join(`\r
`)};function il(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Sb(f){let v="";return K(f,function(P,N){v+=N,v+=":",v+=P,v+=`\r
`}),v}function bm(f,v,P){e:{for(N in P){var N=!1;break e}N=!0}N||(P=Sb(P),typeof f=="string"?P!=null&&Ys(P):ze(f,v,P))}function it(f){Te.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(it,Te);var pM=/^https?$/i,mM=["POST","PUT"];e=it.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,v,P,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ab.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(V){Ab(this,V);return}if(f=P||"",P=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var M in N)P.set(M,N[M]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())P.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(mM,v,void 0)>=0)||N||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(V){Ab(this,V)}};function Ab(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Pb(f),Ac(f)}function Pb(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),Ac(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ac(this,!0)),it.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Tb(this):this.Xa())},e.Xa=function(){Tb(this)};function Tb(f){if(f.h&&typeof a<"u"){if(f.v&&Ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),Ri(f)==4){f.h=!1;try{const V=f.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var P;if(!(P=v)){var N;if(N=V===0){let G=String(f.D).match(gb)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),N=!pM.test(G?G.toLowerCase():"")}P=N}if(P)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var M=Ri(f)>2?f.g.statusText:""}catch{M=""}f.l=M+" ["+f.ca()+"]",Pb(f)}}finally{Ac(f)}}}}function Ac(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const P=f.g;f.g=null,v||Ze(f,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ri(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),GD(v)}};function Cb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function gM(f){const v={};f=(f.g&&Ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(j(f[N]))continue;var P=eM(f[N]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=v[M]||[];v[M]=V,V.push(P)}ne(v,function(N){return N.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function al(f,v,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||v}function Ib(f){this.za=0,this.i=[],this.j=new Qs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=al("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=al("baseRetryDelayMs",5e3,f),this.Za=al("retryDelaySeedMs",1e4,f),this.Ta=al("forwardChannelMaxRetries",2,f),this.va=al("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new db(f&&f.concurrentRequestLimit),this.Ba=new hM,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ib.prototype,e.ka=8,e.I=1,e.connect=function(f,v,P,N){lr(0),this.W=f,this.H=v||{},P&&N!==void 0&&(this.H.OSID=P,this.H.OAID=N),this.F=this.X,this.J=Vb(this,null,this.W),Tc(this)};function Em(f){if(jb(f),f.I==3){var v=f.V++,P=Tn(f.J);if(ze(P,"SID",f.M),ze(P,"RID",v),ze(P,"TYPE","terminate"),ol(f,P),v=new Oi(f,f.j,v),v.M=2,v.A=Ec(Tn(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(v.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=v.A,P=!0),P||(v.g=Fb(v.j,null),v.g.ea(v.A)),v.F=Date.now(),bc(v)}Lb(f)}function Pc(f){f.g&&(Am(f),f.g.cancel(),f.g=null)}function jb(f){Pc(f),f.v&&(o.clearTimeout(f.v),f.v=null),Cc(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function Tc(f){if(!fb(f.h)&&!f.m){f.m=!0;var v=f.Ea;O||A(),R||(O(),R=!0),S.add(v,f),f.D=0}}function vM(f,v){return hb(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gs(u(f.Ea,f,v),Mb(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const M=new Oi(this,this.j,f);let V=this.o;if(this.U&&(V?(V=pe(V),wt(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var v=0,P=0;P<this.i.length;P++){t:{var N=this.i[P];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=P;break e}if(v===4096||P===this.i.length-1){v=P+1;break e}}v=1e3}else v=1e3;v=Nb(this,M,v),P=Tn(this.J),ze(P,"RID",f),ze(P,"CVER",22),this.G&&ze(P,"X-HTTP-Session-Id",this.G),ol(this,P),V&&(this.R?v="headers="+Ys(Sb(V))+"&"+v:this.u&&bm(P,this.u,V)),wm(this.h,M),this.Ra&&ze(P,"TYPE","init"),this.S?(ze(P,"$req",v),ze(P,"SID","null"),M.U=!0,mm(M,P,null)):mm(M,P,v),this.I=2}}else this.I==3&&(f?Ob(this,f):this.i.length==0||fb(this.h)||Ob(this))};function Ob(f,v){var P;v?P=v.l:P=f.V++;const N=Tn(f.J);ze(N,"SID",f.M),ze(N,"RID",P),ze(N,"AID",f.K),ol(f,N),f.u&&f.o&&bm(N,f.u,f.o),P=new Oi(f,f.j,P,f.D+1),f.u===null&&(P.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Nb(f,P,1e3),P.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),wm(f.h,P),mm(P,N,v)}function ol(f,v){f.H&&K(f.H,function(P,N){ze(v,N,P)}),f.l&&K({},function(P,N){ze(v,N,P)})}function Nb(f,v,P){P=Math.min(f.i.length,P);const N=f.l?u(f.l.Ka,f.l,f):null;e:{var M=f.i;let he=-1;for(;;){const xt=["count="+P];he==-1?P>0?(he=M[0].g,xt.push("ofs="+he)):he=0:xt.push("ofs="+he);let ke=!0;for(let Nt=0;Nt<P;Nt++){var V=M[Nt].g;const Cn=M[Nt].map;if(V-=he,V<0)he=Math.max(0,M[Nt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var G=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ia,Di]of G){let Mi=Di;s(Di)&&(Mi=cm(Di)),xt.push(V+Ia+"="+encodeURIComponent(Mi))}}catch(Ia){throw xt.push(V+"type="+encodeURIComponent("_badmap")),Ia}}catch{N&&N(Cn)}}if(ke){G=xt.join("&");break e}}G=void 0}return f=f.i.splice(0,P),v.G=f,G}function kb(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;O||A(),R||(O(),R=!0),S.add(v,f),f.A=0}}function Sm(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gs(u(f.Da,f),Mb(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,Rb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gs(u(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lr(10),Pc(this),Rb(this))};function Am(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function Rb(f){f.g=new Oi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Tn(f.na);ze(v,"RID","rpc"),ze(v,"SID",f.M),ze(v,"AID",f.K),ze(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&ze(v,"TO",f.ia),ze(v,"TYPE","xmlhttp"),ol(f,v),f.u&&f.o&&bm(v,f.u,f.o),f.O&&(f.g.H=f.O);var P=f.g;f=f.ba,P.M=1,P.A=Ec(Tn(v)),P.u=null,P.R=!0,lb(P,f)}e.Va=function(){this.C!=null&&(this.C=null,Pc(this),Sm(this),lr(19))};function Cc(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Db(f,v){var P=null;if(f.g==v){Cc(f),Am(f),f.g=null;var N=2}else if(ym(f.h,v))P=v.G,pb(f.h,v),N=1;else return;if(f.I!=0){if(v.o)if(N==1){P=v.u?v.u.length:0,v=Date.now()-v.F;var M=f.D;N=_c(),Ze(N,new nb(N,P)),Tc(f)}else kb(f);else if(M=v.m,M==3||M==0&&v.X>0||!(N==1&&vM(f,v)||N==2&&Sm(f)))switch(P&&P.length>0&&(v=f.h,v.i=v.i.concat(P)),M){case 1:Ca(f,5);break;case 4:Ca(f,10);break;case 3:Ca(f,6);break;default:Ca(f,2)}}}function Mb(f,v){let P=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(P*=2),P*v}function Ca(f,v){if(f.j.info("Error code "+v),v==2){var P=u(f.bb,f),N=f.Ua;const M=!N;N=new Ni(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Zs(N,"https"),Ec(N),M?dM(N.toString(),P):fM(N.toString(),P)}else lr(2);f.I=0,f.l&&f.l.pa(v),Lb(f),jb(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))};function Lb(f){if(f.I=0,f.ja=[],f.l){const v=mb(f.h);(v.length!=0||f.i.length!=0)&&(g(f.ja,v),g(f.ja,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.oa()}}function Vb(f,v,P){var N=P instanceof Ni?Tn(P):new Ni(P);if(N.g!="")v&&(N.g=v+"."+N.g),Js(N,N.u);else{var M=o.location;N=M.protocol,v=v?v+"."+M.hostname:M.hostname,M=+M.port;const V=new Ni(null);N&&Zs(V,N),v&&(V.g=v),M&&Js(V,M),P&&(V.h=P),N=V}return P=f.G,v=f.wa,P&&v&&ze(N,P,v),ze(N,"VER",f.ka),ol(f,N),N}function Fb(f,v,P){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new it(new xm({ab:P})):new it(f.ma),v.Fa(f.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $b(){}e=$b.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ic(){}Ic.prototype.g=function(f,v){return new jr(f,v)};function jr(f,v){Te.call(this),this.g=new Ib(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!j(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new bo(this)}d(jr,Te),jr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){Em(this.g)},jr.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.v&&(P={},P.__data__=cm(f),f=P);v.i.push(new nM(v.Ya++,f)),v.I==3&&Tc(v)},jr.prototype.N=function(){this.g.l=null,delete this.j,Em(this.g),delete this.g,jr.Z.N.call(this)};function zb(f){dm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const P in v){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}d(zb,dm);function Ub(){fm.call(this),this.status=1}d(Ub,fm);function bo(f){this.g=f}d(bo,$b),bo.prototype.ra=function(){Ze(this.g,"a")},bo.prototype.qa=function(f){Ze(this.g,new zb(f))},bo.prototype.pa=function(f){Ze(this.g,new Ub)},bo.prototype.oa=function(){Ze(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,HI=function(){return new Ic},KI=function(){return _c()},WI=Aa,Nv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xc.NO_ERROR=0,xc.TIMEOUT=8,xc.HTTP_ERROR=6,Id=xc,ib.COMPLETE="complete",qI=ib,Jx.EventType=Ks,Ks.OPEN="a",Ks.CLOSE="b",Ks.ERROR="c",Ks.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Tl=Jx,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,BI=it}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const p1="@firebase/firestore",m1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new MI("@firebase/firestore");function Co(){return ro.logLevel}function X(e,...t){if(ro.logLevel<=be.DEBUG){const r=t.map(Q0);ro.debug(`Firestore (${Ns}): ${e}`,...r)}}function fi(e,...t){if(ro.logLevel<=be.ERROR){const r=t.map(Q0);ro.error(`Firestore (${Ns}): ${e}`,...r)}}function ds(e,...t){if(ro.logLevel<=be.WARN){const r=t.map(Q0);ro.warn(`Firestore (${Ns}): ${e}`,...r)}}function Q0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,GI(e,n,r)}function GI(e,t,r){let n=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw fi(n),new Error(n)}function Ce(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||GI(t,i,n)}function ce(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Os{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(rr.UNAUTHENTICATED))}shutdown(){}}class N3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class k3{constructor(t){this.t=t,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ce(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ii,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ii)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string",31837,{l:n}),new QI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string",2055,{h:t}),new rr(t)}}class R3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new R3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,g3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ce(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ce(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new g1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=L3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function ye(e,t){return e<t?-1:e>t?1:0}function kv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return ig(i)===ig(a)?ye(i,a):ig(i)?1:-1}return ye(e.length,t.length)}const V3=55296,F3=57343;function ig(e){const t=e.charCodeAt(0);return t>=V3&&t<=F3}function fs(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="__name__";class On{constructor(t,r,n){r===void 0?r=0:r>t.length&&oe(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&oe(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return On.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof On?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=On.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return ye(t.length,r.length)}static compareSegments(t,r){const n=On.isNumericId(t),i=On.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?On.extractNumericId(t).compare(On.extractNumericId(r)):kv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class Le extends On{construct(t,r,n){return new Le(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Le(r)}static emptyPath(){return new Le([])}}const $3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends On{construct(t,r,n){return new Ht(t,r,n)}static isValidIdentifier(t){return $3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v1}static keyField(){return new Ht([v1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ht(r)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie(Le.fromString(t))}static fromName(t){return new ie(Le.fromString(t).popFirst(5))}static empty(){return new ie(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function z3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function y1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function w1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function XI(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Mh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":oe(12329,{type:typeof e})}function Tr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Mh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e,t){const r={typeString:e};return t&&(r.value=t),r}function $u(e,t){if(!XI(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const o=e[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=-62135596800,x1=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*x1);return new qe(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<_1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x1}_compareTo(t){return this.seconds===t.seconds?ye(this.nanoseconds,t.nanoseconds):ye(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:gt("string",qe._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(t){return new ue(t)}static min(){return new ue(new qe(0,0))}static max(){return new ue(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function U3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(n===1e9?new qe(r+1,0):new qe(r,n));return new ua(i,ie.empty(),t)}function B3(e){return new ua(e.readTime,e.key,pu)}class ua{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new ua(ue.min(),ie.empty(),pu)}static max(){return new ua(ue.max(),ie.empty(),pu)}}function q3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:ye(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==W3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new z((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):z.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):z.reject(r)}static resolve(t){return new z((r,n)=>{r(t)})}static reject(t){return new z((r,n)=>{n(t)})}static waitFor(t){return new z((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=z.resolve(!1);for(const n of t)r=r.next(i=>i?z.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new z((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new z((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function H3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Rs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function Vh(e){return e==null}function mf(e){return e===0&&1/e==-1/0}function G3(e){return typeof e=="number"&&Number.isInteger(e)&&!mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="";function Q3(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=b1(t)),t=Y3(e.get(r),t);return b1(t)}function Y3(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case ZI:r+="";break;default:r+=a}}return r}function b1(e){return e+ZI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function _a(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function JI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||Kt.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yc(this.root,t,this.comparator,!0)}}class Yc{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kt{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Kt(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw oe(27949);return t+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Kt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new S1(this.data.getIterator())}getIteratorFrom(t){return new S1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Pt)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Pt(this.comparator);return r.data=t,r}}class S1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this.fields=t,t.sort(Ht.comparator)}static empty(){return new Dr([])}unionWith(t){let r=new Pt(Ht.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Dr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return fs(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ej("Invalid base64 string: "+a):a}}(t);return new Xt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new Xt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ye(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const X3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(e){if(Ce(!!e,39018),typeof e=="string"){let t=0;const r=X3.exec(e);if(Ce(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function da(e){return typeof e=="string"?Xt.fromBase64String(e):Xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="server_timestamp",rj="__type__",nj="__previous_value__",ij="__local_write_time__";function Z0(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[rj])==null?void 0:n.stringValue)===tj}function Fh(e){const t=e.mapValue.fields[nj];return Z0(t)?Fh(t):t}function mu(e){const t=ca(e.mapValue.fields[ij].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t,r,n,i,a,o,s,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const gf="(default)";class gu{constructor(t,r){this.projectId=t,this.database=r||gf}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="__type__",J3="__max__",Xc={mapValue:{}},oj="__vector__",vf="value";function fa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Z0(e)?4:tF(e)?9007199254740991:eF(e)?10:11:oe(28295,{value:e})}function Bn(e,t){if(e===t)return!0;const r=fa(e);if(r!==fa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mu(e).isEqual(mu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ca(i.timestampValue),s=ca(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return da(i.bytesValue).isEqual(da(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ut(i.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ut(i.integerValue)===ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=ut(i.doubleValue),s=ut(a.doubleValue);return o===s?mf(o)===mf(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return fs(e.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(E1(o)!==E1(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Bn(o[l],s[l])))return!1;return!0}(e,t);default:return oe(52216,{left:e})}}function vu(e,t){return(e.values||[]).find(r=>Bn(r,t))!==void 0}function hs(e,t){if(e===t)return 0;const r=fa(e),n=fa(t);if(r!==n)return ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ye(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=ut(a.integerValue||a.doubleValue),l=ut(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return A1(e.timestampValue,t.timestampValue);case 4:return A1(mu(e),mu(t));case 5:return kv(e.stringValue,t.stringValue);case 6:return function(a,o){const s=da(a),l=da(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ye(s[u],l[u]);if(c!==0)return c}return ye(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=ye(ut(a.latitude),ut(o.latitude));return s!==0?s:ye(ut(a.longitude),ut(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return P1(e.arrayValue,t.arrayValue);case 10:return function(a,o){var p,m,g,y;const s=a.fields||{},l=o.fields||{},u=(p=s[vf])==null?void 0:p.arrayValue,c=(m=l[vf])==null?void 0:m.arrayValue,d=ye(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:P1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===Xc.mapValue&&o===Xc.mapValue)return 0;if(a===Xc.mapValue)return 1;if(o===Xc.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=kv(l[d],c[d]);if(p!==0)return p;const m=hs(s[l[d]],u[c[d]]);if(m!==0)return m}return ye(l.length,c.length)}(e.mapValue,t.mapValue);default:throw oe(23264,{he:r})}}function A1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ye(e,t);const r=ca(e),n=ca(t),i=ye(r.seconds,n.seconds);return i!==0?i:ye(r.nanos,n.nanos)}function P1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=hs(r[i],n[i]);if(a)return a}return ye(r.length,n.length)}function ps(e){return Rv(e)}function Rv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=ca(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return da(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Rv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Rv(r.fields[o])}`;return i+"}"}(e.mapValue):oe(61005,{value:e})}function jd(e){switch(fa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fh(e);return t?16+jd(t):16;case 5:return 2*e.stringValue.length;case 6:return da(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+jd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return _a(n.fields,(a,o)=>{i+=a.length+jd(o)}),i}(e.mapValue);default:throw oe(13486,{value:e})}}function T1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dv(e){return!!e&&"integerValue"in e}function J0(e){return!!e&&"arrayValue"in e}function C1(e){return!!e&&"nullValue"in e}function I1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Od(e){return!!e&&"mapValue"in e}function eF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[aj])==null?void 0:n.stringValue)===oj}function ql(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=ql(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=ql(e.arrayValue.values[r]);return t}return{...e}}function tF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===J3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.value=t}static empty(){return new xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Od(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(r)}setAll(t){let r=Ht.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=ql(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Od(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){_a(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new xr(ql(this.value))}}function sj(e){const t=[];return _a(e.fields,(r,n)=>{const i=new Ht([r]);if(Od(n)){const a=sj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new Dr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new ir(t,0,ue.min(),ue.min(),ue.min(),xr.empty(),0)}static newFoundDocument(t,r,n,i){return new ir(t,1,r,ue.min(),n,i,0)}static newNoDocument(t,r){return new ir(t,2,r,ue.min(),ue.min(),xr.empty(),0)}static newUnknownDocument(t,r){return new ir(t,3,r,ue.min(),ue.min(),xr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ir&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,r){this.position=t,this.inclusive=r}}function j1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(o.referenceValue),r.key):n=hs(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function O1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Bn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,r="asc"){this.field=t,this.dir=r}}function rF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{}class mt extends lj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new iF(t,r,n):r==="array-contains"?new sF(t,n):r==="in"?new lF(t,n):r==="not-in"?new uF(t,n):r==="array-contains-any"?new cF(t,n):new mt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new aF(t,n):new oF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(hs(r,this.value)):r!==null&&fa(this.value)===fa(r)&&this.matchesComparison(hs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends lj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new _n(t,r)}matches(t){return uj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uj(e){return e.op==="and"}function cj(e){return nF(e)&&uj(e)}function nF(e){for(const t of e.filters)if(t instanceof _n)return!1;return!0}function Mv(e){if(e instanceof mt)return e.field.canonicalString()+e.op.toString()+ps(e.value);if(cj(e))return e.filters.map(t=>Mv(t)).join(",");{const t=e.filters.map(r=>Mv(r)).join(",");return`${e.op}(${t})`}}function dj(e,t){return e instanceof mt?function(n,i){return i instanceof mt&&n.op===i.op&&n.field.isEqual(i.field)&&Bn(n.value,i.value)}(e,t):e instanceof _n?function(n,i){return i instanceof _n&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&dj(o,i.filters[s]),!0):!1}(e,t):void oe(19439)}function fj(e){return e instanceof mt?function(r){return`${r.field.canonicalString()} ${r.op} ${ps(r.value)}`}(e):e instanceof _n?function(r){return r.op.toString()+" {"+r.getFilters().map(fj).join(" ,")+"}"}(e):"Filter"}class iF extends mt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class aF extends mt{constructor(t,r){super(t,"in",r),this.keys=hj("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class oF extends mt{constructor(t,r){super(t,"not-in",r),this.keys=hj("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function hj(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class sF extends mt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return J0(r)&&vu(r.arrayValue,this.value)}}class lF extends mt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&vu(this.value.arrayValue,r)}}class uF extends mt{constructor(t,r){super(t,"not-in",r)}matches(t){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vu(this.value.arrayValue,r)}}class cF extends mt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!J0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>vu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function N1(e,t=null,r=[],n=[],i=null,a=null,o=null){return new dF(e,t,r,n,i,a,o)}function ew(e){const t=ce(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Mv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Vh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>ps(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>ps(n)).join(",")),t.Te=r}return t.Te}function tw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!rF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!dj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!O1(e.startAt,t.startAt)&&O1(e.endAt,t.endAt)}function Lv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fF(e,t,r,n,i,a,o,s){return new zu(e,t,r,n,i,a,o,s)}function $h(e){return new zu(e)}function k1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pj(e){return e.collectionGroup!==null}function Wl(e){const t=ce(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Pt(Ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new wf(a,n))}),r.has(Ht.keyField().canonicalString())||t.Ie.push(new wf(Ht.keyField(),n))}return t.Ie}function Mn(e){const t=ce(e);return t.Ee||(t.Ee=hF(t,Wl(e))),t.Ee}function hF(e,t){if(e.limitType==="F")return N1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wf(i.field,a)});const r=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;return N1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Vv(e,t){const r=e.filters.concat([t]);return new zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Fv(e,t,r){return new zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function zh(e,t){return tw(Mn(e),Mn(t))&&e.limitType===t.limitType}function mj(e){return`${ew(Mn(e))}|lt:${e.limitType}`}function Io(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>fj(i)).join(", ")}]`),Vh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>ps(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>ps(i)).join(",")),`Target(${n})`}(Mn(e))}; limitType=${e.limitType})`}function Uh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Wl(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=j1(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Wl(n),i)||n.endAt&&!function(o,s,l){const u=j1(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Wl(n),i))}(e,t)}function pF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gj(e){return(t,r)=>{let n=!1;for(const i of Wl(e)){const a=mF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function mF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?hs(l,u):oe(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return oe(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return JI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new rt(ie.comparator);function hi(){return gF}const vj=new rt(ie.comparator);function Cl(...e){let t=vj;for(const r of e)t=t.insert(r.key,r);return t}function yj(e){let t=vj;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function $a(){return Kl()}function wj(){return Kl()}function Kl(){return new po(e=>e.toString(),(e,t)=>e.isEqual(t))}const vF=new rt(ie.comparator),yF=new Pt(ie.comparator);function we(...e){let t=yF;for(const r of e)t=t.add(r);return t}const wF=new Pt(ye);function _F(){return wF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function _j(e){return{integerValue:""+e}}function xF(e,t){return G3(t)?_j(t):rw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function bF(e,t,r){return e instanceof _f?function(i,a){const o={fields:{[rj]:{stringValue:tj},[ij]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Z0(a)&&(a=Fh(a)),a&&(o.fields[nj]=a),{mapValue:o}}(r,t):e instanceof yu?bj(e,t):e instanceof wu?Ej(e,t):function(i,a){const o=xj(i,a),s=R1(o)+R1(i.Ae);return Dv(o)&&Dv(i.Ae)?_j(s):rw(i.serializer,s)}(e,t)}function EF(e,t,r){return e instanceof yu?bj(e,t):e instanceof wu?Ej(e,t):r}function xj(e,t){return e instanceof xf?function(n){return Dv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class _f extends Bh{}class yu extends Bh{constructor(t){super(),this.elements=t}}function bj(e,t){const r=Sj(t);for(const n of e.elements)r.some(i=>Bn(i,n))||r.push(n);return{arrayValue:{values:r}}}class wu extends Bh{constructor(t){super(),this.elements=t}}function Ej(e,t){let r=Sj(t);for(const n of e.elements)r=r.filter(i=>!Bn(i,n));return{arrayValue:{values:r}}}class xf extends Bh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function R1(e){return ut(e.integerValue||e.doubleValue)}function Sj(e){return J0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function SF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof yu&&i instanceof yu||n instanceof wu&&i instanceof wu?fs(n.elements,i.elements,Bn):n instanceof xf&&i instanceof xf?Bn(n.Ae,i.Ae):n instanceof _f&&i instanceof _f}(e.transform,t.transform)}class AF{constructor(t,r){this.version=t,this.transformResults=r}}class Jr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Jr}static exists(t){return new Jr(void 0,t)}static updateTime(t){return new Jr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qh{}function Aj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new nw(e.key,Jr.none()):new Uu(e.key,e.data,Jr.none());{const r=e.data,n=xr.empty();let i=new Pt(Ht.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new xa(e.key,n,new Dr(i.toArray()),Jr.none())}}function PF(e,t,r){e instanceof Uu?function(i,a,o){const s=i.value.clone(),l=M1(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof xa?function(i,a,o){if(!Nd(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=M1(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(Pj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Hl(e,t,r,n){return e instanceof Uu?function(a,o,s,l){if(!Nd(a.precondition,o))return s;const u=a.value.clone(),c=L1(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof xa?function(a,o,s,l){if(!Nd(a.precondition,o))return s;const u=L1(a.fieldTransforms,l,o),c=o.data;return c.setAll(Pj(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return Nd(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function TF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=xj(n.transform,i||null);a!=null&&(r===null&&(r=xr.empty()),r.set(n.field,a))}return r||null}function D1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&fs(n,i,(a,o)=>SF(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uu extends qh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xa extends qh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Pj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function M1(e,t,r){const n=new Map;Ce(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,EF(o,s,r[i]))}return n}function L1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,bF(a,o,t))}return n}class nw extends qh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CF extends qh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&PF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Hl(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Hl(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=wj();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=Aj(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),we())}isEqual(t){return this.batchId===t.batchId&&fs(this.mutations,t.mutations,(r,n)=>D1(r,n))&&fs(this.baseMutations,t.baseMutations,(r,n)=>D1(r,n))}}class iw{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ce(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return vF}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new iw(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,xe;function NF(e){switch(e){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:e})}}function Tj(e){if(e===void 0)return fi("GRPC error has no .code"),F.UNKNOWN;switch(e){case ft.OK:return F.OK;case ft.CANCELLED:return F.CANCELLED;case ft.UNKNOWN:return F.UNKNOWN;case ft.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ft.INTERNAL:return F.INTERNAL;case ft.UNAVAILABLE:return F.UNAVAILABLE;case ft.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ft.NOT_FOUND:return F.NOT_FOUND;case ft.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ft.ABORTED:return F.ABORTED;case ft.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ft.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:e})}}(xe=ft||(ft={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new ia([4294967295,4294967295],0);function V1(e){const t=kF().encode(e),r=new UI;return r.update(t),new Uint8Array(r.digest())}function F1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ia([r,n],0),new ia([i,a],0)]}class aw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Il(`Invalid padding: ${r}`);if(n<0)throw new Il(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Il(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=ia.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(ia.fromNumber(n)));return i.compare(RF)===1&&(i=new ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=V1(t),[n,i]=F1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new aw(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.ge===0)return;const r=V1(t),[n,i]=F1(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Bu.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Wh(ue.min(),i,new rt(ye),hi(),we())}}class Bu{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Bu(n,r,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Cj{constructor(t,r){this.targetId=t,this.Ce=r}}class Ij{constructor(t,r,n=Xt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class $1{constructor(){this.ve=0,this.Fe=z1(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=we(),r=we(),n=we();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:oe(38017,{changeType:a})}}),new Bu(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=z1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DF{constructor(t){this.Ge=t,this.ze=new Map,this.je=hi(),this.Je=Zc(),this.He=Zc(),this.Ye=new rt(ye)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:oe(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Lv(a))if(n===0){const o=new ie(a.path);this.et(r,o,ir.newNoDocument(o,ue.min()))}else Ce(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(t),l=s?this.ct(s,t,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=da(n).toUint8Array()}catch(l){if(l instanceof ej)return ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new aw(o,i,a)}catch(l){return ds(l instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&Lv(s.target)){const l=new ie(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ir.newNoDocument(l,t))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=we();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(t));const i=new Wh(t,r,this.Ye,this.je,n);return this.je=hi(),this.Je=Zc(),this.He=Zc(),this.Ye=new rt(ye),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new $1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Pt(ye),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Pt(ye),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Zc(){return new rt(ie.comparator)}function z1(){return new rt(ie.comparator)}const MF={asc:"ASCENDING",desc:"DESCENDING"},LF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VF={and:"AND",or:"OR"};class FF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function $v(e,t){return e.useProto3Json||Vh(t)?t:{value:t}}function bf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $F(e,t){return bf(e,t.toTimestamp())}function Ln(e){return Ce(!!e,49232),ue.fromTimestamp(function(r){const n=ca(r);return new qe(n.seconds,n.nanos)}(e))}function ow(e,t){return zv(e,t).canonicalString()}function zv(e,t){const r=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Oj(e){const t=Le.fromString(e);return Ce(Mj(t),10190,{key:t.toString()}),t}function Uv(e,t){return ow(e.databaseId,t.path)}function ag(e,t){const r=Oj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie(kj(r))}function Nj(e,t){return ow(e.databaseId,t)}function zF(e){const t=Oj(e);return t.length===4?Le.emptyPath():kj(t)}function Bv(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kj(e){return Ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function U1(e,t,r){return{name:Uv(e,t),fields:r.value.mapValue.fields}}function UF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string",58123),Xt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Xt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?F.UNKNOWN:Tj(u.code);return new Y(c,u.message||"")}(o);r=new Ij(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=ag(e,n.document.name),a=Ln(n.document.updateTime),o=n.document.createTime?Ln(n.document.createTime):ue.min(),s=new xr({mapValue:{fields:n.document.fields}}),l=ir.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new kd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=ag(e,n.document),a=n.readTime?Ln(n.readTime):ue.min(),o=ir.newNoDocument(i,a),s=n.removedTargetIds||[];r=new kd([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=ag(e,n.document),a=n.removedTargetIds||[];r=new kd([],a,i,null)}else{if(!("filter"in t))return oe(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new OF(i,a),s=n.targetId;r=new Cj(s,o)}}return r}function BF(e,t){let r;if(t instanceof Uu)r={update:U1(e,t.key,t.value)};else if(t instanceof nw)r={delete:Uv(e,t.key)};else if(t instanceof xa)r={update:U1(e,t.key,t.data),updateMask:ZF(t.fieldMask)};else{if(!(t instanceof CF))return oe(16599,{Vt:t.type});r={verify:Uv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof _f)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof yu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof wu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof xf)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw oe(20930,{transform:o.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:$F(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:oe(27497)}(e,t.precondition)),r}function qF(e,t){return e&&e.length>0?(Ce(t!==void 0,14353),e.map(r=>function(i,a){let o=i.updateTime?Ln(i.updateTime):Ln(a);return o.isEqual(ue.min())&&(o=Ln(a)),new AF(o,i.transformResults||[])}(r,t))):[]}function WF(e,t){return{documents:[Nj(e,t.path)]}}function KF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Nj(e,i);const a=function(u){if(u.length!==0)return Dj(_n.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:jo(p.field),direction:QF(p.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=$v(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function HF(e){let t=zF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ce(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=Rj(d);return p instanceof _n&&cj(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(p=>function(g){return new wf(Oo(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(d){let p;return p=typeof d=="object"?d.value:d,Vh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new yf(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new yf(m,p)}(r.endAt)),fF(t,i,o,a,s,"F",l,u)}function GF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Rj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Oo(r.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Oo(r.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Oo(r.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oo(r.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(e):e.fieldFilter!==void 0?function(r){return mt.create(Oo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return _n.create(r.compositeFilter.filters.map(n=>Rj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(r.compositeFilter.op))}(e):oe(30097,{filter:e})}function QF(e){return MF[e]}function YF(e){return LF[e]}function XF(e){return VF[e]}function jo(e){return{fieldPath:e.canonicalString()}}function Oo(e){return Ht.fromServerFormat(e.fieldPath)}function Dj(e){return e instanceof mt?function(r){if(r.op==="=="){if(I1(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NAN"}};if(C1(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(I1(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NOT_NAN"}};if(C1(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(r.field),op:YF(r.op),value:r.value}}}(e):e instanceof _n?function(r){const n=r.getFilters().map(i=>Dj(i));return n.length===1?n[0]:{compositeFilter:{op:XF(r.op),filters:n}}}(e):oe(54877,{filter:e})}function ZF(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Mj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,r,n,i,a=ue.min(),o=ue.min(),s=Xt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Hi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t){this.yt=t}}function e6(e){const t=HF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Cn=new r6}addToCollectionParentIndex(t,r){return this.Cn.add(r),z.resolve()}getCollectionParents(t,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return z.resolve()}deleteFieldIndex(t,r){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,r){return z.resolve()}getDocumentsMatchingTarget(t,r){return z.resolve(null)}getIndexType(t,r){return z.resolve(0)}getFieldIndexes(t,r){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,r){return z.resolve(ua.min())}getMinOffsetFromCollectionGroup(t,r){return z.resolve(ua.min())}updateCollectionGroup(t,r,n){return z.resolve()}updateIndexEntries(t,r){return z.resolve()}}class r6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Pt(Le.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Pt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lj=41943040;class wr{static withCacheSize(t){return new wr(t,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(Lj,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ms(0)}static cr(){return new ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="LruGarbageCollector",n6=1048576;function W1([e,t],[r,n]){const i=ye(e,r);return i===0?ye(t,n):i}class i6{constructor(t){this.Ir=t,this.buffer=new Pt(W1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();W1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(q1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Rs(r)?X(q1,"Ignoring IndexedDB error during garbage collection: ",r):await ks(r)}await this.Vr(3e5)})}}class o6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return z.resolve(Lh.ce);const n=new i6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(B1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(t,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(u=Date.now(),Co()<=be.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function s6(e,t){return new o6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changes=new po(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ir.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Hl(n.mutation,i,Dr.empty(),qe.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,we()).next(()=>n))}getLocalViewOfDocuments(t,r,n=we()){const i=$a();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=Cl();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=$a();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,we()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=hi();const o=Kl(),s=function(){return Kl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xa)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Hl(c.mutation,u,c.mutation.getFieldMask(),qe.now())):o.set(u.key,Dr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>s.set(u,new u6(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(t,r){const n=Kl();let i=new rt((o,s)=>o-s),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Dr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=wj();c.forEach(p=>{if(!a.has(p)){const m=Aj(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return z.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):pj(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):z.resolve($a());let s=pu,l=a;return o.next(u=>z.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?z.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,we())).next(c=>({batchId:s,changes:yj(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=Cl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=Cl();return this.indexManager.getCollectionParents(t,a).next(s=>z.forEach(s,l=>{const u=function(d,p){return new zu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ir.newInvalidDocument(c)))});let s=Cl();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Hl(c.mutation,u,Dr.empty(),qe.now()),Uh(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(r)),z.resolve()}getNamedQuery(t,r){return z.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:e6(i.bundledQuery),readTime:Ln(i.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(t,r){return z.resolve(this.overlays.get(r))}getOverlays(t,r){const n=$a();return z.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),z.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(t,r,n){const i=$a(),a=r.length+1,o=new ie(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new rt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=$a(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=$a(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return z.resolve(s)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new jF(r,n));let a=this.qr.get(r);a===void 0&&(a=we(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.Qr=new Pt(Dt.$r),this.Ur=new Pt(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Dt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Dt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new Le([])),n=new Dt(r,t),i=new Dt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new Le([])),n=new Dt(r,t),i=new Dt(r,t+1);let a=we();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new Dt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Dt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||ye(t.Yr,r.Yr)}static Kr(t,r){return ye(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Dt.$r)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IF(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Dt(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return z.resolve(o)}lookupMutationBatch(t,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?X0:this.tr-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Dt(r,0),i=new Dt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Pt(ye);return r.forEach(i=>{const a=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{n=n.add(s.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const o=new Dt(new ie(a),0);let s=new Pt(ye);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),z.resolve(this.ti(s))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ce(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,i=>{const a=new Dt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Dt(r,0),i=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t){this.ri=t,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():ir.newInvalidDocument(r))}getEntries(t,r){let n=hi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ir.newInvalidDocument(i))}),z.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=hi();const o=r.path,s=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||q3(B3(c),n)<=0||(i.has(c.key)||Uh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(t,r,n,i){oe(9500)}ii(t,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new g6(this)}getSize(t){return z.resolve(this.size)}}class g6 extends l6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.persistence=t,this.si=new po(r=>ew(r),tw),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new sw,this.targetCount=0,this.ai=ms.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new ms(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(t,r){return this.Pr(r),z.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),z.waitFor(a).next(()=>i)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),z.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(t,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(t,r){this.ui={},this.overlays={},this.ci=new Lh(0),this.li=!1,this.li=!0,this.hi=new h6,this.referenceDelegate=t(this),this.Pi=new v6(this),this.indexManager=new t6,this.remoteDocumentCache=function(i){return new m6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new JF(r),this.Ii=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new f6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new p6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new y6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class y6 extends K3{constructor(t){super(),this.currentSequenceNumber=t}}class lw{constructor(t){this.persistence=t,this.Ri=new sw,this.Vi=null}static mi(t){return new lw(t)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Ef{constructor(t,r){this.persistence=t,this.pi=new po(n=>Q3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=s6(this,r)}static mi(t,r){return new Ef(t,r)}Ei(){}di(t){return z.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return z.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?z.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,r).next(s=>{s||(n++,a.removeEntry(o,ue.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=jd(t.data.value)),r}br(t,r,n){return z.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return z.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=we(),i=we();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new uw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return h4()?8:H3(d4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new w6;return this.Ss(t,r,o).next(s=>{if(a.result=s,this.Vs)return this.bs(t,r,o,s.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Co()<=be.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Io(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Co()<=be.DEBUG&&X("QueryEngine","Query:",Io(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Co()<=be.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Io(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mn(r))):z.resolve())}ys(t,r){if(k1(r))return z.resolve(null);let n=Mn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Fv(r,null,"F"),n=Mn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=we(...a);return this.ps.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(t,Fv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return k1(r)||i.isEqual(ue.min())?z.resolve(null):this.ps.getDocuments(t,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?z.resolve(null):(Co()<=be.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Io(r)),this.vs(t,o,r,U3(i,pu)).next(s=>s))})}Ds(t,r){let n=new Pt(gj(t));return r.forEach((i,a)=>{Uh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Co()<=be.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Io(r)),this.ps.getDocumentsMatchingQuery(t,r,ua.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="LocalStore",x6=3e8;class b6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new rt(ye),this.xs=new po(a=>ew(a),tw),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function E6(e,t,r,n){return new b6(e,t,r,n)}async function Fj(e,t){const r=ce(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=we();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function S6(e,t){const r=ce(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,p=d.keys();let m=z.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);Ce(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function $j(e){const t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function A6(e,t){const r=ce(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Xt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=x6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,c)&&s.push(r.Pi.updateTargetData(a,m))});let l=hi(),u=we();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(P6(a,o,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(ue.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return z.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function P6(e,t,r){let n=we(),i=we();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=hi();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ue.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):X(cw,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function T6(e,t){const r=ce(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=X0),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function C6(e,t){const r=ce(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,z.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new Hi(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function qv(e,t,r){const n=ce(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rs(o))throw o;X(cw,`Failed to update sequence numbers for target ${t}: ${o}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function K1(e,t,r){const n=ce(e);let i=ue.min(),a=we();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ce(l),p=d.xs.get(c);return p!==void 0?z.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(n,o,Mn(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,t,r?i:ue.min(),r?a:we())).next(s=>(I6(n,pF(t),s),{documents:s,Qs:a})))}function I6(e,t,r){let n=e.Os.get(t)||ue.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class H1{constructor(){this.activeTargetIds=_F()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j6{constructor(){this.Mo=new H1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new H1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="ConnectivityMonitor";class Q1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(G1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(G1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Wv(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",N6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===gf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const o=Wv(),s=this.zo(t,r.toUriEncodedString());X(og,`Sending RPC '${t}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=H0(u);return this.Jo(t,s,l,n,c).then(d=>(X(og,`Received RPC '${t}' ${o}: `,d),d),d=>{throw ds(og,`RPC '${t}' ${o} failed with error: `,d,"url: ",s,"request:",n),d})}Ho(t,r,n,i,a,o){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=N6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class D6 extends k6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const o=Wv();return new Promise((s,l)=>{const u=new BI;u.setWithCredentials(!0),u.listenOnce(qI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Id.NO_ERROR:const d=u.getResponseJson();X(er,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Id.TIMEOUT:X(er,`RPC '${t}' ${o} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const p=u.getStatus();if(X(er,`RPC '${t}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(er,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);X(er,`RPC '${t}' ${o} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Wv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=HI(),s=KI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(er,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new R6({Yo:w=>{m?X(er,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(p||(X(er,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),X(er,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),y=(w,_,b)=>{w.listen(_,E=>{try{b(E)}catch(C){setTimeout(()=>{throw C},0)}})};return y(d,Tl.EventType.OPEN,()=>{m||(X(er,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),y(d,Tl.EventType.CLOSE,()=>{m||(m=!0,X(er,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(d))}),y(d,Tl.EventType.ERROR,w=>{m||(m=!0,ds(er,`RPC '${t}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(d,Tl.EventType.MESSAGE,w=>{var _;if(!m){const b=w.data[0];Ce(!!b,16349);const E=b,C=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(C){X(er,`RPC '${t}' stream ${i} received error:`,C);const O=C.status;let R=function(I){const D=ft[I];if(D!==void 0)return Tj(D)}(O),S=C.message;R===void 0&&(R=F.INTERNAL,S="Unknown error status: "+O+" with message "+C.message),m=!0,g.a_(new Y(R,S)),d.close()}else X(er,`RPC '${t}' stream ${i} received:`,b),g.u_(b)}}),y(s,WI.STAT_EVENT,w=>{w.stat===Nv.PROXY?X(er,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===Nv.NOPROXY&&X(er,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e){return new FF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="PersistentStream";class Uj{constructor(t,r,n,i,a,o,s,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(fi(r.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(Y1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(Y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M6 extends Uj{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=UF(this.serializer,t),n=function(a){if(!("targetChange"in a))return ue.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Ln(o.readTime):ue.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Bv(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Lv(l)?{documents:WF(a,l)}:{query:KF(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=jj(a,o.resumeToken);const u=$v(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){s.readTime=bf(a,o.snapshotVersion.toTimestamp());const u=$v(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=GF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Bv(this.serializer),r.removeTarget=t,this.q_(r)}}class L6 extends Uj{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=qF(t.writeResults,t.commitTime),n=Ln(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Bv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>BF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{}class F6 extends V6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(t,zv(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(t,zv(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class z6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{mo(this)&&(X(no,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await qu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Hh(u)}(this))})}),this.Ra=new $6(n,i)}}async function Hh(e){if(mo(e))for(const t of e.da)await t(!0)}async function qu(e){for(const t of e.da)await t(!1)}function Bj(e,t){const r=ce(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),pw(r)?hw(r):Ds(r).O_()&&fw(r,t))}function dw(e,t){const r=ce(e),n=Ds(r);r.Ia.delete(t),n.O_()&&qj(r,t),r.Ia.size===0&&(n.O_()?n.L_():mo(r)&&r.Ra.set("Unknown"))}function fw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ds(e).Y_(t)}function qj(e,t){e.Va.Ue(t),Ds(e).Z_(t)}function hw(e){e.Va=new DF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ds(e).start(),e.Ra.ua()}function pw(e){return mo(e)&&!Ds(e).x_()&&e.Ia.size>0}function mo(e){return ce(e).Ea.size===0}function Wj(e){e.Va=void 0}async function U6(e){e.Ra.set("Online")}async function B6(e){e.Ia.forEach((t,r)=>{fw(e,t)})}async function q6(e,t){Wj(e),pw(e)?(e.Ra.ha(t),hw(e)):e.Ra.set("Unknown")}async function W6(e,t,r){if(e.Ra.set("Online"),t instanceof Ij&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(e,t)}catch(n){X(no,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Sf(e,n)}else if(t instanceof kd?e.Va.Ze(t):t instanceof Cj?e.Va.st(t):e.Va.tt(t),!r.isEqual(ue.min()))try{const n=await $j(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Xt.EMPTY_BYTE_STRING,c.snapshotVersion)),qj(a,l);const d=new Hi(c.target,l,u,c.sequenceNumber);fw(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){X(no,"Failed to raise snapshot:",n),await Sf(e,n)}}async function Sf(e,t,r){if(!Rs(t))throw t;e.Ea.add(1),await qu(e),e.Ra.set("Offline"),r||(r=()=>$j(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(no,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Hh(e)})}function Kj(e,t){return t().catch(r=>Sf(e,r,t))}async function Gh(e){const t=ce(e),r=ha(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:X0;for(;K6(t);)try{const i=await T6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,H6(t,i)}catch(i){await Sf(t,i)}Hj(t)&&Gj(t)}function K6(e){return mo(e)&&e.Ta.length<10}function H6(e,t){e.Ta.push(t);const r=ha(e);r.O_()&&r.X_&&r.ea(t.mutations)}function Hj(e){return mo(e)&&!ha(e).x_()&&e.Ta.length>0}function Gj(e){ha(e).start()}async function G6(e){ha(e).ra()}async function Q6(e){const t=ha(e);for(const r of e.Ta)t.ea(r.mutations)}async function Y6(e,t,r){const n=e.Ta.shift(),i=iw.from(n,t,r);await Kj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Gh(e)}async function X6(e,t){t&&ha(e).X_&&await async function(n,i){if(function(o){return NF(o)&&o!==F.ABORTED}(i.code)){const a=n.Ta.shift();ha(n).B_(),await Kj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Gh(n)}}(e,t),Hj(e)&&Gj(e)}async function X1(e,t){const r=ce(e);r.asyncQueue.verifyOperationInProgress(),X(no,"RemoteStore received new credentials");const n=mo(r);r.Ea.add(3),await qu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Hh(r)}async function Z6(e,t){const r=ce(e);t?(r.Ea.delete(2),await Hh(r)):t||(r.Ea.add(2),await qu(r),r.Ra.set("Unknown"))}function Ds(e){return e.ma||(e.ma=function(r,n,i){const a=ce(r);return a.sa(),new M6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:U6.bind(null,e),t_:B6.bind(null,e),r_:q6.bind(null,e),H_:W6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),pw(e)?hw(e):e.Ra.set("Unknown")):(await e.ma.stop(),Wj(e))})),e.ma}function ha(e){return e.fa||(e.fa=function(r,n,i){const a=ce(r);return a.sa(),new L6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:G6.bind(null,e),r_:X6.bind(null,e),ta:Q6.bind(null,e),na:Y6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Gh(e)):(await e.fa.stop(),e.Ta.length>0&&(X(no,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new mw(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gw(e,t){if(fi("AsyncQueue",`${t}: ${e}`),Rs(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{static emptySet(t){return new es(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=Cl(),this.sortedSet=new rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof es)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new es;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.ga=new rt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):oe(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class gs{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new gs(t,r,es.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class e${constructor(){this.queries=J1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ce(r),a=i.queries;i.queries=J1(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function J1(){return new po(e=>mj(e),zh)}async function vw(e,t){const r=ce(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new J6,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=gw(o,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&ww(r)}async function yw(e,t){const r=ce(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(t);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function t$(e,t){const r=ce(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&ww(r)}function r$(e,t,r){const n=ce(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function ww(e){e.Ca.forEach(t=>{t.next()})}var Kv,eS;(eS=Kv||(Kv={})).Ma="default",eS.Cache="cache";class _w{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new gs(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Kv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(t){this.key=t}}class Yj{constructor(t){this.key=t}}class n${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=gj(t),this.tu=new es(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new Z1,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Uh(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),w=!0):this.su(p,m)||(n.track({type:2,doc:m}),w=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),w=!0):p&&!m&&(n.track({type:1,doc:p}),w=!0,(l||u)&&(s=!0)),w&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((c,d)=>function(m,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:w})}};return y(m)-y(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new gs(this.query,t.tu,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=we(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new Yj(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new Qj(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=we();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return gs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xw="SyncEngine";class i${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class a${constructor(t){this.key=t,this.hu=!1}}class o${constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new po(s=>mj(s),zh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new sw,this.Vu={},this.mu=new Map,this.fu=ms.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s$(e,t,r=!0){const n=rO(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Xj(n,t,r,!0),i}async function l$(e,t){const r=rO(e);await Xj(r,t,!0,!1)}async function Xj(e,t,r,n){const i=await C6(e.localStore,Mn(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await u$(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&Bj(e.remoteStore,i),s}async function u$(e,t,r,n,i){e.pu=(d,p,m)=>async function(y,w,_,b){let E=w.view.ru(_);E.Cs&&(E=await K1(y.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,E)));const C=b&&b.targetChanges.get(w.targetId),O=b&&b.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(E,y.isPrimaryClient,C,O);return rS(y,w.targetId,R.au),R.snapshot}(e,d,p,m);const a=await K1(e.localStore,t,!0),o=new n$(t,a.Qs),s=o.ru(a.documents),l=Bu.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);rS(e,r,u.au);const c=new i$(t,r,o);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function c$(e,t,r){const n=ce(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!zh(o,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await qv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&dw(n.remoteStore,i.targetId),Hv(n,i.targetId)}).catch(ks)):(Hv(n,i.targetId),await qv(n.localStore,i.targetId,!0))}async function d$(e,t){const r=ce(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),dw(r.remoteStore,n.targetId))}async function f$(e,t,r){const n=w$(e);try{const i=await function(o,s){const l=ce(o),u=qe.now(),c=s.reduce((m,g)=>m.add(g.key),we());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=hi(),y=we();return l.Ns.getEntries(m,c).next(w=>{g=w,g.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(w=>{d=w;const _=[];for(const b of s){const E=TF(b,d.get(b.key).overlayedDocument);E!=null&&_.push(new xa(b.key,E,sj(E.value.mapValue),Jr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,s)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:yj(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new rt(ye)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await Wu(n,i.changes),await Gh(n.remoteStore)}catch(i){const a=gw(i,"Failed to persist write");r.reject(a)}}async function Zj(e,t){const r=ce(e);try{const n=await A6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ce(o.hu,14607):i.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await Wu(r,n,t)}catch(n){await ks(n)}}function tS(e,t,r){const n=ce(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const s=o.view.va(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ce(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)}),u&&ww(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function h$(e,t,r){const n=ce(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let o=new rt(ie.comparator);o=o.insert(a,ir.newNoDocument(a,ue.min()));const s=we().add(a),l=new Wh(ue.min(),new Map,new rt(ye),o,s);await Zj(n,l),n.du=n.du.remove(a),n.Au.delete(t),bw(n)}else await qv(n.localStore,t,!1).then(()=>Hv(n,t,r)).catch(ks)}async function p$(e,t){const r=ce(e),n=t.batch.batchId;try{const i=await S6(r.localStore,t);eO(r,n,null),Jj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Wu(r,i)}catch(i){await ks(i)}}async function m$(e,t,r){const n=ce(e);try{const i=await function(o,s){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Ce(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);eO(n,t,r),Jj(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Wu(n,i)}catch(i){await ks(i)}}function Jj(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function eO(e,t,r){const n=ce(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Hv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||tO(e,n)})}function tO(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(dw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),bw(e))}function rS(e,t,r){for(const n of r)n instanceof Qj?(e.Ru.addReference(n.key,t),g$(e,n)):n instanceof Yj?(X(xw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||tO(e,n.key)):oe(19791,{wu:n})}function g$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(xw,"New document in limbo: "+r),e.Eu.add(n),bw(e))}function bw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie(Le.fromString(t)),n=e.fu.next();e.Au.set(n,new a$(r)),e.du=e.du.insert(r,n),Bj(e.remoteStore,new Hi(Mn($h(r.path)),n,"TargetPurposeLimboResolution",Lh.ce))}}async function Wu(e,t,r){const n=ce(e),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{o.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=uw.As(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,p=>z.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>z.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Rs(d))throw d;X(cw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,y)}}}(n.localStore,a))}async function v$(e,t){const r=ce(e);if(!r.currentUser.isEqual(t)){X(xw,"User change. New user:",t.toKey());const n=await Fj(r.localStore,t);r.currentUser=t,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Wu(r,n.Ls)}}function y$(e,t){const r=ce(e),n=r.Au.get(t);if(n&&n.hu)return we().add(n.key);{let i=we();const a=r.Iu.get(t);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function rO(e){const t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h$.bind(null,t),t.Pu.H_=t$.bind(null,t.eventManager),t.Pu.yu=r$.bind(null,t.eventManager),t}function w$(e){const t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=m$.bind(null,t),t}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return E6(this.persistence,new _6,t.initialUser,this.serializer)}Cu(t){return new Vj(lw.mi,this.serializer)}Du(t){return new j6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class _$ extends Af{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ce(this.persistence.referenceDelegate instanceof Ef,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new a6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new Vj(n=>Ef.mi(n,r),this.serializer)}}class Gv{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=v$.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new e$}()}createDatastore(t){const r=Kh(t.databaseInfo.databaseId),n=function(a){return new D6(a)}(t.databaseInfo);return function(a,o,s,l){return new F6(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new z6(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>tS(this.syncEngine,r,0),function(){return Q1.v()?new Q1:new O6}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new o$(i,a,o,s,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ce(i);X(no,"RemoteStore shutting down."),a.Ea.add(5),await qu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}Gv.provider={build:()=>new Gv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class x${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{X(pa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(X(pa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=gw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function lg(e,t){e.asyncQueue.verifyOperationInProgress(),X(pa,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Fj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function nS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await b$(e);X(pa,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>X1(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>X1(t.remoteStore,i)),e._onlineComponents=t}async function b$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(pa,"Using user provided OfflineComponentProvider");try{await lg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ds("Error using user provided cache. Falling back to memory cache: "+r),await lg(e,new Af)}}else X(pa,"Using default OfflineComponentProvider"),await lg(e,new _$(void 0));return e._offlineComponents}async function nO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(pa,"Using user provided OnlineComponentProvider"),await nS(e,e._uninitializedComponentsProvider._online)):(X(pa,"Using default OnlineComponentProvider"),await nS(e,new Gv))),e._onlineComponents}function E$(e){return nO(e).then(t=>t.syncEngine)}async function Pf(e){const t=await nO(e),r=t.eventManager;return r.onListen=s$.bind(null,t.syncEngine),r.onUnlisten=c$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=l$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=d$.bind(null,t.syncEngine),r}function S$(e,t,r={}){const n=new ii;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new Ew({next:p=>{c.Nu(),o.enqueueAndForget(()=>yw(a,d));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new _w($h(s.path),c,{includeMetadataChanges:!0,qa:!0});return vw(a,d)}(await Pf(e),e.asyncQueue,t,r,n)),n.promise}function A$(e,t,r={}){const n=new ii;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new Ew({next:p=>{c.Nu(),o.enqueueAndForget(()=>yw(a,d)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new _w(s,c,{includeMetadataChanges:!0,qa:!0});return vw(a,d)}(await Pf(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firestore.googleapis.com",aS=!0;class oS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aO,this.ssl=aS}else this.host=t.host,this.ssl=t.ssl??aS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iO(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qh{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new O3;switch(n.type){case"firstParty":return new D3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=iS.get(r);n&&(X("ComponentProvider","Removing Datastore"),iS.delete(r),n.terminate())}(this),Promise.resolve()}}function P$(e,t,r,n={}){var u;e=Tr(e,Qh);const i=H0(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;i&&(o4(`https://${s}`),c4("Firestore",!0)),a.host!==aO&&a.host!==s&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!ff(l,o)&&(e._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=rr.MOCK_USER;else{c=s4(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new rr(p)}e._authCredentials=new N3(new QI(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new go(this.firestore,t,this._query)}}class st{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new st(this.firestore,t,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if($u(r,st._jsonSchema))return new st(t,n||null,new ie(Le.fromString(r.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:gt("string",st._jsonSchemaVersion),referencePath:gt("string")};class aa extends go{constructor(t,r,n){super(t,r,$h(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new st(this.firestore,null,new ie(t))}withConverter(t){return new aa(this.firestore,t,this._path)}}function Si(e,t,...r){if(e=Un(e),YI("collection","path",t),e instanceof Qh){const n=Le.fromString(t,...r);return w1(n),new aa(e,null,n)}{if(!(e instanceof st||e instanceof aa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Le.fromString(t,...r));return w1(n),new aa(e.firestore,null,n)}}function Sn(e,t,...r){if(e=Un(e),arguments.length===1&&(t=Y0.newId()),YI("doc","path",t),e instanceof Qh){const n=Le.fromString(t,...r);return y1(n),new st(e,null,new ie(n))}{if(!(e instanceof st||e instanceof aa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Le.fromString(t,...r));return y1(n),new st(e.firestore,e instanceof aa?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class lS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zj(this,"async_queue_retry"),this._c=()=>{const n=sg();n&&X(sS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=sg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=sg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Rs(t))throw t;X(sS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,fi("INTERNAL UNHANDLED ERROR: ",uS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=mw.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:uS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function uS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class pi extends Qh{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new lS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lS(t),this._firestoreClient=void 0,await t}}}function T$(e,t){const r=typeof e=="object"?e:_3(),n=typeof e=="string"?e:gf,i=m3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=i4("firestore");a&&P$(i,...a)}return i}function Yh(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||C$(e),e._firestoreClient}function C$(e){var n,i,a;const t=e._freezeSettings(),r=function(s,l,u,c){return new Z3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,iO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new x$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qr(Xt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Qr(Xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,Qr._jsonSchema))return Qr.fromBase64String(t.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:gt("string",Qr._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ye(this._lat,t._lat)||ye(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vn._jsonSchemaVersion}}static fromJSON(t){if($u(t,Vn._jsonSchema))return new Vn(t.latitude,t.longitude)}}Vn._jsonSchemaVersion="firestore/geoPoint/1.0",Vn._jsonSchema={type:gt("string",Vn._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,Fn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Fn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fn._jsonSchemaVersion="firestore/vectorValue/1.0",Fn._jsonSchema={type:gt("string",Fn._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=/^__.*__$/;class j${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new xa(t,this.data,this.fieldMask,r,this.fieldTransforms):new Uu(t,this.data,r,this.fieldTransforms)}}class oO{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new xa(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function sO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:e})}}class Aw{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Aw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Tf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(sO(this.Ac)&&I$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class O${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Kh(t)}Cc(t,r,n,i=!1){return new Aw({Ac:t,methodName:r,Dc:n,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(e){const t=e._freezeSettings(),r=Kh(e._databaseId);return new O$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function lO(e,t,r,n,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);Pw("Data must be an object, but it was:",o,n);const s=uO(n,o);let l,u;if(a.merge)l=new Dr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=Qv(t,d,r);if(!o.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dO(c,p)||c.push(p)}l=new Dr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new j$(new xr(s),l,u)}class Jh extends Sw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jh}}function N$(e,t,r,n){const i=e.Cc(1,t,r);Pw("Data must be an object, but it was:",i,n);const a=[],o=xr.empty();_a(n,(l,u)=>{const c=Tw(t,l,r);u=Un(u);const d=i.yc(c);if(u instanceof Jh)a.push(c);else{const p=Ku(u,d);p!=null&&(a.push(c),o.set(c,p))}});const s=new Dr(a);return new oO(o,s,i.fieldTransforms)}function k$(e,t,r,n,i,a){const o=e.Cc(1,t,r),s=[Qv(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(Qv(t,a[p])),l.push(a[p+1]);const u=[],c=xr.empty();for(let p=s.length-1;p>=0;--p)if(!dO(u,s[p])){const m=s[p];let g=l[p];g=Un(g);const y=o.yc(m);if(g instanceof Jh)u.push(m);else{const w=Ku(g,y);w!=null&&(u.push(m),c.set(m,w))}}const d=new Dr(u);return new oO(c,d,o.fieldTransforms)}function R$(e,t,r,n=!1){return Ku(r,e.Cc(n?4:3,t))}function Ku(e,t){if(cO(e=Un(e)))return Pw("Unsupported field value:",t,e),uO(e,t);if(e instanceof Sw)return function(n,i){if(!sO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Ku(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=qe.fromDate(n);return{timestampValue:bf(i.serializer,a)}}if(n instanceof qe){const a=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bf(i.serializer,a)}}if(n instanceof Vn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qr)return{bytesValue:jj(i.serializer,n._byteString)};if(n instanceof st){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ow(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Fn)return function(o,s){return{mapValue:{fields:{[aj]:{stringValue:oj},[vf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return rw(s.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Mh(n)}`)}(e,t)}function uO(e,t){const r={};return JI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,(n,i)=>{const a=Ku(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function cO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof Vn||e instanceof Qr||e instanceof st||e instanceof Sw||e instanceof Fn)}function Pw(e,t,r){if(!cO(r)||!XI(r)){const n=Mh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function Qv(e,t,r){if((t=Un(t))instanceof Xh)return t._internalPath;if(typeof t=="string")return Tw(e,t);throw Tf("Field path arguments must be of type string or ",e,!1,void 0,r)}const D$=new RegExp("[~\\*/\\[\\]]");function Tw(e,t,r){if(t.search(D$)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Xh(...t.split("."))._internalPath}catch{throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Tf(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,s+e+l)}function dO(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new M$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Cw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class M$ extends fO{data(){return super.data()}}function Cw(e,t){return typeof t=="string"?Tw(e,t):t instanceof Xh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iw{}class L$ extends Iw{}function V$(e,t,...r){let n=[];t instanceof Iw&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof jw).length,s=a.filter(l=>l instanceof ep).length;if(o>1||o>0&&s>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class ep extends L${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new ep(t,r,n)}_apply(t){const r=this._parse(t);return pO(t._query,r),new go(t.firestore,t.converter,Vv(t._query,r))}_parse(t){const r=Zh(t.firestore);return function(a,o,s,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fS(d,c);const g=[];for(const y of d)g.push(dS(l,a,y));p={arrayValue:{values:g}}}else p=dS(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fS(d,c),p=R$(s,o,d,c==="in"||c==="not-in");return mt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function F$(e,t,r){const n=t,i=Cw("where",e);return ep._create(i,n,r)}class jw extends Iw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new jw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:_n.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)pO(o,l),o=Vv(o,l)}(t._query,r),new go(t.firestore,t.converter,Vv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dS(e,t,r){if(typeof(r=Un(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pj(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Le.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return T1(e,new ie(n))}if(r instanceof st)return T1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(r)}.`)}function fS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pO(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class $${convertValue(t,r="none"){switch(fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw oe(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return _a(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[vf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>ut(o.doubleValue));return new Fn(r)}convertGeoPoint(t){return new Vn(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Fh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const r=ca(t);return new qe(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Le.fromString(t);Ce(Mj(n),9688,{name:t});const i=new gu(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class jl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ka extends fO{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Cw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ka._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:gt("string",Ka._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Rd extends Ka{data(t={}){return super.data(t)}}class Ha{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new jl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Rd(this._firestore,this._userDataWriter,n.key,n,new jl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Rd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new jl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Rd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new jl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:z$(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function z$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e){e=Tr(e,st);const t=Tr(e.firestore,pi);return S$(Yh(t),e._key).then(r=>yO(t,e,r))}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:gt("string",Ha._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class Ow extends $${constructor(t){super(),this.firestore=t}convertBytes(t){return new Qr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new st(this.firestore,null,r)}}function tp(e){e=Tr(e,go);const t=Tr(e.firestore,pi),r=Yh(t),n=new Ow(t);return hO(e._query),A$(r,e._query).then(i=>new Ha(t,n,e,i))}function U$(e,t,r){e=Tr(e,st);const n=Tr(e.firestore,pi),i=mO(e.converter,t,r);return np(n,[lO(Zh(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Jr.none())])}function rp(e,t,r,...n){e=Tr(e,st);const i=Tr(e.firestore,pi),a=Zh(i);let o;return o=typeof(t=Un(t))=="string"||t instanceof Xh?k$(a,"updateDoc",e._key,t,r,n):N$(a,"updateDoc",e._key,t),np(i,[o.toMutation(e._key,Jr.exists(!0))])}function Nw(e){return np(Tr(e.firestore,pi),[new nw(e._key,Jr.none())])}function kw(e,t){const r=Tr(e.firestore,pi),n=Sn(e),i=mO(e.converter,t);return np(r,[lO(Zh(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Jr.exists(!1))]).then(()=>n)}function vO(e,...t){var l,u,c;e=Un(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||cS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(cS(t[n])){const d=t[n];t[n]=(l=d.next)==null?void 0:l.bind(d),t[n+1]=(u=d.error)==null?void 0:u.bind(d),t[n+2]=(c=d.complete)==null?void 0:c.bind(d)}let a,o,s;if(e instanceof st)o=Tr(e.firestore,pi),s=$h(e._key.path),a={next:d=>{t[n]&&t[n](yO(o,e,d))},error:t[n+1],complete:t[n+2]};else{const d=Tr(e,go);o=Tr(d.firestore,pi),s=d._query;const p=new Ow(o);a={next:m=>{t[n]&&t[n](new Ha(o,p,d,m))},error:t[n+1],complete:t[n+2]},hO(e._query)}return function(p,m,g,y){const w=new Ew(y),_=new _w(m,w,g);return p.asyncQueue.enqueueAndForget(async()=>vw(await Pf(p),_)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>yw(await Pf(p),_))}}(Yh(o),s,i,a)}function np(e,t){return function(n,i){const a=new ii;return n.asyncQueue.enqueueAndForget(async()=>f$(await E$(n),i,a)),a.promise}(Yh(e),t)}function yO(e,t,r){const n=r.docs.get(t._key),i=new Ow(e);return new Ka(e,i,t._key,n,new jl(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(i){Ns=i})(w3),pf(new fu("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new pi(new k3(n.getProvider("auth-internal")),new M3(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Jo(p1,m1,t),Jo(p1,m1,"esm2020")})();var B$="firebase",q$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo(B$,q$,"app");const W$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},K$=FI(W$),Tt=T$(K$),wO=async()=>(await tp(Si(Tt,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),ka=async e=>{const t=Sn(Tt,"incidents",e),r=await gO(t);return r.exists()?{...r.data(),id:r.id}:null},Yv=async e=>(await kw(Si(Tt,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,un=async(e,t)=>{const r=Sn(Tt,"incidents",e);await rp(r,{...t})},H$=async e=>{await Nw(Sn(Tt,"incidents",e))},Rw=async()=>(await tp(Si(Tt,"users"))).docs.map(t=>({...t.data(),id:t.id})),_O=async e=>{const t=V$(Si(Tt,"users"),F$("username","==",e)),r=await tp(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},Dw=async e=>(await kw(Si(Tt,"users"),e)).id,G$=async(e,t)=>{const r=Sn(Tt,"users",e);await rp(r,{...t})},Q$=async e=>{await Nw(Sn(Tt,"users",e))},Y$=async(e,t)=>{const r=Sn(Tt,"users",e);await rp(r,{preferences:t})},X$=async e=>{const r=(await Rw()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},Z$=async e=>{const t=await ka(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await un(e.incidentId,{comments:n}),r.id},Ol=async()=>(await tp(Si(Tt,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),xO=async e=>(await kw(Si(Tt,"automationRules"),e)).id,J$=async(e,t)=>{const r=Sn(Tt,"automationRules",e);await rp(r,{...t})},e5=async e=>{await Nw(Sn(Tt,"automationRules",e))},bO=async()=>{const e=Sn(Tt,"settings","app"),t=await gO(e);return t.exists()?t.data():null},EO=async e=>{const t=Sn(Tt,"settings","app");await U$(t,e,{merge:!0})},t5=e=>vO(Si(Tt,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),r5=e=>vO(Si(Tt,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),n5=async()=>{(await Rw()).length===0&&await Dw({username:"admin",password:"admin123",name:"Administrador",role:"admin",avatar:"",email:"admin@incidentalert.com"}),await bO()||await EO({theme:"light",notifications:!0,autoAssign:!1,language:"es"})},i5=({onAdd:e})=>{const[t,r]=x.useState("MOV-"),[n,i]=x.useState(""),[a,o]=x.useState(""),[s,l]=x.useState(""),[u,c]=x.useState(""),[d,p]=x.useState(""),[m,g]=x.useState(""),[y,w]=x.useState(new Date().toISOString().split("T")[0]),[_,b]=x.useState("abierta"),[E,C]=x.useState("media"),[O,R]=x.useState("correctivo"),S=A=>{if(A.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const I={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:s.trim(),relevante:u.trim(),realizado:d.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:y,status:_,priority:E,type:O,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(I),r("MOV-"),i(""),o(""),l(""),c(""),p(""),g(""),w(new Date().toISOString().split("T")[0]),b("abierta"),C("media"),R("correctivo")};return h.jsx("div",{className:"incident-form-container",children:h.jsxs("form",{className:"incident-form",onSubmit:S,children:[h.jsx("h2",{children:" Crear Nueva Incidencia"}),h.jsxs("div",{className:"form-section",children:[h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),h.jsx("input",{id:"name",type:"text",value:t,onChange:A=>r(A.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"description",children:"Descripcin"}),h.jsx("textarea",{id:"description",value:a,onChange:A=>o(A.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",value:u,onChange:A=>c(A.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",value:d,onChange:A=>p(A.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),h.jsxs("div",{className:"form-group-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",value:m,onChange:A=>g(A.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Prioridad"}),h.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(A=>h.jsxs("button",{type:"button",className:`chip-option priority-${A} ${E===A?"selected":""}`,onClick:()=>C(A),children:[A==="baja"&&" Baja",A==="media"&&" Media",A==="alta"&&" Alta",A==="crtica"&&" Crtica"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Estado"}),h.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${_===A?"selected":""}`,onClick:()=>b(A),children:[A==="abierta"&&"Abierta",A==="en-progreso"&&"En Progreso",A==="puesto-en-test"&&"Puesto en Test",A==="verificado-en-test"&&"Verificado en Test",A==="resuelta"&&"Resuelta",A==="cerrada"&&"Cerrada"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Tipo"}),h.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(A=>h.jsxs("button",{type:"button",className:`chip-option ${O===A?"selected":""}`,onClick:()=>R(A),children:[A==="correctivo"&&" Correctivo",A==="evolutivo"&&" Evolutivo",A==="tarea"&&" Tarea"]},A))})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:" Informacin Adicional"}),h.jsxs("div",{className:"form-grid",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"creationDate",type:"date",value:y,onChange:A=>w(A.target.value)})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"contactUser",type:"text",value:s,onChange:A=>l(A.target.value),placeholder:"Nombre del contacto"})]})]})]}),h.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},a5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=x.useState(e.name),[a,o]=x.useState(e.contactUser||""),[s,l]=x.useState(e.prQA2||""),[u,c]=x.useState(e.prMain||""),[d,p]=x.useState(e.creationDate||""),[m,g]=x.useState(e.status),[y,w]=x.useState(e.priority),[_,b]=x.useState(e.type),E=C=>{if(C.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:s.trim(),prMain:u.trim(),creationDate:d,status:m,priority:y,type:_})};return h.jsx("div",{className:"incident-edit-overlay",children:h.jsxs("form",{className:"incident-edit-form",onSubmit:E,children:[h.jsx("h2",{children:"Editar Incidencia"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),h.jsx("input",{id:"edit-name",type:"text",value:n,onChange:C=>i(C.target.value),placeholder:"Nombre de la incidencia"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),h.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:C=>o(C.target.value),placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),h.jsx("input",{id:"edit-prQA2",type:"text",value:s,onChange:C=>l(C.target.value),placeholder:"ID de PR para QA2"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),h.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:C=>c(C.target.value),placeholder:"ID de PR para MAIN"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),h.jsx("input",{id:"edit-creationDate",type:"date",value:d,onChange:C=>p(C.target.value)})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-status",children:"Estado"}),h.jsxs("select",{id:"edit-status",value:m,onChange:C=>g(C.target.value),children:[h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),h.jsxs("select",{id:"edit-priority",value:y,onChange:C=>w(C.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),h.jsxs("select",{id:"edit-type",value:_,onChange:C=>b(C.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function SO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=SO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=SO(e))&&(n&&(n+=" "),n+=t);return n}var o5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mw(e){if(typeof e!="string")return!1;var t=o5;return t.includes(e)}var s5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l5=new Set(s5);function AO(e){return typeof e!="string"?!1:l5.has(e)}function PO(e){return typeof e=="string"&&e.startsWith("data-")}function xn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(AO(r)||PO(r))&&(t[r]=e[r]);return t}function _u(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xn(t)}return typeof e=="object"&&!Array.isArray(e)?xn(e):null}function rn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(AO(r)||PO(r)||Mw(r))&&(t[r]=e[r]);return t}var u5=["children","width","height","viewBox","className","style","title","desc"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function c5(e,t){if(e==null)return{};var r,n,i=d5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lw=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=c5(e,u5),d=a||{width:n,height:i,x:0,y:0},p=Oe("recharts-surface",o);return x.createElement("svg",Xv({},rn(c),{className:p,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,u),r)}),f5=["children","className"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function h5(e,t){if(e==null)return{};var r,n,i=p5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hr=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=h5(e,f5),a=Oe("recharts-layer",n);return x.createElement("g",Zv({className:a},rn(i),{ref:t}),r)}),TO=x.createContext(null),m5=()=>x.useContext(TO);function Me(e){return function(){return e}}const CO=Math.cos,Cf=Math.sin,An=Math.sqrt,If=Math.PI,ip=2*If,Jv=Math.PI,ey=2*Jv,Ra=1e-6,g5=ey-Ra;function IO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function v5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class y5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IO:v5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ra)if(!(Math.abs(d*l-u*c)>Ra)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,y=l*l+u*u,w=m*m+g*g,_=Math.sqrt(y),b=Math.sqrt(p),E=a*Math.tan((Jv-Math.acos((y+p-w)/(2*_*b)))/2),C=E/b,O=E/_;Math.abs(C-1)>Ra&&this._append`L${t+C*c},${r+C*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+O*l},${this._y1=r+O*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ra||Math.abs(this._y1-c)>Ra)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%ey+ey),p>g5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Ra&&this._append`A${n},${n},0,${+(p>=Jv)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Vw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new y5(t)}function Fw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jO(e){this._context=e}jO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ap(e){return new jO(e)}function OO(e){return e[0]}function NO(e){return e[1]}function kO(e,t){var r=Me(!0),n=null,i=ap,a=null,o=Vw(s);e=typeof e=="function"?e:e===void 0?OO:Me(e),t=typeof t=="function"?t:t===void 0?NO:Me(t);function s(l){var u,c=(l=Fw(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Me(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function ed(e,t,r){var n=null,i=Me(!0),a=null,o=ap,s=null,l=Vw(u);e=typeof e=="function"?e:e===void 0?OO:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NO:Me(+r);function u(d){var p,m,g,y=(d=Fw(d)).length,w,_=!1,b,E=new Array(y),C=new Array(y);for(a==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&i(w=d[p],p,d))===_)if(_=!_)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(E[g],C[g]);s.lineEnd(),s.areaEnd()}_&&(E[p]=+e(w,p,d),C[p]=+t(w,p,d),s.point(n?+n(w,p,d):E[p],r?+r(w,p,d):C[p]))}if(b)return s=null,b+""||null}function c(){return kO().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Me(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Me(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class RO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function w5(e){return new RO(e,!0)}function _5(e){return new RO(e,!1)}const $w={draw(e,t){const r=An(t/If);e.moveTo(r,0),e.arc(0,0,r,0,ip)}},x5={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DO=An(1/3),b5=DO*2,E5={draw(e,t){const r=An(t/b5),n=r*DO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},S5={draw(e,t){const r=An(t),n=-r/2;e.rect(n,n,r,r)}},A5=.8908130915292852,MO=Cf(If/10)/Cf(7*If/10),P5=Cf(ip/10)*MO,T5=-CO(ip/10)*MO,C5={draw(e,t){const r=An(t*A5),n=P5*r,i=T5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=ip*a/5,s=CO(o),l=Cf(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ug=An(3),I5={draw(e,t){const r=-An(t/(ug*3));e.moveTo(0,r*2),e.lineTo(-ug*r,-r),e.lineTo(ug*r,-r),e.closePath()}},Br=-.5,qr=An(3)/2,ty=1/An(12),j5=(ty/2+1)*3,O5={draw(e,t){const r=An(t/j5),n=r/2,i=r*ty,a=n,o=r*ty+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Br*n-qr*i,qr*n+Br*i),e.lineTo(Br*a-qr*o,qr*a+Br*o),e.lineTo(Br*s-qr*l,qr*s+Br*l),e.lineTo(Br*n+qr*i,Br*i-qr*n),e.lineTo(Br*a+qr*o,Br*o-qr*a),e.lineTo(Br*s+qr*l,Br*l-qr*s),e.closePath()}};function N5(e,t){let r=null,n=Vw(i);e=typeof e=="function"?e:Me(e||$w),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function jf(){}function Of(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LO(e){this._context=e}LO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Of(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k5(e){return new LO(e)}function VO(e){this._context=e}VO.prototype={areaStart:jf,areaEnd:jf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R5(e){return new VO(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D5(e){return new FO(e)}function $O(e){this._context=e}$O.prototype={areaStart:jf,areaEnd:jf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function M5(e){return new $O(e)}function hS(e){return e<0?-1:1}function pS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(hS(a)+hS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function mS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Nf(e){this._context=e}Nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cg(this,this._t0,mS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cg(this,mS(this,r=pS(this,e,t)),r);break;default:cg(this,this._t0,r=pS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zO(e){this._context=new UO(e)}(zO.prototype=Object.create(Nf.prototype)).point=function(e,t){Nf.prototype.point.call(this,t,e)};function UO(e){this._context=e}UO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function L5(e){return new Nf(e)}function V5(e){return new zO(e)}function BO(e){this._context=e}BO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=gS(e),i=gS(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function F5(e){return new BO(e)}function op(e,t){this._context=e,this._t=t}op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $5(e){return new op(e,.5)}function z5(e){return new op(e,0)}function U5(e){return new op(e,1)}function vs(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ry(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function B5(e,t){return e[t]}function q5(e){const t=[];return t.key=e,t}function W5(){var e=Me([]),t=ry,r=vs,n=B5;function i(a){var o=Array.from(e.apply(this,arguments),q5),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=Fw(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Me(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ry:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??vs,i):r},i}function K5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}vs(e,t)}}function H5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}vs(e,t)}}function G5(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<s;++g){var y=e[t[g]],w=y[n][1]||0,_=y[n-1][1]||0;m+=w-_}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,vs(e,t)}}var sp={},qO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(qO);var zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(zw);var lp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(lp);var up={},WO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO,r=lp;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(up);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qO,r=zw,n=lp,i=up;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(sp);var Q5=sp.get;const io=bi(Q5);var Vt=e=>e===0?0:e>0?1:-1,bn=e=>typeof e=="number"&&e!=+e,mi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!bn(e),qn=e=>re(e)||typeof e=="string",Y5=0,xu=e=>{var t=++Y5;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(mi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return bn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},KO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Et(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function X5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):io(n,t))===r)}var $t=e=>e===null||typeof e>"u",Hu=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Z5(e){return e!=null}function Gu(){}var J5=["type","size","sizeType"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nz(e,t){if(e==null)return{};var r,n,i=iz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HO={symbolCircle:$w,symbolCross:x5,symbolDiamond:E5,symbolSquare:S5,symbolStar:C5,symbolTriangle:I5,symbolWye:O5},az=Math.PI/180,oz=e=>{var t="symbol".concat(Hu(e));return HO[t]||$w},sz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*az;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lz=(e,t)=>{HO["symbol".concat(Hu(e))]=t},Uw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=nz(e,J5),a=yS(yS({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=oz(o),m=N5().type(p).size(sz(r,n,o)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=rn(a);return re(u)&&re(c)&&re(r)?x.createElement("path",ny({},d,{className:Oe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Uw.registerSymbol=lz;var GO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,uz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Mw(i)&&(n[i]=a=>r[i](r,a))}),n},cz=(e,t,r)=>n=>(e(t,r,n),null),Qu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Mw(i)&&typeof a=="function"&&(n||(n={}),n[i]=cz(a,t,r))}),n};function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t){var r=dz({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr=32,wz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _z(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Kr/2,a=Kr/6,o=Kr/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Kr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Kr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Kr/8,"h").concat(Kr,"v").concat(Kr*3/4,"h").concat(-Kr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=mz({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(Uw,{fill:s,cx:i,cy:i,size:Kr,sizeType:"diameter",type:l})}function xz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:Kr,height:Kr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Oe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,d):c.value;return x.createElement("li",kf({className:m,style:l,key:"legend-item-".concat(d)},Qu(e,c,d)),x.createElement(Lw,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},x.createElement(_z,{data:c,iconType:o,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var bz=e=>{var t=zt(e,wz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(xz,kf({},t,{payload:r})))},QO={},YO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(YO);var Bw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Bw);var XO={},cp={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ZO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cp);var JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cp,r=JO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(XO);var eN={},tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(tN);var rN={},qw={},nN={},Ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ww);var Kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Kw);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Hw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,r=Kw,n=Hw;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(g,y,w,_,b,E){const C=p(g,y,w,_,b,E);return C!==void 0?!!C:a(g,y,m,E)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return s(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let y=0;y<g.length;y++){const w=g[y];if(!r.isPrimitive(c)&&!(w in c)||d[w]===void 0&&c[w]!==void 0||d[w]===null&&c[w]!==null||!p(c[w],d[w],w,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of d.entries()){const w=c.get(g);if(p(w,y,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<d.length;y++){const w=d[y];let _=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const E=c[b];let C=!1;if(p(E,w,y,c,d,m)&&(C=!0),C){g.add(b),_=!0;break}}if(!_)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(nN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nN;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(qw);var iN={},Gw={},aN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(aN);var Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qw);var Yw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",I="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=y,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=R,e.int32ArrayTag=S,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=E,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=_})(Yw);var oN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(oN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN,r=Qw,n=Yw,i=Kw,a=oN;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,d,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const w=new Array(c.length);m.set(c,w);for(let _=0;_<c.length;_++)w[_]=s(c[_],_,p,m,g);return Object.hasOwn(c,"index")&&(w.index=c.index),Object.hasOwn(c,"input")&&(w.input=c.input),w}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const w=new RegExp(c.source,c.flags);return w.lastIndex=c.lastIndex,w}if(c instanceof Map){const w=new Map;m.set(c,w);for(const[_,b]of c)w.set(_,s(b,_,p,m,g));return w}if(c instanceof Set){const w=new Set;m.set(c,w);for(const _ of c)w.add(s(_,void 0,p,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const w=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,w);for(let _=0;_<c.length;_++)w[_]=s(c[_],_,p,m,g);return w}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const w=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,w),l(w,c,p,m,g),w}if(typeof File<"u"&&c instanceof File){const w=new File([c],c.name,{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(typeof Blob<"u"&&c instanceof Blob){const w=new Blob([c],{type:c.type});return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Error){const w=new c.constructor;return m.set(c,w),w.message=c.message,w.name=c.name,w.stack=c.stack,w.cause=c.cause,l(w,c,p,m,g),w}if(c instanceof Boolean){const w=new Boolean(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof Number){const w=new Number(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(c instanceof String){const w=new String(c.valueOf());return m.set(c,w),l(w,c,p,m,g),w}if(typeof c=="object"&&u(c)){const w=Object.create(Object.getPrototypeOf(c));return m.set(c,w),l(w,c,p,m,g),w}return c}function l(c,d,p=c,m,g){const y=[...Object.keys(d),...t.getSymbols(d)];for(let w=0;w<y.length;w++){const _=y[w],b=Object.getOwnPropertyDescriptor(c,_);(b==null||b.writable)&&(c[_]=s(d[_],_,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Gw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(iN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw,r=iN;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(rN);var sN={},lN={},uN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,r=Yw;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(uN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uN;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(lN);var cN={},Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xw);var dN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(dN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,r=Xw,n=dN,i=up;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(cN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw,r=lp,n=lN,i=sp,a=cN;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(sN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,r=tN,n=rN,i=sN;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO,r=Bw,n=XO,i=eN;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(QO);var Ez=QO.uniqBy;const xS=bi(Ez);function fN(e,t,r){return t===!0?xS(e,r):typeof t=="function"?xS(e,t):e}var hN={exports:{}},pN={},mN={exports:{}},gN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=x;function Sz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Az=typeof Object.is=="function"?Object.is:Sz,Pz=ys.useState,Tz=ys.useEffect,Cz=ys.useLayoutEffect,Iz=ys.useDebugValue;function jz(e,t){var r=t(),n=Pz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Cz(function(){i.value=r,i.getSnapshot=t,dg(i)&&a({inst:i})},[e,r,t]),Tz(function(){return dg(i)&&a({inst:i}),e(function(){dg(i)&&a({inst:i})})},[e]),Iz(r),r}function dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Az(e,r)}catch{return!0}}function Oz(e,t){return t()}var Nz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Oz:jz;gN.useSyncExternalStore=ys.useSyncExternalStore!==void 0?ys.useSyncExternalStore:Nz;mN.exports=gN;var kz=mN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=x,Rz=kz;function Dz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mz=typeof Object.is=="function"?Object.is:Dz,Lz=Rz.useSyncExternalStore,Vz=dp.useRef,Fz=dp.useEffect,$z=dp.useMemo,zz=dp.useDebugValue;pN.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Vz(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=$z(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,Mz(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=Lz(e,a[0],a[1]);return Fz(function(){o.hasValue=!0,o.value=s},[s]),zz(s),s};hN.exports=pN;var Uz=hN.exports,Zw=x.createContext(null),Bz=e=>e,Fe=()=>{var e=x.useContext(Zw);return e?e.store.dispatch:Bz},Dd=()=>{},qz=()=>Dd,Wz=(e,t)=>e===t;function te(e){var t=x.useContext(Zw);return Uz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qz,t?t.store.getState:Dd,t?t.store.getState:Dd,t?e:Dd,Wz)}function Kz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var bS=e=>Array.isArray(e)?e:[e];function Qz(e){const t=Array.isArray(e[0])?e[0]:e;return Gz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Yz(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Xz=class{constructor(e){this.value=e}deref(){return this.value}},Zz=typeof WeakRef<"u"?WeakRef:Xz,Jz=0,ES=1;function td(){return{s:Jz,v:void 0,o:null,p:null}}function vN(e,t={}){let r=td();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const w=y.get(g);w===void 0?(s=td(),y.set(g,s)):s=w}else{let y=s.p;y===null&&(s.p=y=new Map);const w=y.get(g);w===void 0?(s=td(),y.set(g,s)):s=w}}const u=s;let c;if(s.s===ES)c=s.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Zz(c):c}return u.s=ES,u.v=c,c}return o.clearCache=()=>{r=td(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function e9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Kz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=vN,argsMemoizeOptions:g=[]}=c,y=bS(p),w=bS(g),_=Qz(i),b=d(function(){return a++,u.apply(null,arguments)},...y),E=m(function(){o++;const O=Yz(_,arguments);return s=b.apply(null,O),s},...w);return Object.assign(E,{resultFunc:u,memoizedResultFunc:b,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=e9(vN),t9=Object.assign((e,t=L)=>{Hz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>t9}),yN={},wN={},_N={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(_N);var xN={},Jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Jw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(xN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N,r=xN,n=up;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,g)=>{let y=m;for(let w=0;w<g.length&&y!=null;++w)y=y[g[w]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<d.length;y++){const w=t.compareValues(m.criteria[y],g.criteria[y],s[y]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(wN);var bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(bN);var e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw,r=cp,n=Ww,i=Hw;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(e_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN,r=bN,n=e_;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(yN);var r9=yN.sortBy;const fp=bi(r9);var EN=e=>e.legend.settings,n9=e=>e.legend.size,i9=e=>e.legend.payload,a9=L([i9,EN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?fp(n,r):n});function o9(){return te(a9)}var rd=1;function SN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>rd||Math.abs(o.left-t.left)>rd||Math.abs(o.top-t.top)>rd||Math.abs(o.width-t.width)>rd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s9=typeof Symbol=="function"&&Symbol.observable||"@@observable",SS=s9,fg=()=>Math.random().toString(36).substring(7).split("").join("."),l9={INIT:`@@redux/INIT${fg()}`,REPLACE:`@@redux/REPLACE${fg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fg()}`},Rf=l9;function t_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AN(e,t,r){if(typeof e!="function")throw new Error(qt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qt(1));return r(AN)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((w,_)=>{o.set(_,w)}))}function c(){if(l)throw new Error(qt(3));return i}function d(w){if(typeof w!="function")throw new Error(qt(4));if(l)throw new Error(qt(5));let _=!0;u();const b=s++;return o.set(b,w),function(){if(_){if(l)throw new Error(qt(6));_=!1,u(),o.delete(b),a=null}}}function p(w){if(!t_(w))throw new Error(qt(7));if(typeof w.type>"u")throw new Error(qt(8));if(typeof w.type!="string")throw new Error(qt(17));if(l)throw new Error(qt(9));try{l=!0,i=n(i,w)}finally{l=!1}return(a=o).forEach(b=>{b()}),w}function m(w){if(typeof w!="function")throw new Error(qt(10));n=w,p({type:Rf.REPLACE})}function g(){const w=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(qt(11));function b(){const C=_;C.next&&C.next(c())}return b(),{unsubscribe:w(b)}},[SS](){return this}}}return p({type:Rf.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[SS]:g}}function u9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Rf.INIT})>"u")throw new Error(qt(12));if(typeof r(void 0,{type:Rf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qt(13))})}function PN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{u9(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=o[d],g=p(m,s);if(typeof g>"u")throw s&&s.type,new Error(qt(14));u[d]=g,l=l||g!==m}return l=l||n.length!==Object.keys(o).length,l?u:o}}function Df(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function c9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(qt(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=Df(...s)(i.dispatch),{...i,dispatch:a}}}function TN(e){return t_(e)&&"type"in e&&typeof e.type=="string"}var CN=Symbol.for("immer-nothing"),AS=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mr=Object,ws=Mr.getPrototypeOf,Mf="constructor",hp="prototype",iy="configurable",Lf="enumerable",Md="writable",bu="value",gi=e=>!!e&&!!e[pr];function En(e){var t;return e?IN(e)||pp(e)||!!e[AS]||!!((t=e[Mf])!=null&&t[AS])||mp(e)||gp(e):!1}var d9=Mr[hp][Mf].toString(),PS=new WeakMap;function IN(e){if(!e||!r_(e))return!1;const t=ws(e);if(t===null||t===Mr[hp])return!0;const r=Mr.hasOwnProperty.call(t,Mf)&&t[Mf];if(r===Object)return!0;if(!No(r))return!1;let n=PS.get(r);return n===void 0&&(n=Function.toString.call(r),PS.set(r,n)),n===d9}function Yu(e,t,r=!0){Xu(e)===0?(r?Reflect.ownKeys(e):Mr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Xu(e){const t=e[pr];return t?t.type_:pp(e)?1:mp(e)?2:gp(e)?3:0}var TS=(e,t,r=Xu(e))=>r===2?e.has(t):Mr[hp].hasOwnProperty.call(e,t),ay=(e,t,r=Xu(e))=>r===2?e.get(t):e[t],Vf=(e,t,r,n=Xu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function f9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pp=Array.isArray,mp=e=>e instanceof Map,gp=e=>e instanceof Set,r_=e=>typeof e=="object",No=e=>typeof e=="function",hg=e=>typeof e=="boolean",Yn=e=>e.copy_||e.base_,n_=e=>e.modified_?e.copy_:e.base_;function oy(e,t){if(mp(e))return new Map(e);if(gp(e))return new Set(e);if(pp(e))return Array[hp].slice.call(e);const r=IN(e);if(t===!0||t==="class_only"&&!r){const n=Mr.getOwnPropertyDescriptors(e);delete n[pr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[Md]===!1&&(s[Md]=!0,s[iy]=!0),(s.get||s.set)&&(n[o]={[iy]:!0,[Md]:!0,[Lf]:s[Lf],[bu]:e[o]})}return Mr.create(ws(e),n)}else{const n=ws(e);if(n!==null&&r)return{...e};const i=Mr.create(n);return Mr.assign(i,e)}}function i_(e,t=!1){return vp(e)||gi(e)||!En(e)||(Xu(e)>1&&Mr.defineProperties(e,{set:nd,add:nd,clear:nd,delete:nd}),Mr.freeze(e),t&&Yu(e,(r,n)=>{i_(n,!0)},!1)),e}function h9(){hn(2)}var nd={[bu]:h9};function vp(e){return e===null||!r_(e)?!0:Mr.isFrozen(e)}var Ff="MapSet",sy="Patches",jN={};function _s(e){const t=jN[e];return t||hn(0,e),t}var p9=e=>!!jN[e],Eu,ON=()=>Eu,m9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:p9(Ff)?_s(Ff):void 0});function CS(e,t){t&&(e.patchPlugin_=_s(sy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ly(e){uy(e),e.drafts_.forEach(g9),e.drafts_=null}function uy(e){e===Eu&&(Eu=e.parent_)}var IS=e=>Eu=m9(Eu,e);function g9(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pr].modified_&&(ly(t),hn(4)),En(e)&&(e=OS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[pr].base_,e,t)}else e=OS(t,r);return v9(t,e,!0),ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CN?e:void 0}function OS(e,t){if(vp(t))return t;const r=t[pr];if(!r)return a_(t,e.handledSet_,e);if(!yp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);RN(r,e)}return r.copy_}function v9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&i_(t,r)}function NN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var yp=(e,t)=>e.scope_===t,y9=[];function kN(e,t,r,n){const i=Yn(e),a=e.type_;if(n!==void 0&&ay(i,n,a)===t){Vf(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Yu(i,(l,u)=>{if(gi(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??y9;for(const s of o)Vf(i,s,r,a)}function w9(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!yp(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=n_(a);kN(e,a.draft_??a,o,r),RN(a,i)})}function RN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}NN(e)}}function _9(e,t,r){const{scope_:n}=e;if(gi(r)){const i=r[pr];yp(i,n)&&i.callbacks_.push(function(){Ld(e);const o=n_(i);kN(e,r,o,t)})}else En(r)&&e.callbacks_.push(function(){const a=Yn(e);ay(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&a_(ay(e.copy_,t,e.type_),n.handledSet_,n)})}function a_(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||gi(e)||t.has(e)||!En(e)||vp(e)||(t.add(e),Yu(e,(n,i)=>{if(gi(i)){const a=i[pr];if(yp(a,r)){const o=n_(a);Vf(e,n,o,e.type_),NN(a)}}else En(i)&&a_(i,t,r)})),e}function x9(e,t){const r=pp(e),n={type_:r?1:0,scope_:t?t.scope_:ON(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=o_;r&&(i=[n],a=Su);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var o_={get(e,t){if(t===pr)return e;const r=Yn(e);if(!TS(r,t,e.type_))return b9(e,r,t);const n=r[t];if(e.finalized_||!En(n))return n;if(n===pg(e.base_,t)){Ld(e);const i=e.type_===1?+t:t,a=dy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Yn(e)},ownKeys(e){return Reflect.ownKeys(Yn(e))},set(e,t,r){const n=DN(Yn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=pg(Yn(e),t),a=i==null?void 0:i[pr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(f9(r,i)&&(r!==void 0||TS(e.base_,t,e.type_)))return!0;Ld(e),cy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),_9(e,t,r)),!0},deleteProperty(e,t){return Ld(e),pg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Md]:!0,[iy]:e.type_!==1||t!=="length",[Lf]:n[Lf],[bu]:r[t]}},defineProperty(){hn(11)},getPrototypeOf(e){return ws(e.base_)},setPrototypeOf(){hn(12)}},Su={};Yu(o_,(e,t)=>{Su[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,r){return o_.set.call(this,e[0],t,r,e[0])};function pg(e,t){const r=e[pr];return(r?Yn(r):e)[t]}function b9(e,t,r){var i;const n=DN(t,r);return n?bu in n?n[bu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function DN(e,t){if(!(t in e))return;let r=ws(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ws(r)}}function cy(e){e.modified_||(e.modified_=!0,e.parent_&&cy(e.parent_))}function Ld(e){e.copy_||(e.assigned_=new Map,e.copy_=oy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(No(r)&&!No(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}No(n)||hn(6),i!==void 0&&!No(i)&&hn(7);let a;if(En(r)){const o=IS(this),s=dy(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?ly(o):uy(o)}return CS(o,i),jS(a,o)}else if(!r||!r_(r)){if(a=n(r),a===void 0&&(a=r),a===CN&&(a=void 0),this.autoFreeze_&&i_(a,!0),i){const o=[],s=[];_s(sy).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else hn(1,r)},this.produceWithPatches=(r,n)=>{if(No(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},hg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),hg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),hg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){En(t)||hn(8),gi(t)&&(t=yn(t));const r=IS(this),n=dy(r,t,void 0);return n[pr].isManual_=!0,uy(r),n}finishDraft(t,r){const n=t&&t[pr];(!n||!n.isManual_)&&hn(9);const{scope_:i}=n;return CS(i,r),jS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=_s(sy).applyPatches_;return gi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function dy(e,t,r,n){const[i,a]=mp(t)?_s(Ff).proxyMap_(t,r):gp(t)?_s(Ff).proxySet_(t,r):x9(t,r);return((r==null?void 0:r.scope_)??ON()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?w9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function yn(e){return gi(e)||hn(10,e),MN(e)}function MN(e){if(!En(e)||vp(e))return e;const t=e[pr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=oy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=oy(e,!0);return Yu(r,(i,a)=>{Vf(r,i,MN(a))},n),t&&(t.finalized_=!1),r}var S9=new E9,LN=S9.produce;function VN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var A9=VN(),P9=VN,T9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Df:Df.apply(null,arguments)};function nn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Vr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TN(n)&&n.type===e,r}var FN=class Nl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nl.prototype)}static get[Symbol.species](){return Nl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nl(...t[0].concat(this)):new Nl(...t.concat(this))}};function NS(e){return En(e)?LN(e,()=>{}):e}function id(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function C9(e){return typeof e=="boolean"}var I9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new FN;return r&&(C9(r)?o.push(A9):o.push(P9(r.extraArgument))),o},$N="RTK_autoBatch",Ke=()=>e=>({payload:e,meta:{[$N]:!0}}),kS=e=>t=>{setTimeout(t,e)},zN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kS(10):e.type==="callback"?e.queueNotification:kS(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return s.add(c),()=>{p(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[$N]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},j9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new FN(e);return n&&i.push(zN(typeof n=="object"?n:void 0)),i};function O9(e){const t=I9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(t_(r))s=PN(r);else throw new Error(Vr(1));let l;typeof n=="function"?l=n(t):l=t();let u=Df;i&&(u=T9({trace:!1,...typeof i=="object"&&i}));const c=c9(...l),d=j9(c);let p=typeof o=="function"?o(d):d();const m=u(...p);return AN(s,a,m)}function UN(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Vr(28));if(s in t)throw new Error(Vr(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function N9(e){return typeof e=="function"}function k9(e,t){let[r,n,i]=UN(t),a;if(N9(e))a=()=>NS(e());else{const s=NS(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(gi(c)){const m=d(c,l);return m===void 0?c:m}else{if(En(c))return LN(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},s)}return o.getInitialState=a,o}var R9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D9=(e=21)=>{let t="",r=e;for(;r--;)t+=R9[Math.random()*64|0];return t},M9=Symbol.for("rtk-slice-createasyncthunk");function L9(e,t){return`${e}/${t}`}function V9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[M9];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Vr(11));const s=(typeof i.reducers=="function"?i.reducers($9()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(C,O){const R=typeof C=="string"?C:C.type;if(!R)throw new Error(Vr(12));if(R in u.sliceCaseReducersByType)throw new Error(Vr(13));return u.sliceCaseReducersByType[R]=O,c},addMatcher(C,O){return u.sliceMatchers.push({matcher:C,reducer:O}),c},exposeAction(C,O){return u.actionCreators[C]=O,c},exposeCaseReducer(C,O){return u.sliceCaseReducersByName[C]=O,c}};l.forEach(C=>{const O=s[C],R={reducerName:C,type:L9(a,C),createNotation:typeof i.reducers=="function"};U9(O)?q9(R,O,c,t):z9(R,O,c)});function d(){const[C={},O=[],R=void 0]=typeof i.extraReducers=="function"?UN(i.extraReducers):[i.extraReducers],S={...C,...u.sliceCaseReducersByType};return k9(i.initialState,A=>{for(let I in S)A.addCase(I,S[I]);for(let I of u.sliceMatchers)A.addMatcher(I.matcher,I.reducer);for(let I of O)A.addMatcher(I.matcher,I.reducer);R&&A.addDefaultCase(R)})}const p=C=>C,m=new Map,g=new WeakMap;let y;function w(C,O){return y||(y=d()),y(C,O)}function _(){return y||(y=d()),y.getInitialState()}function b(C,O=!1){function R(A){let I=A[C];return typeof I>"u"&&O&&(I=id(g,R,_)),I}function S(A=p){const I=id(m,O,()=>new WeakMap);return id(I,A,()=>{const D={};for(const[T,k]of Object.entries(i.selectors??{}))D[T]=F9(k,A,()=>id(g,A,_),O);return D})}return{reducerPath:C,getSelectors:S,get selectors(){return S(R)},selectSlice:R}}const E={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...b(o),injectInto(C,{reducerPath:O,...R}={}){const S=O??o;return C.inject({reducerPath:S,reducer:w},R),{...E,...b(S,!0)}}};return E}}function F9(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Cr=V9();function $9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function z9({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!B9(n))throw new Error(Vr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?nn(e,o):nn(e))}function U9(e){return e._reducerDefinitionType==="asyncThunk"}function B9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function q9({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Vr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ad,pending:s||ad,rejected:l||ad,settled:u||ad})}function ad(){}var W9="task",BN="listener",qN="completed",s_="cancelled",K9=`task-${s_}`,H9=`task-${qN}`,fy=`${BN}-${s_}`,G9=`${BN}-${qN}`,wp=class{constructor(e){Tm(this,"name","TaskAbortError");Tm(this,"message");this.code=e,this.message=`${W9} ${s_} (reason: ${e})`}},l_=(e,t)=>{if(typeof e!="function")throw new TypeError(Vr(32))},$f=()=>{},WN=(e,t=$f)=>(e.catch(t),e),KN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ga=e=>{if(e.aborted)throw new wp(e.reason)};function HN(e,t){let r=$f;return new Promise((n,i)=>{const a=()=>i(new wp(e.reason));if(e.aborted){a();return}r=KN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=$f})}var Q9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof wp?"cancelled":"rejected",error:r}}finally{t==null||t()}},zf=e=>t=>WN(HN(e,t).then(r=>(Ga(e),r))),GN=e=>{const t=zf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ts}=Object,RS={},_p="listenerMiddleware",Y9=(e,t)=>{const r=n=>KN(e,()=>n.abort(e.reason));return(n,i)=>{l_(n);const a=new AbortController;r(a);const o=Q9(async()=>{Ga(e),Ga(a.signal);const s=await n({pause:zf(a.signal),delay:GN(a.signal),signal:a.signal});return Ga(a.signal),s},()=>a.abort(H9));return i!=null&&i.autoJoin&&t.push(o.catch($f)),{result:zf(e)(o),cancel(){a.abort(K9)}}}},X9=(e,t)=>{const r=async(n,i)=>{Ga(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await HN(t,Promise.race(s));return Ga(t),l}finally{a()}};return(n,i)=>WN(r(n,i))},QN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=nn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Vr(21));return l_(a),{predicate:i,type:t,effect:a}},YN=ts(e=>{const{type:t,predicate:r,effect:n}=QN(e);return{id:D9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Vr(22))}}},{withTypes:()=>YN}),DS=(e,t)=>{const{type:r,effect:n,predicate:i}=QN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},hy=e=>{e.pending.forEach(t=>{t.abort(fy)})},Z9=(e,t)=>()=>{for(const r of t.keys())hy(r);e.clear()},MS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},XN=ts(nn(`${_p}/add`),{withTypes:()=>XN}),J9=nn(`${_p}/removeAll`),ZN=ts(nn(`${_p}/remove`),{withTypes:()=>ZN}),eU=(...e)=>{console.error(`${_p}/error`,...e)},Zu=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:o=eU}=e;l_(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&hy(m)}),l=m=>{const g=DS(t,m)??YN(m);return s(g)};ts(l,{withTypes:()=>l});const u=m=>{const g=DS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&hy(g)),!!g};ts(u,{withTypes:()=>u});const c=async(m,g,y,w)=>{const _=new AbortController,b=X9(l,_.signal),E=[];try{m.pending.add(_),n(m),await Promise.resolve(m.effect(g,ts({},y,{getOriginalState:w,condition:(C,O)=>b(C,O).then(Boolean),take:b,delay:GN(_.signal),pause:zf(_.signal),extra:a,signal:_.signal,fork:Y9(_.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((C,O,R)=>{C!==_&&(C.abort(fy),R.delete(C))})},cancel:()=>{_.abort(fy),m.pending.delete(_)},throwIfCancelled:()=>{Ga(_.signal)}})))}catch(C){C instanceof wp||MS(o,C,{raisedBy:"effect"})}finally{await Promise.all(E),_.abort(G9),i(m),m.pending.delete(_)}},d=Z9(t,r);return{middleware:m=>g=>y=>{if(!TN(y))return g(y);if(XN.match(y))return l(y.payload);if(J9.match(y)){d();return}if(ZN.match(y))return u(y.payload);let w=m.getState();const _=()=>{if(w===RS)throw new Error(Vr(23));return w};let b;try{if(b=g(y),t.size>0){const E=m.getState(),C=Array.from(t.values());for(const O of C){let R=!1;try{R=O.predicate(y,E,w)}catch(S){R=!1,MS(o,S,{raisedBy:"predicate"})}R&&c(O,y,m,_)}}}finally{w=RS}return b},startListening:l,stopListening:u,clearListeners:d}};function Vr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JN=Cr({name:"chartLayout",initialState:tU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:rU,setLayout:nU,setChartSize:iU,setScale:aU}=JN.actions,oU=JN.reducer;function ek(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ge(e,t,r){return $t(e)||$t(t)?r:qn(t)?io(e,t,r):typeof t=="function"?t(e):r}var cU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&re(e[a]))return Wo(Wo({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&re(e[o]))return Wo(Wo({},e),{},{[o]:e[o]+(i||0)})}return e},vo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",tk=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},rk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Vt(a[0]-a[1])*2*y:y,d||p){var w=(d||p||[]).map((_,b)=>{var E=n?n.indexOf(_):_;return{coordinate:o(E)+y,value:_,offset:y,index:b}});return w.filter(_=>!bn(_.coordinate))}return l&&u?u.map((_,b)=>({coordinate:o(_)+y,value:_,index:b,offset:y})):o.ticks&&c!=null?o.ticks(c).map((_,b)=>({coordinate:o(_)+y,value:_,offset:y,index:b})):o.domain().map((_,b)=>({coordinate:o(_)+y,value:n?n[_]:_,index:b,offset:y}))},VS=1e-4,dU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-VS,a=Math.max(n[0],n[1])+VS,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},fU=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},hU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=bn(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},pU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=bn(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},mU={sign:hU,expand:K5,none:vs,silhouette:H5,wiggle:G5,positive:pU},gU=(e,t,r)=>{var n=mU[r],i=W5().keys(t).value((a,o)=>Number(Ge(a,o,0))).order(ry).offset(n);return i(e)};function vU(e){return e==null?void 0:String(e)}var FS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ge(a,t.dataKey,t.scale.domain()[o]);return $t(s)?null:t.scale(s)-i/2+n},yU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},wU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},_U=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xU=(e,t,r)=>{if(e!=null)return _U(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,u)=>{var c=ek(u,t,r),d=wU(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},$S=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=fp(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function US(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Wo(Wo({},t),{},{dataKey:r,payload:n,value:i,name:a})}function xp(e,t){if(e)return String(e);if(typeof t=="string")return t}var bU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},EU=(e,t)=>t==="centric"?e.angle:e.radius,Ai=e=>e.layout.width,Pi=e=>e.layout.height,SU=e=>e.layout.scale,nk=e=>e.layout.margin,bp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ep=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ik="data-recharts-item-index",ak="data-recharts-item-data-key",Ju=60;function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return(t=PU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CU=e=>e.brush.height;function IU(e){var t=Ep(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ju;return r+i}return r},0)}function jU(e){var t=Ep(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ju;return r+i}return r},0)}function OU(e){var t=bp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function NU(e){var t=bp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ct=L([Ai,Pi,nk,CU,IU,jU,OU,NU,EN,n9],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},p=od(od({},d),c),m=p.bottom;p.bottom+=n,p=cU(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return od(od({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),kU=L(Ct,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u_=L(Ai,Pi,(e,t)=>({x:0,y:0,width:e,height:t})),RU=x.createContext(null),Ir=()=>x.useContext(RU)!=null,Sp=e=>e.brush,Ap=L([Sp,Ct,nk],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),ok={},sk={},lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),o=void 0,s=null},w=()=>{c()},_=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const E=p==null;m(),l&&E&&c()};return _.schedule=m,_.cancel=y,_.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),_}e.debounce=t})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...y){c=n.apply(this,y),d=null},i,{edges:u}),m=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,y),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sk;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(ok);var DU=ok.throttle;const MU=bi(DU);var Bf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},uk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=mi(n)?e:Number(n),l=mi(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},LU={width:0,height:0,overflow:"visible"},VU={width:0,overflowX:"visible"},FU={height:0,overflowY:"visible"},$U={},zU=e=>{var{width:t,height:r}=e,n=mi(t),i=mi(r);return n&&i?LU:n?VU:i?FU:$U};function UU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function dt(e){return Number.isFinite(e)}function Wn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){BU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BU(e,t,r){return(t=qU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ck=x.createContext({width:-1,height:-1});function KU(e){return Wn(e.width)&&Wn(e.height)}function dk(e){var{children:t,width:r,height:n}=e,i=x.useMemo(()=>({width:r,height:n}),[r,n]);return KU(i)?x.createElement(ck.Provider,{value:i},t):null}var c_=()=>x.useContext(ck),HU=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,y=x.useRef(null),w=x.useRef();w.current=m,x.useImperativeHandle(t,()=>y.current);var[_,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((A,I)=>{b(D=>{var T=Math.round(A),k=Math.round(I);return D.containerWidth===T&&D.containerHeight===k?D:{containerWidth:T,containerHeight:k}})},[]);x.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Gu;var A=k=>{var j,{width:Q,height:se}=k[0].contentRect;E(Q,se),(j=w.current)===null||j===void 0||j.call(w,Q,se)};c>0&&(A=MU(A,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(A),{width:D,height:T}=y.current.getBoundingClientRect();return E(D,T),I.observe(y.current),()=>{I.disconnect()}},[E,c]);var{containerWidth:C,containerHeight:O}=_;Bf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:S}=uk(C,O,{width:i,height:a,aspect:r,maxHeight:l});return Bf(R!=null&&R>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,S,i,a,o,s,r),x.createElement("div",{id:d?"".concat(d):void 0,className:Oe("recharts-responsive-container",p),style:WS(WS({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:y},x.createElement("div",{style:zU({width:i,height:a})},x.createElement(dk,{width:R,height:S},u)))}),d_=x.forwardRef((e,t)=>{var r=c_();if(Wn(r.width)&&Wn(r.height))return e.children;var{width:n,height:i}=UU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=uk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(o)?x.createElement(dk,{width:a,height:o},e.children):x.createElement(HU,py({},e,{width:n,height:i,ref:t}))});function fk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pp=()=>{var e,t=Ir(),r=te(kU),n=te(Ap),i=(e=te(Sp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},GU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hk=()=>{var e;return(e=te(Ct))!==null&&e!==void 0?e:GU},f_=()=>te(Ai),h_=()=>te(Pi),QU=()=>te(e=>e.layout.margin),Pe=e=>e.layout.layoutType,Tp=()=>te(Pe),YU=()=>{var e=Tp();return e!==void 0},Cp=e=>{var t=Fe(),r=Ir(),{width:n,height:i}=e,a=c_(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),x.useEffect(()=>{!r&&Wn(o)&&Wn(s)&&t(iU({width:o,height:s}))},[t,r,o,s]),null},pk=Symbol.for("immer-nothing"),KS=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function pn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Au=Object.getPrototypeOf;function xs(e){return!!e&&!!e[$r]}function ao(e){var t;return e?mk(e)||Array.isArray(e)||!!e[KS]||!!((t=e.constructor)!=null&&t[KS])||ec(e)||jp(e):!1}var XU=Object.prototype.constructor.toString(),HS=new WeakMap;function mk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=HS.get(r);return n===void 0&&(n=Function.toString.call(r),HS.set(r,n)),n===XU}function qf(e,t,r=!0){Ip(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ip(e){const t=e[$r];return t?t.type_:Array.isArray(e)?1:ec(e)?2:jp(e)?3:0}function my(e,t){return Ip(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gk(e,t,r){const n=Ip(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ec(e){return e instanceof Map}function jp(e){return e instanceof Set}function Da(e){return e.copy_||e.base_}function gy(e,t){if(ec(e))return new Map(e);if(jp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$r];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Au(e),n)}else{const n=Au(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function p_(e,t=!1){return Op(e)||xs(e)||!ao(e)||(Ip(e)>1&&Object.defineProperties(e,{set:sd,add:sd,clear:sd,delete:sd}),Object.freeze(e),t&&Object.values(e).forEach(r=>p_(r,!0))),e}function JU(){pn(2)}var sd={value:JU};function Op(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var eB={};function oo(e){const t=eB[e];return t||pn(0,e),t}var Pu;function vk(){return Pu}function tB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GS(e,t){t&&(oo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vy(e){yy(e),e.drafts_.forEach(rB),e.drafts_=null}function yy(e){e===Pu&&(Pu=e.parent_)}function QS(e){return Pu=tB(Pu,e)}function rB(e){const t=e[$r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$r].modified_&&(vy(t),pn(4)),ao(e)&&(e=Wf(t,e),t.parent_||Kf(t,e)),t.patches_&&oo("Patches").generateReplacementPatches_(r[$r].base_,e,t.patches_,t.inversePatches_)):e=Wf(t,r,[]),vy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pk?e:void 0}function Wf(e,t,r){if(Op(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[$r];if(!i)return qf(t,(a,o)=>XS(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Kf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),qf(o,(l,u)=>XS(e,i,a,l,u,r,s),n),Kf(e,a,!1),r&&e.patches_&&oo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function XS(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=Op(i);if(!(s&&!o)){if(xs(i)){const l=a&&t&&t.type_!==3&&!my(t.assigned_,n)?a.concat(n):void 0,u=Wf(e,i,l);if(gk(r,n,u),xs(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ao(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Wf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ec(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Kf(e,i)}}}function Kf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&p_(t,r)}function nB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=m_;r&&(i=[n],a=Tu);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var m_={get(e,t){if(t===$r)return e;const r=Da(e);if(!my(r,t))return iB(e,r,t);const n=r[t];return e.finalized_||!ao(n)?n:n===mg(e.base_,t)?(gg(e),e.copy_[t]=_y(n,e)):n},has(e,t){return t in Da(e)},ownKeys(e){return Reflect.ownKeys(Da(e))},set(e,t,r){const n=yk(Da(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=mg(Da(e),t),a=i==null?void 0:i[$r];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZU(r,i)&&(r!==void 0||my(e.base_,t)))return!0;gg(e),wy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gg(e),wy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Da(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){pn(11)},getPrototypeOf(e){return Au(e.base_)},setPrototypeOf(){pn(12)}},Tu={};qf(m_,(e,t)=>{Tu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tu.deleteProperty=function(e,t){return Tu.set.call(this,e,t,void 0)};Tu.set=function(e,t,r){return m_.set.call(this,e[0],t,r,e[0])};function mg(e,t){const r=e[$r];return(r?Da(r):e)[t]}function iB(e,t,r){var i;const n=yk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function yk(e,t){if(!(t in e))return;let r=Au(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Au(r)}}function wy(e){e.modified_||(e.modified_=!0,e.parent_&&wy(e.parent_))}function gg(e){e.copy_||(e.copy_=gy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var aB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&pn(6),n!==void 0&&typeof n!="function"&&pn(7);let i;if(ao(t)){const a=QS(this),o=_y(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?vy(a):yy(a)}return GS(a,n),YS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===pk&&(i=void 0),this.autoFreeze_&&p_(i,!0),n){const a=[],o=[];oo("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else pn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ao(e)||pn(8),xs(e)&&(e=oB(e));const t=QS(this),r=_y(e,void 0);return r[$r].isManual_=!0,yy(t),r}finishDraft(e,t){const r=e&&e[$r];(!r||!r.isManual_)&&pn(9);const{scope_:n}=r;return GS(n,t),YS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=oo("Patches").applyPatches_;return xs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function _y(e,t){const r=ec(e)?oo("MapSet").proxyMap_(e,t):jp(e)?oo("MapSet").proxySet_(e,t):nB(e,t);return(t?t.scope_:vk()).drafts_.push(r),r}function oB(e){return xs(e)||pn(10,e),wk(e)}function wk(e){if(!ao(e)||Op(e))return e;const t=e[$r];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gy(e,!0);return qf(r,(i,a)=>{gk(r,i,wk(a))},n),t&&(t.finalized_=!1),r}var sB=new aB;sB.produce;var lB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_k=Cr({name:"legend",initialState:lB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=yn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ke()},removeLegendPayload:{reducer(e,t){var r=yn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ke()}}}),{setLegendSize:ZS,setLegendSettings:uB,addLegendPayload:xk,replaceLegendPayload:bk,removeLegendPayload:Ek}=_k.actions,cB=_k.reducer,dB=["contextPayload"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=pB(e,"string");return typeof t=="symbol"?t:t+""}function pB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mB(e,t){if(e==null)return{};var r,n,i=gB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vB(e){return e.value}function yB(e){var{contextPayload:t}=e,r=mB(e,dB),n=fN(t,e.payloadUniqBy,vB),i=bs(bs({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(bz,i)}function wB(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),bs(bs({},u),c)}function _B(e){var t=Fe();return x.useEffect(()=>{t(uB(e))},[t,e]),null}function xB(e){var t=Fe();return x.useEffect(()=>(t(ZS(e)),()=>{t(ZS({width:0,height:0}))}),[t,e]),null}function bB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var EB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Np(e){var t=zt(e,EB),r=o9(),n=m5(),i=QU(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=SN([r]),d=f_(),p=h_();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=bB(t.layout,o,a,m),y=l?s:bs(bs({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||o||"auto"},wB(s,t,i,d,p,u)),s),w=l??n;if(w==null||r==null)return null;var _=x.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},x.createElement(_B,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(xB,{width:u.width,height:u.height}),x.createElement(yB,xy({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return zn.createPortal(_,w)}Np.displayName="Legend";function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){SB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e){return Array.isArray(e)&&qn(e[0])&&qn(e[1])?e.join(" ~ "):e}var CB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var O={padding:0,margin:0},R=(s?fp(a,s):a).map((S,A)=>{if(S.type==="none")return null;var I=S.formatter||o||TB,{value:D,name:T}=S,k=D,j=T;if(I){var Q=I(D,T,S,A,a);if(Array.isArray(Q))[k,j]=Q;else if(Q!=null)k=Q;else return null}var se=vg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:se},qn(j)?x.createElement("span",{className:"recharts-tooltip-item-name"},j):null,qn(j)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},g=vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=vg({margin:0},i),w=!$t(c),_=w?c:"",b=Oe("recharts-default-tooltip",l),E=Oe("recharts-tooltip-label",u);w&&d&&a!==void 0&&a!==null&&(_=d(c,a));var C=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",by({className:b,style:g},C),x.createElement("p",{className:E,style:y},x.isValidElement(_)?_:"".concat(_)),m())},ml="recharts-tooltip-wrapper",IB={visibility:"hidden"};function jB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Oe(ml,{["".concat(ml,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(ml,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(ml,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(ml,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function tA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&re(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var p=l[n];if(p==null)return 0;if(o[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var y=d+s,w=p+u;return y>w?Math.max(c,p):Math.max(d,p)}function OB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=tA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=tA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=OB({translateX:c,translateY:d,useTranslate3d:s})):u=IB,{cssProperties:u,cssClasses:jB({translateX:c,translateY:d,coordinate:r})}}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ey(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DB extends x.PureComponent{constructor(){super(...arguments),Ey(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ey(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:w,hasPortalFromProps:_}=this.props,{cssClasses:b,cssProperties:E}=NB({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),C=_?{}:ld(ld({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),O=ld(ld({},C),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:O,ref:w},a)}}var Sk=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){MB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MB(e,t,r){return(t=LB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=VB(e,"string");return typeof t=="symbol"?t:t+""}function VB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aA={curveBasisClosed:R5,curveBasisOpen:D5,curveBasis:k5,curveBumpX:w5,curveBumpY:_5,curveLinearClosed:M5,curveLinear:ap,curveMonotoneX:L5,curveMonotoneY:V5,curveNatural:F5,curveStep:$5,curveStepAfter:U5,curveStepBefore:z5},Hf=e=>dt(e.x)&&dt(e.y),oA=e=>e.base!=null&&Hf(e.base)&&Hf(e),gl=e=>e.x,vl=e=>e.y,FB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Hu(e));return(r==="curveMonotone"||r==="curveBump")&&t?aA["".concat(r).concat(t==="vertical"?"Y":"X")]:aA[r]||ap},$B=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=FB(t,i),s=a?r.filter(Hf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>iA(iA({},m),{},{base:n[g]}));i==="vertical"?l=ed().y(vl).x1(gl).x0(m=>m.base.x):l=ed().x(gl).y1(vl).y0(m=>m.base.y);var c=l.defined(oA).curve(o),d=a?u.filter(oA):u;return c(d)}i==="vertical"&&re(n)?l=ed().y(vl).x1(gl).x0(n):re(n)?l=ed().x(gl).y1(vl).y0(n):l=kO().x(gl).y(vl);var p=l.defined(Hf).curve(o);return p(s)},g_=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?$B(e):n;return x.createElement("path",Sy({},xn(e),uz(e),{className:Oe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},zB=["x","y","top","left","width","height","className"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KB(e,t){if(e==null)return{};var r,n,i=HB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GB=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),QB=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=KB(e,zB),u=UB({x:t,y:r,top:n,left:i,width:a,height:o},l);return!re(t)||!re(r)||!re(a)||!re(o)||!re(n)||!re(i)?null:x.createElement("path",Ay({},rn(u),{className:Oe("recharts-cross",s),d:GB(t,r,a,o,n,i)}))};function YB(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ak=(e,t,r)=>e.map(n=>"".concat(e8(n)," ").concat(t,"ms ").concat(r)).join(","),t8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Cu=(e,t)=>Object.keys(t).reduce((r,n)=>uA(uA({},r),{},{[n]:e(n,t[n])}),{});function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=(e,t,r)=>e+(t-e)*r,Py=e=>{var{from:t,to:r}=e;return t!==r},Pk=(e,t,r)=>{var n=Cu((i,a)=>{if(Py(a)){var[o,s]=e(a.from,a.to,a.velocity);return St(St({},a),{},{from:o,velocity:s})}return a},t);return r<1?Cu((i,a)=>Py(a)?St(St({},a),{},{velocity:Gf(a.velocity,n[i].velocity,r),from:Gf(a.from,n[i].from,r)}):a,t):Pk(e,n,r-1)};function a8(e,t,r,n,i,a){var o,s=n.reduce((p,m)=>St(St({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Cu((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Py).length,c=null,d=p=>{o||(o=p);var m=p-o,g=m/r.dt;s=Pk(r,s,g),i(St(St(St({},e),t),l())),o=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function o8(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,p)=>St(St({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Cu((y,w)=>Gf(...w,r(p)),l);if(a(St(St(St({},e),t),m)),p<1)s=o.setTimeout(c);else{var g=Cu((y,w)=>Gf(...w,r(1)),l);a(St(St(St({},e),t),g))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const s8=(e,t,r,n,i,a)=>{var o=t8(e,t);return r==null?()=>(i(St(St({},e),t)),()=>{}):r.isStepper===!0?a8(e,t,r,o,i,a):o8(e,t,r,n,o,i,a)};var Qf=1e-4,Tk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Ck=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),dA=(e,t)=>r=>{var n=Tk(e,t);return Ck(n,r)},l8=(e,t)=>r=>{var n=Tk(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return Ck(i,r)},u8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},c8=(e,t,r,n)=>{var i=dA(e,r),a=dA(t,n),o=l8(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=o(d);if(Math.abs(m-c)<Qf||g<Qf)return a(d);d=s(d-m/g)}return a(d)};return l.isStepper=!1,l},fA=function(){return c8(...u8(...arguments))},d8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+o;return Math.abs(p-s)<Qf&&Math.abs(d)<Qf?[s,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},f8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fA(e);case"spring":return d8();default:if(e.split("(")[0]==="cubic-bezier")return fA(e)}return typeof e=="function"?e:null};function h8(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class p8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function m8(){return h8(new p8)}var g8=x.createContext(m8);function v8(e,t){var r=x.useContext(g8);return x.useMemo(()=>t??r(e),[e,t,r])}var y8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),tc={devToolsEnabled:!1,isSsr:y8()},w8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hA={t:0},yg={t:1};function kp(e){var t=zt(e,w8),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!tc.isSsr:r,d=v8(t.animationId,t.animationManager),[p,m]=x.useState(c?hA:yg),g=x.useRef(null);return x.useEffect(()=>{c||m(yg)},[c]),x.useEffect(()=>{if(!c||!n)return Gu;var y=s8(hA,yg,f8(a),i,m,d.getTimeoutController()),w=()=>{g.current=y()};return d.start([l,o,w,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,n,i,a,o,l,s,d]),u(p.t)}function Rp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(xu(t)),n=x.useRef(e);return n.current!==e&&(r.current=xu(t),n.current=e),r.current}var _8=["radius"],x8=["radius"];function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){b8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b8(e,t,r){return(t=E8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(null,arguments)}function gA(e,t){if(e==null)return{};var r,n,i=A8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+r-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*c[1])),u+="L ".concat(e+r,",").concat(t+n-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-s*c[2],",").concat(t+n)),u+="L ".concat(e+s*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},yA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ik=e=>{var t=zt(e,yA),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,w=x.useRef(s),_=x.useRef(l),b=x.useRef(a),E=x.useRef(o),C=x.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),O=Rp(C,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var R=Oe("recharts-rectangle",c);if(!y){var S=rn(t),{radius:A}=S,I=gA(S,_8);return x.createElement("path",Yf({},I,{radius:typeof u=="number"?u:void 0,className:R,d:vA(a,o,s,l,u)}))}var D=w.current,T=_.current,k=b.current,j=E.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),de=Ak(["strokeDasharray"],p,typeof d=="string"?d:yA.animationEasing);return x.createElement(kp,{animationId:O,key:O,canBegin:n>0,duration:p,easing:d,isActive:y,begin:m},le=>{var U=Et(D,s,le),K=Et(T,l,le),ne=Et(k,a,le),pe=Et(j,o,le);r.current&&(w.current=U,_.current=K,b.current=ne,E.current=pe);var _e;g?le>0?_e={transition:de,strokeDasharray:se}:_e={strokeDasharray:Q}:_e={strokeDasharray:se};var wt=rn(t),{radius:Ne}=wt,Bt=gA(wt,x8);return x.createElement("path",Yf({},Bt,{radius:typeof u=="number"?u:void 0,className:R,d:vA(ne,pe,U,K,u),ref:r,style:mA(mA({},_e),t.style)}))})};function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){P8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8(e,t,r){return(t=T8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=Math.PI/180,I8=e=>e*180/Math.PI,vt=(e,t,r,n)=>({x:e+Math.cos(-Xf*n)*r,y:t+Math.sin(-Xf*n)*r}),jk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},j8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},O8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=j8({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:I8(l),angleInRadian:l}},N8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},k8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},R8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=O8({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=N8(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?_A(_A({},t),{},{radius:i,angle:k8(c,t)}):null};function Ok(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=vt(t,r,n,i),s=vt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}var D8=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ud=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Xf,d=l?i:i+a*c,p=vt(t,r,u,d),m=vt(t,r,n,d),g=l?i-a*c:i,y=vt(t,r,u*Math.cos(c*Xf),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},Nk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=D8(a,o),l=a+s,u=vt(t,r,i,a),c=vt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=vt(t,r,n,a),m=vt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},M8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Vt(u-l),{circleTangency:d,lineTangency:p,theta:m}=ud({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:y,theta:w}=ud({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),_=s?Math.abs(l-u):Math.abs(l-u)-m-w;if(_<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Nk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:O}=ud({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:R,lineTangency:S,theta:A}=ud({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-O-A;if(I<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},L8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kk=e=>{var t=zt(e,L8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Oe("recharts-sector",d),m=a-i,g=or(o,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=M8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=Nk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),x.createElement("path",Ty({},rn(t),{className:p,d:y}))};function V8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(GO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=vt(n,i,a,s),u=vt(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Ok(t)}}var Rk={},Dk={},Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e_,r=Dk;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(Rk);var F8=Rk.range;const Lk=bi(F8);function oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v_(e){let t,r,n;e.length!==2?(t=oa,r=(s,l)=>oa(e(s),l),n=(s,l)=>e(s)-l):(t=e===oa||e===$8?e:z8,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function z8(){return 0}function Vk(e){return e===null?NaN:+e}function*U8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const B8=v_(oa),rc=B8.right;v_(Vk).center;class xA extends Map{constructor(t,r=K8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(bA(this,t))}has(t){return super.has(bA(this,t))}set(t,r){return super.set(q8(this,t),r)}delete(t){return super.delete(W8(this,t))}}function bA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function q8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function W8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H8(e=oa){if(e===oa)return Fk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Fk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const G8=Math.sqrt(50),Q8=Math.sqrt(10),Y8=Math.sqrt(2);function Zf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=G8?10:a>=Q8?5:a>=Y8?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Zf(e,t,r*2):[s,l,u]}function Cy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Zf(t,e,r):Zf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Iy(e,t,r){return t=+t,e=+e,r=+r,Zf(e,t,r)[2]}function jy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Iy(t,e,r):Iy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function EA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function SA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $k(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Fk:H8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));$k(e,t,m,g,i)}const a=e[t];let o=r,s=n;for(yl(e,r,t),i(e[n],a)>0&&yl(e,r,n);o<s;){for(yl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?yl(e,r,s):(++s,yl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function yl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function X8(e,t,r){if(e=Float64Array.from(U8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return SA(e);if(t>=1)return EA(e);var n,i=(n-1)*t,a=Math.floor(i),o=EA($k(e,a).subarray(0,a+1)),s=SA(e.subarray(a+1));return o+(s-o)*(i-a)}}function Z8(e,t,r=Vk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function J8(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function on(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ti(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Oy=Symbol("implicit");function y_(){var e=new xA,t=[],r=[],n=Oy;function i(a){let o=e.get(a);if(o===void 0){if(n!==Oy)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new xA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y_(t,r).unknown(n)},on.apply(i,arguments),i}function w_(){var e=y_().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var w=J8(p).map(function(_){return g+a*_});return r(m?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return w_(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},on.apply(d(),arguments)}function zk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zk(t())},e}function e7(){return zk(w_.apply(null,arguments).paddingInner(1))}function __(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Uk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nc(){}var Iu=.7,Jf=1/Iu,rs="\\s*([+-]?\\d+)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t7=/^#([0-9a-f]{3,8})$/,r7=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),n7=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),i7=new RegExp(`^rgba\\(${rs},${rs},${rs},${ju}\\)$`),a7=new RegExp(`^rgba\\(${$n},${$n},${$n},${ju}\\)$`),o7=new RegExp(`^hsl\\(${ju},${$n},${$n}\\)$`),s7=new RegExp(`^hsla\\(${ju},${$n},${$n},${ju}\\)$`),AA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};__(nc,Ou,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PA,formatHex:PA,formatHex8:l7,formatHsl:u7,formatRgb:TA,toString:TA});function PA(){return this.rgb().formatHex()}function l7(){return this.rgb().formatHex8()}function u7(){return Bk(this).formatHsl()}function TA(){return this.rgb().formatRgb()}function Ou(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=t7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CA(t):r===3?new Er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=r7.exec(e))?new Er(t[1],t[2],t[3],1):(t=n7.exec(e))?new Er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=i7.exec(e))?cd(t[1],t[2],t[3],t[4]):(t=a7.exec(e))?cd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=o7.exec(e))?OA(t[1],t[2]/100,t[3]/100,1):(t=s7.exec(e))?OA(t[1],t[2]/100,t[3]/100,t[4]):AA.hasOwnProperty(e)?CA(AA[e]):e==="transparent"?new Er(NaN,NaN,NaN,0):null}function CA(e){return new Er(e>>16&255,e>>8&255,e&255,1)}function cd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Er(e,t,r,n)}function c7(e){return e instanceof nc||(e=Ou(e)),e?(e=e.rgb(),new Er(e.r,e.g,e.b,e.opacity)):new Er}function Ny(e,t,r,n){return arguments.length===1?c7(e):new Er(e,t,r,n??1)}function Er(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}__(Er,Ny,Uk(nc,{brighter(e){return e=e==null?Jf:Math.pow(Jf,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(Qa(this.r),Qa(this.g),Qa(this.b),eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IA,formatHex:IA,formatHex8:d7,formatRgb:jA,toString:jA}));function IA(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function d7(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function jA(){const e=eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function OA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function Bk(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof nc||(e=Ou(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new mn(o,s,l,e.opacity)}function f7(e,t,r,n){return arguments.length===1?Bk(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}__(mn,f7,Uk(nc,{brighter(e){return e=e==null?Jf:Math.pow(Jf,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Er(wg(e>=240?e-240:e+120,i,n),wg(e,i,n),wg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new mn(NA(this.h),dd(this.s),dd(this.l),eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eh(this.opacity);return`${e===1?"hsl(":"hsla("}${NA(this.h)}, ${dd(this.s)*100}%, ${dd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NA(e){return e=(e||0)%360,e<0?e+360:e}function dd(e){return Math.max(0,Math.min(1,e||0))}function wg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x_=e=>()=>e;function h7(e,t){return function(r){return e+r*t}}function p7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function m7(e){return(e=+e)==1?qk:function(t,r){return r-t?p7(t,r,e):x_(isNaN(t)?r:t)}}function qk(e,t){var r=t-e;return r?h7(e,r):x_(isNaN(e)?t:e)}const kA=function e(t){var r=m7(t);function n(i,a){var o=r((i=Ny(i)).r,(a=Ny(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=qk(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function g7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function v7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function y7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ms(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function w7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function th(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ms(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_g=new RegExp(ky.source,"g");function x7(e){return function(){return e}}function b7(e){return function(t){return e(t)+""}}function E7(e,t){var r=ky.lastIndex=_g.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=ky.exec(e))&&(i=_g.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:th(n,i)})),r=_g.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?b7(l[0].x):x7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Ms(e,t){var r=typeof t,n;return t==null||r==="boolean"?x_(t):(r==="number"?th:r==="string"?(n=Ou(t))?(t=n,kA):E7:t instanceof Ou?kA:t instanceof Date?w7:v7(t)?g7:Array.isArray(t)?y7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_7:th)(e,t)}function b_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function S7(e,t){t===void 0&&(t=e,e=Ms);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function A7(e){return function(){return e}}function rh(e){return+e}var RA=[0,1];function dr(e){return e}function Ry(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:A7(isNaN(t)?NaN:.5)}function P7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function T7(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Ry(i,n),a=r(o,a)):(n=Ry(n,i),a=r(a,o)),function(s){return a(n(s))}}function C7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Ry(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=rc(e,s,1,n)-1;return a[l](i[l](s))}}function ic(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dp(){var e=RA,t=RA,r=Ms,n,i,a,o=dr,s,l,u;function c(){var p=Math.min(e.length,t.length);return o!==dr&&(o=P7(e[0],e[p-1])),s=p>2?C7:T7,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(t,e.map(n),th)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,rh),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=b_,c()},d.clamp=function(p){return arguments.length?(o=p?!0:dr,c()):o!==dr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function E_(){return Dp()(dr,dr)}function I7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Es(e){return e=nh(Math.abs(e)),e?e[1]:NaN}function j7(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function O7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var N7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nu(e){if(!(t=N7.exec(e)))throw new Error("invalid format: "+e);var t;return new S_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nu.prototype=S_.prototype;function S_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function k7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Wk;function R7(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Wk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+nh(e,Math.max(0,t+a-1))[0]}function DA(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const MA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:I7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DA(e*100,t),r:DA,s:R7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LA(e){return e}var VA=Array.prototype.map,FA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function D7(e){var t=e.grouping===void 0||e.thousands===void 0?LA:j7(VA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?LA:O7(VA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Nu(d);var p=d.fill,m=d.align,g=d.sign,y=d.symbol,w=d.zero,_=d.width,b=d.comma,E=d.precision,C=d.trim,O=d.type;O==="n"?(b=!0,O="g"):MA[O]||(E===void 0&&(E=12),C=!0,O="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",S=y==="$"?n:/[%p]/.test(O)?o:"",A=MA[O],I=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function D(T){var k=R,j=S,Q,se,de;if(O==="c")j=A(T)+j,T="";else{T=+T;var le=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),E),C&&(T=k7(T)),le&&+T==0&&g!=="+"&&(le=!1),k=(le?g==="("?g:s:g==="-"||g==="("?"":g)+k,j=(O==="s"?FA[8+Wk/3]:"")+j+(le&&g==="("?")":""),I){for(Q=-1,se=T.length;++Q<se;)if(de=T.charCodeAt(Q),48>de||de>57){j=(de===46?i+T.slice(Q+1):T.slice(Q))+j,T=T.slice(0,Q);break}}}b&&!w&&(T=t(T,1/0));var U=k.length+T.length+j.length,K=U<_?new Array(_-U+1).join(p):"";switch(b&&w&&(T=t(K+T,K.length?_-j.length:1/0),K=""),m){case"<":T=k+T+j+K;break;case"=":T=k+K+T+j;break;case"^":T=K.slice(0,U=K.length>>1)+k+T+j+K.slice(U);break;default:T=K+k+T+j;break}return a(T)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=Nu(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Es(p)/3)))*3,y=Math.pow(10,-g),w=FA[8+g/3];return function(_){return m(y*_)+w}}return{format:u,formatPrefix:c}}var fd,A_,Kk;M7({thousands:",",grouping:[3],currency:["$",""]});function M7(e){return fd=D7(e),A_=fd.format,Kk=fd.formatPrefix,fd}function L7(e){return Math.max(0,-Es(Math.abs(e)))}function V7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(t)/3)))*3-Es(Math.abs(e)))}function F7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Es(t)-Es(e))+1}function Hk(e,t,r,n){var i=jy(e,t,r),a;switch(n=Nu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=V7(i,o))&&(n.precision=a),Kk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=F7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=L7(i))&&(n.precision=a-(n.type==="%")*2);break}}return A_(n)}function ba(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Hk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Iy(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Gk(){var e=E_();return e.copy=function(){return ic(e,Gk())},on.apply(e,arguments),ba(e)}function Qk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Qk(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],ba(r)}function Yk(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function $A(e){return Math.log(e)}function zA(e){return Math.exp(e)}function $7(e){return-Math.log(-e)}function z7(e){return-Math.exp(-e)}function U7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function B7(e){return e===10?U7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function q7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UA(e){return(t,r)=>-e(-t,r)}function P_(e){const t=e($A,zA),r=t.domain;let n=10,i,a;function o(){return i=q7(n),a=B7(n),r()[0]<0?(i=UA(i),a=UA(a),e($7,z7)):e($A,zA),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const w=s==null?10:+s;let _=[];if(!(n%1)&&m-p<w){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;_.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;_.push(y)}_.length*2<w&&(_=Cy(u,c,w))}else _=Cy(p,m,Math.min(m-p,w)).map(a);return d?_.reverse():_},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Nu(l)).precision==null&&(l.trim=!0),l=A_(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(Yk(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function Xk(){const e=P_(Dp()).domain([1,10]);return e.copy=()=>ic(e,Xk()).base(e.base()),on.apply(e,arguments),e}function BA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T_(e){var t=1,r=e(BA(t),qA(t));return r.constant=function(n){return arguments.length?e(BA(t=+n),qA(t)):t},ba(r)}function Zk(){var e=T_(Dp());return e.copy=function(){return ic(e,Zk()).constant(e.constant())},on.apply(e,arguments)}function WA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function W7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function K7(e){return e<0?-e*e:e*e}function C_(e){var t=e(dr,dr),r=1;function n(){return r===1?e(dr,dr):r===.5?e(W7,K7):e(WA(r),WA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ba(t)}function I_(){var e=C_(Dp());return e.copy=function(){return ic(e,I_()).exponent(e.exponent())},on.apply(e,arguments),e}function H7(){return I_.apply(null,arguments).exponent(.5)}function KA(e){return Math.sign(e)*e*e}function G7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jk(){var e=E_(),t=[0,1],r=!1,n;function i(a){var o=G7(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(KA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,rh)).map(KA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Jk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},on.apply(i,arguments),ba(i)}function eR(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Z8(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[rc(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(oa),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return eR().domain(e).range(t).unknown(n)},on.apply(a,arguments)}function tR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[rc(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tR().domain([e,t]).range(i).unknown(a)},on.apply(ba(o),arguments)}function rR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[rc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rR().domain(e).range(t).unknown(r)},on.apply(i,arguments)}const xg=new Date,bg=new Date;function It(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>It(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(xg.setTime(+a),bg.setTime(+o),e(xg),e(bg),Math.floor(r(xg,bg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ih=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ih);ih.range;const ti=1e3,Xr=ti*60,ri=Xr*60,vi=ri*24,j_=vi*7,HA=vi*30,Eg=vi*365,Ua=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCSeconds());Ua.range;const O_=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getMinutes());O_.range;const N_=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCMinutes());N_.range;const k_=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti-e.getMinutes()*Xr)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getHours());k_.range;const R_=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCHours());R_.range;const ac=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xr)/vi,e=>e.getDate()-1);ac.range;const Mp=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>e.getUTCDate()-1);Mp.range;const nR=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>Math.floor(e/vi));nR.range;function yo(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xr)/j_)}const Lp=yo(0),ah=yo(1),Q7=yo(2),Y7=yo(3),Ss=yo(4),X7=yo(5),Z7=yo(6);Lp.range;ah.range;Q7.range;Y7.range;Ss.range;X7.range;Z7.range;function wo(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/j_)}const Vp=wo(0),oh=wo(1),J7=wo(2),eq=wo(3),As=wo(4),tq=wo(5),rq=wo(6);Vp.range;oh.range;J7.range;eq.range;As.range;tq.range;rq.range;const D_=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());D_.range;const M_=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());M_.range;const yi=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const wi=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wi.range;function iR(e,t,r,n,i,a){const o=[[Ua,1,ti],[Ua,5,5*ti],[Ua,15,15*ti],[Ua,30,30*ti],[a,1,Xr],[a,5,5*Xr],[a,15,15*Xr],[a,30,30*Xr],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[n,1,vi],[n,2,2*vi],[r,1,j_],[t,1,HA],[t,3,3*HA],[e,1,Eg]];function s(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=v_(([,,w])=>w).right(o,p);if(m===o.length)return e.every(jy(u/Eg,c/Eg,d));if(m===0)return ih.every(Math.max(jy(u,c,d),1));const[g,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(y)}return[s,l]}const[nq,iq]=iR(wi,M_,Vp,nR,R_,N_),[aq,oq]=iR(yi,D_,Lp,ac,k_,O_);function Sg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ag(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=_l(i),c=xl(i),d=_l(a),p=xl(a),m=_l(o),g=xl(o),y=_l(s),w=xl(s),_=_l(l),b=xl(l),E={a:le,A:U,b:K,B:ne,c:null,d:JA,e:JA,f:jq,g:$q,G:Uq,H:Tq,I:Cq,j:Iq,L:aR,m:Oq,M:Nq,p:pe,q:_e,Q:rP,s:nP,S:kq,u:Rq,U:Dq,V:Mq,w:Lq,W:Vq,x:null,X:null,y:Fq,Y:zq,Z:Bq,"%":tP},C={a:wt,A:Ne,b:Bt,B:_t,c:null,d:eP,e:eP,f:Hq,g:nW,G:aW,H:qq,I:Wq,j:Kq,L:sR,m:Gq,M:Qq,p:$e,q:Hn,Q:rP,s:nP,S:Yq,u:Xq,U:Zq,V:Jq,w:eW,W:tW,x:null,X:null,y:rW,Y:iW,Z:oW,"%":tP},O={a:D,A:T,b:k,B:j,c:Q,d:XA,e:XA,f:Eq,g:YA,G:QA,H:ZA,I:ZA,j:wq,L:bq,m:yq,M:_q,p:I,q:vq,Q:Aq,s:Pq,S:xq,u:fq,U:hq,V:pq,w:dq,W:mq,x:se,X:de,y:YA,Y:QA,Z:gq,"%":Sq};E.x=R(r,E),E.X=R(n,E),E.c=R(t,E),C.x=R(r,C),C.X=R(n,C),C.c=R(t,C);function R(B,fe){return function(ve){var q=[],$=-1,H=0,Z=B.length,ae,Ee,Xe;for(ve instanceof Date||(ve=new Date(+ve));++$<Z;)B.charCodeAt($)===37&&(q.push(B.slice(H,$)),(Ee=GA[ae=B.charAt(++$)])!=null?ae=B.charAt(++$):Ee=ae==="e"?" ":"0",(Xe=fe[ae])&&(ae=Xe(ve,Ee)),q.push(ae),H=$+1);return q.push(B.slice(H,$)),q.join("")}}function S(B,fe){return function(ve){var q=wl(1900,void 0,1),$=A(q,B,ve+="",0),H,Z;if($!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(H=Ag(wl(q.y,0,1)),Z=H.getUTCDay(),H=Z>4||Z===0?oh.ceil(H):oh(H),H=Mp.offset(H,(q.V-1)*7),q.y=H.getUTCFullYear(),q.m=H.getUTCMonth(),q.d=H.getUTCDate()+(q.w+6)%7):(H=Sg(wl(q.y,0,1)),Z=H.getDay(),H=Z>4||Z===0?ah.ceil(H):ah(H),H=ac.offset(H,(q.V-1)*7),q.y=H.getFullYear(),q.m=H.getMonth(),q.d=H.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Z="Z"in q?Ag(wl(q.y,0,1)).getUTCDay():Sg(wl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Z+5)%7:q.w+q.U*7-(Z+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Ag(q)):Sg(q)}}function A(B,fe,ve,q){for(var $=0,H=fe.length,Z=ve.length,ae,Ee;$<H;){if(q>=Z)return-1;if(ae=fe.charCodeAt($++),ae===37){if(ae=fe.charAt($++),Ee=O[ae in GA?fe.charAt($++):ae],!Ee||(q=Ee(B,ve,q))<0)return-1}else if(ae!=ve.charCodeAt(q++))return-1}return q}function I(B,fe,ve){var q=u.exec(fe.slice(ve));return q?(B.p=c.get(q[0].toLowerCase()),ve+q[0].length):-1}function D(B,fe,ve){var q=m.exec(fe.slice(ve));return q?(B.w=g.get(q[0].toLowerCase()),ve+q[0].length):-1}function T(B,fe,ve){var q=d.exec(fe.slice(ve));return q?(B.w=p.get(q[0].toLowerCase()),ve+q[0].length):-1}function k(B,fe,ve){var q=_.exec(fe.slice(ve));return q?(B.m=b.get(q[0].toLowerCase()),ve+q[0].length):-1}function j(B,fe,ve){var q=y.exec(fe.slice(ve));return q?(B.m=w.get(q[0].toLowerCase()),ve+q[0].length):-1}function Q(B,fe,ve){return A(B,t,fe,ve)}function se(B,fe,ve){return A(B,r,fe,ve)}function de(B,fe,ve){return A(B,n,fe,ve)}function le(B){return o[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function ne(B){return s[B.getMonth()]}function pe(B){return i[+(B.getHours()>=12)]}function _e(B){return 1+~~(B.getMonth()/3)}function wt(B){return o[B.getUTCDay()]}function Ne(B){return a[B.getUTCDay()]}function Bt(B){return l[B.getUTCMonth()]}function _t(B){return s[B.getUTCMonth()]}function $e(B){return i[+(B.getUTCHours()>=12)]}function Hn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=R(B+="",E);return fe.toString=function(){return B},fe},parse:function(B){var fe=S(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=R(B+="",C);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=S(B+="",!0);return fe.toString=function(){return B},fe}}}var GA={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,lq=/^%/,uq=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function cq(e){return e.replace(uq,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(cq).join("|")+")","i")}function xl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dq(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fq(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function pq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function QA(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vq(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function XA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wq(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZA(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _q(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function xq(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bq(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Eq(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Sq(e,t,r){var n=lq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Aq(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Pq(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function JA(e,t){return Ae(e.getDate(),t,2)}function Tq(e,t){return Ae(e.getHours(),t,2)}function Cq(e,t){return Ae(e.getHours()%12||12,t,2)}function Iq(e,t){return Ae(1+ac.count(yi(e),e),t,3)}function aR(e,t){return Ae(e.getMilliseconds(),t,3)}function jq(e,t){return aR(e,t)+"000"}function Oq(e,t){return Ae(e.getMonth()+1,t,2)}function Nq(e,t){return Ae(e.getMinutes(),t,2)}function kq(e,t){return Ae(e.getSeconds(),t,2)}function Rq(e){var t=e.getDay();return t===0?7:t}function Dq(e,t){return Ae(Lp.count(yi(e)-1,e),t,2)}function oR(e){var t=e.getDay();return t>=4||t===0?Ss(e):Ss.ceil(e)}function Mq(e,t){return e=oR(e),Ae(Ss.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function Lq(e){return e.getDay()}function Vq(e,t){return Ae(ah.count(yi(e)-1,e),t,2)}function Fq(e,t){return Ae(e.getFullYear()%100,t,2)}function $q(e,t){return e=oR(e),Ae(e.getFullYear()%100,t,2)}function zq(e,t){return Ae(e.getFullYear()%1e4,t,4)}function Uq(e,t){var r=e.getDay();return e=r>=4||r===0?Ss(e):Ss.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function Bq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function eP(e,t){return Ae(e.getUTCDate(),t,2)}function qq(e,t){return Ae(e.getUTCHours(),t,2)}function Wq(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function Kq(e,t){return Ae(1+Mp.count(wi(e),e),t,3)}function sR(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function Hq(e,t){return sR(e,t)+"000"}function Gq(e,t){return Ae(e.getUTCMonth()+1,t,2)}function Qq(e,t){return Ae(e.getUTCMinutes(),t,2)}function Yq(e,t){return Ae(e.getUTCSeconds(),t,2)}function Xq(e){var t=e.getUTCDay();return t===0?7:t}function Zq(e,t){return Ae(Vp.count(wi(e)-1,e),t,2)}function lR(e){var t=e.getUTCDay();return t>=4||t===0?As(e):As.ceil(e)}function Jq(e,t){return e=lR(e),Ae(As.count(wi(e),e)+(wi(e).getUTCDay()===4),t,2)}function eW(e){return e.getUTCDay()}function tW(e,t){return Ae(oh.count(wi(e)-1,e),t,2)}function rW(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function nW(e,t){return e=lR(e),Ae(e.getUTCFullYear()%100,t,2)}function iW(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function aW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?As(e):As.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function oW(){return"+0000"}function tP(){return"%"}function rP(e){return+e}function nP(e){return Math.floor(+e/1e3)}var So,uR,cR;sW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sW(e){return So=sq(e),uR=So.format,So.parse,cR=So.utcFormat,So.utcParse,So}function lW(e){return new Date(e)}function uW(e){return e instanceof Date?+e:+new Date(+e)}function L_(e,t,r,n,i,a,o,s,l,u){var c=E_(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),b=u("%b %d"),E=u("%B"),C=u("%Y");function O(R){return(l(R)<R?m:s(R)<R?g:o(R)<R?y:a(R)<R?w:n(R)<R?i(R)<R?_:b:r(R)<R?E:C)(R)}return c.invert=function(R){return new Date(d(R))},c.domain=function(R){return arguments.length?p(Array.from(R,uW)):p().map(lW)},c.ticks=function(R){var S=p();return e(S[0],S[S.length-1],R??10)},c.tickFormat=function(R,S){return S==null?O:u(S)},c.nice=function(R){var S=p();return(!R||typeof R.range!="function")&&(R=t(S[0],S[S.length-1],R??10)),R?p(Yk(S,R)):c},c.copy=function(){return ic(c,L_(e,t,r,n,i,a,o,s,l,u))},c}function cW(){return on.apply(L_(aq,oq,yi,D_,Lp,ac,k_,O_,Ua,uR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dW(){return on.apply(L_(nq,iq,wi,M_,Vp,Mp,R_,N_,Ua,cR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fp(){var e=0,t=1,r,n,i,a,o=dr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(Ms),u.rangeRound=c(b_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Ea(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dR(){var e=ba(Fp()(dr));return e.copy=function(){return Ea(e,dR())},Ti.apply(e,arguments)}function fR(){var e=P_(Fp()).domain([1,10]);return e.copy=function(){return Ea(e,fR()).base(e.base())},Ti.apply(e,arguments)}function hR(){var e=T_(Fp());return e.copy=function(){return Ea(e,hR()).constant(e.constant())},Ti.apply(e,arguments)}function V_(){var e=C_(Fp());return e.copy=function(){return Ea(e,V_()).exponent(e.exponent())},Ti.apply(e,arguments)}function fW(){return V_.apply(null,arguments).exponent(.5)}function pR(){var e=[],t=dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((rc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(oa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>X8(e,a/n))},r.copy=function(){return pR(t).domain(e)},Ti.apply(r,arguments)}function $p(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=dr,c,d=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var _,b,E;return arguments.length?([_,b,E]=w,u=S7(y,[_,b,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ms),m.rangeRound=g(b_),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function mR(){var e=ba($p()(dr));return e.copy=function(){return Ea(e,mR())},Ti.apply(e,arguments)}function gR(){var e=P_($p()).domain([.1,1,10]);return e.copy=function(){return Ea(e,gR()).base(e.base())},Ti.apply(e,arguments)}function vR(){var e=T_($p());return e.copy=function(){return Ea(e,vR()).constant(e.constant())},Ti.apply(e,arguments)}function F_(){var e=C_($p());return e.copy=function(){return Ea(e,F_()).exponent(e.exponent())},Ti.apply(e,arguments)}function hW(){return F_.apply(null,arguments).exponent(.5)}const kl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:w_,scaleDiverging:mR,scaleDivergingLog:gR,scaleDivergingPow:F_,scaleDivergingSqrt:hW,scaleDivergingSymlog:vR,scaleIdentity:Qk,scaleImplicit:Oy,scaleLinear:Gk,scaleLog:Xk,scaleOrdinal:y_,scalePoint:e7,scalePow:I_,scaleQuantile:eR,scaleQuantize:tR,scaleRadial:Jk,scaleSequential:dR,scaleSequentialLog:fR,scaleSequentialPow:V_,scaleSequentialQuantile:pR,scaleSequentialSqrt:fW,scaleSequentialSymlog:hR,scaleSqrt:H7,scaleSymlog:Zk,scaleThreshold:rR,scaleTime:cW,scaleUtc:dW,tickFormat:Hk},Symbol.toStringTag,{value:"Module"}));var Sa=e=>e.chartData,$_=L([Sa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),z_=(e,t,r,n)=>n?$_(e):Sa(e);function ma(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function iP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(dt(r))i=r;else if(typeof r=="function")return;if(dt(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(ma(o))return o}}function pW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ma(n))return iP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(re(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&$S.test(i)){var l=$S.exec(i);if(l==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(re(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&zS.test(a)){var c=zS.exec(a);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var p=[o,s];if(ma(p))return t==null?p:iP(p,t,r)}}}var Ls=1e9,mW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B_,Qe=!0,an="[DecimalError] ",Ya=an+"Invalid argument: ",U_=an+"Exponent out of range: ",Vs=Math.floor,Ma=Math.pow,gW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Mt=1e7,Be=7,wR=9007199254740991,sh=Vs(wR/Be),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return ai(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return Re(ai(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return yt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(kr))throw Error(an+"NaN");if(r.s<1)throw Error(an+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(Qe=!1,t=ai(ku(r,a),ku(e,a),a),Qe=!0,Re(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bR(t,e):_R(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(an+"NaN");return r.s?(Qe=!1,t=ai(r,e,0,1).times(e),Qe=!0,r.minus(t)):Re(new n(r),i)};ee.naturalExponential=ee.exp=function(){return xR(this)};ee.naturalLogarithm=ee.ln=function(){return ku(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_R(t,e):bR(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ya+e);if(t=yt(i)+1,n=i.d.length-1,r=n*Be+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(an+"NaN")}for(e=yt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=kn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ai(s,a,o+2)).times(.5),kn(a.d).slice(0,o)===(t=kn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Re(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Qe=!0,Re(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+t,a[i--]=s%Mt|0,t=s/Mt|0;a[i]=(a[i]+t)%Mt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Qe?Re(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Kn(e,0,Ls),t===void 0?t=n.rounding:Kn(t,0,8),Re(r,e+yt(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=so(n,!0):(Kn(e,0,Ls),t===void 0?t=i.rounding:Kn(t,0,8),n=Re(new i(n),e+1,t),r=so(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?so(i):(Kn(e,0,Ls),t===void 0?t=a.rounding:Kn(t,0,8),n=Re(new a(i),e+yt(i)+1,t),r=so(n.abs(),!1,e+yt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return Re(new t(e),yt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(kr);if(s=new l(s),!s.s){if(e.s<1)throw Error(an+"Infinity");return s}if(s.eq(kr))return s;if(n=l.precision,e.eq(kr))return Re(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=wR){for(i=new l(kr),t=Math.ceil(n/Be+4),Qe=!1;r%2&&(i=i.times(s),oP(i.d,t)),r=Vs(r/2),r!==0;)s=s.times(s),oP(s.d,t);return Qe=!0,e.s<0?new l(kr).div(i):Re(i,n)}}else if(a<0)throw Error(an+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qe=!1,i=e.times(ku(s,n+u)),Qe=!0,i=xR(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=yt(i),n=so(i,r<=a.toExpNeg||r>=a.toExpPos)):(Kn(e,1,Ls),t===void 0?t=a.rounding:Kn(t,0,8),i=Re(new a(i),e,t),r=yt(i),n=so(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Kn(e,1,Ls),t===void 0?t=n.rounding:Kn(t,0,8)),Re(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yt(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function _R(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Qe?Re(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Be),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Mt|0,l[a]%=Mt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Qe?Re(t,d):t}function Kn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ya+e)}function kn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Be-n.length,r&&(a+=$i(r)),a+=n;o=e[t],n=o+"",r=Be-n.length,r&&(a+=$i(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ai=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Mt|0,o=a/Mt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Mt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,p,m,g,y,w,_,b,E,C,O,R,S,A,I=n.constructor,D=n.s==i.s?1:-1,T=n.d,k=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(an+"Division by zero");for(l=n.e-i.e,S=k.length,O=T.length,m=new I(D),g=m.d=[],u=0;k[u]==(T[u]||0);)++u;if(k[u]>(T[u]||0)&&--l,a==null?b=a=I.precision:o?b=a+(yt(n)-yt(i))+1:b=a,b<0)return new I(0);if(b=b/Be+2|0,u=0,S==1)for(c=0,k=k[0],b++;(u<O||c)&&b--;u++)E=c*Mt+(T[u]||0),g[u]=E/k|0,c=E%k|0;else{for(c=Mt/(k[0]+1)|0,c>1&&(k=e(k,c),T=e(T,c),S=k.length,O=T.length),C=S,y=T.slice(0,S),w=y.length;w<S;)y[w++]=0;A=k.slice(),A.unshift(0),R=k[0],k[1]>=Mt/2&&++R;do c=0,s=t(k,y,S,w),s<0?(_=y[0],S!=w&&(_=_*Mt+(y[1]||0)),c=_/R|0,c>1?(c>=Mt&&(c=Mt-1),d=e(k,c),p=d.length,w=y.length,s=t(d,y,p,w),s==1&&(c--,r(d,S<p?A:k,p))):(c==0&&(s=c=1),d=k.slice()),p=d.length,p<w&&d.unshift(0),r(y,d,w),s==-1&&(w=y.length,s=t(k,y,S,w),s<1&&(c++,r(y,S<w?A:k,w))),w=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[w++]=T[C]||0:(y=[T[C]],w=1);while((C++<O||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,Re(m,o?a+yt(m)+1:a)}}();function xR(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(yt(e)>16)throw Error(U_+yt(e));if(!e.s)return new c(kr);for(Qe=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ma(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(kr),c.precision=s;;){if(i=Re(i.times(e),s),r=r.times(++l),o=a.plus(ai(i,r,s)),kn(o.d).slice(0,s)===kn(a.d).slice(0,s)){for(;u--;)a=Re(a.times(a),s);return c.precision=d,t==null?(Qe=!0,Re(a,d)):a}a=o}}function yt(e){for(var t=e.e*Be,r=e.d[0];r>=10;r/=10)t++;return t}function Pg(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(an+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function ku(e,t){var r,n,i,a,o,s,l,u,c,d=1,p=10,m=e,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(an+(m.s?"NaN":"-Infinity"));if(m.eq(kr))return new y(0);if(t==null?(Qe=!1,u=w):u=t,m.eq(10))return t==null&&(Qe=!0),Pg(y,u);if(u+=p,y.precision=u,r=kn(g),n=r.charAt(0),a=yt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=kn(m.d),n=r.charAt(0),d++;a=yt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=Pg(y,u+2,w).times(a+""),m=ku(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=w,t==null?(Qe=!0,Re(m,w)):m;for(s=o=m=ai(m.minus(kr),m.plus(kr),u),c=Re(m.times(m),u),i=3;;){if(o=Re(o.times(c),u),l=s.plus(ai(o,new y(i),u)),kn(l.d).slice(0,u)===kn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Pg(y,u+2,w).times(a+""))),s=ai(s,new y(d),u),y.precision=w,t==null?(Qe=!0,Re(s,w)):s;s=l,i+=2}}function aP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Vs(r/Be),e.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Be;n<i;)e.d.push(+t.slice(n,n+=Be));t=t.slice(n),n=Be-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>sh||e.e<-sh))throw Error(U_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Be,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/Be),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=Be,i=n-Be+o}if(r!==void 0&&(a=Ma(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Ma(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=yt(e),d.length=1,t=t-a-1,d[0]=Ma(10,(Be-t%Be)%Be),e.e=Vs(-t/Be)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ma(10,Be-n),d[c]=i>0?(u/Ma(10,o-i)%Ma(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Mt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Mt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Qe&&(e.e>sh||e.e<-sh))throw Error(U_+yt(e));return e}function bR(e,t){var r,n,i,a,o,s,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?Re(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Be),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Mt-1;--l[a],l[i]+=Mt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qe?Re(t,m):t):new p(0)}function so(e,t,r){var n,i=yt(e),a=kn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+$i(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$i(-i-1)+a,r&&(n=r-o)>0&&(a+=$i(n))):i>=o?(a+=$i(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+$i(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=$i(n))),e.s<0?"-"+a:a}function oP(e,t){if(e.length>t)return e.length=t,!0}function ER(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ya+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return aP(o,a.toString())}else if(typeof a!="string")throw Error(Ya+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,gW.test(a))aP(o,a);else throw Error(Ya+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ER,i.config=i.set=vW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function vW(e){if(!e||typeof e!="object")throw Error(an+"Object expected");var t,r,n,i=["precision",1,Ls,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Vs(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ya+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ya+r+": "+n);return this}var B_=ER(mW);kr=new B_(1);const Ie=B_;var yW=e=>e,SR={},AR=e=>e===SR,sP=e=>function t(){return arguments.length===0||arguments.length===1&&AR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},PR=(e,t)=>e===1?t:sP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==SR).length;return a>=e?t(...n):PR(e-a,sP(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>AR(c)?s.shift():c);return t(...u,...s)}))}),wW=e=>PR(e.length,e),Dy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},_W=wW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return yW;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},My=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function TR(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function CR(e,t,r){for(var n=new Ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var IR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},jR=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=TR(e.toNumber()),i=new Ie(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Ie(l.toNumber()):new Ie(Math.ceil(l.toNumber()))},bW=(e,t,r)=>{var n=new Ie(1),i=new Ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ie(10).pow(TR(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var o=Math.floor((t-1)/2),s=xW(_W(l=>i.add(new Ie(l-o).mul(n)).toNumber()),Dy);return s(0,t)},OR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var o=jR(new Ie(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ie(0):(s=new Ie(t).add(r).div(2),s=s.sub(new Ie(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ie(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?OR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Ie(l).mul(o)),tickMax:s.add(new Ie(u).mul(o))})},EW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=IR([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Dy(0,i-1).map(()=>1/0)]:[...Dy(0,i-1).map(()=>-1/0),l];return r>n?My(u):u}if(s===l)return bW(s,i,a);var{step:c,tickMin:d,tickMax:p}=OR(s,l,o,a,0),m=CR(d,p.add(new Ie(.1).mul(c)),c);return r>n?My(m):m},SW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=IR([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=jR(new Ie(s).sub(o).div(l-1),a,0),c=[...CR(new Ie(o),new Ie(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?My(c):c},NR=e=>e.rootProps.maxBarSize,AW=e=>e.rootProps.barGap,kR=e=>e.rootProps.barCategoryGap,PW=e=>e.rootProps.barSize,oc=e=>e.rootProps.stackOffset,RR=e=>e.rootProps.reverseStackOrder,q_=e=>e.options.chartName,W_=e=>e.rootProps.syncId,DR=e=>e.rootProps.syncMethod,K_=e=>e.options.eventEmitter,Gt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},TW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xn.angleAxisId,includeHidden:!1,name:void 0,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:void 0,ticks:void 0,type:Xn.type,unit:void 0},CW={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},IW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xn.scale,tick:Xn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jW={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},H_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?IW:TW,G_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?jW:CW,Up=e=>e.polarOptions,Q_=L([Ai,Pi,Ct],jk),MR=L([Up,Q_],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),LR=L([Up,Q_],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),OW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},VR=L([Up],OW);L([H_,VR],zp);var FR=L([Q_,MR,LR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([G_,FR],zp);var $R=L([Pe,Up,MR,LR,Ai,Pi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:or(o,i,i/2),cy:or(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ye=(e,t)=>t,sc=(e,t,r)=>r;function Y_(e){return e==null?void 0:e.id}function zR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=Y_(s);u.forEach((d,p)=>{var m=a==null||i?p:String(Ge(d,a,null)),g=Ge(d,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[c]:g}),o.set(m,y)})}}),Array.from(o.values())}function Bp(e){return e.stackId!=null&&e.dataKey!=null}var qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function NW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var jt=e=>{var t=Pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fs=e=>e.tooltip.settings.axisId;function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UR=(e,t)=>e.cartesianAxis.xAxis[t],Ci=(e,t)=>{var r=UR(e,t);return r??kt},Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ju},BR=(e,t)=>e.cartesianAxis.yAxis[t],Ii=(e,t)=>{var r=BR(e,t);return r??Rt},MW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},X_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??MW},nt=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return Ii(e,r);case"zAxis":return X_(e,r);case"angleAxis":return H_(e,r);case"radiusAxis":return G_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},LW=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return Ii(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lc=(e,t,r)=>{switch(t){case"xAxis":return Ci(e,r);case"yAxis":return Ii(e,r);case"angleAxis":return H_(e,r);case"radiusAxis":return G_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Z_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var J_=e=>e.graphicalItems.cartesianItems,VW=L([Ye,sc],Z_),ex=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),uc=L([J_,nt,VW],ex,{memoizeOptions:{resultEqualityCheck:Wp}}),WR=L([uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Bp)),KR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),FW=L([uc],KR),tx=e=>e.map(t=>t.data).filter(Boolean).flat(1),$W=L([uc],tx,{memoizeOptions:{resultEqualityCheck:Wp}}),rx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},nx=L([$W,z_],rx),ix=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ge(i,n)}))):e.map(n=>({value:n})),Kp=L([nx,nt,uc],ix);function HR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vd(e){if(qn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function uP(e){if(Array.isArray(e)){var t=[Vd(e[0]),Vd(e[1])];return ma(t)?t:void 0}var r=Vd(e);if(r!=null)return[r,r]}function _i(e){return e.map(Vd).filter(Z5)}function zW(e,t,r){return!r||typeof t!="number"||bn(t)?[]:r.length?_i(r.flatMap(n=>{var i=Ge(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!dt(a)||!dt(o)))return[t-a,t+o]})):[]}var Ot=e=>{var t=jt(e),r=Fs(e);return lc(e,t,r)},cc=L([Ot],e=>e==null?void 0:e.dataKey),UW=L([WR,z_,Ot],zR),GR=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(Y_);return[s,{stackedData:gU(e,c,r),graphicalItems:u}]}))},Vy=L([UW,WR,oc,RR],GR),QR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=xU(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},BW=L([nt],e=>e.allowDataOverflow),ax=e=>{var t;if(e==null||!("domain"in e))return Ly;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=_i(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ly},ox=L([nt],ax),sx=L([ox,BW],yR),qW=L([Vy,Sa,Ye,sx],QR,{memoizeOptions:{resultEqualityCheck:qp}}),Hp=e=>e.errorBars,WW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>HR(r,n)),uh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},lx=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(_=>HR(i,_)),p=Ge(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=zW(s,p,d);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(o==null||y>o)&&(o=y)}var w=uP(p);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=uP(Ge(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),dt(a)&&dt(o))return[a,o]},KW=L([nx,nt,FW,Hp,Ye],lx,{memoizeOptions:{resultEqualityCheck:qp}});function HW(e){var{value:t}=e;if(qn(t)||t instanceof Date)return t}var GW=(e,t,r)=>{var n=e.map(HW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&KO(n))?Lk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},YR=e=>e.referenceElements.dots,$s=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),QW=L([YR,Ye,sc],$s),XR=e=>e.referenceElements.areas,YW=L([XR,Ye,sc],$s),ZR=e=>e.referenceElements.lines,XW=L([ZR,Ye,sc],$s),JR=(e,t)=>{var r=_i(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZW=L(QW,Ye,JR),e2=(e,t)=>{var r=_i(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},JW=L([YW,Ye],e2);function eK(e){var t;if(e.x!=null)return _i([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:_i(r)}function tK(e){var t;if(e.y!=null)return _i([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:_i(r)}var t2=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?eK(n):tK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rK=L([XW,Ye],t2),nK=L(ZW,rK,JW,(e,t,r)=>uh(e,r,t)),ux=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?uh(n,a,i):uh(a,i);return pW(t,u,e.allowDataOverflow)},iK=L([nt,ox,sx,qW,KW,nK,Pe,Ye],ux,{memoizeOptions:{resultEqualityCheck:qp}}),aK=[0,1],cx=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=vo(t,a);if(u&&s==null){var c;return Lk(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?GW(n,e,u):i==="expand"?aK:o}},dx=L([nt,Pe,nx,Kp,oc,Ye,iK],cx),r2=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Hu(a));return s in kl?s:"point"}}},zs=L([nt,Pe,qR,q_,Ye],r2);function oK(e){if(e!=null){if(e in kl)return kl[e]();var t="scale".concat(Hu(e));if(t in kl)return kl[t]()}}function fx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=oK(t);if(i!=null){var a=i.domain(r).range(n);return dU(a),a}}}var hx=(e,t,r)=>{var n=ax(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ma(e))return EW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ma(e))return SW(e,t.tickCount,t.allowDecimals)}},px=L([dx,lc,zs],hx),mx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ma(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},sK=L([nt,dx,px,Ye],mx),lK=L(Kp,nt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(_i(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),n2=L(lK,Pe,kR,Ct,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!dt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=or(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),uK=(e,t)=>{var r=Ci(e,t);return r==null||typeof r.padding!="string"?0:n2(e,"xAxis",t,r.padding)},cK=(e,t)=>{var r=Ii(e,t);return r==null||typeof r.padding!="string"?0:n2(e,"yAxis",t,r.padding)},dK=L(Ci,uK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),fK=L(Ii,cK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),hK=L([Ct,dK,Ap,Sp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),pK=L([Ct,Pe,fK,Ap,Sp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return hK(e,r,n);case"yAxis":return pK(e,r,n);case"zAxis":return(i=X_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return VR(e);case"radiusAxis":return FR(e,r);default:return}},i2=L([nt,dc],zp),Us=L([nt,zs,sK,i2],fx);L([uc,Hp,Ye],WW);function a2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gp=(e,t)=>t,Qp=(e,t,r)=>r,mK=L(bp,Gp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a2)),gK=L(Ep,Gp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a2)),o2=(e,t)=>({width:e.width,height:t.height}),vK=(e,t)=>{var r=typeof t.width=="number"?t.width:Ju;return{width:r,height:e.height}},s2=L(Ct,Ci,o2),yK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},wK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_K=L(Pi,Ct,mK,Gp,Qp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=o2(t,s);o==null&&(o=yK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),xK=L(Ai,Ct,gK,Gp,Qp,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=vK(t,s);o==null&&(o=wK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),bK=(e,t)=>{var r=Ci(e,t);if(r!=null)return _K(e,r.orientation,r.mirror)},EK=L([Ct,Ci,bK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),SK=(e,t)=>{var r=Ii(e,t);if(r!=null)return xK(e,r.orientation,r.mirror)},AK=L([Ct,Ii,SK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),l2=L(Ct,Ii,(e,t)=>{var r=typeof t.width=="number"?t.width:Ju;return{width:r,height:e.height}}),cP=(e,t,r)=>{switch(t){case"xAxis":return s2(e,r).width;case"yAxis":return l2(e,r).height;default:return}},u2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=vo(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&KO(l))return l}},gx=L([Pe,Kp,nt,Ye],u2),c2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=vo(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},vx=L([Pe,Kp,lc,Ye],c2),dP=L([Pe,LW,zs,Us,gx,vx,dc,px,Ye],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=vo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),PK=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=vo(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Vt(a[0]-a[1])*2*g:g;var y=d||i;if(y){var w=y.map((_,b)=>{var E=o?o.indexOf(_):_;return{index:b,coordinate:n(E)+g,value:_,offset:g}});return w.filter(_=>dt(_.coordinate))}return u&&s?s.map((_,b)=>({coordinate:n(_)+g,value:_,index:b,offset:g})).filter(_=>dt(_.coordinate)):n.ticks?n.ticks(p).map(_=>({coordinate:n(_)+g,value:_,offset:g})):n.domain().map((_,b)=>({coordinate:n(_)+g,value:o?o[_]:_,index:b,offset:g}))}},d2=L([Pe,lc,zs,Us,px,dc,gx,vx,Ye],PK),TK=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=vo(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vt(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Ps=L([Pe,lc,Us,dc,gx,vx,Ye],TK),Ts=L(nt,Us,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),CK=L([nt,zs,dx,i2],fx);L((e,t,r)=>X_(e,r),CK,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})});var IK=L([Pe,bp,Ep],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),f2=e=>e.options.defaultTooltipEventType,h2=e=>e.options.validateTooltipEventTypes;function p2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function yx(e,t){var r=f2(e),n=h2(e);return p2(t,r,n)}function jK(e){return te(t=>yx(t,e))}var m2=(e,t)=>{var r,n=Number(t);if(!(bn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},OK=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},NK={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},g2=Cr({name:"tooltip",initialState:NK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=yn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ke()},removeTooltipEntrySettings:{reducer(e,t){var r=yn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kK,replaceTooltipEntrySettings:RK,removeTooltipEntrySettings:DK,setTooltipSettingsState:MK,setActiveMouseOverItemIndex:v2,mouseLeaveItem:LK,mouseLeaveChart:y2,setActiveClickItemIndex:VK,setMouseOverAxisIndex:w2,setMouseClickAxisIndex:FK,setSyncInteraction:Fy,setKeyboardInteraction:$y}=g2.actions,$K=g2.reducer;function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WK(e){return e.index!=null}var _2=(e,t,r,n)=>{if(t==null)return qi;var i=qK(e,t,r);if(i==null)return qi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(WK(i)){if(a)return hd(hd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hd(hd({},qi),{},{coordinate:i.coordinate})};function KK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function HK(e,t){var r=KK(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function GK(e,t,r){if(r==null||t==null)return!0;var n=Ge(e,t);return n==null||!ma(r)?!0:HK(n,r)}var wx=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!dt(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||GK(u,r,n)?String(l):null},x2=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},b2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},fc=e=>e.options.tooltipPayloadSearcher,Bs=e=>e.tooltip;function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t){return e??t}var E2=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:w}=m,_=ZK(y,s),b=Array.isArray(_)?ek(_,u,c):_,E=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n,C=w==null?void 0:w.nameKey,O;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?O=X5(b,n,i):O=a(b,t,l,C),Array.isArray(O))O.forEach(S=>{var A=pP(pP({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(US({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:Ge(S.payload,S.dataKey),name:S.name}))});else{var R;p.push(US({tooltipEntrySettings:w,dataKey:E,payload:O,value:Ge(O,E),name:(R=Ge(O,C))!==null&&R!==void 0?R:w==null?void 0:w.name}))}return p},d)}},_x=L([Ot,Pe,qR,q_,jt],r2),JK=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eH=L([jt,Fs],Z_),hc=L([JK,Ot,eH],ex,{memoizeOptions:{resultEqualityCheck:Wp}}),tH=L([hc],e=>e.filter(Bp)),rH=L([hc],tx,{memoizeOptions:{resultEqualityCheck:Wp}}),qs=L([rH,Sa],rx),nH=L([tH,Sa,Ot],zR),xx=L([qs,Ot,hc],ix),S2=L([Ot],ax),iH=L([Ot],e=>e.allowDataOverflow),A2=L([S2,iH],yR),aH=L([hc],e=>e.filter(Bp)),oH=L([nH,aH,oc,RR],GR),sH=L([oH,Sa,jt,A2],QR),lH=L([hc],KR),uH=L([qs,Ot,lH,Hp,jt],lx,{memoizeOptions:{resultEqualityCheck:qp}}),cH=L([YR,jt,Fs],$s),dH=L([cH,jt],JR),fH=L([XR,jt,Fs],$s),hH=L([fH,jt],e2),pH=L([ZR,jt,Fs],$s),mH=L([pH,jt],t2),gH=L([dH,mH,hH],uh),vH=L([Ot,S2,A2,sH,uH,gH,Pe,jt],ux),pc=L([Ot,Pe,qs,xx,oc,jt,vH],cx),yH=L([pc,Ot,_x],hx),wH=L([Ot,pc,yH,jt],mx),P2=e=>{var t=jt(e),r=Fs(e),n=!1;return dc(e,t,r,n)},T2=L([Ot,P2],zp),C2=L([Ot,_x,wH,T2],fx),_H=L([Pe,xx,Ot,jt],u2),xH=L([Pe,xx,Ot,jt],c2),bH=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=vo(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vt(i[0]-i[1])*2*d:d,u&&o?o.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},ji=L([Pe,Ot,_x,C2,P2,_H,xH,jt],bH),bx=L([f2,h2,OK],(e,t,r)=>p2(r.shared,e,t)),I2=e=>e.tooltip.settings.trigger,Ex=e=>e.tooltip.settings.defaultIndex,mc=L([Bs,bx,I2,Ex],_2),lo=L([mc,qs,cc,pc],wx),j2=L([ji,lo],m2),Sx=L([mc],e=>{if(e)return e.dataKey}),EH=L([mc],e=>{if(e)return e.graphicalItemId}),O2=L([Bs,bx,I2,Ex],b2),SH=L([Ai,Pi,Pe,Ct,ji,Ex,O2,fc],x2),AH=L([mc,SH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PH=L([mc],e=>e.active),TH=L([O2,lo,Sa,cc,j2,fc,bx],E2);L([TH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OH=()=>te(Ot),NH=()=>{var e=OH(),t=te(ji),r=te(C2);return Uf(!e||!r?void 0:gP(gP({},e),{},{scale:r}),t)};function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},LH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Ao(Ao(Ao({},n),vt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Ao(Ao(Ao({},n),vt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function VH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var N2=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Vt(c-u)!==Vt(d-c)){var m=[];if(Vt(d-c)===Vt(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=d+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var w=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:o}=r[l]);break}}else{var _=Math.min(u,d),b=Math.max(u,d);if(e>(_+c)/2&&e<=(b+c)/2){({index:o}=r[l]);break}}}else if(t){for(var E=0;E<s;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===s-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},FH=()=>te(q_),Ax=(e,t)=>t,k2=(e,t,r)=>r,Px=(e,t,r,n)=>n,$H=L(ji,e=>fp(e,t=>t.coordinate)),Tx=L([Bs,Ax,k2,Px],_2),Cx=L([Tx,qs,cc,pc],wx),zH=(e,t,r)=>{if(t!=null){var n=Bs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},R2=L([Bs,Ax,k2,Px],b2),ch=L([Ai,Pi,Pe,Ct,ji,Px,R2,fc],x2),UH=L([Tx,ch],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),D2=L([ji,Cx],m2),BH=L([R2,Cx,Sa,cc,D2,fc,Ax],E2),qH=L([Tx,Cx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),WH=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&VH(e,o)){var s=bU(e,t),l=N2(s,a,i,r,n),u=MH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},KH=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=R8(e,r);if(s){var l=EU(s,t),u=N2(l,o,a,n,i),c=LH(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},HH=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?WH(e,t,n,i,a,o,s):KH(e,t,r,n,i,a,o)},GH=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),QH=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Gt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:NW}});function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JH={},eG={zIndexMap:Object.values(Gt).reduce((e,t)=>wP(wP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),JH)},tG=new Set(Object.values(Gt));function rG(e){return tG.has(e)}var M2=Cr({name:"zIndex",initialState:eG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!rG(r)&&delete e.zIndexMap[r])},prepare:Ke()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ke()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ke()}}}),{registerZIndexPortal:nG,unregisterZIndexPortal:iG,registerZIndexPortalId:aG,unregisterZIndexPortalId:oG}=M2.actions,sG=M2.reducer;function Pn(e){var{zIndex:t,children:r}=e,n=YU(),i=n&&t!==void 0&&t!==0,a=Ir(),o=Fe();x.useLayoutEffect(()=>i?(o(nG({zIndex:t})),()=>{o(iG({zIndex:t}))}):Gu,[o,t,i]);var s=te(u=>GH(u,t,a));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?zn.createPortal(r,l):null}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function fG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,y,w;if(c==="ScatterChart")g=d,y=QB,w=Gt.cursorLine;else if(c==="BarChart")g=YB(s,d,a,o),y=Ik,w=Gt.cursorRectangle;else if(s==="radial"&&GO(d)){var{cx:_,cy:b,radius:E,startAngle:C,endAngle:O}=Ok(d);g={cx:_,cy:b,startAngle:C,endAngle:O,innerRadius:E,outerRadius:E},y=kk,w=Gt.cursorLine}else g={points:V8(s,d,a)},y=g_,w=Gt.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,S=pd(pd(pd(pd({stroke:"#ccc",pointerEvents:"none"},a),g),_u(l)),{},{payload:p,payloadIndex:m,className:Oe("recharts-tooltip-cursor",R)});return x.createElement(Pn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},x.createElement(dG,{cursor:l,cursorComp:y,cursorProps:S}))}function hG(e){var t=NH(),r=hk(),n=Tp(),i=FH();return t==null||r==null||n==null||i==null?null:x.createElement(fG,zy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var L2=x.createContext(null),pG=()=>x.useContext(L2),V2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],_=arguments.length,b,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,p),!0;case 5:return w.fn.call(w.context,c,d,p,m),!0;case 6:return w.fn.call(w.context,c,d,p,m,g),!0}for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];w.fn.apply(w.context,b)}else{var C=w.length,O;for(E=0;E<C;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),_){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,d);break;case 4:w[E].fn.call(w[E].context,c,d,p);break;default:if(!b)for(O=1,b=new Array(_-1);O<_;O++)b[O-1]=arguments[O];w[E].fn.apply(w[E].context,b)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,w=[],_=g.length;y<_;y++)(g[y].fn!==c||p&&!g[y].once||d&&g[y].context!==d)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(V2);var mG=V2.exports;const gG=bi(mG);var Ru=new gG,Uy="recharts.syncEvent.tooltip",xP="recharts.syncEvent.brush";function F2(e,t){if(t){var r=Number.parseInt(t,10);if(!bn(r))return e==null?void 0:e[r]}}var vG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$2=Cr({name:"options",initialState:vG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yG=$2.reducer,{createEventEmitter:wG}=$2.actions;function _G(e){return e.tooltip.syncInteraction}var xG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},z2=Cr({name:"chartData",initialState:xG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:bP,setDataStartEndIndexes:bG,setComputedData:Dte}=z2.actions,EG=z2.reducer,SG=["x","y"];function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CG(e,t){if(e==null)return{};var r,n,i=IG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jG(){var e=te(W_),t=te(K_),r=Fe(),n=te(DR),i=te(ji),a=Tp(),o=Pp(),s=te(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return Gu;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(o&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,w=CG(m,SG),{x:_,y:b,width:E,height:C}=c.payload.sourceViewBox,O=Po(Po({},w),{},{x:o.x+(E?(g-_)/E:0)*o.width,y:o.y+(C?(y-b)/C:0)*o.height});r(Po(Po({},c),{},{payload:Po(Po({},c.payload),{},{coordinate:O})}))}else r(c);return}if(i!=null){var R;if(typeof n=="function"){var S={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=n(i,S);R=i[A]}else n==="value"&&(R=i.find(de=>String(de.value)===c.payload.label));var{coordinate:I}=c.payload;if(R==null||c.payload.active===!1||I==null||o==null){r(Fy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:T}=I,k=Math.min(D,o.x+o.width),j=Math.min(T,o.y+o.height),Q={x:a==="horizontal"?R.coordinate:k,y:a==="horizontal"?j:R.coordinate},se=Fy({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(R.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return Ru.on(Uy,l),()=>{Ru.off(Uy,l)}},[s,r,t,e,n,i,a,o])}function OG(){var e=te(W_),t=te(K_),r=Fe();x.useEffect(()=>{if(e==null)return Gu;var n=(i,a,o)=>{t!==o&&e===i&&r(bG(a))};return Ru.on(xP,n),()=>{Ru.off(xP,n)}},[r,t,e])}function NG(){var e=Fe();x.useEffect(()=>{e(wG())},[e]),jG(),OG()}function kG(e,t,r,n,i,a){var o=te(m=>zH(m,e,t)),s=te(K_),l=te(W_),u=te(DR),c=te(_G),d=c==null?void 0:c.active,p=Pp();x.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=Fy({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Ru.emit(Uy,l,m,s)}},[d,r,o,i,n,s,l,u,a,p])}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e){return e.dataKey}function VG(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(CB,t)}var PP=[],FG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ix(e){var t,r,n=zt(e,FG),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:_,shared:b,trigger:E,defaultIndex:C,portal:O,axisId:R}=n,S=Fe(),A=typeof C=="number"?String(C):C;x.useEffect(()=>{S(MK({shared:b,trigger:E,axisId:R,active:i,defaultIndex:A}))},[S,b,E,R,i,A]);var I=Pp(),D=Sk(),T=jK(b),{activeIndex:k,isActive:j}=(t=te($e=>qH($e,T,E,A)))!==null&&t!==void 0?t:{},Q=te($e=>BH($e,T,E,A)),se=te($e=>D2($e,T,E,A)),de=te($e=>UH($e,T,E,A)),le=Q,U=pG(),K=(r=i??j)!==null&&r!==void 0?r:!1,[ne,pe]=SN([le,K]),_e=T==="axis"?se:void 0;kG(T,E,de,_e,k,K);var wt=O??U;if(wt==null||I==null||T==null)return null;var Ne=le??PP;K||(Ne=PP),u&&Ne.length&&(Ne=fN(Ne.filter($e=>$e.value!=null&&($e.hide!==!0||n.includeHidden)),p,LG));var Bt=Ne.length>0,_t=x.createElement(DB,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:K,coordinate:de,hasPayload:Bt,offset:d,position:m,reverseDirection:g,useTranslate3d:y,viewBox:I,wrapperStyle:w,lastBoundingBox:ne,innerRef:pe,hasPortalFromProps:!!O},VG(l,AP(AP({},n),{},{payload:Ne,label:_e,active:K,activeIndex:k,coordinate:de,accessibilityLayer:D})));return x.createElement(x.Fragment,null,zn.createPortal(_t,wt),K&&x.createElement(hG,{cursor:_,tooltipEventType:T,coordinate:de,payload:Ne,index:k}))}var gc=e=>null;gc.displayName="Cell";function $G(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BG{constructor(t){$G(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GG={cacheSize:2e3,enableCache:!0},U2=qG({},GG),CP=new BG(U2.cacheSize),QG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IP="recharts_measurement_span";function YG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var jP=(e,t)=>{try{var r=document.getElementById(IP);r||(r=document.createElement("span"),r.setAttribute("id",IP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,QG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tc.isSsr)return{width:0,height:0};if(!U2.enableCache)return jP(t,r);var n=YG(t,r),i=CP.get(n);if(i)return i;var a=jP(t,r);return CP.set(n,a),a},OP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JG=Object.keys(B2),Ko="NaN";function eQ(e,t){return e*B2[t]}class yr{static parse(t){var r,[,n,i]=(r=ZG.exec(t))!==null&&r!==void 0?r:[];return new yr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,bn(t)&&(this.unit=""),r!==""&&!XG.test(r)&&(this.num=NaN,this.unit=""),JG.includes(r)&&(this.num=eQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bn(this.num)}}function q2(e){if(e.includes(Ko))return Ko;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=OP.exec(t))!==null&&r!==void 0?r:[],o=yr.parse(n??""),s=yr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ko;t=t.replace(OP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=NP.exec(t))!==null&&u!==void 0?u:[],m=yr.parse(c??""),g=yr.parse(p??""),y=d==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Ko;t=t.replace(NP,y.toString())}return t}var kP=/\(([^()]*)\)/;function tQ(e){for(var t=e,r;(r=kP.exec(t))!=null;){var[,n]=r;t=t.replace(kP,q2(n))}return t}function rQ(e){var t=e.replace(/\s+/g,"");return t=tQ(t),t=q2(t),t}function nQ(e){try{return rQ(e)}catch{return Ko}}function Tg(e){var t=nQ(e.slice(5,-1));return t===Ko?"":t}var iQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],aQ=["dx","dy","angle","className","breakAll"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function RP(e,t){if(e==null)return{};var r,n,i=oQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W2=/[ \f\n\r\t\v\u2028\u2029]+/,K2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];$t(t)||(r?i=t.toString().split(""):i=t.toString().split(W2));var a=i.map(s=>({word:s,width:Gl(s,n).width})),o=r?0:Gl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function sQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var H2=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),G2=e=>e.reduce((t,r)=>t.width>r.width?t:r),lQ="",DP=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=K2({breakAll:r,style:n,children:l+lQ});if(!u)return[!1,[]];var c=H2(u.wordsWithComputedWidth,a,o,s),d=c.length>i||G2(c).width>Number(a);return[d,c]},uQ=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=re(a),c=String(o),d=H2(t,n,r,i);if(!u||i)return d;var p=d.length>a||G2(d).width>Number(n);if(!p)return d;for(var m=0,g=c.length-1,y=0,w;m<=g&&y<=c.length-1;){var _=Math.floor((m+g)/2),b=_-1,[E,C]=DP(c,b,l,s,a,n,r,i),[O]=DP(c,_,l,s,a,n,r,i);if(!E&&!O&&(m=_+1),E&&O&&(g=_-1),!E&&O){w=C;break}y++}return w||d},MP=e=>{var t=$t(e)?[]:e.toString().split(W2);return[{words:t,width:void 0}]},cQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!tc.isSsr){var s,l,u=K2({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return MP(n);return uQ({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return MP(n)},Q2="#808080",dQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:Q2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yp=x.forwardRef((e,t)=>{var r=zt(e,dQ),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=RP(r,iQ),p=x.useMemo(()=>cQ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:y,className:w,breakAll:_}=d,b=RP(d,aQ);if(!qn(n)||!qn(i)||p.length===0)return null;var E=Number(n)+(re(m)?m:0),C=Number(i)+(re(g)?g:0);if(!dt(E)||!dt(C))return null;var O;switch(c){case"start":O=Tg("calc(".concat(o,")"));break;case"middle":O=Tg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:O=Tg("calc(".concat(p.length-1," * -").concat(a,")"));break}var R=[];if(l){var S=p[0].width,{width:A}=d;R.push("scale(".concat(re(A)&&re(S)?A/S:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(E,", ").concat(C,")")),R.length&&(b.transform=R.join(" ")),x.createElement("text",By({},rn(b),{ref:t,x:E,y:C,className:Oe("recharts-text",w),textAnchor:u,fill:s.includes("url")?Q2:s}),p.map((I,D)=>{var T=I.words.join(_?"":" ");return x.createElement("tspan",{x:E,dy:D===0?O:a,key:"".concat(T,"-").concat(D)},T)}))});Yp.displayName="Text";var fQ=["labelRef"];function hQ(e,t){if(e==null)return{};var r,n,i=pQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(null,arguments)}var Y2=x.createContext(null),yQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return x.createElement(Y2.Provider,{value:l},s)},X2=()=>{var e=x.useContext(Y2),t=Pp();return e||fk(t)},wQ=x.createContext(null),_Q=()=>{var e=x.useContext(wQ),t=te($R);return e||t},xQ=e=>{var{value:t,formatter:r}=e,n=$t(e.children)?t:e.children;return typeof r=="function"?r(n):n},jx=e=>e!=null&&typeof e=="function",bQ=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},EQ=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=bQ(d,p),w=y>=0?1:-1,_,b;switch(t){case"insideStart":_=d+w*a,b=m;break;case"insideEnd":_=p-w*a,b=!m;break;case"end":_=p+w*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var E=vt(s,l,g,_),C=vt(s,l,g,_+(b?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(C.x,",").concat(C.y),R=$t(e.id)?xu("recharts-radial-line-"):e.id;return x.createElement("text",Zn({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:R,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(R)},r))},SQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=vt(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+o)/2,{x:m,y:g}=vt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},qy=e=>"cx"in e&&re(e.cx),AQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!qy(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,p=o+(l-u)/2,m=(d+p)/2,g=(l+u)/2,y=d+l/2,w=c>=0?1:-1,_=w*n,b=w>0?"end":"start",E=w>0?"start":"end",C=l>=0?1:-1,O=C*n,R=C>0?"end":"start",S=C>0?"start":"end";if(i==="top"){var A={x:d+l/2,y:s-_,textAnchor:"middle",verticalAnchor:b};return lt(lt({},A),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:p+u/2,y:s+c+_,textAnchor:"middle",verticalAnchor:E};return lt(lt({},I),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var D={x:m-O,y:s+c/2,textAnchor:R,verticalAnchor:"middle"};return lt(lt({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var T={x:m+g+O,y:s+c/2,textAnchor:S,verticalAnchor:"middle"};return lt(lt({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:c}:{})}var k=a?{width:g,height:c}:{};return i==="insideLeft"?lt({x:m+O,y:s+c/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?lt({x:m+g-O,y:s+c/2,textAnchor:R,verticalAnchor:"middle"},k):i==="insideTop"?lt({x:d+l/2,y:s+_,textAnchor:"middle",verticalAnchor:E},k):i==="insideBottom"?lt({x:p+u/2,y:s+c-_,textAnchor:"middle",verticalAnchor:b},k):i==="insideTopLeft"?lt({x:d+O,y:s+_,textAnchor:S,verticalAnchor:E},k):i==="insideTopRight"?lt({x:d+l-O,y:s+_,textAnchor:R,verticalAnchor:E},k):i==="insideBottomLeft"?lt({x:p+O,y:s+c-_,textAnchor:S,verticalAnchor:b},k):i==="insideBottomRight"?lt({x:p+u-O,y:s+c-_,textAnchor:R,verticalAnchor:b},k):i&&typeof i=="object"&&(re(i.x)||mi(i.x))&&(re(i.y)||mi(i.y))?lt({x:o+or(i.x,g),y:s+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):lt({x:y,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},PQ={angle:0,offset:5,zIndex:Gt.label,position:"middle",textBreakAll:!1};function zi(e){var t=zt(e,PQ),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=_Q(),d=X2(),p=n==="center"?d:c??d,m,g,y;if(r==null?m=p:qy(r)?m=r:m=fk(r),!m||$t(i)&&$t(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var w=lt(lt({},t),{},{viewBox:m});if(x.isValidElement(o)){var{labelRef:_}=w,b=hQ(w,fQ);return x.cloneElement(o,b)}if(typeof o=="function"){if(g=x.createElement(o,w),x.isValidElement(g))return g}else g=xQ(t);var E=rn(t);if(qy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return EQ(t,n,g,E,m);y=SQ(m,t.offset,t.position)}else y=AQ(t,m);return x.createElement(Pn,{zIndex:t.zIndex},x.createElement(Yp,Zn({ref:u,className:Oe("recharts-label",s)},E,y,{textAnchor:sQ(E.textAnchor)?E.textAnchor:y.textAnchor,breakAll:l}),g))}zi.displayName="Label";var TQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(zi,Zn({key:"label-implicit"},n)):qn(e)?x.createElement(zi,Zn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===zi?x.cloneElement(e,lt({key:"label-implicit"},n)):x.createElement(zi,Zn({key:"label-implicit",content:e},n)):jx(e)?x.createElement(zi,Zn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(zi,Zn({},e,{key:"label-implicit"},n)):null};function CQ(e){var{label:t,labelRef:r}=e,n=X2();return TQ(t,n,r)||null}var Z2={},J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(J2);var eD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(eD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2,r=eD,n=cp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(Z2);var IQ=Z2.last;const jQ=bi(IQ);var OQ=["valueAccessor"],NQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function VP(e,t){if(e==null)return{};var r,n,i=kQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RQ=e=>Array.isArray(e.value)?jQ(e.value):e.value,tD=x.createContext(void 0),DQ=tD.Provider,rD=x.createContext(void 0),MQ=rD.Provider;function LQ(){return x.useContext(tD)}function VQ(){return x.useContext(rD)}function Fd(e){var{valueAccessor:t=RQ}=e,r=VP(e,OQ),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=VP(r,NQ),u=LQ(),c=VQ(),d=u||c;return!d||!d.length?null:x.createElement(Pn,{zIndex:s??Gt.label},x.createElement(hr,{className:"recharts-label-list"},d.map((p,m)=>{var g,y=$t(n)?t(p,m):Ge(p&&p.payload,n),w=$t(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(zi,dh({key:"label-".concat(m)},rn(p),l,w,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Fd.displayName="LabelList";function nD(e){var{label:t}=e;return t?t===!0?x.createElement(Fd,{key:"labelList-implicit"}):x.isValidElement(t)||jx(t)?x.createElement(Fd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Fd,dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var iD=e=>e.graphicalItems.polarItems,FQ=L([Ye,sc],Z_),Xp=L([iD,nt,FQ],ex),$Q=L([Xp],tx),Zp=L([$Q,$_],rx),zQ=L([Zp,nt,Xp],ix);L([Zp,nt,Xp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ge(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ge(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var FP=()=>{},UQ=L([Zp,nt,Xp,Hp,Ye],lx),BQ=L([nt,ox,sx,FP,UQ,FP,Pe,Ye],ux),aD=L([nt,Pe,Zp,zQ,oc,Ye,BQ],cx),qQ=L([aD,nt,zs],hx);L([nt,aD,qQ,Ye],mx);var WQ={radiusAxis:{},angleAxis:{}},oD=Cr({name:"polarAxis",initialState:WQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mte,removeRadiusAxis:Lte,addAngleAxis:Vte,removeAngleAxis:Fte}=oD.actions,KQ=oD.reducer;function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=(e,t)=>t,Ox=L([iD,YQ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),XQ=[],Nx=(e,t,r)=>(r==null?void 0:r.length)===0?XQ:r,sD=L([$_,Ox,Nx],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>zP(zP({},t.presentationProps),a.props))),i!=null)return i}}),ZQ=L([sD,Ox,Nx],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Ge(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:xp(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),JQ=L([sD,Ox,Nx,Ct],(e,t,r,n)=>{if(!(t==null||e==null))return eX({offset:n,pieSettings:t,displayedData:e,cells:r})}),lD={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx=Symbol.for("react.transitional.element"),Rx=Symbol.for("react.portal"),Jp=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),rm=Symbol.for("react.consumer"),nm=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),lm=Symbol.for("react.lazy"),eY=Symbol.for("react.view_transition"),tY=Symbol.for("react.client.reference");function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kx:switch(e=e.type,e){case Jp:case tm:case em:case am:case om:case eY:return e;default:switch(e=e&&e.$$typeof,e){case nm:case im:case lm:case sm:return e;case rm:return e;default:return t}}case Rx:return t}}}De.ContextConsumer=rm;De.ContextProvider=nm;De.Element=kx;De.ForwardRef=im;De.Fragment=Jp;De.Lazy=lm;De.Memo=sm;De.Portal=Rx;De.Profiler=tm;De.StrictMode=em;De.Suspense=am;De.SuspenseList=om;De.isContextConsumer=function(e){return sn(e)===rm};De.isContextProvider=function(e){return sn(e)===nm};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kx};De.isForwardRef=function(e){return sn(e)===im};De.isFragment=function(e){return sn(e)===Jp};De.isLazy=function(e){return sn(e)===lm};De.isMemo=function(e){return sn(e)===sm};De.isPortal=function(e){return sn(e)===Rx};De.isProfiler=function(e){return sn(e)===tm};De.isStrictMode=function(e){return sn(e)===em};De.isSuspense=function(e){return sn(e)===am};De.isSuspenseList=function(e){return sn(e)===om};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jp||e===tm||e===em||e===am||e===om||typeof e=="object"&&e!==null&&(e.$$typeof===lm||e.$$typeof===sm||e.$$typeof===nm||e.$$typeof===rm||e.$$typeof===im||e.$$typeof===tY||e.getModuleId!==void 0)};De.typeOf=sn;lD.exports=De;var rY=lD.exports,UP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",BP=null,Cg=null,uD=e=>{if(e===BP&&Array.isArray(Cg))return Cg;var t=[];return x.Children.forEach(e,r=>{$t(r)||(rY.isFragment(r)?t=t.concat(uD(r.props.children)):t.push(r))}),Cg=t,BP=e,t};function Dx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>UP(i)):n=[UP(t)],uD(e).forEach(i=>{var a=io(i,"type.displayName")||io(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(cD);var nY=cD.isPlainObject;const iY=bi(nY);function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=oY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var KP=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},lY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uY=e=>{var t=zt(e,lY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=x.useRef(null),[m,g]=x.useState(-1),y=x.useRef(i),w=x.useRef(a),_=x.useRef(o),b=x.useRef(r),E=x.useRef(n),C=Rp(e,"trapezoid-");if(x.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var O=Oe("recharts-trapezoid",s);if(!d)return x.createElement("g",null,x.createElement("path",fh({},rn(t),{className:O,d:KP(r,n,i,a,o)})));var R=y.current,S=w.current,A=_.current,I=b.current,D=E.current,T="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),j=Ak(["strokeDasharray"],u,l);return x.createElement(kp,{animationId:C,key:C,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var se=Et(R,i,Q),de=Et(S,a,Q),le=Et(A,o,Q),U=Et(I,r,Q),K=Et(D,n,Q);p.current&&(y.current=se,w.current=de,_.current=le,b.current=U,E.current=K);var ne=Q>0?{transition:j,strokeDasharray:k}:{strokeDasharray:T};return x.createElement("path",fh({},rn(t),{className:O,d:KP(U,K,se,de,le),ref:p,style:WP(WP({},ne),t.style)}))})},cY=["option","shapeType","propTransformer","activeClassName"];function dY(e,t){if(e==null)return{};var r,n,i=fY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=pY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e,t){return hh(hh({},t),e)}function vY(e,t){return e==="symbols"}function GP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(Ik,r);case"trapezoid":return x.createElement(uY,r);case"sector":return x.createElement(kk,r);case"symbols":if(vY(t))return x.createElement(Uw,r);break;case"curve":return x.createElement(g_,r);default:return null}}function yY(e){return x.isValidElement(e)?e.props:e}function dD(e){var{option:t,shapeType:r,propTransformer:n=gY,activeClassName:i="recharts-active-shape"}=e,a=dY(e,cY),o;if(x.isValidElement(t))o=x.cloneElement(t,hh(hh({},a),yY(t)));else if(typeof t=="function")o=t(a,a.index);else if(iY(t)&&typeof t!="boolean"){var s=n(t,a);o=x.createElement(GP,{shapeType:r,elementProps:s})}else{var l=a;o=x.createElement(GP,{shapeType:r,elementProps:l})}return a.isActive?x.createElement(hr,{className:i},o):o}var Mx=(e,t,r)=>{var n=Fe();return(i,a)=>o=>{e==null||e(i,a,o),n(v2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Lx=e=>{var t=Fe();return(r,n)=>i=>{e==null||e(r,n,i),t(LK())}},Vx=(e,t,r)=>{var n=Fe();return(i,a)=>o=>{e==null||e(i,a,o),n(VK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function fD(e){var{tooltipEntrySettings:t}=e,r=Fe(),n=Ir(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(kK(t)):i.current!==t&&r(RK({prev:i.current,next:t})),i.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{i.current&&(r(DK(i.current)),i.current=null)},[r]),null}function wY(e){var{legendPayload:t}=e,r=Fe(),n=Ir(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(xk(t)):i.current!==t&&r(bk({prev:i.current,next:t})),i.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{i.current&&(r(Ek(i.current)),i.current=null)},[r]),null}function _Y(e){var{legendPayload:t}=e,r=Fe(),n=te(Pe),i=x.useRef(null);return x.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(xk(t)):i.current!==t&&r(bk({prev:i.current,next:t})),i.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{i.current&&(r(Ek(i.current)),i.current=null)},[r]),null}var Ig,xY=()=>{var[e]=x.useState(()=>xu("uid-"));return e},bY=(Ig=MM.useId)!==null&&Ig!==void 0?Ig:xY;function hD(e,t){var r=bY();return t||(e?"".concat(e,"-").concat(r):r)}var EY=x.createContext(void 0),pD=e=>{var{id:t,type:r,children:n}=e,i=hD("recharts-".concat(r),t);return x.createElement(EY.Provider,{value:i},n(i))},SY={cartesianItems:[],polarItems:[]},mD=Cr({name:"graphicalItems",initialState:SY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=yn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=yn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ke()},removePolarGraphicalItem:{reducer(e,t){var r=yn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ke()}}}),{addCartesianGraphicalItem:AY,replaceCartesianGraphicalItem:PY,removeCartesianGraphicalItem:TY,addPolarGraphicalItem:CY,removePolarGraphicalItem:IY}=mD.actions,jY=mD.reducer,OY=e=>{var t=Fe(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(AY(e)):r.current!==e&&t(PY({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(TY(r.current)),r.current=null)},[t]),null},NY=x.memo(OY);function kY(e){var t=Fe();return x.useLayoutEffect(()=>(t(CY(e)),()=>{t(IY(e))}),[t,e]),null}var RY=["key"],DY=["onMouseEnter","onClick","onMouseLeave"],MY=["id"],LY=["id"];function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}function um(e,t){if(e==null)return{};var r,n,i=zY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UY(e){var t=x.useMemo(()=>Dx(e.children,gc),[e.children]),r=te(n=>ZQ(n,e.id,t));return r==null?null:x.createElement(_Y,{legendPayload:r})}var BY=x.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:xp(s,t),hide:l,type:u,color:o,unit:""}};return x.createElement(fD,{tooltipEntrySettings:c})}),qY=(e,t)=>e>t?"start":e<t?"end":"middle",WY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),KY=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=jk(a,o),l=i+or(e.cx,a,a/2),u=n+or(e.cy,o,o/2),c=or(e.innerRadius,s,0),d=WY(r,e.outerRadius,s),p=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},HY=(e,t)=>{var r=Vt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function GY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var QY=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Oe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=um(t,RY);return x.createElement(g_,ga({},i,{type:"linear",className:r}))},YY=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var i=Oe("recharts-pie-label-text",GY(e));return x.createElement(Yp,ga({},t,{alignmentBaseline:"middle",className:i}),n)};function XY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=xn(r),l=_u(i),u=_u(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=vt(p.cx,p.cy,p.outerRadius+c,g),w=ot(ot(ot(ot({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:qY(y.x,p.cx)},y),_=ot(ot(ot(ot({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[vt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return x.createElement(Pn,{zIndex:Gt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},x.createElement(hr,null,a&&QY(a,_),YY(i,w,Ge(p,o))))});return x.createElement(hr,{className:"recharts-pie-labels"},d)}function ZY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(nD,{label:i}):x.createElement(XY,{sectors:t,props:r,showLabels:n})}function JY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=te(lo),l=te(Sx),u=te(EH),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=um(i,DY),g=Mx(c,i.dataKey,o),y=Lx(p),w=Vx(d,i.dataKey,o);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((_,b)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var E=u==null||u===o,C=String(b)===s&&(l==null||i.dataKey===l)&&E,O=s?n:null,R=r&&C?r:O,S=ot(ot({},_),{},{stroke:_.stroke,tabIndex:-1,[ik]:b,[ak]:i.dataKey});return x.createElement(hr,ga({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Qu(m,_,b),{onMouseEnter:g(_,b),onMouseLeave:y(_,b),onClick:w(_,b)}),x.createElement(dD,ga({option:a??R,index:b,shapeType:"sector",isActive:C},S)))}))}function eX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=HY(s,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(R=>Ge(R,u,0)!==0).length,_=(g>=360?w:w-1)*y,b=g-w*p-_,E=n.reduce((R,S)=>{var A=Ge(S,u,0);return R+(re(A)?A:0)},0),C;if(E>0){var O;C=n.map((R,S)=>{var A=Ge(R,u,0),I=Ge(R,c,S),D=KY(r,a,R),T=(re(A)?A:0)/E,k,j=ot(ot({},R),i&&i[S]&&i[S].props);S?k=O.endAngle+Vt(m)*y*(A!==0?1:0):k=s;var Q=k+Vt(m)*((A!==0?p:0)+T*b),se=(k+Q)/2,de=(D.innerRadius+D.outerRadius)/2,le=[{name:I,value:A,payload:j,dataKey:u,type:d}],U=vt(D.cx,D.cy,de,se);return O=ot(ot(ot(ot({},r.presentationProps),{},{percent:T,cornerRadius:typeof o=="string"?parseFloat(o):o,name:I,tooltipPayload:le,midAngle:se,middleRadius:de,tooltipPosition:U},j),D),{},{value:A,dataKey:u,startAngle:k,endAngle:Q,payload:j,paddingAngle:Vt(m)*y}),O})}return C}function tX(e){var{showLabels:t,sectors:r,children:n}=e,i=x.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return x.createElement(MQ,{value:t?i:void 0},n)}function rX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=Rp(t,"recharts-pie-"),g=r.current,[y,w]=x.useState(!1),_=x.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),b=x.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return x.createElement(tX,{showLabels:!y,sectors:i},x.createElement(kp,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:_,key:m},E=>{var C=[],O=i&&i[0],R=O==null?void 0:O.startAngle;return i==null||i.forEach((S,A)=>{var I=g&&g[A],D=A>0?io(S,"paddingAngle",0):0;if(I){var T=Et(I.endAngle-I.startAngle,S.endAngle-S.startAngle,E),k=ot(ot({},S),{},{startAngle:R+D,endAngle:R+T+D});C.push(k),R=k.endAngle}else{var{endAngle:j,startAngle:Q}=S,se=Et(0,j-Q,E),de=ot(ot({},S),{},{startAngle:R+D,endAngle:R+se+D});C.push(de),R=de.endAngle}}),r.current=C,x.createElement(hr,null,x.createElement(JY,{sectors:C,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),x.createElement(ZY,{showLabels:!y,sectors:i,props:t}),t.children)}var nX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gt.area};function iX(e){var{id:t}=e,r=um(e,MY),{hide:n,className:i,rootTabIndex:a}=e,o=x.useMemo(()=>Dx(e.children,gc),[e.children]),s=te(c=>JQ(c,t,o)),l=x.useRef(null),u=Oe("recharts-pie",i);return n||s==null?(l.current=null,x.createElement(hr,{tabIndex:a,className:u})):x.createElement(Pn,{zIndex:e.zIndex},x.createElement(BY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(hr,{tabIndex:a,className:u},x.createElement(rX,{props:ot(ot({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function gD(e){var t=zt(e,nX),{id:r}=t,n=um(t,LY),i=xn(n);return x.createElement(pD,{id:r,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(kY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(UY,ga({},n,{id:a})),x.createElement(iX,ga({},n,{id:a}))))}gD.displayName="Pie";function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){aX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lX={xAxis:{},yAxis:{},zAxis:{}},vD=Cr({name:"cartesianAxis",initialState:lX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=XP(XP({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:uX,replaceXAxis:cX,removeXAxis:dX,addYAxis:fX,replaceYAxis:hX,removeYAxis:pX,addZAxis:$te,replaceZAxis:zte,removeZAxis:Ute,updateYAxisWidth:mX}=vD.actions,gX=vD.reducer,vX=L([Ct],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yX=L([vX,Ai,Pi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yD=()=>te(yX),wX="Invariant failed";function _X(e,t){throw new Error(wX)}var xX=["x","y"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=EX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e,t){if(e==null)return{};var r,n,i=PX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TX(e,t){var{x:r,y:n}=e,i=AX(e,xX),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return bl(bl(bl(bl(bl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function ph(e){return x.createElement(dD,Wy({shapeType:"rectangle",propTransformer:TX,activeClassName:"recharts-active-bar"},e))}var CX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||$t(n);return a?t(n,i):(a||_X(),r)}},IX={},wD=Cr({name:"errorBars",initialState:IX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Bte,replaceErrorBar:qte,removeErrorBar:Wte}=wD.actions,jX=wD.reducer,OX=["children"];function NX(e,t){if(e==null)return{};var r,n,i=kX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DX=x.createContext(RX);function MX(e){var{children:t}=e,r=NX(e,OX);return x.createElement(DX.Provider,{value:r},t)}function _D(e,t){var r,n,i=te(u=>Ci(u,e)),a=te(u=>Ii(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:kt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Rt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function LX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=yD(),{needClipX:a,needClipY:o,needClip:s}=_D(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function VX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var FX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=x;function $X(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zX=typeof Object.is=="function"?Object.is:$X,UX=vc.useSyncExternalStore,BX=vc.useRef,qX=vc.useEffect,WX=vc.useMemo,KX=vc.useDebugValue;FX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=BX(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=WX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,zX(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var s=UX(e,a[0],a[1]);return qX(function(){o.hasValue=!0,o.value=s},[s]),KX(s),s};function HX(e){e()}function GX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JP={notify(){},get:()=>[]};function QX(e,t){let r,n=JP,i=0,a=!1;function o(y){c();const w=n.subscribe(y);let _=!1;return()=>{_||(_=!0,w(),d())}}function s(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=GX())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=JP)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var YX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XX=YX(),ZX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JX=ZX(),eZ=()=>XX||JX?x.useLayoutEffect:x.useEffect,tZ=eZ();function eT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function rZ(e,t){if(eT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!eT(e[r[i]],t[r[i]]))return!1;return!0}var jg=Symbol.for("react-redux-context"),Og=typeof globalThis<"u"?globalThis:{};function nZ(){if(!x.createContext)return{};const e=Og[jg]??(Og[jg]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var iZ=nZ();function aZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const l=QX(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=x.useMemo(()=>i.getState(),[i]);tZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||iZ;return x.createElement(s.Provider,{value:a},t)}var oZ=aZ,sZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function lZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Fx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(sZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!rZ(e[n],t[n]))return!1}else if(!lZ(e[n],t[n]))return!1;return!0}var uZ=["onMouseEnter","onMouseLeave","onClick"],cZ=["value","background","tooltipPosition"],dZ=["id"],fZ=["onMouseEnter","onClick","onMouseLeave"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(e,t){if(e==null)return{};var r,n,i=gZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:xp(r,t),payload:e}]},yZ=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:xp(a,t),hide:o,type:l,color:i,unit:s}};return x.createElement(fD,{tooltipEntrySettings:u})});function wZ(e){var t=te(lo),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=mh(a,uZ),c=Mx(o,n),d=Lx(s),p=Vx(l,n);if(!i||r==null)return null;var m=_u(i);return x.createElement(Pn,{zIndex:VX(i,Gt.barBackground)},r.map((g,y)=>{var{value:w,background:_,tooltipPosition:b}=g,E=mh(g,cZ);if(!_)return null;var C=c(g,y),O=d(g,y),R=p(g,y),S=cr(cr(cr(cr(cr({option:i,isActive:String(y)===t},E),{},{fill:"#eee"},_),m),Qu(u,g,y)),{},{onMouseEnter:C,onMouseLeave:O,onClick:R,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(ph,xi({key:"background-bar-".concat(y)},S))}))}function _Z(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return cr(cr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(DQ,{value:t?i:void 0},r)}function xZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=te(lo),l=te(Sx),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?x.createElement(Pn,{zIndex:Gt.activeBar},x.createElement(ph,xi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):x.createElement(ph,xi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function bZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return x.createElement(ph,xi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function EZ(e){var t,{data:r,props:n}=e,i=(t=xn(n))!==null&&t!==void 0?t:{},{id:a}=i,o=mh(i,dZ),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=mh(n,fZ),g=Mx(c,l),y=Lx(p),w=Vx(d,l);return r?x.createElement(x.Fragment,null,r.map((_,b)=>x.createElement(hr,xi({key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(b),className:"recharts-bar-rectangle"},Qu(m,_,b),{onMouseEnter:g(_,b),onMouseLeave:y(_,b),onClick:w(_,b)}),u?x.createElement(xZ,{shape:s,activeBar:u,baseProps:o,entry:_,index:b,dataKey:l}):x.createElement(bZ,{shape:s,baseProps:o,entry:_,index:b,dataKey:l})))):null}function SZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=Rp(t,"recharts-bar-"),[m,g]=x.useState(!1),y=!m,w=x.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),_=x.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return x.createElement(_Z,{showLabels:y,rects:n},x.createElement(kp,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:w,onAnimationStart:_,key:p},b=>{var E=b===1?n:n==null?void 0:n.map((C,O)=>{var R=d&&d[O];if(R)return cr(cr({},C),{},{x:Et(R.x,C.x,b),y:Et(R.y,C.y,b),width:Et(R.width,C.width,b),height:Et(R.height,C.height,b)});if(i==="horizontal"){var S=Et(0,C.height,b),A=Et(C.stackedBarStart,C.y,b);return cr(cr({},C),{},{y:A,height:S})}var I=Et(0,C.width,b),D=Et(C.stackedBarStart,C.x,b);return cr(cr({},C),{},{width:I,x:D})});return b>0&&(r.current=E??null),E==null?null:x.createElement(hr,null,x.createElement(EZ,{props:t,data:E}))}),x.createElement(nD,{label:t.label}),t.children)}function AZ(e){var t=x.useRef(null);return x.createElement(SZ,{previousRectanglesRef:t,props:e})}var xD=0,PZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ge(e,t)}};class TZ extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=Oe("recharts-bar",i),d=u;return x.createElement(hr,{className:c,id:u},s&&x.createElement("defs",null,x.createElement(LX,{clipPathId:d,xAxisId:a,yAxisId:o})),x.createElement(hr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},x.createElement(wZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),x.createElement(AZ,this.props)))}}var CZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:xD,xAxisId:0,yAxisId:0,zIndex:Gt.bar};function IZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=_D(t,r),p=Tp(),m=Ir(),g=Dx(e.children,gc),y=te(b=>nJ(b,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var w,_=y==null?void 0:y[0];return _==null||_.height==null||_.width==null?w=0:w=p==="vertical"?_.height/2:_.width/2,x.createElement(MX,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:PZ,errorBarOffset:w},x.createElement(TZ,xi({},e,{layout:p,needClip:d,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function jZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:y}=e,w=t==="horizontal"?s:o,_=c?w.scale.domain():null,b=yU({numericAxis:w}),E=w.scale(b);return d.map((C,O)=>{var R,S,A,I,D,T;c?R=fU(c[O+y],_):(R=Ge(C,r),Array.isArray(R)||(R=[b,R]));var k=CX(n,xD)(R[1],O);if(t==="horizontal"){var j,[Q,se]=[s.scale(R[0]),s.scale(R[1])];S=FS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:C,index:O}),A=(j=se??Q)!==null&&j!==void 0?j:void 0,I=i.size;var de=Q-se;if(D=bn(de)?0:de,T={x:S,y:p.top,width:I,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var le=Vt(D||k)*(Math.abs(k)-Math.abs(D));A-=le,D+=le}}else{var[U,K]=[o.scale(R[0]),o.scale(R[1])];if(S=U,A=FS({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:C,index:O}),I=K-U,D=i.size,T={x:p.left,y:A,width:p.width,height:D},Math.abs(k)>0&&Math.abs(I)<Math.abs(k)){var ne=Vt(I||k)*(Math.abs(k)-Math.abs(I));I+=ne}}if(S==null||A==null||I==null||D==null)return null;var pe=cr(cr({},C),{},{stackedBarStart:E,x:S,y:A,width:I,height:D,value:c?R:R[1],payload:C,background:T,tooltipPosition:{x:S+I/2,y:A+D/2},parentViewBox:g},m&&m[O]&&m[O].props);return pe}).filter(Boolean)}function OZ(e){var t=zt(e,CZ),r=Ir();return x.createElement(pD,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(wY,{legendPayload:vZ(t)}),x.createElement(yZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(NY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Pn,{zIndex:t.zIndex},x.createElement(IZ,xi({},t,{id:n})))))}var ns=x.memo(OZ,Fx);ns.displayName="Bar";function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){NZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NZ(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DZ=(e,t)=>t,MZ=(e,t,r)=>r,LZ=(e,t,r,n)=>n,VZ=(e,t,r,n,i)=>i,yc=L([J_,VZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),FZ=L([yc],e=>e==null?void 0:e.maxBarSize),$Z=(e,t,r,n,i,a)=>a,nT=(e,t,r)=>{var n=r??e;if(!$t(n))return or(n,t,0)},zZ=L([Pe,J_,DZ,MZ,LZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),UZ=(e,t,r,n)=>{var i=Pe(e);return i==="horizontal"?Vy(e,"yAxis",r,n):Vy(e,"xAxis",t,n)},BZ=(e,t,r)=>{var n=Pe(e);return n==="horizontal"?cP(e,"xAxis",t):cP(e,"yAxis",r)},qZ=(e,t,r)=>{var n={},i=e.filter(Bp),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=nT(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=nT(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]},WZ=L([zZ,PW,BZ],qZ),KZ=(e,t,r,n,i)=>{var a,o,s=yc(e,t,r,n,i);if(s!=null){var l=Pe(e),u=NR(e),{maxBarSize:c}=s,d=$t(c)?u:c,p,m;return l==="horizontal"?(p=Ts(e,"xAxis",t,n),m=Ps(e,"xAxis",t,n)):(p=Ts(e,"yAxis",r,n),m=Ps(e,"yAxis",r,n)),(a=(o=Uf(p,m,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},bD=(e,t,r,n)=>{var i=Pe(e),a,o;return i==="horizontal"?(a=Ts(e,"xAxis",t,n),o=Ps(e,"xAxis",t,n)):(a=Ts(e,"yAxis",r,n),o=Ps(e,"yAxis",r,n)),Uf(a,o)};function HZ(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=or(e,r,0,!0),s,l=[];if(dt(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((_,b)=>_+(b.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-o,size:0};s=n.reduce((_,b)=>{var E,C={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},O=[..._,C];return m=O[O.length-1].position,O},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var y=(r-2*g-(a-1)*o)/a;y>1&&(y>>=0);var w=dt(i)?Math.min(y,i):y;s=n.reduce((_,b,E)=>[..._,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+o)*E+(y-w)/2,size:w}}],l)}return s}}var GZ=(e,t,r,n,i,a,o)=>{var s=$t(o)?t:o,l=HZ(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>md(md({},u),{},{position:md(md({},u.position),{},{offset:u.position.offset-i/2})}))),l},QZ=L([WZ,NR,AW,kR,KZ,bD,FZ],GZ),YZ=(e,t,r,n)=>Ts(e,"xAxis",t,n),XZ=(e,t,r,n)=>Ts(e,"yAxis",r,n),ZZ=(e,t,r,n)=>Ps(e,"xAxis",t,n),JZ=(e,t,r,n)=>Ps(e,"yAxis",r,n),eJ=L([QZ,yc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),tJ=(e,t)=>{var r=Y_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},rJ=L([UZ,yc],tJ),nJ=L([Ct,u_,YZ,XZ,ZZ,JZ,eJ,Pe,z_,bD,rJ,yc,$Z],(e,t,r,n,i,a,o,s,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:w}=d,_;if(w!=null&&w.length>0?_=w:_=m==null?void 0:m.slice(g,y+1),_!=null)return jZ({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:_,offset:e,cells:p,dataStartIndex:g})}}),ED=e=>{var{chartData:t}=e,r=Fe(),n=Ir();return x.useEffect(()=>n?()=>{}:(r(bP(t)),()=>{r(bP(void 0))}),[t,r,n]),null},iT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SD=Cr({name:"brush",initialState:iT,reducers:{setBrushSettings(e,t){return t.payload==null?iT:t.payload}}}),{setBrushSettings:Kte}=SD.actions,iJ=SD.reducer;function aJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $x{static create(t){return new $x(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}aJ($x,"EPS",1e-4);function lJ(e){return(e%180+180)%180}var uJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lJ(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},cJ={dots:[],areas:[],lines:[]},AD=Cr({name:"referenceElements",initialState:cJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=yn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=yn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=yn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Hte,removeDot:Gte,addArea:Qte,removeArea:Yte,addLine:Xte,removeLine:Zte}=AD.actions,dJ=AD.reducer,fJ=x.createContext(void 0),hJ=e=>{var{children:t}=e,[r]=x.useState("".concat(xu("recharts"),"-clip")),n=yD();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return x.createElement(fJ.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function PD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function pJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uJ(n,r)}function mJ(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function gh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function gJ(e,t){return PD(e,t+1)}function vJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:PD(n,u)};var y=l,w,_=()=>(w===void 0&&(w=r(g,y)),w),b=g.coordinate,E=l===0||gh(e,b,_,c,s);E||(l=0,c=o,u+=1),E&&(c=b+e*(_()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xJ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===o-1){var w=e*(m.coordinate+e*y()/2-l);a[p]=m=tr(tr({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[p]=m=tr(tr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var _=gh(e,m.tickCoord,y,s,l);_&&(l=m.tickCoord-e*(y()/2+i),a[p]=tr(tr({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function bJ(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),p=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=tr(tr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=gh(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=tr(tr({},c),{},{isShow:!0}))}}for(var g=a?s-1:s,y=function(b){var E=o[b],C,O=()=>(C===void 0&&(C=r(E,b)),C);if(b===0){var R=e*(E.coordinate-e*O()/2-l);o[b]=E=tr(tr({},E),{},{tickCoord:R<0?E.coordinate-R*e:E.coordinate})}else o[b]=E=tr(tr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var S=gh(e,E.tickCoord,O,l,u);S&&(l=E.tickCoord+e*(O()/2+i),o[b]=tr(tr({},E),{},{isShow:!0}))}},w=0;w<g;w++)y(w);return o}function zx(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(re(l)||tc.isSsr){var p;return(p=gJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?Gl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(E,C)=>{var O=typeof u=="function"?u(E.value,C):E.value;return g==="width"?pJ(Gl(O,{fontSize:t,letterSpacing:r}),y,d):Gl(O,{fontSize:t,letterSpacing:r})[g]},_=i.length>=2?Vt(i[1].coordinate-i[0].coordinate):1,b=mJ(a,_,g);return l==="equidistantPreserveStart"?vJ(_,b,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=bJ(_,b,w,i,o,l==="preserveStartEnd"):m=xJ(_,b,w,i,o),m.filter(E=>E.isShow))}var EJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},SJ=["axisLine","width","height","className","hide","ticks","axisType"];function AJ(e,t){if(e==null)return{};var r,n,i=PJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){TJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TJ(e,t,r){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gt.axis};function jJ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=ht(ht(ht({},l),xn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=ht(ht({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=ht(ht({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",uo({},u,{className:Oe("recharts-cartesian-axis-line",io(s,"className"))}))}function OJ(e,t,r,n,i,a,o,s,l){var u,c,d,p,m,g,y=s?-1:1,w=e.tickSize||o,_=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!s*i,d=p-y*w,g=d-y*l,m=_;break;case"left":d=p=e.coordinate,c=t+ +!s*n,u=c-y*w,m=u-y*l,g=_;break;case"right":d=p=e.coordinate,c=t+ +s*n,u=c+y*w,m=u+y*l,g=_;break;default:u=c=e.coordinate,p=r+ +s*i,d=p+y*w,g=d+y*l,m=_;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function NJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function RJ(e){var{option:t,tickProps:r,value:n}=e,i,a=Oe(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,ht(ht({},r),{},{className:a}));else if(typeof t=="function")i=t(ht(ht({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Oe(o,t==null?void 0:t.className)),i=x.createElement(Yp,uo({},r,{className:o}),n)}return i}var DJ=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:y,tickSize:w,tickMargin:_,fontSize:b,letterSpacing:E,getTicksConfig:C,events:O,axisType:R}=e,S=zx(ht(ht({},C),{},{ticks:r}),b,E),A=NJ(c,d),I=kJ(c,d),D=xn(C),T=_u(n),k={};typeof i=="object"&&(k=i);var j=ht(ht({},D),{},{fill:"none"},k),Q=S.map(le=>ht({entry:le},OJ(le,p,m,g,y,c,w,d,_))),se=Q.map(le=>{var{entry:U,line:K}=le;return x.createElement(hr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&x.createElement("line",uo({},j,K,{className:Oe("recharts-cartesian-axis-tick-line",io(i,"className"))})))}),de=Q.map((le,U)=>{var{entry:K,tick:ne}=le,pe=ht(ht(ht(ht({textAnchor:A,verticalAnchor:I},D),{},{stroke:"none",fill:a},T),ne),{},{index:U,payload:K,visibleTicksCount:S.length,tickFormatter:o,padding:l},u);return x.createElement(hr,uo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Qu(O,K,U)),n&&x.createElement(RJ,{option:n,tickProps:pe,value:"".concat(typeof o=="function"?o(K.value,U):K.value).concat(s||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},de.length>0&&x.createElement(Pn,{zIndex:Gt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},de)),se.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},se))}),MJ=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=AJ(e,SJ),[c,d]=x.useState(""),[p,m]=x.useState(""),g=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return EJ({ticks:g.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=x.useCallback(w=>{if(w){var _=w.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var b=_[0];if(b){var E=window.getComputedStyle(b),C=E.fontSize,O=E.letterSpacing;(C!==c||O!==p)&&(d(C),m(O))}}},[c,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(Pn,{zIndex:e.zIndex},x.createElement(hr,{className:Oe("recharts-cartesian-axis",a)},x.createElement(jJ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xn(e)}),x.createElement(DJ,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(yQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(CQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ux=x.forwardRef((e,t)=>{var r=zt(e,oi);return x.createElement(MJ,uo({},r,{ref:t}))});Ux.displayName="CartesianAxis";var LJ=["x1","y1","x2","y2","key"],VJ=["offset"],FJ=["xAxisId","yAxisId"],$J=["xAxisId","yAxisId"];function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(null,arguments)}function vh(e,t){if(e==null)return{};var r,n,i=qJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TD(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=vh(r,LJ),d=(i=xn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=vh(d,VJ);n=x.createElement("line",Ba({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function KJ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=vh(e,FJ),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return x.createElement(TD,{key:"line-".concat(c),option:n,lineItemProps:d})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function HJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=vh(e,$J),l=i.map((u,c)=>{var d=ar(ar({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return x.createElement(TD,{option:n,lineItemProps:d,key:"line-".concat(c)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function GJ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function QJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+o-d:u[p+1]-d;if(g<=0)return null;var y=p%r.length;return x.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:s,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var YJ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return tk(zx(ar(ar(ar({},oi),r),{},{ticks:rk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},XJ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return tk(zx(ar(ar(ar({},oi),r),{},{ticks:rk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},ZJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gt.grid};function Bx(e){var t=f_(),r=h_(),n=hk(),i=ar(ar({},zt(e,ZJ)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,g=Ir(),y=te(I=>dP(I,"xAxis",a,g)),w=te(I=>dP(I,"yAxis",o,g));if(!Wn(u)||!Wn(c)||!re(s)||!re(l))return null;var _=i.verticalCoordinatesGenerator||YJ,b=i.horizontalCoordinatesGenerator||XJ,{horizontalPoints:E,verticalPoints:C}=i;if((!E||!E.length)&&typeof b=="function"){var O=p&&p.length,R=b({yAxis:w?ar(ar({},w),{},{ticks:O?p:w.ticks}):void 0,width:t??u,height:r??c,offset:n},O?!0:d);Bf(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(E=R)}if((!C||!C.length)&&typeof _=="function"){var S=m&&m.length,A=_({xAxis:y?ar(ar({},y),{},{ticks:S?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},S?!0:d);Bf(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(C=A)}return x.createElement(Pn,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(WJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(GJ,Ba({},i,{horizontalPoints:E})),x.createElement(QJ,Ba({},i,{verticalPoints:C})),x.createElement(KJ,Ba({},i,{offset:n,horizontalPoints:E,xAxis:y,yAxis:w})),x.createElement(HJ,Ba({},i,{offset:n,verticalPoints:C,xAxis:y,yAxis:w}))))}Bx.displayName="CartesianGrid";var JJ=["domain","range"],eee=["domain","range"];function lT(e,t){if(e==null)return{};var r,n,i=tee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=lT(e,JJ),{domain:a,range:o}=t,s=lT(t,eee);return!uT(r,a)||!uT(n,o)?!1:Fx(i,s)}var ree=["dangerouslySetInnerHTML","ticks"],nee=["id"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function cT(e,t){if(e==null)return{};var r,n,i=iee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aee(e){var t=Fe(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(uX(e)):r.current!==e&&t(cX({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(dX(r.current)),r.current=null)},[t]),null}var oee=e=>{var{xAxisId:t,className:r}=e,n=te(u_),i=Ir(),a="xAxis",o=te(w=>Us(w,a,t,i)),s=te(w=>d2(w,a,t,i)),l=te(w=>s2(w,t)),u=te(w=>EK(w,t)),c=te(w=>UR(w,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,m=cT(e,ree),{id:g}=c,y=cT(c,nee);return x.createElement(Ux,Ky({},m,y,{scale:o,x:u.x,y:u.y,width:l.width,height:l.height,className:Oe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},see={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:oi.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:oi.tickLine,tickSize:oi.tickSize,type:kt.type,xAxisId:0},lee=e=>{var t=zt(e,see);return x.createElement(x.Fragment,null,x.createElement(aee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(oee,t))},qx=x.memo(lee,CD);qx.displayName="XAxis";var uee=["dangerouslySetInnerHTML","ticks"],cee=["id"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function dT(e,t){if(e==null)return{};var r,n,i=dee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fee(e){var t=Fe(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(fX(e)):r.current!==e&&t(hX({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(pX(r.current)),r.current=null)},[t]),null}var hee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=te(u_),l=Ir(),u=Fe(),c="yAxis",d=te(O=>Us(O,c,t,l)),p=te(O=>l2(O,t)),m=te(O=>AK(O,t)),g=te(O=>d2(O,c,t,l)),y=te(O=>BR(O,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||jx(i)||x.isValidElement(i)||y==null)){var O=a.current;if(O){var R=O.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&u(mX({id:t,width:R}))}}},[g,p,u,i,t,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:_}=e,b=dT(e,uee),{id:E}=y,C=dT(y,cee);return x.createElement(Ux,Hy({},b,C,{ref:a,labelRef:o,scale:d,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Oe("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:g,axisType:c}))},pee={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:oi.axisLine,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:oi.tickLine,tickSize:oi.tickSize,type:Rt.type,width:Rt.width,yAxisId:0},mee=e=>{var t=zt(e,pee);return x.createElement(x.Fragment,null,x.createElement(fee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(hee,t))},Wx=x.memo(mee,CD);Wx.displayName="YAxis";var gee=(e,t)=>t,Kx=L([gee,Pe,$R,jt,T2,ji,$H,Ct],HH),Hx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ID=nn("mouseClick"),jD=Zu();jD.startListening({actionCreator:ID,effect:(e,t)=>{var r=e.payload,n=Kx(t.getState(),Hx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(FK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Gy=nn("mouseMove"),OD=Zu(),gd=null;OD.startListening({actionCreator:Gy,effect:(e,t)=>{var r=e.payload;gd!==null&&cancelAnimationFrame(gd);var n=Hx(r);gd=requestAnimationFrame(()=>{var i=t.getState(),a=yx(i,i.tooltip.settings.shared);if(a==="axis"){var o=Kx(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(w2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(y2())}gd=null})}});var fT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},ND=Cr({name:"rootProps",initialState:fT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:fT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),vee=ND.reducer,{updateOptions:yee}=ND.actions,kD=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wee}=kD.actions,_ee=kD.reducer,RD=nn("keyDown"),DD=nn("focus"),Gx=Zu();Gx.startListening({actionCreator:RD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=wx(i,qs(r),cc(r),pc(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=ji(r);if(a==="Enter"){var u=ch(r,"axis","hover",String(i.index));t.dispatch($y({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=IK(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=s+p*d;if(!(l==null||m>=l.length||m<0)){var g=ch(r,"axis","hover",String(m));t.dispatch($y({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});Gx.startListening({actionCreator:DD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=ch(r,"axis","hover",String(a));t.dispatch($y({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Wr=nn("externalEvent"),MD=Zu(),Ng=new Map;MD.startListening({actionCreator:Wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Ng.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:AH(s),activeDataKey:Sx(s),activeIndex:lo(s),activeLabel:j2(s),activeTooltipIndex:lo(s),isTooltipActive:PH(s)};r(l,n)}finally{Ng.delete(i)}});Ng.set(i,o)}}});var xee=L([Bs],e=>e.tooltipItemPayloads),bee=L([xee,fc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),LD=nn("touchMove"),VD=Zu();VD.startListening({actionCreator:LD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=yx(n,n.tooltip.settings.shared);if(i==="axis"){var a=Kx(n,Hx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(w2({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(ik),c=(o=l.getAttribute(ak))!==null&&o!==void 0?o:void 0,d=bee(t.getState(),u,c);t.dispatch(v2({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var Eee=PN({brush:iJ,cartesianAxis:gX,chartData:EG,errorBars:jX,graphicalItems:jY,layout:oU,legend:cB,options:yG,polarAxis:KQ,polarOptions:_ee,referenceElements:dJ,rootProps:vee,tooltip:$K,zIndex:sG}),See=function(t){return O9({reducer:Eee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([jD.middleware,OD.middleware,Gx.middleware,MD.middleware,VD.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(zN({type:"raf"}))},devTools:tc.devToolsEnabled})};function FD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ir(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=See(t));var o=Zw;return x.createElement(oZ,{context:o,store:a.current},r)}function Aee(e){var{layout:t,margin:r}=e,n=Fe(),i=Ir();return x.useEffect(()=>{i||(n(nU(t)),n(rU(r)))},[n,i,t,r]),null}var $D=x.memo(Aee,Fx);function zD(e){var t=Fe();return x.useEffect(()=>{t(yee(e))},[t,e]),null}function hT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=hD("".concat(n).concat(t)),a=Fe();return x.useLayoutEffect(()=>(a(aG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(oG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),x.createElement("g",{tabIndex:-1,id:i})}function pT(e){var{children:t,isPanorama:r}=e,n=te(QH);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return x.createElement(x.Fragment,null,i.map(o=>x.createElement(hT,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>x.createElement(hT,{key:o,zIndex:o,isPanorama:r})))}var Pee=["children"];function Tee(e,t){if(e==null)return{};var r,n,i=Cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}var Iee={width:"100%",height:"100%",display:"block"},jee=x.forwardRef((e,t)=>{var r=f_(),n=h_(),i=Sk();if(!Wn(r)||!Wn(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),x.createElement(Lw,yh({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:Iee,ref:t}),a)}),Oee=e=>{var{children:t}=e,r=te(Ap);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return x.createElement(Lw,{width:n,height:i,x:o,y:a},t)},mT=x.forwardRef((e,t)=>{var{children:r}=e,n=Tee(e,Pee),i=Ir();return i?x.createElement(Oee,null,x.createElement(pT,{isPanorama:!0},r)):x.createElement(jee,yh({ref:t},n),x.createElement(pT,{isPanorama:!1},r))});function Nee(){var e=Fe(),[t,r]=x.useState(null),n=te(SU);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;dt(a)&&a!==n&&e(aU(a))}},[t,e,n]),r}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}var Lee=()=>(NG(),null);function wh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Vee=x.forwardRef((e,t)=>{var r,n,i=x.useRef(null),[a,o]=x.useState({containerWidth:wh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:wh((n=e.style)===null||n===void 0?void 0:n.height)}),s=x.useCallback((u,c)=>{o(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var p=g=>{var{width:y,height:w}=g[0].contentRect;s(y,w)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,s]);return x.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),x.createElement(x.Fragment,null,x.createElement(Cp,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",co({ref:l},e)))}),Fee=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=x.useState({containerWidth:wh(r),containerHeight:wh(n)}),o=x.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),s=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(Cp,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",co({ref:s},e)))}),$ee=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Cp,{width:r,height:n}),x.createElement("div",co({ref:t},e)))}),zee=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return mi(r)||mi(n)?x.createElement(Fee,co({},e,{ref:t})):x.createElement($ee,co({},e,{ref:t}))});function Uee(e){return e===!0?Vee:zee}var Bee=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:w,width:_,responsive:b,dispatchTouchEvents:E=!0}=e,C=x.useRef(null),O=Fe(),[R,S]=x.useState(null),[A,I]=x.useState(null),D=Nee(),T=c_(),k=(T==null?void 0:T.width)>0?T.width:_,j=(T==null?void 0:T.height)>0?T.height:i,Q=x.useCallback(B=>{D(B),typeof t=="function"&&t(B),S(B),I(B),B!=null&&(C.current=B)},[D,t,S,I]),se=x.useCallback(B=>{O(ID(B)),O(Wr({handler:a,reactEvent:B}))},[O,a]),de=x.useCallback(B=>{O(Gy(B)),O(Wr({handler:u,reactEvent:B}))},[O,u]),le=x.useCallback(B=>{O(y2()),O(Wr({handler:c,reactEvent:B}))},[O,c]),U=x.useCallback(B=>{O(Gy(B)),O(Wr({handler:d,reactEvent:B}))},[O,d]),K=x.useCallback(()=>{O(DD())},[O]),ne=x.useCallback(B=>{O(RD(B.key))},[O]),pe=x.useCallback(B=>{O(Wr({handler:o,reactEvent:B}))},[O,o]),_e=x.useCallback(B=>{O(Wr({handler:s,reactEvent:B}))},[O,s]),wt=x.useCallback(B=>{O(Wr({handler:l,reactEvent:B}))},[O,l]),Ne=x.useCallback(B=>{O(Wr({handler:p,reactEvent:B}))},[O,p]),Bt=x.useCallback(B=>{O(Wr({handler:y,reactEvent:B}))},[O,y]),_t=x.useCallback(B=>{E&&O(LD(B)),O(Wr({handler:g,reactEvent:B}))},[O,E,g]),$e=x.useCallback(B=>{O(Wr({handler:m,reactEvent:B}))},[O,m]),Hn=Uee(b);return x.createElement(L2.Provider,{value:R},x.createElement(TO.Provider,{value:A},x.createElement(Hn,{width:k??(w==null?void 0:w.width),height:j??(w==null?void 0:w.height),className:Oe("recharts-wrapper",n),style:kee({position:"relative",cursor:"default",width:k,height:j},w),onClick:se,onContextMenu:pe,onDoubleClick:_e,onFocus:K,onKeyDown:ne,onMouseDown:wt,onMouseEnter:de,onMouseLeave:le,onMouseMove:U,onMouseUp:Ne,onTouchEnd:$e,onTouchMove:_t,onTouchStart:Bt,ref:Q},x.createElement(Lee,null),r)))}),qee=["width","height","responsive","children","className","style","compact","title","desc"];function Wee(e,t){if(e==null)return{};var r,n,i=Kee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UD=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=Wee(e,qee),p=xn(d);return l?x.createElement(x.Fragment,null,x.createElement(Cp,{width:r,height:n}),x.createElement(mT,{otherAttributes:p,title:u,desc:c},a)):x.createElement(Bee,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(mT,{otherAttributes:p,title:u,desc:c,ref:t},x.createElement(hJ,null,a)))});function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}var Hee={top:5,right:5,bottom:5,left:5},Gee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Hee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Qee=x.forwardRef(function(t,r){var n,i=zt(t.categoricalChartProps,Gee),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(FD,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},x.createElement(ED,{chartData:u.data}),x.createElement($D,{layout:i.layout,margin:i.margin}),x.createElement(zD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(UD,Qy({},i,{ref:r})))}),Yee=["axis","item"],BD=x.forwardRef((e,t)=>x.createElement(Qee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yee,tooltipPayloadSearcher:F2,categoricalChartProps:e,ref:t}));function Xee(e){var t=Fe();return x.useEffect(()=>{t(wee(e))},[t,e]),null}var Zee=["layout"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function Jee(e,t){if(e==null)return{};var r,n,i=ete(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tte={top:5,right:5,bottom:5,left:5},qD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:tte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rte=x.forwardRef(function(t,r){var n,i=zt(t.categoricalChartProps,qD),{layout:a}=i,o=Jee(i,Zee),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(FD,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},x.createElement(ED,{chartData:i.data}),x.createElement($D,{layout:a,margin:i.margin}),x.createElement(zD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Xee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(UD,Yy({},o,{ref:r})))});function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return(t=ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ote=["item"],ste=yT(yT({},qD),{},{layout:"centric",startAngle:0,endAngle:360}),lte=x.forwardRef((e,t)=>{var r=zt(e,ste);return x.createElement(rte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ote,tooltipPayloadSearcher:F2,categoricalChartProps:r,ref:t})});const ute=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(o=>o.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(o=>o.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(o=>o.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(o=>o.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(o=>o.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(o=>o.value>0);return a.length===0?h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx("div",{className:"chart-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})})]}):h.jsxs("div",{className:"incident-chart-container",children:[h.jsx("h3",{children:"Distribucin por Estado"}),h.jsx(d_,{width:"100%",height:300,children:h.jsxs(lte,{children:[h.jsx(gD,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,value:s,percent:l})=>`${o}: ${s} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:o=>{t(o.status),r()},style:{cursor:"pointer"},children:a.map((o,s)=>h.jsx(gc,{fill:o.fill},`cell-${s}`))}),h.jsx(Ix,{formatter:o=>`${o} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),h.jsx(Np,{})]})})]})};function cte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,o=e.filter(l=>l.status==="cerrada").length,s=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:o}];return h.jsx("div",{className:"incident-stats-container",children:h.jsx("div",{className:"stats-chart",children:h.jsx(d_,{width:"100%",height:300,children:h.jsxs(BD,{data:s,children:[h.jsx(Bx,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),h.jsx(qx,{dataKey:"name",stroke:"#667eea"}),h.jsx(Wx,{stroke:"#667eea"}),h.jsx(Ix,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),h.jsx(Np,{wrapperStyle:{paddingTop:"20px"}}),h.jsx(ns,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),h.jsx(ns,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),h.jsx(ns,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function dte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?h.jsxs("div",{className:"quick-incidents-container",children:[h.jsx("h3",{children:"Incidencias Pendientes"}),h.jsx("div",{className:"quick-incidents-empty",children:h.jsx("p",{children:" No hay incidencias pendientes"})})]}):h.jsxs("div",{className:"quick-incidents-container",children:[h.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),h.jsx("div",{className:"quick-incidents-list",children:r.map(a=>h.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:o=>{if(o.button===1){o.preventDefault();const s=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(s,"_blank")}},children:[h.jsx("div",{className:"quick-incident-name",children:a.name}),h.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function fte({incidents:e}){const t=()=>{const d=e.filter(m=>m.status==="cerrada");if(d.length===0)return 0;const p=d.reduce((m,g)=>{const y=new Date(g.creationDate),w=new Date(g.updatedAt),_=Math.abs(w.getTime()-y.getTime()),b=Math.ceil(_/(1e3*60*60*24));return m+b},0);return Math.round(p/d.length)},r=()=>({correctivo:e.filter(d=>d.type==="correctivo").length,evolutivo:e.filter(d=>d.type==="evolutivo").length,tarea:e.filter(d=>d.type==="tarea").length}),n=()=>{const d=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===d.getMonth()&&m.getFullYear()===d.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const d=e.filter(p=>p.status==="cerrada").length;return Math.round(d/e.length*100)},a=()=>e.filter(d=>(d.priority==="crtica"||d.priority==="alta")&&d.status!=="cerrada").length,o=t(),s=r(),l=n(),u=i(),c=a();return h.jsxs("div",{className:"metrics-dashboard",children:[h.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),h.jsxs("div",{className:"metrics-grid",children:[h.jsxs("div",{className:"metric-card metric-primary",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:o}),h.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-success",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsxs("div",{className:"metric-value",children:[u,"%"]}),h.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),h.jsxs("div",{className:"metric-card metric-info",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:l}),h.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),h.jsxs("div",{className:"metric-card metric-warning",children:[h.jsx("div",{className:"metric-icon",children:""}),h.jsxs("div",{className:"metric-content",children:[h.jsx("div",{className:"metric-value",children:c}),h.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),h.jsxs("div",{className:"metrics-detail",children:[h.jsx("h3",{children:"Distribucin por Tipo"}),h.jsxs("div",{className:"type-stats",children:[h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Correctivo"}),h.jsx("span",{className:"type-stat-value",children:s.correctivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),h.jsx("span",{className:"type-stat-value",children:s.evolutivo})]}),h.jsxs("div",{className:"type-stat-item",children:[h.jsx("span",{className:"type-stat-label",children:" Tarea"}),h.jsx("span",{className:"type-stat-value",children:s.tarea})]})]})]})]})}const hte=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((s,l)=>{const u=e.filter(d=>{const p=new Date(d.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(d=>{const p=new Date(d.updatedAt);return d.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:s,creadas:u,cerradas:c}})})();return h.jsxs("div",{className:"yearly-chart-container",children:[h.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),h.jsx(d_,{width:"100%",height:300,children:h.jsxs(BD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(Bx,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),h.jsx(qx,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(Wx,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),h.jsx(Ix,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),h.jsx(Np,{}),h.jsx(ns,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),h.jsx(ns,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),h.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),h.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function pte({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(d=>d.status==="cerrada"?!1:new Date(d.creationDate)<c&&(d.status==="abierta"||d.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(d=>d.status!=="puesto-en-test"&&d.status!=="verificado-en-test"?!1:new Date(d.creationDate)<c)},a=r(),o=n(),s=i(),l=a.length+o.length+s.length;return l===0?null:h.jsxs("div",{className:"alerts-banner",children:[h.jsxs("div",{className:"alerts-header",children:[h.jsx("span",{className:"alerts-icon",children:""}),h.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&h.jsxs("div",{className:"alert-section alert-stale",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:a.length}),h.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),h.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),o.length>0&&h.jsxs("div",{className:"alert-section alert-critical",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:o.length}),h.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),h.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]}),s.length>0&&h.jsxs("div",{className:"alert-section alert-test",children:[h.jsxs("div",{className:"alert-section-header",children:[h.jsx("span",{className:"alert-badge",children:s.length}),h.jsx("h4",{children:"En Test por ms de 3 das"})]}),h.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>h.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[h.jsx("span",{className:"alert-item-name",children:u.name}),h.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),h.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&h.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]})]})}function WD(){return h.jsxs("div",{className:"logo-container",children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),h.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),h.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),h.jsxs("g",{transform:"translate(30, 30)",children:[h.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),h.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),h.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),h.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),h.jsx("div",{className:"logo-text",children:h.jsx("h1",{children:"IncidentAlert"})})]})}function mte({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=x.useState(""),[o,s]=x.useState(""),[l,u]=x.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},d=m=>{m.preventDefault(),i.trim()&&o.trim()&&(r(e,o.trim(),i.trim()),a(""),s(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return h.jsxs(h.Fragment,{children:[l&&zn.createPortal(h.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:h.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:" Nuevo Comentario"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),h.jsxs("form",{className:"comment-form-modal",onSubmit:d,children:[h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"author",children:"Tu nombre"}),h.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:o,onChange:m=>s(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"form-group-modal",children:[h.jsx("label",{htmlFor:"comment",children:"Comentario"}),h.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),h.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),h.jsxs("div",{className:"comments-section",children:[h.jsxs("div",{className:"comments-header",children:[h.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),h.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),h.jsx("div",{className:"comments-list",children:p.length===0?h.jsxs("div",{className:"no-comments",children:[h.jsx("span",{className:"no-comments-icon",children:""}),h.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>h.jsxs("div",{className:"comment-item",children:[h.jsxs("div",{className:"comment-header",children:[h.jsxs("div",{className:"comment-author",children:[h.jsx("span",{className:"author-icon",children:""}),h.jsx("strong",{children:m.author})]}),h.jsxs("div",{className:"comment-header-right",children:[h.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),h.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function gte({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[o,s]=x.useState(!1),[l,u]=x.useState(""),[c,d]=x.useState(!1),[p,m]=x.useState({show:!1,tag:null}),g=E=>{E.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),s(!1),d(!1))},y=E=>{n(e,E),d(!1)},w=E=>{m({show:!0,tag:E})},_=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),d(!1))};c&&r.filter(E=>!t.includes(E));const b=r;return h.jsxs("div",{className:"tags-manager",children:[h.jsxs("div",{className:"tags-header",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"tags-actions",children:!o&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-add-tag",onClick:()=>s(!0),children:"+ Nueva"}),b.length>0&&h.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",b),d(!c)},children:" Gestionar"})]})})]}),o&&h.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[h.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:E=>u(E.target.value),autoFocus:!0,className:"tag-input"}),h.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),h.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{s(!1),u("")},children:""})]}),c&&b.length>0&&h.jsxs("div",{className:"tag-suggestions",children:[h.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),h.jsx("div",{className:"suggestions-list",children:b.map(E=>h.jsxs("div",{className:"suggestion-item",children:[!t.includes(E)&&h.jsxs("button",{className:"suggestion-tag",onClick:()=>y(E),children:["+ ",E]}),t.includes(E)&&h.jsxs("span",{className:"tag-already-added",children:[" ",E]}),a&&h.jsx("button",{className:"btn-delete-global-tag",onClick:()=>w(E),title:"Eliminar etiqueta del sistema",children:""})]},E))})]}),p.show&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:h.jsxs("div",{className:"delete-modal",onClick:E=>E.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Eliminar Etiqueta"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsxs("p",{children:["Eliminar la etiqueta ",h.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),h.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:_,children:" Eliminar"})]})]})}),h.jsx("div",{className:"tags-list",children:t.length===0?h.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):h.jsx("div",{className:"tags-container",children:t.map(E=>h.jsxs("div",{className:"tag-item",children:[h.jsx("span",{className:"tag-name",children:E}),h.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,E),title:"Eliminar etiqueta",children:""})]},E))})})]})}function vte({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=x.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const _=p.querySelector("tr");_&&(_.style.background="#fbbf24"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#000",E.style.backgroundColor="#fbbf24"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&zn.createPortal(h.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"qa-modal-header",children:[h.jsx("h2",{children:" Vista Tabla QA"}),h.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"qa-modal-body",children:[h.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),h.jsx("div",{className:"qa-table-container",children:h.jsxs("table",{className:"qa-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Owner"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"qa-modal-actions",children:[h.jsx("button",{className:"btn-copy-qa",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function yte({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=x.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},o=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},s=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const _=p.querySelector("tr");_&&(_.style.background="#10b981"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#fff",E.style.backgroundColor="#10b981"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const w=window.getSelection();w&&(w.removeAllRanges(),w.addRange(y),document.execCommand("copy"),w.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[n&&zn.createPortal(h.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:h.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[h.jsxs("div",{className:"main-modal-header",children:[h.jsx("h2",{children:" Vista Tabla MAIN"}),h.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),h.jsxs("div",{className:"main-modal-body",children:[h.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),h.jsx("div",{className:"main-table-container",children:h.jsxs("table",{className:"main-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Priority"}),h.jsx("th",{children:"KP/MOV"}),h.jsx("th",{children:"Date"}),h.jsx("th",{children:"PR"}),h.jsx("th",{children:"Persona de Contacto"})]})}),h.jsx("tbody",{children:t.map(l=>h.jsxs("tr",{children:[h.jsx("td",{}),h.jsx("td",{children:e}),h.jsx("td",{children:o()}),h.jsx("td",{children:a(l.link)}),h.jsx("td",{children:r})]},l.id))})]})}),h.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),h.jsxs("div",{className:"main-modal-actions",children:[h.jsx("button",{className:"btn-copy-main",onClick:s,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const wte=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:o,onUpdatePR:s})=>{const[l,u]=x.useState(!1),[c,d]=x.useState(!1),[p,m]=x.useState(null),[g,y]=x.useState(null),w=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),I=S.get("description").trim();A&&(p&&p.type==="qa2"?(s(e,"qa2",p.pr.id,A,I),m(null),y({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",A,I),y({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},_=R=>{R.preventDefault();const S=new FormData(R.currentTarget),A=S.get("link").trim(),I=S.get("description").trim();A&&(p&&p.type==="main"?(s(e,"main",p.pr.id,A,I),m(null),y({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",A,I),y({type:"success",message:" PR MAIN agregado correctamente"})),d(!1),R.currentTarget.reset(),setTimeout(()=>y(null),3e3))},b=(R,S)=>{m({pr:R,type:S}),S==="qa2"?u(!0):d(!0)},E=R=>{m(null),R==="qa2"?u(!1):d(!1)},C=(R,S,A)=>{R.stopPropagation(),o(e,S,A),y({type:"error",message:` PR ${S==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>y(null),3e3)},O=R=>{const S=R.split("/");return S[S.length-1]||R};return h.jsxs(h.Fragment,{children:[g&&h.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[h.jsx("span",{children:g.message}),h.jsx("button",{className:"pr-notification-close",onClick:()=>y(null),children:""})]}),l&&zn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("qa2"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("qa2"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:w,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),h.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),h.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&h.jsx(vte,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&zn.createPortal(h.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("main"),children:h.jsxs("div",{className:"pr-modal",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),h.jsx("button",{className:"btn-close-modal",onClick:()=>E("main"),children:""})]}),h.jsxs("form",{className:"pr-form-modal",onSubmit:_,children:[h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),h.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),h.jsxs("div",{className:"form-field",children:[h.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),h.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[h.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&h.jsx(yte,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),h.jsxs("div",{className:"pr-manager",children:[h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs QA2"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:r.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"qa2"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",O(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>C(S,"qa2",R.id),title:"Eliminar PR",children:""})]},R.id))})]}),h.jsxs("div",{className:"pr-section",children:[h.jsxs("div",{className:"pr-section-header",children:[h.jsx("h3",{children:" PRs MAIN"}),h.jsx("button",{className:"btn-add-pr",onClick:()=>d(!0),children:"+ Agregar PR"})]}),h.jsx("div",{className:"pr-list",children:n.length===0?h.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(R=>h.jsxs("div",{className:"pr-item",onClick:()=>b(R,"main"),children:[h.jsxs("div",{className:"pr-content",children:[h.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",O(R.link)]}),h.jsx("span",{className:"pr-date",children:new Date(R.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),h.jsx("button",{className:"btn-remove-pr",onClick:S=>C(S,"main",R.id),title:"Eliminar PR",children:""})]},R.id))})]})]})]})};function _te({incident:e,currentUser:t}){const[r,n]=x.useState(!1),[i,a]=x.useState(""),o=u=>!u||u.length===0?"-":u.map(c=>{const d=c.link.split("/");return d[d.length-1]||c.link}).join(", "),s=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),d=document.createElement("p");d.textContent="Buenas, os envo una PR para su subida a PRO",d.style.marginBottom="1rem",c.appendChild(d);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const C=m.querySelector("tr");C&&(C.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(R=>{R.style.padding="0.75rem 0.5rem",R.style.border="1px solid #e5e7eb",R.style.fontWeight="700",R.style.color="#000",R.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(O=>{O.style.padding="0.75rem 0.5rem",O.style.border="1px solid #e5e7eb",O.style.color="#333",O.style.fontWeight="500",O.style.backgroundColor="white"});const y=p.querySelector('input[type="date"]');if(y){const C=y.parentElement;C&&(C.textContent=i||"-",C.style.color="#333")}const w=p.querySelector("textarea");if(w){const C=w.parentElement;C&&(C.textContent=e.description||"-",C.style.color="#333")}c.appendChild(p);const _=document.createElement("p");_.textContent="Un saludo, Gracias!",c.appendChild(_),document.body.appendChild(c);const b=document.createRange();b.selectNodeContents(c);const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(b),document.execCommand("copy"),E.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return h.jsxs(h.Fragment,{children:[r&&zn.createPortal(h.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:h.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[h.jsxs("div",{className:"excel-modal-header",children:[h.jsx("h2",{children:" Vista Previa Excel"}),h.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),h.jsxs("div",{className:"excel-modal-body",children:[h.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),h.jsx("div",{className:"excel-table-container",children:h.jsxs("table",{className:"excel-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"INCIDENCIA/S"}),h.jsx("th",{children:"Estado peticin Incidencias"}),h.jsx("th",{children:"DIA DESPLIEGUE"}),h.jsx("th",{children:"PERSONA CONTACTO"}),h.jsx("th",{children:"DESCRIPCIN"}),h.jsx("th",{children:"DEPENDENCIAS"}),h.jsx("th",{children:"PR PRO"}),h.jsx("th",{children:"PR QA"}),h.jsx("th",{children:"Desplegado"}),h.jsx("th",{children:"PUESTO EXCEL QA"}),h.jsx("th",{children:"TIPO MOV"}),h.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),h.jsx("tbody",{children:h.jsxs("tr",{children:[h.jsx("td",{children:e.name}),h.jsx("td",{children:"Verificado en Test"}),h.jsx("td",{children:h.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),h.jsx("td",{children:t}),h.jsx("td",{children:h.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),h.jsx("td",{children:"NO"}),h.jsx("td",{children:o(e.prMainList)}),h.jsx("td",{children:o(e.prQA2List)}),h.jsx("td",{children:"NO"}),h.jsx("td",{}),h.jsx("td",{children:s(e.type)}),h.jsx("td",{children:"-"})]})})]})}),h.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),h.jsxs("div",{className:"excel-modal-actions",children:[h.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),h.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),h.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const xte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:d,onUpdatePR:p})=>{const[m,g]=x.useState(e.status),[y,w]=x.useState(e.priority),[_,b]=x.useState(e.type),C=(()=>{const A=vr.getUsers().find(I=>I.id===e.userId);return A?A.name:e.contactUser||"Usuario"})(),O=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${e.name}"? Esta accin no se puede deshacer.`)&&(a(e.id),r())},R=S=>{S.preventDefault();const A=new FormData(S.currentTarget),I={...e,name:(A.get("name")||"").trim(),title:(A.get("title")||"").trim(),description:(A.get("description")||"").trim(),contactUser:(A.get("contactUser")||"").trim(),prQA2:(A.get("prQA2")||"").trim(),prMain:(A.get("prMain")||"").trim(),creationDate:A.get("creationDate")||e.creationDate,relevante:(A.get("relevante")||"").trim(),realizado:(A.get("realizado")||"").trim(),clasesModificadas:(A.get("clasesModificadas")||"").trim(),priority:y,status:m,type:_,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",I),t(I)};return h.jsx("div",{className:"incident-detail-container",children:h.jsxs("div",{className:"incident-detail-layout",children:[h.jsx("div",{className:"detail-main-content",children:h.jsxs("div",{className:"incident-detail-card",children:[h.jsxs("div",{className:"incident-header-visual",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),h.jsx("h1",{children:e.name})]}),h.jsx(_te,{incident:e,currentUser:C})]}),h.jsxs("div",{className:"incident-badges",children:[h.jsxs("span",{className:`badge-status status-${e.status}`,children:[e.status==="abierta"&&"",e.status==="en-progreso"&&"",e.status==="puesto-en-test"&&"",e.status==="verificado-en-test"&&"",e.status==="resuelta"&&"",e.status==="cerrada"&&""," ",e.status.replace("-"," ")]}),h.jsxs("span",{className:`badge-priority priority-${e.priority}`,children:[e.priority==="baja"&&"",e.priority==="media"&&"",e.priority==="alta"&&"",e.priority==="crtica"&&""," ",e.priority]}),h.jsxs("span",{className:`badge-type type-${e.type}`,children:[e.type==="correctivo"&&"",e.type==="evolutivo"&&"",e.type==="tarea"&&""," ",e.type]})]})]}),h.jsxs("form",{onSubmit:R,className:"detail-form",children:[h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Editar Informacin"}),h.jsxs("div",{className:"visual-field-group",children:[h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),h.jsx("input",{id:"name",name:"name",type:"text",defaultValue:e.name,placeholder:"MOV-XXXX",required:!0})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),h.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:e.contactUser||"",placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"visual-field",children:[h.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),h.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:e.creationDate})]})]}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"title",children:" Ttulo"}),h.jsx("input",{id:"title",name:"title",type:"text",defaultValue:e.title||"",placeholder:"Ttulo para envo a PRO"})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"description",children:" Descripcin"}),h.jsx("textarea",{id:"description",name:"description",defaultValue:e.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"relevante",children:" Relevante"}),h.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:e.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"realizado",children:" Realizado"}),h.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:e.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),h.jsx("div",{className:"visual-field-group",children:h.jsxs("div",{className:"visual-field visual-field-full",children:[h.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),h.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:e.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("h2",{children:" Estado y Clasificacin"}),h.jsxs("div",{className:"chip-selector-container",children:[h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Estado"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="abierta"?"selected":""}`,onClick:()=>g("abierta"),children:" Abierta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="en-progreso"?"selected":""}`,onClick:()=>g("en-progreso"),children:" En Progreso"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="puesto-en-test"?"selected":""}`,onClick:()=>g("puesto-en-test"),children:" En Test"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="verificado-en-test"?"selected":""}`,onClick:()=>g("verificado-en-test"),children:" Verificado"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="resuelta"?"selected":""}`,onClick:()=>g("resuelta"),children:" Resuelta"}),h.jsx("button",{type:"button",className:`chip-option status-chip ${m==="cerrada"?"selected":""}`,onClick:()=>g("cerrada"),children:" Cerrada"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Prioridad"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${y==="baja"?"selected":""}`,onClick:()=>w("baja"),children:" Baja"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${y==="media"?"selected":""}`,onClick:()=>w("media"),children:" Media"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${y==="alta"?"selected":""}`,onClick:()=>w("alta"),children:" Alta"}),h.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${y==="crtica"?"selected":""}`,onClick:()=>w("crtica"),children:" Crtica"})]})]}),h.jsxs("div",{className:"chip-field",children:[h.jsx("label",{children:"Tipo"}),h.jsxs("div",{className:"chip-options",children:[h.jsx("button",{type:"button",className:`chip-option type-chip ${_==="correctivo"?"selected":""}`,onClick:()=>b("correctivo"),children:" Correctivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${_==="evolutivo"?"selected":""}`,onClick:()=>b("evolutivo"),children:" Evolutivo"}),h.jsx("button",{type:"button",className:`chip-option type-chip ${_==="tarea"?"selected":""}`,onClick:()=>b("tarea"),children:" Tarea"})]})]})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-delete-incident",onClick:O,children:" Eliminar Incidencia"})]})]})]})}),h.jsxs("div",{className:"detail-sidebar",children:[h.jsx("div",{className:"incident-detail-card",children:h.jsx(wte,{incidentId:e.id,incidentName:e.name,prQA2List:e.prQA2List||[],prMainList:e.prMainList||[],ownerName:C,onAddPR:c,onRemovePR:d,onUpdatePR:p})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(gte,{incidentId:e.id,tags:e.tags||[],allAvailableTags:u,onAddTag:o,onRemoveTag:s,onDeleteTagGlobally:l})}),h.jsx("div",{className:"incident-detail-card",children:h.jsx(mte,{incidentId:e.id,comments:e.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},bte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>h.jsxs("div",{className:"tabs-container",children:[h.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),h.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),h.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),h.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(o=>h.jsxs("div",{className:`tab-incident ${n===o.id?"active":""}`,onClick:()=>i==null?void 0:i(o.id),children:[h.jsxs("span",{className:"tab-incident-name",children:[" ",o.name]}),h.jsx("button",{className:"tab-incident-close",onClick:s=>{s.stopPropagation(),a==null||a(o.id)},children:""})]},o.id))]});function Ete({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,o]=x.useState(""),[s,l]=x.useState(n?[n]:[]),[u,c]=x.useState([]),[d,p]=x.useState([]),[m,g]=x.useState([]),[y,w]=x.useState(""),[_,b]=x.useState("");x.useEffect(()=>{n&&l([n])},[n]),x.useEffect(()=>{let T=[...e];if(a.trim()){const k=a.toLowerCase();T=T.filter(j=>j.name.toLowerCase().includes(k)||j.contactUser.toLowerCase().includes(k)||j.prQA2.toLowerCase().includes(k)||j.prMain.toLowerCase().includes(k)||j.comments&&j.comments.some(Q=>Q.text.toLowerCase().includes(k)||Q.author.toLowerCase().includes(k)))}s.length>0&&(T=T.filter(k=>s.includes(k.status))),u.length>0&&(T=T.filter(k=>u.includes(k.priority))),d.length>0&&(T=T.filter(k=>d.includes(k.type))),m.length>0&&(T=T.filter(k=>m.some(j=>k.tags&&k.tags.includes(j)))),y&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()>=parseInt(y))),_&&(T=T.filter(k=>new Date(k.creationDate).getFullYear()<=parseInt(_))),t(T)},[a,s,u,d,m,y,_,e,t]);const E=()=>{o(""),l([]),c([]),p([]),g([]),w(""),b(""),t(e),i&&i()},C=()=>{l([]),i&&i()},O=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,R=T=>{l(k=>k.includes(T)?k.filter(j=>j!==T):[...k,T])},S=T=>{c(k=>k.includes(T)?k.filter(j=>j!==T):[...k,T])},A=T=>{p(k=>k.includes(T)?k.filter(j=>j!==T):[...k,T])},I=T=>{g(k=>k.includes(T)?k.filter(j=>j!==T):[...k,T])},D=(a?1:0)+s.length+u.length+d.length+m.length+(y?1:0)+(_?1:0);return h.jsxs("div",{className:"advanced-search",children:[n&&h.jsxs("div",{className:"status-filter-banner",children:[h.jsxs("span",{children:[" Filtrando por estado: ",h.jsx("strong",{children:O(n)})]}),h.jsx("button",{onClick:C,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),h.jsx("div",{className:"search-header",children:h.jsx("h3",{children:" Bsqueda Avanzada"})}),h.jsxs("div",{className:"search-main",children:[h.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>o(T.target.value),className:"search-input"}),h.jsxs("button",{className:"btn-reset",onClick:E,children:[" Limpiar Filtros",D>0&&h.jsx("span",{className:"filters-badge-inline",children:D})]})]}),h.jsxs("div",{className:"filters-panel",children:[h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Estado"}),h.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>h.jsxs("button",{className:`filter-chip ${s.includes(T)?"active":""}`,onClick:()=>R(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Prioridad"}),h.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>h.jsxs("button",{className:`filter-chip priority-${T} ${u.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Tipo"}),h.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>h.jsxs("button",{className:`filter-chip ${d.includes(T)?"active":""}`,onClick:()=>A(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:"Rango de Aos"}),h.jsxs("div",{className:"date-filters",children:[h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Desde:"}),h.jsxs("select",{value:y,onChange:T=>w(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]}),h.jsxs("div",{className:"date-input-group",children:[h.jsx("label",{children:"Hasta:"}),h.jsxs("select",{value:_,onChange:T=>b(T.target.value),className:"date-input",children:[h.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,k)=>T-k).map(T=>h.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&h.jsxs("div",{className:"filter-section",children:[h.jsx("h4",{children:" Etiquetas"}),h.jsx("div",{className:"filter-chips",children:r.map(T=>h.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>I(T),children:T},T))})]})]})]})}const Ste=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:o})=>{const[s,l]=x.useState(e||[]),[u,c]=x.useState(""),[d,p]=x.useState("asc"),[m,g]=x.useState({show:!1,incident:null});x.useEffect(()=>{l(e||[])},[e]);const y=S=>{const A=u===S&&d==="asc"?"desc":"asc";c(S),p(A);const I=[...s].sort((D,T)=>{let k=D[S],j=T[S];if((S==="creationDate"||S==="createdAt"||S==="updatedAt")&&(k=new Date(k).getTime(),j=new Date(j).getTime()),typeof k=="string"&&typeof j=="string")return A==="asc"?k.localeCompare(j):j.localeCompare(k);if(k!==void 0&&j!==void 0){if(k<j)return A==="asc"?-1:1;if(k>j)return A==="asc"?1:-1}return 0});l(I)},w=S=>u!==S?"":d==="asc"?"":"",_=S=>new Date(S).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),b=S=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[S]||S,E=S=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[S]||S,C=S=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[S]||S,O=S=>!S||!Array.isArray(S)||S.length===0?"":S.filter(A=>A&&A.link).map(A=>{const I=A.link.split("/");return I[I.length-1]||""}).filter(A=>A).join(", ")||"",R=()=>{const S=j=>{if(j==null)return"";const Q=String(j);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},I=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(j=>S(j)).join(";"),...s.map(j=>[S(j.id),S(j.name),S(b(j.status)),S(E(j.priority)),S(C(j.type)),S(j.contactUser||""),S(j.prQA2||""),S(j.prMain||""),S(j.creationDate),S(_(j.createdAt)),S(_(j.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),k=URL.createObjectURL(D);T.setAttribute("href",k),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?h.jsx("div",{className:"all-incidents-empty",children:h.jsx("p",{children:"No hay incidencias para mostrar"})}):h.jsxs("div",{className:"all-incidents-table-container",children:[h.jsx("div",{className:"search-sidebar",children:h.jsx(Ete,{incidents:e,onResults:l,allAvailableTags:me.getAllTags(),initialStatus:a,onClearStatusFilter:o})}),h.jsxs("div",{className:"table-content",children:[h.jsxs("div",{className:"table-actions",children:[h.jsxs("p",{className:"filter-results",children:["Mostrando ",s.length," de ",e.length," incidencias"]}),h.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&h.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),h.jsx("button",{className:"btn-export-excel",onClick:R,children:" Exportar a Excel"})]})]}),h.jsx("div",{className:"table-wrapper",children:h.jsxs("table",{className:"all-incidents-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsxs("th",{onClick:()=>y("name"),className:"sortable-header col-name",children:["Nombre ",w("name")]}),h.jsxs("th",{onClick:()=>y("status"),className:"sortable-header col-status",children:["Estado ",w("status")]}),h.jsxs("th",{onClick:()=>y("priority"),className:"sortable-header col-priority",children:["Prioridad ",w("priority")]}),h.jsxs("th",{onClick:()=>y("type"),className:"sortable-header col-type",children:["Tipo ",w("type")]}),h.jsxs("th",{onClick:()=>y("contactUser"),className:"sortable-header col-contact",children:["Contacto ",w("contactUser")]}),h.jsxs("th",{onClick:()=>y("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",w("prQA2")]}),h.jsxs("th",{onClick:()=>y("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",w("prMain")]}),h.jsx("th",{className:"col-actions",children:"Acciones"})]})}),h.jsx("tbody",{children:s.map(S=>h.jsxs("tr",{className:`row-priority-${S.priority} incident-row-clickable`,onClick:()=>n(S),onMouseDown:A=>{if(A.button===1){A.preventDefault();const I=`${window.location.origin}${window.location.pathname}?incident=${S.id}`;window.open(I,"_blank")}},children:[h.jsx("td",{className:"name-cell",title:S.name,children:S.name}),h.jsx("td",{title:b(S.status),children:h.jsx("span",{className:`status-badge status-${S.status}`,children:b(S.status)})}),h.jsx("td",{title:E(S.priority),children:h.jsx("span",{className:`priority-badge priority-${S.priority}`,children:E(S.priority)})}),h.jsx("td",{title:C(S.type),children:h.jsx("span",{className:`type-badge type-${S.type}`,children:C(S.type)})}),h.jsx("td",{className:"contact-cell",title:S.contactUser||"",children:S.contactUser||""}),h.jsx("td",{className:"pr-cell",title:O(S.prQA2List),children:O(S.prQA2List)}),h.jsx("td",{className:"pr-cell",title:O(S.prMainList),children:O(S.prMainList)}),h.jsx("td",{className:"actions-cell",onClick:A=>A.stopPropagation(),children:h.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:S}),title:"Eliminar incidencia",children:""})})]},S.id))})]})})]}),m.show&&m.incident&&h.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:h.jsxs("div",{className:"delete-modal",onClick:S=>S.stopPropagation(),children:[h.jsx("div",{className:"delete-modal-header",children:h.jsx("h3",{children:" Confirmar Eliminacin"})}),h.jsxs("div",{className:"delete-modal-body",children:[h.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),h.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),h.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),h.jsxs("div",{className:"delete-modal-actions",children:[h.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),h.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function Ate({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=x.useState(!1),[o,s]=x.useState(null),[l,u]=x.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const y={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};o?(r(o.id,y),s(null)):t(y),d()},d=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var y,w,_,b,E;s(g),u({name:g.name,trigger:g.trigger,conditionField:((y=g.conditions[0])==null?void 0:y.field)||"type",conditionOperator:((w=g.conditions[0])==null?void 0:w.operator)||"equals",conditionValue:((_=g.conditions[0])==null?void 0:_.value.toString())||"",actionType:((b=g.actions[0])==null?void 0:b.type)||"set-priority",actionValue:((E=g.actions[0])==null?void 0:E.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return h.jsxs("div",{className:"automation-rules-container",children:[h.jsxs("div",{className:"rules-header",children:[h.jsxs("div",{className:"header-title",children:[h.jsx("h2",{children:" Reglas de Automatizacin"}),h.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),h.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&h.jsx("form",{className:"rule-form",onSubmit:c,children:h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:o?"Editar Regla":"Nueva Regla"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Nombre de la regla"}),h.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),h.jsx("div",{className:"form-row",children:h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Disparador"}),h.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[h.jsx("option",{value:"on-create",children:"Al crear incidencia"}),h.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),h.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),h.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"SI"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Campo"}),h.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[h.jsx("option",{value:"type",children:"Tipo"}),h.jsx("option",{value:"priority",children:"Prioridad"}),h.jsx("option",{value:"status",children:"Estado"}),h.jsx("option",{value:"days-open",children:"Das abierta"}),h.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Operador"}),h.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[h.jsx("option",{value:"equals",children:"Es igual a"}),h.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&h.jsxs(h.Fragment,{children:[h.jsx("option",{value:"greater-than",children:"Mayor que"}),h.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&h.jsx("option",{value:"contains",children:"Contiene"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.conditionField==="type"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?h.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?h.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):h.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),h.jsx("div",{className:"form-divider",children:h.jsx("span",{children:"ENTONCES"})}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Accin"}),h.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[h.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),h.jsx("option",{value:"set-status",children:"Cambiar estado"}),h.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),h.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?h.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),h.jsx("option",{value:"abierta",children:"Abierta"}),h.jsx("option",{value:"en-progreso",children:"En Progreso"}),h.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),h.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),h.jsx("option",{value:"resuelta",children:"Resuelta"}),h.jsx("option",{value:"cerrada",children:"Cerrada"})]}):h.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save-rule",children:o?" Actualizar Regla":" Crear Regla"}),h.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:d,children:"Cancelar"})]})]})}),h.jsx("div",{className:"rules-list",children:e.length===0?h.jsxs("div",{className:"no-rules",children:[h.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),h.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>h.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[h.jsxs("div",{className:"rule-header-card",children:[h.jsxs("div",{className:"rule-info",children:[h.jsx("h3",{children:g.name}),h.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),h.jsxs("div",{className:"rule-actions",children:[h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:g.enabled,onChange:y=>r(g.id,{enabled:y.target.checked})}),h.jsx("span",{className:"toggle-slider"})]}),h.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),h.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),h.jsxs("div",{className:"rule-logic",children:[h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"SI:"}),h.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((y,w)=>h.jsxs("span",{className:"condition-badge",children:[y.field," ",y.operator," ",y.value]},w))})]}),h.jsx("div",{className:"logic-arrow",children:""}),h.jsxs("div",{className:"logic-section",children:[h.jsx("span",{className:"logic-label",children:"ENTONCES:"}),h.jsx("div",{className:"logic-content",children:(g.actions||[]).map((y,w)=>h.jsxs("span",{className:"action-badge",children:[y.type,": ",y.value]},w))})]})]})]},g.id))})]})}function Pte({currentUser:e}){const[t,r]=x.useState([]),[n,i]=x.useState(!1),[a,o]=x.useState(null),[s,l]=x.useState({username:"",password:"",name:""}),[u,c]=x.useState(!1),[d,p]=x.useState(null);x.useEffect(()=>{const E=r5(C=>{console.log("Usuarios actualizados en tiempo real:",C),r(C)});return()=>{E()}},[]);const m=(E,C)=>{p({type:E,message:C}),setTimeout(()=>p(null),3e3)},g=()=>{l({username:"",password:"",name:""}),i(!1),o(null),c(!1)},y=async E=>{if(E.preventDefault(),!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{if(await _O(s.username.toLowerCase())){m("error","Ya existe un usuario con ese nombre");return}await Dw({username:s.username,password:s.password,name:s.name,createdAt:new Date().toISOString()}),m("success",`Usuario "${s.username}" creado correctamente`),g()}catch(C){console.error("Error creating user:",C),m("error",C instanceof Error?C.message:"Error al crear usuario")}},w=async E=>{if(E.preventDefault(),!!a){if(!s.username.trim()||!s.password.trim()||!s.name.trim()){m("error","Todos los campos son obligatorios");return}try{await G$(a.id,{username:s.username,password:s.password,name:s.name}),m("success",`Usuario "${s.username}" actualizado correctamente`),g()}catch(C){console.error("Error updating user:",C),m("error",C instanceof Error?C.message:"Error al actualizar usuario")}}},_=E=>{o(E),l({username:E.username,password:E.password,name:E.name}),i(!0)},b=async E=>{if(E.id===e.id){m("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${E.username}"?`))try{await Q$(E.id),m("success",`Usuario "${E.username}" eliminado correctamente`)}catch(C){console.error("Error deleting user:",C),m("error",C instanceof Error?C.message:"Error al eliminar usuario")}};return h.jsxs("div",{className:"user-management",children:[h.jsxs("div",{className:"user-management-header",children:[h.jsx("h3",{children:" Gestin de Usuarios"}),!n&&h.jsx("button",{className:"btn-create-user",onClick:()=>i(!0),children:" Crear Usuario"})]}),d&&h.jsxs("div",{className:`user-notification user-notification-${d.type}`,children:[d.type==="success"?"":""," ",d.message]}),n&&h.jsx("div",{className:"user-form-container",children:h.jsxs("form",{className:"user-form",onSubmit:a?w:y,children:[h.jsx("h4",{children:a?" Editar Usuario":" Nuevo Usuario"}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:s.username,onChange:E=>l({...s,username:E.target.value}),placeholder:"Nombre de usuario",disabled:!!a})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"name",children:"Nombre Completo"}),h.jsx("input",{id:"name",type:"text",value:s.name,onChange:E=>l({...s,name:E.target.value}),placeholder:"Nombre completo del usuario"})]}),h.jsxs("div",{className:"user-form-group",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsxs("div",{className:"password-input-wrapper",children:[h.jsx("input",{id:"password",type:u?"text":"password",value:s.password,onChange:E=>l({...s,password:E.target.value}),placeholder:a?"Nueva contrasea":"Contrasea"}),h.jsxs("label",{className:"show-password-toggle",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:E=>c(E.target.checked)}),h.jsx("span",{children:"Mostrar contrasea"})]})]})]}),h.jsxs("div",{className:"user-form-actions",children:[h.jsx("button",{type:"submit",className:"btn-submit",style:{flex:"1 1 0",minWidth:0,width:"auto"},children:a?" Guardar Cambios":" Crear Usuario"}),h.jsx("button",{type:"button",className:"btn-cancel",onClick:g,style:{flex:"1 1 0",minWidth:0,width:"auto"},children:" Cancelar"})]})]})}),h.jsxs("div",{className:"users-list",children:[h.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),h.jsx("div",{className:"users-table",children:h.jsxs("table",{children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Usuario"}),h.jsx("th",{children:"Nombre"}),h.jsx("th",{children:"Fecha de Creacin"}),h.jsx("th",{children:"Acciones"})]})}),h.jsx("tbody",{children:t.map(E=>h.jsxs("tr",{className:E.id===e.id?"current-user":"",children:[h.jsx("td",{children:h.jsxs("span",{className:"user-username",children:[E.username,E.id===e.id&&h.jsx("span",{className:"badge-current",children:" (T)"})]})}),h.jsx("td",{children:E.name}),h.jsx("td",{children:new Date(E.createdAt).toLocaleDateString("es-ES")}),h.jsx("td",{children:h.jsxs("div",{className:"user-actions",children:[h.jsx("button",{className:"btn-edit",onClick:()=>_(E),title:"Editar usuario",children:""}),h.jsx("button",{className:"btn-delete",onClick:()=>b(E),disabled:E.id===e.id,title:E.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},E.id))})]})})]})]})}const Xy=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function Tte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=x.useState(t),a=async o=>{i(o),e(o);try{await Y$(r.id,{...r.preferences,theme:o})}catch(s){console.error("Error saving theme preference:",s)}};return h.jsxs("div",{className:"appearance-settings",children:[h.jsx("h3",{children:" Apariencia"}),h.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),h.jsx("div",{className:"theme-grid",children:Xy.map(o=>h.jsxs("div",{className:`theme-card ${n===o.id?"active":""}`,onClick:()=>a(o.id),children:[h.jsx("div",{className:"theme-preview",style:{background:o.preview},children:n===o.id&&h.jsx("div",{className:"theme-check",children:""})}),h.jsx("div",{className:"theme-name",children:o.name})]},o.id))}),n!==t&&h.jsx("div",{className:"theme-info",children:h.jsx("p",{children:" Tema aplicado correctamente"})})]})}const To={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},kg="app_general_settings";function Cte({onSettingsChange:e}){const[t,r]=x.useState(()=>{try{const c=localStorage.getItem(kg);return c?{...To,...JSON.parse(c)}:To}catch(c){return console.error("Error loading settings:",c),To}}),[n,i]=x.useState(null),a=(c,d)=>{const p={...t,[c]:d};r(p),localStorage.setItem(kg,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},o=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(To),localStorage.setItem(kg,JSON.stringify(To)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},s=async()=>{try{const c=await wO(),d=await Rw(),p=await Ol(),m=await bO(),g={incidents:c,users:d,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},y=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),w=URL.createObjectURL(y),_=document.createElement("a");_.href=w,_.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,_.click(),URL.revokeObjectURL(w),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const d=(m=c.target.files)==null?void 0:m[0];if(!d)return;const p=new FileReader;p.onload=async g=>{var y;try{const w=JSON.parse((y=g.target)==null?void 0:y.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(w)){if(!w.every(b=>b.id&&b.name&&b.title&&b.status&&b.priority&&b.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const b of w)await Yv(b)}else{if(w.incidents)for(const _ of w.incidents)await Yv(_);if(w.users)for(const _ of w.users)await Dw(_);if(w.automationRules)for(const _ of w.automationRules)await xO(_);w.settings&&(await EO(w.settings),r({...To,...w.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(w){console.error("Import error:",w),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(d)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return h.jsxs("div",{className:"general-settings",children:[n&&h.jsx("div",{className:"settings-notification",children:n}),h.jsxs("div",{className:"settings-header",children:[h.jsx("h2",{children:" Configuracin General"}),h.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),h.jsxs("div",{className:"settings-sections",children:[h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Interfaz"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),h.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),h.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[h.jsx("option",{value:"2000",children:"2 segundos"}),h.jsx("option",{value:"3000",children:"3 segundos"}),h.jsx("option",{value:"4000",children:"4 segundos"}),h.jsx("option",{value:"5000",children:"5 segundos"}),h.jsx("option",{value:"7000",children:"7 segundos"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),h.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),h.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[h.jsx("option",{value:"5",children:"5"}),h.jsx("option",{value:"10",children:"10"}),h.jsx("option",{value:"20",children:"20"}),h.jsx("option",{value:"50",children:"50"}),h.jsx("option",{value:"100",children:"100"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Vista compacta"}),h.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{children:[h.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),h.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),h.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Valores por Defecto"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Formato de fecha"}),h.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),h.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[h.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),h.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),h.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),h.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[h.jsx("option",{value:"correctivo",children:"Correctivo"}),h.jsx("option",{value:"evolutivo",children:"Evolutivo"}),h.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),h.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),h.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[h.jsx("option",{value:"baja",children:"Baja"}),h.jsx("option",{value:"media",children:"Media"}),h.jsx("option",{value:"alta",children:"Alta"}),h.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Comportamiento"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Autoguardado"}),h.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),h.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"15000",children:"15 segundos"}),h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"0",children:"Desactivado"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),h.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),h.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),h.jsxs("label",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),h.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),h.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),h.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[h.jsx("option",{value:"30000",children:"30 segundos"}),h.jsx("option",{value:"60000",children:"1 minuto"}),h.jsx("option",{value:"120000",children:"2 minutos"}),h.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),h.jsxs("section",{className:"settings-section",children:[h.jsx("h3",{children:" Gestin de Datos"}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Exportar datos"}),h.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),h.jsx("button",{className:"btn-export",onClick:s,children:" Exportar Todo"})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Importar datos"}),h.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),h.jsxs("label",{className:"btn-import",children:[" Importar",h.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),h.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),h.jsx("button",{className:"btn-reset",onClick:o,children:" Restaurar"})]}),h.jsxs("div",{className:"setting-item danger-zone",children:[h.jsxs("div",{children:[h.jsx("div",{className:"setting-label",children:" Zona de peligro"}),h.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),h.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function Ite({onLogin:e}){const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,o]=x.useState(!1),[s,l]=x.useState("");x.useEffect(()=>{const c=localStorage.getItem("saved_username"),d=localStorage.getItem("saved_password");c&&d&&(r(c),i(d),o(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const d=await _O(t.toLowerCase());d&&d.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(d)),e(d)):l("Usuario o contrasea incorrectos")}catch(d){console.error("Error durante login:",d),l("Error al iniciar sesin. Intenta nuevamente.")}};return h.jsx("div",{className:"login-container",children:h.jsxs("div",{className:"login-card",children:[h.jsxs("div",{className:"login-header",children:[h.jsx(WD,{}),h.jsx("h1",{children:"Sistema de Incidencias"}),h.jsx("p",{children:"Inicia sesin para continuar"})]}),h.jsxs("form",{className:"login-form",onSubmit:u,children:[s&&h.jsxs("div",{className:"login-error",children:[" ",s]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"username",children:"Usuario"}),h.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),h.jsxs("div",{className:"login-field",children:[h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),h.jsx("div",{className:"login-remember",children:h.jsxs("label",{className:"remember-checkbox",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:c=>o(c.target.checked)}),h.jsx("span",{children:"Guardar credenciales"})]})}),h.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function jte(){const[e,t]=x.useState(null),[r,n]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(null),[l,u]=x.useState(null),[c,d]=x.useState("dashboard"),[p,m]=x.useState("automation"),[g,y]=x.useState(null),[w,_]=x.useState("purple-gradient"),[b,E]=x.useState([]),[C,O]=x.useState(null),[R,S]=x.useState(!1),[A,I]=x.useState(!1),D=e?r.filter($=>$.userId===e.id):[],T=$=>{try{console.log("Changing tab to:",$),S(!0),setTimeout(()=>{d($),S(!1)},100)}catch(H){console.error("Error changing tab:",H),S(!1)}},k=$=>{S(!0),setTimeout(()=>{b.find(H=>H.id===$.id)||E([...b,$]),y($),d("incident-detail"),S(!1)},100)};x.useEffect(()=>{(async()=>{try{await n5();const Z=vr.getCurrentUser();if(t(Z),Z){const Te=await X$(Z.id);Te.theme&&_(Te.theme)}const ae=await Ol();a(ae);const Xe=new URLSearchParams(window.location.search).get("incident");if(Xe){const Te=await ka(Xe);Te&&(y(Te),d("incident-detail"))}}catch(Z){console.error("Error loading data:",Z),O({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const H=t5(Z=>{if(console.log("Incidencias actualizadas en tiempo real:",Z),n(Z),g){const ae=Z.find(Ee=>Ee.id===g.id);ae&&y(ae)}});return()=>{H()}},[]),x.useEffect(()=>{if(C){const $=setTimeout(()=>{O(null)},4e3);return()=>clearTimeout($)}},[C]);const j=async $=>{try{const H={...$,userId:e.id},Z=me.applyAutomationRules(H,"on-create");await Yv(Z),O({type:"success",message:` Incidencia "${$.name}" creada correctamente`,incidentId:$.id})}catch(H){console.error("Error adding incident:",H),O({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},Q=async $=>{console.log("handleUpdateIncident llamado con:",$);try{await un($.id,$),s(null),console.log("Mostrando notificacin"),O({type:"success",message:` Incidencia "${$.name}" actualizada correctamente`,incidentId:$.id})}catch(H){console.error("Error updating incident:",H),O({type:"error",message:"Error al actualizar la incidencia."})}},se=async $=>{try{await H$($),E(b.filter(H=>H.id!==$)),(g==null?void 0:g.id)===$&&(y(null),d("all-incidents"))}catch(H){console.error("Error deleting incident:",H),O({type:"error",message:"Error al eliminar la incidencia."})}},de=$=>{const H=b.find(Z=>Z.id===$);H&&(y(H),d("incident-detail"))},le=$=>{E(b.filter(H=>H.id!==$)),(g==null?void 0:g.id)===$&&(y(null),d("all-incidents"))},U=async($,H,Z)=>{try{const ae={incidentId:$,author:H,text:Z,timestamp:new Date().toISOString()};await Z$(ae)}catch(ae){console.error("Error adding comment:",ae)}},K=($,H)=>{const Z=me.deleteComment($,H);if(n(Z),g&&g.id===$){const ae=Z.find(Ee=>Ee.id===$);ae&&y(ae)}},ne=async($,H)=>{try{const Z=await ka($);if(!Z)return;const ae=Z.tags||[];ae.includes(H)||await un($,{tags:[...ae,H]})}catch(Z){console.error("Error adding tag:",Z)}},pe=async($,H)=>{try{const Z=await ka($);if(!Z)return;const ae=(Z.tags||[]).filter(Ee=>Ee!==H);await un($,{tags:ae})}catch(Z){console.error("Error removing tag:",Z)}},_e=()=>{const $=new Set;return r.forEach(H=>{var Z;(Z=H.tags)==null||Z.forEach(ae=>$.add(ae))}),Array.from($)},wt=async $=>{var H;try{const Z=await wO();for(const ae of Z)if((H=ae.tags)!=null&&H.includes($)){const Ee=ae.tags.filter(Xe=>Xe!==$);await un(ae.id,{tags:Ee})}O({type:"success",message:` Etiqueta "${$}" eliminada de todas las incidencias`})}catch(Z){console.error("Error deleting tag globally:",Z)}},Ne=async($,H,Z,ae)=>{try{const Ee=await ka($);if(!Ee)return;const Xe={id:`pr_${Date.now()}`,link:Z,description:ae,createdAt:new Date().toISOString()};if(H==="qa2"){const Te=[...Ee.prQA2List||[],Xe];await un($,{prQA2List:Te})}else{const Te=[...Ee.prMainList||[],Xe];await un($,{prMainList:Te})}}catch(Ee){console.error("Error adding PR:",Ee)}},Bt=async($,H,Z)=>{try{const ae=await ka($);if(!ae)return;if(H==="qa2"){const Ee=(ae.prQA2List||[]).filter(Xe=>Xe.id!==Z);await un($,{prQA2List:Ee})}else{const Ee=(ae.prMainList||[]).filter(Xe=>Xe.id!==Z);await un($,{prMainList:Ee})}}catch(ae){console.error("Error removing PR:",ae)}},_t=async($,H,Z,ae,Ee)=>{try{const Xe=await ka($);if(!Xe)return;if(H==="qa2"){const Te=(Xe.prQA2List||[]).map(Ze=>Ze.id===Z?{...Ze,link:ae,description:Ee}:Ze);await un($,{prQA2List:Te})}else{const Te=(Xe.prMainList||[]).map(Ze=>Ze.id===Z?{...Ze,link:ae,description:Ee}:Ze);await un($,{prMainList:Te})}}catch(Xe){console.error("Error updating PR:",Xe)}},$e=async $=>{try{const H={...$,createdAt:new Date().toISOString()};await xO(H);const Z=await Ol();a(Z)}catch(H){console.error("Error adding automation rule:",H)}},Hn=async($,H)=>{try{await J$($,H);const Z=await Ol();a(Z)}catch(Z){console.error("Error updating automation rule:",Z)}},B=async $=>{try{await e5($);const H=await Ol();a(H)}catch(H){console.error("Error deleting automation rule:",H)}},fe=$=>{_($),localStorage.setItem("app_theme",$);const H=Xy.find(Z=>Z.id===$);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};x.useEffect(()=>{const $=Xy.find(H=>H.id===w);$&&document.documentElement.style.setProperty("--app-background",$.gradient)},[w]);const ve=$=>{t($)},q=()=>{vr.logout(),t(null),y(null),E([]),d("dashboard")};return e?h.jsxs("div",{className:"app-container",children:[h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"app-header-content",children:h.jsx(WD,{})}),h.jsxs("div",{className:"app-header-actions",children:[h.jsxs("div",{className:"user-info",children:[h.jsxs("span",{className:"user-name",children:[" ",e.name]}),h.jsx("button",{className:"btn-logout",onClick:q,title:"Cerrar sesin",children:" Salir"})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>I(!A),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Alertas"}),D.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length>0&&h.jsx("span",{className:"alerts-count",children:D.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length})]}),h.jsxs("div",{className:"app-header-badge",onClick:()=>T("settings"),children:[h.jsx("span",{className:"badge-icon",children:""}),h.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),C&&h.jsxs("div",{className:`notification-banner notification-${C.type}`,children:[h.jsx("span",{children:C.message}),h.jsxs("div",{className:"notification-actions",children:[C.type==="success"&&C.incidentId&&h.jsx("button",{className:"notification-view",onClick:()=>{const $=D.find(H=>H.id===C.incidentId);$&&(y($),d("incident-detail")),O(null)},"aria-label":"Ver incidencia",children:" Ver"}),h.jsx("button",{className:"notification-close",onClick:()=>O(null),"aria-label":"Cerrar notificacin",children:""})]})]}),h.jsx(bte,{activeTab:c,onTabChange:T,openIncidents:b.map($=>({id:$.id,name:$.name})),selectedIncidentId:g==null?void 0:g.id,onSelectIncident:de,onCloseIncident:le}),A&&h.jsx("div",{className:"alerts-modal",children:h.jsxs("div",{className:"alerts-modal-content",children:[h.jsxs("div",{className:"alerts-modal-header",children:[h.jsx("h3",{children:" Alertas"}),h.jsx("button",{className:"alerts-modal-close",onClick:()=>I(!1),children:""})]}),h.jsx(pte,{incidents:D,onViewIncident:$=>{k($),I(!1)}})]})}),c==="dashboard"?h.jsx("main",{className:"app-main dashboard-transition",children:h.jsxs("div",{className:"app-content",children:[h.jsxs("div",{className:"form-section",children:[h.jsx(fte,{incidents:D}),h.jsx(dte,{incidents:D,onViewDetail:k})]}),h.jsxs("div",{className:"list-section",children:[h.jsx(ute,{incidents:D,onStatusClick:u,onNavigateToList:()=>d("all-incidents")}),h.jsx(hte,{incidents:D}),h.jsx(cte,{incidents:D})]})]})}):c==="new-incident"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"new-incident-section",children:h.jsx("div",{className:"form-section-centered",children:h.jsx(i5,{onAdd:j})})})}):c==="incident-detail"&&g?h.jsx("main",{className:"incident-detail-main",children:h.jsx(xte,{incident:g,onUpdate:Q,onAddComment:U,onDeleteComment:K,onDelete:se,onAddTag:ne,onRemoveTag:pe,onDeleteTagGlobally:wt,allAvailableTags:_e(),onAddPR:Ne,onRemovePR:Bt,onUpdatePR:_t,onBack:()=>{y(null),d("all-incidents")}})}):c==="settings"?h.jsx("main",{className:"app-main page-transition-enter",children:h.jsxs("div",{className:"settings-container",children:[h.jsxs("div",{className:"settings-sidebar",children:[h.jsx("h2",{children:" Ajustes"}),h.jsxs("div",{className:"settings-menu",children:[h.jsxs("button",{className:`settings-menu-item ${p==="automation"?"active":""}`,onClick:()=>m("automation"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Automatizacin"})]}),e&&e.username==="admin"&&h.jsxs("button",{className:`settings-menu-item ${p==="users"?"active":""}`,onClick:()=>m("users"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Usuarios"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="appearance"?"active":""}`,onClick:()=>m("appearance"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"Apariencia"})]}),h.jsxs("button",{className:`settings-menu-item ${p==="general"?"active":""}`,onClick:()=>m("general"),children:[h.jsx("span",{className:"menu-icon",children:""}),h.jsx("span",{children:"General"})]})]})]}),h.jsx("div",{className:"settings-content",children:p==="automation"?h.jsx(Ate,{rules:i,onAddRule:$e,onUpdateRule:Hn,onDeleteRule:B}):p==="users"&&e&&e.username==="admin"?h.jsx(Pte,{currentUser:e}):p==="appearance"?h.jsx(Tte,{currentTheme:w,onThemeChange:fe,currentUser:e}):p==="general"?h.jsx(Cte,{}):null})]})}):h.jsx("main",{className:"app-main page-transition-enter",children:h.jsx("div",{className:"all-incidents-section",children:h.jsx(Ste,{incidents:D,onEdit:s,onDelete:se,onViewDetail:k,onNewIncident:()=>T("new-incident"),selectedStatus:l,onClearFilter:()=>u(null)})})}),o&&h.jsx(a5,{incident:o,onSave:Q,onCancel:()=>s(null)})]}):h.jsx(Ite,{onLogin:ve})}Rg.createRoot(document.getElementById("root")).render(h.jsx(IT.StrictMode,{children:h.jsx(jte,{})}));
