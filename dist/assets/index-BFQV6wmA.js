var _M=Object.defineProperty;var bM=(e,t,r)=>t in e?_M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var km=(e,t,r)=>bM(e,typeof t!="symbol"?t+"":t,r);function EM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ET={exports:{}},Ph={},ST={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),SM=Symbol.for("react.portal"),AM=Symbol.for("react.fragment"),PM=Symbol.for("react.strict_mode"),TM=Symbol.for("react.profiler"),CM=Symbol.for("react.provider"),IM=Symbol.for("react.context"),jM=Symbol.for("react.forward_ref"),OM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),kM=Symbol.for("react.lazy"),Hb=Symbol.iterator;function RM(e){return e===null||typeof e!="object"?null:(e=Hb&&e[Hb]||e["@@iterator"],typeof e=="function"?e:null)}var AT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PT=Object.assign,TT={};function jo(e,t,r){this.props=e,this.context=t,this.refs=TT,this.updater=r||AT}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CT(){}CT.prototype=jo.prototype;function i0(e,t,r){this.props=e,this.context=t,this.refs=TT,this.updater=r||AT}var a0=i0.prototype=new CT;a0.constructor=i0;PT(a0,jo.prototype);a0.isPureReactComponent=!0;var Gb=Array.isArray,IT=Object.prototype.hasOwnProperty,s0={current:null},jT={key:!0,ref:!0,__self:!0,__source:!0};function OT(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)IT.call(t,n)&&!jT.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vu,type:e,key:a,ref:s,props:i,_owner:s0.current}}function DM(e,t){return{$$typeof:Vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vu}function MM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qb=/\/+/g;function Rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MM(""+e.key):t.toString(36)}function _d(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vu:case SM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Rm(s,0):n,Gb(i)?(r="",e!=null&&(r=e.replace(Qb,"$&/")+"/"),_d(i,t,r,"",function(u){return u})):i!=null&&(o0(i)&&(i=DM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Qb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Gb(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Rm(a,o);s+=_d(a,t,r,l,i)}else if(l=RM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Rm(a,o++),s+=_d(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dc(e,t,r){if(e==null)return e;var n=[],i=0;return _d(e,n,"","",function(a){return t.call(r,a,i++)}),n}function LM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},bd={transition:null},VM={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:bd,ReactCurrentOwner:s0};function NT(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!o0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=jo;ve.Fragment=AM;ve.Profiler=TM;ve.PureComponent=i0;ve.StrictMode=PM;ve.Suspense=OM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VM;ve.act=NT;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=s0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)IT.call(t,l)&&!jT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Vu,type:e.type,key:i,ref:a,props:n,_owner:s}};ve.createContext=function(e){return e={$$typeof:IM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CM,_context:e},e.Consumer=e};ve.createElement=OT;ve.createFactory=function(e){var t=OT.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:jM,render:e}};ve.isValidElement=o0;ve.lazy=function(e){return{$$typeof:kM,_payload:{_status:-1,_result:e},_init:LM}};ve.memo=function(e,t){return{$$typeof:NM,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ve.unstable_act=NT;ve.useCallback=function(e,t){return gr.current.useCallback(e,t)};ve.useContext=function(e){return gr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return gr.current.useEffect(e,t)};ve.useId=function(){return gr.current.useId()};ve.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return gr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};ve.useRef=function(e){return gr.current.useRef(e)};ve.useState=function(e){return gr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return gr.current.useTransition()};ve.version="18.3.1";ST.exports=ve;var x=ST.exports;const kT=Ai(x),FM=EM({__proto__:null,default:kT},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $M=x,zM=Symbol.for("react.element"),UM=Symbol.for("react.fragment"),BM=Object.prototype.hasOwnProperty,qM=$M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WM={key:!0,ref:!0,__self:!0,__source:!0};function RT(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)BM.call(t,n)&&!WM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:zM,type:e,key:a,ref:s,props:i,_owner:qM.current}}Ph.Fragment=UM;Ph.jsx=RT;Ph.jsxs=RT;ET.exports=Ph;var f=ET.exports,$g={},DT={exports:{}},Br={},MT={exports:{}},LT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var me=ne-1>>>1,be=U[me];if(0<i(be,K))U[me]=K,U[ne]=be,ne=me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var me=0,be=U.length,_t=be>>>1;me<_t;){var ke=2*(me+1)-1,qt=U[ke],bt=ke+1,ze=U[bt];if(0>i(qt,ne))bt<be&&0>i(ze,qt)?(U[me]=ze,U[bt]=ne,me=bt):(U[me]=qt,U[ke]=ne,me=ke);else if(bt<be&&0>i(ze,ne))U[me]=ze,U[bt]=ne,me=bt;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function I(U){if(w=!1,E(U),!g)if(r(l)!==null)g=!0,de(T);else{var K=r(u);K!==null&&oe(I,K.startTime-U)}}function T(U,K){g=!1,w&&(w=!1,_(A),A=-1),m=!0;var ne=p;try{for(E(K),d=r(l);d!==null&&(!(d.expirationTime>K)||U&&!C());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var be=me(d.expirationTime<=K);K=e.unstable_now(),typeof be=="function"?d.callback=be:d===r(l)&&n(l),E(K)}else n(l);d=r(l)}if(d!==null)var _t=!0;else{var ke=r(u);ke!==null&&oe(I,ke.startTime-K),_t=!1}return _t}finally{d=null,p=ne,m=!1}}var O=!1,S=null,A=-1,j=5,D=-1;function C(){return!(e.unstable_now()-D<j)}function k(){if(S!==null){var U=e.unstable_now();D=U;var K=!0;try{K=S(!0,U)}finally{K?N():(O=!1,S=null)}}else O=!1}var N;if(typeof b=="function")N=function(){b(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=k,N=function(){se.postMessage(null)}}else N=function(){v(k,0)};function de(U){S=U,O||(O=!0,N())}function oe(U,K){A=v(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,de(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},e.unstable_scheduleCallback=function(U,K,ne){var me=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,U){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ne+be,U={id:c++,callback:K,priorityLevel:U,startTime:ne,expirationTime:be,sortIndex:-1},ne>me?(U.sortIndex=ne,t(u,U),r(l)===null&&U===r(u)&&(w?(_(A),A=-1):w=!0,oe(I,ne-me))):(U.sortIndex=be,t(l,U),g||m||(g=!0,de(T))),U},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})(LT);MT.exports=LT;var KM=MT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HM=x,zr=KM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VT=new Set,Xl={};function hs(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(Xl[e]=t,e=0;e<t.length;e++)VT.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zg=Object.prototype.hasOwnProperty,GM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yb={},Xb={};function QM(e){return zg.call(Xb,e)?!0:zg.call(Yb,e)?!1:GM.test(e)?Xb[e]=!0:(Yb[e]=!0,!1)}function YM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XM(e,t,r,n){if(t===null||typeof t>"u"||YM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function u0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l0,u0);Xt[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function c0(e,t,r,n){var i=Xt.hasOwnProperty(t)?Xt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XM(t,r,i,n)&&(r=null),n||i===null?QM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pi=HM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),FT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),qg=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),zT=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=Zb&&e[Zb]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Dm;function Al(e){if(Dm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dm=t&&t[1]||""}return`
`+Dm+e}var Mm=!1;function Lm(e,t){if(!e||Mm)return"";Mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Al(e):""}function ZM(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function Wg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Rs:return"Portal";case Ug:return"Profiler";case d0:return"StrictMode";case Bg:return"Suspense";case qg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $T:return(e.displayName||"Context")+".Consumer";case FT:return(e._context.displayName||"Context")+".Provider";case f0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h0:return t=e.displayName||null,t!==null?t:Wg(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Wg(e(t))}catch{}}return null}function JM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wg(t);case 8:return t===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eL(e){var t=UT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lc(e){e._valueTracker||(e._valueTracker=eL(e))}function BT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=UT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kg(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qT(e,t){t=t.checked,t!=null&&c0(e,"checked",t,!1)}function Hg(e,t){qT(e,t);var r=ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gg(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gg(e,t,r){(t!=="number"||Wd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pl=Array.isArray;function Gs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Pl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function WT(e,t){var r=ua(t.value),n=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vc,HT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tL=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(e){tL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ml[t]=Ml[e]})});function GT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ml.hasOwnProperty(e)&&Ml[e]?(""+t).trim():t+"px"}function QT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=GT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var rL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xg(e,t){if(t){if(rL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Zg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jg=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ev=null,Qs=null,Ys=null;function nE(e){if(e=zu(e)){if(typeof ev!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Oh(t),ev(e.stateNode,e.type,t))}}function YT(e){Qs?Ys?Ys.push(e):Ys=[e]:Qs=e}function XT(){if(Qs){var e=Qs,t=Ys;if(Ys=Qs=null,nE(e),t)for(e=0;e<t.length;e++)nE(t[e])}}function ZT(e,t){return e(t)}function JT(){}var Vm=!1;function eC(e,t,r){if(Vm)return e(t,r);Vm=!0;try{return ZT(e,t,r)}finally{Vm=!1,(Qs!==null||Ys!==null)&&(JT(),XT())}}function Jl(e,t){var r=e.stateNode;if(r===null)return null;var n=Oh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var tv=!1;if(ci)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){tv=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{tv=!1}function nL(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ll=!1,Kd=null,Hd=!1,rv=null,iL={onError:function(e){Ll=!0,Kd=e}};function aL(e,t,r,n,i,a,s,o,l){Ll=!1,Kd=null,nL.apply(iL,arguments)}function sL(e,t,r,n,i,a,s,o,l){if(aL.apply(this,arguments),Ll){if(Ll){var u=Kd;Ll=!1,Kd=null}else throw Error(W(198));Hd||(Hd=!0,rv=u)}}function ps(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iE(e){if(ps(e)!==e)throw Error(W(188))}function oL(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return iE(i),e;if(a===n)return iE(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function rC(e){return e=oL(e),e!==null?nC(e):null}function nC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nC(e);if(t!==null)return t;e=e.sibling}return null}var iC=zr.unstable_scheduleCallback,aE=zr.unstable_cancelCallback,lL=zr.unstable_shouldYield,uL=zr.unstable_requestPaint,ct=zr.unstable_now,cL=zr.unstable_getCurrentPriorityLevel,m0=zr.unstable_ImmediatePriority,aC=zr.unstable_UserBlockingPriority,Gd=zr.unstable_NormalPriority,dL=zr.unstable_LowPriority,sC=zr.unstable_IdlePriority,Th=null,Mn=null;function fL(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Th,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:mL,hL=Math.log,pL=Math.LN2;function mL(e){return e>>>=0,e===0?32:31-(hL(e)/pL|0)|0}var Fc=64,$c=4194304;function Tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Tl(o):(a&=s,a!==0&&(n=Tl(a)))}else s=r&~i,s!==0?n=Tl(s):a!==0&&(n=Tl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wn(t),i=1<<r,n|=e[r],t&=~i;return n}function gL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-wn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=gL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function nv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oC(){var e=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),e}function Fm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=r}function yL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-wn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function g0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function lC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uC,v0,cC,dC,fC,iv=!1,zc=[],Yi=null,Xi=null,Zi=null,eu=new Map,tu=new Map,qi=[],wL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function dl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=zu(t),t!==null&&v0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xL(e,t,r,n,i){switch(t){case"focusin":return Yi=dl(Yi,e,t,r,n,i),!0;case"dragenter":return Xi=dl(Xi,e,t,r,n,i),!0;case"mouseover":return Zi=dl(Zi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return eu.set(a,dl(eu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,tu.set(a,dl(tu.get(a)||null,e,t,r,n,i)),!0}return!1}function hC(e){var t=Fa(e.target);if(t!==null){var r=ps(t);if(r!==null){if(t=r.tag,t===13){if(t=tC(r),t!==null){e.blockedOn=t,fC(e.priority,function(){cC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=av(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jg=n,r.target.dispatchEvent(n),Jg=null}else return t=zu(r),t!==null&&v0(t),e.blockedOn=r,!1;t.shift()}return!0}function oE(e,t,r){Ed(e)&&r.delete(t)}function _L(){iv=!1,Yi!==null&&Ed(Yi)&&(Yi=null),Xi!==null&&Ed(Xi)&&(Xi=null),Zi!==null&&Ed(Zi)&&(Zi=null),eu.forEach(oE),tu.forEach(oE)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,iv||(iv=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,_L)))}function ru(e){function t(i){return fl(i,e)}if(0<zc.length){fl(zc[0],e);for(var r=1;r<zc.length;r++){var n=zc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&fl(Yi,e),Xi!==null&&fl(Xi,e),Zi!==null&&fl(Zi,e),eu.forEach(t),tu.forEach(t),r=0;r<qi.length;r++)n=qi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qi.length&&(r=qi[0],r.blockedOn===null);)hC(r),r.blockedOn===null&&qi.shift()}var Xs=Pi.ReactCurrentBatchConfig,Yd=!0;function bL(e,t,r,n){var i=Oe,a=Xs.transition;Xs.transition=null;try{Oe=1,y0(e,t,r,n)}finally{Oe=i,Xs.transition=a}}function EL(e,t,r,n){var i=Oe,a=Xs.transition;Xs.transition=null;try{Oe=4,y0(e,t,r,n)}finally{Oe=i,Xs.transition=a}}function y0(e,t,r,n){if(Yd){var i=av(e,t,r,n);if(i===null)Qm(e,t,n,Xd,r),sE(e,n);else if(xL(i,e,t,r,n))n.stopPropagation();else if(sE(e,n),t&4&&-1<wL.indexOf(e)){for(;i!==null;){var a=zu(i);if(a!==null&&uC(a),a=av(e,t,r,n),a===null&&Qm(e,t,n,Xd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Qm(e,t,n,null,r)}}var Xd=null;function av(e,t,r,n){if(Xd=null,e=p0(n),e=Fa(e),e!==null)if(t=ps(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xd=e,null}function pC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cL()){case m0:return 1;case aC:return 4;case Gd:case dL:return 16;case sC:return 536870912;default:return 16}default:return 16}}var Hi=null,w0=null,Sd=null;function mC(){if(Sd)return Sd;var e,t=w0,r=t.length,n,i="value"in Hi?Hi.value:Hi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Sd=i.slice(e,1<n?1-n:void 0)}function Ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function lE(){return!1}function qr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uc:lE,this.isPropagationStopped=lE,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=qr(Oo),$u=tt({},Oo,{view:0,detail:0}),SL=qr($u),$m,zm,hl,Ch=tt({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?($m=e.screenX-hl.screenX,zm=e.screenY-hl.screenY):zm=$m=0,hl=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:zm}}),uE=qr(Ch),AL=tt({},Ch,{dataTransfer:0}),PL=qr(AL),TL=tt({},$u,{relatedTarget:0}),Um=qr(TL),CL=tt({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),IL=qr(CL),jL=tt({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OL=qr(jL),NL=tt({},Oo,{data:0}),cE=qr(NL),kL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ML(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DL[e])?!!t[e]:!1}function _0(){return ML}var LL=tt({},$u,{key:function(e){if(e.key){var t=kL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(e){return e.type==="keypress"?Ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VL=qr(LL),FL=tt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dE=qr(FL),$L=tt({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),zL=qr($L),UL=tt({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),BL=qr(UL),qL=tt({},Ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WL=qr(qL),KL=[9,13,27,32],b0=ci&&"CompositionEvent"in window,Vl=null;ci&&"documentMode"in document&&(Vl=document.documentMode);var HL=ci&&"TextEvent"in window&&!Vl,gC=ci&&(!b0||Vl&&8<Vl&&11>=Vl),fE=" ",hE=!1;function vC(e,t){switch(e){case"keyup":return KL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function GL(e,t){switch(e){case"compositionend":return yC(t);case"keypress":return t.which!==32?null:(hE=!0,fE);case"textInput":return e=t.data,e===fE&&hE?null:e;default:return null}}function QL(e,t){if(Ms)return e==="compositionend"||!b0&&vC(e,t)?(e=mC(),Sd=w0=Hi=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gC&&t.locale!=="ko"?null:t.data;default:return null}}var YL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YL[e.type]:t==="textarea"}function wC(e,t,r,n){YT(n),t=Zd(t,"onChange"),0<t.length&&(r=new x0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fl=null,nu=null;function XL(e){jC(e,0)}function Ih(e){var t=Fs(e);if(BT(t))return e}function ZL(e,t){if(e==="change")return t}var xC=!1;if(ci){var Bm;if(ci){var qm="oninput"in document;if(!qm){var mE=document.createElement("div");mE.setAttribute("oninput","return;"),qm=typeof mE.oninput=="function"}Bm=qm}else Bm=!1;xC=Bm&&(!document.documentMode||9<document.documentMode)}function gE(){Fl&&(Fl.detachEvent("onpropertychange",_C),nu=Fl=null)}function _C(e){if(e.propertyName==="value"&&Ih(nu)){var t=[];wC(t,nu,e,p0(e)),eC(XL,t)}}function JL(e,t,r){e==="focusin"?(gE(),Fl=t,nu=r,Fl.attachEvent("onpropertychange",_C)):e==="focusout"&&gE()}function eV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ih(nu)}function tV(e,t){if(e==="click")return Ih(t)}function rV(e,t){if(e==="input"||e==="change")return Ih(t)}function nV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:nV;function iu(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zg.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function vE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yE(e,t){var r=vE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vE(r)}}function bC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EC(){for(var e=window,t=Wd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wd(e.document)}return t}function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iV(e){var t=EC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bC(r.ownerDocument.documentElement,r)){if(n!==null&&E0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=yE(r,a);var s=yE(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aV=ci&&"documentMode"in document&&11>=document.documentMode,Ls=null,sv=null,$l=null,ov=!1;function wE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ov||Ls==null||Ls!==Wd(n)||(n=Ls,"selectionStart"in n&&E0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&iu($l,n)||($l=n,n=Zd(sv,"onSelect"),0<n.length&&(t=new x0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ls)))}function Bc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vs={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Wm={},SC={};ci&&(SC=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function jh(e){if(Wm[e])return Wm[e];if(!Vs[e])return e;var t=Vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SC)return Wm[e]=t[r];return e}var AC=jh("animationend"),PC=jh("animationiteration"),TC=jh("animationstart"),CC=jh("transitionend"),IC=new Map,xE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){IC.set(e,t),hs(t,[e])}for(var Km=0;Km<xE.length;Km++){var Hm=xE[Km],sV=Hm.toLowerCase(),oV=Hm[0].toUpperCase()+Hm.slice(1);wa(sV,"on"+oV)}wa(AC,"onAnimationEnd");wa(PC,"onAnimationIteration");wa(TC,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(CC,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function _E(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sL(n,t,void 0,e),e.currentTarget=null}function jC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;_E(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;_E(i,o,u),a=l}}}if(Hd)throw e=rv,Hd=!1,rv=null,e}function Be(e,t){var r=t[fv];r===void 0&&(r=t[fv]=new Set);var n=e+"__bubble";r.has(n)||(OC(t,e,2,!1),r.add(n))}function Gm(e,t,r){var n=0;t&&(n|=4),OC(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[qc]){e[qc]=!0,VT.forEach(function(r){r!=="selectionchange"&&(lV.has(r)||Gm(r,!1,e),Gm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Gm("selectionchange",!1,t))}}function OC(e,t,r,n){switch(pC(t)){case 1:var i=bL;break;case 4:i=EL;break;default:i=y0}r=i.bind(null,t,r,e),i=void 0,!tv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Qm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}eC(function(){var u=a,c=p0(r),d=[];e:{var p=IC.get(e);if(p!==void 0){var m=x0,g=e;switch(e){case"keypress":if(Ad(r)===0)break e;case"keydown":case"keyup":m=VL;break;case"focusin":g="focus",m=Um;break;case"focusout":g="blur",m=Um;break;case"beforeblur":case"afterblur":m=Um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zL;break;case AC:case PC:case TC:m=IL;break;case CC:m=BL;break;case"scroll":m=SL;break;case"wheel":m=WL;break;case"copy":case"cut":case"paste":m=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dE}var w=(t&4)!==0,v=!w&&e==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var b=u,E;b!==null;){E=b;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,_!==null&&(I=Jl(b,_),I!=null&&w.push(su(b,I,E)))),v)break;b=b.return}0<w.length&&(p=new m(p,g,null,r,c),d.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Jg&&(g=r.relatedTarget||r.fromElement)&&(Fa(g)||g[di]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Fa(g):null,g!==null&&(v=ps(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=uE,I="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=dE,I="onPointerLeave",_="onPointerEnter",b="pointer"),v=m==null?p:Fs(m),E=g==null?p:Fs(g),p=new w(I,b+"leave",m,r,c),p.target=v,p.relatedTarget=E,I=null,Fa(c)===u&&(w=new w(_,b+"enter",g,r,c),w.target=E,w.relatedTarget=v,I=w),v=I,m&&g)t:{for(w=m,_=g,b=0,E=w;E;E=Ss(E))b++;for(E=0,I=_;I;I=Ss(I))E++;for(;0<b-E;)w=Ss(w),b--;for(;0<E-b;)_=Ss(_),E--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=Ss(w),_=Ss(_)}w=null}else w=null;m!==null&&bE(d,p,m,w,!1),g!==null&&v!==null&&bE(d,v,g,w,!0)}}e:{if(p=u?Fs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=ZL;else if(pE(p))if(xC)T=rV;else{T=eV;var O=JL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=tV);if(T&&(T=T(e,u))){wC(d,T,r,c);break e}O&&O(e,p,u),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Gg(p,"number",p.value)}switch(O=u?Fs(u):window,e){case"focusin":(pE(O)||O.contentEditable==="true")&&(Ls=O,sv=u,$l=null);break;case"focusout":$l=sv=Ls=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,wE(d,r,c);break;case"selectionchange":if(aV)break;case"keydown":case"keyup":wE(d,r,c)}var S;if(b0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ms?vC(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(gC&&r.locale!=="ko"&&(Ms||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ms&&(S=mC()):(Hi=c,w0="value"in Hi?Hi.value:Hi.textContent,Ms=!0)),O=Zd(u,A),0<O.length&&(A=new cE(A,e,null,r,c),d.push({event:A,listeners:O}),S?A.data=S:(S=yC(r),S!==null&&(A.data=S)))),(S=HL?GL(e,r):QL(e,r))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(c=new cE("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}jC(d,t)})}function su(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jl(e,r),a!=null&&n.unshift(su(e,a,i)),a=Jl(e,t),a!=null&&n.push(su(e,a,i))),e=e.return}return n}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bE(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Jl(r,a),l!=null&&s.unshift(su(r,l,o))):i||(l=Jl(r,a),l!=null&&s.push(su(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var uV=/\r\n?/g,cV=/\u0000|\uFFFD/g;function EE(e){return(typeof e=="string"?e:""+e).replace(uV,`
`).replace(cV,"")}function Wc(e,t,r){if(t=EE(t),EE(e)!==t&&r)throw Error(W(425))}function Jd(){}var lv=null,uv=null;function cv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,dV=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,fV=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(e){return SE.resolve(null).then(e).catch(hV)}:dv;function hV(e){setTimeout(function(){throw e})}function Ym(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ru(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ru(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function AE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),Rn="__reactFiber$"+No,ou="__reactProps$"+No,di="__reactContainer$"+No,fv="__reactEvents$"+No,pV="__reactListeners$"+No,mV="__reactHandles$"+No;function Fa(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[di]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=AE(e);e!==null;){if(r=e[Rn])return r;e=AE(e)}return t}e=r,r=e.parentNode}return null}function zu(e){return e=e[Rn]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Oh(e){return e[ou]||null}var hv=[],$s=-1;function xa(e){return{current:e}}function Ke(e){0>$s||(e.current=hv[$s],hv[$s]=null,$s--)}function Fe(e,t){$s++,hv[$s]=e.current,e.current=t}var ca={},lr=xa(ca),Ar=xa(!1),Ja=ca;function so(e,t){var r=e.type.contextTypes;if(!r)return ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function ef(){Ke(Ar),Ke(lr)}function PE(e,t,r){if(lr.current!==ca)throw Error(W(168));Fe(lr,t),Fe(Ar,r)}function NC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,JM(e)||"Unknown",i));return tt({},r,n)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,Ja=lr.current,Fe(lr,e),Fe(Ar,Ar.current),!0}function TE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=NC(e,t,Ja),n.__reactInternalMemoizedMergedChildContext=e,Ke(Ar),Ke(lr),Fe(lr,e)):Ke(Ar),Fe(Ar,r)}var Zn=null,Nh=!1,Xm=!1;function kC(e){Zn===null?Zn=[e]:Zn.push(e)}function gV(e){Nh=!0,kC(e)}function _a(){if(!Xm&&Zn!==null){Xm=!0;var e=0,t=Oe;try{var r=Zn;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zn=null,Nh=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),iC(m0,_a),i}finally{Oe=t,Xm=!1}}return null}var zs=[],Us=0,rf=null,nf=0,Qr=[],Yr=0,es=null,ri=1,ni="";function Na(e,t){zs[Us++]=nf,zs[Us++]=rf,rf=e,nf=t}function RC(e,t,r){Qr[Yr++]=ri,Qr[Yr++]=ni,Qr[Yr++]=es,es=e;var n=ri;e=ni;var i=32-wn(n)-1;n&=~(1<<i),r+=1;var a=32-wn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ri=1<<32-wn(t)+i|r<<i|n,ni=a+e}else ri=1<<a|r<<i|n,ni=e}function S0(e){e.return!==null&&(Na(e,1),RC(e,1,0))}function A0(e){for(;e===rf;)rf=zs[--Us],zs[Us]=null,nf=zs[--Us],zs[Us]=null;for(;e===es;)es=Qr[--Yr],Qr[Yr]=null,ni=Qr[--Yr],Qr[Yr]=null,ri=Qr[--Yr],Qr[Yr]=null}var Fr=null,Mr=null,Qe=!1,mn=null;function DC(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function CE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=es!==null?{id:ri,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fr=e,Mr=null,!0):!1;default:return!1}}function pv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mv(e){if(Qe){var t=Mr;if(t){var r=t;if(!CE(e,t)){if(pv(e))throw Error(W(418));t=Ji(r.nextSibling);var n=Fr;t&&CE(e,t)?DC(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Fr=e)}}else{if(pv(e))throw Error(W(418));e.flags=e.flags&-4097|2,Qe=!1,Fr=e}}}function IE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function Kc(e){if(e!==Fr)return!1;if(!Qe)return IE(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cv(e.type,e.memoizedProps)),t&&(t=Mr)){if(pv(e))throw MC(),Error(W(418));for(;t;)DC(e,t),t=Ji(t.nextSibling)}if(IE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=Ji(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Fr?Ji(e.stateNode.nextSibling):null;return!0}function MC(){for(var e=Mr;e;)e=Ji(e.nextSibling)}function oo(){Mr=Fr=null,Qe=!1}function P0(e){mn===null?mn=[e]:mn.push(e)}var vV=Pi.ReactCurrentBatchConfig;function pl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jE(e){var t=e._init;return t(e._payload)}function LC(e){function t(_,b){if(e){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=na(_,b),_.index=0,_.sibling=null,_}function a(_,b,E){return _.index=E,e?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,b,E,I){return b===null||b.tag!==6?(b=ig(E,_.mode,I),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,I){var T=E.type;return T===Ds?c(_,b,E.props.children,I,E.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$i&&jE(T)===b.type)?(I=i(b,E.props),I.ref=pl(_,b,E),I.return=_,I):(I=Nd(E.type,E.key,E.props,null,_.mode,I),I.ref=pl(_,b,E),I.return=_,I)}function u(_,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=ag(E,_.mode,I),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function c(_,b,E,I,T){return b===null||b.tag!==7?(b=Ha(E,_.mode,I,T),b.return=_,b):(b=i(b,E),b.return=_,b)}function d(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ig(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mc:return E=Nd(b.type,b.key,b.props,null,_.mode,E),E.ref=pl(_,null,b),E.return=_,E;case Rs:return b=ag(b,_.mode,E),b.return=_,b;case $i:var I=b._init;return d(_,I(b._payload),E)}if(Pl(b)||ul(b))return b=Ha(b,_.mode,E,null),b.return=_,b;Hc(_,b)}return null}function p(_,b,E,I){var T=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:o(_,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:return E.key===T?l(_,b,E,I):null;case Rs:return E.key===T?u(_,b,E,I):null;case $i:return T=E._init,p(_,b,T(E._payload),I)}if(Pl(E)||ul(E))return T!==null?null:c(_,b,E,I,null);Hc(_,E)}return null}function m(_,b,E,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(E)||null,o(b,_,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Mc:return _=_.get(I.key===null?E:I.key)||null,l(b,_,I,T);case Rs:return _=_.get(I.key===null?E:I.key)||null,u(b,_,I,T);case $i:var O=I._init;return m(_,b,E,O(I._payload),T)}if(Pl(I)||ul(I))return _=_.get(E)||null,c(b,_,I,T,null);Hc(b,I)}return null}function g(_,b,E,I){for(var T=null,O=null,S=b,A=b=0,j=null;S!==null&&A<E.length;A++){S.index>A?(j=S,S=null):j=S.sibling;var D=p(_,S,E[A],I);if(D===null){S===null&&(S=j);break}e&&S&&D.alternate===null&&t(_,S),b=a(D,b,A),O===null?T=D:O.sibling=D,O=D,S=j}if(A===E.length)return r(_,S),Qe&&Na(_,A),T;if(S===null){for(;A<E.length;A++)S=d(_,E[A],I),S!==null&&(b=a(S,b,A),O===null?T=S:O.sibling=S,O=S);return Qe&&Na(_,A),T}for(S=n(_,S);A<E.length;A++)j=m(S,_,A,E[A],I),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?A:j.key),b=a(j,b,A),O===null?T=j:O.sibling=j,O=j);return e&&S.forEach(function(C){return t(_,C)}),Qe&&Na(_,A),T}function w(_,b,E,I){var T=ul(E);if(typeof T!="function")throw Error(W(150));if(E=T.call(E),E==null)throw Error(W(151));for(var O=T=null,S=b,A=b=0,j=null,D=E.next();S!==null&&!D.done;A++,D=E.next()){S.index>A?(j=S,S=null):j=S.sibling;var C=p(_,S,D.value,I);if(C===null){S===null&&(S=j);break}e&&S&&C.alternate===null&&t(_,S),b=a(C,b,A),O===null?T=C:O.sibling=C,O=C,S=j}if(D.done)return r(_,S),Qe&&Na(_,A),T;if(S===null){for(;!D.done;A++,D=E.next())D=d(_,D.value,I),D!==null&&(b=a(D,b,A),O===null?T=D:O.sibling=D,O=D);return Qe&&Na(_,A),T}for(S=n(_,S);!D.done;A++,D=E.next())D=m(S,_,A,D.value,I),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=a(D,b,A),O===null?T=D:O.sibling=D,O=D);return e&&S.forEach(function(k){return t(_,k)}),Qe&&Na(_,A),T}function v(_,b,E,I){if(typeof E=="object"&&E!==null&&E.type===Ds&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:e:{for(var T=E.key,O=b;O!==null;){if(O.key===T){if(T=E.type,T===Ds){if(O.tag===7){r(_,O.sibling),b=i(O,E.props.children),b.return=_,_=b;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$i&&jE(T)===O.type){r(_,O.sibling),b=i(O,E.props),b.ref=pl(_,O,E),b.return=_,_=b;break e}r(_,O);break}else t(_,O);O=O.sibling}E.type===Ds?(b=Ha(E.props.children,_.mode,I,E.key),b.return=_,_=b):(I=Nd(E.type,E.key,E.props,null,_.mode,I),I.ref=pl(_,b,E),I.return=_,_=I)}return s(_);case Rs:e:{for(O=E.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=ag(E,_.mode,I),b.return=_,_=b}return s(_);case $i:return O=E._init,v(_,b,O(E._payload),I)}if(Pl(E))return g(_,b,E,I);if(ul(E))return w(_,b,E,I);Hc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,E),b.return=_,_=b):(r(_,b),b=ig(E,_.mode,I),b.return=_,_=b),s(_)):r(_,b)}return v}var lo=LC(!0),VC=LC(!1),af=xa(null),sf=null,Bs=null,T0=null;function C0(){T0=Bs=sf=null}function I0(e){var t=af.current;Ke(af),e._currentValue=t}function gv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){sf=e,T0=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Er=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(T0!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(sf===null)throw Error(W(308));Bs=e,sf.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var $a=null;function j0(e){$a===null?$a=[e]:$a.push(e)}function FC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,j0(t)):(r.next=i.next,i.next=r),t.interleaved=r,fi(e,n)}function fi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function O0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $C(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,fi(e,r)}return i=n.interleaved,i===null?(t.next=t,j0(n)):(t.next=i.next,i.next=t),n.interleaved=t,fi(e,r)}function Pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}function OE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function of(e,t,r,n){var i=e.updateQueue;zi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,w=o;switch(p=t,m=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=tt({},d,p);break e;case 2:zi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);rs|=s,e.lanes=s,e.memoizedState=d}}function NE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Uu={},Ln=xa(Uu),lu=xa(Uu),uu=xa(Uu);function za(e){if(e===Uu)throw Error(W(174));return e}function N0(e,t){switch(Fe(uu,t),Fe(lu,e),Fe(Ln,Uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yg(t,e)}Ke(Ln),Fe(Ln,t)}function uo(){Ke(Ln),Ke(lu),Ke(uu)}function zC(e){za(uu.current);var t=za(Ln.current),r=Yg(t,e.type);t!==r&&(Fe(lu,e),Fe(Ln,r))}function k0(e){lu.current===e&&(Ke(Ln),Ke(lu))}var Je=xa(0);function lf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zm=[];function R0(){for(var e=0;e<Zm.length;e++)Zm[e]._workInProgressVersionPrimary=null;Zm.length=0}var Td=Pi.ReactCurrentDispatcher,Jm=Pi.ReactCurrentBatchConfig,ts=0,et=null,St=null,Vt=null,uf=!1,zl=!1,cu=0,yV=0;function Jt(){throw Error(W(321))}function D0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function M0(e,t,r,n,i,a){if(ts=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Td.current=e===null||e.memoizedState===null?bV:EV,e=r(n,i),zl){a=0;do{if(zl=!1,cu=0,25<=a)throw Error(W(301));a+=1,Vt=St=null,t.updateQueue=null,Td.current=SV,e=r(n,i)}while(zl)}if(Td.current=cf,t=St!==null&&St.next!==null,ts=0,Vt=St=et=null,uf=!1,t)throw Error(W(300));return e}function L0(){var e=cu!==0;return cu=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function nn(){if(St===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Vt===null?et.memoizedState:Vt.next;if(t!==null)Vt=t,St=e;else{if(e===null)throw Error(W(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function du(e,t){return typeof t=="function"?t(e):t}function eg(e){var t=nn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((ts&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,et.lanes|=c,rs|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,bn(n,t.memoizedState)||(Er=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,rs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tg(e){var t=nn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);bn(a,t.memoizedState)||(Er=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function UC(){}function BC(e,t){var r=et,n=nn(),i=t(),a=!bn(n.memoizedState,i);if(a&&(n.memoizedState=i,Er=!0),n=n.queue,V0(KC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,fu(9,WC.bind(null,r,n,i,t),void 0,null),$t===null)throw Error(W(349));ts&30||qC(r,t,i)}return i}function qC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WC(e,t,r,n){t.value=r,t.getSnapshot=n,HC(t)&&GC(e)}function KC(e,t,r){return r(function(){HC(t)&&GC(e)})}function HC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch{return!0}}function GC(e){var t=fi(e,1);t!==null&&xn(t,e,1,-1)}function kE(e){var t=Nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:e},t.queue=e,e=e.dispatch=_V.bind(null,et,e),[t.memoizedState,e]}function fu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QC(){return nn().memoizedState}function Cd(e,t,r,n){var i=Nn();et.flags|=e,i.memoizedState=fu(1|t,r,void 0,n===void 0?null:n)}function kh(e,t,r,n){var i=nn();n=n===void 0?null:n;var a=void 0;if(St!==null){var s=St.memoizedState;if(a=s.destroy,n!==null&&D0(n,s.deps)){i.memoizedState=fu(t,r,a,n);return}}et.flags|=e,i.memoizedState=fu(1|t,r,a,n)}function RE(e,t){return Cd(8390656,8,e,t)}function V0(e,t){return kh(2048,8,e,t)}function YC(e,t){return kh(4,2,e,t)}function XC(e,t){return kh(4,4,e,t)}function ZC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JC(e,t,r){return r=r!=null?r.concat([e]):null,kh(4,4,ZC.bind(null,t,e),r)}function F0(){}function eI(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tI(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rI(e,t,r){return ts&21?(bn(r,t)||(r=oC(),et.lanes|=r,rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=r)}function wV(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Jm.transition;Jm.transition={};try{e(!1),t()}finally{Oe=r,Jm.transition=n}}function nI(){return nn().memoizedState}function xV(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iI(e))aI(t,r);else if(r=FC(e,t,r,n),r!==null){var i=hr();xn(r,e,n,i),sI(r,t,n)}}function _V(e,t,r){var n=ra(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iI(e))aI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,bn(o,s)){var l=t.interleaved;l===null?(i.next=i,j0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=FC(e,t,i,n),r!==null&&(i=hr(),xn(r,e,n,i),sI(r,t,n))}}function iI(e){var t=e.alternate;return e===et||t!==null&&t===et}function aI(e,t){zl=uf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,g0(e,r)}}var cf={readContext:rn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},bV={readContext:rn,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:RE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cd(4194308,4,ZC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cd(4,2,e,t)},useMemo:function(e,t){var r=Nn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xV.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:kE,useDebugValue:F0,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=kE(!1),t=e[0];return e=wV.bind(null,e[1]),Nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,i=Nn();if(Qe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),$t===null)throw Error(W(349));ts&30||qC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,RE(KC.bind(null,n,a,e),[e]),n.flags|=2048,fu(9,WC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Nn(),t=$t.identifierPrefix;if(Qe){var r=ni,n=ri;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EV={readContext:rn,useCallback:eI,useContext:rn,useEffect:V0,useImperativeHandle:JC,useInsertionEffect:YC,useLayoutEffect:XC,useMemo:tI,useReducer:eg,useRef:QC,useState:function(){return eg(du)},useDebugValue:F0,useDeferredValue:function(e){var t=nn();return rI(t,St.memoizedState,e)},useTransition:function(){var e=eg(du)[0],t=nn().memoizedState;return[e,t]},useMutableSource:UC,useSyncExternalStore:BC,useId:nI,unstable_isNewReconciler:!1},SV={readContext:rn,useCallback:eI,useContext:rn,useEffect:V0,useImperativeHandle:JC,useInsertionEffect:YC,useLayoutEffect:XC,useMemo:tI,useReducer:tg,useRef:QC,useState:function(){return tg(du)},useDebugValue:F0,useDeferredValue:function(e){var t=nn();return St===null?t.memoizedState=e:rI(t,St.memoizedState,e)},useTransition:function(){var e=tg(du)[0],t=nn().memoizedState;return[e,t]},useMutableSource:UC,useSyncExternalStore:BC,useId:nI,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rh={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),i=ra(e),a=si(n,i);a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),i=ra(e),a=si(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(xn(t,e,i,n),Pd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=ra(e),i=si(r,n);i.tag=2,t!=null&&(i.callback=t),t=ea(e,i,n),t!==null&&(xn(t,e,n,r),Pd(t,e,n))}};function DE(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!iu(r,n)||!iu(i,a):!0}function oI(e,t,r){var n=!1,i=ca,a=t.contextType;return typeof a=="object"&&a!==null?a=rn(a):(i=Pr(t)?Ja:lr.current,n=t.contextTypes,a=(n=n!=null)?so(e,i):ca),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ME(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rh.enqueueReplaceState(t,t.state,null)}function yv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},O0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=rn(a):(a=Pr(t)?Ja:lr.current,i.context=so(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(vv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rh.enqueueReplaceState(i,i.state,null),of(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var r="",n=t;do r+=ZM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function rg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AV=typeof WeakMap=="function"?WeakMap:Map;function lI(e,t,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ff||(ff=!0,Iv=n),wv(e,t)},r}function uI(e,t,r){r=si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){wv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wv(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function LE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=FV.bind(null,e,t,r),t.then(e,e))}function VE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=si(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var PV=Pi.ReactCurrentOwner,Er=!1;function cr(e,t,r,n){t.child=e===null?VC(t,null,r,n):lo(t,e.child,r,n)}function $E(e,t,r,n,i){r=r.render;var a=t.ref;return Zs(t,i),n=M0(e,t,r,n,a,i),r=L0(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&r&&S0(t),t.flags|=1,cr(e,t,n,i),t.child)}function zE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!H0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,cI(e,t,a,n,i)):(e=Nd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:iu,r(s,n)&&e.ref===t.ref)return hi(e,t,i)}return t.flags|=1,e=na(a,n),e.ref=t.ref,e.return=t,t.child=e}function cI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(iu(a,n)&&e.ref===t.ref)if(Er=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Er=!0);else return t.lanes=e.lanes,hi(e,t,i)}return xv(e,t,r,n,i)}function dI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ws,kr),kr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Ws,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Fe(Ws,kr),kr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Fe(Ws,kr),kr|=n;return cr(e,t,i,r),t.child}function fI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xv(e,t,r,n,i){var a=Pr(r)?Ja:lr.current;return a=so(t,a),Zs(t,i),r=M0(e,t,r,n,a,i),n=L0(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Qe&&n&&S0(t),t.flags|=1,cr(e,t,r,i),t.child)}function UE(e,t,r,n,i){if(Pr(r)){var a=!0;tf(t)}else a=!1;if(Zs(t,i),t.stateNode===null)Id(e,t),oI(t,r,n),yv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Pr(r)?Ja:lr.current,u=so(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ME(t,s,n,u),zi=!1;var p=t.memoizedState;s.state=p,of(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Ar.current||zi?(typeof c=="function"&&(vv(t,r,c,n),l=t.memoizedState),(o=zi||DE(t,r,o,n,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,$C(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:hn(t.type,o),s.props=u,d=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Pr(r)?Ja:lr.current,l=so(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&ME(t,s,n,l),zi=!1,p=t.memoizedState,s.state=p,of(t,n,s,i);var g=t.memoizedState;o!==d||p!==g||Ar.current||zi?(typeof m=="function"&&(vv(t,r,m,n),g=t.memoizedState),(u=zi||DE(t,r,u,n,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return _v(e,t,r,n,a,i)}function _v(e,t,r,n,i,a){fI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&TE(t,r,!1),hi(e,t,a);n=t.stateNode,PV.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=lo(t,e.child,null,a),t.child=lo(t,null,o,a)):cr(e,t,o,a),t.memoizedState=n.state,i&&TE(t,r,!0),t.child}function hI(e){var t=e.stateNode;t.pendingContext?PE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PE(e,t.context,!1),N0(e,t.containerInfo)}function BE(e,t,r,n,i){return oo(),P0(i),t.flags|=256,cr(e,t,r,n),t.child}var bv={dehydrated:null,treeContext:null,retryLane:0};function Ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function pI(e,t,r){var n=t.pendingProps,i=Je.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Je,i&1),e===null)return mv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lh(s,n,0,null),e=Ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ev(r),t.memoizedState=bv,e):$0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return TV(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=na(o,a):(a=Ha(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Ev(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=bv,n}return a=e.child,e=a.sibling,n=na(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $0(e,t){return t=Lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,r,n){return n!==null&&P0(n),lo(t,e.child,null,r),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TV(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=rg(Error(W(422))),Gc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Lh({mode:"visible",children:n.children},i,0,null),a=Ha(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&lo(t,e.child,null,s),t.child.memoizedState=Ev(s),t.memoizedState=bv,a);if(!(t.mode&1))return Gc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(W(419)),n=rg(a,n,void 0),Gc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Er||o){if(n=$t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fi(e,i),xn(n,e,i,-1))}return K0(),n=rg(Error(W(421))),Gc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$V.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mr=Ji(i.nextSibling),Fr=t,Qe=!0,mn=null,e!==null&&(Qr[Yr++]=ri,Qr[Yr++]=ni,Qr[Yr++]=es,ri=e.id,ni=e.overflow,es=t),t=$0(t,n.children),t.flags|=4096,t)}function qE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gv(e.return,t,r)}function ng(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function mI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(cr(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qE(e,r,t);else if(e.tag===19)qE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&lf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ng(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ng(t,!0,r,null,a);break;case"together":ng(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CV(e,t,r){switch(t.tag){case 3:hI(t),oo();break;case 5:zC(t);break;case 1:Pr(t.type)&&tf(t);break;case 4:N0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Fe(af,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?pI(e,t,r):(Fe(Je,Je.current&1),e=hi(e,t,r),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,dI(e,t,r)}return hi(e,t,r)}var gI,Sv,vI,yI;gI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sv=function(){};vI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,za(Ln.current);var a=null;switch(r){case"input":i=Kg(e,i),n=Kg(e,n),a=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),a=[];break;case"textarea":i=Qg(e,i),n=Qg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jd)}Xg(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yI=function(e,t,r,n){r!==n&&(t.flags|=4)};function ml(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IV(e,t,r){var n=t.pendingProps;switch(A0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Pr(t.type)&&ef(),er(t),null;case 3:return n=t.stateNode,uo(),Ke(Ar),Ke(lr),R0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Nv(mn),mn=null))),Sv(e,t),er(t),null;case 5:k0(t);var i=za(uu.current);if(r=t.type,e!==null&&t.stateNode!=null)vI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return er(t),null}if(e=za(Ln.current),Kc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Rn]=t,n[ou]=a,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<Cl.length;i++)Be(Cl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Jb(n,a),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Be("invalid",n);break;case"textarea":tE(n,a),Be("invalid",n)}Xg(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wc(n.textContent,o,e),i=["children",""+o]):Xl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Be("scroll",n)}switch(r){case"input":Lc(n),eE(n,a,!0);break;case"textarea":Lc(n),rE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Jd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Rn]=t,e[ou]=n,gI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Zg(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cl.length;i++)Be(Cl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":Jb(e,n),i=Kg(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),Be("invalid",e);break;case"textarea":tE(e,n),i=Qg(e,n),Be("invalid",e);break;default:i=n}Xg(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?QT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Be("scroll",e):l!=null&&c0(e,a,l,s))}switch(r){case"input":Lc(e),eE(e,n,!1);break;case"textarea":Lc(e),rE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ua(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Gs(e,!!n.multiple,a,!1):n.defaultValue!=null&&Gs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)yI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=za(uu.current),za(Ln.current),Kc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rn]=t,(a=n.nodeValue!==r)&&(e=Fr,e!==null))switch(e.tag){case 3:Wc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rn]=t,t.stateNode=n}return er(t),null;case 13:if(Ke(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Mr!==null&&t.mode&1&&!(t.flags&128))MC(),oo(),t.flags|=98560,a=!1;else if(a=Kc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Rn]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),a=!1}else mn!==null&&(Nv(mn),mn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?Tt===0&&(Tt=3):K0())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return uo(),Sv(e,t),e===null&&au(t.stateNode.containerInfo),er(t),null;case 10:return I0(t.type._context),er(t),null;case 17:return Pr(t.type)&&ef(),er(t),null;case 19:if(Ke(Je),a=t.memoizedState,a===null)return er(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ml(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=lf(e),s!==null){for(t.flags|=128,ml(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>fo&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304)}else{if(!n)if(e=lf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return er(t),null}else 2*ct()-a.renderingStartTime>fo&&r!==1073741824&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=Je.current,Fe(Je,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return W0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kr&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function jV(e,t){switch(A0(t),t.tag){case 1:return Pr(t.type)&&ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Ke(Ar),Ke(lr),R0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(Ke(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Je),null;case 4:return uo(),null;case 10:return I0(t.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var Qc=!1,ir=!1,OV=typeof WeakSet=="function"?WeakSet:Set,J=null;function qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function Av(e,t,r){try{r()}catch(n){at(e,t,n)}}var WE=!1;function NV(e,t){if(lv=Yd,e=EC(),E0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uv={focusedElem:e,selectionRange:r},Yd=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,v=g.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?w:hn(t.type,w),v);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){at(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=WE,WE=!1,g}function Ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Av(t,r,a)}i=i.next}while(i!==n)}}function Dh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wI(e){var t=e.alternate;t!==null&&(e.alternate=null,wI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[ou],delete t[fv],delete t[pV],delete t[mV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xI(e){return e.tag===5||e.tag===3||e.tag===4}function KE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jd));else if(n!==4&&(e=e.child,e!==null))for(Tv(e,t,r),e=e.sibling;e!==null;)Tv(e,t,r),e=e.sibling}function Cv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cv(e,t,r),e=e.sibling;e!==null;)Cv(e,t,r),e=e.sibling}var Kt=null,pn=!1;function Fi(e,t,r){for(r=r.child;r!==null;)_I(e,t,r),r=r.sibling}function _I(e,t,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Th,r)}catch{}switch(r.tag){case 5:ir||qs(r,t);case 6:var n=Kt,i=pn;Kt=null,Fi(e,t,r),Kt=n,pn=i,Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(pn?(e=Kt,r=r.stateNode,e.nodeType===8?Ym(e.parentNode,r):e.nodeType===1&&Ym(e,r),ru(e)):Ym(Kt,r.stateNode));break;case 4:n=Kt,i=pn,Kt=r.stateNode.containerInfo,pn=!0,Fi(e,t,r),Kt=n,pn=i;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Av(r,t,s),i=i.next}while(i!==n)}Fi(e,t,r);break;case 1:if(!ir&&(qs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){at(r,t,o)}Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Fi(e,t,r),ir=n):Fi(e,t,r);break;default:Fi(e,t,r)}}function HE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OV),t.forEach(function(n){var i=zV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,pn=!1;break e;case 3:Kt=o.stateNode.containerInfo,pn=!0;break e;case 4:Kt=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(Kt===null)throw Error(W(160));_I(a,s,i),Kt=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bI(t,e),t=t.sibling}function bI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),On(e),n&4){try{Ul(3,e,e.return),Dh(3,e)}catch(w){at(e,e.return,w)}try{Ul(5,e,e.return)}catch(w){at(e,e.return,w)}}break;case 1:dn(t,e),On(e),n&512&&r!==null&&qs(r,r.return);break;case 5:if(dn(t,e),On(e),n&512&&r!==null&&qs(r,r.return),e.flags&32){var i=e.stateNode;try{Zl(i,"")}catch(w){at(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&qT(i,a),Zg(o,s);var u=Zg(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?QT(i,d):c==="dangerouslySetInnerHTML"?HT(i,d):c==="children"?Zl(i,d):c0(i,c,d,u)}switch(o){case"input":Hg(i,a);break;case"textarea":WT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Gs(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Gs(i,!!a.multiple,a.defaultValue,!0):Gs(i,!!a.multiple,a.multiple?[]:"",!1))}i[ou]=a}catch(w){at(e,e.return,w)}}break;case 6:if(dn(t,e),On(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){at(e,e.return,w)}}break;case 3:if(dn(t,e),On(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(w){at(e,e.return,w)}break;case 4:dn(t,e),On(e);break;case 13:dn(t,e),On(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=ct())),n&4&&HE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(u=ir)||c,dn(t,e),ir=u):dn(t,e),On(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ul(4,p,p.return);break;case 1:qs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){at(n,r,w)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){QE(d);continue}}m!==null?(m.return=p,J=m):QE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=GT("display",s))}catch(w){at(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){at(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dn(t,e),On(e),n&4&&HE(e);break;case 21:break;default:dn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xI(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zl(i,""),n.flags&=-33);var a=KE(e);Cv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=KE(e);Tv(e,o,s);break;default:throw Error(W(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kV(e,t,r){J=e,EI(e)}function EI(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Qc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ir;o=Qc;var u=ir;if(Qc=s,(ir=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?YE(i):l!==null?(l.return=s,J=l):YE(i);for(;a!==null;)J=a,EI(a),a=a.sibling;J=i,Qc=o,ir=u}GE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):GE(e)}}function GE(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||Dh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:hn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&NE(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}NE(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ru(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ir||t.flags&512&&Pv(t)}catch(p){at(t,t.return,p)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function QE(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function YE(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dh(4,t)}catch(l){at(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){at(t,i,l)}}var a=t.return;try{Pv(t)}catch(l){at(t,a,l)}break;case 5:var s=t.return;try{Pv(t)}catch(l){at(t,s,l)}}}catch(l){at(t,t.return,l)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var RV=Math.ceil,df=Pi.ReactCurrentDispatcher,z0=Pi.ReactCurrentOwner,en=Pi.ReactCurrentBatchConfig,Ae=0,$t=null,gt=null,Yt=0,kr=0,Ws=xa(0),Tt=0,hu=null,rs=0,Mh=0,U0=0,Bl=null,_r=null,B0=0,fo=1/0,Xn=null,ff=!1,Iv=null,ta=null,Yc=!1,Gi=null,hf=0,ql=0,jv=null,jd=-1,Od=0;function hr(){return Ae&6?ct():jd!==-1?jd:jd=ct()}function ra(e){return e.mode&1?Ae&2&&Yt!==0?Yt&-Yt:vV.transition!==null?(Od===0&&(Od=oC()),Od):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:pC(e.type)),e):1}function xn(e,t,r,n){if(50<ql)throw ql=0,jv=null,Error(W(185));Fu(e,r,n),(!(Ae&2)||e!==$t)&&(e===$t&&(!(Ae&2)&&(Mh|=r),Tt===4&&Wi(e,Yt)),Tr(e,n),r===1&&Ae===0&&!(t.mode&1)&&(fo=ct()+500,Nh&&_a()))}function Tr(e,t){var r=e.callbackNode;vL(e,t);var n=Qd(e,e===$t?Yt:0);if(n===0)r!==null&&aE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&aE(r),t===1)e.tag===0?gV(XE.bind(null,e)):kC(XE.bind(null,e)),fV(function(){!(Ae&6)&&_a()}),r=null;else{switch(lC(n)){case 1:r=m0;break;case 4:r=aC;break;case 16:r=Gd;break;case 536870912:r=sC;break;default:r=Gd}r=OI(r,SI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SI(e,t){if(jd=-1,Od=0,Ae&6)throw Error(W(327));var r=e.callbackNode;if(Js()&&e.callbackNode!==r)return null;var n=Qd(e,e===$t?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pf(e,n);else{t=n;var i=Ae;Ae|=2;var a=PI();($t!==e||Yt!==t)&&(Xn=null,fo=ct()+500,Ka(e,t));do try{LV();break}catch(o){AI(e,o)}while(!0);C0(),df.current=a,Ae=i,gt!==null?t=0:($t=null,Yt=0,t=Tt)}if(t!==0){if(t===2&&(i=nv(e),i!==0&&(n=i,t=Ov(e,i))),t===1)throw r=hu,Ka(e,0),Wi(e,n),Tr(e,ct()),r;if(t===6)Wi(e,n);else{if(i=e.current.alternate,!(n&30)&&!DV(i)&&(t=pf(e,n),t===2&&(a=nv(e),a!==0&&(n=a,t=Ov(e,a))),t===1))throw r=hu,Ka(e,0),Wi(e,n),Tr(e,ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:ka(e,_r,Xn);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=B0+500-ct(),10<t)){if(Qd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dv(ka.bind(null,e,_r,Xn),t);break}ka(e,_r,Xn);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-wn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RV(n/1960))-n,10<n){e.timeoutHandle=dv(ka.bind(null,e,_r,Xn),n);break}ka(e,_r,Xn);break;case 5:ka(e,_r,Xn);break;default:throw Error(W(329))}}}return Tr(e,ct()),e.callbackNode===r?SI.bind(null,e):null}function Ov(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=pf(e,t),e!==2&&(t=_r,_r=r,t!==null&&Nv(t)),e}function Nv(e){_r===null?_r=e:_r.push.apply(_r,e)}function DV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~U0,t&=~Mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wn(t),n=1<<r;e[r]=-1,t&=~n}}function XE(e){if(Ae&6)throw Error(W(327));Js();var t=Qd(e,0);if(!(t&1))return Tr(e,ct()),null;var r=pf(e,t);if(e.tag!==0&&r===2){var n=nv(e);n!==0&&(t=n,r=Ov(e,n))}if(r===1)throw r=hu,Ka(e,0),Wi(e,t),Tr(e,ct()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,_r,Xn),Tr(e,ct()),null}function q0(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(fo=ct()+500,Nh&&_a())}}function ns(e){Gi!==null&&Gi.tag===0&&!(Ae&6)&&Js();var t=Ae;Ae|=1;var r=en.transition,n=Oe;try{if(en.transition=null,Oe=1,e)return e()}finally{Oe=n,en.transition=r,Ae=t,!(Ae&6)&&_a()}}function W0(){kr=Ws.current,Ke(Ws)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dV(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(A0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ef();break;case 3:uo(),Ke(Ar),Ke(lr),R0();break;case 5:k0(n);break;case 4:uo();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:I0(n.type._context);break;case 22:case 23:W0()}r=r.return}if($t=e,gt=e=na(e.current,null),Yt=kr=t,Tt=0,hu=null,U0=Mh=rs=0,_r=Bl=null,$a!==null){for(t=0;t<$a.length;t++)if(r=$a[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}$a=null}return e}function AI(e,t){do{var r=gt;try{if(C0(),Td.current=cf,uf){for(var n=et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uf=!1}if(ts=0,Vt=St=et=null,zl=!1,cu=0,z0.current=null,r===null||r.return===null){Tt=1,hu=t,gt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Yt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=VE(s);if(m!==null){m.flags&=-257,FE(m,s,o,a,t),m.mode&1&&LE(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){LE(a,u,t),K0();break e}l=Error(W(426))}}else if(Qe&&o.mode&1){var v=VE(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),FE(v,s,o,a,t),P0(co(l,o));break e}}a=l=co(l,o),Tt!==4&&(Tt=2),Bl===null?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=lI(a,l,t);OE(a,_);break e;case 1:o=l;var b=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ta===null||!ta.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=uI(a,o,t);OE(a,I);break e}}a=a.return}while(a!==null)}CI(r)}catch(T){t=T,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function PI(){var e=df.current;return df.current=cf,e===null?cf:e}function K0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(rs&268435455)&&!(Mh&268435455)||Wi($t,Yt)}function pf(e,t){var r=Ae;Ae|=2;var n=PI();($t!==e||Yt!==t)&&(Xn=null,Ka(e,t));do try{MV();break}catch(i){AI(e,i)}while(!0);if(C0(),Ae=r,df.current=n,gt!==null)throw Error(W(261));return $t=null,Yt=0,Tt}function MV(){for(;gt!==null;)TI(gt)}function LV(){for(;gt!==null&&!lL();)TI(gt)}function TI(e){var t=jI(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?CI(e):gt=t,z0.current=null}function CI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jV(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,gt=null;return}}else if(r=IV(r,t,kr),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);Tt===0&&(Tt=5)}function ka(e,t,r){var n=Oe,i=en.transition;try{en.transition=null,Oe=1,VV(e,t,r,n)}finally{en.transition=i,Oe=n}return null}function VV(e,t,r,n){do Js();while(Gi!==null);if(Ae&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(yL(e,a),e===$t&&(gt=$t=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yc||(Yc=!0,OI(Gd,function(){return Js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=en.transition,en.transition=null;var s=Oe;Oe=1;var o=Ae;Ae|=4,z0.current=null,NV(e,r),bI(r,e),iV(uv),Yd=!!lv,uv=lv=null,e.current=r,kV(r),uL(),Ae=o,Oe=s,en.transition=a}else e.current=r;if(Yc&&(Yc=!1,Gi=e,hf=i),a=e.pendingLanes,a===0&&(ta=null),fL(r.stateNode),Tr(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ff)throw ff=!1,e=Iv,Iv=null,e;return hf&1&&e.tag!==0&&Js(),a=e.pendingLanes,a&1?e===jv?ql++:(ql=0,jv=e):ql=0,_a(),null}function Js(){if(Gi!==null){var e=lC(hf),t=en.transition,r=Oe;try{if(en.transition=null,Oe=16>e?16:e,Gi===null)var n=!1;else{if(e=Gi,Gi=null,hf=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,J=e.current;J!==null;){var a=J,s=a.child;if(J.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ul(8,c,a)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var p=c.sibling,m=c.return;if(wI(c),c===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}J=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,J=s;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ul(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}var b=e.current;for(J=b;J!==null;){s=J;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,J=E;else e:for(s=b;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dh(9,o)}}catch(T){at(o,o.return,T)}if(o===s){J=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,J=I;break e}J=o.return}}if(Ae=i,_a(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Th,e)}catch{}n=!0}return n}finally{Oe=r,en.transition=t}}return!1}function ZE(e,t,r){t=co(r,t),t=lI(e,t,1),e=ea(e,t,1),t=hr(),e!==null&&(Fu(e,1,t),Tr(e,t))}function at(e,t,r){if(e.tag===3)ZE(e,e,r);else for(;t!==null;){if(t.tag===3){ZE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=co(r,e),e=uI(t,e,1),t=ea(t,e,1),e=hr(),t!==null&&(Fu(t,1,e),Tr(t,e));break}}t=t.return}}function FV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,$t===e&&(Yt&r)===r&&(Tt===4||Tt===3&&(Yt&130023424)===Yt&&500>ct()-B0?Ka(e,0):U0|=r),Tr(e,t)}function II(e,t){t===0&&(e.mode&1?(t=$c,$c<<=1,!($c&130023424)&&($c=4194304)):t=1);var r=hr();e=fi(e,t),e!==null&&(Fu(e,t,r),Tr(e,r))}function $V(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),II(e,r)}function zV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),II(e,r)}var jI;jI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)Er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Er=!1,CV(e,t,r);Er=!!(e.flags&131072)}else Er=!1,Qe&&t.flags&1048576&&RC(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Id(e,t),e=t.pendingProps;var i=so(t,lr.current);Zs(t,r),i=M0(null,t,n,e,i,r);var a=L0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(a=!0,tf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O0(t),i.updater=Rh,t.stateNode=i,i._reactInternals=t,yv(t,n,e,r),t=_v(null,t,n,!0,a,r)):(t.tag=0,Qe&&a&&S0(t),cr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=BV(n),e=hn(n,e),i){case 0:t=xv(null,t,n,e,r);break e;case 1:t=UE(null,t,n,e,r);break e;case 11:t=$E(null,t,n,e,r);break e;case 14:t=zE(null,t,n,hn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),xv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),UE(e,t,n,i,r);case 3:e:{if(hI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,$C(e,t),of(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=co(Error(W(423)),t),t=BE(e,t,n,r,i);break e}else if(n!==i){i=co(Error(W(424)),t),t=BE(e,t,n,r,i);break e}else for(Mr=Ji(t.stateNode.containerInfo.firstChild),Fr=t,Qe=!0,mn=null,r=VC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),n===i){t=hi(e,t,r);break e}cr(e,t,n,r)}t=t.child}return t;case 5:return zC(t),e===null&&mv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,cv(n,i)?s=null:a!==null&&cv(n,a)&&(t.flags|=32),fI(e,t),cr(e,t,s,r),t.child;case 6:return e===null&&mv(t),null;case 13:return pI(e,t,r);case 4:return N0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lo(t,null,n,r):cr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),$E(e,t,n,i,r);case 7:return cr(e,t,t.pendingProps,r),t.child;case 8:return cr(e,t,t.pendingProps.children,r),t.child;case 12:return cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Fe(af,n._currentValue),n._currentValue=s,a!==null)if(bn(a.value,s)){if(a.children===i.children&&!Ar.current){t=hi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=si(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(W(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),gv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}cr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zs(t,r),i=rn(i),n=n(i),t.flags|=1,cr(e,t,n,r),t.child;case 14:return n=t.type,i=hn(n,t.pendingProps),i=hn(n.type,i),zE(e,t,n,i,r);case 15:return cI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hn(n,i),Id(e,t),t.tag=1,Pr(n)?(e=!0,tf(t)):e=!1,Zs(t,r),oI(t,n,i),yv(t,n,i,r),_v(null,t,n,!0,e,r);case 19:return mI(e,t,r);case 22:return dI(e,t,r)}throw Error(W(156,t.tag))};function OI(e,t){return iC(e,t)}function UV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new UV(e,t,r,n)}function H0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BV(e){if(typeof e=="function")return H0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===f0)return 11;if(e===h0)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nd(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")H0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ds:return Ha(r.children,i,a,t);case d0:s=8,i|=8;break;case Ug:return e=Zr(12,r,t,i|2),e.elementType=Ug,e.lanes=a,e;case Bg:return e=Zr(13,r,t,i),e.elementType=Bg,e.lanes=a,e;case qg:return e=Zr(19,r,t,i),e.elementType=qg,e.lanes=a,e;case zT:return Lh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FT:s=10;break e;case $T:s=9;break e;case f0:s=11;break e;case h0:s=14;break e;case $i:s=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Zr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ha(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function Lh(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=zT,e.lanes=r,e.stateNode={isHidden:!1},e}function ig(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function ag(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(e,t,r,n,i,a,s,o,l){return e=new qV(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},O0(a),e}function WV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function NI(e){if(!e)return ca;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Pr(r))return NC(e,r,t)}return t}function kI(e,t,r,n,i,a,s,o,l){return e=G0(r,n,!0,e,i,a,s,o,l),e.context=NI(null),r=e.current,n=hr(),i=ra(r),a=si(n,i),a.callback=t??null,ea(r,a,i),e.current.lanes=i,Fu(e,i,n),Tr(e,n),e}function Vh(e,t,r,n){var i=t.current,a=hr(),s=ra(i);return r=NI(r),t.context===null?t.context=r:t.pendingContext=r,t=si(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(i,t,s),e!==null&&(xn(e,i,s,a),Pd(e,i,s)),s}function mf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q0(e,t){JE(e,t),(e=e.alternate)&&JE(e,t)}function KV(){return null}var RI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y0(e){this._internalRoot=e}Fh.prototype.render=Y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Vh(e,t,null,null)};Fh.prototype.unmount=Y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){Vh(null,e,null,null)}),t[di]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=dC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qi.length&&t!==0&&t<qi[r].priority;r++);qi.splice(r,0,e),r===0&&hC(e)}};function X0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e1(){}function HV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=mf(s);a.call(u)}}var s=kI(t,n,e,0,null,!1,!1,"",e1);return e._reactRootContainer=s,e[di]=s.current,au(e.nodeType===8?e.parentNode:e),ns(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=mf(l);o.call(u)}}var l=G0(e,0,!1,null,null,!1,!1,"",e1);return e._reactRootContainer=l,e[di]=l.current,au(e.nodeType===8?e.parentNode:e),ns(function(){Vh(t,l,r,n)}),l}function zh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=mf(s);o.call(l)}}Vh(t,s,e,i)}else s=HV(r,t,e,i,n);return mf(s)}uC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Tl(t.pendingLanes);r!==0&&(g0(t,r|1),Tr(t,ct()),!(Ae&6)&&(fo=ct()+500,_a()))}break;case 13:ns(function(){var n=fi(e,1);if(n!==null){var i=hr();xn(n,e,1,i)}}),Q0(e,1)}};v0=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var r=hr();xn(t,e,134217728,r)}Q0(e,134217728)}};cC=function(e){if(e.tag===13){var t=ra(e),r=fi(e,t);if(r!==null){var n=hr();xn(r,e,t,n)}Q0(e,t)}};dC=function(){return Oe};fC=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};ev=function(e,t,r){switch(t){case"input":if(Hg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Oh(n);if(!i)throw Error(W(90));BT(n),Hg(n,i)}}}break;case"textarea":WT(e,r);break;case"select":t=r.value,t!=null&&Gs(e,!!r.multiple,t,!1)}};ZT=q0;JT=ns;var GV={usingClientEntryPoint:!1,Events:[zu,Fs,Oh,YT,XT,q0]},gl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QV={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rC(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||KV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Th=Xc.inject(QV),Mn=Xc}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV;Br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(t))throw Error(W(200));return WV(e,t,null,r)};Br.createRoot=function(e,t){if(!X0(e))throw Error(W(299));var r=!1,n="",i=RI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=G0(e,1,!1,null,null,r,!1,n,i),e[di]=t.current,au(e.nodeType===8?e.parentNode:e),new Y0(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=rC(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return ns(e)};Br.hydrate=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!0,r)};Br.hydrateRoot=function(e,t,r){if(!X0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=RI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=kI(t,null,e,1,r??null,i,!1,a,s),e[di]=t.current,au(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fh(t)};Br.render=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!1,r)};Br.unmountComponentAtNode=function(e){if(!$h(e))throw Error(W(40));return e._reactRootContainer?(ns(function(){zh(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Br.unstable_batchedUpdates=q0;Br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$h(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return zh(e,t,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function DI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DI)}catch(e){console.error(e)}}DI(),DT.exports=Br;var Bn=DT.exports,t1=Bn;$g.createRoot=t1.createRoot,$g.hydrateRoot=t1.hydrateRoot;const r1="incidents",n1="automation_rules",i1="system_tags",YV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ge={getIncidents:()=>{try{const e=localStorage.getItem(r1);if(!e)return[];const t=JSON.parse(e);return YV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(r1,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ge.getIncidents();return t.push(e),ge.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ge.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ge.saveIncidents(r)),r},deleteIncident:e=>{const t=ge.getIncidents().filter(r=>r.id!==e);return ge.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},addTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r),ge.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(i1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(i1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ge.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ge.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ge.getSystemTags().filter(r=>r!==e);return ge.saveSystemTags(t),t},getAllTags:()=>ge.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ge.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ge.saveIncidents(t),ge.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ge.getIncidents(),a=i.find(s=>s.id===e);if(a){const s={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(s)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(s)),a.updatedAt=new Date().toISOString(),ge.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ge.getIncidents(),s=a.find(o=>o.id===e);if(s){let o=t==="qa2"?s.prQA2List:s.prMainList;if(o){const l=o.findIndex(u=>u.id===r);l!==-1&&(o[l]={...o[l],link:n,description:i},s.updatedAt=new Date().toISOString(),ge.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(n1);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(n1,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ge.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ge.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ge.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ge.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ge.getAutomationRules().filter(r=>r.id!==e);return ge.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ge.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(s=>{const o=n[s.field];switch(s.operator){case"equals":return o===s.value;case"not-equals":return o!==s.value;case"greater-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>s.value:!1;case"less-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<s.value:!1;case"contains":return s.field==="has-tag"&&n.tags?n.tags.includes(s.value):!1;default:return!1}})&&i.actions.forEach(s=>{switch(s.type){case"set-priority":n.priority=s.value;break;case"set-status":n.status=s.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(s.value)||n.tags.push(s.value);break;case"assign-to":n.assignedTo=s.value;break}})}),n}},a1="users",Zc="current_user",yr={getUsers:()=>{const e=localStorage.getItem(a1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(a1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=yr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),yr.saveUsers(n),i},login:(e,t)=>{const n=yr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Zc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Zc)},getCurrentUser:()=>{const e=localStorage.getItem(Zc);return e?JSON.parse(e):null},isAuthenticated:()=>yr.getCurrentUser()!==null,initializeDefaultUser:()=>{yr.getUsers().length===0&&yr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=yr.getUsers(),n=r.findIndex(s=>s.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(s=>s.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,yr.saveUsers(r);const a=yr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Zc,JSON.stringify(i)),i},deleteUser:e=>{const t=yr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");yr.saveUsers(r)}},XV=()=>{};var s1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},ZV=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},LI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new JV;const p=a<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e4=function(e){const t=MI(e);return LI.encodeByteArray(t,!0)},gf=function(e){return e4(e).replace(/\./g,"")},t4=function(e){try{return LI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>r4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof s1>"u")return;const e=s1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},a4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&t4(e[1]);return t&&JSON.parse(t)},Z0=()=>{try{return XV()||n4()||i4()||a4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},s4=e=>{var t,r;return(r=(t=Z0())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},o4=e=>{const t=s4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},VI=()=>{var e;return(e=Z0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gf(JSON.stringify(r)),gf(JSON.stringify(s)),""].join(".")}const Wl={};function d4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?e.emulator.push(t):e.prod.push(t);return e}function f4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let o1=!1;function h4(e,t){if(typeof window>"u"||typeof document>"u"||!J0(window.location.host)||Wl[e]===t||Wl[e]||o1)return;Wl[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=d4().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{o1=!0,s()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=f4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),w=r("learnmore"),v=document.getElementById(w)||document.createElement("a"),_=r("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;o(E),c(v,w);const I=u();l(b,_),E.append(b,g,v,I),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m4(){var t;const e=(t=Z0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return!m4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="FirebaseError";class ko extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=w4,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FI.prototype.create)}}class FI{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?x4(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ko(i,o,n)}}function x4(e,t){return e.replace(_4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const _4=/\{\$([^}]+)}/g;function vf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(l1(a)&&l1(s)){if(!vf(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function l1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(e){return e&&e._delegate?e._delegate:e}class pu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new l4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S4(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:E4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E4(e){return e===Ra?void 0:e}function S4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new b4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const P4={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},T4=Se.INFO,C4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},I4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=C4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $I{constructor(t){this.name=t,this._logLevel=T4,this._logHandler=I4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const j4=(e,t)=>t.some(r=>e instanceof r);let u1,c1;function O4(){return u1||(u1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N4(){return c1||(c1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zI=new WeakMap,kv=new WeakMap,UI=new WeakMap,sg=new WeakMap,ew=new WeakMap;function k4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(ia(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&zI.set(r,e)}).catch(()=>{}),ew.set(t,e),t}function R4(e){if(kv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});kv.set(e,t)}let Rv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return kv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D4(e){Rv=e(Rv)}function M4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(og(this),t,...r);return UI.set(n,t.sort?t.sort():[t]),ia(n)}:N4().includes(e)?function(...t){return e.apply(og(this),t),ia(zI.get(this))}:function(...t){return ia(e.apply(og(this),t))}}function L4(e){return typeof e=="function"?M4(e):(e instanceof IDBTransaction&&R4(e),j4(e,O4())?new Proxy(e,Rv):e)}function ia(e){if(e instanceof IDBRequest)return k4(e);if(sg.has(e))return sg.get(e);const t=L4(e);return t!==e&&(sg.set(e,t),ew.set(t,e)),t}const og=e=>ew.get(e);function V4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ia(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ia(s.result),l.oldVersion,l.newVersion,ia(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const F4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],lg=new Map;function d1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lg.get(t))return lg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=$4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||F4.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return lg.set(t,a),a}D4(e=>({...e,get:(t,r,n)=>d1(t,r)||e.get(t,r,n),has:(t,r)=>!!d1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(U4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function U4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dv="@firebase/app",f1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new $I("@firebase/app"),B4="@firebase/app-compat",q4="@firebase/analytics-compat",W4="@firebase/analytics",K4="@firebase/app-check-compat",H4="@firebase/app-check",G4="@firebase/auth",Q4="@firebase/auth-compat",Y4="@firebase/database",X4="@firebase/data-connect",Z4="@firebase/database-compat",J4="@firebase/functions",e3="@firebase/functions-compat",t3="@firebase/installations",r3="@firebase/installations-compat",n3="@firebase/messaging",i3="@firebase/messaging-compat",a3="@firebase/performance",s3="@firebase/performance-compat",o3="@firebase/remote-config",l3="@firebase/remote-config-compat",u3="@firebase/storage",c3="@firebase/storage-compat",d3="@firebase/firestore",f3="@firebase/ai",h3="@firebase/firestore-compat",p3="firebase",m3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="[DEFAULT]",g3={[Dv]:"fire-core",[B4]:"fire-core-compat",[W4]:"fire-analytics",[q4]:"fire-analytics-compat",[H4]:"fire-app-check",[K4]:"fire-app-check-compat",[G4]:"fire-auth",[Q4]:"fire-auth-compat",[Y4]:"fire-rtdb",[X4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[J4]:"fire-fn",[e3]:"fire-fn-compat",[t3]:"fire-iid",[r3]:"fire-iid-compat",[n3]:"fire-fcm",[i3]:"fire-fcm-compat",[a3]:"fire-perf",[s3]:"fire-perf-compat",[o3]:"fire-rc",[l3]:"fire-rc-compat",[u3]:"fire-gcs",[c3]:"fire-gcs-compat",[d3]:"fire-fst",[h3]:"fire-fst-compat",[f3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,v3=new Map,Lv=new Map;function h1(e,t){try{e.container.addComponent(t)}catch(r){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function wf(e){const t=e.name;if(Lv.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Lv.set(t,e);for(const r of yf.values())h1(r,e);for(const r of v3.values())h1(r,e);return!0}function y3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function w3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new FI("app","Firebase",x3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=m3;function BI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Mv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw aa.create("bad-app-name",{appName:String(i)});if(r||(r=VI()),!r)throw aa.create("no-options");const a=yf.get(i);if(a){if(vf(r,a.options)&&vf(n,a.config))return a;throw aa.create("duplicate-app",{appName:i})}const s=new A4(i);for(const l of Lv.values())s.addComponent(l);const o=new _3(r,n,s);return yf.set(i,o),o}function E3(e=Mv){const t=yf.get(e);if(!t&&e===Mv&&VI())return BI();if(!t)throw aa.create("no-app",{appName:e});return t}function eo(e,t,r){let n=g3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(s.join(" "));return}wf(new pu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebase-heartbeat-database",A3=1,mu="firebase-heartbeat-store";let ug=null;function qI(){return ug||(ug=V4(S3,A3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mu)}catch(r){console.warn(r)}}}}).catch(e=>{throw aa.create("idb-open",{originalErrorMessage:e.message})})),ug}async function P3(e){try{const r=(await qI()).transaction(mu),n=await r.objectStore(mu).get(WI(e));return await r.done,n}catch(t){if(t instanceof ko)pi.warn(t.message);else{const r=aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(r.message)}}}async function p1(e,t){try{const n=(await qI()).transaction(mu,"readwrite");await n.objectStore(mu).put(t,WI(e)),await n.done}catch(r){if(r instanceof ko)pi.warn(r.message);else{const n=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pi.warn(n.message)}}}function WI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,C3=30;class I3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>C3){const s=N3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=m1(),{heartbeatsToSend:n,unsentEntries:i}=j3(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return pi.warn(r),""}}}function m1(){return new Date().toISOString().substring(0,10)}function j3(e,t=T3){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),g1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),g1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await P3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return p1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return p1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function g1(e){return gf(JSON.stringify({version:2,heartbeats:e})).length}function N3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(e){wf(new pu("platform-logger",t=>new z4(t),"PRIVATE")),wf(new pu("heartbeat",t=>new I3(t),"PRIVATE")),eo(Dv,f1,e),eo(Dv,f1,"esm2020"),eo("fire-js","")}k3("");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,KI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,A){function j(){}j.prototype=A.prototype,S.F=A.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(D,C,k){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return A.prototype[C].apply(D,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,j){j||(j=0);const D=Array(16);if(typeof A=="string")for(var C=0;C<16;++C)D[C]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(C=0;C<16;++C)D[C]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=S.g[0],j=S.g[1],C=S.g[2];let k=S.g[3],N;N=A+(k^j&(C^k))+D[0]+3614090360&4294967295,A=j+(N<<7&4294967295|N>>>25),N=k+(C^A&(j^C))+D[1]+3905402710&4294967295,k=A+(N<<12&4294967295|N>>>20),N=C+(j^k&(A^j))+D[2]+606105819&4294967295,C=k+(N<<17&4294967295|N>>>15),N=j+(A^C&(k^A))+D[3]+3250441966&4294967295,j=C+(N<<22&4294967295|N>>>10),N=A+(k^j&(C^k))+D[4]+4118548399&4294967295,A=j+(N<<7&4294967295|N>>>25),N=k+(C^A&(j^C))+D[5]+1200080426&4294967295,k=A+(N<<12&4294967295|N>>>20),N=C+(j^k&(A^j))+D[6]+2821735955&4294967295,C=k+(N<<17&4294967295|N>>>15),N=j+(A^C&(k^A))+D[7]+4249261313&4294967295,j=C+(N<<22&4294967295|N>>>10),N=A+(k^j&(C^k))+D[8]+1770035416&4294967295,A=j+(N<<7&4294967295|N>>>25),N=k+(C^A&(j^C))+D[9]+2336552879&4294967295,k=A+(N<<12&4294967295|N>>>20),N=C+(j^k&(A^j))+D[10]+4294925233&4294967295,C=k+(N<<17&4294967295|N>>>15),N=j+(A^C&(k^A))+D[11]+2304563134&4294967295,j=C+(N<<22&4294967295|N>>>10),N=A+(k^j&(C^k))+D[12]+1804603682&4294967295,A=j+(N<<7&4294967295|N>>>25),N=k+(C^A&(j^C))+D[13]+4254626195&4294967295,k=A+(N<<12&4294967295|N>>>20),N=C+(j^k&(A^j))+D[14]+2792965006&4294967295,C=k+(N<<17&4294967295|N>>>15),N=j+(A^C&(k^A))+D[15]+1236535329&4294967295,j=C+(N<<22&4294967295|N>>>10),N=A+(C^k&(j^C))+D[1]+4129170786&4294967295,A=j+(N<<5&4294967295|N>>>27),N=k+(j^C&(A^j))+D[6]+3225465664&4294967295,k=A+(N<<9&4294967295|N>>>23),N=C+(A^j&(k^A))+D[11]+643717713&4294967295,C=k+(N<<14&4294967295|N>>>18),N=j+(k^A&(C^k))+D[0]+3921069994&4294967295,j=C+(N<<20&4294967295|N>>>12),N=A+(C^k&(j^C))+D[5]+3593408605&4294967295,A=j+(N<<5&4294967295|N>>>27),N=k+(j^C&(A^j))+D[10]+38016083&4294967295,k=A+(N<<9&4294967295|N>>>23),N=C+(A^j&(k^A))+D[15]+3634488961&4294967295,C=k+(N<<14&4294967295|N>>>18),N=j+(k^A&(C^k))+D[4]+3889429448&4294967295,j=C+(N<<20&4294967295|N>>>12),N=A+(C^k&(j^C))+D[9]+568446438&4294967295,A=j+(N<<5&4294967295|N>>>27),N=k+(j^C&(A^j))+D[14]+3275163606&4294967295,k=A+(N<<9&4294967295|N>>>23),N=C+(A^j&(k^A))+D[3]+4107603335&4294967295,C=k+(N<<14&4294967295|N>>>18),N=j+(k^A&(C^k))+D[8]+1163531501&4294967295,j=C+(N<<20&4294967295|N>>>12),N=A+(C^k&(j^C))+D[13]+2850285829&4294967295,A=j+(N<<5&4294967295|N>>>27),N=k+(j^C&(A^j))+D[2]+4243563512&4294967295,k=A+(N<<9&4294967295|N>>>23),N=C+(A^j&(k^A))+D[7]+1735328473&4294967295,C=k+(N<<14&4294967295|N>>>18),N=j+(k^A&(C^k))+D[12]+2368359562&4294967295,j=C+(N<<20&4294967295|N>>>12),N=A+(j^C^k)+D[5]+4294588738&4294967295,A=j+(N<<4&4294967295|N>>>28),N=k+(A^j^C)+D[8]+2272392833&4294967295,k=A+(N<<11&4294967295|N>>>21),N=C+(k^A^j)+D[11]+1839030562&4294967295,C=k+(N<<16&4294967295|N>>>16),N=j+(C^k^A)+D[14]+4259657740&4294967295,j=C+(N<<23&4294967295|N>>>9),N=A+(j^C^k)+D[1]+2763975236&4294967295,A=j+(N<<4&4294967295|N>>>28),N=k+(A^j^C)+D[4]+1272893353&4294967295,k=A+(N<<11&4294967295|N>>>21),N=C+(k^A^j)+D[7]+4139469664&4294967295,C=k+(N<<16&4294967295|N>>>16),N=j+(C^k^A)+D[10]+3200236656&4294967295,j=C+(N<<23&4294967295|N>>>9),N=A+(j^C^k)+D[13]+681279174&4294967295,A=j+(N<<4&4294967295|N>>>28),N=k+(A^j^C)+D[0]+3936430074&4294967295,k=A+(N<<11&4294967295|N>>>21),N=C+(k^A^j)+D[3]+3572445317&4294967295,C=k+(N<<16&4294967295|N>>>16),N=j+(C^k^A)+D[6]+76029189&4294967295,j=C+(N<<23&4294967295|N>>>9),N=A+(j^C^k)+D[9]+3654602809&4294967295,A=j+(N<<4&4294967295|N>>>28),N=k+(A^j^C)+D[12]+3873151461&4294967295,k=A+(N<<11&4294967295|N>>>21),N=C+(k^A^j)+D[15]+530742520&4294967295,C=k+(N<<16&4294967295|N>>>16),N=j+(C^k^A)+D[2]+3299628645&4294967295,j=C+(N<<23&4294967295|N>>>9),N=A+(C^(j|~k))+D[0]+4096336452&4294967295,A=j+(N<<6&4294967295|N>>>26),N=k+(j^(A|~C))+D[7]+1126891415&4294967295,k=A+(N<<10&4294967295|N>>>22),N=C+(A^(k|~j))+D[14]+2878612391&4294967295,C=k+(N<<15&4294967295|N>>>17),N=j+(k^(C|~A))+D[5]+4237533241&4294967295,j=C+(N<<21&4294967295|N>>>11),N=A+(C^(j|~k))+D[12]+1700485571&4294967295,A=j+(N<<6&4294967295|N>>>26),N=k+(j^(A|~C))+D[3]+2399980690&4294967295,k=A+(N<<10&4294967295|N>>>22),N=C+(A^(k|~j))+D[10]+4293915773&4294967295,C=k+(N<<15&4294967295|N>>>17),N=j+(k^(C|~A))+D[1]+2240044497&4294967295,j=C+(N<<21&4294967295|N>>>11),N=A+(C^(j|~k))+D[8]+1873313359&4294967295,A=j+(N<<6&4294967295|N>>>26),N=k+(j^(A|~C))+D[15]+4264355552&4294967295,k=A+(N<<10&4294967295|N>>>22),N=C+(A^(k|~j))+D[6]+2734768916&4294967295,C=k+(N<<15&4294967295|N>>>17),N=j+(k^(C|~A))+D[13]+1309151649&4294967295,j=C+(N<<21&4294967295|N>>>11),N=A+(C^(j|~k))+D[4]+4149444226&4294967295,A=j+(N<<6&4294967295|N>>>26),N=k+(j^(A|~C))+D[11]+3174756917&4294967295,k=A+(N<<10&4294967295|N>>>22),N=C+(A^(k|~j))+D[2]+718787259&4294967295,C=k+(N<<15&4294967295|N>>>17),N=j+(k^(C|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+k&4294967295}n.prototype.v=function(S,A){A===void 0&&(A=S.length);const j=A-this.blockSize,D=this.C;let C=this.h,k=0;for(;k<A;){if(C==0)for(;k<=j;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(D[C++]=S.charCodeAt(k++),C==this.blockSize){i(this,D),C=0;break}}else for(;k<A;)if(D[C++]=S[k++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=A},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,j=0;j<4;++j)for(let D=0;D<32;D+=8)S[A++]=this.g[j]>>>D&255;return S};function a(S,A){var j=o;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=A(S)}function s(S,A){this.h=A;const j=[];let D=!0;for(let C=S.length-1;C>=0;C--){const k=S[C]|0;D&&k==A||(j[C]=k,D=!1)}this.g=j}var o={};function l(S){return-128<=S&&S<128?a(S,function(A){return new s([A|0],A<0?-1:0)}):new s([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(S<0)return v(u(-S));const A=[];let j=1;for(let D=0;S>=j;D++)A[D]=S/j|0,j*=4294967296;return new s(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return v(c(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=u(Math.pow(A,8));let D=d;for(let k=0;k<S.length;k+=8){var C=Math.min(8,S.length-k);const N=parseInt(S.substring(k,k+C),A);C<8?(C=u(Math.pow(A,C)),D=D.j(C).add(u(N))):(D=D.j(j),D=D.add(u(N)))}return D}var d=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(w(this))return-v(this).m();let S=0,A=1;for(let j=0;j<this.g.length;j++){const D=this.i(j);S+=(D>=0?D:4294967296+D)*A,A*=4294967296}return S},e.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+v(this).toString(S);const A=u(Math.pow(S,6));var j=this;let D="";for(;;){const C=I(j,A).g;j=_(j,C.j(A));let k=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=C,g(j))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},e.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function w(S){return S.h==-1}e.l=function(S){return S=_(this,S),w(S)?-1:g(S)?0:1};function v(S){const A=S.g.length,j=[];for(let D=0;D<A;D++)j[D]=~S.g[D];return new s(j,~S.h).add(p)}e.abs=function(){return w(this)?v(this):this},e.add=function(S){const A=Math.max(this.g.length,S.g.length),j=[];let D=0;for(let C=0;C<=A;C++){let k=D+(this.i(C)&65535)+(S.i(C)&65535),N=(k>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);D=N>>>16,k&=65535,N&=65535,j[C]=N<<16|k}return new s(j,j[j.length-1]&-2147483648?-1:0)};function _(S,A){return S.add(v(A))}e.j=function(S){if(g(this)||g(S))return d;if(w(this))return w(S)?v(this).j(v(S)):v(v(this).j(S));if(w(S))return v(this.j(v(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const A=this.g.length+S.g.length,j=[];for(var D=0;D<2*A;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(let C=0;C<S.g.length;C++){const k=this.i(D)>>>16,N=this.i(D)&65535,Q=S.i(C)>>>16,se=S.i(C)&65535;j[2*D+2*C]+=N*se,b(j,2*D+2*C),j[2*D+2*C+1]+=k*se,b(j,2*D+2*C+1),j[2*D+2*C+1]+=N*Q,b(j,2*D+2*C+1),j[2*D+2*C+2]+=k*Q,b(j,2*D+2*C+2)}for(S=0;S<A;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=A;S<2*A;S++)j[S]=0;return new s(j,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function E(S,A){this.g=S,this.h=A}function I(S,A){if(g(A))throw Error("division by zero");if(g(S))return new E(d,d);if(w(S))return A=I(v(S),A),new E(v(A.g),v(A.h));if(w(A))return A=I(S,v(A)),new E(v(A.g),A.h);if(S.g.length>30){if(w(S)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var j=p,D=A;D.l(S)<=0;)j=T(j),D=T(D);var C=O(j,1),k=O(D,1);for(D=O(D,2),j=O(j,2);!g(D);){var N=k.add(D);N.l(S)<=0&&(C=C.add(j),k=N),D=O(D,1),j=O(j,1)}return A=_(S,C.j(A)),new E(C,A)}for(C=d;S.l(A)>=0;){for(j=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=u(j),N=k.j(A);w(N)||N.l(S)>0;)j-=D,k=u(j),N=k.j(A);g(k)&&(k=p),C=C.add(k),S=_(S,N)}return new E(C,S)}e.B=function(S){return I(this,S).h},e.and=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let D=0;D<A;D++)j[D]=this.i(D)&S.i(D);return new s(j,this.h&S.h)},e.or=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let D=0;D<A;D++)j[D]=this.i(D)|S.i(D);return new s(j,this.h|S.h)},e.xor=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let D=0;D<A;D++)j[D]=this.i(D)^S.i(D);return new s(j,this.h^S.h)};function T(S){const A=S.g.length+1,j=[];for(let D=0;D<A;D++)j[D]=S.i(D)<<1|S.i(D-1)>>>31;return new s(j,S.h)}function O(S,A){const j=A>>5;A%=32;const D=S.g.length-j,C=[];for(let k=0;k<D;k++)C[k]=A>0?S.i(k+j)>>>A|S.i(k+j+1)<<32-A:S.i(k+j);return new s(C,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,KI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,sa=s}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HI,Il,GI,kd,Vv,QI,YI,XI;(function(){var e,t=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<h.length;++y){var P=h[y];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,y){if(y)e:{var P=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in P))break e;P=P[M]}h=h[h.length-1],R=P[h],y=y(R),y!=R&&y!=null&&t(P,h,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(y){var P=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&P.push([R,y[R]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function l(h,y,P){return h.call.apply(h.bind,arguments)}function u(h,y,P){return u=l,u.apply(null,arguments)}function c(h,y){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function d(h,y){function P(){}P.prototype=y.prototype,h.Z=y.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return y.prototype[M].apply(R,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const y=h.length;if(y>0){const P=Array(y);for(let R=0;R<y;R++)P[R]=h[R];return P}return[]}function g(h,y){for(let R=1;R<arguments.length;R++){const M=arguments[R];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=h.length||0;const V=M.length||0;h.length=P+V;for(let G=0;G<V;G++)h[P+G]=M[G]}else h.push(M)}}class w{constructor(y,P){this.i=y,this.j=P,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(h){s.setTimeout(()=>{throw h},0)}function _(){var h=S;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class b{constructor(){this.h=this.g=null}add(y,P){const R=E.get();R.set(y,P),this.h?this.h.next=R:this.g=R,this.h=R}}var E=new w(()=>new I,h=>h.reset());class I{constructor(){this.next=this.g=this.h=null}set(y,P){this.h=y,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let T,O=!1,S=new b,A=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(j)}};function j(){for(var h;h=_();){try{h.h.call(h.g)}catch(P){v(P)}var y=E;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}O=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,y),s.removeEventListener("test",P,y)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function Q(h,y){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}d(Q,C),Q.prototype.init=function(h,y){const P=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(P=="mouseover"?y=h.fromElement:P=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),de=0;function oe(h,y,P,R,M){this.listener=h,this.proxy=null,this.src=y,this.type=P,this.capture=!!R,this.ha=M,this.key=++de,this.da=this.fa=!1}function U(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,y,P){for(const R in h)y.call(P,h[R],R,h)}function ne(h,y){for(const P in h)y.call(void 0,h[P],P,h)}function me(h){const y={};for(const P in h)y[P]=h[P];return y}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(h,y){let P,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(P in R)h[P]=R[P];for(let V=0;V<be.length;V++)P=be[V],Object.prototype.hasOwnProperty.call(R,P)&&(h[P]=R[P])}}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,y,P,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const G=bt(h,y,R,M);return G>-1?(y=h[G],P||(y.fa=!1)):(y=new oe(y,this.src,V,!!R,M),y.fa=P,h.push(y)),y};function qt(h,y){const P=y.type;if(P in h.g){var R=h.g[P],M=Array.prototype.indexOf.call(R,y,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(U(y),h.g[P].length==0&&(delete h.g[P],h.h--))}}function bt(h,y,P,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==y&&V.capture==!!P&&V.ha==R)return M}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Qn={};function B(h,y,P,R,M){if(Array.isArray(y)){for(let V=0;V<y.length;V++)B(h,y[V],P,R,M);return null}return P=ce(P),h&&h[se]?h.J(y,P,o(R)?!!R.capture:!1,M):fe(h,y,P,!1,R,M)}function fe(h,y,P,R,M,V){if(!y)throw Error("Invalid event type");const G=o(M)?!!M.capture:!!M;let pe=H(h);if(pe||(h[ze]=pe=new ke(h)),P=pe.add(y,P,R,G,V),P.proxy)return P;if(R=ye(),P.proxy=R,R.src=h,R.listener=P,h.addEventListener)k||(M=G),M===void 0&&(M=!1),h.addEventListener(y.toString(),R,M);else if(h.attachEvent)h.attachEvent(Ce(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function h(P){return y.call(h.src,h.listener,P)}const y=z;return h}function q(h,y,P,R,M){if(Array.isArray(y))for(var V=0;V<y.length;V++)q(h,y[V],P,R,M);else R=o(R)?!!R.capture:!!R,P=ce(P),h&&h[se]?(h=h.i,V=String(y).toString(),V in h.g&&(y=h.g[V],P=bt(y,P,R,M),P>-1&&(U(y[P]),Array.prototype.splice.call(y,P,1),y.length==0&&(delete h.g[V],h.h--)))):h&&(h=H(h))&&(y=h.g[y.toString()],h=-1,y&&(h=bt(y,P,R,M)),(P=h>-1?y[h]:null)&&ft(P))}function ft(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[se])qt(y.i,h);else{var P=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(P,R,h.capture):y.detachEvent?y.detachEvent(Ce(P),R):y.addListener&&y.removeListener&&y.removeListener(R),(P=H(y))?(qt(P,h),P.h==0&&(P.src=null,y[ze]=null)):U(h)}}}function Ce(h){return h in Qn?Qn[h]:Qn[h]="on"+h}function z(h,y){if(h.da)h=!0;else{y=new Q(y,this);const P=h.listener,R=h.ha||h.src;h.fa&&ft(h),h=P.call(R,y)}return h}function H(h){return h=h[ze],h instanceof ke?h:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function ce(h){return typeof h=="function"?h:(h[Z]||(h[Z]=function(y){return h.handleEvent(y)}),h[Z])}function he(){D.call(this),this.i=new ke(this),this.M=this,this.G=null}d(he,D),he.prototype[se]=!0,he.prototype.removeEventListener=function(h,y,P,R){q(this,h,y,P,R)};function we(h,y){var P,R=h.G;if(R)for(P=[];R;R=R.G)P.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new C(y,h);else if(y instanceof C)y.target=y.target||h;else{var M=y;y=new C(R,h),_t(y,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=y.g=P[G],M=ht(V,R,!0,y)&&M;if(V=y.g=h,M=ht(V,R,!0,y)&&M,M=ht(V,R,!1,y)&&M,P)for(G=0;G<P.length;G++)V=y.g=P[G],M=ht(V,R,!1,y)&&M}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const P=h.g[y];for(let R=0;R<P.length;R++)U(P[R]);delete h.g[y],h.h--}}this.G=null},he.prototype.J=function(h,y,P,R){return this.i.add(String(h),y,!1,P,R)},he.prototype.K=function(h,y,P,R){return this.i.add(String(h),y,!0,P,R)};function ht(h,y,P,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let M=!0;for(let V=0;V<y.length;++V){const G=y[V];if(G&&!G.da&&G.capture==P){const pe=G.listener,Et=G.ha||G.src;G.fa&&qt(h.i,G),M=pe.call(Et,R)!==!1&&M}}return M&&!R.defaultPrevented}function Yn(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:s.setTimeout(h,y||0)}function J_(h){h.g=Yn(()=>{h.g=null,h.i&&(h.i=!1,J_(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class YD extends D{constructor(y,P){super(),this.m=y,this.l=P,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:J_(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(h){D.call(this),this.h=h,this.g={}}d(Ho,D);var eb=[];function tb(h){K(h.g,function(y,P){this.g.hasOwnProperty(P)&&ft(y)},h),h.g={}}Ho.prototype.N=function(){Ho.Z.N.call(this),tb(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gm=s.JSON.stringify,XD=s.JSON.parse,ZD=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function rb(){}function nb(){}var Go={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vm(){C.call(this,"d")}d(vm,C);function ym(){C.call(this,"c")}d(ym,C);var Ta={},ib=null;function Sc(){return ib=ib||new he}Ta.Ia="serverreachability";function ab(h){C.call(this,Ta.Ia,h)}d(ab,C);function Qo(h){const y=Sc();we(y,new ab(y))}Ta.STAT_EVENT="statevent";function sb(h,y){C.call(this,Ta.STAT_EVENT,h),this.stat=y}d(sb,C);function ur(h){const y=Sc();we(y,new sb(y,h))}Ta.Ja="timingevent";function ob(h,y){C.call(this,Ta.Ja,h),this.size=y}d(ob,C);function Yo(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},y)}function Xo(){this.g=!0}Xo.prototype.ua=function(){this.g=!1};function JD(h,y,P,R,M,V){h.info(function(){if(h.g)if(V){var G="",pe=V.split("&");for(let Re=0;Re<pe.length;Re++){var Et=pe[Re].split("=");if(Et.length>1){const kt=Et[0];Et=Et[1];const jn=kt.split("_");G=jn.length>=2&&jn[1]=="type"?G+(kt+"="+Et+"&"):G+(kt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+y+`
`+P+`
`+G})}function eM(h,y,P,R,M,V,G){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+y+`
`+P+`
`+V+" "+G})}function _s(h,y,P,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+rM(h,P)+(R?" "+R:"")})}function tM(h,y){h.info(function(){return"TIMEOUT: "+y})}Xo.prototype.info=function(){};function rM(h,y){if(!h.g)return y;if(!y)return null;try{const V=JSON.parse(y);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var P=V[h];if(!(P.length<2)){var R=P[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return gm(V)}catch{return y}}var Ac={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lb={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ub;function wm(){}d(wm,rb),wm.prototype.g=function(){return new XMLHttpRequest},ub=new wm;function Zo(h){return encodeURIComponent(String(h))}function nM(h){var y=1;h=h.split(":");const P=[];for(;y>0&&h.length;)P.push(h.shift()),y--;return h.length&&P.push(h.join(":")),P}function ki(h,y,P,R){this.j=h,this.i=y,this.l=P,this.S=R||1,this.V=new Ho(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cb}function cb(){this.i=null,this.g="",this.h=!1}var db={},xm={};function _m(h,y,P){h.M=1,h.A=Tc(In(y)),h.u=P,h.R=!0,fb(h,null)}function fb(h,y){h.F=Date.now(),Pc(h),h.B=In(h.A);var P=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ab(P.i,"t",R),h.C=0,P=h.j.L,h.h=new cb,h.g=Bb(h.j,P?y:null,!h.u),h.P>0&&(h.O=new YD(u(h.Y,h,h.g),h.P)),y=h.V,P=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(eb[0]=M.toString()),M=eb);for(let V=0;V<M.length;V++){const G=B(P,M[V],R||y.handleEvent,!1,y.h||y);if(!G)break;y.g[G.key]=G}y=h.J?me(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Qo(),JD(h.i,h.v,h.B,h.l,h.S,h.u)}ki.prototype.ba=function(h){h=h.target;const y=this.O;y&&Mi(h)==3?y.j():this.Y(h)},ki.prototype.Y=function(h){try{if(h==this.g)e:{const pe=Mi(this.g),Et=this.g.ya(),Re=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||Nb(this.g)))){this.K||pe!=4||Et==7||(Et==8||Re<=0?Qo(3):Qo(2)),bm(this);var y=this.g.ca();this.X=y;var P=iM(this);if(this.o=y==200,eM(this.i,this.v,this.B,this.l,this.S,pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var V=R;break t}}V=null}if(h=V)_s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Em(this,h);else{this.o=!1,this.m=3,ur(12),Ca(this),Jo(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<P.length;)if(kt=aM(this,P),kt==xm){pe==4&&(this.m=4,ur(14),h=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==db){this.m=4,ur(15),_s(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else _s(this.i,this.l,kt,null),Em(this,kt);if(hb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||P.length!=0||this.h.h||(this.m=1,ur(16),h=!1),this.o=this.o&&h,!h)_s(this.i,this.l,P,"[Invalid Chunked Response]"),Ca(this),Jo(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Om(G),G.P=!0,ur(11))}}else _s(this.i,this.l,P,null),Em(this,P);pe==4&&Ca(this),this.o&&!this.K&&(pe==4?Fb(this.j,this):(this.o=!1,Pc(this)))}else wM(this.g),y==400&&P.indexOf("Unknown SID")>0?(this.m=3,ur(12)):(this.m=0,ur(13)),Ca(this),Jo(this)}}}catch{}finally{}};function iM(h){if(!hb(h))return h.g.la();const y=Nb(h.g);if(y==="")return"";let P="";const R=y.length,M=Mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ca(h),Jo(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,P+=h.h.i.decode(y[V],{stream:!(M&&V==R-1)});return y.length=0,h.h.g+=P,h.C=0,h.h.g}function hb(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function aM(h,y){var P=h.C,R=y.indexOf(`
`,P);return R==-1?xm:(P=Number(y.substring(P,R)),isNaN(P)?db:(R+=1,R+P>y.length?xm:(y=y.slice(R,R+P),h.C=R+P,y)))}ki.prototype.cancel=function(){this.K=!0,Ca(this)};function Pc(h){h.T=Date.now()+h.H,pb(h,h.H)}function pb(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Yo(u(h.aa,h),y)}function bm(h){h.D&&(s.clearTimeout(h.D),h.D=null)}ki.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(tM(this.i,this.B),this.M!=2&&(Qo(),ur(17)),Ca(this),this.m=2,Jo(this)):pb(this,this.T-h)};function Jo(h){h.j.I==0||h.K||Fb(h.j,h)}function Ca(h){bm(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,tb(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Em(h,y){try{var P=h.j;if(P.I!=0&&(P.g==h||Sm(P.h,h))){if(!h.L&&Sm(P.h,h)&&P.I==3){try{var R=P.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)Nc(P),jc(P);else break e;jm(P),ur(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Yo(u(P.Va,P),6e3));vb(P.h)<=1&&P.ta&&(P.ta=void 0)}else ja(P,11)}else if((h.L||P.g==h)&&Nc(P),!N(y))for(M=P.Ba.g.parse(y),y=0;y<M.length;y++){let Re=M[y];const kt=Re[0];if(!(kt<=P.K))if(P.K=kt,Re=Re[1],P.I==2)if(Re[0]=="c"){P.M=Re[1],P.ba=Re[2];const jn=Re[3];jn!=null&&(P.ka=jn,P.j.info("VER="+P.ka));const Oa=Re[4];Oa!=null&&(P.za=Oa,P.j.info("SVER="+P.za));const Li=Re[5];Li!=null&&typeof Li=="number"&&Li>0&&(R=1.5*Li,P.O=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const Vi=h.g;if(Vi){const Rc=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var V=R.h;V.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Am(V,V.h),V.h=null))}if(R.G){const Nm=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Nm&&(R.wa=Nm,Ue(R.J,R.G,Nm))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),R=P;var G=h;if(R.na=Ub(R,R.L?R.ba:null,R.W),G.L){yb(R.h,G);var pe=G,Et=R.O;Et&&(pe.H=Et),pe.D&&(bm(pe),Pc(pe)),R.g=G}else Lb(R);P.i.length>0&&Oc(P)}else Re[0]!="stop"&&Re[0]!="close"||ja(P,7);else P.I==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ja(P,7):Im(P):Re[0]!="noop"&&P.l&&P.l.qa(Re),P.A=0)}}Qo(4)}catch{}}var sM=class{constructor(h,y){this.g=h,this.map=y}};function mb(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vb(h){return h.h?1:h.g?h.g.size:0}function Sm(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Am(h,y){h.g?h.g.add(y):h.h=y}function yb(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}mb.prototype.cancel=function(){if(this.i=wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wb(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const P of h.g.values())y=y.concat(P.G);return y}return m(h.i)}var xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oM(h,y){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const R=h[P].indexOf("=");let M,V=null;R>=0?(M=h[P].substring(0,R),V=h[P].substring(R+1)):M=h[P],y(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ri(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ri?(this.l=h.l,el(this,h.j),this.o=h.o,this.g=h.g,tl(this,h.u),this.h=h.h,Pm(this,Pb(h.i)),this.m=h.m):h&&(y=String(h).match(xb))?(this.l=!1,el(this,y[1]||"",!0),this.o=rl(y[2]||""),this.g=rl(y[3]||"",!0),tl(this,y[4]),this.h=rl(y[5]||"",!0),Pm(this,y[6]||"",!0),this.m=rl(y[7]||"")):(this.l=!1,this.i=new il(null,this.l))}Ri.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(nl(y,_b,!0),":");var P=this.g;return(P||y=="file")&&(h.push("//"),(y=this.o)&&h.push(nl(y,_b,!0),"@"),h.push(Zo(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(nl(P,P.charAt(0)=="/"?cM:uM,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",nl(P,fM)),h.join("")},Ri.prototype.resolve=function(h){const y=In(this);let P=!!h.j;P?el(y,h.j):P=!!h.o,P?y.o=h.o:P=!!h.g,P?y.g=h.g:P=h.u!=null;var R=h.h;if(P)tl(y,h.u);else if(P=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=y.h.lastIndexOf("/");M!=-1&&(R=y.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const pe=M[G++];pe=="."?R&&G==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&G==M.length&&V.push("")):(V.push(pe),R=!0)}R=V.join("/")}else R=M}return P?y.h=R:P=h.i.toString()!=="",P?Pm(y,Pb(h.i)):P=!!h.m,P&&(y.m=h.m),y};function In(h){return new Ri(h)}function el(h,y,P){h.j=P?rl(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function tl(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Pm(h,y,P){y instanceof il?(h.i=y,hM(h.i,h.l)):(P||(y=nl(y,dM)),h.i=new il(y,h.l))}function Ue(h,y,P){h.i.set(y,P)}function Tc(h){return Ue(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function rl(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function nl(h,y,P){return typeof h=="string"?(h=encodeURI(h).replace(y,lM),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function lM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _b=/[#\/\?@]/g,uM=/[#\?:]/g,cM=/[#\?]/g,dM=/[#\?@]/g,fM=/#/g;function il(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ia(h){h.g||(h.g=new Map,h.h=0,h.i&&oM(h.i,function(y,P){h.add(decodeURIComponent(y.replace(/\+/g," ")),P)}))}e=il.prototype,e.add=function(h,y){Ia(this),this.i=null,h=bs(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(y),this.h+=1,this};function bb(h,y){Ia(h),y=bs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Eb(h,y){return Ia(h),y=bs(h,y),h.g.has(y)}e.forEach=function(h,y){Ia(this),this.g.forEach(function(P,R){P.forEach(function(M){h.call(y,M,R,this)},this)},this)};function Sb(h,y){Ia(h);let P=[];if(typeof y=="string")Eb(h,y)&&(P=P.concat(h.g.get(bs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)P=P.concat(h[y]);return P}e.set=function(h,y){return Ia(this),this.i=null,h=bs(this,h),Eb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=Sb(this,h),h.length>0?String(h[0]):y):y};function Ab(h,y,P){bb(h,y),P.length>0&&(h.i=null,h.g.set(bs(h,y),m(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var P=y[R];const M=Zo(P);P=Sb(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+Zo(P[V])),h.push(G)}}return this.i=h.join("&")};function Pb(h){const y=new il;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function bs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function hM(h,y){y&&!h.j&&(Ia(h),h.i=null,h.g.forEach(function(P,R){const M=R.toLowerCase();R!=M&&(bb(this,R),Ab(this,M,P))},h)),h.j=y}function pM(h,y){const P=new Xo;if(s.Image){const R=new Image;R.onload=c(Di,P,"TestLoadImage: loaded",!0,y,R),R.onerror=c(Di,P,"TestLoadImage: error",!1,y,R),R.onabort=c(Di,P,"TestLoadImage: abort",!1,y,R),R.ontimeout=c(Di,P,"TestLoadImage: timeout",!1,y,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function mM(h,y){const P=new Xo,R=new AbortController,M=setTimeout(()=>{R.abort(),Di(P,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?Di(P,"TestPingServer: ok",!0,y):Di(P,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(M),Di(P,"TestPingServer: error",!1,y)})}function Di(h,y,P,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(P)}catch{}}function gM(){this.g=new ZD}function Tm(h){this.i=h.Sb||null,this.h=h.ab||!1}d(Tm,rb),Tm.prototype.g=function(){return new Cc(this.i,this.h)};function Cc(h,y){he.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Cc,he),e=Cc.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,sl(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||s).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tb(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tb(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?al(this):sl(this),this.readyState==3&&Tb(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,al(this))},e.Na=function(h){this.g&&(this.response=h,al(this))},e.ga=function(){this.g&&al(this)};function al(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sl(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var P=y.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=y.next();return h.join(`\r
`)};function sl(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cb(h){let y="";return K(h,function(P,R){y+=R,y+=":",y+=P,y+=`\r
`}),y}function Cm(h,y,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=Cb(P),typeof h=="string"?P!=null&&Zo(P):Ue(h,y,P))}function it(h){he.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(it,he);var vM=/^https?$/i,yM=["POST","PUT"];e=it.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ub.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(V){Ib(this,V);return}if(h=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)P.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())P.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(yM,y,void 0)>=0)||R||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){Ib(this,V)}};function Ib(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,jb(h),Ic(h)}function jb(h){h.A||(h.A=!0,we(h,"complete"),we(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,we(this,"complete"),we(this,"abort"),Ic(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),it.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ob(this):this.Xa())},e.Xa=function(){Ob(this)};function Ob(h){if(h.h&&typeof a<"u"){if(h.v&&Mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(we(h,"readystatechange"),Mi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var P;if(!(P=y)){var R;if(R=V===0){let G=String(h.D).match(xb)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),R=!vM.test(G?G.toLowerCase():"")}P=R}if(P)we(h,"complete"),we(h,"success");else{h.o=6;try{var M=Mi(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",jb(h)}}finally{Ic(h)}}}}function Ic(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,y||we(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Mi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),XD(y)}};function Nb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function wM(h){const y={};h=(h.g&&Mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var P=nM(h[R]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=y[M]||[];y[M]=V,V.push(P)}ne(y,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(h,y,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||y}function kb(h){this.za=0,this.i=[],this.j=new Xo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ol("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ol("baseRetryDelayMs",5e3,h),this.Za=ol("retryDelaySeedMs",1e4,h),this.Ta=ol("forwardChannelMaxRetries",2,h),this.va=ol("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new mb(h&&h.concurrentRequestLimit),this.Ba=new gM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=kb.prototype,e.ka=8,e.I=1,e.connect=function(h,y,P,R){ur(0),this.W=h,this.H=y||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.J=Ub(this,null,this.W),Oc(this)};function Im(h){if(Rb(h),h.I==3){var y=h.V++,P=In(h.J);if(Ue(P,"SID",h.M),Ue(P,"RID",y),Ue(P,"TYPE","terminate"),ll(h,P),y=new ki(h,h.j,y),y.M=2,y.A=Tc(In(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(y.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=y.A,P=!0),P||(y.g=Bb(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pc(y)}zb(h)}function jc(h){h.g&&(Om(h),h.g.cancel(),h.g=null)}function Rb(h){jc(h),h.v&&(s.clearTimeout(h.v),h.v=null),Nc(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Oc(h){if(!gb(h.h)&&!h.m){h.m=!0;var y=h.Ea;T||A(),O||(T(),O=!0),S.add(y,h),h.D=0}}function xM(h,y){return vb(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Yo(u(h.Ea,h,y),$b(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new ki(this,this.j,h);let V=this.o;if(this.U&&(V?(V=me(V),_t(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var y=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=P;break e}if(y===4096||P===this.i.length-1){y=P+1;break e}}y=1e3}else y=1e3;y=Mb(this,M,y),P=In(this.J),Ue(P,"RID",h),Ue(P,"CVER",22),this.G&&Ue(P,"X-HTTP-Session-Id",this.G),ll(this,P),V&&(this.R?y="headers="+Zo(Cb(V))+"&"+y:this.u&&Cm(P,this.u,V)),Am(this.h,M),this.Ra&&Ue(P,"TYPE","init"),this.S?(Ue(P,"$req",y),Ue(P,"SID","null"),M.U=!0,_m(M,P,null)):_m(M,P,y),this.I=2}}else this.I==3&&(h?Db(this,h):this.i.length==0||gb(this.h)||Db(this))};function Db(h,y){var P;y?P=y.l:P=h.V++;const R=In(h.J);Ue(R,"SID",h.M),Ue(R,"RID",P),Ue(R,"AID",h.K),ll(h,R),h.u&&h.o&&Cm(R,h.u,h.o),P=new ki(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Mb(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Am(h.h,P),_m(P,R,y)}function ll(h,y){h.H&&K(h.H,function(P,R){Ue(y,R,P)}),h.l&&K({},function(P,R){Ue(y,R,P)})}function Mb(h,y,P){P=Math.min(h.i.length,P);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let pe=-1;for(;;){const Et=["count="+P];pe==-1?P>0?(pe=M[0].g,Et.push("ofs="+pe)):pe=0:Et.push("ofs="+pe);let Re=!0;for(let kt=0;kt<P;kt++){var V=M[kt].g;const jn=M[kt].map;if(V-=pe,V<0)pe=Math.max(0,M[kt].g-100),Re=!1;else try{V="req"+V+"_"||"";try{var G=jn instanceof Map?jn:Object.entries(jn);for(const[Oa,Li]of G){let Vi=Li;o(Li)&&(Vi=gm(Li)),Et.push(V+Oa+"="+encodeURIComponent(Vi))}}catch(Oa){throw Et.push(V+"type="+encodeURIComponent("_badmap")),Oa}}catch{R&&R(jn)}}if(Re){G=Et.join("&");break e}}G=void 0}return h=h.i.splice(0,P),y.G=h,G}function Lb(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;T||A(),O||(T(),O=!0),S.add(y,h),h.A=0}}function jm(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Yo(u(h.Da,h),$b(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Vb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Yo(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ur(10),jc(this),Vb(this))};function Om(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function Vb(h){h.g=new ki(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=In(h.na);Ue(y,"RID","rpc"),Ue(y,"SID",h.M),Ue(y,"AID",h.K),Ue(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ue(y,"TO",h.ia),Ue(y,"TYPE","xmlhttp"),ll(h,y),h.u&&h.o&&Cm(y,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=Tc(In(y)),P.u=null,P.R=!0,fb(P,h)}e.Va=function(){this.C!=null&&(this.C=null,jc(this),jm(this),ur(19))};function Nc(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Fb(h,y){var P=null;if(h.g==y){Nc(h),Om(h),h.g=null;var R=2}else if(Sm(h.h,y))P=y.G,yb(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){P=y.u?y.u.length:0,y=Date.now()-y.F;var M=h.D;R=Sc(),we(R,new ob(R,P)),Oc(h)}else Lb(h);else if(M=y.m,M==3||M==0&&y.X>0||!(R==1&&xM(h,y)||R==2&&jm(h)))switch(P&&P.length>0&&(y=h.h,y.i=y.i.concat(P)),M){case 1:ja(h,5);break;case 4:ja(h,10);break;case 3:ja(h,6);break;default:ja(h,2)}}}function $b(h,y){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*y}function ja(h,y){if(h.j.info("Error code "+y),y==2){var P=u(h.bb,h),R=h.Ua;const M=!R;R=new Ri(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||el(R,"https"),Tc(R),M?pM(R.toString(),P):mM(R.toString(),P)}else ur(2);h.I=0,h.l&&h.l.pa(y),zb(h),Rb(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function zb(h){if(h.I=0,h.ja=[],h.l){const y=wb(h.h);(y.length!=0||h.i.length!=0)&&(g(h.ja,y),g(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function Ub(h,y,P){var R=P instanceof Ri?In(P):new Ri(P);if(R.g!="")y&&(R.g=y+"."+R.g),tl(R,R.u);else{var M=s.location;R=M.protocol,y=y?y+"."+M.hostname:M.hostname,M=+M.port;const V=new Ri(null);R&&el(V,R),y&&(V.g=y),M&&tl(V,M),P&&(V.h=P),R=V}return P=h.G,y=h.wa,P&&y&&Ue(R,P,y),Ue(R,"VER",h.ka),ll(h,R),R}function Bb(h,y,P){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new it(new Tm({ab:P})):new it(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qb(){}e=qb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function kc(){}kc.prototype.g=function(h,y){return new Nr(h,y)};function Nr(h,y){he.call(this),this.g=new kb(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Es(this)}d(Nr,he),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Im(this.g)},Nr.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=gm(h),h=P);y.i.push(new sM(y.Ya++,h)),y.I==3&&Oc(y)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Im(this.g),delete this.g,Nr.Z.N.call(this)};function Wb(h){vm.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const P in y){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}d(Wb,vm);function Kb(){ym.call(this),this.status=1}d(Kb,ym);function Es(h){this.g=h}d(Es,qb),Es.prototype.ra=function(){we(this.g,"a")},Es.prototype.qa=function(h){we(this.g,new Wb(h))},Es.prototype.pa=function(h){we(this.g,new Kb)},Es.prototype.oa=function(){we(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,XI=function(){return new kc},YI=function(){return Sc()},QI=Ta,Vv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,kd=Ac,lb.COMPLETE="complete",GI=lb,nb.EventType=Go,Go.OPEN="a",Go.CLOSE="b",Go.ERROR="c",Go.MESSAGE="d",he.prototype.listen=he.prototype.J,Il=nb,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,HI=it}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const y1="@firebase/firestore",w1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new $I("@firebase/firestore");function Is(){return is.logLevel}function X(e,...t){if(is.logLevel<=Se.DEBUG){const r=t.map(tw);is.debug(`Firestore (${Ro}): ${e}`,...r)}}function mi(e,...t){if(is.logLevel<=Se.ERROR){const r=t.map(tw);is.error(`Firestore (${Ro}): ${e}`,...r)}}function ho(e,...t){if(is.logLevel<=Se.WARN){const r=t.map(tw);is.warn(`Firestore (${Ro}): ${e}`,...r)}}function tw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,ZI(e,n,r)}function ZI(e,t,r){let n=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw mi(n),new Error(n)}function Ie(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||ZI(t,i,n)}function ue(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ko{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(nr.UNAUTHENTICATED))}shutdown(){}}class D3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ie(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oi)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ie(typeof n.accessToken=="string",31837,{l:n}),new JI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ie(t===null||typeof t=="string",2055,{h:t}),new nr(t)}}class L3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new L3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,w3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ie(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ie(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new x1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=$3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function xe(e,t){return e<t?-1:e>t?1:0}function Fv(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return cg(i)===cg(a)?xe(i,a):cg(i)?1:-1}return xe(e.length,t.length)}const z3=55296,U3=57343;function cg(e){const t=e.charCodeAt(0);return t>=z3&&t<=U3}function po(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__name__";class kn{constructor(t,r,n){r===void 0?r=0:r>t.length&&ae(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ae(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return kn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof kn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=kn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return xe(t.length,r.length)}static compareSegments(t,r){const n=kn.isNumericId(t),i=kn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?kn.extractNumericId(t).compare(kn.extractNumericId(r)):Fv(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class Ve extends kn{construct(t,r,n){return new Ve(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ve(r)}static emptyPath(){return new Ve([])}}const B3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends kn{construct(t,r,n){return new Gt(t,r,n)}static isValidIdentifier(t){return B3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_1}static keyField(){return new Gt([_1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gt(r)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie(Ve.fromString(t))}static fromName(t){return new ie(Ve.fromString(t).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ve.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new Ve(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function q3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function b1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function E1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Uh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ae(12329,{type:typeof e})}function Cr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Uh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Bu(e,t){if(!tj(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=-62135596800,A1=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*A1);return new We(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<S1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A1}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,We._jsonSchema))return new We(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-S1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:yt("string",We._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(t){return new le(t)}static min(){return new le(new We(0,0))}static max(){return new le(new We(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function W3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=le.fromTimestamp(n===1e9?new We(r+1,0):new We(r,n));return new da(i,ie.empty(),t)}function K3(e){return new da(e.readTime,e.key,gu)}class da{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new da(le.min(),ie.empty(),gu)}static max(){return new da(le.max(),ie.empty(),gu)}}function H3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:xe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==G3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof $?r:$.resolve(r)}catch(r){return $.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):$.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):$.reject(r)}static resolve(t){return new $((r,n)=>{r(t)})}static reject(t){return new $((r,n)=>{n(t)})}static waitFor(t){return new $((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=$.resolve(!1);for(const n of t)r=r.next(i=>i?$.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new $((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new $((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function Y3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Mo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-1;function qh(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function X3(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="";function Z3(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=P1(t)),t=J3(e.get(r),t);return P1(t)}function J3(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case rj:r+="";break;default:r+=a}}return r}function P1(e){return e+rj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ba(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function nj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||Ht.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ed(this.root,t,this.comparator,!0)}}class ed{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ht(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ae(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ht(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new C1(this.data.getIterator())}getIteratorFrom(t){return new C1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ct)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ct(this.comparator);return r.data=t,r}}class C1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.fields=t,t.sort(Gt.comparator)}static empty(){return new Lr([])}unionWith(t){let r=new Ct(Gt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Lr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ij("Invalid base64 string: "+a):a}}(t);return new Zt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Zt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const eF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(e){if(Ie(!!e,39018),typeof e=="string"){let t=0;const r=eF.exec(e);if(Ie(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ha(e){return typeof e=="string"?Zt.fromBase64String(e):Zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="server_timestamp",sj="__type__",oj="__previous_value__",lj="__local_write_time__";function iw(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[sj])==null?void 0:n.stringValue)===aj}function Wh(e){const t=e.mapValue.fields[oj];return iw(t)?Wh(t):t}function vu(e){const t=fa(e.mapValue.fields[lj].timestampValue);return new We(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(t,r,n,i,a,s,o,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const _f="(default)";class yu{constructor(t,r){this.projectId=t,this.database=r||_f}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="__type__",rF="__max__",td={mapValue:{}},cj="__vector__",bf="value";function pa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iw(e)?4:iF(e)?9007199254740991:nF(e)?10:11:ae(28295,{value:e})}function Wn(e,t){if(e===t)return!0;const r=pa(e);if(r!==pa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vu(e).isEqual(vu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=fa(i.timestampValue),o=fa(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return ha(i.bytesValue).isEqual(ha(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ut(i.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ut(i.integerValue)===ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ut(i.doubleValue),o=ut(a.doubleValue);return s===o?xf(s)===xf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],Wn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(T1(s)!==T1(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Wn(s[l],o[l])))return!1;return!0}(e,t);default:return ae(52216,{left:e})}}function wu(e,t){return(e.values||[]).find(r=>Wn(r,t))!==void 0}function mo(e,t){if(e===t)return 0;const r=pa(e),n=pa(t);if(r!==n)return xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xe(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ut(a.integerValue||a.doubleValue),l=ut(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return I1(e.timestampValue,t.timestampValue);case 4:return I1(vu(e),vu(t));case 5:return Fv(e.stringValue,t.stringValue);case 6:return function(a,s){const o=ha(a),l=ha(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=xe(o[u],l[u]);if(c!==0)return c}return xe(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=xe(ut(a.latitude),ut(s.latitude));return o!==0?o:xe(ut(a.longitude),ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return j1(e.arrayValue,t.arrayValue);case 10:return function(a,s){var p,m,g,w;const o=a.fields||{},l=s.fields||{},u=(p=o[bf])==null?void 0:p.arrayValue,c=(m=l[bf])==null?void 0:m.arrayValue,d=xe(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return d!==0?d:j1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===td.mapValue&&s===td.mapValue)return 0;if(a===td.mapValue)return 1;if(s===td.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=Fv(l[d],c[d]);if(p!==0)return p;const m=mo(o[l[d]],u[c[d]]);if(m!==0)return m}return xe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ae(23264,{he:r})}}function I1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xe(e,t);const r=fa(e),n=fa(t),i=xe(r.seconds,n.seconds);return i!==0?i:xe(r.nanos,n.nanos)}function j1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=mo(r[i],n[i]);if(a)return a}return xe(r.length,n.length)}function go(e){return $v(e)}function $v(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=fa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return ha(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=$v(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${$v(r.fields[s])}`;return i+"}"}(e.mapValue):ae(61005,{value:e})}function Rd(e){switch(pa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(e);return t?16+Rd(t):16;case 5:return 2*e.stringValue.length;case 6:return ha(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Rd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return ba(n.fields,(a,s)=>{i+=a.length+Rd(s)}),i}(e.mapValue);default:throw ae(13486,{value:e})}}function O1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zv(e){return!!e&&"integerValue"in e}function aw(e){return!!e&&"arrayValue"in e}function N1(e){return!!e&&"nullValue"in e}function k1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dd(e){return!!e&&"mapValue"in e}function nF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[uj])==null?void 0:n.stringValue)===cj}function Kl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ba(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Kl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Kl(e.arrayValue.values[r]);return t}return{...e}}function iF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.value=t}static empty(){return new br({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Dd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(r)}setAll(t){let r=Gt.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Kl(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Dd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){ba(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new br(Kl(this.value))}}function dj(e){const t=[];return ba(e.fields,(r,n)=>{const i=new Gt([r]);if(Dd(n)){const a=dj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Lr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ar(t,0,le.min(),le.min(),le.min(),br.empty(),0)}static newFoundDocument(t,r,n,i){return new ar(t,1,r,le.min(),n,i,0)}static newNoDocument(t,r){return new ar(t,2,r,le.min(),le.min(),br.empty(),0)}static newUnknownDocument(t,r){return new ar(t,3,r,le.min(),le.min(),br.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r){this.position=t,this.inclusive=r}}function R1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(s.referenceValue),r.key):n=mo(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function D1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Wn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,r="asc"){this.field=t,this.dir=r}}function aF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{}class vt extends fj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new oF(t,r,n):r==="array-contains"?new cF(t,n):r==="in"?new dF(t,n):r==="not-in"?new fF(t,n):r==="array-contains-any"?new hF(t,n):new vt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new lF(t,n):new uF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(mo(r,this.value)):r!==null&&pa(this.value)===pa(r)&&this.matchesComparison(mo(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends fj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new En(t,r)}matches(t){return hj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hj(e){return e.op==="and"}function pj(e){return sF(e)&&hj(e)}function sF(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function Uv(e){if(e instanceof vt)return e.field.canonicalString()+e.op.toString()+go(e.value);if(pj(e))return e.filters.map(t=>Uv(t)).join(",");{const t=e.filters.map(r=>Uv(r)).join(",");return`${e.op}(${t})`}}function mj(e,t){return e instanceof vt?function(n,i){return i instanceof vt&&n.op===i.op&&n.field.isEqual(i.field)&&Wn(n.value,i.value)}(e,t):e instanceof En?function(n,i){return i instanceof En&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&mj(s,i.filters[o]),!0):!1}(e,t):void ae(19439)}function gj(e){return e instanceof vt?function(r){return`${r.field.canonicalString()} ${r.op} ${go(r.value)}`}(e):e instanceof En?function(r){return r.op.toString()+" {"+r.getFilters().map(gj).join(" ,")+"}"}(e):"Filter"}class oF extends vt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class lF extends vt{constructor(t,r){super(t,"in",r),this.keys=vj("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class uF extends vt{constructor(t,r){super(t,"not-in",r),this.keys=vj("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function vj(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class cF extends vt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return aw(r)&&wu(r.arrayValue,this.value)}}class dF extends vt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&wu(this.value.arrayValue,r)}}class fF extends vt{constructor(t,r){super(t,"not-in",r)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!wu(this.value.arrayValue,r)}}class hF extends vt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!aw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>wu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function M1(e,t=null,r=[],n=[],i=null,a=null,s=null){return new pF(e,t,r,n,i,a,s)}function sw(e){const t=ue(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Uv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),qh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>go(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>go(n)).join(",")),t.Te=r}return t.Te}function ow(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!aF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!mj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!D1(e.startAt,t.startAt)&&D1(e.endAt,t.endAt)}function Bv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mF(e,t,r,n,i,a,s,o){return new qu(e,t,r,n,i,a,s,o)}function Kh(e){return new qu(e)}function L1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function yj(e){return e.collectionGroup!==null}function Hl(e){const t=ue(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(Gt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Sf(a,n))}),r.has(Gt.keyField().canonicalString())||t.Ie.push(new Sf(Gt.keyField(),n))}return t.Ie}function Vn(e){const t=ue(e);return t.Ee||(t.Ee=gF(t,Hl(e))),t.Ee}function gF(e,t){if(e.limitType==="F")return M1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sf(i.field,a)});const r=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return M1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function qv(e,t){const r=e.filters.concat([t]);return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Wv(e,t,r){return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Hh(e,t){return ow(Vn(e),Vn(t))&&e.limitType===t.limitType}function wj(e){return`${sw(Vn(e))}|lt:${e.limitType}`}function js(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>gj(i)).join(", ")}]`),qh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>go(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>go(i)).join(",")),`Target(${n})`}(Vn(e))}; limitType=${e.limitType})`}function Gh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Hl(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=R1(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Hl(n),i)||n.endAt&&!function(s,o,l){const u=R1(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Hl(n),i))}(e,t)}function vF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xj(e){return(t,r)=>{let n=!1;for(const i of Hl(e)){const a=yF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function yF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?mo(l,u):ae(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ae(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ba(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return nj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new rt(ie.comparator);function gi(){return wF}const _j=new rt(ie.comparator);function jl(...e){let t=_j;for(const r of e)t=t.insert(r.key,r);return t}function bj(e){let t=_j;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ua(){return Gl()}function Ej(){return Gl()}function Gl(){return new ms(e=>e.toString(),(e,t)=>e.isEqual(t))}const xF=new rt(ie.comparator),_F=new Ct(ie.comparator);function _e(...e){let t=_F;for(const r of e)t=t.add(r);return t}const bF=new Ct(xe);function EF(){return bF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function Sj(e){return{integerValue:""+e}}function SF(e,t){return X3(t)?Sj(t):lw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function AF(e,t,r){return e instanceof Af?function(i,a){const s={fields:{[sj]:{stringValue:aj},[lj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iw(a)&&(a=Wh(a)),a&&(s.fields[oj]=a),{mapValue:s}}(r,t):e instanceof xu?Pj(e,t):e instanceof _u?Tj(e,t):function(i,a){const s=Aj(i,a),o=V1(s)+V1(i.Ae);return zv(s)&&zv(i.Ae)?Sj(o):lw(i.serializer,o)}(e,t)}function PF(e,t,r){return e instanceof xu?Pj(e,t):e instanceof _u?Tj(e,t):r}function Aj(e,t){return e instanceof Pf?function(n){return zv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Af extends Qh{}class xu extends Qh{constructor(t){super(),this.elements=t}}function Pj(e,t){const r=Cj(t);for(const n of e.elements)r.some(i=>Wn(i,n))||r.push(n);return{arrayValue:{values:r}}}class _u extends Qh{constructor(t){super(),this.elements=t}}function Tj(e,t){let r=Cj(t);for(const n of e.elements)r=r.filter(i=>!Wn(i,n));return{arrayValue:{values:r}}}class Pf extends Qh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function V1(e){return ut(e.integerValue||e.doubleValue)}function Cj(e){return aw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function TF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof xu&&i instanceof xu||n instanceof _u&&i instanceof _u?po(n.elements,i.elements,Wn):n instanceof Pf&&i instanceof Pf?Wn(n.Ae,i.Ae):n instanceof Af&&i instanceof Af}(e.transform,t.transform)}class CF{constructor(t,r){this.version=t,this.transformResults=r}}class tn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new tn}static exists(t){return new tn(void 0,t)}static updateTime(t){return new tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Md(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Yh{}function Ij(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uw(e.key,tn.none()):new Wu(e.key,e.data,tn.none());{const r=e.data,n=br.empty();let i=new Ct(Gt.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Ea(e.key,n,new Lr(i.toArray()),tn.none())}}function IF(e,t,r){e instanceof Wu?function(i,a,s){const o=i.value.clone(),l=$1(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Ea?function(i,a,s){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=$1(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(jj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Ql(e,t,r,n){return e instanceof Wu?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=a.value.clone(),c=z1(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Ea?function(a,s,o,l){if(!Md(a.precondition,s))return o;const u=z1(a.fieldTransforms,l,s),c=s.data;return c.setAll(jj(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,s,o){return Md(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function jF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Aj(n.transform,i||null);a!=null&&(r===null&&(r=br.empty()),r.set(n.field,a))}return r||null}function F1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&po(n,i,(a,s)=>TF(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wu extends Yh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ea extends Yh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function jj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function $1(e,t,r){const n=new Map;Ie(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,PF(s,o,r[i]))}return n}function z1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,AF(a,s,t))}return n}class uw extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OF extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&IF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ql(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ql(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Ej();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=Ij(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(le.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),_e())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(r,n)=>F1(r,n))&&po(this.baseMutations,t.baseMutations,(r,n)=>F1(r,n))}}class cw{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ie(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return xF}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new cw(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ee;function DF(e){switch(e){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:e})}}function Oj(e){if(e===void 0)return mi("GRPC error has no .code"),F.UNKNOWN;switch(e){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:e})}}(Ee=pt||(pt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new sa([4294967295,4294967295],0);function U1(e){const t=MF().encode(e),r=new KI;return r.update(t),new Uint8Array(r.digest())}function B1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new sa([r,n],0),new sa([i,a],0)]}class dw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ol(`Invalid padding: ${r}`);if(n<0)throw new Ol(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=sa.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(sa.fromNumber(n)));return i.compare(LF)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=U1(t),[n,i]=B1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new dw(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=U1(t),[n,i]=B1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Xh(le.min(),i,new rt(xe),gi(),_e())}}class Ku{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ku(n,r,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Nj{constructor(t,r){this.targetId=t,this.Ce=r}}class kj{constructor(t,r,n=Zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class q1{constructor(){this.ve=0,this.Fe=W1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=_e(),r=_e(),n=_e();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ae(38017,{changeType:a})}}),new Ku(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=W1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VF{constructor(t){this.Ge=t,this.ze=new Map,this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ae(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Bv(a))if(n===0){const s=new ie(a.path);this.et(r,s,ar.newNoDocument(s,le.min()))}else Ie(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ha(n).toUint8Array()}catch(l){if(l instanceof ij)return ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new dw(s,i,a)}catch(l){return ho(l instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Bv(o.target)){const l=new ie(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,ar.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=_e();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new Xh(t,r,this.Ye,this.je,n);return this.je=gi(),this.Je=rd(),this.He=rd(),this.Ye=new rt(xe),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new q1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Ct(xe),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Ct(xe),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function rd(){return new rt(ie.comparator)}function W1(){return new rt(ie.comparator)}const FF={asc:"ASCENDING",desc:"DESCENDING"},$F={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zF={and:"AND",or:"OR"};class UF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Kv(e,t){return e.useProto3Json||qh(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function BF(e,t){return Tf(e,t.toTimestamp())}function Fn(e){return Ie(!!e,49232),le.fromTimestamp(function(r){const n=fa(r);return new We(n.seconds,n.nanos)}(e))}function fw(e,t){return Hv(e,t).canonicalString()}function Hv(e,t){const r=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Dj(e){const t=Ve.fromString(e);return Ie($j(t),10190,{key:t.toString()}),t}function Gv(e,t){return fw(e.databaseId,t.path)}function dg(e,t){const r=Dj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie(Lj(r))}function Mj(e,t){return fw(e.databaseId,t)}function qF(e){const t=Dj(e);return t.length===4?Ve.emptyPath():Lj(t)}function Qv(e){return new Ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lj(e){return Ie(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function K1(e,t,r){return{name:Gv(e,t),fields:r.value.mapValue.fields}}function WF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ie(c===void 0||typeof c=="string",58123),Zt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?F.UNKNOWN:Oj(u.code);return new Y(c,u.message||"")}(s);r=new kj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=dg(e,n.document.name),a=Fn(n.document.updateTime),s=n.document.createTime?Fn(n.document.createTime):le.min(),o=new br({mapValue:{fields:n.document.fields}}),l=ar.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Ld(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=dg(e,n.document),a=n.readTime?Fn(n.readTime):le.min(),s=ar.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Ld([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=dg(e,n.document),a=n.removedTargetIds||[];r=new Ld([],a,i,null)}else{if(!("filter"in t))return ae(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new RF(i,a),o=n.targetId;r=new Nj(o,s)}}return r}function KF(e,t){let r;if(t instanceof Wu)r={update:K1(e,t.key,t.value)};else if(t instanceof uw)r={delete:Gv(e,t.key)};else if(t instanceof Ea)r={update:K1(e,t.key,t.data),updateMask:t6(t.fieldMask)};else{if(!(t instanceof OF))return ae(16599,{Vt:t.type});r={verify:Gv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _u)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ae(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:BF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ae(27497)}(e,t.precondition)),r}function HF(e,t){return e&&e.length>0?(Ie(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?Fn(i.updateTime):Fn(a);return s.isEqual(le.min())&&(s=Fn(a)),new CF(s,i.transformResults||[])}(r,t))):[]}function GF(e,t){return{documents:[Mj(e,t.path)]}}function QF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Mj(e,i);const a=function(u){if(u.length!==0)return Fj(En.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Os(p.field),direction:ZF(p.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Kv(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function YF(e){let t=qF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ie(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=Vj(d);return p instanceof En&&pj(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(p=>function(g){return new Sf(Ns(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,qh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new Ef(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new Ef(m,p)}(r.endAt)),mF(t,i,s,a,o,"F",l,u)}function XF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Vj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ns(r.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ns(r.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ns(r.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ns(r.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(e):e.fieldFilter!==void 0?function(r){return vt.create(Ns(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return En.create(r.compositeFilter.filters.map(n=>Vj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(r.compositeFilter.op))}(e):ae(30097,{filter:e})}function ZF(e){return FF[e]}function JF(e){return $F[e]}function e6(e){return zF[e]}function Os(e){return{fieldPath:e.canonicalString()}}function Ns(e){return Gt.fromServerFormat(e.fieldPath)}function Fj(e){return e instanceof vt?function(r){if(r.op==="=="){if(k1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NAN"}};if(N1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(k1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NAN"}};if(N1(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(r.field),op:JF(r.op),value:r.value}}}(e):e instanceof En?function(r){const n=r.getFilters().map(i=>Fj(i));return n.length===1?n[0]:{compositeFilter:{op:e6(r.op),filters:n}}}(e):ae(54877,{filter:e})}function t6(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function $j(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r,n,i,a=le.min(),s=le.min(),o=Zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t){this.yt=t}}function n6(e){const t=YF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Wv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.Cn=new a6}addToCollectionParentIndex(t,r){return this.Cn.add(r),$.resolve()}getCollectionParents(t,r){return $.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return $.resolve()}deleteFieldIndex(t,r){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,r){return $.resolve()}getDocumentsMatchingTarget(t,r){return $.resolve(null)}getIndexType(t,r){return $.resolve(0)}getFieldIndexes(t,r){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,r){return $.resolve(da.min())}getMinOffsetFromCollectionGroup(t,r){return $.resolve(da.min())}updateCollectionGroup(t,r,n){return $.resolve()}updateIndexEntries(t,r){return $.resolve()}}class a6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Ct(Ve.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ct(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zj=41943040;class xr{static withCacheSize(t){return new xr(t,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(zj,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="LruGarbageCollector",s6=1048576;function Q1([e,t],[r,n]){const i=xe(e,r);return i===0?xe(t,n):i}class o6{constructor(t){this.Ir=t,this.buffer=new Ct(Q1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Q1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class l6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(G1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Mo(r)?X(G1,"Ignoring IndexedDB error during garbage collection: ",r):await Do(r)}await this.Vr(3e5)})}}class u6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return $.resolve(Bh.ce);const n=new o6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(H1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(u=Date.now(),Is()<=Se.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function c6(e,t){return new u6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.changes=new ms(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ar.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Ql(n.mutation,i,Lr.empty(),We.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,_e()).next(()=>n))}getLocalViewOfDocuments(t,r,n=_e()){const i=Ua();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=jl();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Ua();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,_e()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=gi();const s=Gl(),o=function(){return Gl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ea)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ql(c.mutation,u,c.mutation.getFieldMask(),We.now())):s.set(u.key,Lr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>o.set(u,new f6(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Gl();let i=new rt((s,o)=>s-o),a=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Lr.empty();c=o.applyToLocalView(u,c),n.set(l,c);const d=(i.get(o.batchId)||_e()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=Ej();c.forEach(p=>{if(!a.has(p)){const m=Ij(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return $.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):yj(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$.resolve(Ua());let o=gu,l=a;return s.next(u=>$.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,_e())).next(c=>({batchId:o,changes:bj(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=jl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=jl();return this.indexManager.getCollectionParents(t,a).next(o=>$.forEach(o,l=>{const u=function(d,p){return new qu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ar.newInvalidDocument(c)))});let o=jl();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Ql(c.mutation,u,Lr.empty(),We.now()),Gh(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return $.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(r)),$.resolve()}getNamedQuery(t,r){return $.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:n6(i.bundledQuery),readTime:Fn(i.readTime)}}(r)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(t,r){return $.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ua();return $.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),$.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),$.resolve()}getOverlaysForCollection(t,r,n){const i=Ua(),a=r.length+1,s=new ie(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new rt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ua(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Ua(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return $.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new kF(r,n));let a=this.qr.get(r);a===void 0&&(a=_e(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Qr=new Ct(Mt.$r),this.Ur=new Ct(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Mt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Mt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1);let a=_e();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Mt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Mt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||xe(t.Yr,r.Yr)}static Kr(t,r){return xe(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new NF(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Mt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(t,r){return $.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?nw:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Mt(r,0),i=new Mt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ct(xe);return r.forEach(i=>{const a=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),$.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const s=new Mt(new ie(a),0);let o=new Ct(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),$.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ie(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $.forEach(r.mutations,i=>{const a=new Mt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Mt(r,0),i=this.Zr.firstAfterOrEqual(n);return $.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t){this.ri=t,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $.resolve(n?n.document.mutableCopy():ar.newInvalidDocument(r))}getEntries(t,r){let n=gi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))}),$.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=gi();const s=r.path,o=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||H3(K3(c),n)<=0||(i.has(c.key)||Gh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(t,r,n,i){ae(9500)}ii(t,r){return $.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new w6(this)}getSize(t){return $.resolve(this.size)}}class w6 extends d6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),$.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.persistence=t,this.si=new ms(r=>sw(r),ow),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new hw,this.targetCount=0,this.ai=vo.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new vo(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,$.resolve()}updateTargetData(t,r){return this.Pr(r),$.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return $.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),$.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),$.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),$.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return $.resolve(n)}containsKey(t,r){return $.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new g6,this.referenceDelegate=t(this),this.Pi=new x6(this),this.indexManager=new i6,this.remoteDocumentCache=function(i){return new y6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new r6(r),this.Ii=new p6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new m6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new v6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new _6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return $.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class _6 extends Q3{constructor(t){super(),this.currentSequenceNumber=t}}class pw{constructor(t){this.persistence=t,this.Ri=new hw,this.Vi=null}static mi(t){return new pw(t)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),$.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,le.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return $.or([()=>$.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Cf{constructor(t,r){this.persistence=t,this.pi=new ms(n=>Z3(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=c6(this,r)}static mi(t,r){return new Cf(t,r)}Ei(){}di(t){return $.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return $.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?$.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,le.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Rd(t.data.value)),r}br(t,r,n){return $.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return $.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=_e(),i=_e();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return g4()?8:Y3(p4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new b6;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Is()<=Se.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",js(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Is()<=Se.DEBUG&&X("QueryEngine","Query:",js(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Is()<=Se.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",js(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vn(r))):$.resolve())}ys(t,r){if(L1(r))return $.resolve(null);let n=Vn(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Wv(r,null,"F"),n=Vn(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=_e(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(t,Wv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return L1(r)||i.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?$.resolve(null):(Is()<=Se.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(r)),this.vs(t,s,r,W3(i,gu)).next(o=>o))})}Ds(t,r){let n=new Ct(xj(t));return r.forEach((i,a)=>{Gh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Is()<=Se.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",js(r)),this.ps.getDocumentsMatchingQuery(t,r,da.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LocalStore",S6=3e8;class A6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new rt(xe),this.xs=new ms(a=>sw(a),ow),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function P6(e,t,r,n){return new A6(e,t,r,n)}async function Bj(e,t){const r=ue(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=_e();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function T6(e,t){const r=ue(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,p=d.keys();let m=$.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(w=>{const v=u.docVersions.get(g);Ie(v!==null,48541),w.version.compareTo(v)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=_e();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function qj(e){const t=ue(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function C6(e,t){const r=ue(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Zt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(w,v,_){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=S6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,c)&&o.push(r.Pi.updateTargetData(a,m))});let l=gi(),u=_e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(I6(a,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(le.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return $.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function I6(e,t,r){let n=_e(),i=_e();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=gi();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(le.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):X(gw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function j6(e,t){const r=ue(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=nw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function O6(e,t){const r=ue(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,$.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Qi(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Yv(e,t,r){const n=ue(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mo(s))throw s;X(gw,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function Y1(e,t,r){const n=ue(e);let i=le.min(),a=_e();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ue(l),p=d.xs.get(c);return p!==void 0?$.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,c)}(n,s,Vn(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:le.min(),r?a:_e())).next(o=>(N6(n,vF(t),o),{documents:o,Qs:a})))}function N6(e,t,r){let n=e.Os.get(t)||le.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class X1{constructor(){this.activeTargetIds=EF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class k6{constructor(){this.Mo=new X1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new X1,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="ConnectivityMonitor";class J1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(Z1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(Z1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Xv(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===_f?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=Xv(),o=this.zo(t,r.toUriEncodedString());X(fg,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=J0(u);return this.Jo(t,o,l,n,c).then(d=>(X(fg,`Received RPC '${t}' ${s}: `,d),d),d=>{throw ho(fg,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=D6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class V6 extends M6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=Xv();return new Promise((o,l)=>{const u=new HI;u.setWithCredentials(!0),u.listenOnce(GI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kd.NO_ERROR:const d=u.getResponseJson();X(tr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case kd.TIMEOUT:X(tr,`RPC '${t}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const p=u.getStatus();if(X(tr,`RPC '${t}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new Y(w,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(tr,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);X(tr,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Xv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=XI(),o=YI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(tr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.I_(d);let p=!1,m=!1;const g=new L6({Yo:v=>{m?X(tr,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(p||(X(tr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),X(tr,`RPC '${t}' stream ${i} sending:`,v),d.send(v))},Zo:()=>d.close()}),w=(v,_,b)=>{v.listen(_,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return w(d,Il.EventType.OPEN,()=>{m||(X(tr,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),w(d,Il.EventType.CLOSE,()=>{m||(m=!0,X(tr,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(d))}),w(d,Il.EventType.ERROR,v=>{m||(m=!0,ho(tr,`RPC '${t}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),w(d,Il.EventType.MESSAGE,v=>{var _;if(!m){const b=v.data[0];Ie(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(I){X(tr,`RPC '${t}' stream ${i} received error:`,I);const T=I.status;let O=function(j){const D=pt[j];if(D!==void 0)return Oj(D)}(T),S=I.message;O===void 0&&(O=F.INTERNAL,S="Unknown error status: "+T+" with message "+I.message),m=!0,g.a_(new Y(O,S)),d.close()}else X(tr,`RPC '${t}' stream ${i} received:`,b),g.u_(b)}}),w(o,QI.STAT_EVENT,v=>{v.stat===Vv.PROXY?X(tr,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Vv.NOPROXY&&X(tr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){return new UF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="PersistentStream";class Kj{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(mi(r.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(eS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(eS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F6 extends Kj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=WF(this.serializer,t),n=function(a){if(!("targetChange"in a))return le.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Fn(s.readTime):le.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Qv(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Bv(l)?{documents:GF(a,l)}:{query:QF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Rj(a,s.resumeToken);const u=Kv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){o.readTime=Tf(a,s.snapshotVersion.toTimestamp());const u=Kv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=XF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Qv(this.serializer),r.removeTarget=t,this.q_(r)}}class $6 extends Kj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=HF(t.writeResults,t.commitTime),n=Fn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Qv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>KF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{}class U6 extends z6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,Hv(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,Hv(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class B6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class q6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{gs(this)&&(X(as,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Hu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jh(u)}(this))})}),this.Ra=new B6(n,i)}}async function Jh(e){if(gs(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function Hj(e,t){const r=ue(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),xw(r)?ww(r):Lo(r).O_()&&yw(r,t))}function vw(e,t){const r=ue(e),n=Lo(r);r.Ia.delete(t),n.O_()&&Gj(r,t),r.Ia.size===0&&(n.O_()?n.L_():gs(r)&&r.Ra.set("Unknown"))}function yw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(le.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Lo(e).Y_(t)}function Gj(e,t){e.Va.Ue(t),Lo(e).Z_(t)}function ww(e){e.Va=new VF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Lo(e).start(),e.Ra.ua()}function xw(e){return gs(e)&&!Lo(e).x_()&&e.Ia.size>0}function gs(e){return ue(e).Ea.size===0}function Qj(e){e.Va=void 0}async function W6(e){e.Ra.set("Online")}async function K6(e){e.Ia.forEach((t,r)=>{yw(e,t)})}async function H6(e,t){Qj(e),xw(e)?(e.Ra.ha(t),ww(e)):e.Ra.set("Unknown")}async function G6(e,t,r){if(e.Ra.set("Online"),t instanceof kj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){X(as,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await If(e,n)}else if(t instanceof Ld?e.Va.Ze(t):t instanceof Nj?e.Va.st(t):e.Va.tt(t),!r.isEqual(le.min()))try{const n=await qj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Zt.EMPTY_BYTE_STRING,c.snapshotVersion)),Gj(a,l);const d=new Qi(c.target,l,u,c.sequenceNumber);yw(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){X(as,"Failed to raise snapshot:",n),await If(e,n)}}async function If(e,t,r){if(!Mo(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),r||(r=()=>qj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(as,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Jh(e)})}function Yj(e,t){return t().catch(r=>If(e,r,t))}async function ep(e){const t=ue(e),r=ma(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nw;for(;Q6(t);)try{const i=await j6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,Y6(t,i)}catch(i){await If(t,i)}Xj(t)&&Zj(t)}function Q6(e){return gs(e)&&e.Ta.length<10}function Y6(e,t){e.Ta.push(t);const r=ma(e);r.O_()&&r.X_&&r.ea(t.mutations)}function Xj(e){return gs(e)&&!ma(e).x_()&&e.Ta.length>0}function Zj(e){ma(e).start()}async function X6(e){ma(e).ra()}async function Z6(e){const t=ma(e);for(const r of e.Ta)t.ea(r.mutations)}async function J6(e,t,r){const n=e.Ta.shift(),i=cw.from(n,t,r);await Yj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ep(e)}async function e$(e,t){t&&ma(e).X_&&await async function(n,i){if(function(s){return DF(s)&&s!==F.ABORTED}(i.code)){const a=n.Ta.shift();ma(n).B_(),await Yj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ep(n)}}(e,t),Xj(e)&&Zj(e)}async function tS(e,t){const r=ue(e);r.asyncQueue.verifyOperationInProgress(),X(as,"RemoteStore received new credentials");const n=gs(r);r.Ea.add(3),await Hu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Jh(r)}async function t$(e,t){const r=ue(e);t?(r.Ea.delete(2),await Jh(r)):t||(r.Ea.add(2),await Hu(r),r.Ra.set("Unknown"))}function Lo(e){return e.ma||(e.ma=function(r,n,i){const a=ue(r);return a.sa(),new F6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:W6.bind(null,e),t_:K6.bind(null,e),r_:H6.bind(null,e),H_:G6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xw(e)?ww(e):e.Ra.set("Unknown")):(await e.ma.stop(),Qj(e))})),e.ma}function ma(e){return e.fa||(e.fa=function(r,n,i){const a=ue(r);return a.sa(),new $6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:X6.bind(null,e),r_:e$.bind(null,e),ta:Z6.bind(null,e),na:J6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ep(e)):(await e.fa.stop(),e.Ta.length>0&&(X(as,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new _w(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bw(e,t){if(mi("AsyncQueue",`${t}: ${e}`),Mo(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=jl(),this.sortedSet=new rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new to;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.ga=new rt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ae(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class yo{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new yo(t,r,to.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class n${constructor(){this.queries=nS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ue(r),a=i.queries;i.queries=nS(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function nS(){return new ms(e=>wj(e),Hh)}async function Ew(e,t){const r=ue(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new r$,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=bw(s,`Initialization of query '${js(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&Aw(r)}async function Sw(e,t){const r=ue(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function i$(e,t){const r=ue(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Aw(r)}function a$(e,t,r){const n=ue(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function Aw(e){e.Ca.forEach(t=>{t.next()})}var Zv,iS;(iS=Zv||(Zv={})).Ma="default",iS.Cache="cache";class Pw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new yo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(t){this.key=t}}class eO{constructor(t){this.key=t}}class s${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=xj(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new rS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Gh(this.query,d)?d:null,g=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;p&&m?p.data.isEqual(m.data)?g!==w&&(n.track({type:3,doc:m}),v=!0):this.su(p,m)||(n.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),v=!0):p&&!m&&(n.track({type:1,doc:p}),v=!0,(l||u)&&(o=!0)),v&&(m?(s=s.add(m),a=w?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,d)=>function(m,g){const w=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:v})}};return w(m)-w(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new yo(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=_e(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new eO(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new Jj(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=_e();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tw="SyncEngine";class o${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class l${constructor(t){this.key=t,this.hu=!1}}class u${constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ms(o=>wj(o),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new hw,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c$(e,t,r=!0){const n=sO(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await tO(n,t,r,!0),i}async function d$(e,t){const r=sO(e);await tO(r,t,!0,!1)}async function tO(e,t,r,n){const i=await O6(e.localStore,Vn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await f$(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Hj(e.remoteStore,i),o}async function f$(e,t,r,n,i){e.pu=(d,p,m)=>async function(w,v,_,b){let E=v.view.ru(_);E.Cs&&(E=await Y1(w.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,E)));const I=b&&b.targetChanges.get(v.targetId),T=b&&b.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(E,w.isPrimaryClient,I,T);return sS(w,v.targetId,O.au),O.snapshot}(e,d,p,m);const a=await Y1(e.localStore,t,!0),s=new s$(t,a.Qs),o=s.ru(a.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);sS(e,r,u.au);const c=new o$(t,r,s);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function h$(e,t,r){const n=ue(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Hh(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Yv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&vw(n.remoteStore,i.targetId),Jv(n,i.targetId)}).catch(Do)):(Jv(n,i.targetId),await Yv(n.localStore,i.targetId,!0))}async function p$(e,t){const r=ue(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),vw(r.remoteStore,n.targetId))}async function m$(e,t,r){const n=b$(e);try{const i=await function(s,o){const l=ue(s),u=We.now(),c=o.reduce((m,g)=>m.add(g.key),_e());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=gi(),w=_e();return l.Ns.getEntries(m,c).next(v=>{g=v,g.forEach((_,b)=>{b.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{d=v;const _=[];for(const b of o){const E=jF(b,d.get(b.key).overlayedDocument);E!=null&&_.push(new Ea(b.key,E,dj(E.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,o)}).next(v=>{p=v;const _=v.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,v.batchId,_)})}).then(()=>({batchId:p.batchId,changes:bj(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new rt(xe)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await Gu(n,i.changes),await ep(n.remoteStore)}catch(i){const a=bw(i,"Failed to persist write");r.reject(a)}}async function rO(e,t){const r=ue(e);try{const n=await C6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ie(s.hu,14607):i.removedDocuments.size>0&&(Ie(s.hu,42227),s.hu=!1))}),await Gu(r,n,t)}catch(n){await Do(n)}}function aS(e,t,r){const n=ue(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ue(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.Sa)p.va(o)&&(u=!0)}),u&&Aw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function g$(e,t,r){const n=ue(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new rt(ie.comparator);s=s.insert(a,ar.newNoDocument(a,le.min()));const o=_e().add(a),l=new Xh(le.min(),new Map,new rt(xe),s,o);await rO(n,l),n.du=n.du.remove(a),n.Au.delete(t),Cw(n)}else await Yv(n.localStore,t,!1).then(()=>Jv(n,t,r)).catch(Do)}async function v$(e,t){const r=ue(e),n=t.batch.batchId;try{const i=await T6(r.localStore,t);iO(r,n,null),nO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Gu(r,i)}catch(i){await Do(i)}}async function y$(e,t,r){const n=ue(e);try{const i=await function(s,o){const l=ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Ie(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);iO(n,t,r),nO(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Gu(n,i)}catch(i){await Do(i)}}function nO(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function iO(e,t,r){const n=ue(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Jv(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||aO(e,n)})}function aO(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(vw(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),Cw(e))}function sS(e,t,r){for(const n of r)n instanceof Jj?(e.Ru.addReference(n.key,t),w$(e,n)):n instanceof eO?(X(Tw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||aO(e,n.key)):ae(19791,{wu:n})}function w$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(Tw,"New document in limbo: "+r),e.Eu.add(n),Cw(e))}function Cw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie(Ve.fromString(t)),n=e.fu.next();e.Au.set(n,new l$(r)),e.du=e.du.insert(r,n),Hj(e.remoteStore,new Qi(Vn(Kh(r.path)),n,"TargetPurposeLimboResolution",Bh.ce))}}async function Gu(e,t,r){const n=ue(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=mw.As(l.targetId,u);a.push(d)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,p=>$.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>$.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!Mo(d))throw d;X(gw,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,w)}}}(n.localStore,a))}async function x$(e,t){const r=ue(e);if(!r.currentUser.isEqual(t)){X(Tw,"User change. New user:",t.toKey());const n=await Bj(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Gu(r,n.Ls)}}function _$(e,t){const r=ue(e),n=r.Au.get(t);if(n&&n.hu)return _e().add(n.key);{let i=_e();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function sO(e){const t=ue(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=g$.bind(null,t),t.Pu.H_=i$.bind(null,t.eventManager),t.Pu.yu=a$.bind(null,t.eventManager),t}function b$(e){const t=ue(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=v$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=y$.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return P6(this.persistence,new E6,t.initialUser,this.serializer)}Cu(t){return new Uj(pw.mi,this.serializer)}Du(t){return new k6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class E$ extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ie(this.persistence.referenceDelegate instanceof Cf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new l6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new Uj(n=>Cf.mi(n,r),this.serializer)}}class ey{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>aS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=x$.bind(null,this.syncEngine),await t$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new n$}()}createDatastore(t){const r=Zh(t.databaseInfo.databaseId),n=function(a){return new V6(a)}(t.databaseInfo);return function(a,s,o,l){return new U6(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new q6(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>aS(this.syncEngine,r,0),function(){return J1.v()?new J1:new R6}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const d=new u$(i,a,s,o,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ue(i);X(as,"RemoteStore shutting down."),a.Ea.add(5),await Hu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class S${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{X(ga,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X(ga,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=bw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function pg(e,t){e.asyncQueue.verifyOperationInProgress(),X(ga,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Bj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function oS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await A$(e);X(ga,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>tS(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>tS(t.remoteStore,i)),e._onlineComponents=t}async function A$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(ga,"Using user provided OfflineComponentProvider");try{await pg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ho("Error using user provided cache. Falling back to memory cache: "+r),await pg(e,new jf)}}else X(ga,"Using default OfflineComponentProvider"),await pg(e,new E$(void 0));return e._offlineComponents}async function oO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(ga,"Using user provided OnlineComponentProvider"),await oS(e,e._uninitializedComponentsProvider._online)):(X(ga,"Using default OnlineComponentProvider"),await oS(e,new ey))),e._onlineComponents}function P$(e){return oO(e).then(t=>t.syncEngine)}async function Of(e){const t=await oO(e),r=t.eventManager;return r.onListen=c$.bind(null,t.syncEngine),r.onUnlisten=h$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=d$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=p$.bind(null,t.syncEngine),r}function T$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,d));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Pw(Kh(o.path),c,{includeMetadataChanges:!0,qa:!0});return Ew(a,d)}(await Of(e),e.asyncQueue,t,r,n)),n.promise}function C$(e,t,r={}){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Iw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Sw(a,d)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new Pw(o,c,{includeMetadataChanges:!0,qa:!0});return Ew(a,d)}(await Of(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="firestore.googleapis.com",uS=!0;class cS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uO,this.ssl=uS}else this.host=t.host,this.ssl=t.ssl??uS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lO(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tp{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new R3;switch(n.type){case"firstParty":return new V3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=lS.get(r);n&&(X("ComponentProvider","Removing Datastore"),lS.delete(r),n.terminate())}(this),Promise.resolve()}}function I$(e,t,r,n={}){var u;e=Cr(e,tp);const i=J0(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(u4(`https://${o}`),h4("Firestore",!0)),a.host!==uO&&a.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!vf(l,s)&&(e._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=nr.MOCK_USER;else{c=c4(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new nr(p)}e._authCredentials=new D3(new JI(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class ot{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ot(this.firestore,t,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Bu(r,ot._jsonSchema))return new ot(t,n||null,new ie(Ve.fromString(r.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:yt("string",ot._jsonSchemaVersion),referencePath:yt("string")};class oa extends vs{constructor(t,r,n){super(t,r,Kh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ot(this.firestore,null,new ie(t))}withConverter(t){return new oa(this.firestore,t,this._path)}}function ln(e,t,...r){if(e=qn(e),ej("collection","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return E1(n),new oa(e,null,n)}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return E1(n),new oa(e.firestore,null,n)}}function Ir(e,t,...r){if(e=qn(e),arguments.length===1&&(t=rw.newId()),ej("doc","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return b1(n),new ot(e,null,new ie(n))}{if(!(e instanceof ot||e instanceof oa))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return b1(n),new ot(e.firestore,e instanceof oa?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="AsyncQueue";class fS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wj(this,"async_queue_retry"),this._c=()=>{const n=hg();n&&X(dS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=hg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=hg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;X(dS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",hS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=_w.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ae(47125,{Pc:hS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function hS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class vi extends tp{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new fS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fS(t),this._firestoreClient=void 0,await t}}}function j$(e,t){const r=typeof e=="object"?e:E3(),n=typeof e=="string"?e:_f,i=y3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=o4("firestore");a&&I$(i,...a)}return i}function rp(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||O$(e),e._firestoreClient}function O$(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,u,c){return new tF(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,lO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new S$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xr(Zt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Xr(Zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,Xr._jsonSchema))return Xr.fromBase64String(t.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:yt("string",Xr._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$n._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,$n._jsonSchema))return new $n(t.latitude,t.longitude)}}$n._jsonSchemaVersion="firestore/geoPoint/1.0",$n._jsonSchema={type:yt("string",$n._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new zn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:yt("string",zn._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=/^__.*__$/;class k${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms):new Wu(t,this.data,r,this.fieldTransforms)}}class cO{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Ea(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function dO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:e})}}class Ow{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ow({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(dO(this.Ac)&&N$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class R${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Zh(t)}Cc(t,r,n,i=!1){return new Ow({Ac:t,methodName:r,Dc:n,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(e){const t=e._freezeSettings(),r=Zh(e._databaseId);return new R$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function fO(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);Nw("Data must be an object, but it was:",s,n);const o=hO(n,s);let l,u;if(a.merge)l=new Lr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=ty(t,d,r);if(!s.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mO(c,p)||c.push(p)}l=new Lr(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new k$(new br(o),l,u)}class ap extends jw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ap}}function D$(e,t,r,n){const i=e.Cc(1,t,r);Nw("Data must be an object, but it was:",i,n);const a=[],s=br.empty();ba(n,(l,u)=>{const c=kw(t,l,r);u=qn(u);const d=i.yc(c);if(u instanceof ap)a.push(c);else{const p=Qu(u,d);p!=null&&(a.push(c),s.set(c,p))}});const o=new Lr(a);return new cO(s,o,i.fieldTransforms)}function M$(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[ty(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(ty(t,a[p])),l.push(a[p+1]);const u=[],c=br.empty();for(let p=o.length-1;p>=0;--p)if(!mO(u,o[p])){const m=o[p];let g=l[p];g=qn(g);const w=s.yc(m);if(g instanceof ap)u.push(m);else{const v=Qu(g,w);v!=null&&(u.push(m),c.set(m,v))}}const d=new Lr(u);return new cO(c,d,s.fieldTransforms)}function L$(e,t,r,n=!1){return Qu(r,e.Cc(n?4:3,t))}function Qu(e,t){if(pO(e=qn(e)))return Nw("Unsupported field value:",t,e),hO(e,t);if(e instanceof jw)return function(n,i){if(!dO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Qu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=qn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return SF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=We.fromDate(n);return{timestampValue:Tf(i.serializer,a)}}if(n instanceof We){const a=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,a)}}if(n instanceof $n)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xr)return{bytesValue:Rj(i.serializer,n._byteString)};if(n instanceof ot){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof zn)return function(s,o){return{mapValue:{fields:{[uj]:{stringValue:cj},[bf]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return lw(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Uh(n)}`)}(e,t)}function hO(e,t){const r={};return nj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ba(e,(n,i)=>{const a=Qu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function pO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof We||e instanceof $n||e instanceof Xr||e instanceof ot||e instanceof jw||e instanceof zn)}function Nw(e,t,r){if(!pO(r)||!tj(r)){const n=Uh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ty(e,t,r){if((t=qn(t))instanceof np)return t._internalPath;if(typeof t=="string")return kw(e,t);throw Nf("Field path arguments must be of type string or ",e,!1,void 0,r)}const V$=new RegExp("[~\\*/\\[\\]]");function kw(e,t,r){if(t.search(V$)>=0)throw Nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new np(...t.split("."))._internalPath}catch{throw Nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Nf(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function mO(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new F$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Rw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class F$ extends gO{data(){return super.data()}}function Rw(e,t){return typeof t=="string"?kw(e,t):t instanceof np?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class $$ extends Dw{}function z$(e,t,...r){let n=[];t instanceof Dw&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof Mw).length,o=a.filter(l=>l instanceof sp).length;if(s>1||s>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class sp extends $${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new sp(t,r,n)}_apply(t){const r=this._parse(t);return yO(t._query,r),new vs(t.firestore,t.converter,qv(t._query,r))}_parse(t){const r=ip(t.firestore);return function(a,s,o,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){gS(d,c);const g=[];for(const w of d)g.push(mS(l,a,w));p={arrayValue:{values:g}}}else p=mS(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||gS(d,c),p=L$(o,s,d,c==="in"||c==="not-in");return vt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function U$(e,t,r){const n=t,i=Rw("where",e);return sp._create(i,n,r)}class Mw extends Dw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Mw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:En.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)yO(s,l),s=qv(s,l)}(t._query,r),new vs(t.firestore,t.converter,qv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mS(e,t,r){if(typeof(r=qn(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yj(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Ve.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return O1(e,new ie(n))}if(r instanceof ot)return O1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(r)}.`)}function gS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yO(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class B${convertValue(t,r="none"){switch(pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ae(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ba(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[bf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ut(s.doubleValue));return new zn(r)}convertGeoPoint(t){return new $n(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Wh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vu(t));default:return null}}convertTimestamp(t){const r=fa(t);return new We(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Ve.fromString(t);Ie($j(n),9688,{name:t});const i=new yu(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||mi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Nl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ga extends gO{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ga._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:yt("string",Ga._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vd extends Ga{data(t={}){return super.data(t)}}class Qa{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Nl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Vd(this._firestore,this._userDataWriter,n.key,n,new Nl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:q$(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){e=Cr(e,ot);const t=Cr(e.firestore,vi);return T$(rp(t),e._key).then(r=>xO(t,e,r))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:yt("string",Qa._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class Vw extends B${constructor(t){super(),this.firestore=t}convertBytes(t){return new Xr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ot(this.firestore,null,r)}}function Yu(e){e=Cr(e,vs);const t=Cr(e.firestore,vi),r=rp(t),n=new Vw(t);return vO(e._query),C$(r,e._query).then(i=>new Qa(t,n,e,i))}function W$(e,t,r){e=Cr(e,ot);const n=Cr(e.firestore,vi),i=wO(e.converter,t,r);return up(n,[fO(ip(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,tn.none())])}function Xu(e,t,r,...n){e=Cr(e,ot);const i=Cr(e.firestore,vi),a=ip(i);let s;return s=typeof(t=qn(t))=="string"||t instanceof np?M$(a,"updateDoc",e._key,t,r,n):D$(a,"updateDoc",e._key,t),up(i,[s.toMutation(e._key,tn.exists(!0))])}function op(e){return up(Cr(e.firestore,vi),[new uw(e._key,tn.none())])}function lp(e,t){const r=Cr(e.firestore,vi),n=Ir(e),i=wO(e.converter,t);return up(r,[fO(ip(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,tn.exists(!1))]).then(()=>n)}function Fw(e,...t){var l,u,c;e=qn(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||pS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(pS(t[n])){const d=t[n];t[n]=(l=d.next)==null?void 0:l.bind(d),t[n+1]=(u=d.error)==null?void 0:u.bind(d),t[n+2]=(c=d.complete)==null?void 0:c.bind(d)}let a,s,o;if(e instanceof ot)s=Cr(e.firestore,vi),o=Kh(e._key.path),a={next:d=>{t[n]&&t[n](xO(s,e,d))},error:t[n+1],complete:t[n+2]};else{const d=Cr(e,vs);s=Cr(d.firestore,vi),o=d._query;const p=new Vw(s);a={next:m=>{t[n]&&t[n](new Qa(s,p,d,m))},error:t[n+1],complete:t[n+2]},vO(e._query)}return function(p,m,g,w){const v=new Iw(w),_=new Pw(m,v,g);return p.asyncQueue.enqueueAndForget(async()=>Ew(await Of(p),_)),()=>{v.Nu(),p.asyncQueue.enqueueAndForget(async()=>Sw(await Of(p),_))}}(rp(s),o,i,a)}function up(e,t){return function(n,i){const a=new oi;return n.asyncQueue.enqueueAndForget(async()=>m$(await P$(n),i,a)),a.promise}(rp(e),t)}function xO(e,t,r){const n=r.docs.get(t._key),i=new Vw(e);return new Ga(e,i,t._key,n,new Nl(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(i){Ro=i})(b3),wf(new pu("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new vi(new M3(n.getProvider("auth-internal")),new F3(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),eo(y1,w1,t),eo(y1,w1,"esm2020")})();var K$="firebase",H$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(K$,H$,"app");const G$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},Q$=BI(G$),He=j$(Q$),_O=async()=>(await Yu(ln(He,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),Da=async e=>{const t=Ir(He,"incidents",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},ry=async e=>(await lp(ln(He,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,fn=async(e,t)=>{const r=Ir(He,"incidents",e);await Xu(r,{...t})},Y$=async e=>{await op(Ir(He,"incidents",e))},bu=async()=>(await Yu(ln(He,"users"))).docs.map(t=>({...t.data(),id:t.id})),bO=async e=>{const t=z$(ln(He,"users"),U$("username","==",e)),r=await Yu(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},kf=async e=>(await lp(ln(He,"users"),e)).id,EO=async(e,t)=>{const r=Ir(He,"users",e);await Xu(r,{...t})},X$=async e=>{await op(Ir(He,"users",e))},Z$=async(e,t)=>{const r=Ir(He,"users",e);await Xu(r,{preferences:t})},J$=async e=>{const r=(await bu()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},e5=async e=>{const t=await Da(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await fn(e.incidentId,{comments:n}),r.id},kl=async()=>(await Yu(ln(He,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),SO=async e=>(await lp(ln(He,"automationRules"),e)).id,t5=async(e,t)=>{const r=Ir(He,"automationRules",e);await Xu(r,{...t})},r5=async e=>{await op(Ir(He,"automationRules",e))},AO=async()=>{const e=Ir(He,"settings","app"),t=await Lw(e);return t.exists()?t.data():null},PO=async e=>{const t=Ir(He,"settings","app");await W$(t,e,{merge:!0})},n5=e=>Fw(ln(He,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),i5=e=>Fw(ln(He,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),a5=async()=>(await Yu(ln(He,"roles"))).docs.map(t=>({...t.data(),id:t.id})),TO=async e=>{const t=Ir(He,"roles",e),r=await Lw(t);return r.exists()?{...r.data(),id:r.id}:null},Fd=async e=>(await lp(ln(He,"roles"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,s5=async(e,t)=>{const r=Ir(He,"roles",e);await Xu(r,{...t})},o5=async e=>{await op(Ir(He,"roles",e))},l5=e=>Fw(ln(He,"roles"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),u5=async()=>{const e=await a5();if(e.length===0){const r=await Fd({name:"Administrador",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!0,viewAll:!0},users:{viewOwn:!0,editOwn:!0,viewAll:!0,create:!0,edit:!0,delete:!0},roles:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0},automation:{view:!0,create:!0,edit:!0,delete:!0}}});await Fd({name:"Usuario",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!0,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}}),await Fd({name:"Solo Lectura",isSystem:!0,permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!1,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}}),(await bu()).length===0&&await kf({username:"admin",password:"admin123",name:"Administrador",roleId:r,avatar:"",email:"admin@incidentalert.com"})}else if((await bu()).length===0){const n=e.find(i=>i.name==="Administrador");await kf({username:"admin",password:"admin123",name:"Administrador",roleId:(n==null?void 0:n.id)||e[0].id,avatar:"",email:"admin@incidentalert.com"})}await AO()||await PO({theme:"light",notifications:!0,autoAssign:!1,language:"es"})},c5=({onAdd:e})=>{const[t,r]=x.useState("MOV-"),[n,i]=x.useState(""),[a,s]=x.useState(""),[o,l]=x.useState(""),[u,c]=x.useState(""),[d,p]=x.useState(""),[m,g]=x.useState(""),[w,v]=x.useState(new Date().toISOString().split("T")[0]),[_,b]=x.useState("abierta"),[E,I]=x.useState("media"),[T,O]=x.useState("correctivo"),S=A=>{if(A.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const j={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:o.trim(),relevante:u.trim(),realizado:d.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:w,status:_,priority:E,type:T,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(j),r("MOV-"),i(""),s(""),l(""),c(""),p(""),g(""),v(new Date().toISOString().split("T")[0]),b("abierta"),I("media"),O("correctivo")};return f.jsx("div",{className:"incident-form-container",children:f.jsxs("form",{className:"incident-form",onSubmit:S,children:[f.jsx("h2",{children:" Crear Nueva Incidencia"}),f.jsxs("div",{className:"form-section",children:[f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),f.jsx("input",{id:"name",type:"text",value:t,onChange:A=>r(A.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"title",children:" Ttulo"}),f.jsx("input",{id:"title",type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"description",children:"Descripcin"}),f.jsx("textarea",{id:"description",value:a,onChange:A=>s(A.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"relevante",children:" Relevante"}),f.jsx("textarea",{id:"relevante",value:u,onChange:A=>c(A.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"realizado",children:" Realizado"}),f.jsx("textarea",{id:"realizado",value:d,onChange:A=>p(A.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),f.jsxs("div",{className:"form-group-full",children:[f.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),f.jsx("textarea",{id:"clasesModificadas",value:m,onChange:A=>g(A.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Prioridad"}),f.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(A=>f.jsxs("button",{type:"button",className:`chip-option priority-${A} ${E===A?"selected":""}`,onClick:()=>I(A),children:[A==="baja"&&" Baja",A==="media"&&" Media",A==="alta"&&" Alta",A==="crtica"&&" Crtica"]},A))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Estado"}),f.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(A=>f.jsxs("button",{type:"button",className:`chip-option ${_===A?"selected":""}`,onClick:()=>b(A),children:[A==="abierta"&&"Abierta",A==="en-progreso"&&"En Progreso",A==="puesto-en-test"&&"Puesto en Test",A==="verificado-en-test"&&"Verificado en Test",A==="resuelta"&&"Resuelta",A==="cerrada"&&"Cerrada"]},A))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Tipo"}),f.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(A=>f.jsxs("button",{type:"button",className:`chip-option ${T===A?"selected":""}`,onClick:()=>O(A),children:[A==="correctivo"&&" Correctivo",A==="evolutivo"&&" Evolutivo",A==="tarea"&&" Tarea"]},A))})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:" Informacin Adicional"}),f.jsxs("div",{className:"form-grid",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),f.jsx("input",{id:"creationDate",type:"date",value:w,onChange:A=>v(A.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),f.jsx("input",{id:"contactUser",type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"Nombre del contacto"})]})]})]}),f.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},d5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=x.useState(e.name),[a,s]=x.useState(e.contactUser||""),[o,l]=x.useState(e.prQA2||""),[u,c]=x.useState(e.prMain||""),[d,p]=x.useState(e.creationDate||""),[m,g]=x.useState(e.status),[w,v]=x.useState(e.priority),[_,b]=x.useState(e.type),E=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:o.trim(),prMain:u.trim(),creationDate:d,status:m,priority:w,type:_})};return f.jsx("div",{className:"incident-edit-overlay",children:f.jsxs("form",{className:"incident-edit-form",onSubmit:E,children:[f.jsx("h2",{children:"Editar Incidencia"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),f.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),f.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>s(I.target.value),placeholder:"Nombre del contacto"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),f.jsx("input",{id:"edit-prQA2",type:"text",value:o,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),f.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:I=>c(I.target.value),placeholder:"ID de PR para MAIN"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),f.jsx("input",{id:"edit-creationDate",type:"date",value:d,onChange:I=>p(I.target.value)})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-status",children:"Estado"}),f.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),f.jsxs("select",{id:"edit-priority",value:w,onChange:I=>v(I.target.value),children:[f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),f.jsxs("select",{id:"edit-type",value:_,onChange:I=>b(I.target.value),children:[f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function CO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=CO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=CO(e))&&(n&&(n+=" "),n+=t);return n}var f5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $w(e){if(typeof e!="string")return!1;var t=f5;return t.includes(e)}var h5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p5=new Set(h5);function IO(e){return typeof e!="string"?!1:p5.has(e)}function jO(e){return typeof e=="string"&&e.startsWith("data-")}function Sn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IO(r)||jO(r))&&(t[r]=e[r]);return t}function Eu(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Sn(t)}return typeof e=="object"&&!Array.isArray(e)?Sn(e):null}function an(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IO(r)||jO(r)||$w(r))&&(t[r]=e[r]);return t}var m5=["children","width","height","viewBox","className","style","title","desc"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function g5(e,t){if(e==null)return{};var r,n,i=v5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zw=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=g5(e,m5),d=a||{width:n,height:i,x:0,y:0},p=Ne("recharts-surface",s);return x.createElement("svg",ny({},an(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,u),r)}),y5=["children","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}function w5(e,t){if(e==null)return{};var r,n,i=x5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pr=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=w5(e,y5),a=Ne("recharts-layer",n);return x.createElement("g",iy({className:a},an(i),{ref:t}),r)}),OO=x.createContext(null),_5=()=>x.useContext(OO);function Le(e){return function(){return e}}const NO=Math.cos,Rf=Math.sin,Tn=Math.sqrt,Df=Math.PI,cp=2*Df,ay=Math.PI,sy=2*ay,Ma=1e-6,b5=sy-Ma;function kO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function E5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class S5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kO:E5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,d=o-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ma)if(!(Math.abs(d*l-u*c)>Ma)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,w=l*l+u*u,v=m*m+g*g,_=Math.sqrt(w),b=Math.sqrt(p),E=a*Math.tan((ay-Math.acos((w+p-v)/(2*_*b)))/2),I=E/b,T=E/_;Math.abs(I-1)>Ma&&this._append`L${t+I*c},${r+I*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=t+T*l},${this._y1=r+T*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-c)>Ma)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%sy+sy),p>b5?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>Ma&&this._append`A${n},${n},0,${+(p>=ay)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Uw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S5(t)}function Bw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RO(e){this._context=e}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dp(e){return new RO(e)}function DO(e){return e[0]}function MO(e){return e[1]}function LO(e,t){var r=Le(!0),n=null,i=dp,a=null,s=Uw(o);e=typeof e=="function"?e:e===void 0?DO:Le(e),t=typeof t=="function"?t:t===void 0?MO:Le(t);function o(l){var u,c=(l=Bw(l)).length,d,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Le(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function id(e,t,r){var n=null,i=Le(!0),a=null,s=dp,o=null,l=Uw(u);e=typeof e=="function"?e:e===void 0?DO:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MO:Le(+r);function u(d){var p,m,g,w=(d=Bw(d)).length,v,_=!1,b,E=new Array(w),I=new Array(w);for(a==null&&(o=s(b=l())),p=0;p<=w;++p){if(!(p<w&&i(v=d[p],p,d))===_)if(_=!_)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(E[g],I[g]);o.lineEnd(),o.areaEnd()}_&&(E[p]=+e(v,p,d),I[p]=+t(v,p,d),o.point(n?+n(v,p,d):E[p],r?+r(v,p,d):I[p]))}if(b)return o=null,b+""||null}function c(){return LO().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Le(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Le(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Le(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class VO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function A5(e){return new VO(e,!0)}function P5(e){return new VO(e,!1)}const qw={draw(e,t){const r=Tn(t/Df);e.moveTo(r,0),e.arc(0,0,r,0,cp)}},T5={draw(e,t){const r=Tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FO=Tn(1/3),C5=FO*2,I5={draw(e,t){const r=Tn(t/C5),n=r*FO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},j5={draw(e,t){const r=Tn(t),n=-r/2;e.rect(n,n,r,r)}},O5=.8908130915292852,$O=Rf(Df/10)/Rf(7*Df/10),N5=Rf(cp/10)*$O,k5=-NO(cp/10)*$O,R5={draw(e,t){const r=Tn(t*O5),n=N5*r,i=k5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=cp*a/5,o=NO(s),l=Rf(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},mg=Tn(3),D5={draw(e,t){const r=-Tn(t/(mg*3));e.moveTo(0,r*2),e.lineTo(-mg*r,-r),e.lineTo(mg*r,-r),e.closePath()}},Wr=-.5,Kr=Tn(3)/2,oy=1/Tn(12),M5=(oy/2+1)*3,L5={draw(e,t){const r=Tn(t/M5),n=r/2,i=r*oy,a=n,s=r*oy+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Wr*n-Kr*i,Kr*n+Wr*i),e.lineTo(Wr*a-Kr*s,Kr*a+Wr*s),e.lineTo(Wr*o-Kr*l,Kr*o+Wr*l),e.lineTo(Wr*n+Kr*i,Wr*i-Kr*n),e.lineTo(Wr*a+Kr*s,Wr*s-Kr*a),e.lineTo(Wr*o+Kr*l,Wr*l-Kr*o),e.closePath()}};function V5(e,t){let r=null,n=Uw(i);e=typeof e=="function"?e:Le(e||qw),t=typeof t=="function"?t:Le(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Le(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mf(){}function Lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F5(e){return new zO(e)}function UO(e){this._context=e}UO.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5(e){return new UO(e)}function BO(e){this._context=e}BO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z5(e){return new BO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function U5(e){return new qO(e)}function vS(e){return e<0?-1:1}function yS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(vS(a)+vS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,wS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,wS(this,r=yS(this,e,t)),r);break;default:gg(this,this._t0,r=yS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function WO(e){this._context=new KO(e)}(WO.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function KO(e){this._context=e}KO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function B5(e){return new Vf(e)}function q5(e){return new WO(e)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=xS(e),i=xS(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function W5(e){return new HO(e)}function fp(e,t){this._context=e,this._t=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K5(e){return new fp(e,.5)}function H5(e){return new fp(e,0)}function G5(e){return new fp(e,1)}function wo(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ly(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Q5(e,t){return e[t]}function Y5(e){const t=[];return t.key=e,t}function X5(){var e=Le([]),t=ly,r=wo,n=Q5;function i(a){var s=Array.from(e.apply(this,arguments),Y5),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,a)]).data=d;for(o=0,c=Bw(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Le(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Le(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ly:typeof a=="function"?a:Le(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??wo,i):r},i}function Z5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}wo(e,t)}}function J5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}wo(e,t)}}function ez(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,g=0;g<o;++g){var w=e[t[g]],v=w[n][1]||0,_=w[n-1][1]||0;m+=v-_}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,wo(e,t)}}var hp={},GO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(GO);var Ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ww);var pp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(pp);var mp={},QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(QO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO,r=pp;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=i[o];u?d==="\\"&&o+1<s?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}e.toPath=n})(mp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GO,r=Ww,n=pp,i=mp;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(hp);var tz=hp.get;const ss=Ai(tz);var Ft=e=>e===0?0:e>0?1:-1,An=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!An(e),Kn=e=>re(e)||typeof e=="string",rz=0,Su=e=>{var t=++rz;return"".concat(e||"").concat(t)},or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(yi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return An(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},YO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function At(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function nz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ss(n,t))===r)}var zt=e=>e===null||typeof e>"u",Zu=e=>zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function iz(e){return e!=null}function Ju(){}var az=["type","size","sizeType"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=lz(e,"string");return typeof t=="symbol"?t:t+""}function lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uz(e,t){if(e==null)return{};var r,n,i=cz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XO={symbolCircle:qw,symbolCross:T5,symbolDiamond:I5,symbolSquare:j5,symbolStar:R5,symbolTriangle:D5,symbolWye:L5},dz=Math.PI/180,fz=e=>{var t="symbol".concat(Zu(e));return XO[t]||qw},hz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pz=(e,t)=>{XO["symbol".concat(Zu(e))]=t},Kw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=uz(e,az),a=bS(bS({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=fz(s),m=V5().type(p).size(hz(r,n,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=an(a);return re(u)&&re(c)&&re(r)?x.createElement("path",uy({},d,{className:Ne("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Kw.registerSymbol=pz;var ZO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,mz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{$w(i)&&(n[i]=a=>r[i](r,a))}),n},gz=(e,t,r)=>n=>(e(t,r,n),null),ec=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];$w(i)&&typeof a=="function"&&(n||(n={}),n[i]=gz(a,t,r))}),n};function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=vz({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(null,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gr=32,Az={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Pz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Gr/2,a=Gr/6,s=Gr/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Gr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Gr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Gr/8,"h").concat(Gr,"v").concat(Gr*3/4,"h").concat(-Gr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=_z({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(Kw,{fill:o,cx:i,cy:i,size:Gr,sizeType:"diameter",type:l})}function Tz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Gr,height:Gr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Ne({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,w=p?p(c.value,c,d):c.value;return x.createElement("li",Ff({className:m,style:l,key:"legend-item-".concat(d)},ec(e,c,d)),x.createElement(zw,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(w," legend icon")},x.createElement(Pz,{data:c,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},w))})}var Cz=e=>{var t=Ut(e,Az),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(Tz,Ff({},t,{payload:r})))},JO={},eN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(eN);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Hw);var tN={},gp={},rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(rN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gp);var nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(nN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gp,r=nN;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(tN);var iN={},aN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(aN);var sN={},Gw={},oN={},Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Qw);var Yw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Yw);var Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Xw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,r=Yw,n=Xw;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(g,w,v,_,b,E){const I=p(g,w,v,_,b,E);return I!==void 0?!!I:a(g,w,m,E)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function s(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return o(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let w=0;w<g.length;w++){const v=g[w];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!p(c[v],d[v],v,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function o(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,w]of d.entries()){const v=c.get(g);if(p(v,w,g,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let w=0;w<d.length;w++){const v=d[w];let _=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const E=c[b];let I=!1;if(p(E,v,w,c,d,m)&&(I=!0),I){g.add(b),_=!0;break}}if(!_)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(oN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Gw);var lN={},Zw={},uN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(uN);var Jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Jw);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",w="[object DataView]",v="[object Uint8Array]",_="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",O="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",j="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=w,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=j,e.float64ArrayTag=D,e.functionTag=d,e.int16ArrayTag=O,e.int32ArrayTag=S,e.int8ArrayTag=T,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=E,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=_})(ex);var cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uN,r=Jw,n=ex,i=Yw,a=cN;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,p,m=new Map,g=void 0){const w=g==null?void 0:g(c,d,p,m);if(w!==void 0)return w;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const v=new Array(c.length);m.set(c,v);for(let _=0;_<c.length;_++)v[_]=o(c[_],_,p,m,g);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;m.set(c,v);for(const[_,b]of c)v.set(_,o(b,_,p,m,g));return v}if(c instanceof Set){const v=new Set;m.set(c,v);for(const _ of c)v.add(o(_,void 0,p,m,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,v);for(let _=0;_<c.length;_++)v[_]=o(c[_],_,p,m,g);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,v),l(v,c,p,m,g),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return m.set(c,v),l(v,c,p,m,g),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof Error){const v=new c.constructor;return m.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,p,m,g),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof Number){const v=new Number(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(c instanceof String){const v=new String(c.valueOf());return m.set(c,v),l(v,c,p,m,g),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return m.set(c,v),l(v,c,p,m,g),v}return c}function l(c,d,p=c,m,g){const w=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<w.length;v++){const _=w[v],b=Object.getOwnPropertyDescriptor(c,_);(b==null||b.writable)&&(c[_]=o(d[_],_,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(lN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,r=lN;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(sN);var dN={},fN={},hN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw,r=ex;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(hN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(fN);var pN={},tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(tx);var mN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,r=tx,n=mN,i=mp;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(pN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,r=pp,n=fN,i=hp,a=pN;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(dN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw,r=aN,n=sN,i=dN;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(iN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN,r=Hw,n=tN,i=iN;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(JO);var Iz=JO.uniqBy;const AS=Ai(Iz);function gN(e,t,r){return t===!0?AS(e,r):typeof t=="function"?AS(e,t):e}var vN={exports:{}},yN={},wN={exports:{}},xN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=x;function jz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oz=typeof Object.is=="function"?Object.is:jz,Nz=xo.useState,kz=xo.useEffect,Rz=xo.useLayoutEffect,Dz=xo.useDebugValue;function Mz(e,t){var r=t(),n=Nz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Rz(function(){i.value=r,i.getSnapshot=t,vg(i)&&a({inst:i})},[e,r,t]),kz(function(){return vg(i)&&a({inst:i}),e(function(){vg(i)&&a({inst:i})})},[e]),Dz(r),r}function vg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Oz(e,r)}catch{return!0}}function Lz(e,t){return t()}var Vz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lz:Mz;xN.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:Vz;wN.exports=xN;var Fz=wN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=x,$z=Fz;function zz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uz=typeof Object.is=="function"?Object.is:zz,Bz=$z.useSyncExternalStore,qz=vp.useRef,Wz=vp.useEffect,Kz=vp.useMemo,Hz=vp.useDebugValue;yN.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=qz(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Kz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return d=g}return d=m}if(g=d,Uz(c,m))return g;var w=n(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Bz(e,a[0],a[1]);return Wz(function(){s.hasValue=!0,s.value=o},[o]),Hz(o),o};vN.exports=yN;var Gz=vN.exports,rx=x.createContext(null),Qz=e=>e,$e=()=>{var e=x.useContext(rx);return e?e.store.dispatch:Qz},$d=()=>{},Yz=()=>$d,Xz=(e,t)=>e===t;function te(e){var t=x.useContext(rx);return Gz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Yz,t?t.store.getState:$d,t?t.store.getState:$d,t?e:$d,Xz)}function Zz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Jz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function e9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var PS=e=>Array.isArray(e)?e:[e];function t9(e){const t=Array.isArray(e[0])?e[0]:e;return e9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function r9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var n9=class{constructor(e){this.value=e}deref(){return this.value}},i9=typeof WeakRef<"u"?WeakRef:n9,a9=0,TS=1;function ad(){return{s:a9,v:void 0,o:null,p:null}}function _N(e,t={}){let r=ad();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var d;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=o.o;w===null&&(o.o=w=new WeakMap);const v=w.get(g);v===void 0?(o=ad(),w.set(g,o)):o=v}else{let w=o.p;w===null&&(o.p=w=new Map);const v=w.get(g);v===void 0?(o=ad(),w.set(g,o)):o=v}}const u=o;let c;if(o.s===TS)c=o.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new i9(c):c}return u.s=TS,u.v=c,c}return s.clearCache=()=>{r=ad(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function s9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Zz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=_N,argsMemoizeOptions:g=[]}=c,w=PS(p),v=PS(g),_=t9(i),b=d(function(){return a++,u.apply(null,arguments)},...w),E=m(function(){s++;const T=r9(_,arguments);return o=b.apply(null,T),o},...v);return Object.assign(E,{resultFunc:u,memoizedResultFunc:b,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=s9(_N),o9=Object.assign((e,t=L)=>{Jz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>o9}),bN={},EN={},SN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(SN);var AN={},nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(nx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(AN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SN,r=AN,n=mp;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let w=m;for(let v=0;v<g.length&&w!=null;++v)w=w[g[v]];return w},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,d=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let w=0;w<d.length;w++){const v=t.compareValues(m.criteria[w],g.criteria[w],o[w]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=i})(EN);var PN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(PN);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx,r=gp,n=Qw,i=Xw;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(ix);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EN,r=PN,n=ix;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(bN);var l9=bN.sortBy;const yp=Ai(l9);var TN=e=>e.legend.settings,u9=e=>e.legend.size,c9=e=>e.legend.payload,d9=L([c9,TN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?yp(n,r):n});function f9(){return te(d9)}var sd=1;function CN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>sd||Math.abs(s.left-t.left)>sd||Math.abs(s.top-t.top)>sd||Math.abs(s.width-t.width)>sd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h9=typeof Symbol=="function"&&Symbol.observable||"@@observable",CS=h9,yg=()=>Math.random().toString(36).substring(7).split("").join("."),p9={INIT:`@@redux/INIT${yg()}`,REPLACE:`@@redux/REPLACE${yg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yg()}`},$f=p9;function ax(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IN(e,t,r){if(typeof e!="function")throw new Error(Wt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wt(1));return r(IN)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((v,_)=>{s.set(_,v)}))}function c(){if(l)throw new Error(Wt(3));return i}function d(v){if(typeof v!="function")throw new Error(Wt(4));if(l)throw new Error(Wt(5));let _=!0;u();const b=o++;return s.set(b,v),function(){if(_){if(l)throw new Error(Wt(6));_=!1,u(),s.delete(b),a=null}}}function p(v){if(!ax(v))throw new Error(Wt(7));if(typeof v.type>"u")throw new Error(Wt(8));if(typeof v.type!="string")throw new Error(Wt(17));if(l)throw new Error(Wt(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=s).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(Wt(10));n=v,p({type:$f.REPLACE})}function g(){const v=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Wt(11));function b(){const I=_;I.next&&I.next(c())}return b(),{unsubscribe:v(b)}},[CS](){return this}}}return p({type:$f.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[CS]:g}}function m9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$f.INIT})>"u")throw new Error(Wt(12));if(typeof r(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function jN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{m9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=s[d],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Wt(14));u[d]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function zf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function g9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Wt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=zf(...o)(i.dispatch),{...i,dispatch:a}}}function ON(e){return ax(e)&&"type"in e&&typeof e.type=="string"}var NN=Symbol.for("immer-nothing"),IS=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vr=Object,_o=Vr.getPrototypeOf,Uf="constructor",wp="prototype",cy="configurable",Bf="enumerable",zd="writable",Au="value",wi=e=>!!e&&!!e[mr];function Pn(e){var t;return e?kN(e)||xp(e)||!!e[IS]||!!((t=e[Uf])!=null&&t[IS])||_p(e)||bp(e):!1}var v9=Vr[wp][Uf].toString(),jS=new WeakMap;function kN(e){if(!e||!sx(e))return!1;const t=_o(e);if(t===null||t===Vr[wp])return!0;const r=Vr.hasOwnProperty.call(t,Uf)&&t[Uf];if(r===Object)return!0;if(!ks(r))return!1;let n=jS.get(r);return n===void 0&&(n=Function.toString.call(r),jS.set(r,n)),n===v9}function tc(e,t,r=!0){rc(e)===0?(r?Reflect.ownKeys(e):Vr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rc(e){const t=e[mr];return t?t.type_:xp(e)?1:_p(e)?2:bp(e)?3:0}var OS=(e,t,r=rc(e))=>r===2?e.has(t):Vr[wp].hasOwnProperty.call(e,t),dy=(e,t,r=rc(e))=>r===2?e.get(t):e[t],qf=(e,t,r,n=rc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function y9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xp=Array.isArray,_p=e=>e instanceof Map,bp=e=>e instanceof Set,sx=e=>typeof e=="object",ks=e=>typeof e=="function",wg=e=>typeof e=="boolean",Jn=e=>e.copy_||e.base_,ox=e=>e.modified_?e.copy_:e.base_;function fy(e,t){if(_p(e))return new Map(e);if(bp(e))return new Set(e);if(xp(e))return Array[wp].slice.call(e);const r=kN(e);if(t===!0||t==="class_only"&&!r){const n=Vr.getOwnPropertyDescriptors(e);delete n[mr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[zd]===!1&&(o[zd]=!0,o[cy]=!0),(o.get||o.set)&&(n[s]={[cy]:!0,[zd]:!0,[Bf]:o[Bf],[Au]:e[s]})}return Vr.create(_o(e),n)}else{const n=_o(e);if(n!==null&&r)return{...e};const i=Vr.create(n);return Vr.assign(i,e)}}function lx(e,t=!1){return Ep(e)||wi(e)||!Pn(e)||(rc(e)>1&&Vr.defineProperties(e,{set:od,add:od,clear:od,delete:od}),Vr.freeze(e),t&&tc(e,(r,n)=>{lx(n,!0)},!1)),e}function w9(){gn(2)}var od={[Au]:w9};function Ep(e){return e===null||!sx(e)?!0:Vr.isFrozen(e)}var Wf="MapSet",hy="Patches",RN={};function bo(e){const t=RN[e];return t||gn(0,e),t}var x9=e=>!!RN[e],Pu,DN=()=>Pu,_9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:x9(Wf)?bo(Wf):void 0});function NS(e,t){t&&(e.patchPlugin_=bo(hy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function py(e){my(e),e.drafts_.forEach(b9),e.drafts_=null}function my(e){e===Pu&&(Pu=e.parent_)}var kS=e=>Pu=_9(Pu,e);function b9(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[mr].modified_&&(py(t),gn(4)),Pn(e)&&(e=DS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[mr].base_,e,t)}else e=DS(t,r);return E9(t,e,!0),py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NN?e:void 0}function DS(e,t){if(Ep(t))return t;const r=t[mr];if(!r)return ux(t,e.handledSet_,e);if(!Sp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);VN(r,e)}return r.copy_}function E9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lx(t,r)}function MN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Sp=(e,t)=>e.scope_===t,S9=[];function LN(e,t,r,n){const i=Jn(e),a=e.type_;if(n!==void 0&&dy(i,n,a)===t){qf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;tc(i,(l,u)=>{if(wi(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??S9;for(const o of s)qf(i,o,r,a)}function A9(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Sp(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=ox(a);LN(e,a.draft_??a,s,r),VN(a,i)})}function VN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}MN(e)}}function P9(e,t,r){const{scope_:n}=e;if(wi(r)){const i=r[mr];Sp(i,n)&&i.callbacks_.push(function(){Ud(e);const s=ox(i);LN(e,r,s,t)})}else Pn(r)&&e.callbacks_.push(function(){const a=Jn(e);dy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ux(dy(e.copy_,t,e.type_),n.handledSet_,n)})}function ux(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||wi(e)||t.has(e)||!Pn(e)||Ep(e)||(t.add(e),tc(e,(n,i)=>{if(wi(i)){const a=i[mr];if(Sp(a,r)){const s=ox(a);qf(e,n,s,e.type_),MN(a)}}else Pn(i)&&ux(i,t,r)})),e}function T9(e,t){const r=xp(e),n={type_:r?1:0,scope_:t?t.scope_:DN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=cx;r&&(i=[n],a=Tu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var cx={get(e,t){if(t===mr)return e;const r=Jn(e);if(!OS(r,t,e.type_))return C9(e,r,t);const n=r[t];if(e.finalized_||!Pn(n))return n;if(n===xg(e.base_,t)){Ud(e);const i=e.type_===1?+t:t,a=vy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},set(e,t,r){const n=FN(Jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=xg(Jn(e),t),a=i==null?void 0:i[mr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(y9(r,i)&&(r!==void 0||OS(e.base_,t,e.type_)))return!0;Ud(e),gy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),P9(e,t,r)),!0},deleteProperty(e,t){return Ud(e),xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zd]:!0,[cy]:e.type_!==1||t!=="length",[Bf]:n[Bf],[Au]:r[t]}},defineProperty(){gn(11)},getPrototypeOf(e){return _o(e.base_)},setPrototypeOf(){gn(12)}},Tu={};tc(cx,(e,t)=>{Tu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Tu.deleteProperty=function(e,t){return Tu.set.call(this,e,t,void 0)};Tu.set=function(e,t,r){return cx.set.call(this,e[0],t,r,e[0])};function xg(e,t){const r=e[mr];return(r?Jn(r):e)[t]}function C9(e,t,r){var i;const n=FN(t,r);return n?Au in n?n[Au]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function FN(e,t){if(!(t in e))return;let r=_o(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_o(r)}}function gy(e){e.modified_||(e.modified_=!0,e.parent_&&gy(e.parent_))}function Ud(e){e.copy_||(e.assigned_=new Map,e.copy_=fy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var I9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ks(r)&&!ks(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}ks(n)||gn(6),i!==void 0&&!ks(i)&&gn(7);let a;if(Pn(r)){const s=kS(this),o=vy(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?py(s):my(s)}return NS(s,i),RS(a,s)}else if(!r||!sx(r)){if(a=n(r),a===void 0&&(a=r),a===NN&&(a=void 0),this.autoFreeze_&&lx(a,!0),i){const s=[],o=[];bo(hy).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else gn(1,r)},this.produceWithPatches=(r,n)=>{if(ks(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},wg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pn(t)||gn(8),wi(t)&&(t=_n(t));const r=kS(this),n=vy(r,t,void 0);return n[mr].isManual_=!0,my(r),n}finishDraft(t,r){const n=t&&t[mr];(!n||!n.isManual_)&&gn(9);const{scope_:i}=n;return NS(i,r),RS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=bo(hy).applyPatches_;return wi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function vy(e,t,r,n){const[i,a]=_p(t)?bo(Wf).proxyMap_(t,r):bp(t)?bo(Wf).proxySet_(t,r):T9(t,r);return((r==null?void 0:r.scope_)??DN()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?A9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function _n(e){return wi(e)||gn(10,e),$N(e)}function $N(e){if(!Pn(e)||Ep(e))return e;const t=e[mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fy(e,!0);return tc(r,(i,a)=>{qf(r,i,$N(a))},n),t&&(t.finalized_=!1),r}var j9=new I9,zN=j9.produce;function UN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var O9=UN(),N9=UN,k9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function sn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($r(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ON(n)&&n.type===e,r}var BN=class Rl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rl.prototype)}static get[Symbol.species](){return Rl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rl(...t[0].concat(this)):new Rl(...t.concat(this))}};function MS(e){return Pn(e)?zN(e,()=>{}):e}function ld(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function R9(e){return typeof e=="boolean"}var D9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new BN;return r&&(R9(r)?s.push(O9):s.push(N9(r.extraArgument))),s},qN="RTK_autoBatch",Ge=()=>e=>({payload:e,meta:{[qN]:!0}}),LS=e=>t=>{setTimeout(t,e)},WN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LS(10):e.type==="callback"?e.queueNotification:LS(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[qN]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},M9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new BN(e);return n&&i.push(WN(typeof n=="object"?n:void 0)),i};function L9(e){const t=D9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(ax(r))o=jN(r);else throw new Error($r(1));let l;typeof n=="function"?l=n(t):l=t();let u=zf;i&&(u=k9({trace:!1,...typeof i=="object"&&i}));const c=g9(...l),d=M9(c);let p=typeof s=="function"?s(d):d();const m=u(...p);return IN(o,a,m)}function KN(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error($r(28));if(o in t)throw new Error($r(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function V9(e){return typeof e=="function"}function F9(e,t){let[r,n,i]=KN(t),a;if(V9(e))a=()=>MS(e());else{const o=MS(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(wi(c)){const m=d(c,l);return m===void 0?c:m}else{if(Pn(c))return zN(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var $9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z9=(e=21)=>{let t="",r=e;for(;r--;)t+=$9[Math.random()*64|0];return t},U9=Symbol.for("rtk-slice-createasyncthunk");function B9(e,t){return`${e}/${t}`}function q9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[U9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error($r(11));const o=(typeof i.reducers=="function"?i.reducers(K9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,T){const O=typeof I=="string"?I:I.type;if(!O)throw new Error($r(12));if(O in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[O]=T,c},addMatcher(I,T){return u.sliceMatchers.push({matcher:I,reducer:T}),c},exposeAction(I,T){return u.actionCreators[I]=T,c},exposeCaseReducer(I,T){return u.sliceCaseReducersByName[I]=T,c}};l.forEach(I=>{const T=o[I],O={reducerName:I,type:B9(a,I),createNotation:typeof i.reducers=="function"};G9(T)?Y9(O,T,c,t):H9(O,T,c)});function d(){const[I={},T=[],O=void 0]=typeof i.extraReducers=="function"?KN(i.extraReducers):[i.extraReducers],S={...I,...u.sliceCaseReducersByType};return F9(i.initialState,A=>{for(let j in S)A.addCase(j,S[j]);for(let j of u.sliceMatchers)A.addMatcher(j.matcher,j.reducer);for(let j of T)A.addMatcher(j.matcher,j.reducer);O&&A.addDefaultCase(O)})}const p=I=>I,m=new Map,g=new WeakMap;let w;function v(I,T){return w||(w=d()),w(I,T)}function _(){return w||(w=d()),w.getInitialState()}function b(I,T=!1){function O(A){let j=A[I];return typeof j>"u"&&T&&(j=ld(g,O,_)),j}function S(A=p){const j=ld(m,T,()=>new WeakMap);return ld(j,A,()=>{const D={};for(const[C,k]of Object.entries(i.selectors??{}))D[C]=W9(k,A,()=>ld(g,A,_),T);return D})}return{reducerPath:I,getSelectors:S,get selectors(){return S(O)},selectSlice:O}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...b(s),injectInto(I,{reducerPath:T,...O}={}){const S=T??s;return I.inject({reducerPath:S,reducer:v},O),{...E,...b(S,!0)}}};return E}}function W9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var jr=q9();function K9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function H9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Q9(n))throw new Error($r(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?sn(e,s):sn(e))}function G9(e){return e._reducerDefinitionType==="asyncThunk"}function Q9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Y9({type:e,reducerName:t},r,n,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||ud,pending:o||ud,rejected:l||ud,settled:u||ud})}function ud(){}var X9="task",HN="listener",GN="completed",dx="cancelled",Z9=`task-${dx}`,J9=`task-${GN}`,yy=`${HN}-${dx}`,eU=`${HN}-${GN}`,Ap=class{constructor(e){km(this,"name","TaskAbortError");km(this,"message");this.code=e,this.message=`${X9} ${dx} (reason: ${e})`}},fx=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},Kf=()=>{},QN=(e,t=Kf)=>(e.catch(t),e),YN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ya=e=>{if(e.aborted)throw new Ap(e.reason)};function XN(e,t){let r=Kf;return new Promise((n,i)=>{const a=()=>i(new Ap(e.reason));if(e.aborted){a();return}r=YN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Kf})}var tU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ap?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hf=e=>t=>QN(XN(e,t).then(r=>(Ya(e),r))),ZN=e=>{const t=Hf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ro}=Object,VS={},Pp="listenerMiddleware",rU=(e,t)=>{const r=n=>YN(e,()=>n.abort(e.reason));return(n,i)=>{fx(n);const a=new AbortController;r(a);const s=tU(async()=>{Ya(e),Ya(a.signal);const o=await n({pause:Hf(a.signal),delay:ZN(a.signal),signal:a.signal});return Ya(a.signal),o},()=>a.abort(J9));return i!=null&&i.autoJoin&&t.push(s.catch(Kf)),{result:Hf(e)(s),cancel(){a.abort(Z9)}}}},nU=(e,t)=>{const r=async(n,i)=>{Ya(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await XN(t,Promise.race(o));return Ya(t),l}finally{a()}};return(n,i)=>QN(r(n,i))},JN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=sn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($r(21));return fx(a),{predicate:i,type:t,effect:a}},ek=ro(e=>{const{type:t,predicate:r,effect:n}=JN(e);return{id:z9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>ek}),FS=(e,t)=>{const{type:r,effect:n,predicate:i}=JN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wy=e=>{e.pending.forEach(t=>{t.abort(yy)})},iU=(e,t)=>()=>{for(const r of t.keys())wy(r);e.clear()},$S=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tk=ro(sn(`${Pp}/add`),{withTypes:()=>tk}),aU=sn(`${Pp}/removeAll`),rk=ro(sn(`${Pp}/remove`),{withTypes:()=>rk}),sU=(...e)=>{console.error(`${Pp}/error`,...e)},nc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=sU}=e;fx(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wy(m)}),l=m=>{const g=FS(t,m)??ek(m);return o(g)};ro(l,{withTypes:()=>l});const u=m=>{const g=FS(t,m);return g&&(g.unsubscribe(),m.cancelActive&&wy(g)),!!g};ro(u,{withTypes:()=>u});const c=async(m,g,w,v)=>{const _=new AbortController,b=nU(l,_.signal),E=[];try{m.pending.add(_),n(m),await Promise.resolve(m.effect(g,ro({},w,{getOriginalState:v,condition:(I,T)=>b(I,T).then(Boolean),take:b,delay:ZN(_.signal),pause:Hf(_.signal),extra:a,signal:_.signal,fork:rU(_.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,T,O)=>{I!==_&&(I.abort(yy),O.delete(I))})},cancel:()=>{_.abort(yy),m.pending.delete(_)},throwIfCancelled:()=>{Ya(_.signal)}})))}catch(I){I instanceof Ap||$S(s,I,{raisedBy:"effect"})}finally{await Promise.all(E),_.abort(eU),i(m),m.pending.delete(_)}},d=iU(t,r);return{middleware:m=>g=>w=>{if(!ON(w))return g(w);if(tk.match(w))return l(w.payload);if(aU.match(w)){d();return}if(rk.match(w))return u(w.payload);let v=m.getState();const _=()=>{if(v===VS)throw new Error($r(23));return v};let b;try{if(b=g(w),t.size>0){const E=m.getState(),I=Array.from(t.values());for(const T of I){let O=!1;try{O=T.predicate(w,E,v)}catch(S){O=!1,$S(s,S,{raisedBy:"predicate"})}O&&c(T,w,m,_)}}}finally{v=VS}return b},startListening:l,stopListening:u,clearListeners:d}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nk=jr({name:"chartLayout",initialState:oU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lU,setLayout:uU,setChartSize:cU,setScale:dU}=nk.actions,fU=nk.reducer;function ik(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return zt(e)||zt(t)?r:Kn(t)?ss(e,t,r):typeof t=="function"?t(e):r}var gU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&re(e[a]))return Ks(Ks({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&re(e[s]))return Ks(Ks({},e),{},{[s]:e[s]+(i||0)})}return e},ys=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ak=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},sk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(w=m==="angleAxis"&&a&&a.length>=2?Ft(a[0]-a[1])*2*w:w,d||p){var v=(d||p||[]).map((_,b)=>{var E=n?n.indexOf(_):_;return{coordinate:s(E)+w,value:_,offset:w,index:b}});return v.filter(_=>!An(_.coordinate))}return l&&u?u.map((_,b)=>({coordinate:s(_)+w,value:_,index:b,offset:w})):s.ticks&&c!=null?s.ticks(c).map((_,b)=>({coordinate:s(_)+w,value:_,offset:w,index:b})):s.domain().map((_,b)=>({coordinate:s(_)+w,value:n?n[_]:_,index:b,offset:w}))},US=1e-4,vU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-US,a=Math.max(n[0],n[1])+US,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},yU=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=An(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},xU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=An(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},_U={sign:wU,expand:Z5,none:wo,silhouette:J5,wiggle:ez,positive:xU},bU=(e,t,r)=>{var n=_U[r],i=X5().keys(t).value((a,s)=>Number(Ye(a,s,0))).order(ly).offset(n);return i(e)};function EU(e){return e==null?void 0:String(e)}var BS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ye(a,t.dataKey,t.scale.domain()[s]);return zt(o)?null:t.scale(o)-i/2+n},SU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},AU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},PU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],TU=(e,t,r)=>{if(e!=null)return PU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=ik(u,t,r),d=AU(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},qS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=yp(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function KS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ks(Ks({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Tp(e,t){if(e)return String(e);if(typeof t=="string")return t}var CU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},IU=(e,t)=>t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,Ci=e=>e.layout.height,jU=e=>e.layout.scale,ok=e=>e.layout.margin,Cp=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ip=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lk="data-recharts-item-index",uk="data-recharts-item-data-key",ic=60;function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RU=e=>e.brush.height;function DU(e){var t=Ip(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function MU(e){var t=Ip(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ic;return r+i}return r},0)}function LU(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function VU(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var It=L([Ti,Ci,ok,RU,DU,MU,LU,VU,TN,u9],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=cd(cd({},d),c),m=p.bottom;p.bottom+=n,p=gU(p,l,u);var g=e-p.left-p.right,w=t-p.top-p.bottom;return cd(cd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(w,0)})}),FU=L(It,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),hx=L(Ti,Ci,(e,t)=>({x:0,y:0,width:e,height:t})),$U=x.createContext(null),Or=()=>x.useContext($U)!=null,jp=e=>e.brush,Op=L([jp,It,ok],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),ck={},dk={},fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),w()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},w=()=>{g(),s=void 0,o=null},v=()=>{c()},_=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const E=p==null;m(),l&&E&&c()};return _.schedule=m,_.cancel=w,_.flush=v,i==null||i.addEventListener("abort",w,{once:!0}),_}e.debounce=t})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...w){c=n.apply(this,w),d=null},i,{edges:u}),m=function(...w){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,w),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,w),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(ck);var zU=ck.throttle;const UU=Ai(zU);var Qf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},hk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=yi(n)?e:Number(n),l=yi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},BU={width:0,height:0,overflow:"visible"},qU={width:0,overflowX:"visible"},WU={height:0,overflowY:"visible"},KU={},HU=e=>{var{width:t,height:r}=e,n=yi(t),i=yi(r);return n&&i?BU:n?qU:i?WU:KU};function GU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function dt(e){return Number.isFinite(e)}function Hn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pk=x.createContext({width:-1,height:-1});function ZU(e){return Hn(e.width)&&Hn(e.height)}function mk(e){var{children:t,width:r,height:n}=e,i=x.useMemo(()=>({width:r,height:n}),[r,n]);return ZU(i)?x.createElement(pk.Provider,{value:i},t):null}var px=()=>x.useContext(pk),JU=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:g={}}=e,w=x.useRef(null),v=x.useRef();v.current=m,x.useImperativeHandle(t,()=>w.current);var[_,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((A,j)=>{b(D=>{var C=Math.round(A),k=Math.round(j);return D.containerWidth===C&&D.containerHeight===k?D:{containerWidth:C,containerHeight:k}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ju;var A=k=>{var N,{width:Q,height:se}=k[0].contentRect;E(Q,se),(N=v.current)===null||N===void 0||N.call(v,Q,se)};c>0&&(A=UU(A,c,{trailing:!0,leading:!1}));var j=new ResizeObserver(A),{width:D,height:C}=w.current.getBoundingClientRect();return E(D,C),j.observe(w.current),()=>{j.disconnect()}},[E,c]);var{containerWidth:I,containerHeight:T}=_;Qf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:S}=hk(I,T,{width:i,height:a,aspect:r,maxHeight:l});return Qf(O!=null&&O>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,S,i,a,s,o,r),x.createElement("div",{id:d?"".concat(d):void 0,className:Ne("recharts-responsive-container",p),style:QS(QS({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:w},x.createElement("div",{style:HU({width:i,height:a})},x.createElement(mk,{width:O,height:S},u)))}),mx=x.forwardRef((e,t)=>{var r=px();if(Hn(r.width)&&Hn(r.height))return e.children;var{width:n,height:i}=GU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=hk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(s)?x.createElement(mk,{width:a,height:s},e.children):x.createElement(JU,xy({},e,{width:n,height:i,ref:t}))});function gk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Np=()=>{var e,t=Or(),r=te(FU),n=te(Op),i=(e=te(jp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},eB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vk=()=>{var e;return(e=te(It))!==null&&e!==void 0?e:eB},gx=()=>te(Ti),vx=()=>te(Ci),tB=()=>te(e=>e.layout.margin),Te=e=>e.layout.layoutType,kp=()=>te(Te),rB=()=>{var e=kp();return e!==void 0},Rp=e=>{var t=$e(),r=Or(),{width:n,height:i}=e,a=px(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),x.useEffect(()=>{!r&&Hn(s)&&Hn(o)&&t(cU({width:s,height:o}))},[t,r,s,o]),null},yk=Symbol.for("immer-nothing"),YS=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cu=Object.getPrototypeOf;function Eo(e){return!!e&&!!e[Ur]}function os(e){var t;return e?wk(e)||Array.isArray(e)||!!e[YS]||!!((t=e.constructor)!=null&&t[YS])||ac(e)||Mp(e):!1}var nB=Object.prototype.constructor.toString(),XS=new WeakMap;function wk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=XS.get(r);return n===void 0&&(n=Function.toString.call(r),XS.set(r,n)),n===nB}function Yf(e,t,r=!0){Dp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Dp(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:ac(e)?2:Mp(e)?3:0}function _y(e,t){return Dp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xk(e,t,r){const n=Dp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ac(e){return e instanceof Map}function Mp(e){return e instanceof Set}function La(e){return e.copy_||e.base_}function by(e,t){if(ac(e))return new Map(e);if(Mp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Cu(e),n)}else{const n=Cu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function yx(e,t=!1){return Lp(e)||Eo(e)||!os(e)||(Dp(e)>1&&Object.defineProperties(e,{set:dd,add:dd,clear:dd,delete:dd}),Object.freeze(e),t&&Object.values(e).forEach(r=>yx(r,!0))),e}function aB(){vn(2)}var dd={value:aB};function Lp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var sB={};function ls(e){const t=sB[e];return t||vn(0,e),t}var Iu;function _k(){return Iu}function oB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZS(e,t){t&&(ls("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ey(e){Sy(e),e.drafts_.forEach(lB),e.drafts_=null}function Sy(e){e===Iu&&(Iu=e.parent_)}function JS(e){return Iu=oB(Iu,e)}function lB(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(Ey(t),vn(4)),os(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&ls("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,r,[]),Ey(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yk?e:void 0}function Xf(e,t,r){if(Lp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ur];if(!i)return Yf(t,(a,s)=>tA(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Yf(s,(l,u)=>tA(e,i,a,l,u,r,o),n),Zf(e,a,!1),r&&e.patches_&&ls("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function tA(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Lp(i);if(!(o&&!s)){if(Eo(i)){const l=a&&t&&t.type_!==3&&!_y(t.assigned_,n)?a.concat(n):void 0,u=Xf(e,i,l);if(xk(r,n,u),Eo(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(os(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ac(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zf(e,i)}}}function Zf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yx(t,r)}function uB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_k(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=wx;r&&(i=[n],a=ju);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var wx={get(e,t){if(t===Ur)return e;const r=La(e);if(!_y(r,t))return cB(e,r,t);const n=r[t];return e.finalized_||!os(n)?n:n===_g(e.base_,t)?(bg(e),e.copy_[t]=Py(n,e)):n},has(e,t){return t in La(e)},ownKeys(e){return Reflect.ownKeys(La(e))},set(e,t,r){const n=bk(La(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=_g(La(e),t),a=i==null?void 0:i[Ur];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iB(r,i)&&(r!==void 0||_y(e.base_,t)))return!0;bg(e),Ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _g(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,bg(e),Ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=La(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vn(11)},getPrototypeOf(e){return Cu(e.base_)},setPrototypeOf(){vn(12)}},ju={};Yf(wx,(e,t)=>{ju[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ju.deleteProperty=function(e,t){return ju.set.call(this,e,t,void 0)};ju.set=function(e,t,r){return wx.set.call(this,e[0],t,r,e[0])};function _g(e,t){const r=e[Ur];return(r?La(r):e)[t]}function cB(e,t,r){var i;const n=bk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function bk(e,t){if(!(t in e))return;let r=Cu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cu(r)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function bg(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&vn(6),n!==void 0&&typeof n!="function"&&vn(7);let i;if(os(t)){const a=JS(this),s=Py(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Ey(a):Sy(a)}return ZS(a,n),eA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===yk&&(i=void 0),this.autoFreeze_&&yx(i,!0),n){const a=[],s=[];ls("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){os(e)||vn(8),Eo(e)&&(e=fB(e));const t=JS(this),r=Py(e,void 0);return r[Ur].isManual_=!0,Sy(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&vn(9);const{scope_:n}=r;return ZS(n,t),eA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ls("Patches").applyPatches_;return Eo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Py(e,t){const r=ac(e)?ls("MapSet").proxyMap_(e,t):Mp(e)?ls("MapSet").proxySet_(e,t):uB(e,t);return(t?t.scope_:_k()).drafts_.push(r),r}function fB(e){return Eo(e)||vn(10,e),Ek(e)}function Ek(e){if(!os(e)||Lp(e))return e;const t=e[Ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return Yf(r,(i,a)=>{xk(r,i,Ek(a))},n),t&&(t.finalized_=!1),r}var hB=new dB;hB.produce;var pB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Sk=jr({name:"legend",initialState:pB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ge()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(e,t){var r=_n(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:rA,setLegendSettings:mB,addLegendPayload:Ak,replaceLegendPayload:Pk,removeLegendPayload:Tk}=Sk.actions,gB=Sk.reducer,vB=["contextPayload"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=xB(e,"string");return typeof t=="symbol"?t:t+""}function xB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e,t){if(e==null)return{};var r,n,i=bB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EB(e){return e.value}function SB(e){var{contextPayload:t}=e,r=_B(e,vB),n=gN(t,e.payloadUniqBy,EB),i=So(So({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(Cz,i)}function AB(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),So(So({},u),c)}function PB(e){var t=$e();return x.useEffect(()=>{t(mB(e))},[t,e]),null}function TB(e){var t=$e();return x.useEffect(()=>(t(rA(e)),()=>{t(rA({width:0,height:0}))}),[t,e]),null}function CB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var IB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Vp(e){var t=Ut(e,IB),r=f9(),n=_5(),i=tB(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=CN([r]),d=gx(),p=vx();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=CB(t.layout,s,a,m),w=l?o:So(So({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},AB(o,t,i,d,p,u)),o),v=l??n;if(v==null||r==null)return null;var _=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:c},x.createElement(PB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(TB,{width:u.width,height:u.height}),x.createElement(SB,Ty({},t,g,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return Bn.createPortal(_,v)}Vp.displayName="Legend";function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=OB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=NB(e,"string");return typeof t=="symbol"?t:t+""}function NB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e){return Array.isArray(e)&&Kn(e[0])&&Kn(e[1])?e.join(" ~ "):e}var RB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var T={padding:0,margin:0},O=(o?yp(a,o):a).map((S,A)=>{if(S.type==="none")return null;var j=S.formatter||s||kB,{value:D,name:C}=S,k=D,N=C;if(j){var Q=j(D,C,S,A,a);if(Array.isArray(Q))[k,N]=Q;else if(Q!=null)k=Q;else return null}var se=Eg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:se},Kn(N)?x.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Kn(N)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},O)}return null},g=Eg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Eg({margin:0},i),v=!zt(c),_=v?c:"",b=Ne("recharts-default-tooltip",l),E=Ne("recharts-tooltip-label",u);v&&d&&a!==void 0&&a!==null&&(_=d(c,a));var I=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Cy({className:b,style:g},I),x.createElement("p",{className:E,style:w},x.isValidElement(_)?_:"".concat(_)),m())},vl="recharts-tooltip-wrapper",DB={visibility:"hidden"};function MB(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ne(vl,{["".concat(vl,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(vl,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(vl,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(vl,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function aA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&re(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(t[n])return s[n]?c:d;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,g=p;return m<g?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var w=d+o,v=p+u;return w>v?Math.max(c,p):Math.max(d,p)}function LB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&r?(c=aA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=aA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=LB({translateX:c,translateY:d,useTranslate3d:o})):u=DB,{cssProperties:u,cssClasses:MB({translateX:c,translateY:d,coordinate:r})}}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iy(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zB extends x.PureComponent{constructor(){super(...arguments),Iy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:w,innerRef:v,hasPortalFromProps:_}=this.props,{cssClasses:b,cssProperties:E}=VB({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:p,viewBox:m}),I=_?{}:fd(fd({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=fd(fd({},I),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:T,ref:v},a)}}var Ck=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uA={curveBasisClosed:$5,curveBasisOpen:z5,curveBasis:F5,curveBumpX:A5,curveBumpY:P5,curveLinearClosed:U5,curveLinear:dp,curveMonotoneX:B5,curveMonotoneY:q5,curveNatural:W5,curveStep:K5,curveStepAfter:G5,curveStepBefore:H5},Jf=e=>dt(e.x)&&dt(e.y),cA=e=>e.base!=null&&Jf(e.base)&&Jf(e),yl=e=>e.x,wl=e=>e.y,WB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zu(e));return(r==="curveMonotone"||r==="curveBump")&&t?uA["".concat(r).concat(t==="vertical"?"Y":"X")]:uA[r]||dp},KB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=WB(t,i),o=a?r.filter(Jf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>lA(lA({},m),{},{base:n[g]}));i==="vertical"?l=id().y(wl).x1(yl).x0(m=>m.base.x):l=id().x(yl).y1(wl).y0(m=>m.base.y);var c=l.defined(cA).curve(s),d=a?u.filter(cA):u;return c(d)}i==="vertical"&&re(n)?l=id().y(wl).x1(yl).x0(n):re(n)?l=id().x(yl).y1(wl).y0(n):l=LO().x(yl).y(wl);var p=l.defined(Jf).curve(s);return p(o)},xx=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?KB(e):n;return x.createElement("path",jy({},Sn(e),mz(e),{className:Ne("recharts-curve",t),d:a===null?void 0:a,ref:i}))},HB=["x","y","top","left","width","height","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t){if(e==null)return{};var r,n,i=JB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var e8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),t8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=ZB(e,HB),u=GB({x:t,y:r,top:n,left:i,width:a,height:s},l);return!re(t)||!re(r)||!re(a)||!re(s)||!re(n)||!re(i)?null:x.createElement("path",Oy({},an(u),{className:Ne("recharts-cross",o),d:e8(t,r,a,s,n,i)}))};function r8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=i8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ik=(e,t,r)=>e.map(n=>"".concat(s8(n)," ").concat(t,"ms ").concat(r)).join(","),o8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ou=(e,t)=>Object.keys(t).reduce((r,n)=>hA(hA({},r),{},{[n]:e(n,t[n])}),{});function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=u8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=(e,t,r)=>e+(t-e)*r,Ny=e=>{var{from:t,to:r}=e;return t!==r},jk=(e,t,r)=>{var n=Ou((i,a)=>{if(Ny(a)){var[s,o]=e(a.from,a.to,a.velocity);return Pt(Pt({},a),{},{from:s,velocity:o})}return a},t);return r<1?Ou((i,a)=>Ny(a)?Pt(Pt({},a),{},{velocity:eh(a.velocity,n[i].velocity,r),from:eh(a.from,n[i].from,r)}):a,t):jk(e,n,r-1)};function d8(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Pt(Pt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ou((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Ny).length,c=null,d=p=>{s||(s=p);var m=p-s,g=m/r.dt;o=jk(r,o,g),i(Pt(Pt(Pt({},e),t),l())),s=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function f8(e,t,r,n,i,a,s){var o=null,l=i.reduce((d,p)=>Pt(Pt({},d),{},{[p]:[e[p],t[p]]}),{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Ou((w,v)=>eh(...v,r(p)),l);if(a(Pt(Pt(Pt({},e),t),m)),p<1)o=s.setTimeout(c);else{var g=Ou((w,v)=>eh(...v,r(1)),l);a(Pt(Pt(Pt({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const h8=(e,t,r,n,i,a)=>{var s=o8(e,t);return r==null?()=>(i(Pt(Pt({},e),t)),()=>{}):r.isStepper===!0?d8(e,t,r,s,i,a):f8(e,t,r,n,s,i,a)};var th=1e-4,Ok=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Nk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),mA=(e,t)=>r=>{var n=Ok(e,t);return Nk(n,r)},p8=(e,t)=>r=>{var n=Ok(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return Nk(i,r)},m8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},g8=(e,t,r,n)=>{var i=mA(e,r),a=mA(t,n),s=p8(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,g=s(d);if(Math.abs(m-c)<th||g<th)return a(d);d=o(d-m/g)}return a(d)};return l.isStepper=!1,l},gA=function(){return g8(...m8(...arguments))},v8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<th&&Math.abs(d)<th?[o,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},y8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gA(e);case"spring":return v8();default:if(e.split("(")[0]==="cubic-bezier")return gA(e)}return typeof e=="function"?e:null};function w8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class x8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _8(){return w8(new x8)}var b8=x.createContext(_8);function E8(e,t){var r=x.useContext(b8);return x.useMemo(()=>t??r(e),[e,t,r])}var S8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sc={devToolsEnabled:!1,isSsr:S8()},A8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vA={t:0},Sg={t:1};function Fp(e){var t=Ut(e,A8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!sc.isSsr:r,d=E8(t.animationId,t.animationManager),[p,m]=x.useState(c?vA:Sg),g=x.useRef(null);return x.useEffect(()=>{c||m(Sg)},[c]),x.useEffect(()=>{if(!c||!n)return Ju;var w=h8(vA,Sg,y8(a),i,m,d.getTimeoutController()),v=()=>{g.current=w()};return d.start([l,s,v,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[c,n,i,a,s,l,o,d]),u(p.t)}function $p(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Su(t)),n=x.useRef(e);return n.current!==e&&(r.current=Su(t),n.current=e),r.current}var P8=["radius"],T8=["radius"];function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){C8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t,r){return(t=I8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=j8(e,"string");return typeof t=="symbol"?t:t+""}function j8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function xA(e,t){if(e==null)return{};var r,n,i=O8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _A=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=i[d]>a?a:i[d];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+r-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*c[1])),u+="L ".concat(e+r,",").concat(t+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-o*c[2],",").concat(t+n)),u+="L ".concat(e+o*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},bA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kk=e=>{var t=Ut(e,bA),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:w}=t,v=x.useRef(o),_=x.useRef(l),b=x.useRef(a),E=x.useRef(s),I=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),T=$p(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Ne("recharts-rectangle",c);if(!w){var S=an(t),{radius:A}=S,j=xA(S,P8);return x.createElement("path",rh({},j,{radius:typeof u=="number"?u:void 0,className:O,d:_A(a,s,o,l,u)}))}var D=v.current,C=_.current,k=b.current,N=E.current,Q="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),de=Ik(["strokeDasharray"],p,typeof d=="string"?d:bA.animationEasing);return x.createElement(Fp,{animationId:T,key:T,canBegin:n>0,duration:p,easing:d,isActive:w,begin:m},oe=>{var U=At(D,o,oe),K=At(C,l,oe),ne=At(k,a,oe),me=At(N,s,oe);r.current&&(v.current=U,_.current=K,b.current=ne,E.current=me);var be;g?oe>0?be={transition:de,strokeDasharray:se}:be={strokeDasharray:Q}:be={strokeDasharray:se};var _t=an(t),{radius:ke}=_t,qt=xA(_t,T8);return x.createElement("path",rh({},qt,{radius:typeof u=="number"?u:void 0,className:O,d:_A(ne,me,U,K,u),ref:r,style:wA(wA({},be),t.style)}))})};function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){N8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,D8=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-nh*n)*r,y:t+Math.sin(-nh*n)*r}),Rk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},L8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=M8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:D8(l),angleInRadian:l}},V8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},F8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},$8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=L8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=V8(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?SA(SA({},t),{},{radius:i,angle:F8(c,t)}):null};function Dk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=wt(t,r,n,i),o=wt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}var z8=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/nh,d=l?i:i+a*c,p=wt(t,r,u,d),m=wt(t,r,n,d),g=l?i-a*c:i,w=wt(t,r,u*Math.cos(c*nh),g);return{center:p,circleTangency:m,lineTangency:w,theta:c}},Mk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=z8(a,s),l=a+o,u=wt(t,r,i,a),c=wt(t,r,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=wt(t,r,n,a),m=wt(t,r,n,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},U8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ft(u-l),{circleTangency:d,lineTangency:p,theta:m}=hd({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:w,theta:v}=hd({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-u):Math.abs(l-u)-m-v;if(_<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Mk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:I,theta:T}=hd({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:S,theta:A}=hd({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),j=o?Math.abs(l-u):Math.abs(l-u)-T-A;if(j<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},B8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Lk=e=>{var t=Ut(e,B8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Ne("recharts-sector",d),m=a-i,g=or(s,m,0,!0),w;return g>0&&Math.abs(u-c)<360?w=U8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):w=Mk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),x.createElement("path",ky({},an(t),{className:p,d:w}))};function q8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ZO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=wt(n,i,a,o),u=wt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Dk(t)}}var Vk={},Fk={},$k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})($k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$k;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=Fk;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(Vk);var W8=Vk.range;const zk=Ai(W8);function la(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _x(e){let t,r,n;e.length!==2?(t=la,r=(o,l)=>la(e(o),l),n=(o,l)=>e(o)-l):(t=e===la||e===K8?e:H8,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function H8(){return 0}function Uk(e){return e===null?NaN:+e}function*G8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q8=_x(la),oc=Q8.right;_x(Uk).center;class AA extends Map{constructor(t,r=Z8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(PA(this,t))}has(t){return super.has(PA(this,t))}set(t,r){return super.set(Y8(this,t),r)}delete(t){return super.delete(X8(this,t))}}function PA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Z8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function J8(e=la){if(e===la)return Bk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Bk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e7=Math.sqrt(50),t7=Math.sqrt(10),r7=Math.sqrt(2);function ih(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=e7?10:a>=t7?5:a>=r7?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?ih(e,t,r*2):[o,l,u]}function Ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ih(t,e,r):ih(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Dy(e,t,r){return t=+t,e=+e,r=+r,ih(e,t,r)[2]}function My(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Dy(t,e,r):Dy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function TA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Bk:J8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),g=Math.min(n,Math.floor(t+(l-u)*d/l+p));qk(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(xl(e,r,t),i(e[n],a)>0&&xl(e,r,n);s<o;){for(xl(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?xl(e,r,o):(++o,xl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function n7(e,t,r){if(e=Float64Array.from(G8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CA(e);if(t>=1)return TA(e);var n,i=(n-1)*t,a=Math.floor(i),s=TA(qk(e,a).subarray(0,a+1)),o=CA(e.subarray(a+1));return s+(o-s)*(i-a)}}function i7(e,t,r=Uk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function a7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ly=Symbol("implicit");function bx(){var e=new AA,t=[],r=[],n=Ly;function i(a){let s=e.get(a);if(s===void 0){if(n!==Ly)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new AA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bx(t,r).unknown(n)},un.apply(i,arguments),i}function Ex(){var e=bx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,g=m?i:n,w=m?n:i;a=(w-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(w-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=a7(p).map(function(_){return g+a*_});return r(m?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,d()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return Ex(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},un.apply(d(),arguments)}function Wk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wk(t())},e}function s7(){return Wk(Ex.apply(null,arguments).paddingInner(1))}function Sx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Kk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lc(){}var Nu=.7,ah=1/Nu,no="\\s*([+-]?\\d+)\\s*",ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o7=/^#([0-9a-f]{3,8})$/,l7=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),u7=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),c7=new RegExp(`^rgba\\(${no},${no},${no},${ku}\\)$`),d7=new RegExp(`^rgba\\(${Un},${Un},${Un},${ku}\\)$`),f7=new RegExp(`^hsl\\(${ku},${Un},${Un}\\)$`),h7=new RegExp(`^hsla\\(${ku},${Un},${Un},${ku}\\)$`),IA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sx(lc,Ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jA,formatHex:jA,formatHex8:p7,formatHsl:m7,formatRgb:OA,toString:OA});function jA(){return this.rgb().formatHex()}function p7(){return this.rgb().formatHex8()}function m7(){return Hk(this).formatHsl()}function OA(){return this.rgb().formatRgb()}function Ru(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=o7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?NA(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l7.exec(e))?new Sr(t[1],t[2],t[3],1):(t=u7.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c7.exec(e))?pd(t[1],t[2],t[3],t[4]):(t=d7.exec(e))?pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=f7.exec(e))?DA(t[1],t[2]/100,t[3]/100,1):(t=h7.exec(e))?DA(t[1],t[2]/100,t[3]/100,t[4]):IA.hasOwnProperty(e)?NA(IA[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function NA(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function pd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function g7(e){return e instanceof lc||(e=Ru(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function Vy(e,t,r,n){return arguments.length===1?g7(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sx(Sr,Vy,Kk(lc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nu:Math.pow(Nu,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Xa(this.r),Xa(this.g),Xa(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kA,formatHex:kA,formatHex8:v7,formatRgb:RA,toString:RA}));function kA(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function v7(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function RA(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=Xa(e),(e<16?"0":"")+e.toString(16)}function DA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yn(e,t,r,n)}function Hk(e){if(e instanceof yn)return new yn(e.h,e.s,e.l,e.opacity);if(e instanceof lc||(e=Ru(e)),!e)return new yn;if(e instanceof yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yn(s,o,l,e.opacity)}function y7(e,t,r,n){return arguments.length===1?Hk(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sx(yn,y7,Kk(lc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nu:Math.pow(Nu,e),new yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Sr(Ag(e>=240?e-240:e+120,i,n),Ag(e,i,n),Ag(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new yn(MA(this.h),md(this.s),md(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${MA(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MA(e){return e=(e||0)%360,e<0?e+360:e}function md(e){return Math.max(0,Math.min(1,e||0))}function Ag(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ax=e=>()=>e;function w7(e,t){return function(r){return e+r*t}}function x7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _7(e){return(e=+e)==1?Gk:function(t,r){return r-t?x7(t,r,e):Ax(isNaN(t)?r:t)}}function Gk(e,t){var r=t-e;return r?w7(e,r):Ax(isNaN(e)?t:e)}const LA=function e(t){var r=_7(t);function n(i,a){var s=r((i=Vy(i)).r,(a=Vy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Gk(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function b7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function E7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function S7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Vo(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function A7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function P7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Vo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pg=new RegExp(Fy.source,"g");function T7(e){return function(){return e}}function C7(e){return function(t){return e(t)+""}}function I7(e,t){var r=Fy.lastIndex=Pg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Fy.exec(e))&&(i=Pg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:oh(n,i)})),r=Pg.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?C7(l[0].x):T7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Vo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ax(t):(r==="number"?oh:r==="string"?(n=Ru(t))?(t=n,LA):I7:t instanceof Ru?LA:t instanceof Date?A7:E7(t)?b7:Array.isArray(t)?S7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P7:oh)(e,t)}function Px(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function j7(e,t){t===void 0&&(t=e,e=Vo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function O7(e){return function(){return e}}function lh(e){return+e}var VA=[0,1];function fr(e){return e}function $y(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:O7(isNaN(t)?NaN:.5)}function N7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function k7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=$y(i,n),a=r(s,a)):(n=$y(n,i),a=r(a,s)),function(o){return a(n(o))}}function R7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=$y(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=oc(e,o,1,n)-1;return a[l](i[l](o))}}function uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zp(){var e=VA,t=VA,r=Vo,n,i,a,s=fr,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==fr&&(s=N7(e[0],e[p-1])),o=p>2?R7:k7,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return d.invert=function(p){return s(i((u||(u=o(t,e.map(n),oh)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,lh),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=Px,c()},d.clamp=function(p){return arguments.length?(s=p?!0:fr,c()):s!==fr},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function Tx(){return zp()(fr,fr)}function D7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ao(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function M7(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function L7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Du(e){if(!(t=V7.exec(e)))throw new Error("invalid format: "+e);var t;return new Cx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Du.prototype=Cx.prototype;function Cx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Qk;function $7(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Qk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+uh(e,Math.max(0,t+a-1))[0]}function FA(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:D7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FA(e*100,t),r:FA,s:$7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zA(e){return e}var UA=Array.prototype.map,BA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z7(e){var t=e.grouping===void 0||e.thousands===void 0?zA:M7(UA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?zA:L7(UA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Du(d);var p=d.fill,m=d.align,g=d.sign,w=d.symbol,v=d.zero,_=d.width,b=d.comma,E=d.precision,I=d.trim,T=d.type;T==="n"?(b=!0,T="g"):$A[T]||(E===void 0&&(E=12),I=!0,T="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var O=w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=w==="$"?n:/[%p]/.test(T)?s:"",A=$A[T],j=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function D(C){var k=O,N=S,Q,se,de;if(T==="c")N=A(C)+N,C="";else{C=+C;var oe=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),E),I&&(C=F7(C)),oe&&+C==0&&g!=="+"&&(oe=!1),k=(oe?g==="("?g:o:g==="-"||g==="("?"":g)+k,N=(T==="s"?BA[8+Qk/3]:"")+N+(oe&&g==="("?")":""),j){for(Q=-1,se=C.length;++Q<se;)if(de=C.charCodeAt(Q),48>de||de>57){N=(de===46?i+C.slice(Q+1):C.slice(Q))+N,C=C.slice(0,Q);break}}}b&&!v&&(C=t(C,1/0));var U=k.length+C.length+N.length,K=U<_?new Array(_-U+1).join(p):"";switch(b&&v&&(C=t(K+C,K.length?_-N.length:1/0),K=""),m){case"<":C=k+C+N+K;break;case"=":C=k+K+C+N;break;case"^":C=K.slice(0,U=K.length>>1)+k+C+N+K.slice(U);break;default:C=K+k+C+N;break}return a(C)}return D.toString=function(){return d+""},D}function c(d,p){var m=u((d=Du(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ao(p)/3)))*3,w=Math.pow(10,-g),v=BA[8+g/3];return function(_){return m(w*_)+v}}return{format:u,formatPrefix:c}}var gd,Ix,Yk;U7({thousands:",",grouping:[3],currency:["$",""]});function U7(e){return gd=z7(e),Ix=gd.format,Yk=gd.formatPrefix,gd}function B7(e){return Math.max(0,-Ao(Math.abs(e)))}function q7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(t)/3)))*3-Ao(Math.abs(e)))}function W7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ao(t)-Ao(e))+1}function Xk(e,t,r,n){var i=My(e,t,r),a;switch(n=Du(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=q7(i,s))&&(n.precision=a),Yk(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=W7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=B7(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ix(n)}function Sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Xk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Dy(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Zk(){var e=Tx();return e.copy=function(){return uc(e,Zk())},un.apply(e,arguments),Sa(e)}function Jk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Jk(e).unknown(t)},e=arguments.length?Array.from(e,lh):[0,1],Sa(r)}function eR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function qA(e){return Math.log(e)}function WA(e){return Math.exp(e)}function K7(e){return-Math.log(-e)}function H7(e){return-Math.exp(-e)}function G7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Q7(e){return e===10?G7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Y7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KA(e){return(t,r)=>-e(-t,r)}function jx(e){const t=e(qA,WA),r=t.domain;let n=10,i,a;function s(){return i=Y7(n),a=Q7(n),r()[0]<0?(i=KA(i),a=KA(a),e(K7,H7)):e(qA,WA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),g,w;const v=o==null?10:+o;let _=[];if(!(n%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(w=p<0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;_.push(w)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(w=p>0?g/a(-p):g*a(p),!(w<u)){if(w>c)break;_.push(w)}_.length*2<v&&(_=Ry(u,c,v))}else _=Ry(p,m,Math.min(m-p,v)).map(a);return d?_.reverse():_},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Du(l)).precision==null&&(l.trim=!0),l=Ix(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(eR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function tR(){const e=jx(zp()).domain([1,10]);return e.copy=()=>uc(e,tR()).base(e.base()),un.apply(e,arguments),e}function HA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ox(e){var t=1,r=e(HA(t),GA(t));return r.constant=function(n){return arguments.length?e(HA(t=+n),GA(t)):t},Sa(r)}function rR(){var e=Ox(zp());return e.copy=function(){return uc(e,rR()).constant(e.constant())},un.apply(e,arguments)}function QA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Z7(e){return e<0?-e*e:e*e}function Nx(e){var t=e(fr,fr),r=1;function n(){return r===1?e(fr,fr):r===.5?e(X7,Z7):e(QA(r),QA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Sa(t)}function kx(){var e=Nx(zp());return e.copy=function(){return uc(e,kx()).exponent(e.exponent())},un.apply(e,arguments),e}function J7(){return kx.apply(null,arguments).exponent(.5)}function YA(e){return Math.sign(e)*e*e}function eq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nR(){var e=Tx(),t=[0,1],r=!1,n;function i(a){var s=eq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(YA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,lh)).map(YA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},un.apply(i,arguments),Sa(i)}function iR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=i7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[oc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(la),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return iR().domain(e).range(t).unknown(n)},un.apply(a,arguments)}function aR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[oc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return aR().domain([e,t]).range(i).unknown(a)},un.apply(Sa(s),arguments)}function sR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[oc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sR().domain(e).range(t).unknown(r)},un.apply(i,arguments)}const Tg=new Date,Cg=new Date;function jt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>jt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Tg.setTime(+a),Cg.setTime(+s),e(Tg),e(Cg),Math.floor(r(Tg,Cg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ch=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ch);ch.range;const ii=1e3,Jr=ii*60,ai=Jr*60,xi=ai*24,Rx=xi*7,XA=xi*30,Ig=xi*365,qa=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());qa.range;const Dx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());Dx.range;const Mx=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());Mx.range;const Lx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());Lx.range;const Vx=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());Vx.range;const cc=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/xi,e=>e.getDate()-1);cc.range;const Up=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>e.getUTCDate()-1);Up.range;const oR=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>Math.floor(e/xi));oR.range;function ws(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Rx)}const Bp=ws(0),dh=ws(1),tq=ws(2),rq=ws(3),Po=ws(4),nq=ws(5),iq=ws(6);Bp.range;dh.range;tq.range;rq.range;Po.range;nq.range;iq.range;function xs(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Rx)}const qp=xs(0),fh=xs(1),aq=xs(2),sq=xs(3),To=xs(4),oq=xs(5),lq=xs(6);qp.range;fh.range;aq.range;sq.range;To.range;oq.range;lq.range;const Fx=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fx.range;const $x=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$x.range;const _i=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_i.range;const bi=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bi.range;function lR(e,t,r,n,i,a){const s=[[qa,1,ii],[qa,5,5*ii],[qa,15,15*ii],[qa,30,30*ii],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[n,1,xi],[n,2,2*xi],[r,1,Rx],[t,1,XA],[t,3,3*XA],[e,1,Ig]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,d){const p=Math.abs(c-u)/d,m=_x(([,,v])=>v).right(s,p);if(m===s.length)return e.every(My(u/Ig,c/Ig,d));if(m===0)return ch.every(Math.max(My(u,c,d),1));const[g,w]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(w)}return[o,l]}const[uq,cq]=lR(bi,$x,qp,oR,Vx,Mx),[dq,fq]=lR(_i,Fx,Bp,cc,Lx,Dx);function jg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Og(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _l(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=bl(i),c=El(i),d=bl(a),p=El(a),m=bl(s),g=El(s),w=bl(o),v=El(o),_=bl(l),b=El(l),E={a:oe,A:U,b:K,B:ne,c:null,d:nP,e:nP,f:Mq,g:Kq,G:Gq,H:kq,I:Rq,j:Dq,L:uR,m:Lq,M:Vq,p:me,q:be,Q:sP,s:oP,S:Fq,u:$q,U:zq,V:Uq,w:Bq,W:qq,x:null,X:null,y:Wq,Y:Hq,Z:Qq,"%":aP},I={a:_t,A:ke,b:qt,B:bt,c:null,d:iP,e:iP,f:Jq,g:uW,G:dW,H:Yq,I:Xq,j:Zq,L:dR,m:eW,M:tW,p:ze,q:Qn,Q:sP,s:oP,S:rW,u:nW,U:iW,V:aW,w:sW,W:oW,x:null,X:null,y:lW,Y:cW,Z:fW,"%":aP},T={a:D,A:C,b:k,B:N,c:Q,d:tP,e:tP,f:Iq,g:eP,G:JA,H:rP,I:rP,j:Aq,L:Cq,m:Sq,M:Pq,p:j,q:Eq,Q:Oq,s:Nq,S:Tq,u:yq,U:wq,V:xq,w:vq,W:_q,x:se,X:de,y:eP,Y:JA,Z:bq,"%":jq};E.x=O(r,E),E.X=O(n,E),E.c=O(t,E),I.x=O(r,I),I.X=O(n,I),I.c=O(t,I);function O(B,fe){return function(ye){var q=[],ft=-1,Ce=0,z=B.length,H,Z,ce;for(ye instanceof Date||(ye=new Date(+ye));++ft<z;)B.charCodeAt(ft)===37&&(q.push(B.slice(Ce,ft)),(Z=ZA[H=B.charAt(++ft)])!=null?H=B.charAt(++ft):Z=H==="e"?" ":"0",(ce=fe[H])&&(H=ce(ye,Z)),q.push(H),Ce=ft+1);return q.push(B.slice(Ce,ft)),q.join("")}}function S(B,fe){return function(ye){var q=_l(1900,void 0,1),ft=A(q,B,ye+="",0),Ce,z;if(ft!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Ce=Og(_l(q.y,0,1)),z=Ce.getUTCDay(),Ce=z>4||z===0?fh.ceil(Ce):fh(Ce),Ce=Up.offset(Ce,(q.V-1)*7),q.y=Ce.getUTCFullYear(),q.m=Ce.getUTCMonth(),q.d=Ce.getUTCDate()+(q.w+6)%7):(Ce=jg(_l(q.y,0,1)),z=Ce.getDay(),Ce=z>4||z===0?dh.ceil(Ce):dh(Ce),Ce=cc.offset(Ce,(q.V-1)*7),q.y=Ce.getFullYear(),q.m=Ce.getMonth(),q.d=Ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),z="Z"in q?Og(_l(q.y,0,1)).getUTCDay():jg(_l(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(z+5)%7:q.w+q.U*7-(z+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Og(q)):jg(q)}}function A(B,fe,ye,q){for(var ft=0,Ce=fe.length,z=ye.length,H,Z;ft<Ce;){if(q>=z)return-1;if(H=fe.charCodeAt(ft++),H===37){if(H=fe.charAt(ft++),Z=T[H in ZA?fe.charAt(ft++):H],!Z||(q=Z(B,ye,q))<0)return-1}else if(H!=ye.charCodeAt(q++))return-1}return q}function j(B,fe,ye){var q=u.exec(fe.slice(ye));return q?(B.p=c.get(q[0].toLowerCase()),ye+q[0].length):-1}function D(B,fe,ye){var q=m.exec(fe.slice(ye));return q?(B.w=g.get(q[0].toLowerCase()),ye+q[0].length):-1}function C(B,fe,ye){var q=d.exec(fe.slice(ye));return q?(B.w=p.get(q[0].toLowerCase()),ye+q[0].length):-1}function k(B,fe,ye){var q=_.exec(fe.slice(ye));return q?(B.m=b.get(q[0].toLowerCase()),ye+q[0].length):-1}function N(B,fe,ye){var q=w.exec(fe.slice(ye));return q?(B.m=v.get(q[0].toLowerCase()),ye+q[0].length):-1}function Q(B,fe,ye){return A(B,t,fe,ye)}function se(B,fe,ye){return A(B,r,fe,ye)}function de(B,fe,ye){return A(B,n,fe,ye)}function oe(B){return s[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function ne(B){return o[B.getMonth()]}function me(B){return i[+(B.getHours()>=12)]}function be(B){return 1+~~(B.getMonth()/3)}function _t(B){return s[B.getUTCDay()]}function ke(B){return a[B.getUTCDay()]}function qt(B){return l[B.getUTCMonth()]}function bt(B){return o[B.getUTCMonth()]}function ze(B){return i[+(B.getUTCHours()>=12)]}function Qn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=O(B+="",E);return fe.toString=function(){return B},fe},parse:function(B){var fe=S(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=O(B+="",I);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=S(B+="",!0);return fe.toString=function(){return B},fe}}}var ZA={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,pq=/^%/,mq=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function gq(e){return e.replace(mq,"\\$&")}function bl(e){return new RegExp("^(?:"+e.map(gq).join("|")+")","i")}function El(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _q(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JA(e,t,r){var n=Bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Eq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Sq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Aq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Tq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jq(e,t,r){var n=pq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Oq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nP(e,t){return Pe(e.getDate(),t,2)}function kq(e,t){return Pe(e.getHours(),t,2)}function Rq(e,t){return Pe(e.getHours()%12||12,t,2)}function Dq(e,t){return Pe(1+cc.count(_i(e),e),t,3)}function uR(e,t){return Pe(e.getMilliseconds(),t,3)}function Mq(e,t){return uR(e,t)+"000"}function Lq(e,t){return Pe(e.getMonth()+1,t,2)}function Vq(e,t){return Pe(e.getMinutes(),t,2)}function Fq(e,t){return Pe(e.getSeconds(),t,2)}function $q(e){var t=e.getDay();return t===0?7:t}function zq(e,t){return Pe(Bp.count(_i(e)-1,e),t,2)}function cR(e){var t=e.getDay();return t>=4||t===0?Po(e):Po.ceil(e)}function Uq(e,t){return e=cR(e),Pe(Po.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function Bq(e){return e.getDay()}function qq(e,t){return Pe(dh.count(_i(e)-1,e),t,2)}function Wq(e,t){return Pe(e.getFullYear()%100,t,2)}function Kq(e,t){return e=cR(e),Pe(e.getFullYear()%100,t,2)}function Hq(e,t){return Pe(e.getFullYear()%1e4,t,4)}function Gq(e,t){var r=e.getDay();return e=r>=4||r===0?Po(e):Po.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function Qq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function iP(e,t){return Pe(e.getUTCDate(),t,2)}function Yq(e,t){return Pe(e.getUTCHours(),t,2)}function Xq(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function Zq(e,t){return Pe(1+Up.count(bi(e),e),t,3)}function dR(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function Jq(e,t){return dR(e,t)+"000"}function eW(e,t){return Pe(e.getUTCMonth()+1,t,2)}function tW(e,t){return Pe(e.getUTCMinutes(),t,2)}function rW(e,t){return Pe(e.getUTCSeconds(),t,2)}function nW(e){var t=e.getUTCDay();return t===0?7:t}function iW(e,t){return Pe(qp.count(bi(e)-1,e),t,2)}function fR(e){var t=e.getUTCDay();return t>=4||t===0?To(e):To.ceil(e)}function aW(e,t){return e=fR(e),Pe(To.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function sW(e){return e.getUTCDay()}function oW(e,t){return Pe(fh.count(bi(e)-1,e),t,2)}function lW(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function uW(e,t){return e=fR(e),Pe(e.getUTCFullYear()%100,t,2)}function cW(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function dW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?To(e):To.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function fW(){return"+0000"}function aP(){return"%"}function sP(e){return+e}function oP(e){return Math.floor(+e/1e3)}var As,hR,pR;hW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hW(e){return As=hq(e),hR=As.format,As.parse,pR=As.utcFormat,As.utcParse,As}function pW(e){return new Date(e)}function mW(e){return e instanceof Date?+e:+new Date(+e)}function zx(e,t,r,n,i,a,s,o,l,u){var c=Tx(),d=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),w=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),b=u("%b %d"),E=u("%B"),I=u("%Y");function T(O){return(l(O)<O?m:o(O)<O?g:s(O)<O?w:a(O)<O?v:n(O)<O?i(O)<O?_:b:r(O)<O?E:I)(O)}return c.invert=function(O){return new Date(d(O))},c.domain=function(O){return arguments.length?p(Array.from(O,mW)):p().map(pW)},c.ticks=function(O){var S=p();return e(S[0],S[S.length-1],O??10)},c.tickFormat=function(O,S){return S==null?T:u(S)},c.nice=function(O){var S=p();return(!O||typeof O.range!="function")&&(O=t(S[0],S[S.length-1],O??10)),O?p(eR(S,O)):c},c.copy=function(){return uc(c,zx(e,t,r,n,i,a,s,o,l,u))},c}function gW(){return un.apply(zx(dq,fq,_i,Fx,Bp,cc,Lx,Dx,qa,hR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vW(){return un.apply(zx(uq,cq,bi,$x,qp,Up,Vx,Mx,qa,pR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wp(){var e=0,t=1,r,n,i,a,s=fr,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(p){var m,g;return arguments.length?([m,g]=p,s=d(m,g),u):[s(0),s(1)]}}return u.range=c(Vo),u.rangeRound=c(Px),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mR(){var e=Sa(Wp()(fr));return e.copy=function(){return Aa(e,mR())},Ii.apply(e,arguments)}function gR(){var e=jx(Wp()).domain([1,10]);return e.copy=function(){return Aa(e,gR()).base(e.base())},Ii.apply(e,arguments)}function vR(){var e=Ox(Wp());return e.copy=function(){return Aa(e,vR()).constant(e.constant())},Ii.apply(e,arguments)}function Ux(){var e=Nx(Wp());return e.copy=function(){return Aa(e,Ux()).exponent(e.exponent())},Ii.apply(e,arguments)}function yW(){return Ux.apply(null,arguments).exponent(.5)}function yR(){var e=[],t=fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((oc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(la),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>n7(e,a/n))},r.copy=function(){return yR(t).domain(e)},Ii.apply(r,arguments)}function Kp(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=fr,c,d=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+c(w))-a)*(n*w<n*a?o:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t,r]=w,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function g(w){return function(v){var _,b,E;return arguments.length?([_,b,E]=v,u=j7(w,[_,b,E]),m):[u(0),u(.5),u(1)]}}return m.range=g(Vo),m.rangeRound=g(Px),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return c=w,i=w(e),a=w(t),s=w(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function wR(){var e=Sa(Kp()(fr));return e.copy=function(){return Aa(e,wR())},Ii.apply(e,arguments)}function xR(){var e=jx(Kp()).domain([.1,1,10]);return e.copy=function(){return Aa(e,xR()).base(e.base())},Ii.apply(e,arguments)}function _R(){var e=Ox(Kp());return e.copy=function(){return Aa(e,_R()).constant(e.constant())},Ii.apply(e,arguments)}function Bx(){var e=Nx(Kp());return e.copy=function(){return Aa(e,Bx()).exponent(e.exponent())},Ii.apply(e,arguments)}function wW(){return Bx.apply(null,arguments).exponent(.5)}const Dl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ex,scaleDiverging:wR,scaleDivergingLog:xR,scaleDivergingPow:Bx,scaleDivergingSqrt:wW,scaleDivergingSymlog:_R,scaleIdentity:Jk,scaleImplicit:Ly,scaleLinear:Zk,scaleLog:tR,scaleOrdinal:bx,scalePoint:s7,scalePow:kx,scaleQuantile:iR,scaleQuantize:aR,scaleRadial:nR,scaleSequential:mR,scaleSequentialLog:gR,scaleSequentialPow:Ux,scaleSequentialQuantile:yR,scaleSequentialSqrt:yW,scaleSequentialSymlog:vR,scaleSqrt:J7,scaleSymlog:rR,scaleThreshold:sR,scaleTime:gW,scaleUtc:vW,tickFormat:Xk},Symbol.toStringTag,{value:"Module"}));var Pa=e=>e.chartData,qx=L([Pa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Wx=(e,t,r,n)=>n?qx(e):Pa(e);function va(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function lP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(dt(r))i=r;else if(typeof r=="function")return;if(dt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(va(s))return s}}function xW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(va(n))return lP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(re(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&qS.test(i)){var l=qS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&WS.test(a)){var c=WS.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=t==null?void 0:t[1];var p=[s,o];if(va(p))return t==null?p:lP(p,t,r)}}}var Fo=1e9,_W={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hx,Xe=!0,on="[DecimalError] ",Za=on+"Invalid argument: ",Kx=on+"Exponent out of range: ",$o=Math.floor,Va=Math.pow,bW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Lt=1e7,qe=7,ER=9007199254740991,hh=$o(ER/qe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return li(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return De(li(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return xt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(on+"NaN");if(r.s<1)throw Error(on+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(Xe=!1,t=li(Mu(r,a),Mu(e,a),a),Xe=!0,De(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PR(t,e):SR(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(on+"NaN");return r.s?(Xe=!1,t=li(r,e,0,1).times(e),Xe=!0,r.minus(t)):De(new n(r),i)};ee.naturalExponential=ee.exp=function(){return AR(this)};ee.naturalLogarithm=ee.ln=function(){return Mu(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SR(t,e):PR(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Za+e);if(t=xt(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(on+"NaN")}for(e=xt(o),Xe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Dn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=$o((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(li(o,a,s+2)).times(.5),Dn(a.d).slice(0,s)===(t=Dn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Xe=!0,De(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%Lt|0,t=o/Lt|0;a[i]=(a[i]+t)%Lt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xe?De(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gn(e,0,Fo),t===void 0?t=n.rounding:Gn(t,0,8),De(r,e+xt(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=us(n,!0):(Gn(e,0,Fo),t===void 0?t=i.rounding:Gn(t,0,8),n=De(new i(n),e+1,t),r=us(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?us(i):(Gn(e,0,Fo),t===void 0?t=a.rounding:Gn(t,0,8),n=De(new a(i),e+xt(i)+1,t),r=us(n.abs(),!1,e+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return De(new t(e),xt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Dr);if(o=new l(o),!o.s){if(e.s<1)throw Error(on+"Infinity");return o}if(o.eq(Dr))return o;if(n=l.precision,e.eq(Dr))return De(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=ER){for(i=new l(Dr),t=Math.ceil(n/qe+4),Xe=!1;r%2&&(i=i.times(o),cP(i.d,t)),r=$o(r/2),r!==0;)o=o.times(o),cP(o.d,t);return Xe=!0,e.s<0?new l(Dr).div(i):De(i,n)}}else if(a<0)throw Error(on+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xe=!1,i=e.times(Mu(o,n+u)),Xe=!0,i=AR(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=xt(i),n=us(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gn(e,1,Fo),t===void 0?t=a.rounding:Gn(t,0,8),i=De(new a(i),e,t),r=xt(i),n=us(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gn(e,1,Fo),t===void 0?t=n.rounding:Gn(t,0,8)),De(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xt(e),r=e.constructor;return us(e,t<=r.toExpNeg||t>=r.toExpPos)};function SR(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Xe?De(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(d/qe),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Lt|0,l[a]%=Lt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xe?De(t,d):t}function Gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Za+e)}function Dn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=qe-n.length,r&&(a+=Ui(r)),a+=n;s=e[t],n=s+"",r=qe-n.length,r&&(a+=Ui(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var li=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Lt|0,s=a/Lt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,d,p,m,g,w,v,_,b,E,I,T,O,S,A,j=n.constructor,D=n.s==i.s?1:-1,C=n.d,k=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(on+"Division by zero");for(l=n.e-i.e,S=k.length,T=C.length,m=new j(D),g=m.d=[],u=0;k[u]==(C[u]||0);)++u;if(k[u]>(C[u]||0)&&--l,a==null?b=a=j.precision:s?b=a+(xt(n)-xt(i))+1:b=a,b<0)return new j(0);if(b=b/qe+2|0,u=0,S==1)for(c=0,k=k[0],b++;(u<T||c)&&b--;u++)E=c*Lt+(C[u]||0),g[u]=E/k|0,c=E%k|0;else{for(c=Lt/(k[0]+1)|0,c>1&&(k=e(k,c),C=e(C,c),S=k.length,T=C.length),I=S,w=C.slice(0,S),v=w.length;v<S;)w[v++]=0;A=k.slice(),A.unshift(0),O=k[0],k[1]>=Lt/2&&++O;do c=0,o=t(k,w,S,v),o<0?(_=w[0],S!=v&&(_=_*Lt+(w[1]||0)),c=_/O|0,c>1?(c>=Lt&&(c=Lt-1),d=e(k,c),p=d.length,v=w.length,o=t(d,w,p,v),o==1&&(c--,r(d,S<p?A:k,p))):(c==0&&(o=c=1),d=k.slice()),p=d.length,p<v&&d.unshift(0),r(w,d,v),o==-1&&(v=w.length,o=t(k,w,S,v),o<1&&(c++,r(w,S<v?A:k,v))),v=w.length):o===0&&(c++,w=[0]),g[u++]=c,o&&w[0]?w[v++]=C[I]||0:(w=[C[I]],v=1);while((I++<T||w[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,De(m,s?a+xt(m)+1:a)}}();function AR(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,d=c.precision;if(xt(e)>16)throw Error(Kx+xt(e));if(!e.s)return new c(Dr);for(Xe=!1,o=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Va(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Dr),c.precision=o;;){if(i=De(i.times(e),o),r=r.times(++l),s=a.plus(li(i,r,o)),Dn(s.d).slice(0,o)===Dn(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=d,t==null?(Xe=!0,De(a,d)):a}a=s}}function xt(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function Ng(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(on+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function Mu(e,t){var r,n,i,a,s,o,l,u,c,d=1,p=10,m=e,g=m.d,w=m.constructor,v=w.precision;if(m.s<1)throw Error(on+(m.s?"NaN":"-Infinity"));if(m.eq(Dr))return new w(0);if(t==null?(Xe=!1,u=v):u=t,m.eq(10))return t==null&&(Xe=!0),Ng(w,u);if(u+=p,w.precision=u,r=Dn(g),n=r.charAt(0),a=xt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Dn(m.d),n=r.charAt(0),d++;a=xt(m),n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1))}else return l=Ng(w,u+2,v).times(a+""),m=Mu(new w(n+"."+r.slice(1)),u-p).plus(l),w.precision=v,t==null?(Xe=!0,De(m,v)):m;for(o=s=m=li(m.minus(Dr),m.plus(Dr),u),c=De(m.times(m),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(li(s,new w(i),u)),Dn(l.d).slice(0,u)===Dn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Ng(w,u+2,v).times(a+""))),o=li(o,new w(d),u),w.precision=v,t==null?(Xe=!0,De(o,v)):o;o=l,i+=2}}function uP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=$o(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=qe;n<i;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>hh||e.e<-hh))throw Error(Kx+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,i,a,s,o,l,u,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=qe,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/qe),a=d.length,c>=a)return e;for(u=a=d[c],s=1;a>=10;a/=10)s++;n%=qe,i=n-qe+s}if(r!==void 0&&(a=Va(10,s-i-1),o=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Va(10,s-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=xt(e),d.length=1,t=t-a-1,d[0]=Va(10,(qe-t%qe)%qe),e.e=$o(-t/qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Va(10,qe-n),d[c]=i>0?(u/Va(10,s-i)%Va(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Lt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Lt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Xe&&(e.e>hh||e.e<-hh))throw Error(Kx+xt(e));return e}function PR(e,t){var r,n,i,a,s,o,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xe?De(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),i=Math.max(Math.ceil(m/qe),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Lt-1;--l[a],l[i]+=Lt}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xe?De(t,m):t):new p(0)}function us(e,t,r){var n,i=xt(e),a=Dn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ui(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ui(-i-1)+a,r&&(n=r-s)>0&&(a+=Ui(n))):i>=s?(a+=Ui(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ui(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ui(n))),e.s<0?"-"+a:a}function cP(e,t){if(e.length>t)return e.length=t,!0}function TR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Za+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return uP(s,a.toString())}else if(typeof a!="string")throw Error(Za+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,bW.test(a))uP(s,a);else throw Error(Za+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TR,i.config=i.set=EW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function EW(e){if(!e||typeof e!="object")throw Error(on+"Object expected");var t,r,n,i=["precision",1,Fo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if($o(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Za+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Za+r+": "+n);return this}var Hx=TR(_W);Dr=new Hx(1);const je=Hx;var SW=e=>e,CR={},IR=e=>e===CR,dP=e=>function t(){return arguments.length===0||arguments.length===1&&IR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jR=(e,t)=>e===1?t:dP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==CR).length;return a>=e?t(...n):jR(e-a,dP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>IR(c)?o.shift():c);return t(...u,...o)}))}),AW=e=>jR(e.length,e),zy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},PW=AW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),TW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SW;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Uy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function OR(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function NR(e,t,r){for(var n=new je(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var kR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},RR=(e,t,r)=>{if(e.lte(0))return new je(0);var n=OR(e.toNumber()),i=new je(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new je(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new je(l.toNumber()):new je(Math.ceil(l.toNumber()))},CW=(e,t,r)=>{var n=new je(1),i=new je(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new je(10).pow(OR(e)-1),i=new je(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):r||(i=new je(Math.floor(e)));var s=Math.floor((t-1)/2),o=TW(PW(l=>i.add(new je(l-s).mul(n)).toNumber()),zy);return o(0,t)},DR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var s=RR(new je(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new je(0):(o=new je(t).add(r).div(2),o=o.sub(new je(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new je(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?DR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new je(l).mul(s)),tickMax:o.add(new je(u).mul(s))})},IW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=kR([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...zy(0,i-1).map(()=>1/0)]:[...zy(0,i-1).map(()=>-1/0),l];return r>n?Uy(u):u}if(o===l)return CW(o,i,a);var{step:c,tickMin:d,tickMax:p}=DR(o,l,s,a,0),m=NR(d,p.add(new je(.1).mul(c)),c);return r>n?Uy(m):m},jW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=kR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=RR(new je(o).sub(s).div(l-1),a,0),c=[...NR(new je(s),new je(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?Uy(c):c},MR=e=>e.rootProps.maxBarSize,OW=e=>e.rootProps.barGap,LR=e=>e.rootProps.barCategoryGap,NW=e=>e.rootProps.barSize,dc=e=>e.rootProps.stackOffset,VR=e=>e.rootProps.reverseStackOrder,Gx=e=>e.options.chartName,Qx=e=>e.rootProps.syncId,FR=e=>e.rootProps.syncMethod,Yx=e=>e.options.eventEmitter,Qt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:ei.type,unit:void 0},RW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:Rr.type,unit:void 0},DW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MW={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,ticks:void 0,type:"category",unit:void 0},Xx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DW:kW,Zx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MW:RW,Gp=e=>e.polarOptions,Jx=L([Ti,Ci,It],Rk),$R=L([Gp,Jx],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),zR=L([Gp,Jx],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),LW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},UR=L([Gp],LW);L([Xx,UR],Hp);var BR=L([Jx,$R,zR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([Zx,BR],Hp);var qR=L([Te,Gp,$R,zR,Ti,Ci],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:or(s,i,i/2),cy:or(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ze=(e,t)=>t,fc=(e,t,r)=>r;function e_(e){return e==null?void 0:e.id}function WR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=e_(o);u.forEach((d,p)=>{var m=a==null||i?p:String(Ye(d,a,null)),g=Ye(d,o.dataKey,0),w;s.has(m)?w=s.get(m):w={},Object.assign(w,{[c]:g}),s.set(m,w)})}}),Array.from(s.values())}function Qp(e){return e.stackId!=null&&e.dataKey!=null}var Yp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Xp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ot=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zo=e=>e.tooltip.settings.axisId;function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return(t=$W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var By=[0,"auto"],Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KR=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var r=KR(e,t);return r??Rt},Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:By,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ic},HR=(e,t)=>e.cartesianAxis.yAxis[t],Oi=(e,t)=>{var r=HR(e,t);return r??Dt},UW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??UW},nt=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Oi(e,r);case"zAxis":return t_(e,r);case"angleAxis":return Xx(e,r);case"radiusAxis":return Zx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BW=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Oi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hc=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Oi(e,r);case"angleAxis":return Xx(e,r);case"radiusAxis":return Zx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},GR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function r_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var n_=e=>e.graphicalItems.cartesianItems,qW=L([Ze,fc],r_),i_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pc=L([n_,nt,qW],i_,{memoizeOptions:{resultEqualityCheck:Xp}}),QR=L([pc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qp)),YR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WW=L([pc],YR),a_=e=>e.map(t=>t.data).filter(Boolean).flat(1),KW=L([pc],a_,{memoizeOptions:{resultEqualityCheck:Xp}}),s_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},o_=L([KW,Wx],s_),l_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ye(i,n)}))):e.map(n=>({value:n})),Zp=L([o_,nt,pc],l_);function XR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bd(e){if(Kn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function hP(e){if(Array.isArray(e)){var t=[Bd(e[0]),Bd(e[1])];return va(t)?t:void 0}var r=Bd(e);if(r!=null)return[r,r]}function Ei(e){return e.map(Bd).filter(iz)}function HW(e,t,r){return!r||typeof t!="number"||An(t)?[]:r.length?Ei(r.flatMap(n=>{var i=Ye(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!dt(a)||!dt(s)))return[t-a,t+s]})):[]}var Nt=e=>{var t=Ot(e),r=zo(e);return hc(e,t,r)},mc=L([Nt],e=>e==null?void 0:e.dataKey),GW=L([QR,Wx,Nt],WR),ZR=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(e_);return[o,{stackedData:bU(e,c,r),graphicalItems:u}]}))},qy=L([GW,QR,dc,VR],ZR),JR=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=TU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},QW=L([nt],e=>e.allowDataOverflow),u_=e=>{var t;if(e==null||!("domain"in e))return By;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ei(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:By},c_=L([nt],u_),d_=L([c_,QW],bR),YW=L([qy,Pa,Ze,d_],JR,{memoizeOptions:{resultEqualityCheck:Yp}}),Jp=e=>e.errorBars,XW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>XR(r,n)),mh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},f_=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(_=>XR(i,_)),p=Ye(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=HW(o,p,d);if(m.length>=2){var g=Math.min(...m),w=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||w>s)&&(s=w)}var v=hP(p);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=hP(Ye(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),dt(a)&&dt(s))return[a,s]},ZW=L([o_,nt,WW,Jp,Ze],f_,{memoizeOptions:{resultEqualityCheck:Yp}});function JW(e){var{value:t}=e;if(Kn(t)||t instanceof Date)return t}var eK=(e,t,r)=>{var n=e.map(JW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&YO(n))?zk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},e2=e=>e.referenceElements.dots,Uo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tK=L([e2,Ze,fc],Uo),t2=e=>e.referenceElements.areas,rK=L([t2,Ze,fc],Uo),r2=e=>e.referenceElements.lines,nK=L([r2,Ze,fc],Uo),n2=(e,t)=>{var r=Ei(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iK=L(tK,Ze,n2),i2=(e,t)=>{var r=Ei(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aK=L([rK,Ze],i2);function sK(e){var t;if(e.x!=null)return Ei([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ei(r)}function oK(e){var t;if(e.y!=null)return Ei([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ei(r)}var a2=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?sK(n):oK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lK=L([nK,Ze],a2),uK=L(iK,lK,aK,(e,t,r)=>mh(e,r,t)),h_=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?mh(n,a,i):mh(a,i);return xW(t,u,e.allowDataOverflow)},cK=L([nt,c_,d_,YW,ZW,uK,Te,Ze],h_,{memoizeOptions:{resultEqualityCheck:Yp}}),dK=[0,1],p_=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=ys(t,a);if(u&&o==null){var c;return zk(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?eK(n,e,u):i==="expand"?dK:s}},m_=L([nt,Te,o_,Zp,dc,Ze,cK],p_),s2=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Zu(a));return o in Dl?o:"point"}}},Bo=L([nt,Te,GR,Gx,Ze],s2);function fK(e){if(e!=null){if(e in Dl)return Dl[e]();var t="scale".concat(Zu(e));if(t in Dl)return Dl[t]()}}function g_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=fK(t);if(i!=null){var a=i.domain(r).range(n);return vU(a),a}}}var v_=(e,t,r)=>{var n=u_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&va(e))return IW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&va(e))return jW(e,t.tickCount,t.allowDecimals)}},y_=L([m_,hc,Bo],v_),w_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&va(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},hK=L([nt,m_,y_,Ze],w_),pK=L(Zp,nt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ei(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),o2=L(pK,Te,LR,It,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!dt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=or(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),mK=(e,t)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:o2(e,"xAxis",t,r.padding)},gK=(e,t)=>{var r=Oi(e,t);return r==null||typeof r.padding!="string"?0:o2(e,"yAxis",t,r.padding)},vK=L(ji,mK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),yK=L(Oi,gK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),wK=L([It,vK,Op,jp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),xK=L([It,Te,yK,Op,jp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return wK(e,r,n);case"yAxis":return xK(e,r,n);case"zAxis":return(i=t_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return UR(e);case"radiusAxis":return BR(e,r);default:return}},l2=L([nt,gc],Hp),qo=L([nt,Bo,hK,l2],g_);L([pc,Jp,Ze],XW);function u2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var em=(e,t)=>t,tm=(e,t,r)=>r,_K=L(Cp,em,tm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(u2)),bK=L(Ip,em,tm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(u2)),c2=(e,t)=>({width:e.width,height:t.height}),EK=(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}},d2=L(It,ji,c2),SK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},AK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PK=L(Ci,It,_K,em,tm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=c2(t,o);s==null&&(s=SK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),TK=L(Ti,It,bK,em,tm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=EK(t,o);s==null&&(s=AK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),CK=(e,t)=>{var r=ji(e,t);if(r!=null)return PK(e,r.orientation,r.mirror)},IK=L([It,ji,CK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jK=(e,t)=>{var r=Oi(e,t);if(r!=null)return TK(e,r.orientation,r.mirror)},OK=L([It,Oi,jK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),f2=L(It,Oi,(e,t)=>{var r=typeof t.width=="number"?t.width:ic;return{width:r,height:e.height}}),pP=(e,t,r)=>{switch(t){case"xAxis":return d2(e,r).width;case"yAxis":return f2(e,r).height;default:return}},h2=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=ys(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&YO(l))return l}},x_=L([Te,Zp,nt,Ze],h2),p2=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=ys(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},__=L([Te,Zp,hc,Ze],p2),mP=L([Te,BW,Bo,qo,x_,__,gc,y_,Ze],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=ys(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),NK=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=ys(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ft(a[0]-a[1])*2*g:g;var w=d||i;if(w){var v=w.map((_,b)=>{var E=s?s.indexOf(_):_;return{index:b,coordinate:n(E)+g,value:_,offset:g}});return v.filter(_=>dt(_.coordinate))}return u&&o?o.map((_,b)=>({coordinate:n(_)+g,value:_,index:b,offset:g})).filter(_=>dt(_.coordinate)):n.ticks?n.ticks(p).map(_=>({coordinate:n(_)+g,value:_,offset:g})):n.domain().map((_,b)=>({coordinate:n(_)+g,value:s?s[_]:_,index:b,offset:g}))}},m2=L([Te,hc,Bo,qo,y_,gc,x_,__,Ze],NK),kK=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ys(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ft(n[0]-n[1])*2*u:u,o&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Co=L([Te,hc,qo,gc,x_,__,Ze],kK),Io=L(nt,qo,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})}),RK=L([nt,Bo,m_,l2],g_);L((e,t,r)=>t_(e,r),RK,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var DK=L([Te,Cp,Ip],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g2=e=>e.options.defaultTooltipEventType,v2=e=>e.options.validateTooltipEventTypes;function y2(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function b_(e,t){var r=g2(e),n=v2(e);return y2(t,r,n)}function MK(e){return te(t=>b_(t,e))}var w2=(e,t)=>{var r,n=Number(t);if(!(An(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LK=e=>e.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},VK={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x2=jr({name:"tooltip",initialState:VK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(e,t){var r=_n(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FK,replaceTooltipEntrySettings:$K,removeTooltipEntrySettings:zK,setTooltipSettingsState:UK,setActiveMouseOverItemIndex:_2,mouseLeaveItem:BK,mouseLeaveChart:b2,setActiveClickItemIndex:qK,setMouseOverAxisIndex:E2,setMouseClickAxisIndex:WK,setSyncInteraction:Wy,setKeyboardInteraction:Ky}=x2.actions,KK=x2.reducer;function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XK(e){return e.index!=null}var S2=(e,t,r,n)=>{if(t==null)return Ki;var i=YK(e,t,r);if(i==null)return Ki;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(XK(i)){if(a)return vd(vd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vd(vd({},Ki),{},{coordinate:i.coordinate})};function ZK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function JK(e,t){var r=ZK(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function eH(e,t,r){if(r==null||t==null)return!0;var n=Ye(e,t);return n==null||!va(r)?!0:JK(n,r)}var E_=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!dt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||eH(u,r,n)?String(l):null},A2=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},P2=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},vc=e=>e.options.tooltipPayloadSearcher,Wo=e=>e.tooltip;function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){return e??t}var T2=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:w,settings:v}=m,_=iH(w,o),b=Array.isArray(_)?ik(_,u,c):_,E=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,I=v==null?void 0:v.nameKey,T;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?T=nz(b,n,i):T=a(b,t,l,I),Array.isArray(T))T.forEach(S=>{var A=yP(yP({},v),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(KS({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:Ye(S.payload,S.dataKey),name:S.name}))});else{var O;p.push(KS({tooltipEntrySettings:v,dataKey:E,payload:T,value:Ye(T,E),name:(O=Ye(T,I))!==null&&O!==void 0?O:v==null?void 0:v.name}))}return p},d)}},S_=L([Nt,Te,GR,Gx,Ot],s2),aH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sH=L([Ot,zo],r_),yc=L([aH,Nt,sH],i_,{memoizeOptions:{resultEqualityCheck:Xp}}),oH=L([yc],e=>e.filter(Qp)),lH=L([yc],a_,{memoizeOptions:{resultEqualityCheck:Xp}}),Ko=L([lH,Pa],s_),uH=L([oH,Pa,Nt],WR),A_=L([Ko,Nt,yc],l_),C2=L([Nt],u_),cH=L([Nt],e=>e.allowDataOverflow),I2=L([C2,cH],bR),dH=L([yc],e=>e.filter(Qp)),fH=L([uH,dH,dc,VR],ZR),hH=L([fH,Pa,Ot,I2],JR),pH=L([yc],YR),mH=L([Ko,Nt,pH,Jp,Ot],f_,{memoizeOptions:{resultEqualityCheck:Yp}}),gH=L([e2,Ot,zo],Uo),vH=L([gH,Ot],n2),yH=L([t2,Ot,zo],Uo),wH=L([yH,Ot],i2),xH=L([r2,Ot,zo],Uo),_H=L([xH,Ot],a2),bH=L([vH,_H,wH],mh),EH=L([Nt,C2,I2,hH,mH,bH,Te,Ot],h_),wc=L([Nt,Te,Ko,A_,dc,Ot,EH],p_),SH=L([wc,Nt,S_],v_),AH=L([Nt,wc,SH,Ot],w_),j2=e=>{var t=Ot(e),r=zo(e),n=!1;return gc(e,t,r,n)},O2=L([Nt,j2],Hp),N2=L([Nt,S_,AH,O2],g_),PH=L([Te,A_,Nt,Ot],h2),TH=L([Te,A_,Nt,Ot],p2),CH=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=ys(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ft(i[0]-i[1])*2*d:d,u&&s?s.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},Ni=L([Te,Nt,S_,N2,j2,PH,TH,Ot],CH),P_=L([g2,v2,LK],(e,t,r)=>y2(r.shared,e,t)),k2=e=>e.tooltip.settings.trigger,T_=e=>e.tooltip.settings.defaultIndex,xc=L([Wo,P_,k2,T_],S2),cs=L([xc,Ko,mc,wc],E_),R2=L([Ni,cs],w2),C_=L([xc],e=>{if(e)return e.dataKey}),IH=L([xc],e=>{if(e)return e.graphicalItemId}),D2=L([Wo,P_,k2,T_],P2),jH=L([Ti,Ci,Te,It,Ni,T_,D2,vc],A2),OH=L([xc,jH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),NH=L([xc],e=>e.active),kH=L([D2,cs,Pa,mc,R2,vc,P_],T2);L([kH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LH=()=>te(Nt),VH=()=>{var e=LH(),t=te(Ni),r=te(N2);return Gf(!e||!r?void 0:xP(xP({},e),{},{scale:r}),t)};function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},BH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ps(Ps(Ps({},n),wt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ps(Ps(Ps({},n),wt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var M2=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ft(c-u)!==Ft(d-c)){var m=[];if(Ft(d-c)===Ft(i[1]-i[0])){p=d;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var w=d+i[1]-i[0];m[0]=Math.min(c,(w+c)/2),m[1]=Math.max(c,(w+c)/2)}var v=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var _=Math.min(u,d),b=Math.max(u,d);if(e>(_+c)/2&&e<=(b+c)/2){({index:s}=r[l]);break}}}else if(t){for(var E=0;E<o;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<o-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===o-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:s}=t[E]);break}}return s},WH=()=>te(Gx),I_=(e,t)=>t,L2=(e,t,r)=>r,j_=(e,t,r,n)=>n,KH=L(Ni,e=>yp(e,t=>t.coordinate)),O_=L([Wo,I_,L2,j_],S2),N_=L([O_,Ko,mc,wc],E_),HH=(e,t,r)=>{if(t!=null){var n=Wo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},V2=L([Wo,I_,L2,j_],P2),gh=L([Ti,Ci,Te,It,Ni,j_,V2,vc],A2),GH=L([O_,gh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),F2=L([Ni,N_],w2),QH=L([V2,N_,Pa,mc,F2,vc,I_],T2),YH=L([O_,N_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),XH=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&qH(e,s)){var o=CU(e,t),l=M2(o,a,i,r,n),u=UH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},ZH=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=$8(e,r);if(o){var l=IU(o,t),u=M2(l,s,a,n,i),c=BH(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},JH=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?XH(e,t,n,i,a,s,o):ZH(e,t,r,n,i,a,s)},eG=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),tG=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:VW}});function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aG={},sG={zIndexMap:Object.values(Qt).reduce((e,t)=>EP(EP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aG)},oG=new Set(Object.values(Qt));function lG(e){return oG.has(e)}var $2=jr({name:"zIndex",initialState:sG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lG(r)&&delete e.zIndexMap[r])},prepare:Ge()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ge()}}}),{registerZIndexPortal:uG,unregisterZIndexPortal:cG,registerZIndexPortalId:dG,unregisterZIndexPortalId:fG}=$2.actions,hG=$2.reducer;function Cn(e){var{zIndex:t,children:r}=e,n=rB(),i=n&&t!==void 0&&t!==0,a=Or(),s=$e();x.useLayoutEffect(()=>i?(s(uG({zIndex:t})),()=>{s(cG({zIndex:t}))}):Ju,[s,t,i]);var o=te(u=>eG(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Bn.createPortal(r,l):null}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function yG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,w,v;if(c==="ScatterChart")g=d,w=t8,v=Qt.cursorLine;else if(c==="BarChart")g=r8(o,d,a,s),w=kk,v=Qt.cursorRectangle;else if(o==="radial"&&ZO(d)){var{cx:_,cy:b,radius:E,startAngle:I,endAngle:T}=Dk(d);g={cx:_,cy:b,startAngle:I,endAngle:T,innerRadius:E,outerRadius:E},w=Lk,v=Qt.cursorLine}else g={points:q8(o,d,a)},w=xx,v=Qt.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,S=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},a),g),Eu(l)),{},{payload:p,payloadIndex:m,className:Ne("recharts-tooltip-cursor",O)});return x.createElement(Cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},x.createElement(vG,{cursor:l,cursorComp:w,cursorProps:S}))}function wG(e){var t=VH(),r=vk(),n=kp(),i=WH();return t==null||r==null||n==null||i==null?null:x.createElement(yG,Hy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var z2=x.createContext(null),xG=()=>x.useContext(z2),U2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,p,m,g){var w=r?r+u:u;if(!this._events[w])return!1;var v=this._events[w],_=arguments.length,b,E;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,p),!0;case 5:return v.fn.call(v.context,c,d,p,m),!0;case 6:return v.fn.call(v.context,c,d,p,m,g),!0}for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];v.fn.apply(v.context,b)}else{var I=v.length,T;for(E=0;E<I;E++)switch(v[E].once&&this.removeListener(u,v[E].fn,void 0,!0),_){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,c);break;case 3:v[E].fn.call(v[E].context,c,d);break;case 4:v[E].fn.call(v[E].context,c,d,p);break;default:if(!b)for(T=1,b=new Array(_-1);T<_;T++)b[T-1]=arguments[T];v[E].fn.apply(v[E].context,b)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&s(this,m);else{for(var w=0,v=[],_=g.length;w<_;w++)(g[w].fn!==c||p&&!g[w].once||d&&g[w].context!==d)&&v.push(g[w]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(U2);var _G=U2.exports;const bG=Ai(_G);var Lu=new bG,Gy="recharts.syncEvent.tooltip",AP="recharts.syncEvent.brush";function B2(e,t){if(t){var r=Number.parseInt(t,10);if(!An(r))return e==null?void 0:e[r]}}var EG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q2=jr({name:"options",initialState:EG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SG=q2.reducer,{createEventEmitter:AG}=q2.actions;function PG(e){return e.tooltip.syncInteraction}var TG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W2=jr({name:"chartData",initialState:TG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:PP,setDataStartEndIndexes:CG,setComputedData:Bte}=W2.actions,IG=W2.reducer,jG=["x","y"];function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){if(e==null)return{};var r,n,i=DG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MG(){var e=te(Qx),t=te(Yx),r=$e(),n=te(FR),i=te(Ni),a=kp(),s=Np(),o=te(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return Ju;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y:w}=m,v=RG(m,jG),{x:_,y:b,width:E,height:I}=c.payload.sourceViewBox,T=Ts(Ts({},v),{},{x:s.x+(E?(g-_)/E:0)*s.width,y:s.y+(I?(w-b)/I:0)*s.height});r(Ts(Ts({},c),{},{payload:Ts(Ts({},c.payload),{},{coordinate:T})}))}else r(c);return}if(i!=null){var O;if(typeof n=="function"){var S={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=n(i,S);O=i[A]}else n==="value"&&(O=i.find(de=>String(de.value)===c.payload.label));var{coordinate:j}=c.payload;if(O==null||c.payload.active===!1||j==null||s==null){r(Wy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:C}=j,k=Math.min(D,s.x+s.width),N=Math.min(C,s.y+s.height),Q={x:a==="horizontal"?O.coordinate:k,y:a==="horizontal"?N:O.coordinate},se=Wy({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(se)}}};return Lu.on(Gy,l),()=>{Lu.off(Gy,l)}},[o,r,t,e,n,i,a,s])}function LG(){var e=te(Qx),t=te(Yx),r=$e();x.useEffect(()=>{if(e==null)return Ju;var n=(i,a,s)=>{t!==s&&e===i&&r(CG(a))};return Lu.on(AP,n),()=>{Lu.off(AP,n)}},[r,t,e])}function VG(){var e=$e();x.useEffect(()=>{e(AG())},[e]),MG(),LG()}function FG(e,t,r,n,i,a){var s=te(m=>HH(m,e,t)),o=te(Yx),l=te(Qx),u=te(FR),c=te(PG),d=c==null?void 0:c.active,p=Np();x.useEffect(()=>{if(!d&&l!=null&&o!=null){var m=Wy({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Lu.emit(Gy,l,m,o)}},[d,r,s,i,n,o,l,u,a,p])}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e){return e.dataKey}function qG(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(RB,t)}var jP=[],WG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function k_(e){var t,r,n=Ut(e,WG),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:w,wrapperStyle:v,cursor:_,shared:b,trigger:E,defaultIndex:I,portal:T,axisId:O}=n,S=$e(),A=typeof I=="number"?String(I):I;x.useEffect(()=>{S(UK({shared:b,trigger:E,axisId:O,active:i,defaultIndex:A}))},[S,b,E,O,i,A]);var j=Np(),D=Ck(),C=MK(b),{activeIndex:k,isActive:N}=(t=te(ze=>YH(ze,C,E,A)))!==null&&t!==void 0?t:{},Q=te(ze=>QH(ze,C,E,A)),se=te(ze=>F2(ze,C,E,A)),de=te(ze=>GH(ze,C,E,A)),oe=Q,U=xG(),K=(r=i??N)!==null&&r!==void 0?r:!1,[ne,me]=CN([oe,K]),be=C==="axis"?se:void 0;FG(C,E,de,be,k,K);var _t=T??U;if(_t==null||j==null||C==null)return null;var ke=oe??jP;K||(ke=jP),u&&ke.length&&(ke=gN(ke.filter(ze=>ze.value!=null&&(ze.hide!==!0||n.includeHidden)),p,BG));var qt=ke.length>0,bt=x.createElement(zB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:K,coordinate:de,hasPayload:qt,offset:d,position:m,reverseDirection:g,useTranslate3d:w,viewBox:j,wrapperStyle:v,lastBoundingBox:ne,innerRef:me,hasPortalFromProps:!!T},qG(l,IP(IP({},n),{},{payload:ke,label:be,active:K,activeIndex:k,coordinate:de,accessibilityLayer:D})));return x.createElement(x.Fragment,null,Bn.createPortal(bt,_t),K&&x.createElement(wG,{cursor:_,tooltipEventType:C,coordinate:de,payload:ke,index:k}))}var _c=e=>null;_c.displayName="Cell";function KG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QG{constructor(t){KG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ={cacheSize:2e3,enableCache:!0},K2=YG({},eQ),NP=new QG(K2.cacheSize),tQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kP="recharts_measurement_span";function rQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var RP=(e,t)=>{try{var r=document.getElementById(kP);r||(r=document.createElement("span"),r.setAttribute("id",kP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sc.isSsr)return{width:0,height:0};if(!K2.enableCache)return RP(t,r);var n=rQ(t,r),i=NP.get(n);if(i)return i;var a=RP(t,r);return NP.set(n,a),a},DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aQ=Object.keys(H2),Hs="NaN";function sQ(e,t){return e*H2[t]}class wr{static parse(t){var r,[,n,i]=(r=iQ.exec(t))!==null&&r!==void 0?r:[];return new wr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,An(t)&&(this.unit=""),r!==""&&!nQ.test(r)&&(this.num=NaN,this.unit=""),aQ.includes(r)&&(this.num=sQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return An(this.num)}}function G2(e){if(e.includes(Hs))return Hs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=DP.exec(t))!==null&&r!==void 0?r:[],s=wr.parse(n??""),o=wr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Hs;t=t.replace(DP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=MP.exec(t))!==null&&u!==void 0?u:[],m=wr.parse(c??""),g=wr.parse(p??""),w=d==="+"?m.add(g):m.subtract(g);if(w.isNaN())return Hs;t=t.replace(MP,w.toString())}return t}var LP=/\(([^()]*)\)/;function oQ(e){for(var t=e,r;(r=LP.exec(t))!=null;){var[,n]=r;t=t.replace(LP,G2(n))}return t}function lQ(e){var t=e.replace(/\s+/g,"");return t=oQ(t),t=G2(t),t}function uQ(e){try{return lQ(e)}catch{return Hs}}function kg(e){var t=uQ(e.slice(5,-1));return t===Hs?"":t}var cQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dQ=["dx","dy","angle","className","breakAll"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function VP(e,t){if(e==null)return{};var r,n,i=fQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q2=/[ \f\n\r\t\v\u2028\u2029]+/,Y2=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zt(t)||(r?i=t.toString().split(""):i=t.toString().split(Q2));var a=i.map(o=>({word:o,width:Yl(o,n).width})),s=r?0:Yl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function hQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var X2=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),Z2=e=>e.reduce((t,r)=>t.width>r.width?t:r),pQ="",FP=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=Y2({breakAll:r,style:n,children:l+pQ});if(!u)return[!1,[]];var c=X2(u.wordsWithComputedWidth,a,s,o),d=c.length>i||Z2(c).width>Number(a);return[d,c]},mQ=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=re(a),c=String(s),d=X2(t,n,r,i);if(!u||i)return d;var p=d.length>a||Z2(d).width>Number(n);if(!p)return d;for(var m=0,g=c.length-1,w=0,v;m<=g&&w<=c.length-1;){var _=Math.floor((m+g)/2),b=_-1,[E,I]=FP(c,b,l,o,a,n,r,i),[T]=FP(c,_,l,o,a,n,r,i);if(!E&&!T&&(m=_+1),E&&T&&(g=_-1),!E&&T){v=I;break}w++}return v||d},$P=e=>{var t=zt(e)?[]:e.toString().split(Q2);return[{words:t,width:void 0}]},gQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!sc.isSsr){var o,l,u=Y2({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return $P(n);return mQ({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return $P(n)},J2="#808080",vQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:J2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rm=x.forwardRef((e,t)=>{var r=Ut(e,vQ),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=VP(r,cQ),p=x.useMemo(()=>gQ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:g,angle:w,className:v,breakAll:_}=d,b=VP(d,dQ);if(!Kn(n)||!Kn(i)||p.length===0)return null;var E=Number(n)+(re(m)?m:0),I=Number(i)+(re(g)?g:0);if(!dt(E)||!dt(I))return null;var T;switch(c){case"start":T=kg("calc(".concat(s,")"));break;case"middle":T=kg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:T=kg("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var S=p[0].width,{width:A}=d;O.push("scale(".concat(re(A)&&re(S)?A/S:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(E,", ").concat(I,")")),O.length&&(b.transform=O.join(" ")),x.createElement("text",Qy({},an(b),{ref:t,x:E,y:I,className:Ne("recharts-text",v),textAnchor:u,fill:o.includes("url")?J2:o}),p.map((j,D)=>{var C=j.words.join(_?"":" ");return x.createElement("tspan",{x:E,dy:D===0?T:a,key:"".concat(C,"-").concat(D)},C)}))});rm.displayName="Text";var yQ=["labelRef"];function wQ(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var eD=x.createContext(null),SQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return x.createElement(eD.Provider,{value:l},o)},tD=()=>{var e=x.useContext(eD),t=Np();return e||gk(t)},AQ=x.createContext(null),PQ=()=>{var e=x.useContext(AQ),t=te(qR);return e||t},TQ=e=>{var{value:t,formatter:r}=e,n=zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},R_=e=>e!=null&&typeof e=="function",CQ=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},IQ=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,g=(u+c)/2,w=CQ(d,p),v=w>=0?1:-1,_,b;switch(t){case"insideStart":_=d+v*a,b=m;break;case"insideEnd":_=p-v*a,b=!m;break;case"end":_=p+v*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=w<=0?b:!b;var E=wt(o,l,g,_),I=wt(o,l,g,_+(b?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(I.x,",").concat(I.y),O=zt(e.id)?Su("recharts-radial-line-"):e.id;return x.createElement("text",ti({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:O,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(O)},r))},jQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:d}=wt(n,i,s+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=wt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Yy=e=>"cx"in e&&re(e.cx),OQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Yy(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,d=s,p=s+(l-u)/2,m=(d+p)/2,g=(l+u)/2,w=d+l/2,v=c>=0?1:-1,_=v*n,b=v>0?"end":"start",E=v>0?"start":"end",I=l>=0?1:-1,T=I*n,O=I>0?"end":"start",S=I>0?"start":"end";if(i==="top"){var A={x:d+l/2,y:o-_,textAnchor:"middle",verticalAnchor:b};return lt(lt({},A),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var j={x:p+u/2,y:o+c+_,textAnchor:"middle",verticalAnchor:E};return lt(lt({},j),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var D={x:m-T,y:o+c/2,textAnchor:O,verticalAnchor:"middle"};return lt(lt({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var C={x:m+g+T,y:o+c/2,textAnchor:S,verticalAnchor:"middle"};return lt(lt({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:c}:{})}var k=a?{width:g,height:c}:{};return i==="insideLeft"?lt({x:m+T,y:o+c/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?lt({x:m+g-T,y:o+c/2,textAnchor:O,verticalAnchor:"middle"},k):i==="insideTop"?lt({x:d+l/2,y:o+_,textAnchor:"middle",verticalAnchor:E},k):i==="insideBottom"?lt({x:p+u/2,y:o+c-_,textAnchor:"middle",verticalAnchor:b},k):i==="insideTopLeft"?lt({x:d+T,y:o+_,textAnchor:S,verticalAnchor:E},k):i==="insideTopRight"?lt({x:d+l-T,y:o+_,textAnchor:O,verticalAnchor:E},k):i==="insideBottomLeft"?lt({x:p+T,y:o+c-_,textAnchor:S,verticalAnchor:b},k):i==="insideBottomRight"?lt({x:p+u-T,y:o+c-_,textAnchor:O,verticalAnchor:b},k):i&&typeof i=="object"&&(re(i.x)||yi(i.x))&&(re(i.y)||yi(i.y))?lt({x:s+or(i.x,g),y:o+or(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):lt({x:w,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},NQ={angle:0,offset:5,zIndex:Qt.label,position:"middle",textBreakAll:!1};function Bi(e){var t=Ut(e,NQ),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=PQ(),d=tD(),p=n==="center"?d:c??d,m,g,w;if(r==null?m=p:Yy(r)?m=r:m=gk(r),!m||zt(i)&&zt(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var v=lt(lt({},t),{},{viewBox:m});if(x.isValidElement(s)){var{labelRef:_}=v,b=wQ(v,yQ);return x.cloneElement(s,b)}if(typeof s=="function"){if(g=x.createElement(s,v),x.isValidElement(g))return g}else g=TQ(t);var E=an(t);if(Yy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return IQ(t,n,g,E,m);w=jQ(m,t.offset,t.position)}else w=OQ(t,m);return x.createElement(Cn,{zIndex:t.zIndex},x.createElement(rm,ti({ref:u,className:Ne("recharts-label",o)},E,w,{textAnchor:hQ(E.textAnchor)?E.textAnchor:w.textAnchor,breakAll:l}),g))}Bi.displayName="Label";var kQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Bi,ti({key:"label-implicit"},n)):Kn(e)?x.createElement(Bi,ti({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Bi?x.cloneElement(e,lt({key:"label-implicit"},n)):x.createElement(Bi,ti({key:"label-implicit",content:e},n)):R_(e)?x.createElement(Bi,ti({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Bi,ti({},e,{key:"label-implicit"},n)):null};function RQ(e){var{label:t,labelRef:r}=e,n=tD();return kQ(t,n,r)||null}var rD={},nD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nD);var iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD,r=iD,n=gp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(rD);var DQ=rD.last;const MQ=Ai(DQ);var LQ=["valueAccessor"],VQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function UP(e,t){if(e==null)return{};var r,n,i=FQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $Q=e=>Array.isArray(e.value)?MQ(e.value):e.value,aD=x.createContext(void 0),zQ=aD.Provider,sD=x.createContext(void 0),UQ=sD.Provider;function BQ(){return x.useContext(aD)}function qQ(){return x.useContext(sD)}function qd(e){var{valueAccessor:t=$Q}=e,r=UP(e,LQ),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=UP(r,VQ),u=BQ(),c=qQ(),d=u||c;return!d||!d.length?null:x.createElement(Cn,{zIndex:o??Qt.label},x.createElement(pr,{className:"recharts-label-list"},d.map((p,m)=>{var g,w=zt(n)?t(p,m):Ye(p&&p.payload,n),v=zt(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(Bi,vh({key:"label-".concat(m)},an(p),l,v,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}qd.displayName="LabelList";function oD(e){var{label:t}=e;return t?t===!0?x.createElement(qd,{key:"labelList-implicit"}):x.isValidElement(t)||R_(t)?x.createElement(qd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(qd,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var lD=e=>e.graphicalItems.polarItems,WQ=L([Ze,fc],r_),nm=L([lD,nt,WQ],i_),KQ=L([nm],a_),im=L([KQ,qx],s_),HQ=L([im,nt,nm],l_);L([im,nt,nm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ye(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var BP=()=>{},GQ=L([im,nt,nm,Jp,Ze],f_),QQ=L([nt,c_,d_,BP,GQ,BP,Te,Ze],h_),uD=L([nt,Te,im,HQ,dc,Ze,QQ],p_),YQ=L([uD,nt,Bo],v_);L([nt,uD,YQ,Ze],w_);var XQ={radiusAxis:{},angleAxis:{}},cD=jr({name:"polarAxis",initialState:XQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qte,removeRadiusAxis:Wte,addAngleAxis:Kte,removeAngleAxis:Hte}=cD.actions,ZQ=cD.reducer;function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return(t=eY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rY=(e,t)=>t,D_=L([lD,rY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nY=[],M_=(e,t,r)=>(r==null?void 0:r.length)===0?nY:r,dD=L([qx,D_,M_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>WP(WP({},t.presentationProps),a.props))),i!=null)return i}}),iY=L([dD,D_,M_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ye(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Tp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),aY=L([dD,D_,M_,It],(e,t,r,n)=>{if(!(t==null||e==null))return sX({offset:n,pieSettings:t,displayedData:e,cells:r})}),fD={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=Symbol.for("react.transitional.element"),V_=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),sm=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),lm=Symbol.for("react.consumer"),um=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),sY=Symbol.for("react.view_transition"),oY=Symbol.for("react.client.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case L_:switch(e=e.type,e){case am:case om:case sm:case dm:case fm:case sY:return e;default:switch(e=e&&e.$$typeof,e){case um:case cm:case pm:case hm:return e;case lm:return e;default:return t}}case V_:return t}}}Me.ContextConsumer=lm;Me.ContextProvider=um;Me.Element=L_;Me.ForwardRef=cm;Me.Fragment=am;Me.Lazy=pm;Me.Memo=hm;Me.Portal=V_;Me.Profiler=om;Me.StrictMode=sm;Me.Suspense=dm;Me.SuspenseList=fm;Me.isContextConsumer=function(e){return cn(e)===lm};Me.isContextProvider=function(e){return cn(e)===um};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===L_};Me.isForwardRef=function(e){return cn(e)===cm};Me.isFragment=function(e){return cn(e)===am};Me.isLazy=function(e){return cn(e)===pm};Me.isMemo=function(e){return cn(e)===hm};Me.isPortal=function(e){return cn(e)===V_};Me.isProfiler=function(e){return cn(e)===om};Me.isStrictMode=function(e){return cn(e)===sm};Me.isSuspense=function(e){return cn(e)===dm};Me.isSuspenseList=function(e){return cn(e)===fm};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===am||e===om||e===sm||e===dm||e===fm||typeof e=="object"&&e!==null&&(e.$$typeof===pm||e.$$typeof===hm||e.$$typeof===um||e.$$typeof===lm||e.$$typeof===cm||e.$$typeof===oY||e.getModuleId!==void 0)};Me.typeOf=cn;fD.exports=Me;var lY=fD.exports,KP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",HP=null,Rg=null,hD=e=>{if(e===HP&&Array.isArray(Rg))return Rg;var t=[];return x.Children.forEach(e,r=>{zt(r)||(lY.isFragment(r)?t=t.concat(hD(r.props.children)):t.push(r))}),Rg=t,HP=e,t};function F_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>KP(i)):n=[KP(t)],hD(e).forEach(i=>{var a=ss(i,"type.displayName")||ss(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(pD);var uY=pD.isPlainObject;const cY=Ai(uY);function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}var YP=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},pY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mY=e=>{var t=Ut(e,pY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=x.useRef(null),[m,g]=x.useState(-1),w=x.useRef(i),v=x.useRef(a),_=x.useRef(s),b=x.useRef(r),E=x.useRef(n),I=$p(e,"trapezoid-");if(x.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var T=Ne("recharts-trapezoid",o);if(!d)return x.createElement("g",null,x.createElement("path",yh({},an(t),{className:T,d:YP(r,n,i,a,s)})));var O=w.current,S=v.current,A=_.current,j=b.current,D=E.current,C="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),N=Ik(["strokeDasharray"],u,l);return x.createElement(Fp,{animationId:I,key:I,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},Q=>{var se=At(O,i,Q),de=At(S,a,Q),oe=At(A,s,Q),U=At(j,r,Q),K=At(D,n,Q);p.current&&(w.current=se,v.current=de,_.current=oe,b.current=U,E.current=K);var ne=Q>0?{transition:N,strokeDasharray:k}:{strokeDasharray:C};return x.createElement("path",yh({},an(t),{className:T,d:YP(U,K,se,de,oe),ref:p,style:QP(QP({},ne),t.style)}))})},gY=["option","shapeType","propTransformer","activeClassName"];function vY(e,t){if(e==null)return{};var r,n,i=yY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){wY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wY(e,t,r){return(t=xY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){return wh(wh({},t),e)}function EY(e,t){return e==="symbols"}function ZP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(kk,r);case"trapezoid":return x.createElement(mY,r);case"sector":return x.createElement(Lk,r);case"symbols":if(EY(t))return x.createElement(Kw,r);break;case"curve":return x.createElement(xx,r);default:return null}}function SY(e){return x.isValidElement(e)?e.props:e}function mD(e){var{option:t,shapeType:r,propTransformer:n=bY,activeClassName:i="recharts-active-shape"}=e,a=vY(e,gY),s;if(x.isValidElement(t))s=x.cloneElement(t,wh(wh({},a),SY(t)));else if(typeof t=="function")s=t(a,a.index);else if(cY(t)&&typeof t!="boolean"){var o=n(t,a);s=x.createElement(ZP,{shapeType:r,elementProps:o})}else{var l=a;s=x.createElement(ZP,{shapeType:r,elementProps:l})}return a.isActive?x.createElement(pr,{className:i},s):s}var $_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(_2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},z_=e=>{var t=$e();return(r,n)=>i=>{e==null||e(r,n,i),t(BK())}},U_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(qK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function gD(e){var{tooltipEntrySettings:t}=e,r=$e(),n=Or(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(FK(t)):i.current!==t&&r($K({prev:i.current,next:t})),i.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{i.current&&(r(zK(i.current)),i.current=null)},[r]),null}function AY(e){var{legendPayload:t}=e,r=$e(),n=Or(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(Ak(t)):i.current!==t&&r(Pk({prev:i.current,next:t})),i.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{i.current&&(r(Tk(i.current)),i.current=null)},[r]),null}function PY(e){var{legendPayload:t}=e,r=$e(),n=te(Te),i=x.useRef(null);return x.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Ak(t)):i.current!==t&&r(Pk({prev:i.current,next:t})),i.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{i.current&&(r(Tk(i.current)),i.current=null)},[r]),null}var Dg,TY=()=>{var[e]=x.useState(()=>Su("uid-"));return e},CY=(Dg=FM.useId)!==null&&Dg!==void 0?Dg:TY;function vD(e,t){var r=CY();return t||(e?"".concat(e,"-").concat(r):r)}var IY=x.createContext(void 0),yD=e=>{var{id:t,type:r,children:n}=e,i=vD("recharts-".concat(r),t);return x.createElement(IY.Provider,{value:i},n(i))},jY={cartesianItems:[],polarItems:[]},wD=jr({name:"graphicalItems",initialState:jY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=_n(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(e,t){var r=_n(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(e,t){var r=_n(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:OY,replaceCartesianGraphicalItem:NY,removeCartesianGraphicalItem:kY,addPolarGraphicalItem:RY,removePolarGraphicalItem:DY}=wD.actions,MY=wD.reducer,LY=e=>{var t=$e(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(OY(e)):r.current!==e&&t(NY({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(kY(r.current)),r.current=null)},[t]),null},VY=x.memo(LY);function FY(e){var t=$e();return x.useLayoutEffect(()=>(t(RY(e)),()=>{t(DY(e))}),[t,e]),null}var $Y=["key"],zY=["onMouseEnter","onClick","onMouseLeave"],UY=["id"],BY=["id"];function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function mm(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GY(e){var t=x.useMemo(()=>F_(e.children,_c),[e.children]),r=te(n=>iY(n,e.id,t));return r==null?null:x.createElement(PY,{legendPayload:r})}var QY=x.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Tp(o,t),hide:l,type:u,color:s,unit:""}};return x.createElement(gD,{tooltipEntrySettings:c})}),YY=(e,t)=>e>t?"start":e<t?"end":"middle",XY=(e,t,r)=>or(typeof t=="function"?t(e):t,r,r*.8),ZY=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=Rk(a,s),l=i+or(e.cx,a,a/2),u=n+or(e.cy,s,s/2),c=or(e.innerRadius,o,0),d=XY(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},JY=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function eX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var tX=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ne("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=mm(t,$Y);return x.createElement(xx,ya({},i,{type:"linear",className:r}))},rX=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var i=Ne("recharts-pie-label-text",eX(e));return x.createElement(rm,ya({},t,{alignmentBaseline:"middle",className:i}),n)};function nX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Sn(r),l=Eu(i),u=Eu(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,w=wt(p.cx,p.cy,p.outerRadius+c,g),v=st(st(st(st({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:YY(w.x,p.cx)},w),_=st(st(st(st({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[wt(p.cx,p.cy,p.outerRadius,g),w],key:"line"});return x.createElement(Cn,{zIndex:Qt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},x.createElement(pr,null,a&&tX(a,_),rX(i,v,Ye(p,s))))});return x.createElement(pr,{className:"recharts-pie-labels"},d)}function iX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(oD,{label:i}):x.createElement(nX,{sectors:t,props:r,showLabels:n})}function aX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=te(cs),l=te(C_),u=te(IH),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=mm(i,zY),g=$_(c,i.dataKey,s),w=z_(p),v=U_(d,i.dataKey,s);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((_,b)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var E=u==null||u===s,I=String(b)===o&&(l==null||i.dataKey===l)&&E,T=o?n:null,O=r&&I?r:T,S=st(st({},_),{},{stroke:_.stroke,tabIndex:-1,[lk]:b,[uk]:i.dataKey});return x.createElement(pr,ya({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},ec(m,_,b),{onMouseEnter:g(_,b),onMouseLeave:w(_,b),onClick:v(_,b)}),x.createElement(mD,ya({option:a??O,index:b,shapeType:"sector",isActive:I},S)))}))}function sX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=JY(o,l),g=Math.abs(m),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(O=>Ye(O,u,0)!==0).length,_=(g>=360?v:v-1)*w,b=g-v*p-_,E=n.reduce((O,S)=>{var A=Ye(S,u,0);return O+(re(A)?A:0)},0),I;if(E>0){var T;I=n.map((O,S)=>{var A=Ye(O,u,0),j=Ye(O,c,S),D=ZY(r,a,O),C=(re(A)?A:0)/E,k,N=st(st({},O),i&&i[S]&&i[S].props);S?k=T.endAngle+Ft(m)*w*(A!==0?1:0):k=o;var Q=k+Ft(m)*((A!==0?p:0)+C*b),se=(k+Q)/2,de=(D.innerRadius+D.outerRadius)/2,oe=[{name:j,value:A,payload:N,dataKey:u,type:d}],U=wt(D.cx,D.cy,de,se);return T=st(st(st(st({},r.presentationProps),{},{percent:C,cornerRadius:typeof s=="string"?parseFloat(s):s,name:j,tooltipPayload:oe,midAngle:se,middleRadius:de,tooltipPosition:U},N),D),{},{value:A,dataKey:u,startAngle:k,endAngle:Q,payload:N,paddingAngle:Ft(m)*w}),T})}return I}function oX(e){var{showLabels:t,sectors:r,children:n}=e,i=x.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return x.createElement(UQ,{value:t?i:void 0},n)}function lX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=$p(t,"recharts-pie-"),g=r.current,[w,v]=x.useState(!1),_=x.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),b=x.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return x.createElement(oX,{showLabels:!w,sectors:i},x.createElement(Fp,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:_,key:m},E=>{var I=[],T=i&&i[0],O=T==null?void 0:T.startAngle;return i==null||i.forEach((S,A)=>{var j=g&&g[A],D=A>0?ss(S,"paddingAngle",0):0;if(j){var C=At(j.endAngle-j.startAngle,S.endAngle-S.startAngle,E),k=st(st({},S),{},{startAngle:O+D,endAngle:O+C+D});I.push(k),O=k.endAngle}else{var{endAngle:N,startAngle:Q}=S,se=At(0,N-Q,E),de=st(st({},S),{},{startAngle:O+D,endAngle:O+se+D});I.push(de),O=de.endAngle}}),r.current=I,x.createElement(pr,null,x.createElement(aX,{sectors:I,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),x.createElement(iX,{showLabels:!w,sectors:i,props:t}),t.children)}var uX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qt.area};function cX(e){var{id:t}=e,r=mm(e,UY),{hide:n,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>F_(e.children,_c),[e.children]),o=te(c=>aY(c,t,s)),l=x.useRef(null),u=Ne("recharts-pie",i);return n||o==null?(l.current=null,x.createElement(pr,{tabIndex:a,className:u})):x.createElement(Cn,{zIndex:e.zIndex},x.createElement(QY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(pr,{tabIndex:a,className:u},x.createElement(lX,{props:st(st({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function xD(e){var t=Ut(e,uX),{id:r}=t,n=mm(t,BY),i=Sn(n);return x.createElement(yD,{id:r,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(FY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(GY,ya({},n,{id:a})),x.createElement(cX,ya({},n,{id:a}))))}xD.displayName="Pie";function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pX={xAxis:{},yAxis:{},zAxis:{}},_D=jr({name:"cartesianAxis",initialState:pX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ge()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ge()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ge()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ge()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ge()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ge()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=tT(tT({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:mX,replaceXAxis:gX,removeXAxis:vX,addYAxis:yX,replaceYAxis:wX,removeYAxis:xX,addZAxis:Gte,replaceZAxis:Qte,removeZAxis:Yte,updateYAxisWidth:_X}=_D.actions,bX=_D.reducer,EX=L([It],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),SX=L([EX,Ti,Ci],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bD=()=>te(SX),AX="Invariant failed";function PX(e,t){throw new Error(AX)}var TX=["x","y"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=IX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OX(e,t){if(e==null)return{};var r,n,i=NX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kX(e,t){var{x:r,y:n}=e,i=OX(e,TX),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Sl(Sl(Sl(Sl(Sl({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function xh(e){return x.createElement(mD,Xy({shapeType:"rectangle",propTransformer:kX,activeClassName:"recharts-active-bar"},e))}var RX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||zt(n);return a?t(n,i):(a||PX(),r)}},DX={},ED=jr({name:"errorBars",initialState:DX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Xte,replaceErrorBar:Zte,removeErrorBar:Jte}=ED.actions,MX=ED.reducer,LX=["children"];function VX(e,t){if(e==null)return{};var r,n,i=FX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $X={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zX=x.createContext($X);function UX(e){var{children:t}=e,r=VX(e,LX);return x.createElement(zX.Provider,{value:r},t)}function SD(e,t){var r,n,i=te(u=>ji(u,e)),a=te(u=>Oi(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Rt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Dt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function BX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=bD(),{needClipX:a,needClipY:s,needClip:o}=SD(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}function qX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var WX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=x;function KX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HX=typeof Object.is=="function"?Object.is:KX,GX=bc.useSyncExternalStore,QX=bc.useRef,YX=bc.useEffect,XX=bc.useMemo,ZX=bc.useDebugValue;WX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=QX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=XX(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return d=g}return d=m}if(g=d,HX(c,m))return g;var w=n(m);return i!==void 0&&i(g,w)?(c=m,g):(c=m,d=w)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=GX(e,a[0],a[1]);return YX(function(){s.hasValue=!0,s.value=o},[o]),ZX(o),o};function JX(e){e()}function eZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var nT={notify(){},get:()=>[]};function tZ(e,t){let r,n=nT,i=0,a=!1;function s(w){c();const v=n.subscribe(w);let _=!1;return()=>{_||(_=!0,v(),d())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=eZ())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=nT)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var rZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nZ=rZ(),iZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aZ=iZ(),sZ=()=>nZ||aZ?x.useLayoutEffect:x.useEffect,oZ=sZ();function iT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function lZ(e,t){if(iT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!iT(e[r[i]],t[r[i]]))return!1;return!0}var Mg=Symbol.for("react-redux-context"),Lg=typeof globalThis<"u"?globalThis:{};function uZ(){if(!x.createContext)return{};const e=Lg[Mg]??(Lg[Mg]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var cZ=uZ();function dZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const l=tZ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=x.useMemo(()=>i.getState(),[i]);oZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||cZ;return x.createElement(o.Provider,{value:a},t)}var fZ=dZ,hZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function pZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function B_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(hZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!lZ(e[n],t[n]))return!1}else if(!pZ(e[n],t[n]))return!1;return!0}var mZ=["onMouseEnter","onMouseLeave","onClick"],gZ=["value","background","tooltipPosition"],vZ=["id"],yZ=["onMouseEnter","onClick","onMouseLeave"];function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(e,t){if(e==null)return{};var r,n,i=bZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Tp(r,t),payload:e}]},SZ=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Tp(a,t),hide:s,type:l,color:i,unit:o}};return x.createElement(gD,{tooltipEntrySettings:u})});function AZ(e){var t=te(cs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=_h(a,mZ),c=$_(s,n),d=z_(o),p=U_(l,n);if(!i||r==null)return null;var m=Eu(i);return x.createElement(Cn,{zIndex:qX(i,Qt.barBackground)},r.map((g,w)=>{var{value:v,background:_,tooltipPosition:b}=g,E=_h(g,gZ);if(!_)return null;var I=c(g,w),T=d(g,w),O=p(g,w),S=dr(dr(dr(dr(dr({option:i,isActive:String(w)===t},E),{},{fill:"#eee"},_),m),ec(u,g,w)),{},{onMouseEnter:I,onMouseLeave:T,onClick:O,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(xh,Si({key:"background-bar-".concat(w)},S))}))}function PZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return dr(dr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return x.createElement(zQ,{value:t?i:void 0},r)}function TZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=te(cs),l=te(C_),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?x.createElement(Cn,{zIndex:Qt.activeBar},x.createElement(xh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):x.createElement(xh,Si({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function CZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return x.createElement(xh,Si({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function IZ(e){var t,{data:r,props:n}=e,i=(t=Sn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=_h(i,vZ),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=_h(n,yZ),g=$_(c,l),w=z_(p),v=U_(d,l);return r?x.createElement(x.Fragment,null,r.map((_,b)=>x.createElement(pr,Si({key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(b),className:"recharts-bar-rectangle"},ec(m,_,b),{onMouseEnter:g(_,b),onMouseLeave:w(_,b),onClick:v(_,b)}),u?x.createElement(TZ,{shape:o,activeBar:u,baseProps:s,entry:_,index:b,dataKey:l}):x.createElement(CZ,{shape:o,baseProps:s,entry:_,index:b,dataKey:l})))):null}function jZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=$p(t,"recharts-bar-"),[m,g]=x.useState(!1),w=!m,v=x.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),_=x.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return x.createElement(PZ,{showLabels:w,rects:n},x.createElement(Fp,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:_,key:p},b=>{var E=b===1?n:n==null?void 0:n.map((I,T)=>{var O=d&&d[T];if(O)return dr(dr({},I),{},{x:At(O.x,I.x,b),y:At(O.y,I.y,b),width:At(O.width,I.width,b),height:At(O.height,I.height,b)});if(i==="horizontal"){var S=At(0,I.height,b),A=At(I.stackedBarStart,I.y,b);return dr(dr({},I),{},{y:A,height:S})}var j=At(0,I.width,b),D=At(I.stackedBarStart,I.x,b);return dr(dr({},I),{},{width:j,x:D})});return b>0&&(r.current=E??null),E==null?null:x.createElement(pr,null,x.createElement(IZ,{props:t,data:E}))}),x.createElement(oD,{label:t.label}),t.children)}function OZ(e){var t=x.useRef(null);return x.createElement(jZ,{previousRectanglesRef:t,props:e})}var AD=0,NZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class kZ extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Ne("recharts-bar",i),d=u;return x.createElement(pr,{className:c,id:u},o&&x.createElement("defs",null,x.createElement(BX,{clipPathId:d,xAxisId:a,yAxisId:s})),x.createElement(pr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},x.createElement(AZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),x.createElement(OZ,this.props)))}}var RZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:AD,xAxisId:0,yAxisId:0,zIndex:Qt.bar};function DZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=SD(t,r),p=kp(),m=Or(),g=F_(e.children,_c),w=te(b=>uJ(b,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var v,_=w==null?void 0:w[0];return _==null||_.height==null||_.width==null?v=0:v=p==="vertical"?_.height/2:_.width/2,x.createElement(UX,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:NZ,errorBarOffset:v},x.createElement(kZ,Si({},e,{layout:p,needClip:d,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function MZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:g,dataStartIndex:w}=e,v=t==="horizontal"?o:s,_=c?v.scale.domain():null,b=SU({numericAxis:v}),E=v.scale(b);return d.map((I,T)=>{var O,S,A,j,D,C;c?O=yU(c[T+w],_):(O=Ye(I,r),Array.isArray(O)||(O=[b,O]));var k=RX(n,AD)(O[1],T);if(t==="horizontal"){var N,[Q,se]=[o.scale(O[0]),o.scale(O[1])];S=BS({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:I,index:T}),A=(N=se??Q)!==null&&N!==void 0?N:void 0,j=i.size;var de=Q-se;if(D=An(de)?0:de,C={x:S,y:p.top,width:j,height:p.height},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var oe=Ft(D||k)*(Math.abs(k)-Math.abs(D));A-=oe,D+=oe}}else{var[U,K]=[s.scale(O[0]),s.scale(O[1])];if(S=U,A=BS({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:I,index:T}),j=K-U,D=i.size,C={x:p.left,y:A,width:p.width,height:D},Math.abs(k)>0&&Math.abs(j)<Math.abs(k)){var ne=Ft(j||k)*(Math.abs(k)-Math.abs(j));j+=ne}}if(S==null||A==null||j==null||D==null)return null;var me=dr(dr({},I),{},{stackedBarStart:E,x:S,y:A,width:j,height:D,value:c?O:O[1],payload:I,background:C,tooltipPosition:{x:S+j/2,y:A+D/2},parentViewBox:g},m&&m[T]&&m[T].props);return me}).filter(Boolean)}function LZ(e){var t=Ut(e,RZ),r=Or();return x.createElement(yD,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(AY,{legendPayload:EZ(t)}),x.createElement(SZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(VY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:EU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Cn,{zIndex:t.zIndex},x.createElement(DZ,Si({},t,{id:n})))))}var io=x.memo(LZ,B_);io.displayName="Bar";function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ=(e,t)=>t,UZ=(e,t,r)=>r,BZ=(e,t,r,n)=>n,qZ=(e,t,r,n,i)=>i,Ec=L([n_,qZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),WZ=L([Ec],e=>e==null?void 0:e.maxBarSize),KZ=(e,t,r,n,i,a)=>a,oT=(e,t,r)=>{var n=r??e;if(!zt(n))return or(n,t,0)},HZ=L([Te,n_,zZ,UZ,BZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),GZ=(e,t,r,n)=>{var i=Te(e);return i==="horizontal"?qy(e,"yAxis",r,n):qy(e,"xAxis",t,n)},QZ=(e,t,r)=>{var n=Te(e);return n==="horizontal"?pP(e,"xAxis",t):pP(e,"yAxis",r)},YZ=(e,t,r)=>{var n={},i=e.filter(Qp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,d]=u,p=d.map(g=>g.dataKey),m=oT(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=oT(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]},XZ=L([HZ,NW,QZ],YZ),ZZ=(e,t,r,n,i)=>{var a,s,o=Ec(e,t,r,n,i);if(o!=null){var l=Te(e),u=MR(e),{maxBarSize:c}=o,d=zt(c)?u:c,p,m;return l==="horizontal"?(p=Io(e,"xAxis",t,n),m=Co(e,"xAxis",t,n)):(p=Io(e,"yAxis",r,n),m=Co(e,"yAxis",r,n)),(a=(s=Gf(p,m,!0))!==null&&s!==void 0?s:d)!==null&&a!==void 0?a:0}},PD=(e,t,r,n)=>{var i=Te(e),a,s;return i==="horizontal"?(a=Io(e,"xAxis",t,n),s=Co(e,"xAxis",t,n)):(a=Io(e,"yAxis",r,n),s=Co(e,"yAxis",r,n)),Gf(a,s)};function JZ(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=or(e,r,0,!0),o,l=[];if(dt(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((_,b)=>_+(b.barSize||0),0);d+=(a-1)*s,d>=r&&(d-=(a-1)*s,s=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-s,size:0};o=n.reduce((_,b)=>{var E,I={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(E=b.barSize)!==null&&E!==void 0?E:0}},T=[..._,I];return m=T[T.length-1].position,T},l)}else{var g=or(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var w=(r-2*g-(a-1)*s)/a;w>1&&(w>>=0);var v=dt(i)?Math.min(w,i):w;o=n.reduce((_,b,E)=>[..._,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(w+s)*E+(w-v)/2,size:v}}],l)}return o}}var eJ=(e,t,r,n,i,a,s)=>{var o=zt(s)?t:s,l=JZ(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>wd(wd({},u),{},{position:wd(wd({},u.position),{},{offset:u.position.offset-i/2})}))),l},tJ=L([XZ,MR,OW,LR,ZZ,PD,WZ],eJ),rJ=(e,t,r,n)=>Io(e,"xAxis",t,n),nJ=(e,t,r,n)=>Io(e,"yAxis",r,n),iJ=(e,t,r,n)=>Co(e,"xAxis",t,n),aJ=(e,t,r,n)=>Co(e,"yAxis",r,n),sJ=L([tJ,Ec],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),oJ=(e,t)=>{var r=e_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},lJ=L([GZ,Ec],oJ),uJ=L([It,hx,rJ,nJ,iJ,aJ,sJ,Te,Wx,PD,lJ,Ec,KZ],(e,t,r,n,i,a,s,o,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:w}=l;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=d,_;if(v!=null&&v.length>0?_=v:_=m==null?void 0:m.slice(g,w+1),_!=null)return MZ({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:_,offset:e,cells:p,dataStartIndex:g})}}),TD=e=>{var{chartData:t}=e,r=$e(),n=Or();return x.useEffect(()=>n?()=>{}:(r(PP(t)),()=>{r(PP(void 0))}),[t,r,n]),null},lT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CD=jr({name:"brush",initialState:lT,reducers:{setBrushSettings(e,t){return t.payload==null?lT:t.payload}}}),{setBrushSettings:ere}=CD.actions,cJ=CD.reducer;function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q_{static create(t){return new q_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}dJ(q_,"EPS",1e-4);function pJ(e){return(e%180+180)%180}var mJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pJ(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},gJ={dots:[],areas:[],lines:[]},ID=jr({name:"referenceElements",initialState:gJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_n(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_n(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_n(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:tre,removeDot:rre,addArea:nre,removeArea:ire,addLine:are,removeLine:sre}=ID.actions,vJ=ID.reducer,yJ=x.createContext(void 0),wJ=e=>{var{children:t}=e,[r]=x.useState("".concat(Su("recharts"),"-clip")),n=bD();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return x.createElement(yJ.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function jD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function xJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mJ(n,r)}function _J(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function bh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function bJ(e,t){return jD(e,t+1)}function EJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:jD(n,u)};var w=l,v,_=()=>(v===void 0&&(v=r(g,w)),v),b=g.coordinate,E=l===0||bh(e,b,_,c,o);E||(l=0,c=s,u+=1),E&&(c=b+e*(_()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var m=a[p],g,w=()=>(g===void 0&&(g=r(m,p)),g);if(p===s-1){var v=e*(m.coordinate+e*w()/2-l);a[p]=m=rr(rr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[p]=m=rr(rr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var _=bh(e,m.tickCoord,w,o,l);_&&(l=m.tickCoord-e*(w()/2+i),a[p]=rr(rr({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function CJ(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],d=r(c,o-1),p=e*(c.coordinate+e*d/2-u);if(s[o-1]=c=rr(rr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=bh(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),s[o-1]=rr(rr({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,w=function(b){var E=s[b],I,T=()=>(I===void 0&&(I=r(E,b)),I);if(b===0){var O=e*(E.coordinate-e*T()/2-l);s[b]=E=rr(rr({},E),{},{tickCoord:O<0?E.coordinate-O*e:E.coordinate})}else s[b]=E=rr(rr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var S=bh(e,E.tickCoord,T,l,u);S&&(l=E.tickCoord+e*(T()/2+i),s[b]=rr(rr({},E),{},{isShow:!0}))}},v=0;v<g;v++)w(v);return s}function W_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(re(l)||sc.isSsr){var p;return(p=bJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",w=c&&g==="width"?Yl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(E,I)=>{var T=typeof u=="function"?u(E.value,I):E.value;return g==="width"?xJ(Yl(T,{fontSize:t,letterSpacing:r}),w,d):Yl(T,{fontSize:t,letterSpacing:r})[g]},_=i.length>=2?Ft(i[1].coordinate-i[0].coordinate):1,b=_J(a,_,g);return l==="equidistantPreserveStart"?EJ(_,b,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=CJ(_,b,v,i,s,l==="preserveStartEnd"):m=TJ(_,b,v,i,s),m.filter(E=>E.isShow))}var IJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},jJ=["axisLine","width","height","className","hide","ticks","axisType"];function OJ(e,t){if(e==null)return{};var r,n,i=NJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qt.axis};function MJ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=mt(mt(mt({},l),Sn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=mt(mt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=mt(mt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",ds({},u,{className:Ne("recharts-cartesian-axis-line",ss(o,"className"))}))}function LJ(e,t,r,n,i,a,s,o,l){var u,c,d,p,m,g,w=o?-1:1,v=e.tickSize||s,_=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!o*i,d=p-w*v,g=d-w*l,m=_;break;case"left":d=p=e.coordinate,c=t+ +!o*n,u=c-w*v,m=u-w*l,g=_;break;case"right":d=p=e.coordinate,c=t+ +o*n,u=c+w*v,m=u+w*l,g=_;break;default:u=c=e.coordinate,p=r+ +o*i,d=p+w*v,g=d+w*l,m=_;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:g}}}function VJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $J(e){var{option:t,tickProps:r,value:n}=e,i,a=Ne(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,mt(mt({},r),{},{className:a}));else if(typeof t=="function")i=t(mt(mt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ne(s,t==null?void 0:t.className)),i=x.createElement(rm,ds({},r,{className:s}),n)}return i}var zJ=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:g,height:w,tickSize:v,tickMargin:_,fontSize:b,letterSpacing:E,getTicksConfig:I,events:T,axisType:O}=e,S=W_(mt(mt({},I),{},{ticks:r}),b,E),A=VJ(c,d),j=FJ(c,d),D=Sn(I),C=Eu(n),k={};typeof i=="object"&&(k=i);var N=mt(mt({},D),{},{fill:"none"},k),Q=S.map(oe=>mt({entry:oe},LJ(oe,p,m,g,w,c,v,d,_))),se=Q.map(oe=>{var{entry:U,line:K}=oe;return x.createElement(pr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&x.createElement("line",ds({},N,K,{className:Ne("recharts-cartesian-axis-tick-line",ss(i,"className"))})))}),de=Q.map((oe,U)=>{var{entry:K,tick:ne}=oe,me=mt(mt(mt(mt({textAnchor:A,verticalAnchor:j},D),{},{stroke:"none",fill:a},C),ne),{},{index:U,payload:K,visibleTicksCount:S.length,tickFormatter:s,padding:l},u);return x.createElement(pr,ds({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},ec(T,K,U)),n&&x.createElement($J,{option:n,tickProps:me,value:"".concat(typeof s=="function"?s(K.value,U):K.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},de.length>0&&x.createElement(Cn,{zIndex:Qt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},de)),se.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},se))}),UJ=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=OJ(e,jJ),[c,d]=x.useState(""),[p,m]=x.useState(""),g=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return IJ({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(v=>{if(v){var _=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var b=_[0];if(b){var E=window.getComputedStyle(b),I=E.fontSize,T=E.letterSpacing;(I!==c||T!==p)&&(d(I),m(T))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(Cn,{zIndex:e.zIndex},x.createElement(pr,{className:Ne("recharts-cartesian-axis",a)},x.createElement(MJ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Sn(e)}),x.createElement(zJ,{ref:w,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(SQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(RQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),K_=x.forwardRef((e,t)=>{var r=Ut(e,ui);return x.createElement(UJ,ds({},r,{ref:t}))});K_.displayName="CartesianAxis";var BJ=["x1","y1","x2","y2","key"],qJ=["offset"],WJ=["xAxisId","yAxisId"],KJ=["xAxisId","yAxisId"];function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var r,n,i=YJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OD(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=Eh(r,BJ),d=(i=Sn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=Eh(d,qJ);n=x.createElement("line",Wa({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function ZJ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,WJ),l=i.map((u,c)=>{var d=sr(sr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return x.createElement(OD,{key:"line-".concat(c),option:n,lineItemProps:d})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function JJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,KJ),l=i.map((u,c)=>{var d=sr(sr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return x.createElement(OD,{option:n,lineItemProps:d,key:"line-".concat(c)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function eee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+s-d:u[p+1]-d;if(g<=0)return null;var w=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function tee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],g=m?i+s-d:u[p+1]-d;if(g<=0)return null;var w=p%r.length;return x.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:o,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var ree=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return ak(W_(sr(sr(sr({},ui),r),{},{ticks:sk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},nee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return ak(W_(sr(sr(sr({},ui),r),{},{ticks:sk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},iee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qt.grid};function H_(e){var t=gx(),r=vx(),n=vk(),i=sr(sr({},Ut(e,iee)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,g=Or(),w=te(j=>mP(j,"xAxis",a,g)),v=te(j=>mP(j,"yAxis",s,g));if(!Hn(u)||!Hn(c)||!re(o)||!re(l))return null;var _=i.verticalCoordinatesGenerator||ree,b=i.horizontalCoordinatesGenerator||nee,{horizontalPoints:E,verticalPoints:I}=i;if((!E||!E.length)&&typeof b=="function"){var T=p&&p.length,O=b({yAxis:v?sr(sr({},v),{},{ticks:T?p:v.ticks}):void 0,width:t??u,height:r??c,offset:n},T?!0:d);Qf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!I||!I.length)&&typeof _=="function"){var S=m&&m.length,A=_({xAxis:w?sr(sr({},w),{},{ticks:S?m:w.ticks}):void 0,width:t??u,height:r??c,offset:n},S?!0:d);Qf(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(I=A)}return x.createElement(Cn,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(XJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(eee,Wa({},i,{horizontalPoints:E})),x.createElement(tee,Wa({},i,{verticalPoints:I})),x.createElement(ZJ,Wa({},i,{offset:n,horizontalPoints:E,xAxis:w,yAxis:v})),x.createElement(JJ,Wa({},i,{offset:n,verticalPoints:I,xAxis:w,yAxis:v}))))}H_.displayName="CartesianGrid";var aee=["domain","range"],see=["domain","range"];function fT(e,t){if(e==null)return{};var r,n,i=oee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ND(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=fT(e,aee),{domain:a,range:s}=t,o=fT(t,see);return!hT(r,a)||!hT(n,s)?!1:B_(i,o)}var lee=["dangerouslySetInnerHTML","ticks"],uee=["id"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function pT(e,t){if(e==null)return{};var r,n,i=cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dee(e){var t=$e(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(vX(r.current)),r.current=null)},[t]),null}var fee=e=>{var{xAxisId:t,className:r}=e,n=te(hx),i=Or(),a="xAxis",s=te(v=>qo(v,a,t,i)),o=te(v=>m2(v,a,t,i)),l=te(v=>d2(v,t)),u=te(v=>IK(v,t)),c=te(v=>KR(v,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,m=pT(e,lee),{id:g}=c,w=pT(c,uee);return x.createElement(K_,Zy({},m,w,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Ne("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},hee={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:ui.axisLine,height:Rt.height,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Rt.type,xAxisId:0},pee=e=>{var t=Ut(e,hee);return x.createElement(x.Fragment,null,x.createElement(dee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(fee,t))},G_=x.memo(pee,ND);G_.displayName="XAxis";var mee=["dangerouslySetInnerHTML","ticks"],gee=["id"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function mT(e,t){if(e==null)return{};var r,n,i=vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yee(e){var t=$e(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(yX(e)):r.current!==e&&t(wX({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(xX(r.current)),r.current=null)},[t]),null}var wee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=te(hx),l=Or(),u=$e(),c="yAxis",d=te(T=>qo(T,c,t,l)),p=te(T=>f2(T,t)),m=te(T=>OK(T,t)),g=te(T=>m2(T,c,t,l)),w=te(T=>HR(T,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||R_(i)||x.isValidElement(i)||w==null)){var T=a.current;if(T){var O=T.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&u(_X({id:t,width:O}))}}},[g,p,u,i,t,n,w]),p==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:v,ticks:_}=e,b=mT(e,mee),{id:E}=w,I=mT(w,gee);return x.createElement(K_,Jy({},b,I,{ref:a,labelRef:s,scale:d,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ne("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:g,axisType:c}))},xee={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:ui.axisLine,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Dt.type,width:Dt.width,yAxisId:0},_ee=e=>{var t=Ut(e,xee);return x.createElement(x.Fragment,null,x.createElement(yee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(wee,t))},Q_=x.memo(_ee,ND);Q_.displayName="YAxis";var bee=(e,t)=>t,Y_=L([bee,Te,qR,Ot,O2,Ni,KH,It],JH),X_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},kD=sn("mouseClick"),RD=nc();RD.startListening({actionCreator:kD,effect:(e,t)=>{var r=e.payload,n=Y_(t.getState(),X_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(WK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var e0=sn("mouseMove"),DD=nc(),xd=null;DD.startListening({actionCreator:e0,effect:(e,t)=>{var r=e.payload;xd!==null&&cancelAnimationFrame(xd);var n=X_(r);xd=requestAnimationFrame(()=>{var i=t.getState(),a=b_(i,i.tooltip.settings.shared);if(a==="axis"){var s=Y_(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(E2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(b2())}xd=null})}});var gT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},MD=jr({name:"rootProps",initialState:gT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:gT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Eee=MD.reducer,{updateOptions:See}=MD.actions,LD=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Aee}=LD.actions,Pee=LD.reducer,VD=sn("keyDown"),FD=sn("focus"),Z_=nc();Z_.startListening({actionCreator:VD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=E_(i,Ko(r),mc(r),wc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ni(r);if(a==="Enter"){var u=gh(r,"axis","hover",String(i.index));t.dispatch(Ky({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=DK(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*d;if(!(l==null||m>=l.length||m<0)){var g=gh(r,"axis","hover",String(m));t.dispatch(Ky({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});Z_.startListening({actionCreator:FD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=gh(r,"axis","hover",String(a));t.dispatch(Ky({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Hr=sn("externalEvent"),$D=nc(),Vg=new Map;$D.startListening({actionCreator:Hr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Vg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:OH(o),activeDataKey:C_(o),activeIndex:cs(o),activeLabel:R2(o),activeTooltipIndex:cs(o),isTooltipActive:NH(o)};r(l,n)}finally{Vg.delete(i)}});Vg.set(i,s)}}});var Tee=L([Wo],e=>e.tooltipItemPayloads),Cee=L([Tee,vc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),zD=sn("touchMove"),UD=nc();UD.startListening({actionCreator:zD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=b_(n,n.tooltip.settings.shared);if(i==="axis"){var a=Y_(n,X_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(E2({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(lk),c=(s=l.getAttribute(uk))!==null&&s!==void 0?s:void 0,d=Cee(t.getState(),u,c);t.dispatch(_2({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var Iee=jN({brush:cJ,cartesianAxis:bX,chartData:IG,errorBars:MX,graphicalItems:MY,layout:fU,legend:gB,options:SG,polarAxis:ZQ,polarOptions:Pee,referenceElements:vJ,rootProps:Eee,tooltip:KK,zIndex:hG}),jee=function(t){return L9({reducer:Iee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([RD.middleware,DD.middleware,Z_.middleware,$D.middleware,UD.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(WN({type:"raf"}))},devTools:sc.devToolsEnabled})};function BD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Or(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=jee(t));var s=rx;return x.createElement(fZ,{context:s,store:a.current},r)}function Oee(e){var{layout:t,margin:r}=e,n=$e(),i=Or();return x.useEffect(()=>{i||(n(uU(t)),n(lU(r)))},[n,i,t,r]),null}var qD=x.memo(Oee,B_);function WD(e){var t=$e();return x.useEffect(()=>{t(See(e))},[t,e]),null}function vT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=vD("".concat(n).concat(t)),a=$e();return x.useLayoutEffect(()=>(a(dG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(fG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),x.createElement("g",{tabIndex:-1,id:i})}function yT(e){var{children:t,isPanorama:r}=e,n=te(tG);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(vT,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>x.createElement(vT,{key:s,zIndex:s,isPanorama:r})))}var Nee=["children"];function kee(e,t){if(e==null)return{};var r,n,i=Ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}var Dee={width:"100%",height:"100%",display:"block"},Mee=x.forwardRef((e,t)=>{var r=gx(),n=vx(),i=Ck();if(!Hn(r)||!Hn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),x.createElement(zw,Sh({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:Dee,ref:t}),a)}),Lee=e=>{var{children:t}=e,r=te(Op);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return x.createElement(zw,{width:n,height:i,x:s,y:a},t)},wT=x.forwardRef((e,t)=>{var{children:r}=e,n=kee(e,Nee),i=Or();return i?x.createElement(Lee,null,x.createElement(yT,{isPanorama:!0},r)):x.createElement(Mee,Sh({ref:t},n),x.createElement(yT,{isPanorama:!1},r))});function Vee(){var e=$e(),[t,r]=x.useState(null),n=te(jU);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;dt(a)&&a!==n&&e(dU(a))}},[t,e,n]),r}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return(t=zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(null,arguments)}var Bee=()=>(VG(),null);function Ah(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var qee=x.forwardRef((e,t)=>{var r,n,i=x.useRef(null),[a,s]=x.useState({containerWidth:Ah((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ah((n=e.style)===null||n===void 0?void 0:n.height)}),o=x.useCallback((u,c)=>{s(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var p=g=>{var{width:w,height:v}=g[0].contentRect;o(w,v)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,o]);return x.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(Rp,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",fs({ref:l},e)))}),Wee=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=x.useState({containerWidth:Ah(r),containerHeight:Ah(n)}),s=x.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement(Rp,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",fs({ref:o},e)))}),Kee=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Rp,{width:r,height:n}),x.createElement("div",fs({ref:t},e)))}),Hee=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return yi(r)||yi(n)?x.createElement(Wee,fs({},e,{ref:t})):x.createElement(Kee,fs({},e,{ref:t}))});function Gee(e){return e===!0?qee:Hee}var Qee=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:w,style:v,width:_,responsive:b,dispatchTouchEvents:E=!0}=e,I=x.useRef(null),T=$e(),[O,S]=x.useState(null),[A,j]=x.useState(null),D=Vee(),C=px(),k=(C==null?void 0:C.width)>0?C.width:_,N=(C==null?void 0:C.height)>0?C.height:i,Q=x.useCallback(B=>{D(B),typeof t=="function"&&t(B),S(B),j(B),B!=null&&(I.current=B)},[D,t,S,j]),se=x.useCallback(B=>{T(kD(B)),T(Hr({handler:a,reactEvent:B}))},[T,a]),de=x.useCallback(B=>{T(e0(B)),T(Hr({handler:u,reactEvent:B}))},[T,u]),oe=x.useCallback(B=>{T(b2()),T(Hr({handler:c,reactEvent:B}))},[T,c]),U=x.useCallback(B=>{T(e0(B)),T(Hr({handler:d,reactEvent:B}))},[T,d]),K=x.useCallback(()=>{T(FD())},[T]),ne=x.useCallback(B=>{T(VD(B.key))},[T]),me=x.useCallback(B=>{T(Hr({handler:s,reactEvent:B}))},[T,s]),be=x.useCallback(B=>{T(Hr({handler:o,reactEvent:B}))},[T,o]),_t=x.useCallback(B=>{T(Hr({handler:l,reactEvent:B}))},[T,l]),ke=x.useCallback(B=>{T(Hr({handler:p,reactEvent:B}))},[T,p]),qt=x.useCallback(B=>{T(Hr({handler:w,reactEvent:B}))},[T,w]),bt=x.useCallback(B=>{E&&T(zD(B)),T(Hr({handler:g,reactEvent:B}))},[T,E,g]),ze=x.useCallback(B=>{T(Hr({handler:m,reactEvent:B}))},[T,m]),Qn=Gee(b);return x.createElement(z2.Provider,{value:O},x.createElement(OO.Provider,{value:A},x.createElement(Qn,{width:k??(v==null?void 0:v.width),height:N??(v==null?void 0:v.height),className:Ne("recharts-wrapper",n),style:Fee({position:"relative",cursor:"default",width:k,height:N},v),onClick:se,onContextMenu:me,onDoubleClick:be,onFocus:K,onKeyDown:ne,onMouseDown:_t,onMouseEnter:de,onMouseLeave:oe,onMouseMove:U,onMouseUp:ke,onTouchEnd:ze,onTouchMove:bt,onTouchStart:qt,ref:Q},x.createElement(Bee,null),r)))}),Yee=["width","height","responsive","children","className","style","compact","title","desc"];function Xee(e,t){if(e==null)return{};var r,n,i=Zee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KD=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,d=Xee(e,Yee),p=Sn(d);return l?x.createElement(x.Fragment,null,x.createElement(Rp,{width:r,height:n}),x.createElement(wT,{otherAttributes:p,title:u,desc:c},a)):x.createElement(Qee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(wT,{otherAttributes:p,title:u,desc:c,ref:t},x.createElement(wJ,null,a)))});function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}var Jee={top:5,right:5,bottom:5,left:5},ete={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Jee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tte=x.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,ete),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(BD,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},x.createElement(TD,{chartData:u.data}),x.createElement(qD,{layout:i.layout,margin:i.margin}),x.createElement(WD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(KD,t0({},i,{ref:r})))}),rte=["axis","item"],HD=x.forwardRef((e,t)=>x.createElement(tte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rte,tooltipPayloadSearcher:B2,categoricalChartProps:e,ref:t}));function nte(e){var t=$e();return x.useEffect(()=>{t(Aee(e))},[t,e]),null}var ite=["layout"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function ate(e,t){if(e==null)return{};var r,n,i=ste(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ote={top:5,right:5,bottom:5,left:5},GD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ote,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lte=x.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,GD),{layout:a}=i,s=ate(i,ite),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(BD,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},x.createElement(TD,{chartData:i.data}),x.createElement(qD,{layout:a,margin:i.margin}),x.createElement(WD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(nte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(KD,r0({},s,{ref:r})))});function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t,r){return(t=cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte=["item"],hte=bT(bT({},GD),{},{layout:"centric",startAngle:0,endAngle:360}),pte=x.forwardRef((e,t)=>{var r=Ut(e,hte);return x.createElement(lte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fte,tooltipPayloadSearcher:B2,categoricalChartProps:r,ref:t})});const mte=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(s=>s.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(s=>s.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(s=>s.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(s=>s.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(s=>s.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(s=>s.value>0);return a.length===0?f.jsxs("div",{className:"incident-chart-container",children:[f.jsx("h3",{children:"Distribucin por Estado"}),f.jsx("div",{className:"chart-empty",children:f.jsx("p",{children:"No hay incidencias para mostrar"})})]}):f.jsxs("div",{className:"incident-chart-container",children:[f.jsx("h3",{children:"Distribucin por Estado"}),f.jsx(mx,{width:"100%",height:300,children:f.jsxs(pte,{children:[f.jsx(xD,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:o,percent:l})=>`${s}: ${o} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:s=>{t(s.status),r()},style:{cursor:"pointer"},children:a.map((s,o)=>f.jsx(_c,{fill:s.fill},`cell-${o}`))}),f.jsx(k_,{formatter:s=>`${s} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),f.jsx(Vp,{})]})})]})};function gte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,s=e.filter(l=>l.status==="cerrada").length,o=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:s}];return f.jsx("div",{className:"incident-stats-container",children:f.jsx("div",{className:"stats-chart",children:f.jsx(mx,{width:"100%",height:300,children:f.jsxs(HD,{data:o,children:[f.jsx(H_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),f.jsx(G_,{dataKey:"name",stroke:"#667eea"}),f.jsx(Q_,{stroke:"#667eea"}),f.jsx(k_,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),f.jsx(Vp,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(io,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),f.jsx(io,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),f.jsx(io,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function vte({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?f.jsxs("div",{className:"quick-incidents-container",children:[f.jsx("h3",{children:"Incidencias Pendientes"}),f.jsx("div",{className:"quick-incidents-empty",children:f.jsx("p",{children:" No hay incidencias pendientes"})})]}):f.jsxs("div",{className:"quick-incidents-container",children:[f.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),f.jsx("div",{className:"quick-incidents-list",children:r.map(a=>f.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:s=>{if(s.button===1){s.preventDefault();const o=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(o,"_blank")}},children:[f.jsx("div",{className:"quick-incident-name",children:a.name}),f.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function yte({incidents:e}){const t=()=>{const d=e.filter(m=>m.status==="cerrada");if(d.length===0)return 0;const p=d.reduce((m,g)=>{const w=new Date(g.creationDate),v=new Date(g.updatedAt),_=Math.abs(v.getTime()-w.getTime()),b=Math.ceil(_/(1e3*60*60*24));return m+b},0);return Math.round(p/d.length)},r=()=>({correctivo:e.filter(d=>d.type==="correctivo").length,evolutivo:e.filter(d=>d.type==="evolutivo").length,tarea:e.filter(d=>d.type==="tarea").length}),n=()=>{const d=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===d.getMonth()&&m.getFullYear()===d.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const d=e.filter(p=>p.status==="cerrada").length;return Math.round(d/e.length*100)},a=()=>e.filter(d=>(d.priority==="crtica"||d.priority==="alta")&&d.status!=="cerrada").length,s=t(),o=r(),l=n(),u=i(),c=a();return f.jsxs("div",{className:"metrics-dashboard",children:[f.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-card metric-primary",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:s}),f.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),f.jsxs("div",{className:"metric-card metric-success",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsxs("div",{className:"metric-value",children:[u,"%"]}),f.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),f.jsxs("div",{className:"metric-card metric-info",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:l}),f.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),f.jsxs("div",{className:"metric-card metric-warning",children:[f.jsx("div",{className:"metric-icon",children:""}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:c}),f.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),f.jsxs("div",{className:"metrics-detail",children:[f.jsx("h3",{children:"Distribucin por Tipo"}),f.jsxs("div",{className:"type-stats",children:[f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Correctivo"}),f.jsx("span",{className:"type-stat-value",children:o.correctivo})]}),f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),f.jsx("span",{className:"type-stat-value",children:o.evolutivo})]}),f.jsxs("div",{className:"type-stat-item",children:[f.jsx("span",{className:"type-stat-label",children:" Tarea"}),f.jsx("span",{className:"type-stat-value",children:o.tarea})]})]})]})]})}const wte=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((o,l)=>{const u=e.filter(d=>{const p=new Date(d.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(d=>{const p=new Date(d.updatedAt);return d.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:o,creadas:u,cerradas:c}})})();return f.jsxs("div",{className:"yearly-chart-container",children:[f.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),f.jsx(mx,{width:"100%",height:300,children:f.jsxs(HD,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[f.jsx(H_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),f.jsx(G_,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),f.jsx(Q_,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),f.jsx(k_,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),f.jsx(Vp,{}),f.jsx(io,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),f.jsx(io,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),f.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),f.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),f.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function xte({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(d=>d.status==="cerrada"?!1:new Date(d.creationDate)<c&&(d.status==="abierta"||d.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(d=>d.status!=="puesto-en-test"&&d.status!=="verificado-en-test"?!1:new Date(d.creationDate)<c)},a=r(),s=n(),o=i(),l=a.length+s.length+o.length;return l===0?null:f.jsxs("div",{className:"alerts-banner",children:[f.jsxs("div",{className:"alerts-header",children:[f.jsx("span",{className:"alerts-icon",children:""}),f.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&f.jsxs("div",{className:"alert-section alert-stale",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:a.length}),f.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),f.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),s.length>0&&f.jsxs("div",{className:"alert-section alert-critical",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:s.length}),f.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),f.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]}),o.length>0&&f.jsxs("div",{className:"alert-section alert-test",children:[f.jsxs("div",{className:"alert-section-header",children:[f.jsx("span",{className:"alert-badge",children:o.length}),f.jsx("h4",{children:"En Test por ms de 3 das"})]}),f.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>f.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[f.jsx("span",{className:"alert-item-name",children:u.name}),f.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),f.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&f.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]})]})}function QD(){return f.jsxs("div",{className:"logo-container",children:[f.jsx("div",{className:"logo-icon",children:f.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),f.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),f.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),f.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),f.jsxs("g",{transform:"translate(30, 30)",children:[f.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),f.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),f.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),f.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),f.jsx("div",{className:"logo-text",children:f.jsx("h1",{children:"IncidentAlert"})})]})}function _te({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n}){const[i,a]=x.useState(""),[s,o]=x.useState(""),[l,u]=x.useState(!1),c=m=>{window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,m)},d=m=>{m.preventDefault(),i.trim()&&s.trim()&&(r(e,s.trim(),i.trim()),a(""),o(""),u(!1))},p=[...t].sort((m,g)=>new Date(g.createdAt).getTime()-new Date(m.createdAt).getTime());return f.jsxs(f.Fragment,{children:[l&&Bn.createPortal(f.jsx("div",{className:"comment-modal-overlay",onClick:()=>u(!1),children:f.jsxs("div",{className:"comment-modal",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:" Nuevo Comentario"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>u(!1),children:""})]}),f.jsxs("form",{className:"comment-form-modal",onSubmit:d,children:[f.jsxs("div",{className:"form-group-modal",children:[f.jsx("label",{htmlFor:"author",children:"Tu nombre"}),f.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:s,onChange:m=>o(m.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),f.jsxs("div",{className:"form-group-modal",children:[f.jsx("label",{htmlFor:"comment",children:"Comentario"}),f.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:i,onChange:m=>a(m.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:()=>u(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-submit-modal",children:" Publicar Comentario"})]})]})]})}),document.body),f.jsxs("div",{className:"comments-section",children:[f.jsxs("div",{className:"comments-header",children:[f.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),f.jsx("button",{className:"btn-add-comment",onClick:()=>u(!0),children:"+ Aadir Comentario"})]}),f.jsx("div",{className:"comments-list",children:p.length===0?f.jsxs("div",{className:"no-comments",children:[f.jsx("span",{className:"no-comments-icon",children:""}),f.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):p.map(m=>f.jsxs("div",{className:"comment-item",children:[f.jsxs("div",{className:"comment-header",children:[f.jsxs("div",{className:"comment-author",children:[f.jsx("span",{className:"author-icon",children:""}),f.jsx("strong",{children:m.author})]}),f.jsxs("div",{className:"comment-header-right",children:[f.jsx("span",{className:"comment-date",children:new Date(m.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),f.jsx("button",{className:"btn-delete-comment",onClick:()=>c(m.id),title:"Eliminar comentario",children:""})]})]}),f.jsx("div",{className:"comment-text",children:m.text})]},m.id))})]})]})}function bte({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[s,o]=x.useState(!1),[l,u]=x.useState(""),[c,d]=x.useState(!1),[p,m]=x.useState({show:!1,tag:null}),g=E=>{E.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),o(!1),d(!1))},w=E=>{n(e,E),d(!1)},v=E=>{m({show:!0,tag:E})},_=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),d(!1))};c&&r.filter(E=>!t.includes(E));const b=r;return f.jsxs("div",{className:"tags-manager",children:[f.jsxs("div",{className:"tags-header",children:[f.jsx("h4",{children:" Etiquetas"}),f.jsx("div",{className:"tags-actions",children:!s&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn-add-tag",onClick:()=>o(!0),children:"+ Nueva"}),b.length>0&&f.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",b),d(!c)},children:" Gestionar"})]})})]}),s&&f.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[f.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:E=>u(E.target.value),autoFocus:!0,className:"tag-input"}),f.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),f.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{o(!1),u("")},children:""})]}),c&&b.length>0&&f.jsxs("div",{className:"tag-suggestions",children:[f.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),f.jsx("div",{className:"suggestions-list",children:b.map(E=>f.jsxs("div",{className:"suggestion-item",children:[!t.includes(E)&&f.jsxs("button",{className:"suggestion-tag",onClick:()=>w(E),children:["+ ",E]}),t.includes(E)&&f.jsxs("span",{className:"tag-already-added",children:[" ",E]}),a&&f.jsx("button",{className:"btn-delete-global-tag",onClick:()=>v(E),title:"Eliminar etiqueta del sistema",children:""})]},E))})]}),p.show&&f.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:f.jsxs("div",{className:"delete-modal",onClick:E=>E.stopPropagation(),children:[f.jsx("div",{className:"delete-modal-header",children:f.jsx("h3",{children:" Eliminar Etiqueta"})}),f.jsxs("div",{className:"delete-modal-body",children:[f.jsxs("p",{children:["Eliminar la etiqueta ",f.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),f.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),f.jsxs("div",{className:"delete-modal-actions",children:[f.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),f.jsx("button",{className:"btn-confirm-delete",onClick:_,children:" Eliminar"})]})]})}),f.jsx("div",{className:"tags-list",children:t.length===0?f.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):f.jsx("div",{className:"tags-container",children:t.map(E=>f.jsxs("div",{className:"tag-item",children:[f.jsx("span",{className:"tag-name",children:E}),f.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,E),title:"Eliminar etiqueta",children:""})]},E))})})]})}function Ete({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=x.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},o=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const _=p.querySelector("tr");_&&(_.style.background="#fbbf24"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#000",E.style.backgroundColor="#fbbf24"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const w=document.createRange();w.selectNodeContents(u);const v=window.getSelection();v&&(v.removeAllRanges(),v.addRange(w),document.execCommand("copy"),v.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[n&&Bn.createPortal(f.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:f.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"qa-modal-header",children:[f.jsx("h2",{children:" Vista Tabla QA"}),f.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),f.jsxs("div",{className:"qa-modal-body",children:[f.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),f.jsx("div",{className:"qa-table-container",children:f.jsxs("table",{className:"qa-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Priority"}),f.jsx("th",{children:"KP/MOV"}),f.jsx("th",{children:"Date"}),f.jsx("th",{children:"PR"}),f.jsx("th",{children:"Owner"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{}),f.jsx("td",{children:e}),f.jsx("td",{children:s()}),f.jsx("td",{children:a(l.link)}),f.jsx("td",{children:r})]},l.id))})]})}),f.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),f.jsxs("div",{className:"qa-modal-actions",children:[f.jsx("button",{className:"btn-copy-qa",onClick:o,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function Ste({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=x.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),d=l.getFullYear();return`${u}/${c}/${d}`},o=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const d=l.cloneNode(!0);d.style.width="100%",d.style.borderCollapse="collapse",d.style.fontSize="0.85rem",d.style.background="white",d.style.marginBottom="1rem";const p=d.querySelector("thead");if(p){const _=p.querySelector("tr");_&&(_.style.background="#10b981"),p.querySelectorAll("th").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.fontWeight="700",E.style.color="#fff",E.style.backgroundColor="#10b981"})}const m=d.querySelector("tbody");m&&m.querySelectorAll("td").forEach(b=>{b.style.padding="0.75rem 0.5rem",b.style.border="1px solid #e5e7eb",b.style.color="#333",b.style.fontWeight="500",b.style.backgroundColor="white"}),u.appendChild(d);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const w=document.createRange();w.selectNodeContents(u);const v=window.getSelection();v&&(v.removeAllRanges(),v.addRange(w),document.execCommand("copy"),v.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[n&&Bn.createPortal(f.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:f.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"main-modal-header",children:[f.jsx("h2",{children:" Vista Tabla MAIN"}),f.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),f.jsxs("div",{className:"main-modal-body",children:[f.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),f.jsx("div",{className:"main-table-container",children:f.jsxs("table",{className:"main-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Priority"}),f.jsx("th",{children:"KP/MOV"}),f.jsx("th",{children:"Date"}),f.jsx("th",{children:"PR"}),f.jsx("th",{children:"Persona de Contacto"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{}),f.jsx("td",{children:e}),f.jsx("td",{children:s()}),f.jsx("td",{children:a(l.link)}),f.jsx("td",{children:r})]},l.id))})]})}),f.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),f.jsxs("div",{className:"main-modal-actions",children:[f.jsx("button",{className:"btn-copy-main",onClick:o,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const Ate=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:s,onUpdatePR:o})=>{const[l,u]=x.useState(!1),[c,d]=x.useState(!1),[p,m]=x.useState(null),[g,w]=x.useState(null),v=O=>{O.preventDefault();const S=new FormData(O.currentTarget),A=S.get("link").trim(),j=S.get("description").trim();A&&(p&&p.type==="qa2"?(o(e,"qa2",p.pr.id,A,j),m(null),w({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",A,j),w({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),O.currentTarget.reset(),setTimeout(()=>w(null),3e3))},_=O=>{O.preventDefault();const S=new FormData(O.currentTarget),A=S.get("link").trim(),j=S.get("description").trim();A&&(p&&p.type==="main"?(o(e,"main",p.pr.id,A,j),m(null),w({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",A,j),w({type:"success",message:" PR MAIN agregado correctamente"})),d(!1),O.currentTarget.reset(),setTimeout(()=>w(null),3e3))},b=(O,S)=>{m({pr:O,type:S}),S==="qa2"?u(!0):d(!0)},E=O=>{m(null),O==="qa2"?u(!1):d(!1)},I=(O,S,A)=>{O.stopPropagation(),s(e,S,A),w({type:"error",message:` PR ${S==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>w(null),3e3)},T=O=>{const S=O.split("/");return S[S.length-1]||O};return f.jsxs(f.Fragment,{children:[g&&f.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[f.jsx("span",{children:g.message}),f.jsx("button",{className:"pr-notification-close",onClick:()=>w(null),children:""})]}),l&&Bn.createPortal(f.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("qa2"),children:f.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>E("qa2"),children:""})]}),f.jsxs("form",{className:"pr-form-modal",onSubmit:v,children:[f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),f.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),f.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&f.jsx(Ete,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Bn.createPortal(f.jsx("div",{className:"pr-modal-overlay",onClick:()=>E("main"),children:f.jsxs("div",{className:"pr-modal",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),f.jsx("button",{className:"btn-close-modal",onClick:()=>E("main"),children:""})]}),f.jsxs("form",{className:"pr-form-modal",onSubmit:_,children:[f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),f.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),f.jsxs("div",{className:"form-field",children:[f.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),f.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&f.jsx(Ste,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),f.jsxs("div",{className:"pr-manager",children:[f.jsxs("div",{className:"pr-section",children:[f.jsxs("div",{className:"pr-section-header",children:[f.jsx("h3",{children:" PRs QA2"}),f.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),f.jsx("div",{className:"pr-list",children:r.length===0?f.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(O=>f.jsxs("div",{className:"pr-item",onClick:()=>b(O,"qa2"),children:[f.jsxs("div",{className:"pr-content",children:[f.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",T(O.link)]}),f.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),f.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"qa2",O.id),title:"Eliminar PR",children:""})]},O.id))})]}),f.jsxs("div",{className:"pr-section",children:[f.jsxs("div",{className:"pr-section-header",children:[f.jsx("h3",{children:" PRs MAIN"}),f.jsx("button",{className:"btn-add-pr",onClick:()=>d(!0),children:"+ Agregar PR"})]}),f.jsx("div",{className:"pr-list",children:n.length===0?f.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(O=>f.jsxs("div",{className:"pr-item",onClick:()=>b(O,"main"),children:[f.jsxs("div",{className:"pr-content",children:[f.jsxs("a",{href:O.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:S=>S.stopPropagation(),children:[" PR ",T(O.link)]}),f.jsx("span",{className:"pr-date",children:new Date(O.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),f.jsx("button",{className:"btn-remove-pr",onClick:S=>I(S,"main",O.id),title:"Eliminar PR",children:""})]},O.id))})]})]})]})};function Pte({incident:e,currentUser:t}){const[r,n]=x.useState(!1),[i,a]=x.useState(""),s=u=>!u||u.length===0?"-":u.map(c=>{const d=c.link.split("/");return d[d.length-1]||c.link}).join(", "),o=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),d=document.createElement("p");d.textContent="Buenas, os envo una PR para su subida a PRO",d.style.marginBottom="1rem",c.appendChild(d);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(O=>{O.style.padding="0.75rem 0.5rem",O.style.border="1px solid #e5e7eb",O.style.fontWeight="700",O.style.color="#000",O.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(T=>{T.style.padding="0.75rem 0.5rem",T.style.border="1px solid #e5e7eb",T.style.color="#333",T.style.fontWeight="500",T.style.backgroundColor="white"});const w=p.querySelector('input[type="date"]');if(w){const I=w.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const v=p.querySelector("textarea");if(v){const I=v.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}c.appendChild(p);const _=document.createElement("p");_.textContent="Un saludo, Gracias!",c.appendChild(_),document.body.appendChild(c);const b=document.createRange();b.selectNodeContents(c);const E=window.getSelection();E&&(E.removeAllRanges(),E.addRange(b),document.execCommand("copy"),E.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return f.jsxs(f.Fragment,{children:[r&&Bn.createPortal(f.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:f.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"excel-modal-header",children:[f.jsx("h2",{children:" Vista Previa Excel"}),f.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),f.jsxs("div",{className:"excel-modal-body",children:[f.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),f.jsx("div",{className:"excel-table-container",children:f.jsxs("table",{className:"excel-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"INCIDENCIA/S"}),f.jsx("th",{children:"Estado peticin Incidencias"}),f.jsx("th",{children:"DIA DESPLIEGUE"}),f.jsx("th",{children:"PERSONA CONTACTO"}),f.jsx("th",{children:"DESCRIPCIN"}),f.jsx("th",{children:"DEPENDENCIAS"}),f.jsx("th",{children:"PR PRO"}),f.jsx("th",{children:"PR QA"}),f.jsx("th",{children:"Desplegado"}),f.jsx("th",{children:"PUESTO EXCEL QA"}),f.jsx("th",{children:"TIPO MOV"}),f.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),f.jsx("tbody",{children:f.jsxs("tr",{children:[f.jsx("td",{children:e.name}),f.jsx("td",{children:"Verificado en Test"}),f.jsx("td",{children:f.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),f.jsx("td",{children:t}),f.jsx("td",{children:f.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),f.jsx("td",{children:"NO"}),f.jsx("td",{children:s(e.prMainList)}),f.jsx("td",{children:s(e.prQA2List)}),f.jsx("td",{children:"NO"}),f.jsx("td",{}),f.jsx("td",{children:o(e.type)}),f.jsx("td",{children:"-"})]})})]})}),f.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),f.jsxs("div",{className:"excel-modal-actions",children:[f.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),f.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),f.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const Tte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onDeleteComment:i,onDelete:a,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l,allAvailableTags:u,onAddPR:c,onRemovePR:d,onUpdatePR:p})=>{const[m,g]=x.useState(e.status),[w,v]=x.useState(e.priority),[_,b]=x.useState(e.type),I=(()=>{const A=yr.getUsers().find(j=>j.id===e.userId);return A?A.name:e.contactUser||"Usuario"})(),T=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${e.name}"? Esta accin no se puede deshacer.`)&&(a(e.id),r())},O=S=>{S.preventDefault();const A=new FormData(S.currentTarget),j={...e,name:(A.get("name")||"").trim(),title:(A.get("title")||"").trim(),description:(A.get("description")||"").trim(),contactUser:(A.get("contactUser")||"").trim(),prQA2:(A.get("prQA2")||"").trim(),prMain:(A.get("prMain")||"").trim(),creationDate:A.get("creationDate")||e.creationDate,relevante:(A.get("relevante")||"").trim(),realizado:(A.get("realizado")||"").trim(),clasesModificadas:(A.get("clasesModificadas")||"").trim(),priority:w,status:m,type:_,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",j),t(j)};return f.jsx("div",{className:"incident-detail-container",children:f.jsxs("div",{className:"incident-detail-layout",children:[f.jsx("div",{className:"detail-main-content",children:f.jsxs("div",{className:"incident-detail-card",children:[f.jsxs("div",{className:"incident-header-visual",children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),f.jsx("h1",{children:e.name})]}),f.jsx(Pte,{incident:e,currentUser:I})]}),f.jsxs("div",{className:"incident-badges",children:[f.jsxs("span",{className:`badge-status status-${e.status}`,children:[e.status==="abierta"&&"",e.status==="en-progreso"&&"",e.status==="puesto-en-test"&&"",e.status==="verificado-en-test"&&"",e.status==="resuelta"&&"",e.status==="cerrada"&&""," ",e.status.replace("-"," ")]}),f.jsxs("span",{className:`badge-priority priority-${e.priority}`,children:[e.priority==="baja"&&"",e.priority==="media"&&"",e.priority==="alta"&&"",e.priority==="crtica"&&""," ",e.priority]}),f.jsxs("span",{className:`badge-type type-${e.type}`,children:[e.type==="correctivo"&&"",e.type==="evolutivo"&&"",e.type==="tarea"&&""," ",e.type]})]})]}),f.jsxs("form",{onSubmit:O,className:"detail-form",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h2",{children:" Editar Informacin"}),f.jsxs("div",{className:"visual-field-group",children:[f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),f.jsx("input",{id:"name",name:"name",type:"text",defaultValue:e.name,placeholder:"MOV-XXXX",required:!0})]}),f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),f.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:e.contactUser||"",placeholder:"Nombre del contacto"})]}),f.jsxs("div",{className:"visual-field",children:[f.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),f.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:e.creationDate})]})]}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"title",children:" Ttulo"}),f.jsx("input",{id:"title",name:"title",type:"text",defaultValue:e.title||"",placeholder:"Ttulo para envo a PRO"})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"description",children:" Descripcin"}),f.jsx("textarea",{id:"description",name:"description",defaultValue:e.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"relevante",children:" Relevante"}),f.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:e.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"realizado",children:" Realizado"}),f.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:e.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),f.jsx("div",{className:"visual-field-group",children:f.jsxs("div",{className:"visual-field visual-field-full",children:[f.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),f.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:e.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h2",{children:" Estado y Clasificacin"}),f.jsxs("div",{className:"chip-selector-container",children:[f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Estado"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="abierta"?"selected":""}`,onClick:()=>g("abierta"),children:" Abierta"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="en-progreso"?"selected":""}`,onClick:()=>g("en-progreso"),children:" En Progreso"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="puesto-en-test"?"selected":""}`,onClick:()=>g("puesto-en-test"),children:" En Test"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="verificado-en-test"?"selected":""}`,onClick:()=>g("verificado-en-test"),children:" Verificado"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="resuelta"?"selected":""}`,onClick:()=>g("resuelta"),children:" Resuelta"}),f.jsx("button",{type:"button",className:`chip-option status-chip ${m==="cerrada"?"selected":""}`,onClick:()=>g("cerrada"),children:" Cerrada"})]})]}),f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Prioridad"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${w==="baja"?"selected":""}`,onClick:()=>v("baja"),children:" Baja"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${w==="media"?"selected":""}`,onClick:()=>v("media"),children:" Media"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${w==="alta"?"selected":""}`,onClick:()=>v("alta"),children:" Alta"}),f.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${w==="crtica"?"selected":""}`,onClick:()=>v("crtica"),children:" Crtica"})]})]}),f.jsxs("div",{className:"chip-field",children:[f.jsx("label",{children:"Tipo"}),f.jsxs("div",{className:"chip-options",children:[f.jsx("button",{type:"button",className:`chip-option type-chip ${_==="correctivo"?"selected":""}`,onClick:()=>b("correctivo"),children:" Correctivo"}),f.jsx("button",{type:"button",className:`chip-option type-chip ${_==="evolutivo"?"selected":""}`,onClick:()=>b("evolutivo"),children:" Evolutivo"}),f.jsx("button",{type:"button",className:`chip-option type-chip ${_==="tarea"?"selected":""}`,onClick:()=>b("tarea"),children:" Tarea"})]})]})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),f.jsx("button",{type:"button",className:"btn-delete-incident",onClick:T,children:" Eliminar Incidencia"})]})]})]})}),f.jsxs("div",{className:"detail-sidebar",children:[f.jsx("div",{className:"incident-detail-card",children:f.jsx(Ate,{incidentId:e.id,incidentName:e.name,prQA2List:e.prQA2List||[],prMainList:e.prMainList||[],ownerName:I,onAddPR:c,onRemovePR:d,onUpdatePR:p})}),f.jsx("div",{className:"incident-detail-card",children:f.jsx(bte,{incidentId:e.id,tags:e.tags||[],allAvailableTags:u,onAddTag:s,onRemoveTag:o,onDeleteTagGlobally:l})}),f.jsx("div",{className:"incident-detail-card",children:f.jsx(_te,{incidentId:e.id,comments:e.comments||[],onAddComment:n,onDeleteComment:i})})]})]})})},Cte=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>f.jsxs("div",{className:"tabs-container",children:[f.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),f.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),f.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),f.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(s=>f.jsxs("div",{className:`tab-incident ${n===s.id?"active":""}`,onClick:()=>i==null?void 0:i(s.id),children:[f.jsxs("span",{className:"tab-incident-name",children:[" ",s.name]}),f.jsx("button",{className:"tab-incident-close",onClick:o=>{o.stopPropagation(),a==null||a(s.id)},children:""})]},s.id))]});function Ite({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,s]=x.useState(""),[o,l]=x.useState(n?[n]:[]),[u,c]=x.useState([]),[d,p]=x.useState([]),[m,g]=x.useState([]),[w,v]=x.useState(""),[_,b]=x.useState("");x.useEffect(()=>{n&&l([n])},[n]),x.useEffect(()=>{let C=[...e];if(a.trim()){const k=a.toLowerCase();C=C.filter(N=>N.name.toLowerCase().includes(k)||N.contactUser.toLowerCase().includes(k)||N.prQA2.toLowerCase().includes(k)||N.prMain.toLowerCase().includes(k)||N.comments&&N.comments.some(Q=>Q.text.toLowerCase().includes(k)||Q.author.toLowerCase().includes(k)))}o.length>0&&(C=C.filter(k=>o.includes(k.status))),u.length>0&&(C=C.filter(k=>u.includes(k.priority))),d.length>0&&(C=C.filter(k=>d.includes(k.type))),m.length>0&&(C=C.filter(k=>m.some(N=>k.tags&&k.tags.includes(N)))),w&&(C=C.filter(k=>new Date(k.creationDate).getFullYear()>=parseInt(w))),_&&(C=C.filter(k=>new Date(k.creationDate).getFullYear()<=parseInt(_))),t(C)},[a,o,u,d,m,w,_,e,t]);const E=()=>{s(""),l([]),c([]),p([]),g([]),v(""),b(""),t(e),i&&i()},I=()=>{l([]),i&&i()},T=C=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[C]||C,O=C=>{l(k=>k.includes(C)?k.filter(N=>N!==C):[...k,C])},S=C=>{c(k=>k.includes(C)?k.filter(N=>N!==C):[...k,C])},A=C=>{p(k=>k.includes(C)?k.filter(N=>N!==C):[...k,C])},j=C=>{g(k=>k.includes(C)?k.filter(N=>N!==C):[...k,C])},D=(a?1:0)+o.length+u.length+d.length+m.length+(w?1:0)+(_?1:0);return f.jsxs("div",{className:"advanced-search",children:[n&&f.jsxs("div",{className:"status-filter-banner",children:[f.jsxs("span",{children:[" Filtrando por estado: ",f.jsx("strong",{children:T(n)})]}),f.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),f.jsx("div",{className:"search-header",children:f.jsx("h3",{children:" Bsqueda Avanzada"})}),f.jsxs("div",{className:"search-main",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:C=>s(C.target.value),className:"search-input"}),f.jsxs("button",{className:"btn-reset",onClick:E,children:[" Limpiar Filtros",D>0&&f.jsx("span",{className:"filters-badge-inline",children:D})]})]}),f.jsxs("div",{className:"filters-panel",children:[f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Estado"}),f.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(C=>f.jsxs("button",{className:`filter-chip ${o.includes(C)?"active":""}`,onClick:()=>O(C),children:[C==="abierta"&&"Abierta",C==="en-progreso"&&"En Progreso",C==="puesto-en-test"&&"Puesto en Test",C==="verificado-en-test"&&"Verificado en Test",C==="resuelta"&&"Resuelta",C==="cerrada"&&"Cerrada"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Prioridad"}),f.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(C=>f.jsxs("button",{className:`filter-chip priority-${C} ${u.includes(C)?"active":""}`,onClick:()=>S(C),children:[C==="baja"&&" Baja",C==="media"&&" Media",C==="alta"&&" Alta",C==="crtica"&&" Crtica"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Tipo"}),f.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(C=>f.jsxs("button",{className:`filter-chip ${d.includes(C)?"active":""}`,onClick:()=>A(C),children:[C==="correctivo"&&" Correctivo",C==="evolutivo"&&" Evolutivo",C==="tarea"&&" Tarea"]},C))})]}),f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:"Rango de Aos"}),f.jsxs("div",{className:"date-filters",children:[f.jsxs("div",{className:"date-input-group",children:[f.jsx("label",{children:"Desde:"}),f.jsxs("select",{value:w,onChange:C=>v(C.target.value),className:"date-input",children:[f.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(C=>new Date(C.creationDate).getFullYear()))).sort((C,k)=>C-k).map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsxs("div",{className:"date-input-group",children:[f.jsx("label",{children:"Hasta:"}),f.jsxs("select",{value:_,onChange:C=>b(C.target.value),className:"date-input",children:[f.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(C=>new Date(C.creationDate).getFullYear()))).sort((C,k)=>C-k).map(C=>f.jsx("option",{value:C,children:C},C))]})]})]})]}),r.length>0&&f.jsxs("div",{className:"filter-section",children:[f.jsx("h4",{children:" Etiquetas"}),f.jsx("div",{className:"filter-chips",children:r.map(C=>f.jsx("button",{className:`filter-chip tag-chip ${m.includes(C)?"active":""}`,onClick:()=>j(C),children:C},C))})]})]})]})}const jte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:s})=>{const[o,l]=x.useState(e||[]),[u,c]=x.useState(""),[d,p]=x.useState("asc"),[m,g]=x.useState({show:!1,incident:null});x.useEffect(()=>{l(e||[])},[e]);const w=S=>{const A=u===S&&d==="asc"?"desc":"asc";c(S),p(A);const j=[...o].sort((D,C)=>{let k=D[S],N=C[S];if((S==="creationDate"||S==="createdAt"||S==="updatedAt")&&(k=new Date(k).getTime(),N=new Date(N).getTime()),typeof k=="string"&&typeof N=="string")return A==="asc"?k.localeCompare(N):N.localeCompare(k);if(k!==void 0&&N!==void 0){if(k<N)return A==="asc"?-1:1;if(k>N)return A==="asc"?1:-1}return 0});l(j)},v=S=>u!==S?"":d==="asc"?"":"",_=S=>new Date(S).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),b=S=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[S]||S,E=S=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[S]||S,I=S=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[S]||S,T=S=>!S||!Array.isArray(S)||S.length===0?"":S.filter(A=>A&&A.link).map(A=>{const j=A.link.split("/");return j[j.length-1]||""}).filter(A=>A).join(", ")||"",O=()=>{const S=N=>{if(N==null)return"";const Q=String(N);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},j=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(N=>S(N)).join(";"),...o.map(N=>[S(N.id),S(N.name),S(b(N.status)),S(E(N.priority)),S(I(N.type)),S(N.contactUser||""),S(N.prQA2||""),S(N.prMain||""),S(N.creationDate),S(_(N.createdAt)),S(_(N.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+j],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),k=URL.createObjectURL(D);C.setAttribute("href",k),C.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return e.length===0?f.jsx("div",{className:"all-incidents-empty",children:f.jsx("p",{children:"No hay incidencias para mostrar"})}):f.jsxs("div",{className:"all-incidents-table-container",children:[f.jsx("div",{className:"search-sidebar",children:f.jsx(Ite,{incidents:e,onResults:l,allAvailableTags:ge.getAllTags(),initialStatus:a,onClearStatusFilter:s})}),f.jsxs("div",{className:"table-content",children:[f.jsxs("div",{className:"table-actions",children:[f.jsxs("p",{className:"filter-results",children:["Mostrando ",o.length," de ",e.length," incidencias"]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&f.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),f.jsx("button",{className:"btn-export-excel",onClick:O,children:" Exportar a Excel"})]})]}),f.jsx("div",{className:"table-wrapper",children:f.jsxs("table",{className:"all-incidents-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsxs("th",{onClick:()=>w("name"),className:"sortable-header col-name",children:["Nombre ",v("name")]}),f.jsxs("th",{onClick:()=>w("status"),className:"sortable-header col-status",children:["Estado ",v("status")]}),f.jsxs("th",{onClick:()=>w("priority"),className:"sortable-header col-priority",children:["Prioridad ",v("priority")]}),f.jsxs("th",{onClick:()=>w("type"),className:"sortable-header col-type",children:["Tipo ",v("type")]}),f.jsxs("th",{onClick:()=>w("contactUser"),className:"sortable-header col-contact",children:["Contacto ",v("contactUser")]}),f.jsxs("th",{onClick:()=>w("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",v("prQA2")]}),f.jsxs("th",{onClick:()=>w("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",v("prMain")]}),f.jsx("th",{className:"col-actions",children:"Acciones"})]})}),f.jsx("tbody",{children:o.map(S=>f.jsxs("tr",{className:`row-priority-${S.priority} incident-row-clickable`,onClick:()=>n(S),onMouseDown:A=>{if(A.button===1){A.preventDefault();const j=`${window.location.origin}${window.location.pathname}?incident=${S.id}`;window.open(j,"_blank")}},children:[f.jsx("td",{className:"name-cell",title:S.name,children:S.name}),f.jsx("td",{title:b(S.status),children:f.jsx("span",{className:`status-badge status-${S.status}`,children:b(S.status)})}),f.jsx("td",{title:E(S.priority),children:f.jsx("span",{className:`priority-badge priority-${S.priority}`,children:E(S.priority)})}),f.jsx("td",{title:I(S.type),children:f.jsx("span",{className:`type-badge type-${S.type}`,children:I(S.type)})}),f.jsx("td",{className:"contact-cell",title:S.contactUser||"",children:S.contactUser||""}),f.jsx("td",{className:"pr-cell",title:T(S.prQA2List),children:T(S.prQA2List)}),f.jsx("td",{className:"pr-cell",title:T(S.prMainList),children:T(S.prMainList)}),f.jsx("td",{className:"actions-cell",onClick:A=>A.stopPropagation(),children:f.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:S}),title:"Eliminar incidencia",children:""})})]},S.id))})]})})]}),m.show&&m.incident&&f.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:f.jsxs("div",{className:"delete-modal",onClick:S=>S.stopPropagation(),children:[f.jsx("div",{className:"delete-modal-header",children:f.jsx("h3",{children:" Confirmar Eliminacin"})}),f.jsxs("div",{className:"delete-modal-body",children:[f.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),f.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),f.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),f.jsxs("div",{className:"delete-modal-actions",children:[f.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),f.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function Ote({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=x.useState(!1),[s,o]=x.useState(null),[l,u]=x.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const w={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};s?(r(s.id,w),o(null)):t(w),d()},d=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var w,v,_,b,E;o(g),u({name:g.name,trigger:g.trigger,conditionField:((w=g.conditions[0])==null?void 0:w.field)||"type",conditionOperator:((v=g.conditions[0])==null?void 0:v.operator)||"equals",conditionValue:((_=g.conditions[0])==null?void 0:_.value.toString())||"",actionType:((b=g.actions[0])==null?void 0:b.type)||"set-priority",actionValue:((E=g.actions[0])==null?void 0:E.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return f.jsxs("div",{className:"automation-rules-container",children:[f.jsxs("div",{className:"rules-header",children:[f.jsxs("div",{className:"header-title",children:[f.jsx("h2",{children:" Reglas de Automatizacin"}),f.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),f.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&f.jsx("form",{className:"rule-form",onSubmit:c,children:f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:s?"Editar Regla":"Nueva Regla"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre de la regla"}),f.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Disparador"}),f.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[f.jsx("option",{value:"on-create",children:"Al crear incidencia"}),f.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),f.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),f.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"SI"})}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Campo"}),f.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[f.jsx("option",{value:"type",children:"Tipo"}),f.jsx("option",{value:"priority",children:"Prioridad"}),f.jsx("option",{value:"status",children:"Estado"}),f.jsx("option",{value:"days-open",children:"Das abierta"}),f.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Operador"}),f.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[f.jsx("option",{value:"equals",children:"Es igual a"}),f.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"greater-than",children:"Mayor que"}),f.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&f.jsx("option",{value:"contains",children:"Contiene"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor"}),l.conditionField==="type"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?f.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),f.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?f.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):f.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"ENTONCES"})}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Accin"}),f.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[f.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),f.jsx("option",{value:"set-status",children:"Cambiar estado"}),f.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),f.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?f.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?f.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"abierta",children:"Abierta"}),f.jsx("option",{value:"en-progreso",children:"En Progreso"}),f.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),f.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),f.jsx("option",{value:"resuelta",children:"Resuelta"}),f.jsx("option",{value:"cerrada",children:"Cerrada"})]}):f.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"btn-save-rule",children:s?" Actualizar Regla":" Crear Regla"}),f.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:d,children:"Cancelar"})]})]})}),f.jsx("div",{className:"rules-list",children:e.length===0?f.jsxs("div",{className:"no-rules",children:[f.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),f.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>f.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[f.jsxs("div",{className:"rule-header-card",children:[f.jsxs("div",{className:"rule-info",children:[f.jsx("h3",{children:g.name}),f.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),f.jsxs("div",{className:"rule-actions",children:[f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:g.enabled,onChange:w=>r(g.id,{enabled:w.target.checked})}),f.jsx("span",{className:"toggle-slider"})]}),f.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),f.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),f.jsxs("div",{className:"rule-logic",children:[f.jsxs("div",{className:"logic-section",children:[f.jsx("span",{className:"logic-label",children:"SI:"}),f.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((w,v)=>f.jsxs("span",{className:"condition-badge",children:[w.field," ",w.operator," ",w.value]},v))})]}),f.jsx("div",{className:"logic-arrow",children:""}),f.jsxs("div",{className:"logic-section",children:[f.jsx("span",{className:"logic-label",children:"ENTONCES:"}),f.jsx("div",{className:"logic-content",children:(g.actions||[]).map((w,v)=>f.jsxs("span",{className:"action-badge",children:[w.type,": ",w.value]},v))})]})]})]},g.id))})]})}function Nte({currentUser:e}){const[t,r]=x.useState([]),[n,i]=x.useState(!1),[a,s]=x.useState(null),[o,l]=x.useState({username:"",password:"",name:""}),[u,c]=x.useState(!1),[d,p]=x.useState(null);x.useEffect(()=>{const E=i5(I=>{console.log("Usuarios actualizados en tiempo real:",I),r(I)});return()=>{E()}},[]);const m=(E,I)=>{p({type:E,message:I}),setTimeout(()=>p(null),3e3)},g=()=>{l({username:"",password:"",name:""}),i(!1),s(null),c(!1)},w=async E=>{if(E.preventDefault(),!o.username.trim()||!o.password.trim()||!o.name.trim()){m("error","Todos los campos son obligatorios");return}try{if(await bO(o.username.toLowerCase())){m("error","Ya existe un usuario con ese nombre");return}await kf({username:o.username,password:o.password,name:o.name,createdAt:new Date().toISOString()}),m("success",`Usuario "${o.username}" creado correctamente`),g()}catch(I){console.error("Error creating user:",I),m("error",I instanceof Error?I.message:"Error al crear usuario")}},v=async E=>{if(E.preventDefault(),!!a){if(!o.username.trim()||!o.password.trim()||!o.name.trim()){m("error","Todos los campos son obligatorios");return}try{await EO(a.id,{username:o.username,password:o.password,name:o.name}),m("success",`Usuario "${o.username}" actualizado correctamente`),g()}catch(I){console.error("Error updating user:",I),m("error",I instanceof Error?I.message:"Error al actualizar usuario")}}},_=E=>{s(E),l({username:E.username,password:E.password,name:E.name}),i(!0)},b=async E=>{if(E.id===e.id){m("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${E.username}"?`))try{await X$(E.id),m("success",`Usuario "${E.username}" eliminado correctamente`)}catch(I){console.error("Error deleting user:",I),m("error",I instanceof Error?I.message:"Error al eliminar usuario")}};return f.jsxs("div",{className:"user-management",children:[f.jsxs("div",{className:"user-management-header",children:[f.jsx("h3",{children:" Gestin de Usuarios"}),!n&&f.jsx("button",{className:"btn-create-user",onClick:()=>i(!0),children:" Crear Usuario"})]}),d&&f.jsxs("div",{className:`user-notification user-notification-${d.type}`,children:[d.type==="success"?"":""," ",d.message]}),n&&f.jsx("div",{className:"user-form-container",children:f.jsxs("form",{className:"user-form",onSubmit:a?v:w,children:[f.jsx("h4",{children:a?" Editar Usuario":" Nuevo Usuario"}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"username",children:"Usuario"}),f.jsx("input",{id:"username",type:"text",value:o.username,onChange:E=>l({...o,username:E.target.value}),placeholder:"Nombre de usuario",disabled:!!a})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"name",children:"Nombre Completo"}),f.jsx("input",{id:"name",type:"text",value:o.name,onChange:E=>l({...o,name:E.target.value}),placeholder:"Nombre completo del usuario"})]}),f.jsxs("div",{className:"user-form-group",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{id:"password",type:u?"text":"password",value:o.password,onChange:E=>l({...o,password:E.target.value}),placeholder:a?"Nueva contrasea":"Contrasea"}),f.jsxs("label",{className:"show-password-toggle",children:[f.jsx("input",{type:"checkbox",checked:u,onChange:E=>c(E.target.checked)}),f.jsx("span",{children:"Mostrar contrasea"})]})]})]}),f.jsxs("div",{className:"user-form-actions",children:[f.jsx("button",{type:"submit",className:"btn-submit",style:{flex:"1 1 0",minWidth:0,width:"auto"},children:a?" Guardar Cambios":" Crear Usuario"}),f.jsx("button",{type:"button",className:"btn-cancel",onClick:g,style:{flex:"1 1 0",minWidth:0,width:"auto"},children:" Cancelar"})]})]})}),f.jsxs("div",{className:"users-list",children:[f.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),f.jsx("div",{className:"users-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Usuario"}),f.jsx("th",{children:"Nombre"}),f.jsx("th",{children:"Fecha de Creacin"}),f.jsx("th",{children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(E=>f.jsxs("tr",{className:E.id===e.id?"current-user":"",children:[f.jsx("td",{children:f.jsxs("span",{className:"user-username",children:[E.username,E.id===e.id&&f.jsx("span",{className:"badge-current",children:" (T)"})]})}),f.jsx("td",{children:E.name}),f.jsx("td",{children:new Date(E.createdAt).toLocaleDateString("es-ES")}),f.jsx("td",{children:f.jsxs("div",{className:"user-actions",children:[f.jsx("button",{className:"btn-edit",onClick:()=>_(E),title:"Editar usuario",children:""}),f.jsx("button",{className:"btn-delete",onClick:()=>b(E),disabled:E.id===e.id,title:E.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},E.id))})]})})]})]})}const n0=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function kte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=x.useState(t),a=async s=>{i(s),e(s);try{await Z$(r.id,{...r.preferences,theme:s})}catch(o){console.error("Error saving theme preference:",o)}};return f.jsxs("div",{className:"appearance-settings",children:[f.jsx("h3",{children:" Apariencia"}),f.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),f.jsx("div",{className:"theme-grid",children:n0.map(s=>f.jsxs("div",{className:`theme-card ${n===s.id?"active":""}`,onClick:()=>a(s.id),children:[f.jsx("div",{className:"theme-preview",style:{background:s.preview},children:n===s.id&&f.jsx("div",{className:"theme-check",children:""})}),f.jsx("div",{className:"theme-name",children:s.name})]},s.id))}),n!==t&&f.jsx("div",{className:"theme-info",children:f.jsx("p",{children:" Tema aplicado correctamente"})})]})}const Cs={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},Fg="app_general_settings";function Rte({onSettingsChange:e}){const[t,r]=x.useState(()=>{try{const c=localStorage.getItem(Fg);return c?{...Cs,...JSON.parse(c)}:Cs}catch(c){return console.error("Error loading settings:",c),Cs}}),[n,i]=x.useState(null),a=(c,d)=>{const p={...t,[c]:d};r(p),localStorage.setItem(Fg,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},s=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(Cs),localStorage.setItem(Fg,JSON.stringify(Cs)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},o=async()=>{try{const c=await _O(),d=await bu(),p=await kl(),m=await AO(),g={incidents:c,users:d,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},w=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),v=URL.createObjectURL(w),_=document.createElement("a");_.href=v,_.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,_.click(),URL.revokeObjectURL(v),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const d=(m=c.target.files)==null?void 0:m[0];if(!d)return;const p=new FileReader;p.onload=async g=>{var w;try{const v=JSON.parse((w=g.target)==null?void 0:w.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(v)){if(!v.every(b=>b.id&&b.name&&b.title&&b.status&&b.priority&&b.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const b of v)await ry(b)}else{if(v.incidents)for(const _ of v.incidents)await ry(_);if(v.users)for(const _ of v.users)await kf(_);if(v.automationRules)for(const _ of v.automationRules)await SO(_);v.settings&&(await PO(v.settings),r({...Cs,...v.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(v){console.error("Import error:",v),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(d)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return f.jsxs("div",{className:"general-settings",children:[n&&f.jsx("div",{className:"settings-notification",children:n}),f.jsxs("div",{className:"settings-header",children:[f.jsx("h2",{children:" Configuracin General"}),f.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),f.jsxs("div",{className:"settings-sections",children:[f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Interfaz"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),f.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),f.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[f.jsx("option",{value:"2000",children:"2 segundos"}),f.jsx("option",{value:"3000",children:"3 segundos"}),f.jsx("option",{value:"4000",children:"4 segundos"}),f.jsx("option",{value:"5000",children:"5 segundos"}),f.jsx("option",{value:"7000",children:"7 segundos"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),f.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),f.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[f.jsx("option",{value:"5",children:"5"}),f.jsx("option",{value:"10",children:"10"}),f.jsx("option",{value:"20",children:"20"}),f.jsx("option",{value:"50",children:"50"}),f.jsx("option",{value:"100",children:"100"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Vista compacta"}),f.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("label",{children:[f.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),f.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),f.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Valores por Defecto"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Formato de fecha"}),f.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),f.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[f.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),f.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),f.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),f.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),f.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[f.jsx("option",{value:"correctivo",children:"Correctivo"}),f.jsx("option",{value:"evolutivo",children:"Evolutivo"}),f.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),f.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),f.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[f.jsx("option",{value:"baja",children:"Baja"}),f.jsx("option",{value:"media",children:"Media"}),f.jsx("option",{value:"alta",children:"Alta"}),f.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Comportamiento"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Autoguardado"}),f.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),f.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[f.jsx("option",{value:"15000",children:"15 segundos"}),f.jsx("option",{value:"30000",children:"30 segundos"}),f.jsx("option",{value:"60000",children:"1 minuto"}),f.jsx("option",{value:"120000",children:"2 minutos"}),f.jsx("option",{value:"0",children:"Desactivado"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),f.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),f.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),f.jsxs("label",{className:"toggle-switch",children:[f.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),f.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),f.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),f.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[f.jsx("option",{value:"30000",children:"30 segundos"}),f.jsx("option",{value:"60000",children:"1 minuto"}),f.jsx("option",{value:"120000",children:"2 minutos"}),f.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),f.jsxs("section",{className:"settings-section",children:[f.jsx("h3",{children:" Gestin de Datos"}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Exportar datos"}),f.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),f.jsx("button",{className:"btn-export",onClick:o,children:" Exportar Todo"})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Importar datos"}),f.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),f.jsxs("label",{className:"btn-import",children:[" Importar",f.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),f.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),f.jsx("button",{className:"btn-reset",onClick:s,children:" Restaurar"})]}),f.jsxs("div",{className:"setting-item danger-zone",children:[f.jsxs("div",{children:[f.jsx("div",{className:"setting-label",children:" Zona de peligro"}),f.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),f.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function Dte({onLogin:e}){const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,s]=x.useState(!1),[o,l]=x.useState("");x.useEffect(()=>{const c=localStorage.getItem("saved_username"),d=localStorage.getItem("saved_password");c&&d&&(r(c),i(d),s(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const d=await bO(t.toLowerCase());d&&d.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(d)),e(d)):l("Usuario o contrasea incorrectos")}catch(d){console.error("Error durante login:",d),l("Error al iniciar sesin. Intenta nuevamente.")}};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:"login-card",children:[f.jsxs("div",{className:"login-header",children:[f.jsx(QD,{}),f.jsx("h1",{children:"Sistema de Incidencias"}),f.jsx("p",{children:"Inicia sesin para continuar"})]}),f.jsxs("form",{className:"login-form",onSubmit:u,children:[o&&f.jsxs("div",{className:"login-error",children:[" ",o]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{htmlFor:"username",children:"Usuario"}),f.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),f.jsxs("div",{className:"login-field",children:[f.jsx("label",{htmlFor:"password",children:"Contrasea"}),f.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),f.jsx("div",{className:"login-remember",children:f.jsxs("label",{className:"remember-checkbox",children:[f.jsx("input",{type:"checkbox",checked:a,onChange:c=>s(c.target.checked)}),f.jsx("span",{children:"Guardar credenciales"})]})}),f.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function Mte({currentUser:e,onUpdate:t}){const[r,n]=x.useState({name:e.name,email:e.email||"",password:"",confirmPassword:"",avatar:e.avatar||""}),[i,a]=x.useState(null),[s,o]=x.useState(null),[l,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e.roleId){const g=await TO(e.roleId);a(g)}})()},[e.roleId]);const c=(m,g)=>{o({type:m,message:g}),setTimeout(()=>o(null),3e3)},d=async m=>{if(m.preventDefault(),!r.name.trim()){c("error","El nombre es obligatorio");return}if(r.password&&r.password!==r.confirmPassword){c("error","Las contraseas no coinciden");return}try{const g={name:r.name,email:r.email,avatar:r.avatar};r.password&&(g.password=r.password),await EO(e.id,g),c("success","Perfil actualizado correctamente"),t(),n(w=>({...w,password:"",confirmPassword:""}))}catch(g){console.error("Error updating profile:",g),c("error","Error al actualizar el perfil")}},p=["","","","","","","","","","","",""];return f.jsxs("div",{className:"user-profile",children:[f.jsxs("div",{className:"profile-header",children:[f.jsx("h2",{children:" Mi Perfil"}),f.jsx("p",{className:"profile-description",children:"Administra tu informacin personal"})]}),s&&f.jsx("div",{className:`profile-notification profile-notification-${s.type}`,children:s.message}),f.jsxs("div",{className:"profile-content",children:[f.jsxs("div",{className:"profile-info-card",children:[f.jsx("h3",{children:"Informacin de la cuenta"}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Usuario:"}),f.jsx("span",{className:"info-value",children:e.username})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Rol:"}),f.jsx("span",{className:"info-value",children:(i==null?void 0:i.name)||"Sin rol"})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"info-label",children:"Fecha de creacin:"}),f.jsx("span",{className:"info-value",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),f.jsxs("form",{className:"profile-form",onSubmit:d,children:[f.jsx("h3",{children:"Editar informacin"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"avatar",children:"Avatar"}),f.jsx("div",{className:"avatar-selector",children:p.map(m=>f.jsx("button",{type:"button",className:`avatar-option ${r.avatar===m?"selected":""}`,onClick:()=>n({...r,avatar:m}),children:m},m))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"name",children:"Nombre completo *"}),f.jsx("input",{id:"name",type:"text",value:r.name,onChange:m=>n({...r,name:m.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",value:r.email,onChange:m=>n({...r,email:m.target.value})})]}),f.jsx("div",{className:"form-divider",children:f.jsx("h4",{children:"Cambiar contrasea (opcional)"})}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Nueva contrasea"}),f.jsxs("div",{className:"password-input",children:[f.jsx("input",{id:"password",type:l?"text":"password",value:r.password,onChange:m=>n({...r,password:m.target.value}),placeholder:"Dejar vaco para no cambiar"}),f.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!l),children:l?"":""})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),f.jsx("input",{id:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:m=>n({...r,confirmPassword:m.target.value}),placeholder:"Confirmar nueva contrasea"})]}),f.jsx("div",{className:"form-actions",children:f.jsx("button",{type:"submit",className:"btn-save",children:" Guardar cambios"})})]}),i&&f.jsxs("div",{className:"profile-permissions-card",children:[f.jsx("h3",{children:" Permisos de tu rol"}),f.jsxs("div",{className:"permissions-grid",children:[f.jsxs("div",{className:"permission-category",children:[f.jsx("h4",{children:" Incidencias"}),f.jsxs("ul",{children:[f.jsxs("li",{className:i.permissions.incidents.create?"allowed":"denied",children:[i.permissions.incidents.create?"":""," Crear"]}),f.jsxs("li",{className:i.permissions.incidents.update?"allowed":"denied",children:[i.permissions.incidents.update?"":""," Editar"]}),f.jsxs("li",{className:i.permissions.incidents.delete?"allowed":"denied",children:[i.permissions.incidents.delete?"":""," Eliminar"]}),f.jsxs("li",{className:i.permissions.incidents.viewAll?"allowed":"denied",children:[i.permissions.incidents.viewAll?"":""," Ver todas"]})]})]}),f.jsxs("div",{className:"permission-category",children:[f.jsx("h4",{children:" Usuarios"}),f.jsxs("ul",{children:[f.jsxs("li",{className:i.permissions.users.viewOwn?"allowed":"denied",children:[i.permissions.users.viewOwn?"":""," Ver propio"]}),f.jsxs("li",{className:i.permissions.users.editOwn?"allowed":"denied",children:[i.permissions.users.editOwn?"":""," Editar propio"]}),f.jsxs("li",{className:i.permissions.users.viewAll?"allowed":"denied",children:[i.permissions.users.viewAll?"":""," Ver todos"]}),f.jsxs("li",{className:i.permissions.users.edit?"allowed":"denied",children:[i.permissions.users.edit?"":""," Editar otros"]})]})]})]})]})]})]})}const Lte=({currentUser:e})=>{const[t,r]=x.useState([]),[n,i]=x.useState(""),[a,s]=x.useState(!1),[o,l]=x.useState(null),[u,c]=x.useState(null),[d,p]=x.useState({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}});x.useEffect(()=>{const T=l5(O=>{r(O)});return()=>T()},[]);const m=(T,O)=>{c({type:T,message:O}),setTimeout(()=>c(null),5e3)},g=T=>{T?(l(T),p({name:T.name,permissions:{...T.permissions}})):(l(null),p({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}})),s(!0)},w=()=>{s(!1),l(null)},v=(T,O,S)=>{p(A=>({...A,permissions:{...A.permissions,[T]:{...A.permissions[T],[O]:S}}}))},_=async T=>{if(T.preventDefault(),!d.name.trim()){m("error","El nombre del rol es obligatorio");return}try{o?(await s5(o.id,{name:d.name,permissions:d.permissions}),m("success","Rol actualizado correctamente")):(await Fd({name:d.name,permissions:d.permissions,isSystem:!1,createdAt:new Date().toISOString()}),m("success","Rol creado correctamente")),w()}catch(O){console.error("Error al guardar rol:",O),m("error","Error al guardar el rol")}},b=async T=>{if(T.isSystem){m("error","No se pueden eliminar roles del sistema");return}if(window.confirm(`Ests seguro de que deseas eliminar el rol "${T.name}"?`))try{await o5(T.id),m("success","Rol eliminado correctamente")}catch(O){console.error("Error al eliminar rol:",O),m("error","Error al eliminar el rol")}},E=t.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())),I=T=>{const O=[];return T.incidents.create&&T.incidents.update&&T.incidents.delete?O.push("Incidencias: Completo"):T.incidents.read&&O.push("Incidencias: Lectura"),T.users.viewAll&&T.users.create&&T.users.edit&&T.users.delete?O.push("Usuarios: Completo"):T.users.viewOwn&&O.push("Usuarios: Propio"),T.roles.create&&T.roles.edit&&T.roles.delete&&O.push("Roles: Completo"),T.settings.edit?O.push("Configuracin: Edicin"):T.settings.view&&O.push("Configuracin: Vista"),T.automation.create&&T.automation.edit&&T.automation.delete&&O.push("Automatizacin: Completo"),O.join("  ")||"Sin permisos especiales"};return f.jsxs("div",{className:"role-management",children:[f.jsxs("div",{className:"role-header",children:[f.jsxs("div",{children:[f.jsx("h2",{children:"Gestin de Roles"}),f.jsx("p",{className:"role-description",children:"Crea y administra roles con permisos personalizados"})]}),f.jsx("button",{className:"btn-create-role",onClick:()=>g(),children:"+ Crear Rol"})]}),u&&f.jsx("div",{className:`role-notification role-notification-${u.type}`,children:u.message}),f.jsx("div",{className:"role-search",children:f.jsx("input",{type:"text",placeholder:"Buscar roles...",value:n,onChange:T=>i(T.target.value),className:"search-input"})}),f.jsx("div",{className:"roles-grid",children:E.map(T=>f.jsxs("div",{className:"role-card",children:[f.jsxs("div",{className:"role-card-header",children:[f.jsx("h3",{children:T.name}),T.isSystem&&f.jsx("span",{className:"system-badge",children:"Sistema"})]}),f.jsx("p",{className:"role-summary",children:I(T.permissions)}),f.jsxs("div",{className:"role-card-actions",children:[f.jsx("button",{className:"btn-edit",onClick:()=>g(T),disabled:T.isSystem,children:"Editar"}),f.jsx("button",{className:"btn-delete",onClick:()=>b(T),disabled:T.isSystem,children:"Eliminar"})]})]},T.id))}),a&&f.jsx("div",{className:"modal-overlay",onClick:w,children:f.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:o?"Editar Rol":"Crear Rol"}),f.jsx("button",{className:"modal-close",onClick:w,children:""})]}),f.jsxs("form",{onSubmit:_,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nombre del Rol *"}),f.jsx("input",{type:"text",value:d.name,onChange:T=>p({...d,name:T.target.value}),placeholder:"Ej: Editor, Supervisor, etc.",required:!0})]}),f.jsxs("div",{className:"permissions-section",children:[f.jsx("h3",{children:"Permisos"}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Incidencias"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.create,onChange:T=>v("incidents","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.read,onChange:T=>v("incidents","read",T.target.checked)}),"Leer"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.update,onChange:T=>v("incidents","update",T.target.checked)}),"Actualizar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.delete,onChange:T=>v("incidents","delete",T.target.checked)}),"Eliminar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.incidents.viewAll,onChange:T=>v("incidents","viewAll",T.target.checked)}),"Ver Todas"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Usuarios"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.viewOwn,onChange:T=>v("users","viewOwn",T.target.checked)}),"Ver Propio"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.editOwn,onChange:T=>v("users","editOwn",T.target.checked)}),"Editar Propio"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.viewAll,onChange:T=>v("users","viewAll",T.target.checked)}),"Ver Todos"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.create,onChange:T=>v("users","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.edit,onChange:T=>v("users","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.users.delete,onChange:T=>v("users","delete",T.target.checked)}),"Eliminar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Roles"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.view,onChange:T=>v("roles","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.create,onChange:T=>v("roles","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.edit,onChange:T=>v("roles","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.roles.delete,onChange:T=>v("roles","delete",T.target.checked)}),"Eliminar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Configuracin"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.settings.view,onChange:T=>v("settings","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.settings.edit,onChange:T=>v("settings","edit",T.target.checked)}),"Editar"]})]})]}),f.jsxs("div",{className:"permission-group",children:[f.jsx("h4",{children:" Automatizacin"}),f.jsxs("div",{className:"permission-checks",children:[f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.view,onChange:T=>v("automation","view",T.target.checked)}),"Ver"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.create,onChange:T=>v("automation","create",T.target.checked)}),"Crear"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.edit,onChange:T=>v("automation","edit",T.target.checked)}),"Editar"]}),f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:d.permissions.automation.delete,onChange:T=>v("automation","delete",T.target.checked)}),"Eliminar"]})]})]})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{type:"button",className:"btn-cancel",onClick:w,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-save",children:o?"Guardar Cambios":"Crear Rol"})]})]})]})})]})};function Vte(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[i,a]=x.useState([]),[s,o]=x.useState([]),[l,u]=x.useState(null),[c,d]=x.useState(null),[p,m]=x.useState("dashboard"),[g,w]=x.useState("profile"),[v,_]=x.useState(null),[b,E]=x.useState("purple-gradient"),[I,T]=x.useState([]),[O,S]=x.useState(null),[A,j]=x.useState(!1),[D,C]=x.useState(!1),k=e?i.filter(z=>z.userId===e.id):[],N=z=>{try{console.log("Changing tab to:",z),j(!0),setTimeout(()=>{m(z),j(!1)},100)}catch(H){console.error("Error changing tab:",H),j(!1)}},Q=z=>{j(!0),setTimeout(()=>{I.find(H=>H.id===z.id)||T([...I,z]),_(z),m("incident-detail"),j(!1)},100)};x.useEffect(()=>{(async()=>{try{await u5();const Z=yr.getCurrentUser();if(t(Z),Z){const ht=await J$(Z.id);ht.theme&&E(ht.theme)}const ce=await kl();o(ce);const we=new URLSearchParams(window.location.search).get("incident");if(we){const ht=await Da(we);ht&&(_(ht),m("incident-detail"))}}catch(Z){console.error("Error loading data:",Z),S({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const H=n5(Z=>{console.log("Incidencias actualizadas en tiempo real:",Z),a(Z),_(ce=>ce&&(Z.find(we=>we.id===ce.id)||ce)),T(ce=>ce.map(he=>Z.find(ht=>ht.id===he.id)||he))});return()=>{H()}},[]),x.useEffect(()=>{(async()=>{if(e!=null&&e.roleId)try{const H=await TO(e.roleId);n(H)}catch(H){console.error("Error loading user role:",H)}else n(null)})()},[e]),x.useEffect(()=>{if(O){const z=setTimeout(()=>{S(null)},4e3);return()=>clearTimeout(z)}},[O]);const se=async z=>{try{const H={...z,userId:e.id},Z=ge.applyAutomationRules(H,"on-create");await ry(Z),S({type:"success",message:` Incidencia "${z.name}" creada correctamente`,incidentId:z.id})}catch(H){console.error("Error adding incident:",H),S({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},de=async z=>{console.log("handleUpdateIncident llamado con:",z);try{await fn(z.id,z),u(null),console.log("Mostrando notificacin"),S({type:"success",message:` Incidencia "${z.name}" actualizada correctamente`,incidentId:z.id})}catch(H){console.error("Error updating incident:",H),S({type:"error",message:"Error al actualizar la incidencia."})}},oe=async z=>{try{await Y$(z),T(I.filter(H=>H.id!==z)),(v==null?void 0:v.id)===z&&(_(null),m("all-incidents"))}catch(H){console.error("Error deleting incident:",H),S({type:"error",message:"Error al eliminar la incidencia."})}},U=z=>{const H=I.find(Z=>Z.id===z);H&&(_(H),m("incident-detail"))},K=z=>{T(I.filter(H=>H.id!==z)),(v==null?void 0:v.id)===z&&(_(null),m("all-incidents"))},ne=async(z,H,Z)=>{try{const ce={incidentId:z,author:H,text:Z,timestamp:new Date().toISOString()};await e5(ce)}catch(ce){console.error("Error adding comment:",ce)}},me=(z,H)=>{const Z=ge.deleteComment(z,H);if(a(Z),v&&v.id===z){const ce=Z.find(he=>he.id===z);ce&&_(ce)}},be=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=Z.tags||[];ce.includes(H)||await fn(z,{tags:[...ce,H]})}catch(Z){console.error("Error adding tag:",Z)}},_t=async(z,H)=>{try{const Z=await Da(z);if(!Z)return;const ce=(Z.tags||[]).filter(he=>he!==H);await fn(z,{tags:ce})}catch(Z){console.error("Error removing tag:",Z)}},ke=()=>{const z=new Set;return i.forEach(H=>{var Z;(Z=H.tags)==null||Z.forEach(ce=>z.add(ce))}),Array.from(z)},qt=async z=>{var H;try{const Z=await _O();for(const ce of Z)if((H=ce.tags)!=null&&H.includes(z)){const he=ce.tags.filter(we=>we!==z);await fn(ce.id,{tags:he})}S({type:"success",message:` Etiqueta "${z}" eliminada de todas las incidencias`})}catch(Z){console.error("Error deleting tag globally:",Z)}},bt=async(z,H,Z,ce)=>{try{const he=await Da(z);if(!he)return;const we={id:`pr_${Date.now()}`,link:Z,description:ce,createdAt:new Date().toISOString()};if(H==="qa2"){const ht=[...he.prQA2List||[],we];await fn(z,{prQA2List:ht})}else{const ht=[...he.prMainList||[],we];await fn(z,{prMainList:ht})}}catch(he){console.error("Error adding PR:",he)}},ze=async(z,H,Z)=>{try{const ce=await Da(z);if(!ce)return;if(H==="qa2"){const he=(ce.prQA2List||[]).filter(we=>we.id!==Z);await fn(z,{prQA2List:he})}else{const he=(ce.prMainList||[]).filter(we=>we.id!==Z);await fn(z,{prMainList:he})}}catch(ce){console.error("Error removing PR:",ce)}},Qn=async(z,H,Z,ce,he)=>{try{const we=await Da(z);if(!we)return;if(H==="qa2"){const ht=(we.prQA2List||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prQA2List:ht})}else{const ht=(we.prMainList||[]).map(Yn=>Yn.id===Z?{...Yn,link:ce,description:he}:Yn);await fn(z,{prMainList:ht})}}catch(we){console.error("Error updating PR:",we)}},B=async z=>{try{const H={...z,createdAt:new Date().toISOString()};await SO(H);const Z=await kl();o(Z)}catch(H){console.error("Error adding automation rule:",H)}},fe=async(z,H)=>{try{await t5(z,H);const Z=await kl();o(Z)}catch(Z){console.error("Error updating automation rule:",Z)}},ye=async z=>{try{await r5(z);const H=await kl();o(H)}catch(H){console.error("Error deleting automation rule:",H)}},q=z=>{E(z),localStorage.setItem("app_theme",z);const H=n0.find(Z=>Z.id===z);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};x.useEffect(()=>{const z=n0.find(H=>H.id===b);z&&document.documentElement.style.setProperty("--app-background",z.gradient)},[b]);const ft=z=>{t(z)},Ce=()=>{yr.logout(),t(null),_(null),T([]),m("dashboard")};return e?f.jsxs("div",{className:"app-container",children:[f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"app-header-content",children:f.jsx(QD,{})}),f.jsxs("div",{className:"app-header-actions",children:[f.jsxs("div",{className:"user-info",children:[f.jsxs("span",{className:"user-name",children:[" ",e.name]}),f.jsx("button",{className:"btn-logout",onClick:Ce,title:"Cerrar sesin",children:" Salir"})]}),f.jsxs("div",{className:"app-header-badge",onClick:()=>C(!D),children:[f.jsx("span",{className:"badge-icon",children:""}),f.jsx("span",{className:"badge-text",children:"Alertas"}),k.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length>0&&f.jsx("span",{className:"alerts-count",children:k.filter(z=>z.priority==="crtica"&&z.status!=="resuelta"&&z.status!=="cerrada").length})]}),f.jsxs("div",{className:"app-header-badge",onClick:()=>N("settings"),children:[f.jsx("span",{className:"badge-icon",children:""}),f.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),O&&f.jsxs("div",{className:`notification-banner notification-${O.type}`,children:[f.jsx("span",{children:O.message}),f.jsxs("div",{className:"notification-actions",children:[O.type==="success"&&O.incidentId&&f.jsx("button",{className:"notification-view",onClick:()=>{const z=k.find(H=>H.id===O.incidentId);z&&(_(z),m("incident-detail")),S(null)},"aria-label":"Ver incidencia",children:" Ver"}),f.jsx("button",{className:"notification-close",onClick:()=>S(null),"aria-label":"Cerrar notificacin",children:""})]})]}),f.jsx(Cte,{activeTab:p,onTabChange:N,openIncidents:I.map(z=>({id:z.id,name:z.name})),selectedIncidentId:v==null?void 0:v.id,onSelectIncident:U,onCloseIncident:K}),D&&f.jsx("div",{className:"alerts-modal",children:f.jsxs("div",{className:"alerts-modal-content",children:[f.jsxs("div",{className:"alerts-modal-header",children:[f.jsx("h3",{children:" Alertas"}),f.jsx("button",{className:"alerts-modal-close",onClick:()=>C(!1),children:""})]}),f.jsx(xte,{incidents:k,onViewIncident:z=>{Q(z),C(!1)}})]})}),p==="dashboard"?f.jsx("main",{className:"app-main dashboard-transition",children:f.jsxs("div",{className:"app-content",children:[f.jsxs("div",{className:"form-section",children:[f.jsx(yte,{incidents:k}),f.jsx(vte,{incidents:k,onViewDetail:Q})]}),f.jsxs("div",{className:"list-section",children:[f.jsx(mte,{incidents:k,onStatusClick:d,onNavigateToList:()=>m("all-incidents")}),f.jsx(wte,{incidents:k}),f.jsx(gte,{incidents:k})]})]})}):p==="new-incident"?f.jsx("main",{className:"app-main page-transition-enter",children:f.jsx("div",{className:"new-incident-section",children:f.jsx("div",{className:"form-section-centered",children:f.jsx(c5,{onAdd:se})})})}):p==="incident-detail"&&v?f.jsx("main",{className:"incident-detail-main",children:f.jsx(Tte,{incident:v,onUpdate:de,onAddComment:ne,onDeleteComment:me,onDelete:oe,onAddTag:be,onRemoveTag:_t,onDeleteTagGlobally:qt,allAvailableTags:ke(),onAddPR:bt,onRemovePR:ze,onUpdatePR:Qn,onBack:()=>{_(null),m("all-incidents")}})}):p==="settings"?f.jsx("main",{className:"app-main page-transition-enter",children:f.jsxs("div",{className:"settings-container",children:[f.jsxs("div",{className:"settings-sidebar",children:[f.jsx("h2",{children:" Ajustes"}),f.jsxs("div",{className:"settings-menu",children:[f.jsxs("button",{className:`settings-menu-item ${g==="profile"?"active":""}`,onClick:()=>w("profile"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Mi Perfil"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="automation"?"active":""}`,onClick:()=>w("automation"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Automatizacin"})]}),(r==null?void 0:r.permissions.users.viewAll)&&f.jsxs("button",{className:`settings-menu-item ${g==="users"?"active":""}`,onClick:()=>w("users"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Usuarios"})]}),(r==null?void 0:r.permissions.roles.view)&&f.jsxs("button",{className:`settings-menu-item ${g==="roles"?"active":""}`,onClick:()=>w("roles"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Roles"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="appearance"?"active":""}`,onClick:()=>w("appearance"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"Apariencia"})]}),f.jsxs("button",{className:`settings-menu-item ${g==="general"?"active":""}`,onClick:()=>w("general"),children:[f.jsx("span",{className:"menu-icon",children:""}),f.jsx("span",{children:"General"})]})]})]}),f.jsx("div",{className:"settings-content",children:g==="profile"?f.jsx(Mte,{currentUser:e,onUpdate:async()=>{const H=(await bu()).find(Z=>Z.id===e.id);H&&t(H)}}):g==="automation"?f.jsx(Ote,{rules:s,onAddRule:B,onUpdateRule:fe,onDeleteRule:ye}):g==="users"&&(r!=null&&r.permissions.users.viewAll)?f.jsx(Nte,{currentUser:e}):g==="roles"&&(r!=null&&r.permissions.roles.view)?f.jsx(Lte,{currentUser:e}):g==="appearance"?f.jsx(kte,{currentTheme:b,onThemeChange:q,currentUser:e}):g==="general"?f.jsx(Rte,{}):null})]})}):f.jsx("main",{className:"app-main page-transition-enter",children:f.jsx("div",{className:"all-incidents-section",children:f.jsx(jte,{incidents:k,onEdit:u,onDelete:oe,onViewDetail:Q,onNewIncident:()=>N("new-incident"),selectedStatus:c,onClearFilter:()=>d(null)})})}),l&&f.jsx(d5,{incident:l,onSave:de,onCancel:()=>u(null)})]}):f.jsx(Dte,{onLogin:ft})}$g.createRoot(document.getElementById("root")).render(f.jsx(kT.StrictMode,{children:f.jsx(Vte,{})}));
