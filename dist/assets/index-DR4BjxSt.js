var EM=Object.defineProperty;var SM=(e,t,r)=>t in e?EM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rm=(e,t,r)=>SM(e,typeof t!="symbol"?t+"":t,r);function AM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PT={exports:{}},Ph={},TT={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.element"),PM=Symbol.for("react.portal"),TM=Symbol.for("react.fragment"),CM=Symbol.for("react.strict_mode"),IM=Symbol.for("react.profiler"),jM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),OM=Symbol.for("react.forward_ref"),kM=Symbol.for("react.suspense"),RM=Symbol.for("react.memo"),DM=Symbol.for("react.lazy"),Yb=Symbol.iterator;function MM(e){return e===null||typeof e!="object"?null:(e=Yb&&e[Yb]||e["@@iterator"],typeof e=="function"?e:null)}var CT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IT=Object.assign,jT={};function Oo(e,t,r){this.props=e,this.context=t,this.refs=jT,this.updater=r||CT}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NT(){}NT.prototype=Oo.prototype;function s0(e,t,r){this.props=e,this.context=t,this.refs=jT,this.updater=r||CT}var o0=s0.prototype=new NT;o0.constructor=s0;IT(o0,Oo.prototype);o0.isPureReactComponent=!0;var Xb=Array.isArray,OT=Object.prototype.hasOwnProperty,l0={current:null},kT={key:!0,ref:!0,__self:!0,__source:!0};function RT(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)OT.call(t,n)&&!kT.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:$u,type:e,key:a,ref:s,props:i,_owner:l0.current}}function LM(e,t){return{$$typeof:$u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function u0(e){return typeof e=="object"&&e!==null&&e.$$typeof===$u}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zb=/\/+/g;function Dm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function bd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case $u:case PM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Dm(s,0):n,Xb(i)?(r="",e!=null&&(r=e.replace(Zb,"$&/")+"/"),bd(i,t,r,"",function(u){return u})):i!=null&&(u0(i)&&(i=LM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Xb(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Dm(a,o);s+=bd(a,t,r,l,i)}else if(l=MM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Dm(a,o++),s+=bd(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Mc(e,t,r){if(e==null)return e;var n=[],i=0;return bd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function FM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Ed={transition:null},$M={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Ed,ReactCurrentOwner:l0};function DT(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Mc,forEach:function(e,t,r){Mc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mc(e,function(){t++}),t},toArray:function(e){return Mc(e,function(t){return t})||[]},only:function(e){if(!u0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Oo;ve.Fragment=TM;ve.Profiler=IM;ve.PureComponent=s0;ve.StrictMode=CM;ve.Suspense=kM;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M;ve.act=DT;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=IT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=l0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)OT.call(t,l)&&!kT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:$u,type:e.type,key:i,ref:a,props:n,_owner:s}};ve.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jM,_context:e},e.Consumer=e};ve.createElement=RT;ve.createFactory=function(e){var t=RT.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:OM,render:e}};ve.isValidElement=u0;ve.lazy=function(e){return{$$typeof:DM,_payload:{_status:-1,_result:e},_init:FM}};ve.memo=function(e,t){return{$$typeof:RM,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Ed.transition;Ed.transition={};try{e()}finally{Ed.transition=t}};ve.unstable_act=DT;ve.useCallback=function(e,t){return wr.current.useCallback(e,t)};ve.useContext=function(e){return wr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return wr.current.useEffect(e,t)};ve.useId=function(){return wr.current.useId()};ve.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return wr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};ve.useRef=function(e){return wr.current.useRef(e)};ve.useState=function(e){return wr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return wr.current.useTransition()};ve.version="18.3.1";TT.exports=ve;var b=TT.exports;const MT=Ti(b),zM=AM({__proto__:null,default:MT},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UM=b,BM=Symbol.for("react.element"),qM=Symbol.for("react.fragment"),WM=Object.prototype.hasOwnProperty,KM=UM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HM={key:!0,ref:!0,__self:!0,__source:!0};function LT(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)WM.call(t,n)&&!HM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BM,type:e,key:a,ref:s,props:i,_owner:KM.current}}Ph.Fragment=qM;Ph.jsx=LT;Ph.jsxs=LT;PT.exports=Ph;var d=PT.exports,zg={},VT={exports:{}},Kr={},FT={exports:{}},$T={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,K){var ne=U.length;U.push(K);e:for(;0<ne;){var pe=ne-1>>>1,_e=U[pe];if(0<i(_e,K))U[pe]=K,U[ne]=_e,ne=pe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],ne=U.pop();if(ne!==K){U[0]=ne;e:for(var pe=0,_e=U.length,xt=_e>>>1;pe<xt;){var ke=2*(pe+1)-1,qt=U[ke],_t=ke+1,ze=U[_t];if(0>i(qt,ne))_t<_e&&0>i(ze,qt)?(U[pe]=ze,U[_t]=ne,pe=_t):(U[pe]=qt,U[ke]=ne,pe=ke);else if(_t<_e&&0>i(ze,ne))U[pe]=ze,U[_t]=ne,pe=_t;else break e}}return K}function i(U,K){var ne=U.sortIndex-K.sortIndex;return ne!==0?ne:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=U)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function I(U){if(y=!1,A(U),!g)if(r(l)!==null)g=!0,de(O);else{var K=r(u);K!==null&&le(I,K.startTime-U)}}function O(U,K){g=!1,y&&(y=!1,x(S),S=-1),m=!0;var ne=p;try{for(A(K),f=r(l);f!==null&&(!(f.expirationTime>K)||U&&!T());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var _e=pe(f.expirationTime<=K);K=e.unstable_now(),typeof _e=="function"?f.callback=_e:f===r(l)&&n(l),A(K)}else n(l);f=r(l)}if(f!==null)var xt=!0;else{var ke=r(u);ke!==null&&le(I,ke.startTime-K),xt=!1}return xt}finally{f=null,p=ne,m=!1}}var k=!1,v=null,S=-1,C=5,D=-1;function T(){return!(e.unstable_now()-D<C)}function N(){if(v!==null){var U=e.unstable_now();D=U;var K=!0;try{K=v(!0,U)}finally{K?j():(k=!1,v=null)}}else k=!1}var j;if(typeof E=="function")j=function(){E(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=N,j=function(){oe.postMessage(null)}}else j=function(){_(N,0)};function de(U){v=U,k||(k=!0,j())}function le(U,K){S=_(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,de(O))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var ne=p;p=K;try{return U()}finally{p=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=p;p=U;try{return K()}finally{p=ne}},e.unstable_scheduleCallback=function(U,K,ne){var pe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ne+_e,U={id:c++,callback:K,priorityLevel:U,startTime:ne,expirationTime:_e,sortIndex:-1},ne>pe?(U.sortIndex=ne,t(u,U),r(l)===null&&U===r(u)&&(y?(x(S),S=-1):y=!0,le(I,ne-pe))):(U.sortIndex=_e,t(l,U),g||m||(g=!0,de(O))),U},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(U){var K=p;return function(){var ne=p;p=K;try{return U.apply(this,arguments)}finally{p=ne}}}})($T);FT.exports=$T;var GM=FT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QM=b,qr=GM;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,eu={};function ms(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(eu[e]=t,e=0;e<t.length;e++)zT.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=Object.prototype.hasOwnProperty,YM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jb={},eE={};function XM(e){return Ug.call(eE,e)?!0:Ug.call(Jb,e)?!1:YM.test(e)?eE[e]=!0:(Jb[e]=!0,!1)}function ZM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JM(e,t,r,n){if(t===null||typeof t>"u"||ZM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var c0=/[\-:]([a-z])/g;function d0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c0,d0);Zt[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c0,d0);Zt[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c0,d0);Zt[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function f0(e,t,r,n){var i=Zt.hasOwnProperty(t)?Zt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JM(t,r,i,n)&&(r=null),n||i===null?XM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ci=QM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lc=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),BT=Symbol.for("react.context"),p0=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),qT=Symbol.for("react.offscreen"),tE=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=tE&&e[tE]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Mm;function Cl(e){if(Mm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mm=t&&t[1]||""}return`
`+Mm+e}var Lm=!1;function Vm(e,t){if(!e||Lm)return"";Lm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Lm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cl(e):""}function eL(e){switch(e.tag){case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return e=Vm(e.type,!1),e;case 11:return e=Vm(e.type.render,!1),e;case 1:return e=Vm(e.type,!0),e;default:return""}}function Kg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ls:return"Fragment";case Ms:return"Portal";case Bg:return"Profiler";case h0:return"StrictMode";case qg:return"Suspense";case Wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BT:return(e.displayName||"Context")+".Consumer";case UT:return(e._context.displayName||"Context")+".Provider";case p0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case m0:return t=e.displayName||null,t!==null?t:Kg(e.type)||"Memo";case Ui:t=e._payload,e=e._init;try{return Kg(e(t))}catch{}}return null}function tL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(t);case 8:return t===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rL(e){var t=WT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=rL(e))}function KT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=WT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hg(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HT(e,t){t=t.checked,t!=null&&f0(e,"checked",t,!1)}function Gg(e,t){HT(e,t);var r=da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qg(e,t.type,da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qg(e,t,r){(t!=="number"||Wd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Il=Array.isArray;function Ys(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+da(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Il(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:da(r)}}function GT(e,t){var r=da(t.value),n=da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function aE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,YT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nL=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(e){nL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fl[t]=Fl[e]})});function XT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fl.hasOwnProperty(e)&&Fl[e]?(""+t).trim():t+"px"}function ZT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=XT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var iL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(e,t){if(t){if(iL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Jg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=null;function g0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tv=null,Xs=null,Zs=null;function sE(e){if(e=Bu(e)){if(typeof tv!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Nh(t),tv(e.stateNode,e.type,t))}}function JT(e){Xs?Zs?Zs.push(e):Zs=[e]:Xs=e}function eC(){if(Xs){var e=Xs,t=Zs;if(Zs=Xs=null,sE(e),t)for(e=0;e<t.length;e++)sE(t[e])}}function tC(e,t){return e(t)}function rC(){}var Fm=!1;function nC(e,t,r){if(Fm)return e(t,r);Fm=!0;try{return tC(e,t,r)}finally{Fm=!1,(Xs!==null||Zs!==null)&&(rC(),eC())}}function ru(e,t){var r=e.stateNode;if(r===null)return null;var n=Nh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var rv=!1;if(fi)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){rv=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{rv=!1}function aL(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var $l=!1,Kd=null,Hd=!1,nv=null,sL={onError:function(e){$l=!0,Kd=e}};function oL(e,t,r,n,i,a,s,o,l){$l=!1,Kd=null,aL.apply(sL,arguments)}function lL(e,t,r,n,i,a,s,o,l){if(oL.apply(this,arguments),$l){if($l){var u=Kd;$l=!1,Kd=null}else throw Error(W(198));Hd||(Hd=!0,nv=u)}}function gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oE(e){if(gs(e)!==e)throw Error(W(188))}function uL(e){var t=e.alternate;if(!t){if(t=gs(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return oE(i),e;if(a===n)return oE(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function aC(e){return e=uL(e),e!==null?sC(e):null}function sC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sC(e);if(t!==null)return t;e=e.sibling}return null}var oC=qr.unstable_scheduleCallback,lE=qr.unstable_cancelCallback,cL=qr.unstable_shouldYield,dL=qr.unstable_requestPaint,ct=qr.unstable_now,fL=qr.unstable_getCurrentPriorityLevel,v0=qr.unstable_ImmediatePriority,lC=qr.unstable_UserBlockingPriority,Gd=qr.unstable_NormalPriority,hL=qr.unstable_LowPriority,uC=qr.unstable_IdlePriority,Th=null,Vn=null;function pL(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Th,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:vL,mL=Math.log,gL=Math.LN2;function vL(e){return e>>>=0,e===0?32:31-(mL(e)/gL|0)|0}var $c=64,zc=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=jl(o):(a&=s,a!==0&&(n=jl(a)))}else s=r&~i,s!==0?n=jl(s):a!==0&&(n=jl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),i=1<<r,n|=e[r],t&=~i;return n}function yL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-_n(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=yL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function iv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cC(){var e=$c;return $c<<=1,!($c&4194240)&&($c=64),e}function $m(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function xL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-_n(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function y0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var je=0;function dC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fC,w0,hC,pC,mC,av=!1,Uc=[],Zi=null,Ji=null,ea=null,nu=new Map,iu=new Map,Ki=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uE(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":nu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(t.pointerId)}}function pl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bu(t),t!==null&&w0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bL(e,t,r,n,i){switch(t){case"focusin":return Zi=pl(Zi,e,t,r,n,i),!0;case"dragenter":return Ji=pl(Ji,e,t,r,n,i),!0;case"mouseover":return ea=pl(ea,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return nu.set(a,pl(nu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,iu.set(a,pl(iu.get(a)||null,e,t,r,n,i)),!0}return!1}function gC(e){var t=$a(e.target);if(t!==null){var r=gs(t);if(r!==null){if(t=r.tag,t===13){if(t=iC(r),t!==null){e.blockedOn=t,mC(e.priority,function(){hC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ev=n,r.target.dispatchEvent(n),ev=null}else return t=Bu(r),t!==null&&w0(t),e.blockedOn=r,!1;t.shift()}return!0}function cE(e,t,r){Sd(e)&&r.delete(t)}function EL(){av=!1,Zi!==null&&Sd(Zi)&&(Zi=null),Ji!==null&&Sd(Ji)&&(Ji=null),ea!==null&&Sd(ea)&&(ea=null),nu.forEach(cE),iu.forEach(cE)}function ml(e,t){e.blockedOn===t&&(e.blockedOn=null,av||(av=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,EL)))}function au(e){function t(i){return ml(i,e)}if(0<Uc.length){ml(Uc[0],e);for(var r=1;r<Uc.length;r++){var n=Uc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zi!==null&&ml(Zi,e),Ji!==null&&ml(Ji,e),ea!==null&&ml(ea,e),nu.forEach(t),iu.forEach(t),r=0;r<Ki.length;r++)n=Ki[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ki.length&&(r=Ki[0],r.blockedOn===null);)gC(r),r.blockedOn===null&&Ki.shift()}var Js=Ci.ReactCurrentBatchConfig,Yd=!0;function SL(e,t,r,n){var i=je,a=Js.transition;Js.transition=null;try{je=1,x0(e,t,r,n)}finally{je=i,Js.transition=a}}function AL(e,t,r,n){var i=je,a=Js.transition;Js.transition=null;try{je=4,x0(e,t,r,n)}finally{je=i,Js.transition=a}}function x0(e,t,r,n){if(Yd){var i=sv(e,t,r,n);if(i===null)Ym(e,t,n,Xd,r),uE(e,n);else if(bL(i,e,t,r,n))n.stopPropagation();else if(uE(e,n),t&4&&-1<_L.indexOf(e)){for(;i!==null;){var a=Bu(i);if(a!==null&&fC(a),a=sv(e,t,r,n),a===null&&Ym(e,t,n,Xd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ym(e,t,n,null,r)}}var Xd=null;function sv(e,t,r,n){if(Xd=null,e=g0(n),e=$a(e),e!==null)if(t=gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xd=e,null}function vC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fL()){case v0:return 1;case lC:return 4;case Gd:case hL:return 16;case uC:return 536870912;default:return 16}default:return 16}}var Qi=null,_0=null,Ad=null;function yC(){if(Ad)return Ad;var e,t=_0,r=t.length,n,i="value"in Qi?Qi.value:Qi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Ad=i.slice(e,1<n?1-n:void 0)}function Pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bc(){return!0}function dE(){return!1}function Hr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bc:dE,this.isPropagationStopped=dE,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b0=Hr(ko),Uu=tt({},ko,{view:0,detail:0}),PL=Hr(Uu),zm,Um,gl,Ch=tt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(zm=e.screenX-gl.screenX,Um=e.screenY-gl.screenY):Um=zm=0,gl=e),zm)},movementY:function(e){return"movementY"in e?e.movementY:Um}}),fE=Hr(Ch),TL=tt({},Ch,{dataTransfer:0}),CL=Hr(TL),IL=tt({},Uu,{relatedTarget:0}),Bm=Hr(IL),jL=tt({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),NL=Hr(jL),OL=tt({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kL=Hr(OL),RL=tt({},ko,{data:0}),hE=Hr(RL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LL[e])?!!t[e]:!1}function E0(){return VL}var FL=tt({},Uu,{key:function(e){if(e.key){var t=DL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ML[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(e){return e.type==="keypress"?Pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$L=Hr(FL),zL=tt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pE=Hr(zL),UL=tt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),BL=Hr(UL),qL=tt({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=Hr(qL),KL=tt({},Ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HL=Hr(KL),GL=[9,13,27,32],S0=fi&&"CompositionEvent"in window,zl=null;fi&&"documentMode"in document&&(zl=document.documentMode);var QL=fi&&"TextEvent"in window&&!zl,wC=fi&&(!S0||zl&&8<zl&&11>=zl),mE=" ",gE=!1;function xC(e,t){switch(e){case"keyup":return GL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _C(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function YL(e,t){switch(e){case"compositionend":return _C(t);case"keypress":return t.which!==32?null:(gE=!0,mE);case"textInput":return e=t.data,e===mE&&gE?null:e;default:return null}}function XL(e,t){if(Vs)return e==="compositionend"||!S0&&xC(e,t)?(e=yC(),Ad=_0=Qi=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wC&&t.locale!=="ko"?null:t.data;default:return null}}var ZL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZL[e.type]:t==="textarea"}function bC(e,t,r,n){JT(n),t=Zd(t,"onChange"),0<t.length&&(r=new b0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ul=null,su=null;function JL(e){kC(e,0)}function Ih(e){var t=zs(e);if(KT(t))return e}function eV(e,t){if(e==="change")return t}var EC=!1;if(fi){var qm;if(fi){var Wm="oninput"in document;if(!Wm){var yE=document.createElement("div");yE.setAttribute("oninput","return;"),Wm=typeof yE.oninput=="function"}qm=Wm}else qm=!1;EC=qm&&(!document.documentMode||9<document.documentMode)}function wE(){Ul&&(Ul.detachEvent("onpropertychange",SC),su=Ul=null)}function SC(e){if(e.propertyName==="value"&&Ih(su)){var t=[];bC(t,su,e,g0(e)),nC(JL,t)}}function tV(e,t,r){e==="focusin"?(wE(),Ul=t,su=r,Ul.attachEvent("onpropertychange",SC)):e==="focusout"&&wE()}function rV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ih(su)}function nV(e,t){if(e==="click")return Ih(t)}function iV(e,t){if(e==="input"||e==="change")return Ih(t)}function aV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:aV;function ou(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ug.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function xE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _E(e,t){var r=xE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xE(r)}}function AC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PC(){for(var e=window,t=Wd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wd(e.document)}return t}function A0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sV(e){var t=PC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&AC(r.ownerDocument.documentElement,r)){if(n!==null&&A0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=_E(r,a);var s=_E(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oV=fi&&"documentMode"in document&&11>=document.documentMode,Fs=null,ov=null,Bl=null,lv=!1;function bE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lv||Fs==null||Fs!==Wd(n)||(n=Fs,"selectionStart"in n&&A0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bl&&ou(Bl,n)||(Bl=n,n=Zd(ov,"onSelect"),0<n.length&&(t=new b0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fs)))}function qc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $s={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Km={},TC={};fi&&(TC=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function jh(e){if(Km[e])return Km[e];if(!$s[e])return e;var t=$s[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TC)return Km[e]=t[r];return e}var CC=jh("animationend"),IC=jh("animationiteration"),jC=jh("animationstart"),NC=jh("transitionend"),OC=new Map,EE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){OC.set(e,t),ms(t,[e])}for(var Hm=0;Hm<EE.length;Hm++){var Gm=EE[Hm],lV=Gm.toLowerCase(),uV=Gm[0].toUpperCase()+Gm.slice(1);_a(lV,"on"+uV)}_a(CC,"onAnimationEnd");_a(IC,"onAnimationIteration");_a(jC,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(NC,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function SE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lL(n,t,void 0,e),e.currentTarget=null}function kC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;SE(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;SE(i,o,u),a=l}}}if(Hd)throw e=nv,Hd=!1,nv=null,e}function qe(e,t){var r=t[hv];r===void 0&&(r=t[hv]=new Set);var n=e+"__bubble";r.has(n)||(RC(t,e,2,!1),r.add(n))}function Qm(e,t,r){var n=0;t&&(n|=4),RC(r,e,n,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[Wc]){e[Wc]=!0,zT.forEach(function(r){r!=="selectionchange"&&(cV.has(r)||Qm(r,!1,e),Qm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Qm("selectionchange",!1,t))}}function RC(e,t,r,n){switch(vC(t)){case 1:var i=SL;break;case 4:i=AL;break;default:i=x0}r=i.bind(null,t,r,e),i=void 0,!rv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ym(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=$a(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}nC(function(){var u=a,c=g0(r),f=[];e:{var p=OC.get(e);if(p!==void 0){var m=b0,g=e;switch(e){case"keypress":if(Pd(r)===0)break e;case"keydown":case"keyup":m=$L;break;case"focusin":g="focus",m=Bm;break;case"focusout":g="blur",m=Bm;break;case"beforeblur":case"afterblur":m=Bm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BL;break;case CC:case IC:case jC:m=NL;break;case NC:m=WL;break;case"scroll":m=PL;break;case"wheel":m=HL;break;case"copy":case"cut":case"paste":m=kL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pE}var y=(t&4)!==0,_=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var E=u,A;E!==null;){A=E;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,x!==null&&(I=ru(E,x),I!=null&&y.push(uu(E,I,A)))),_)break;E=E.return}0<y.length&&(p=new m(p,g,null,r,c),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==ev&&(g=r.relatedTarget||r.fromElement)&&($a(g)||g[hi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?$a(g):null,g!==null&&(_=gs(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=fE,I="onMouseLeave",x="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(y=pE,I="onPointerLeave",x="onPointerEnter",E="pointer"),_=m==null?p:zs(m),A=g==null?p:zs(g),p=new y(I,E+"leave",m,r,c),p.target=_,p.relatedTarget=A,I=null,$a(c)===u&&(y=new y(x,E+"enter",g,r,c),y.target=A,y.relatedTarget=_,I=y),_=I,m&&g)t:{for(y=m,x=g,E=0,A=y;A;A=Ps(A))E++;for(A=0,I=x;I;I=Ps(I))A++;for(;0<E-A;)y=Ps(y),E--;for(;0<A-E;)x=Ps(x),A--;for(;E--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ps(y),x=Ps(x)}y=null}else y=null;m!==null&&AE(f,p,m,y,!1),g!==null&&_!==null&&AE(f,_,g,y,!0)}}e:{if(p=u?zs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=eV;else if(vE(p))if(EC)O=iV;else{O=rV;var k=tV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=nV);if(O&&(O=O(e,u))){bC(f,O,r,c);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Qg(p,"number",p.value)}switch(k=u?zs(u):window,e){case"focusin":(vE(k)||k.contentEditable==="true")&&(Fs=k,ov=u,Bl=null);break;case"focusout":Bl=ov=Fs=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,bE(f,r,c);break;case"selectionchange":if(oV)break;case"keydown":case"keyup":bE(f,r,c)}var v;if(S0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Vs?xC(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(wC&&r.locale!=="ko"&&(Vs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Vs&&(v=yC()):(Qi=c,_0="value"in Qi?Qi.value:Qi.textContent,Vs=!0)),k=Zd(u,S),0<k.length&&(S=new hE(S,e,null,r,c),f.push({event:S,listeners:k}),v?S.data=v:(v=_C(r),v!==null&&(S.data=v)))),(v=QL?YL(e,r):XL(e,r))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(c=new hE("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=v))}kC(f,t)})}function uu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ru(e,r),a!=null&&n.unshift(uu(e,a,i)),a=ru(e,t),a!=null&&n.push(uu(e,a,i))),e=e.return}return n}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AE(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ru(r,a),l!=null&&s.unshift(uu(r,l,o))):i||(l=ru(r,a),l!=null&&s.push(uu(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var dV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function PE(e){return(typeof e=="string"?e:""+e).replace(dV,`
`).replace(fV,"")}function Kc(e,t,r){if(t=PE(t),PE(e)!==t&&r)throw Error(W(425))}function Jd(){}var uv=null,cv=null;function dv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,hV=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(e){return TE.resolve(null).then(e).catch(mV)}:fv;function mV(e){setTimeout(function(){throw e})}function Xm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),au(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);au(t)}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Ro,cu="__reactProps$"+Ro,hi="__reactContainer$"+Ro,hv="__reactEvents$"+Ro,gV="__reactListeners$"+Ro,vV="__reactHandles$"+Ro;function $a(e){var t=e[Mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hi]||r[Mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CE(e);e!==null;){if(r=e[Mn])return r;e=CE(e)}return t}e=r,r=e.parentNode}return null}function Bu(e){return e=e[Mn]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Nh(e){return e[cu]||null}var pv=[],Us=-1;function ba(e){return{current:e}}function He(e){0>Us||(e.current=pv[Us],pv[Us]=null,Us--)}function Fe(e,t){Us++,pv[Us]=e.current,e.current=t}var fa={},ur=ba(fa),Tr=ba(!1),es=fa;function lo(e,t){var r=e.type.contextTypes;if(!r)return fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Cr(e){return e=e.childContextTypes,e!=null}function ef(){He(Tr),He(ur)}function IE(e,t,r){if(ur.current!==fa)throw Error(W(168));Fe(ur,t),Fe(Tr,r)}function DC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,tL(e)||"Unknown",i));return tt({},r,n)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,es=ur.current,Fe(ur,e),Fe(Tr,Tr.current),!0}function jE(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=DC(e,t,es),n.__reactInternalMemoizedMergedChildContext=e,He(Tr),He(ur),Fe(ur,e)):He(Tr),Fe(Tr,r)}var Jn=null,Oh=!1,Zm=!1;function MC(e){Jn===null?Jn=[e]:Jn.push(e)}function yV(e){Oh=!0,MC(e)}function Ea(){if(!Zm&&Jn!==null){Zm=!0;var e=0,t=je;try{var r=Jn;for(je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jn=null,Oh=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(e+1)),oC(v0,Ea),i}finally{je=t,Zm=!1}}return null}var Bs=[],qs=0,rf=null,nf=0,Jr=[],en=0,ts=null,ii=1,ai="";function Ra(e,t){Bs[qs++]=nf,Bs[qs++]=rf,rf=e,nf=t}function LC(e,t,r){Jr[en++]=ii,Jr[en++]=ai,Jr[en++]=ts,ts=e;var n=ii;e=ai;var i=32-_n(n)-1;n&=~(1<<i),r+=1;var a=32-_n(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ii=1<<32-_n(t)+i|r<<i|n,ai=a+e}else ii=1<<a|r<<i|n,ai=e}function P0(e){e.return!==null&&(Ra(e,1),LC(e,1,0))}function T0(e){for(;e===rf;)rf=Bs[--qs],Bs[qs]=null,nf=Bs[--qs],Bs[qs]=null;for(;e===ts;)ts=Jr[--en],Jr[en]=null,ai=Jr[--en],Jr[en]=null,ii=Jr[--en],Jr[en]=null}var Ur=null,Fr=null,Qe=!1,vn=null;function VC(e,t){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function NE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Fr=ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ts!==null?{id:ii,overflow:ai}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,Fr=null,!0):!1;default:return!1}}function mv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gv(e){if(Qe){var t=Fr;if(t){var r=t;if(!NE(e,t)){if(mv(e))throw Error(W(418));t=ta(r.nextSibling);var n=Ur;t&&NE(e,t)?VC(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Ur=e)}}else{if(mv(e))throw Error(W(418));e.flags=e.flags&-4097|2,Qe=!1,Ur=e}}}function OE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function Hc(e){if(e!==Ur)return!1;if(!Qe)return OE(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dv(e.type,e.memoizedProps)),t&&(t=Fr)){if(mv(e))throw FC(),Error(W(418));for(;t;)VC(e,t),t=ta(t.nextSibling)}if(OE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fr=ta(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Ur?ta(e.stateNode.nextSibling):null;return!0}function FC(){for(var e=Fr;e;)e=ta(e.nextSibling)}function uo(){Fr=Ur=null,Qe=!1}function C0(e){vn===null?vn=[e]:vn.push(e)}var wV=Ci.ReactCurrentBatchConfig;function vl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Gc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kE(e){var t=e._init;return t(e._payload)}function $C(e){function t(x,E){if(e){var A=x.deletions;A===null?(x.deletions=[E],x.flags|=16):A.push(E)}}function r(x,E){if(!e)return null;for(;E!==null;)t(x,E),E=E.sibling;return null}function n(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=aa(x,E),x.index=0,x.sibling=null,x}function a(x,E,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<E?(x.flags|=2,E):A):(x.flags|=2,E)):(x.flags|=1048576,E)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,E,A,I){return E===null||E.tag!==6?(E=ag(A,x.mode,I),E.return=x,E):(E=i(E,A),E.return=x,E)}function l(x,E,A,I){var O=A.type;return O===Ls?c(x,E,A.props.children,I,A.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ui&&kE(O)===E.type)?(I=i(E,A.props),I.ref=vl(x,E,A),I.return=x,I):(I=kd(A.type,A.key,A.props,null,x.mode,I),I.ref=vl(x,E,A),I.return=x,I)}function u(x,E,A,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=sg(A,x.mode,I),E.return=x,E):(E=i(E,A.children||[]),E.return=x,E)}function c(x,E,A,I,O){return E===null||E.tag!==7?(E=Ga(A,x.mode,I,O),E.return=x,E):(E=i(E,A),E.return=x,E)}function f(x,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ag(""+E,x.mode,A),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lc:return A=kd(E.type,E.key,E.props,null,x.mode,A),A.ref=vl(x,null,E),A.return=x,A;case Ms:return E=sg(E,x.mode,A),E.return=x,E;case Ui:var I=E._init;return f(x,I(E._payload),A)}if(Il(E)||fl(E))return E=Ga(E,x.mode,A,null),E.return=x,E;Gc(x,E)}return null}function p(x,E,A,I){var O=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return O!==null?null:o(x,E,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Lc:return A.key===O?l(x,E,A,I):null;case Ms:return A.key===O?u(x,E,A,I):null;case Ui:return O=A._init,p(x,E,O(A._payload),I)}if(Il(A)||fl(A))return O!==null?null:c(x,E,A,I,null);Gc(x,A)}return null}function m(x,E,A,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(A)||null,o(E,x,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Lc:return x=x.get(I.key===null?A:I.key)||null,l(E,x,I,O);case Ms:return x=x.get(I.key===null?A:I.key)||null,u(E,x,I,O);case Ui:var k=I._init;return m(x,E,A,k(I._payload),O)}if(Il(I)||fl(I))return x=x.get(A)||null,c(E,x,I,O,null);Gc(E,I)}return null}function g(x,E,A,I){for(var O=null,k=null,v=E,S=E=0,C=null;v!==null&&S<A.length;S++){v.index>S?(C=v,v=null):C=v.sibling;var D=p(x,v,A[S],I);if(D===null){v===null&&(v=C);break}e&&v&&D.alternate===null&&t(x,v),E=a(D,E,S),k===null?O=D:k.sibling=D,k=D,v=C}if(S===A.length)return r(x,v),Qe&&Ra(x,S),O;if(v===null){for(;S<A.length;S++)v=f(x,A[S],I),v!==null&&(E=a(v,E,S),k===null?O=v:k.sibling=v,k=v);return Qe&&Ra(x,S),O}for(v=n(x,v);S<A.length;S++)C=m(v,x,S,A[S],I),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?S:C.key),E=a(C,E,S),k===null?O=C:k.sibling=C,k=C);return e&&v.forEach(function(T){return t(x,T)}),Qe&&Ra(x,S),O}function y(x,E,A,I){var O=fl(A);if(typeof O!="function")throw Error(W(150));if(A=O.call(A),A==null)throw Error(W(151));for(var k=O=null,v=E,S=E=0,C=null,D=A.next();v!==null&&!D.done;S++,D=A.next()){v.index>S?(C=v,v=null):C=v.sibling;var T=p(x,v,D.value,I);if(T===null){v===null&&(v=C);break}e&&v&&T.alternate===null&&t(x,v),E=a(T,E,S),k===null?O=T:k.sibling=T,k=T,v=C}if(D.done)return r(x,v),Qe&&Ra(x,S),O;if(v===null){for(;!D.done;S++,D=A.next())D=f(x,D.value,I),D!==null&&(E=a(D,E,S),k===null?O=D:k.sibling=D,k=D);return Qe&&Ra(x,S),O}for(v=n(x,v);!D.done;S++,D=A.next())D=m(v,x,S,D.value,I),D!==null&&(e&&D.alternate!==null&&v.delete(D.key===null?S:D.key),E=a(D,E,S),k===null?O=D:k.sibling=D,k=D);return e&&v.forEach(function(N){return t(x,N)}),Qe&&Ra(x,S),O}function _(x,E,A,I){if(typeof A=="object"&&A!==null&&A.type===Ls&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Lc:e:{for(var O=A.key,k=E;k!==null;){if(k.key===O){if(O=A.type,O===Ls){if(k.tag===7){r(x,k.sibling),E=i(k,A.props.children),E.return=x,x=E;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ui&&kE(O)===k.type){r(x,k.sibling),E=i(k,A.props),E.ref=vl(x,k,A),E.return=x,x=E;break e}r(x,k);break}else t(x,k);k=k.sibling}A.type===Ls?(E=Ga(A.props.children,x.mode,I,A.key),E.return=x,x=E):(I=kd(A.type,A.key,A.props,null,x.mode,I),I.ref=vl(x,E,A),I.return=x,x=I)}return s(x);case Ms:e:{for(k=A.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(x,E.sibling),E=i(E,A.children||[]),E.return=x,x=E;break e}else{r(x,E);break}else t(x,E);E=E.sibling}E=sg(A,x.mode,I),E.return=x,x=E}return s(x);case Ui:return k=A._init,_(x,E,k(A._payload),I)}if(Il(A))return g(x,E,A,I);if(fl(A))return y(x,E,A,I);Gc(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(x,E.sibling),E=i(E,A),E.return=x,x=E):(r(x,E),E=ag(A,x.mode,I),E.return=x,x=E),s(x)):r(x,E)}return _}var co=$C(!0),zC=$C(!1),af=ba(null),sf=null,Ws=null,I0=null;function j0(){I0=Ws=sf=null}function N0(e){var t=af.current;He(af),e._currentValue=t}function vv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function eo(e,t){sf=e,I0=Ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(I0!==e)if(e={context:e,memoizedValue:t,next:null},Ws===null){if(sf===null)throw Error(W(308));Ws=e,sf.dependencies={lanes:0,firstContext:e}}else Ws=Ws.next=e;return t}var za=null;function O0(e){za===null?za=[e]:za.push(e)}function UC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,O0(t)):(r.next=i.next,i.next=r),t.interleaved=r,pi(e,n)}function pi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bi=!1;function k0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,pi(e,r)}return i=n.interleaved,i===null?(t.next=t,O0(n)):(t.next=i.next,i.next=t),n.interleaved=t,pi(e,r)}function Td(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y0(e,r)}}function RE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function of(e,t,r,n){var i=e.updateQueue;Bi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=tt({},f,p);break e;case 2:Bi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ns|=s,e.lanes=s,e.memoizedState=f}}function DE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var qu={},Fn=ba(qu),du=ba(qu),fu=ba(qu);function Ua(e){if(e===qu)throw Error(W(174));return e}function R0(e,t){switch(Fe(fu,t),Fe(du,e),Fe(Fn,qu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xg(t,e)}He(Fn),Fe(Fn,t)}function fo(){He(Fn),He(du),He(fu)}function qC(e){Ua(fu.current);var t=Ua(Fn.current),r=Xg(t,e.type);t!==r&&(Fe(du,e),Fe(Fn,r))}function D0(e){du.current===e&&(He(Fn),He(du))}var Je=ba(0);function lf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jm=[];function M0(){for(var e=0;e<Jm.length;e++)Jm[e]._workInProgressVersionPrimary=null;Jm.length=0}var Cd=Ci.ReactCurrentDispatcher,eg=Ci.ReactCurrentBatchConfig,rs=0,et=null,St=null,Vt=null,uf=!1,ql=!1,hu=0,xV=0;function er(){throw Error(W(321))}function L0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sn(e[r],t[r]))return!1;return!0}function V0(e,t,r,n,i,a){if(rs=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cd.current=e===null||e.memoizedState===null?SV:AV,e=r(n,i),ql){a=0;do{if(ql=!1,hu=0,25<=a)throw Error(W(301));a+=1,Vt=St=null,t.updateQueue=null,Cd.current=PV,e=r(n,i)}while(ql)}if(Cd.current=cf,t=St!==null&&St.next!==null,rs=0,Vt=St=et=null,uf=!1,t)throw Error(W(300));return e}function F0(){var e=hu!==0;return hu=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function ln(){if(St===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Vt===null?et.memoizedState:Vt.next;if(t!==null)Vt=t,St=e;else{if(e===null)throw Error(W(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Vt===null?et.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function pu(e,t){return typeof t=="function"?t(e):t}function tg(e){var t=ln(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((rs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,et.lanes|=c,ns|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Sn(n,t.memoizedState)||(Ar=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,ns|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rg(e){var t=ln(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Sn(a,t.memoizedState)||(Ar=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function WC(){}function KC(e,t){var r=et,n=ln(),i=t(),a=!Sn(n.memoizedState,i);if(a&&(n.memoizedState=i,Ar=!0),n=n.queue,$0(QC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,mu(9,GC.bind(null,r,n,i,t),void 0,null),$t===null)throw Error(W(349));rs&30||HC(r,t,i)}return i}function HC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function GC(e,t,r,n){t.value=r,t.getSnapshot=n,YC(t)&&XC(e)}function QC(e,t,r){return r(function(){YC(t)&&XC(e)})}function YC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sn(e,r)}catch{return!0}}function XC(e){var t=pi(e,1);t!==null&&bn(t,e,1,-1)}function ME(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:e},t.queue=e,e=e.dispatch=EV.bind(null,et,e),[t.memoizedState,e]}function mu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ZC(){return ln().memoizedState}function Id(e,t,r,n){var i=Rn();et.flags|=e,i.memoizedState=mu(1|t,r,void 0,n===void 0?null:n)}function kh(e,t,r,n){var i=ln();n=n===void 0?null:n;var a=void 0;if(St!==null){var s=St.memoizedState;if(a=s.destroy,n!==null&&L0(n,s.deps)){i.memoizedState=mu(t,r,a,n);return}}et.flags|=e,i.memoizedState=mu(1|t,r,a,n)}function LE(e,t){return Id(8390656,8,e,t)}function $0(e,t){return kh(2048,8,e,t)}function JC(e,t){return kh(4,2,e,t)}function eI(e,t){return kh(4,4,e,t)}function tI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rI(e,t,r){return r=r!=null?r.concat([e]):null,kh(4,4,tI.bind(null,t,e),r)}function z0(){}function nI(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&L0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iI(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&L0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aI(e,t,r){return rs&21?(Sn(r,t)||(r=cC(),et.lanes|=r,ns|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=r)}function _V(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var n=eg.transition;eg.transition={};try{e(!1),t()}finally{je=r,eg.transition=n}}function sI(){return ln().memoizedState}function bV(e,t,r){var n=ia(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oI(e))lI(t,r);else if(r=UC(e,t,r,n),r!==null){var i=gr();bn(r,e,n,i),uI(r,t,n)}}function EV(e,t,r){var n=ia(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oI(e))lI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Sn(o,s)){var l=t.interleaved;l===null?(i.next=i,O0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=UC(e,t,i,n),r!==null&&(i=gr(),bn(r,e,n,i),uI(r,t,n))}}function oI(e){var t=e.alternate;return e===et||t!==null&&t===et}function lI(e,t){ql=uf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,y0(e,r)}}var cf={readContext:on,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},SV={readContext:on,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:LE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Id(4194308,4,tI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Id(4194308,4,e,t)},useInsertionEffect:function(e,t){return Id(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bV.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:ME,useDebugValue:z0,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=ME(!1),t=e[0];return e=_V.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,i=Rn();if(Qe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),$t===null)throw Error(W(349));rs&30||HC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,LE(QC.bind(null,n,a,e),[e]),n.flags|=2048,mu(9,GC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Rn(),t=$t.identifierPrefix;if(Qe){var r=ai,n=ii;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=xV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AV={readContext:on,useCallback:nI,useContext:on,useEffect:$0,useImperativeHandle:rI,useInsertionEffect:JC,useLayoutEffect:eI,useMemo:iI,useReducer:tg,useRef:ZC,useState:function(){return tg(pu)},useDebugValue:z0,useDeferredValue:function(e){var t=ln();return aI(t,St.memoizedState,e)},useTransition:function(){var e=tg(pu)[0],t=ln().memoizedState;return[e,t]},useMutableSource:WC,useSyncExternalStore:KC,useId:sI,unstable_isNewReconciler:!1},PV={readContext:on,useCallback:nI,useContext:on,useEffect:$0,useImperativeHandle:rI,useInsertionEffect:JC,useLayoutEffect:eI,useMemo:iI,useReducer:rg,useRef:ZC,useState:function(){return rg(pu)},useDebugValue:z0,useDeferredValue:function(e){var t=ln();return St===null?t.memoizedState=e:aI(t,St.memoizedState,e)},useTransition:function(){var e=rg(pu)[0],t=ln().memoizedState;return[e,t]},useMutableSource:WC,useSyncExternalStore:KC,useId:sI,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rh={isMounted:function(e){return(e=e._reactInternals)?gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),i=ia(e),a=li(n,i);a.payload=t,r!=null&&(a.callback=r),t=ra(e,a,i),t!==null&&(bn(t,e,i,n),Td(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),i=ia(e),a=li(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ra(e,a,i),t!==null&&(bn(t,e,i,n),Td(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=ia(e),i=li(r,n);i.tag=2,t!=null&&(i.callback=t),t=ra(e,i,n),t!==null&&(bn(t,e,n,r),Td(t,e,n))}};function VE(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ou(r,n)||!ou(i,a):!0}function cI(e,t,r){var n=!1,i=fa,a=t.contextType;return typeof a=="object"&&a!==null?a=on(a):(i=Cr(t)?es:ur.current,n=t.contextTypes,a=(n=n!=null)?lo(e,i):fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function FE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rh.enqueueReplaceState(t,t.state,null)}function wv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},k0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=on(a):(a=Cr(t)?es:ur.current,i.context=lo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(yv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rh.enqueueReplaceState(i,i.state,null),of(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var r="",n=t;do r+=eL(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ng(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TV=typeof WeakMap=="function"?WeakMap:Map;function dI(e,t,r){r=li(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ff||(ff=!0,jv=n),xv(e,t)},r}function fI(e,t,r){r=li(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){xv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){xv(e,t),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function $E(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TV;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=zV.bind(null,e,t,r),t.then(e,e))}function zE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=li(-1,1),t.tag=2,ra(r,t,1))),r.lanes|=1),e)}var CV=Ci.ReactCurrentOwner,Ar=!1;function hr(e,t,r,n){t.child=e===null?zC(t,null,r,n):co(t,e.child,r,n)}function BE(e,t,r,n,i){r=r.render;var a=t.ref;return eo(t,i),n=V0(e,t,r,n,a,i),r=F0(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Qe&&r&&P0(t),t.flags|=1,hr(e,t,n,i),t.child)}function qE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Q0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,hI(e,t,a,n,i)):(e=kd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ou,r(s,n)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=aa(a,n),e.ref=t.ref,e.return=t,t.child=e}function hI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ou(a,n)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,mi(e,t,i)}return _v(e,t,r,n,i)}function pI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Hs,Mr),Mr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Hs,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Fe(Hs,Mr),Mr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Fe(Hs,Mr),Mr|=n;return hr(e,t,i,r),t.child}function mI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _v(e,t,r,n,i){var a=Cr(r)?es:ur.current;return a=lo(t,a),eo(t,i),r=V0(e,t,r,n,a,i),n=F0(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Qe&&n&&P0(t),t.flags|=1,hr(e,t,r,i),t.child)}function WE(e,t,r,n,i){if(Cr(r)){var a=!0;tf(t)}else a=!1;if(eo(t,i),t.stateNode===null)jd(e,t),cI(t,r,n),wv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Cr(r)?es:ur.current,u=lo(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&FE(t,s,n,u),Bi=!1;var p=t.memoizedState;s.state=p,of(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Tr.current||Bi?(typeof c=="function"&&(yv(t,r,c,n),l=t.memoizedState),(o=Bi||VE(t,r,o,n,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,BC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:mn(t.type,o),s.props=u,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Cr(r)?es:ur.current,l=lo(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&FE(t,s,n,l),Bi=!1,p=t.memoizedState,s.state=p,of(t,n,s,i);var g=t.memoizedState;o!==f||p!==g||Tr.current||Bi?(typeof m=="function"&&(yv(t,r,m,n),g=t.memoizedState),(u=Bi||VE(t,r,u,n,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return bv(e,t,r,n,a,i)}function bv(e,t,r,n,i,a){mI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&jE(t,r,!1),mi(e,t,a);n=t.stateNode,CV.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=co(t,e.child,null,a),t.child=co(t,null,o,a)):hr(e,t,o,a),t.memoizedState=n.state,i&&jE(t,r,!0),t.child}function gI(e){var t=e.stateNode;t.pendingContext?IE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&IE(e,t.context,!1),R0(e,t.containerInfo)}function KE(e,t,r,n,i){return uo(),C0(i),t.flags|=256,hr(e,t,r,n),t.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function Sv(e){return{baseLanes:e,cachePool:null,transitions:null}}function vI(e,t,r){var n=t.pendingProps,i=Je.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Je,i&1),e===null)return gv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lh(s,n,0,null),e=Ga(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sv(r),t.memoizedState=Ev,e):U0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return IV(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=aa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=aa(o,a):(a=Ga(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Sv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Ev,n}return a=e.child,e=a.sibling,n=aa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function U0(e,t){return t=Lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qc(e,t,r,n){return n!==null&&C0(n),co(t,e.child,null,r),e=U0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IV(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=ng(Error(W(422))),Qc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Lh({mode:"visible",children:n.children},i,0,null),a=Ga(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&co(t,e.child,null,s),t.child.memoizedState=Sv(s),t.memoizedState=Ev,a);if(!(t.mode&1))return Qc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(W(419)),n=ng(a,n,void 0),Qc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ar||o){if(n=$t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pi(e,i),bn(n,e,i,-1))}return G0(),n=ng(Error(W(421))),Qc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UV.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Fr=ta(i.nextSibling),Ur=t,Qe=!0,vn=null,e!==null&&(Jr[en++]=ii,Jr[en++]=ai,Jr[en++]=ts,ii=e.id,ai=e.overflow,ts=t),t=U0(t,n.children),t.flags|=4096,t)}function HE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vv(e.return,t,r)}function ig(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function yI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(hr(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HE(e,r,t);else if(e.tag===19)HE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&lf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ig(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ig(t,!0,r,null,a);break;case"together":ig(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=aa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=aa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jV(e,t,r){switch(t.tag){case 3:gI(t),uo();break;case 5:qC(t);break;case 1:Cr(t.type)&&tf(t);break;case 4:R0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Fe(af,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?vI(e,t,r):(Fe(Je,Je.current&1),e=mi(e,t,r),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return yI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,pI(e,t,r)}return mi(e,t,r)}var wI,Av,xI,_I;wI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Av=function(){};xI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ua(Fn.current);var a=null;switch(r){case"input":i=Hg(e,i),n=Hg(e,n),a=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),a=[];break;case"textarea":i=Yg(e,i),n=Yg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jd)}Zg(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};_I=function(e,t,r,n){r!==n&&(t.flags|=4)};function yl(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NV(e,t,r){var n=t.pendingProps;switch(T0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Cr(t.type)&&ef(),tr(t),null;case 3:return n=t.stateNode,fo(),He(Tr),He(ur),M0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(kv(vn),vn=null))),Av(e,t),tr(t),null;case 5:D0(t);var i=Ua(fu.current);if(r=t.type,e!==null&&t.stateNode!=null)xI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return tr(t),null}if(e=Ua(Fn.current),Hc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Mn]=t,n[cu]=a,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<Nl.length;i++)qe(Nl[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":rE(n,a),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qe("invalid",n);break;case"textarea":iE(n,a),qe("invalid",n)}Zg(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Kc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Kc(n.textContent,o,e),i=["children",""+o]):eu.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&qe("scroll",n)}switch(r){case"input":Vc(n),nE(n,a,!0);break;case"textarea":Vc(n),aE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Jd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Mn]=t,e[cu]=n,wI(e,t,!1,!1),t.stateNode=e;e:{switch(s=Jg(r,n),r){case"dialog":qe("cancel",e),qe("close",e),i=n;break;case"iframe":case"object":case"embed":qe("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nl.length;i++)qe(Nl[i],e);i=n;break;case"source":qe("error",e),i=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=n;break;case"details":qe("toggle",e),i=n;break;case"input":rE(e,n),i=Hg(e,n),qe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),qe("invalid",e);break;case"textarea":iE(e,n),i=Yg(e,n),qe("invalid",e);break;default:i=n}Zg(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ZT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&tu(e,l):typeof l=="number"&&tu(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(eu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",e):l!=null&&f0(e,a,l,s))}switch(r){case"input":Vc(e),nE(e,n,!1);break;case"textarea":Vc(e),aE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ys(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ys(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)_I(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Ua(fu.current),Ua(Fn.current),Hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mn]=t,(a=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:Kc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mn]=t,t.stateNode=n}return tr(t),null;case 13:if(He(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Fr!==null&&t.mode&1&&!(t.flags&128))FC(),uo(),t.flags|=98560,a=!1;else if(a=Hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Mn]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),a=!1}else vn!==null&&(kv(vn),vn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?Tt===0&&(Tt=3):G0())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return fo(),Av(e,t),e===null&&lu(t.stateNode.containerInfo),tr(t),null;case 10:return N0(t.type._context),tr(t),null;case 17:return Cr(t.type)&&ef(),tr(t),null;case 19:if(He(Je),a=t.memoizedState,a===null)return tr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)yl(a,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=lf(e),s!==null){for(t.flags|=128,yl(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>po&&(t.flags|=128,n=!0,yl(a,!1),t.lanes=4194304)}else{if(!n)if(e=lf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return tr(t),null}else 2*ct()-a.renderingStartTime>po&&r!==1073741824&&(t.flags|=128,n=!0,yl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=Je.current,Fe(Je,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return H0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function OV(e,t){switch(T0(t),t.tag){case 1:return Cr(t.type)&&ef(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),He(Tr),He(ur),M0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return D0(t),null;case 13:if(He(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Je),null;case 4:return fo(),null;case 10:return N0(t.type._context),null;case 22:case 23:return H0(),null;case 24:return null;default:return null}}var Yc=!1,ar=!1,kV=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function Pv(e,t,r){try{r()}catch(n){at(e,t,n)}}var GE=!1;function RV(e,t){if(uv=Yd,e=PC(),A0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(cv={focusedElem:e,selectionRange:r},Yd=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,x=t.stateNode,E=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:mn(t.type,y),_);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){at(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=GE,GE=!1,g}function Wl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Pv(t,r,a)}i=i.next}while(i!==n)}}function Dh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bI(e){var t=e.alternate;t!==null&&(e.alternate=null,bI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[cu],delete t[hv],delete t[gV],delete t[vV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function EI(e){return e.tag===5||e.tag===3||e.tag===4}function QE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||EI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jd));else if(n!==4&&(e=e.child,e!==null))for(Cv(e,t,r),e=e.sibling;e!==null;)Cv(e,t,r),e=e.sibling}function Iv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Iv(e,t,r),e=e.sibling;e!==null;)Iv(e,t,r),e=e.sibling}var Ht=null,gn=!1;function zi(e,t,r){for(r=r.child;r!==null;)SI(e,t,r),r=r.sibling}function SI(e,t,r){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Th,r)}catch{}switch(r.tag){case 5:ar||Ks(r,t);case 6:var n=Ht,i=gn;Ht=null,zi(e,t,r),Ht=n,gn=i,Ht!==null&&(gn?(e=Ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(gn?(e=Ht,r=r.stateNode,e.nodeType===8?Xm(e.parentNode,r):e.nodeType===1&&Xm(e,r),au(e)):Xm(Ht,r.stateNode));break;case 4:n=Ht,i=gn,Ht=r.stateNode.containerInfo,gn=!0,zi(e,t,r),Ht=n,gn=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Pv(r,t,s),i=i.next}while(i!==n)}zi(e,t,r);break;case 1:if(!ar&&(Ks(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){at(r,t,o)}zi(e,t,r);break;case 21:zi(e,t,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,zi(e,t,r),ar=n):zi(e,t,r);break;default:zi(e,t,r)}}function YE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kV),t.forEach(function(n){var i=BV.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,gn=!1;break e;case 3:Ht=o.stateNode.containerInfo,gn=!0;break e;case 4:Ht=o.stateNode.containerInfo,gn=!0;break e}o=o.return}if(Ht===null)throw Error(W(160));SI(a,s,i),Ht=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AI(t,e),t=t.sibling}function AI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),kn(e),n&4){try{Wl(3,e,e.return),Dh(3,e)}catch(y){at(e,e.return,y)}try{Wl(5,e,e.return)}catch(y){at(e,e.return,y)}}break;case 1:pn(t,e),kn(e),n&512&&r!==null&&Ks(r,r.return);break;case 5:if(pn(t,e),kn(e),n&512&&r!==null&&Ks(r,r.return),e.flags&32){var i=e.stateNode;try{tu(i,"")}catch(y){at(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&HT(i,a),Jg(o,s);var u=Jg(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ZT(i,f):c==="dangerouslySetInnerHTML"?YT(i,f):c==="children"?tu(i,f):f0(i,c,f,u)}switch(o){case"input":Gg(i,a);break;case"textarea":GT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ys(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ys(i,!!a.multiple,a.defaultValue,!0):Ys(i,!!a.multiple,a.multiple?[]:"",!1))}i[cu]=a}catch(y){at(e,e.return,y)}}break;case 6:if(pn(t,e),kn(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){at(e,e.return,y)}}break;case 3:if(pn(t,e),kn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{au(t.containerInfo)}catch(y){at(e,e.return,y)}break;case 4:pn(t,e),kn(e);break;case 13:pn(t,e),kn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(W0=ct())),n&4&&YE(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ar=(u=ar)||c,pn(t,e),ar=u):pn(t,e),kn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Z=e,c=e.child;c!==null;){for(f=Z=c;Z!==null;){switch(p=Z,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wl(4,p,p.return);break;case 1:Ks(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){at(n,r,y)}}break;case 5:Ks(p,p.return);break;case 22:if(p.memoizedState!==null){ZE(f);continue}}m!==null?(m.return=p,Z=m):ZE(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=XT("display",s))}catch(y){at(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){at(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),kn(e),n&4&&YE(e);break;case 21:break;default:pn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(EI(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(tu(i,""),n.flags&=-33);var a=QE(e);Iv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=QE(e);Cv(e,o,s);break;default:throw Error(W(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DV(e,t,r){Z=e,PI(e)}function PI(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Yc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ar;o=Yc;var u=ar;if(Yc=s,(ar=l)&&!u)for(Z=i;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?JE(i):l!==null?(l.return=s,Z=l):JE(i);for(;a!==null;)Z=a,PI(a),a=a.sibling;Z=i,Yc=o,ar=u}XE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):XE(e)}}function XE(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||Dh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:mn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&DE(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}DE(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&au(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ar||t.flags&512&&Tv(t)}catch(p){at(t,t.return,p)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function ZE(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function JE(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dh(4,t)}catch(l){at(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){at(t,i,l)}}var a=t.return;try{Tv(t)}catch(l){at(t,a,l)}break;case 5:var s=t.return;try{Tv(t)}catch(l){at(t,s,l)}}}catch(l){at(t,t.return,l)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var MV=Math.ceil,df=Ci.ReactCurrentDispatcher,B0=Ci.ReactCurrentOwner,an=Ci.ReactCurrentBatchConfig,Se=0,$t=null,mt=null,Xt=0,Mr=0,Hs=ba(0),Tt=0,gu=null,ns=0,Mh=0,q0=0,Kl=null,Er=null,W0=0,po=1/0,Zn=null,ff=!1,jv=null,na=null,Xc=!1,Yi=null,hf=0,Hl=0,Nv=null,Nd=-1,Od=0;function gr(){return Se&6?ct():Nd!==-1?Nd:Nd=ct()}function ia(e){return e.mode&1?Se&2&&Xt!==0?Xt&-Xt:wV.transition!==null?(Od===0&&(Od=cC()),Od):(e=je,e!==0||(e=window.event,e=e===void 0?16:vC(e.type)),e):1}function bn(e,t,r,n){if(50<Hl)throw Hl=0,Nv=null,Error(W(185));zu(e,r,n),(!(Se&2)||e!==$t)&&(e===$t&&(!(Se&2)&&(Mh|=r),Tt===4&&Hi(e,Xt)),Ir(e,n),r===1&&Se===0&&!(t.mode&1)&&(po=ct()+500,Oh&&Ea()))}function Ir(e,t){var r=e.callbackNode;wL(e,t);var n=Qd(e,e===$t?Xt:0);if(n===0)r!==null&&lE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lE(r),t===1)e.tag===0?yV(e1.bind(null,e)):MC(e1.bind(null,e)),pV(function(){!(Se&6)&&Ea()}),r=null;else{switch(dC(n)){case 1:r=v0;break;case 4:r=lC;break;case 16:r=Gd;break;case 536870912:r=uC;break;default:r=Gd}r=RI(r,TI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TI(e,t){if(Nd=-1,Od=0,Se&6)throw Error(W(327));var r=e.callbackNode;if(to()&&e.callbackNode!==r)return null;var n=Qd(e,e===$t?Xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pf(e,n);else{t=n;var i=Se;Se|=2;var a=II();($t!==e||Xt!==t)&&(Zn=null,po=ct()+500,Ha(e,t));do try{FV();break}catch(o){CI(e,o)}while(!0);j0(),df.current=a,Se=i,mt!==null?t=0:($t=null,Xt=0,t=Tt)}if(t!==0){if(t===2&&(i=iv(e),i!==0&&(n=i,t=Ov(e,i))),t===1)throw r=gu,Ha(e,0),Hi(e,n),Ir(e,ct()),r;if(t===6)Hi(e,n);else{if(i=e.current.alternate,!(n&30)&&!LV(i)&&(t=pf(e,n),t===2&&(a=iv(e),a!==0&&(n=a,t=Ov(e,a))),t===1))throw r=gu,Ha(e,0),Hi(e,n),Ir(e,ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Da(e,Er,Zn);break;case 3:if(Hi(e,n),(n&130023424)===n&&(t=W0+500-ct(),10<t)){if(Qd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fv(Da.bind(null,e,Er,Zn),t);break}Da(e,Er,Zn);break;case 4:if(Hi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-_n(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MV(n/1960))-n,10<n){e.timeoutHandle=fv(Da.bind(null,e,Er,Zn),n);break}Da(e,Er,Zn);break;case 5:Da(e,Er,Zn);break;default:throw Error(W(329))}}}return Ir(e,ct()),e.callbackNode===r?TI.bind(null,e):null}function Ov(e,t){var r=Kl;return e.current.memoizedState.isDehydrated&&(Ha(e,t).flags|=256),e=pf(e,t),e!==2&&(t=Er,Er=r,t!==null&&kv(t)),e}function kv(e){Er===null?Er=e:Er.push.apply(Er,e)}function LV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Sn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hi(e,t){for(t&=~q0,t&=~Mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function e1(e){if(Se&6)throw Error(W(327));to();var t=Qd(e,0);if(!(t&1))return Ir(e,ct()),null;var r=pf(e,t);if(e.tag!==0&&r===2){var n=iv(e);n!==0&&(t=n,r=Ov(e,n))}if(r===1)throw r=gu,Ha(e,0),Hi(e,t),Ir(e,ct()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,Er,Zn),Ir(e,ct()),null}function K0(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(po=ct()+500,Oh&&Ea())}}function is(e){Yi!==null&&Yi.tag===0&&!(Se&6)&&to();var t=Se;Se|=1;var r=an.transition,n=je;try{if(an.transition=null,je=1,e)return e()}finally{je=n,an.transition=r,Se=t,!(Se&6)&&Ea()}}function H0(){Mr=Hs.current,He(Hs)}function Ha(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hV(r)),mt!==null)for(r=mt.return;r!==null;){var n=r;switch(T0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ef();break;case 3:fo(),He(Tr),He(ur),M0();break;case 5:D0(n);break;case 4:fo();break;case 13:He(Je);break;case 19:He(Je);break;case 10:N0(n.type._context);break;case 22:case 23:H0()}r=r.return}if($t=e,mt=e=aa(e.current,null),Xt=Mr=t,Tt=0,gu=null,q0=Mh=ns=0,Er=Kl=null,za!==null){for(t=0;t<za.length;t++)if(r=za[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}za=null}return e}function CI(e,t){do{var r=mt;try{if(j0(),Cd.current=cf,uf){for(var n=et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uf=!1}if(rs=0,Vt=St=et=null,ql=!1,hu=0,B0.current=null,r===null||r.return===null){Tt=1,gu=t,mt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Xt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=zE(s);if(m!==null){m.flags&=-257,UE(m,s,o,a,t),m.mode&1&&$E(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){$E(a,u,t),G0();break e}l=Error(W(426))}}else if(Qe&&o.mode&1){var _=zE(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),UE(_,s,o,a,t),C0(ho(l,o));break e}}a=l=ho(l,o),Tt!==4&&(Tt=2),Kl===null?Kl=[a]:Kl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=dI(a,l,t);RE(a,x);break e;case 1:o=l;var E=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(na===null||!na.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=fI(a,o,t);RE(a,I);break e}}a=a.return}while(a!==null)}NI(r)}catch(O){t=O,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(!0)}function II(){var e=df.current;return df.current=cf,e===null?cf:e}function G0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(ns&268435455)&&!(Mh&268435455)||Hi($t,Xt)}function pf(e,t){var r=Se;Se|=2;var n=II();($t!==e||Xt!==t)&&(Zn=null,Ha(e,t));do try{VV();break}catch(i){CI(e,i)}while(!0);if(j0(),Se=r,df.current=n,mt!==null)throw Error(W(261));return $t=null,Xt=0,Tt}function VV(){for(;mt!==null;)jI(mt)}function FV(){for(;mt!==null&&!cL();)jI(mt)}function jI(e){var t=kI(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?NI(e):mt=t,B0.current=null}function NI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OV(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,mt=null;return}}else if(r=NV(r,t,Mr),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Da(e,t,r){var n=je,i=an.transition;try{an.transition=null,je=1,$V(e,t,r,n)}finally{an.transition=i,je=n}return null}function $V(e,t,r,n){do to();while(Yi!==null);if(Se&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(xL(e,a),e===$t&&(mt=$t=null,Xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xc||(Xc=!0,RI(Gd,function(){return to(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=an.transition,an.transition=null;var s=je;je=1;var o=Se;Se|=4,B0.current=null,RV(e,r),AI(r,e),sV(cv),Yd=!!uv,cv=uv=null,e.current=r,DV(r),dL(),Se=o,je=s,an.transition=a}else e.current=r;if(Xc&&(Xc=!1,Yi=e,hf=i),a=e.pendingLanes,a===0&&(na=null),pL(r.stateNode),Ir(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ff)throw ff=!1,e=jv,jv=null,e;return hf&1&&e.tag!==0&&to(),a=e.pendingLanes,a&1?e===Nv?Hl++:(Hl=0,Nv=e):Hl=0,Ea(),null}function to(){if(Yi!==null){var e=dC(hf),t=an.transition,r=je;try{if(an.transition=null,je=16>e?16:e,Yi===null)var n=!1;else{if(e=Yi,Yi=null,hf=0,Se&6)throw Error(W(331));var i=Se;for(Se|=4,Z=e.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:Wl(8,c,a)}var f=c.child;if(f!==null)f.return=c,Z=f;else for(;Z!==null;){c=Z;var p=c.sibling,m=c.return;if(bI(c),c===u){Z=null;break}if(p!==null){p.return=m,Z=p;break}Z=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}var E=e.current;for(Z=E;Z!==null;){s=Z;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Z=A;else e:for(s=E;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dh(9,o)}}catch(O){at(o,o.return,O)}if(o===s){Z=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Z=I;break e}Z=o.return}}if(Se=i,Ea(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Th,e)}catch{}n=!0}return n}finally{je=r,an.transition=t}}return!1}function t1(e,t,r){t=ho(r,t),t=dI(e,t,1),e=ra(e,t,1),t=gr(),e!==null&&(zu(e,1,t),Ir(e,t))}function at(e,t,r){if(e.tag===3)t1(e,e,r);else for(;t!==null;){if(t.tag===3){t1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){e=ho(r,e),e=fI(t,e,1),t=ra(t,e,1),e=gr(),t!==null&&(zu(t,1,e),Ir(t,e));break}}t=t.return}}function zV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,$t===e&&(Xt&r)===r&&(Tt===4||Tt===3&&(Xt&130023424)===Xt&&500>ct()-W0?Ha(e,0):q0|=r),Ir(e,t)}function OI(e,t){t===0&&(e.mode&1?(t=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):t=1);var r=gr();e=pi(e,t),e!==null&&(zu(e,t,r),Ir(e,r))}function UV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),OI(e,r)}function BV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),OI(e,r)}var kI;kI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tr.current)Ar=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ar=!1,jV(e,t,r);Ar=!!(e.flags&131072)}else Ar=!1,Qe&&t.flags&1048576&&LC(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jd(e,t),e=t.pendingProps;var i=lo(t,ur.current);eo(t,r),i=V0(null,t,n,e,i,r);var a=F0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(n)?(a=!0,tf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(t),i.updater=Rh,t.stateNode=i,i._reactInternals=t,wv(t,n,e,r),t=bv(null,t,n,!0,a,r)):(t.tag=0,Qe&&a&&P0(t),hr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=WV(n),e=mn(n,e),i){case 0:t=_v(null,t,n,e,r);break e;case 1:t=WE(null,t,n,e,r);break e;case 11:t=BE(null,t,n,e,r);break e;case 14:t=qE(null,t,n,mn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mn(n,i),_v(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mn(n,i),WE(e,t,n,i,r);case 3:e:{if(gI(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,BC(e,t),of(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ho(Error(W(423)),t),t=KE(e,t,n,r,i);break e}else if(n!==i){i=ho(Error(W(424)),t),t=KE(e,t,n,r,i);break e}else for(Fr=ta(t.stateNode.containerInfo.firstChild),Ur=t,Qe=!0,vn=null,r=zC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uo(),n===i){t=mi(e,t,r);break e}hr(e,t,n,r)}t=t.child}return t;case 5:return qC(t),e===null&&gv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,dv(n,i)?s=null:a!==null&&dv(n,a)&&(t.flags|=32),mI(e,t),hr(e,t,s,r),t.child;case 6:return e===null&&gv(t),null;case 13:return vI(e,t,r);case 4:return R0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=co(t,null,n,r):hr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mn(n,i),BE(e,t,n,i,r);case 7:return hr(e,t,t.pendingProps,r),t.child;case 8:return hr(e,t,t.pendingProps.children,r),t.child;case 12:return hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Fe(af,n._currentValue),n._currentValue=s,a!==null)if(Sn(a.value,s)){if(a.children===i.children&&!Tr.current){t=mi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=li(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(W(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),vv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}hr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,eo(t,r),i=on(i),n=n(i),t.flags|=1,hr(e,t,n,r),t.child;case 14:return n=t.type,i=mn(n,t.pendingProps),i=mn(n.type,i),qE(e,t,n,i,r);case 15:return hI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mn(n,i),jd(e,t),t.tag=1,Cr(n)?(e=!0,tf(t)):e=!1,eo(t,r),cI(t,n,i),wv(t,n,i,r),bv(null,t,n,!0,e,r);case 19:return yI(e,t,r);case 22:return pI(e,t,r)}throw Error(W(156,t.tag))};function RI(e,t){return oC(e,t)}function qV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,n){return new qV(e,t,r,n)}function Q0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WV(e){if(typeof e=="function")return Q0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p0)return 11;if(e===m0)return 14}return 2}function aa(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kd(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Q0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ls:return Ga(r.children,i,a,t);case h0:s=8,i|=8;break;case Bg:return e=rn(12,r,t,i|2),e.elementType=Bg,e.lanes=a,e;case qg:return e=rn(13,r,t,i),e.elementType=qg,e.lanes=a,e;case Wg:return e=rn(19,r,t,i),e.elementType=Wg,e.lanes=a,e;case qT:return Lh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UT:s=10;break e;case BT:s=9;break e;case p0:s=11;break e;case m0:s=14;break e;case Ui:s=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=rn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ga(e,t,r,n){return e=rn(7,e,n,t),e.lanes=r,e}function Lh(e,t,r,n){return e=rn(22,e,n,t),e.elementType=qT,e.lanes=r,e.stateNode={isHidden:!1},e}function ag(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function sg(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KV(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$m(0),this.expirationTimes=$m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y0(e,t,r,n,i,a,s,o,l){return e=new KV(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(a),e}function HV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function DI(e){if(!e)return fa;e=e._reactInternals;e:{if(gs(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Cr(r))return DC(e,r,t)}return t}function MI(e,t,r,n,i,a,s,o,l){return e=Y0(r,n,!0,e,i,a,s,o,l),e.context=DI(null),r=e.current,n=gr(),i=ia(r),a=li(n,i),a.callback=t??null,ra(r,a,i),e.current.lanes=i,zu(e,i,n),Ir(e,n),e}function Vh(e,t,r,n){var i=t.current,a=gr(),s=ia(i);return r=DI(r),t.context===null?t.context=r:t.pendingContext=r,t=li(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ra(i,t,s),e!==null&&(bn(e,i,s,a),Td(e,i,s)),s}function mf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function X0(e,t){r1(e,t),(e=e.alternate)&&r1(e,t)}function GV(){return null}var LI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Z0(e){this._internalRoot=e}Fh.prototype.render=Z0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Vh(e,t,null,null)};Fh.prototype.unmount=Z0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){Vh(null,e,null,null)}),t[hi]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=pC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ki.length&&t!==0&&t<Ki[r].priority;r++);Ki.splice(r,0,e),r===0&&gC(e)}};function J0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n1(){}function QV(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=mf(s);a.call(u)}}var s=MI(t,n,e,0,null,!1,!1,"",n1);return e._reactRootContainer=s,e[hi]=s.current,lu(e.nodeType===8?e.parentNode:e),is(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=mf(l);o.call(u)}}var l=Y0(e,0,!1,null,null,!1,!1,"",n1);return e._reactRootContainer=l,e[hi]=l.current,lu(e.nodeType===8?e.parentNode:e),is(function(){Vh(t,l,r,n)}),l}function zh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=mf(s);o.call(l)}}Vh(t,s,e,i)}else s=QV(r,t,e,i,n);return mf(s)}fC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jl(t.pendingLanes);r!==0&&(y0(t,r|1),Ir(t,ct()),!(Se&6)&&(po=ct()+500,Ea()))}break;case 13:is(function(){var n=pi(e,1);if(n!==null){var i=gr();bn(n,e,1,i)}}),X0(e,1)}};w0=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var r=gr();bn(t,e,134217728,r)}X0(e,134217728)}};hC=function(e){if(e.tag===13){var t=ia(e),r=pi(e,t);if(r!==null){var n=gr();bn(r,e,t,n)}X0(e,t)}};pC=function(){return je};mC=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};tv=function(e,t,r){switch(t){case"input":if(Gg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Nh(n);if(!i)throw Error(W(90));KT(n),Gg(n,i)}}}break;case"textarea":GT(e,r);break;case"select":t=r.value,t!=null&&Ys(e,!!r.multiple,t,!1)}};tC=K0;rC=is;var YV={usingClientEntryPoint:!1,Events:[Bu,zs,Nh,JT,eC,K0]},wl={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XV={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aC(e),e===null?null:e.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||GV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Th=Zc.inject(XV),Vn=Zc}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YV;Kr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(t))throw Error(W(200));return HV(e,t,null,r)};Kr.createRoot=function(e,t){if(!J0(e))throw Error(W(299));var r=!1,n="",i=LI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Y0(e,1,!1,null,null,r,!1,n,i),e[hi]=t.current,lu(e.nodeType===8?e.parentNode:e),new Z0(t)};Kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=aC(t),e=e===null?null:e.stateNode,e};Kr.flushSync=function(e){return is(e)};Kr.hydrate=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!0,r)};Kr.hydrateRoot=function(e,t,r){if(!J0(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=LI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=MI(t,null,e,1,r??null,i,!1,a,s),e[hi]=t.current,lu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fh(t)};Kr.render=function(e,t,r){if(!$h(t))throw Error(W(200));return zh(null,e,t,!1,r)};Kr.unmountComponentAtNode=function(e){if(!$h(e))throw Error(W(40));return e._reactRootContainer?(is(function(){zh(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Kr.unstable_batchedUpdates=K0;Kr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$h(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return zh(e,t,r,!1,n)};Kr.version="18.3.1-next-f1338f8080-20240426";function VI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VI)}catch(e){console.error(e)}}VI(),VT.exports=Kr;var Wn=VT.exports,i1=Wn;zg.createRoot=i1.createRoot,zg.hydrateRoot=i1.hydrateRoot;const a1="incidents",s1="automation_rules",o1="system_tags",ZV=e=>e.map(t=>({...t,title:t.title||"",contactUser:t.contactUser||"",userId:t.userId||"user-legacy",prQA2:t.prQA2||"",prMain:t.prMain||"",creationDate:t.creationDate||new Date().toISOString().split("T")[0],type:t.type||"correctivo",assignedTo:t.assignedTo||"",comments:t.comments||[],timeEntries:t.timeEntries||[],estimatedHours:t.estimatedHours||0,tags:t.tags||[],prQA2List:t.prQA2List||[],prMainList:t.prMainList||[]})),ge={getIncidents:()=>{try{const e=localStorage.getItem(a1);if(!e)return[];const t=JSON.parse(e);return ZV(Array.isArray(t)?t:[])}catch(e){return console.error("Error loading incidents:",e),[]}},saveIncidents:e=>{try{localStorage.setItem(a1,JSON.stringify(e))}catch(t){console.error("Error saving incidents:",t)}},addIncident:e=>{const t=ge.getIncidents();return t.push(e),ge.saveIncidents(t),t},updateIncident:(e,t)=>{const r=ge.getIncidents(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t,updatedAt:new Date().toISOString()},ge.saveIncidents(r)),r},deleteIncident:e=>{const t=ge.getIncidents().filter(r=>r.id!==e);return ge.saveIncidents(t),t},addComment:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);if(i){const a={id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,incidentId:e,author:t,text:r,createdAt:new Date().toISOString()};i.comments||(i.comments=[]),i.comments.push(a),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)}return n},deleteComment:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.comments&&(n.comments=n.comments.filter(i=>i.id!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},addTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);if(n){n.tags||(n.tags=[]);const i=t.trim().toLowerCase();i&&!n.tags.includes(i)&&(n.tags.push(i),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r),ge.addSystemTag(i))}return r},removeTag:(e,t)=>{const r=ge.getIncidents(),n=r.find(i=>i.id===e);return n&&n.tags&&(n.tags=n.tags.filter(i=>i!==t),n.updatedAt=new Date().toISOString(),ge.saveIncidents(r)),r},getSystemTags:()=>{try{const e=localStorage.getItem(o1);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading system tags:",e),[]}},saveSystemTags:e=>{try{localStorage.setItem(o1,JSON.stringify(e))}catch(t){console.error("Error saving system tags:",t)}},addSystemTag:e=>{const t=ge.getSystemTags();return t.includes(e)||(t.push(e),t.sort(),ge.saveSystemTags(t)),t},deleteSystemTag:e=>{const t=ge.getSystemTags().filter(r=>r!==e);return ge.saveSystemTags(t),t},getAllTags:()=>ge.getSystemTags(),deleteTagFromAllIncidents:e=>{const t=ge.getIncidents();return t.forEach(r=>{r.tags&&(r.tags=r.tags.filter(n=>n!==e))}),ge.saveIncidents(t),ge.deleteSystemTag(e),t},addPR:(e,t,r,n)=>{const i=ge.getIncidents(),a=i.find(s=>s.id===e);if(a){const s={id:`pr-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,link:r,description:n,createdAt:new Date().toISOString()};t==="qa2"?(a.prQA2List||(a.prQA2List=[]),a.prQA2List.push(s)):(a.prMainList||(a.prMainList=[]),a.prMainList.push(s)),a.updatedAt=new Date().toISOString(),ge.saveIncidents(i)}return i},removePR:(e,t,r)=>{const n=ge.getIncidents(),i=n.find(a=>a.id===e);return i&&(t==="qa2"&&i.prQA2List?i.prQA2List=i.prQA2List.filter(a=>a.id!==r):t==="main"&&i.prMainList&&(i.prMainList=i.prMainList.filter(a=>a.id!==r)),i.updatedAt=new Date().toISOString(),ge.saveIncidents(n)),n},updatePR:(e,t,r,n,i)=>{const a=ge.getIncidents(),s=a.find(o=>o.id===e);if(s){let o=t==="qa2"?s.prQA2List:s.prMainList;if(o){const l=o.findIndex(u=>u.id===r);l!==-1&&(o[l]={...o[l],link:n,description:i},s.updatedAt=new Date().toISOString(),ge.saveIncidents(a))}}return a},getAutomationRules:()=>{try{const e=localStorage.getItem(s1);return e?JSON.parse(e).map(r=>({...r,conditions:r.conditions||[],actions:r.actions||[]})):[]}catch(e){return console.error("Error loading automation rules:",e),[]}},saveAutomationRules:e=>{try{localStorage.setItem(s1,JSON.stringify(e))}catch(t){console.error("Error saving automation rules:",t)}},addAutomationRule:e=>{const t=ge.getAutomationRules(),r={...e,id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()};return t.push(r),ge.saveAutomationRules(t),t},updateAutomationRule:(e,t)=>{const r=ge.getAutomationRules(),n=r.findIndex(i=>i.id===e);return n!==-1&&(r[n]={...r[n],...t},ge.saveAutomationRules(r)),r},deleteAutomationRule:e=>{const t=ge.getAutomationRules().filter(r=>r.id!==e);return ge.saveAutomationRules(t),t},applyAutomationRules:(e,t)=>{const r=ge.getAutomationRules().filter(i=>i.enabled&&i.trigger===t);let n={...e};return r.forEach(i=>{i.conditions.every(s=>{const o=n[s.field];switch(s.operator){case"equals":return o===s.value;case"not-equals":return o!==s.value;case"greater-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)>s.value:!1;case"less-than":return s.field==="days-open"?Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5)<s.value:!1;case"contains":return s.field==="has-tag"&&n.tags?n.tags.includes(s.value):!1;default:return!1}})&&i.actions.forEach(s=>{switch(s.type){case"set-priority":n.priority=s.value;break;case"set-status":n.status=s.value;break;case"add-tag":n.tags||(n.tags=[]),n.tags.includes(s.value)||n.tags.push(s.value);break;case"assign-to":n.assignedTo=s.value;break}})}),n}},l1="users",Jc="current_user",fr={getUsers:()=>{const e=localStorage.getItem(l1);return e?JSON.parse(e):[]},saveUsers:e=>{localStorage.setItem(l1,JSON.stringify(e))},createUser:(e,t,r)=>{const n=fr.getUsers();if(n.find(a=>a.username.toLowerCase()===e.toLowerCase()))throw new Error("El usuario ya existe");const i={id:`user-${Date.now()}`,username:e.trim(),password:t,name:r.trim(),createdAt:new Date().toISOString()};return n.push(i),fr.saveUsers(n),i},login:(e,t)=>{const n=fr.getUsers().find(i=>i.username.toLowerCase()===e.toLowerCase()&&i.password===t);return n?(localStorage.setItem(Jc,JSON.stringify(n)),n):null},logout:()=>{localStorage.removeItem(Jc)},getCurrentUser:()=>{const e=localStorage.getItem(Jc);return e?JSON.parse(e):null},isAuthenticated:()=>fr.getCurrentUser()!==null,initializeDefaultUser:()=>{fr.getUsers().length===0&&fr.createUser("admin","admin123","Administrador")},updateUser:(e,t)=>{const r=fr.getUsers(),n=r.findIndex(s=>s.id===e);if(n===-1)throw new Error("Usuario no encontrado");if(t.username&&t.username!==r[n].username&&r.find(s=>s.username.toLowerCase()===t.username.toLowerCase()))throw new Error("El nombre de usuario ya existe");const i={...r[n],...t.username&&{username:t.username.trim()},...t.password&&{password:t.password},...t.name&&{name:t.name.trim()}};r[n]=i,fr.saveUsers(r);const a=fr.getCurrentUser();return a&&a.id===e&&localStorage.setItem(Jc,JSON.stringify(i)),i},deleteUser:e=>{const t=fr.getUsers(),r=t.filter(n=>n.id!==e);if(r.length===t.length)throw new Error("Usuario no encontrado");fr.saveUsers(r)}},JV=()=>{};var u1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},e4=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},$I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),n.push(r[c],r[f],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(FI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):e4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new t4;const p=a<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r4=function(e){const t=FI(e);return $I.encodeByteArray(t,!0)},gf=function(e){return r4(e).replace(/\./g,"")},n4=function(e){try{return $I.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=()=>i4().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof u1>"u")return;const e=u1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},o4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&n4(e[1]);return t&&JSON.parse(t)},ew=()=>{try{return JV()||a4()||s4()||o4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l4=e=>{var t,r;return(r=(t=ew())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},u4=e=>{const t=l4(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},zI=()=>{var e;return(e=ew())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gf(JSON.stringify(r)),gf(JSON.stringify(s)),""].join(".")}const Gl={};function h4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?e.emulator.push(t):e.prod.push(t);return e}function p4(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let c1=!1;function m4(e,t){if(typeof window>"u"||typeof document>"u"||!tw(window.location.host)||Gl[e]===t||Gl[e]||c1)return;Gl[e]=t;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=h4().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{c1=!0,s()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=p4(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),y=r("learnmore"),_=document.getElementById(y)||document.createElement("a"),x=r("preprendIcon"),E=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;o(A),c(_,y);const I=u();l(E,x),A.append(E,g,_,I),document.body.appendChild(A)}a?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){var t;const e=(t=ew())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y4(){return!v4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w4(){try{return typeof indexedDB=="object"}catch{return!1}}function x4(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="FirebaseError";class Do extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=_4,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,UI.prototype.create)}}class UI{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?b4(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Do(i,o,n)}}function b4(e,t){return e.replace(E4,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const E4=/\{\$([^}]+)}/g;function vf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(d1(a)&&d1(s)){if(!vf(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function d1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e){return e&&e._delegate?e._delegate:e}class vu{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S4=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new c4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P4(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A4(e){return e===Ma?void 0:e}function P4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new S4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ee||(Ee={}));const C4={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},I4=Ee.INFO,j4={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},N4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=j4[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class BI{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}}const O4=(e,t)=>t.some(r=>e instanceof r);let f1,h1;function k4(){return f1||(f1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qI=new WeakMap,Rv=new WeakMap,WI=new WeakMap,og=new WeakMap,rw=new WeakMap;function D4(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(sa(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&qI.set(r,e)}).catch(()=>{}),rw.set(t,e),t}function M4(e){if(Rv.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Rv.set(e,t)}let Dv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Rv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||WI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return sa(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L4(e){Dv=e(Dv)}function V4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(lg(this),t,...r);return WI.set(n,t.sort?t.sort():[t]),sa(n)}:R4().includes(e)?function(...t){return e.apply(lg(this),t),sa(qI.get(this))}:function(...t){return sa(e.apply(lg(this),t))}}function F4(e){return typeof e=="function"?V4(e):(e instanceof IDBTransaction&&M4(e),O4(e,k4())?new Proxy(e,Dv):e)}function sa(e){if(e instanceof IDBRequest)return D4(e);if(og.has(e))return og.get(e);const t=F4(e);return t!==e&&(og.set(e,t),rw.set(t,e)),t}const lg=e=>rw.get(e);function $4(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=sa(s);return n&&s.addEventListener("upgradeneeded",l=>{n(sa(s.result),l.oldVersion,l.newVersion,sa(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const z4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],ug=new Map;function p1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ug.get(t))return ug.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=U4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||z4.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return ug.set(t,a),a}L4(e=>({...e,get:(t,r,n)=>p1(t,r)||e.get(t,r,n),has:(t,r)=>!!p1(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(q4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mv="@firebase/app",m1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new BI("@firebase/app"),W4="@firebase/app-compat",K4="@firebase/analytics-compat",H4="@firebase/analytics",G4="@firebase/app-check-compat",Q4="@firebase/app-check",Y4="@firebase/auth",X4="@firebase/auth-compat",Z4="@firebase/database",J4="@firebase/data-connect",e3="@firebase/database-compat",t3="@firebase/functions",r3="@firebase/functions-compat",n3="@firebase/installations",i3="@firebase/installations-compat",a3="@firebase/messaging",s3="@firebase/messaging-compat",o3="@firebase/performance",l3="@firebase/performance-compat",u3="@firebase/remote-config",c3="@firebase/remote-config-compat",d3="@firebase/storage",f3="@firebase/storage-compat",h3="@firebase/firestore",p3="@firebase/ai",m3="@firebase/firestore-compat",g3="firebase",v3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",y3={[Mv]:"fire-core",[W4]:"fire-core-compat",[H4]:"fire-analytics",[K4]:"fire-analytics-compat",[Q4]:"fire-app-check",[G4]:"fire-app-check-compat",[Y4]:"fire-auth",[X4]:"fire-auth-compat",[Z4]:"fire-rtdb",[J4]:"fire-data-connect",[e3]:"fire-rtdb-compat",[t3]:"fire-fn",[r3]:"fire-fn-compat",[n3]:"fire-iid",[i3]:"fire-iid-compat",[a3]:"fire-fcm",[s3]:"fire-fcm-compat",[o3]:"fire-perf",[l3]:"fire-perf-compat",[u3]:"fire-rc",[c3]:"fire-rc-compat",[d3]:"fire-gcs",[f3]:"fire-gcs-compat",[h3]:"fire-fst",[m3]:"fire-fst-compat",[p3]:"fire-vertex","fire-js":"fire-js",[g3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,w3=new Map,Vv=new Map;function g1(e,t){try{e.container.addComponent(t)}catch(r){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function wf(e){const t=e.name;if(Vv.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;Vv.set(t,e);for(const r of yf.values())g1(r,e);for(const r of w3.values())g1(r,e);return!0}function x3(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function _3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new UI("app","Firebase",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=v3;function KI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Lv,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw oa.create("bad-app-name",{appName:String(i)});if(r||(r=zI()),!r)throw oa.create("no-options");const a=yf.get(i);if(a){if(vf(r,a.options)&&vf(n,a.config))return a;throw oa.create("duplicate-app",{appName:i})}const s=new T4(i);for(const l of Vv.values())s.addComponent(l);const o=new E3(r,n,s);return yf.set(i,o),o}function A3(e=Lv){const t=yf.get(e);if(!t&&e===Lv&&zI())return KI();if(!t)throw oa.create("no-app",{appName:e});return t}function ro(e,t,r){let n=y3[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(s.join(" "));return}wf(new vu(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebase-heartbeat-database",T3=1,yu="firebase-heartbeat-store";let cg=null;function HI(){return cg||(cg=$4(P3,T3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yu)}catch(r){console.warn(r)}}}}).catch(e=>{throw oa.create("idb-open",{originalErrorMessage:e.message})})),cg}async function C3(e){try{const r=(await HI()).transaction(yu),n=await r.objectStore(yu).get(GI(e));return await r.done,n}catch(t){if(t instanceof Do)gi.warn(t.message);else{const r=oa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(r.message)}}}async function v1(e,t){try{const n=(await HI()).transaction(yu,"readwrite");await n.objectStore(yu).put(t,GI(e)),await n.done}catch(r){if(r instanceof Do)gi.warn(r.message);else{const n=oa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gi.warn(n.message)}}}function GI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1024,j3=30;class N3{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new k3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>j3){const s=R3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){gi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=y1(),{heartbeatsToSend:n,unsentEntries:i}=O3(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return gi.warn(r),""}}}function y1(){return new Date().toISOString().substring(0,10)}function O3(e,t=I3){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),w1(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),w1(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class k3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w4()?x4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await C3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return v1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return v1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function w1(e){return gf(JSON.stringify({version:2,heartbeats:e})).length}function R3(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e){wf(new vu("platform-logger",t=>new B4(t),"PRIVATE")),wf(new vu("heartbeat",t=>new N3(t),"PRIVATE")),ro(Mv,m1,e),ro(Mv,m1,"esm2020"),ro("fire-js","")}D3("");var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,QI;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(v,S){function C(){}C.prototype=S.prototype,v.F=S.prototype,v.prototype=new C,v.prototype.constructor=v,v.D=function(D,T,N){for(var j=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];return S.prototype[T].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var T=0;T<16;++T)D[T]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(T=0;T<16;++T)D[T]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=v.g[0],C=v.g[1],T=v.g[2];let N=v.g[3],j;j=S+(N^C&(T^N))+D[0]+3614090360&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[1]+3905402710&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[2]+606105819&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[3]+3250441966&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[5]+1200080426&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[6]+2821735955&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[7]+4249261313&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[9]+2336552879&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[10]+4294925233&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[11]+2304563134&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(N^C&(T^N))+D[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=N+(T^S&(C^T))+D[13]+4254626195&4294967295,N=S+(j<<12&4294967295|j>>>20),j=T+(C^N&(S^C))+D[14]+2792965006&4294967295,T=N+(j<<17&4294967295|j>>>15),j=C+(S^T&(N^S))+D[15]+1236535329&4294967295,C=T+(j<<22&4294967295|j>>>10),j=S+(T^N&(C^T))+D[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[6]+3225465664&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[11]+643717713&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[0]+3921069994&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[10]+38016083&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[15]+3634488961&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[4]+3889429448&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[14]+3275163606&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[3]+4107603335&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[8]+1163531501&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(T^N&(C^T))+D[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=N+(C^T&(S^C))+D[2]+4243563512&4294967295,N=S+(j<<9&4294967295|j>>>23),j=T+(S^C&(N^S))+D[7]+1735328473&4294967295,T=N+(j<<14&4294967295|j>>>18),j=C+(N^S&(T^N))+D[12]+2368359562&4294967295,C=T+(j<<20&4294967295|j>>>12),j=S+(C^T^N)+D[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[8]+2272392833&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[11]+1839030562&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[14]+4259657740&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[4]+1272893353&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[7]+4139469664&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[10]+3200236656&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[0]+3936430074&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[3]+3572445317&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[6]+76029189&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(C^T^N)+D[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=N+(S^C^T)+D[12]+3873151461&4294967295,N=S+(j<<11&4294967295|j>>>21),j=T+(N^S^C)+D[15]+530742520&4294967295,T=N+(j<<16&4294967295|j>>>16),j=C+(T^N^S)+D[2]+3299628645&4294967295,C=T+(j<<23&4294967295|j>>>9),j=S+(T^(C|~N))+D[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[7]+1126891415&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[14]+2878612391&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[5]+4237533241&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[3]+2399980690&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[10]+4293915773&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[1]+2240044497&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[15]+4264355552&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[6]+2734768916&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[13]+1309151649&4294967295,C=T+(j<<21&4294967295|j>>>11),j=S+(T^(C|~N))+D[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=N+(C^(S|~T))+D[11]+3174756917&4294967295,N=S+(j<<10&4294967295|j>>>22),j=T+(S^(N|~C))+D[2]+718787259&4294967295,T=N+(j<<15&4294967295|j>>>17),j=C+(N^(T|~S))+D[9]+3951481745&4294967295,v.g[0]=v.g[0]+S&4294967295,v.g[1]=v.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,v.g[2]=v.g[2]+T&4294967295,v.g[3]=v.g[3]+N&4294967295}n.prototype.v=function(v,S){S===void 0&&(S=v.length);const C=S-this.blockSize,D=this.C;let T=this.h,N=0;for(;N<S;){if(T==0)for(;N<=C;)i(this,v,N),N+=this.blockSize;if(typeof v=="string"){for(;N<S;)if(D[T++]=v.charCodeAt(N++),T==this.blockSize){i(this,D),T=0;break}}else for(;N<S;)if(D[T++]=v[N++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=S},n.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var S=1;S<v.length-8;++S)v[S]=0;S=this.o*8;for(var C=v.length-8;C<v.length;++C)v[C]=S&255,S/=256;for(this.v(v),v=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)v[S++]=this.g[C]>>>D&255;return v};function a(v,S){var C=o;return Object.prototype.hasOwnProperty.call(C,v)?C[v]:C[v]=S(v)}function s(v,S){this.h=S;const C=[];let D=!0;for(let T=v.length-1;T>=0;T--){const N=v[T]|0;D&&N==S||(C[T]=N,D=!1)}this.g=C}var o={};function l(v){return-128<=v&&v<128?a(v,function(S){return new s([S|0],S<0?-1:0)}):new s([v|0],v<0?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return f;if(v<0)return _(u(-v));const S=[];let C=1;for(let D=0;v>=C;D++)S[D]=v/C|0,C*=4294967296;return new s(S,0)}function c(v,S){if(v.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v.charAt(0)=="-")return _(c(v.substring(1),S));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(S,8));let D=f;for(let N=0;N<v.length;N+=8){var T=Math.min(8,v.length-N);const j=parseInt(v.substring(N,N+T),S);T<8?(T=u(Math.pow(S,T)),D=D.j(T).add(u(j))):(D=D.j(C),D=D.add(u(j)))}return D}var f=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(y(this))return-_(this).m();let v=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);v+=(D>=0?D:4294967296+D)*S,S*=4294967296}return v},e.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(g(this))return"0";if(y(this))return"-"+_(this).toString(v);const S=u(Math.pow(v,6));var C=this;let D="";for(;;){const T=I(C,S).g;C=x(C,T.j(S));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(v);if(C=T,g(C))return N+D;for(;N.length<6;)N="0"+N;D=N+D}},e.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function g(v){if(v.h!=0)return!1;for(let S=0;S<v.g.length;S++)if(v.g[S]!=0)return!1;return!0}function y(v){return v.h==-1}e.l=function(v){return v=x(this,v),y(v)?-1:g(v)?0:1};function _(v){const S=v.g.length,C=[];for(let D=0;D<S;D++)C[D]=~v.g[D];return new s(C,~v.h).add(p)}e.abs=function(){return y(this)?_(this):this},e.add=function(v){const S=Math.max(this.g.length,v.g.length),C=[];let D=0;for(let T=0;T<=S;T++){let N=D+(this.i(T)&65535)+(v.i(T)&65535),j=(N>>>16)+(this.i(T)>>>16)+(v.i(T)>>>16);D=j>>>16,N&=65535,j&=65535,C[T]=j<<16|N}return new s(C,C[C.length-1]&-2147483648?-1:0)};function x(v,S){return v.add(_(S))}e.j=function(v){if(g(this)||g(v))return f;if(y(this))return y(v)?_(this).j(_(v)):_(_(this).j(v));if(y(v))return _(this.j(_(v)));if(this.l(m)<0&&v.l(m)<0)return u(this.m()*v.m());const S=this.g.length+v.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<v.g.length;T++){const N=this.i(D)>>>16,j=this.i(D)&65535,Q=v.i(T)>>>16,oe=v.i(T)&65535;C[2*D+2*T]+=j*oe,E(C,2*D+2*T),C[2*D+2*T+1]+=N*oe,E(C,2*D+2*T+1),C[2*D+2*T+1]+=j*Q,E(C,2*D+2*T+1),C[2*D+2*T+2]+=N*Q,E(C,2*D+2*T+2)}for(v=0;v<S;v++)C[v]=C[2*v+1]<<16|C[2*v];for(v=S;v<2*S;v++)C[v]=0;return new s(C,0)};function E(v,S){for(;(v[S]&65535)!=v[S];)v[S+1]+=v[S]>>>16,v[S]&=65535,S++}function A(v,S){this.g=v,this.h=S}function I(v,S){if(g(S))throw Error("division by zero");if(g(v))return new A(f,f);if(y(v))return S=I(_(v),S),new A(_(S.g),_(S.h));if(y(S))return S=I(v,_(S)),new A(_(S.g),S.h);if(v.g.length>30){if(y(v)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=p,D=S;D.l(v)<=0;)C=O(C),D=O(D);var T=k(C,1),N=k(D,1);for(D=k(D,2),C=k(C,2);!g(D);){var j=N.add(D);j.l(v)<=0&&(T=T.add(C),N=j),D=k(D,1),C=k(C,1)}return S=x(v,T.j(S)),new A(T,S)}for(T=f;v.l(S)>=0;){for(C=Math.max(1,Math.floor(v.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),N=u(C),j=N.j(S);y(j)||j.l(v)>0;)C-=D,N=u(C),j=N.j(S);g(N)&&(N=p),T=T.add(N),v=x(v,j)}return new A(T,v)}e.B=function(v){return I(this,v).h},e.and=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&v.i(D);return new s(C,this.h&v.h)},e.or=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|v.i(D);return new s(C,this.h|v.h)},e.xor=function(v){const S=Math.max(this.g.length,v.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^v.i(D);return new s(C,this.h^v.h)};function O(v){const S=v.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=v.i(D)<<1|v.i(D-1)>>>31;return new s(C,v.h)}function k(v,S){const C=S>>5;S%=32;const D=v.g.length-C,T=[];for(let N=0;N<D;N++)T[N]=S>0?v.i(N+C)>>>S|v.i(N+C+1)<<32-S:v.i(N+C);return new s(T,v.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,QI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,la=s}).apply(typeof x1<"u"?x1:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,Ol,XI,Rd,Fv,ZI,JI,ej;(function(){var e,t=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var w=0;w<h.length;++w){var P=h[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(h,w){if(w)e:{var P=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in P))break e;P=P[M]}h=h[h.length-1],R=P[h],w=w(R),w!=R&&w!=null&&t(P,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var P=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&P.push([R,w[R]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,P){return h.call.apply(h.bind,arguments)}function u(h,w,P){return u=l,u.apply(null,arguments)}function c(h,w){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,w){function P(){}P.prototype=w.prototype,h.Z=w.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return w.prototype[M].apply(R,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const w=h.length;if(w>0){const P=Array(w);for(let R=0;R<w;R++)P[R]=h[R];return P}return[]}function g(h,w){for(let R=1;R<arguments.length;R++){const M=arguments[R];var P=typeof M;if(P=P!="object"?P:M?Array.isArray(M)?"array":P:"null",P=="array"||P=="object"&&typeof M.length=="number"){P=h.length||0;const V=M.length||0;h.length=P+V;for(let G=0;G<V;G++)h[P+G]=M[G]}else h.push(M)}}class y{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(h){s.setTimeout(()=>{throw h},0)}function x(){var h=v;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class E{constructor(){this.h=this.g=null}add(w,P){const R=A.get();R.set(w,P),this.h?this.h.next=R:this.g=R,this.h=R}}var A=new y(()=>new I,h=>h.reset());class I{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let O,k=!1,v=new E,S=()=>{const h=Promise.resolve(void 0);O=()=>{h.then(C)}};function C(){for(var h;h=x();){try{h.h.call(h.g)}catch(P){_(P)}var w=A;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}k=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,w),s.removeEventListener("test",P,w)}catch{}return h}();function j(h){return/^[\s\xa0]*$/.test(h)}function Q(h,w){T.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(Q,T),Q.prototype.init=function(h,w){const P=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(P=="mouseover"?w=h.fromElement:P=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),de=0;function le(h,w,P,R,M){this.listener=h,this.proxy=null,this.src=w,this.type=P,this.capture=!!R,this.ha=M,this.key=++de,this.da=this.fa=!1}function U(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function K(h,w,P){for(const R in h)w.call(P,h[R],R,h)}function ne(h,w){for(const P in h)w.call(void 0,h[P],P,h)}function pe(h){const w={};for(const P in h)w[P]=h[P];return w}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(h,w){let P,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(P in R)h[P]=R[P];for(let V=0;V<_e.length;V++)P=_e[V],Object.prototype.hasOwnProperty.call(R,P)&&(h[P]=R[P])}}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,w,P,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const G=_t(h,w,R,M);return G>-1?(w=h[G],P||(w.fa=!1)):(w=new le(w,this.src,V,!!R,M),w.fa=P,h.push(w)),w};function qt(h,w){const P=w.type;if(P in h.g){var R=h.g[P],M=Array.prototype.indexOf.call(R,w,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(U(w),h.g[P].length==0&&(delete h.g[P],h.h--))}}function _t(h,w,P,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==w&&V.capture==!!P&&V.ha==R)return M}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Xn={};function B(h,w,P,R,M){if(Array.isArray(w)){for(let V=0;V<w.length;V++)B(h,w[V],P,R,M);return null}return P=te(P),h&&h[oe]?h.J(w,P,o(R)?!!R.capture:!1,M):fe(h,w,P,!1,R,M)}function fe(h,w,P,R,M,V){if(!w)throw Error("Invalid event type");const G=o(M)?!!M.capture:!!M;let he=$(h);if(he||(h[ze]=he=new ke(h)),P=he.add(w,P,R,G,V),P.proxy)return P;if(R=ye(),P.proxy=R,R.src=h,R.listener=P,h.addEventListener)N||(M=G),M===void 0&&(M=!1),h.addEventListener(w.toString(),R,M);else if(h.attachEvent)h.attachEvent(Te(w.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function h(P){return w.call(h.src,h.listener,P)}const w=Wt;return h}function q(h,w,P,R,M){if(Array.isArray(w))for(var V=0;V<w.length;V++)q(h,w[V],P,R,M);else R=o(R)?!!R.capture:!!R,P=te(P),h&&h[oe]?(h=h.i,V=String(w).toString(),V in h.g&&(w=h.g[V],P=_t(w,P,R,M),P>-1&&(U(w[P]),Array.prototype.splice.call(w,P,1),w.length==0&&(delete h.g[V],h.h--)))):h&&(h=$(h))&&(w=h.g[w.toString()],h=-1,w&&(h=_t(w,P,R,M)),(P=h>-1?w[h]:null)&&ft(P))}function ft(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[oe])qt(w.i,h);else{var P=h.type,R=h.proxy;w.removeEventListener?w.removeEventListener(P,R,h.capture):w.detachEvent?w.detachEvent(Te(P),R):w.addListener&&w.removeListener&&w.removeListener(R),(P=$(w))?(qt(P,h),P.h==0&&(P.src=null,w[ze]=null)):U(h)}}}function Te(h){return h in Xn?Xn[h]:Xn[h]="on"+h}function Wt(h,w){if(h.da)h=!0;else{w=new Q(w,this);const P=h.listener,R=h.ha||h.src;h.fa&&ft(h),h=P.call(R,w)}return h}function $(h){return h=h[ze],h instanceof ke?h:null}var H="__closure_events_fn_"+(Math.random()*1e9>>>0);function te(h){return typeof h=="function"?h:(h[H]||(h[H]=function(w){return h.handleEvent(w)}),h[H])}function ae(){D.call(this),this.i=new ke(this),this.M=this,this.G=null}f(ae,D),ae.prototype[oe]=!0,ae.prototype.removeEventListener=function(h,w,P,R){q(this,h,w,P,R)};function me(h,w){var P,R=h.G;if(R)for(P=[];R;R=R.G)P.push(R);if(h=h.M,R=w.type||w,typeof w=="string")w=new T(w,h);else if(w instanceof T)w.target=w.target||h;else{var M=w;w=new T(R,h),xt(w,M)}M=!0;let V,G;if(P)for(G=P.length-1;G>=0;G--)V=w.g=P[G],M=Ue(V,R,!0,w)&&M;if(V=w.g=h,M=Ue(V,R,!0,w)&&M,M=Ue(V,R,!1,w)&&M,P)for(G=0;G<P.length;G++)V=w.g=P[G],M=Ue(V,R,!1,w)&&M}ae.prototype.N=function(){if(ae.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const P=h.g[w];for(let R=0;R<P.length;R++)U(P[R]);delete h.g[w],h.h--}}this.G=null},ae.prototype.J=function(h,w,P,R){return this.i.add(String(h),w,!1,P,R)},ae.prototype.K=function(h,w,P,R){return this.i.add(String(h),w,!0,P,R)};function Ue(h,w,P,R){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let M=!0;for(let V=0;V<w.length;++V){const G=w[V];if(G&&!G.da&&G.capture==P){const he=G.listener,Et=G.ha||G.src;G.fa&&qt(h.i,G),M=he.call(Et,R)!==!1&&M}}return M&&!R.defaultPrevented}function bt(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(h,w||0)}function kr(h){h.g=bt(()=>{h.g=null,h.i&&(h.i=!1,kr(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Z2 extends D{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(h){D.call(this),this.h=h,this.g={}}f(Yo,D);var nb=[];function ib(h){K(h.g,function(w,P){this.g.hasOwnProperty(P)&&ft(w)},h),h.g={}}Yo.prototype.N=function(){Yo.Z.N.call(this),ib(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vm=s.JSON.stringify,J2=s.JSON.parse,eM=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function ab(){}function sb(){}var Xo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ym(){T.call(this,"d")}f(ym,T);function wm(){T.call(this,"c")}f(wm,T);var Ia={},ob=null;function Ac(){return ob=ob||new ae}Ia.Ia="serverreachability";function lb(h){T.call(this,Ia.Ia,h)}f(lb,T);function Zo(h){const w=Ac();me(w,new lb(w))}Ia.STAT_EVENT="statevent";function ub(h,w){T.call(this,Ia.STAT_EVENT,h),this.stat=w}f(ub,T);function dr(h){const w=Ac();me(w,new ub(w,h))}Ia.Ja="timingevent";function cb(h,w){T.call(this,Ia.Ja,h),this.size=w}f(cb,T);function Jo(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function el(){this.g=!0}el.prototype.ua=function(){this.g=!1};function tM(h,w,P,R,M,V){h.info(function(){if(h.g)if(V){var G="",he=V.split("&");for(let Re=0;Re<he.length;Re++){var Et=he[Re].split("=");if(Et.length>1){const kt=Et[0];Et=Et[1];const On=kt.split("_");G=On.length>=2&&On[1]=="type"?G+(kt+"="+Et+"&"):G+(kt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+w+`
`+P+`
`+G})}function rM(h,w,P,R,M,V,G){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+w+`
`+P+`
`+V+" "+G})}function Es(h,w,P,R){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+iM(h,P)+(R?" "+R:"")})}function nM(h,w){h.info(function(){return"TIMEOUT: "+w})}el.prototype.info=function(){};function iM(h,w){if(!h.g)return w;if(!w)return null;try{const V=JSON.parse(w);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var P=V[h];if(!(P.length<2)){var R=P[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return vm(V)}catch{return w}}var Pc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},db={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fb;function xm(){}f(xm,ab),xm.prototype.g=function(){return new XMLHttpRequest},fb=new xm;function tl(h){return encodeURIComponent(String(h))}function aM(h){var w=1;h=h.split(":");const P=[];for(;w>0&&h.length;)P.push(h.shift()),w--;return h.length&&P.push(h.join(":")),P}function Di(h,w,P,R){this.j=h,this.i=w,this.l=P,this.S=R||1,this.V=new Yo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hb}function hb(){this.i=null,this.g="",this.h=!1}var pb={},_m={};function bm(h,w,P){h.M=1,h.A=Cc(Nn(w)),h.u=P,h.R=!0,mb(h,null)}function mb(h,w){h.F=Date.now(),Tc(h),h.B=Nn(h.A);var P=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Cb(P.i,"t",R),h.C=0,P=h.j.L,h.h=new hb,h.g=Kb(h.j,P?w:null,!h.u),h.P>0&&(h.O=new Z2(u(h.Y,h,h.g),h.P)),w=h.V,P=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(nb[0]=M.toString()),M=nb);for(let V=0;V<M.length;V++){const G=B(P,M[V],R||w.handleEvent,!1,w.h||w);if(!G)break;w.g[G.key]=G}w=h.J?pe(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Zo(),tM(h.i,h.v,h.B,h.l,h.S,h.u)}Di.prototype.ba=function(h){h=h.target;const w=this.O;w&&Vi(h)==3?w.j():this.Y(h)},Di.prototype.Y=function(h){try{if(h==this.g)e:{const he=Vi(this.g),Et=this.g.ya(),Re=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||Db(this.g)))){this.K||he!=4||Et==7||(Et==8||Re<=0?Zo(3):Zo(2)),Em(this);var w=this.g.ca();this.X=w;var P=sM(this);if(this.o=w==200,rM(this.i,this.v,this.B,this.l,this.S,he,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(R)){var V=R;break t}}V=null}if(h=V)Es(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sm(this,h);else{this.o=!1,this.m=3,dr(12),ja(this),rl(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<P.length;)if(kt=oM(this,P),kt==_m){he==4&&(this.m=4,dr(14),h=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==pb){this.m=4,dr(15),Es(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Es(this.i,this.l,kt,null),Sm(this,kt);if(gb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||P.length!=0||this.h.h||(this.m=1,dr(16),h=!1),this.o=this.o&&h,!h)Es(this.i,this.l,P,"[Invalid Chunked Response]"),ja(this),rl(this);else if(P.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Om(G),G.P=!0,dr(11))}}else Es(this.i,this.l,P,null),Sm(this,P);he==4&&ja(this),this.o&&!this.K&&(he==4?Ub(this.j,this):(this.o=!1,Tc(this)))}else _M(this.g),w==400&&P.indexOf("Unknown SID")>0?(this.m=3,dr(12)):(this.m=0,dr(13)),ja(this),rl(this)}}}catch{}finally{}};function sM(h){if(!gb(h))return h.g.la();const w=Db(h.g);if(w==="")return"";let P="";const R=w.length,M=Vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ja(h),rl(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,P+=h.h.i.decode(w[V],{stream:!(M&&V==R-1)});return w.length=0,h.h.g+=P,h.C=0,h.h.g}function gb(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oM(h,w){var P=h.C,R=w.indexOf(`
`,P);return R==-1?_m:(P=Number(w.substring(P,R)),isNaN(P)?pb:(R+=1,R+P>w.length?_m:(w=w.slice(R,R+P),h.C=R+P,w)))}Di.prototype.cancel=function(){this.K=!0,ja(this)};function Tc(h){h.T=Date.now()+h.H,vb(h,h.H)}function vb(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Jo(u(h.aa,h),w)}function Em(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Di.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(nM(this.i,this.B),this.M!=2&&(Zo(),dr(17)),ja(this),this.m=2,rl(this)):vb(this,this.T-h)};function rl(h){h.j.I==0||h.K||Ub(h.j,h)}function ja(h){Em(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,ib(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function Sm(h,w){try{var P=h.j;if(P.I!=0&&(P.g==h||Am(P.h,h))){if(!h.L&&Am(P.h,h)&&P.I==3){try{var R=P.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)kc(P),Nc(P);else break e;Nm(P),dr(18)}}else P.xa=M[1],0<P.xa-P.K&&M[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Jo(u(P.Va,P),6e3));xb(P.h)<=1&&P.ta&&(P.ta=void 0)}else Oa(P,11)}else if((h.L||P.g==h)&&kc(P),!j(w))for(M=P.Ba.g.parse(w),w=0;w<M.length;w++){let Re=M[w];const kt=Re[0];if(!(kt<=P.K))if(P.K=kt,Re=Re[1],P.I==2)if(Re[0]=="c"){P.M=Re[1],P.ba=Re[2];const On=Re[3];On!=null&&(P.ka=On,P.j.info("VER="+P.ka));const ka=Re[4];ka!=null&&(P.za=ka,P.j.info("SVER="+P.za));const Fi=Re[5];Fi!=null&&typeof Fi=="number"&&Fi>0&&(R=1.5*Fi,P.O=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const $i=h.g;if($i){const Dc=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var V=R.h;V.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Pm(V,V.h),V.h=null))}if(R.G){const km=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;km&&(R.wa=km,Be(R.J,R.G,km))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),R=P;var G=h;if(R.na=Wb(R,R.L?R.ba:null,R.W),G.L){_b(R.h,G);var he=G,Et=R.O;Et&&(he.H=Et),he.D&&(Em(he),Tc(he)),R.g=G}else $b(R);P.i.length>0&&Oc(P)}else Re[0]!="stop"&&Re[0]!="close"||Oa(P,7);else P.I==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Oa(P,7):jm(P):Re[0]!="noop"&&P.l&&P.l.qa(Re),P.A=0)}}Zo(4)}catch{}}var lM=class{constructor(h,w){this.g=h,this.map=w}};function yb(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xb(h){return h.h?1:h.g?h.g.size:0}function Am(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Pm(h,w){h.g?h.g.add(w):h.h=w}function _b(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}yb.prototype.cancel=function(){if(this.i=bb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bb(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const P of h.g.values())w=w.concat(P.G);return w}return m(h.i)}var Eb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uM(h,w){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const R=h[P].indexOf("=");let M,V=null;R>=0?(M=h[P].substring(0,R),V=h[P].substring(R+1)):M=h[P],w(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Mi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Mi?(this.l=h.l,nl(this,h.j),this.o=h.o,this.g=h.g,il(this,h.u),this.h=h.h,Tm(this,Ib(h.i)),this.m=h.m):h&&(w=String(h).match(Eb))?(this.l=!1,nl(this,w[1]||"",!0),this.o=al(w[2]||""),this.g=al(w[3]||"",!0),il(this,w[4]),this.h=al(w[5]||"",!0),Tm(this,w[6]||"",!0),this.m=al(w[7]||"")):(this.l=!1,this.i=new ol(null,this.l))}Mi.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(sl(w,Sb,!0),":");var P=this.g;return(P||w=="file")&&(h.push("//"),(w=this.o)&&h.push(sl(w,Sb,!0),"@"),h.push(tl(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(sl(P,P.charAt(0)=="/"?fM:dM,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",sl(P,pM)),h.join("")},Mi.prototype.resolve=function(h){const w=Nn(this);let P=!!h.j;P?nl(w,h.j):P=!!h.o,P?w.o=h.o:P=!!h.g,P?w.g=h.g:P=h.u!=null;var R=h.h;if(P)il(w,h.u);else if(P=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=w.h.lastIndexOf("/");M!=-1&&(R=w.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let G=0;G<M.length;){const he=M[G++];he=="."?R&&G==M.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&G==M.length&&V.push("")):(V.push(he),R=!0)}R=V.join("/")}else R=M}return P?w.h=R:P=h.i.toString()!=="",P?Tm(w,Ib(h.i)):P=!!h.m,P&&(w.m=h.m),w};function Nn(h){return new Mi(h)}function nl(h,w,P){h.j=P?al(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function il(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Tm(h,w,P){w instanceof ol?(h.i=w,mM(h.i,h.l)):(P||(w=sl(w,hM)),h.i=new ol(w,h.l))}function Be(h,w,P){h.i.set(w,P)}function Cc(h){return Be(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function al(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sl(h,w,P){return typeof h=="string"?(h=encodeURI(h).replace(w,cM),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sb=/[#\/\?@]/g,dM=/[#\?:]/g,fM=/[#\?]/g,hM=/[#\?@]/g,pM=/#/g;function ol(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Na(h){h.g||(h.g=new Map,h.h=0,h.i&&uM(h.i,function(w,P){h.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}e=ol.prototype,e.add=function(h,w){Na(this),this.i=null,h=Ss(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(w),this.h+=1,this};function Ab(h,w){Na(h),w=Ss(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Pb(h,w){return Na(h),w=Ss(h,w),h.g.has(w)}e.forEach=function(h,w){Na(this),this.g.forEach(function(P,R){P.forEach(function(M){h.call(w,M,R,this)},this)},this)};function Tb(h,w){Na(h);let P=[];if(typeof w=="string")Pb(h,w)&&(P=P.concat(h.g.get(Ss(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)P=P.concat(h[w]);return P}e.set=function(h,w){return Na(this),this.i=null,h=Ss(this,h),Pb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},e.get=function(h,w){return h?(h=Tb(this,h),h.length>0?String(h[0]):w):w};function Cb(h,w,P){Ab(h,w),P.length>0&&(h.i=null,h.g.set(Ss(h,w),m(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var P=w[R];const M=tl(P);P=Tb(this,P);for(let V=0;V<P.length;V++){let G=M;P[V]!==""&&(G+="="+tl(P[V])),h.push(G)}}return this.i=h.join("&")};function Ib(h){const w=new ol;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function Ss(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function mM(h,w){w&&!h.j&&(Na(h),h.i=null,h.g.forEach(function(P,R){const M=R.toLowerCase();R!=M&&(Ab(this,R),Cb(this,M,P))},h)),h.j=w}function gM(h,w){const P=new el;if(s.Image){const R=new Image;R.onload=c(Li,P,"TestLoadImage: loaded",!0,w,R),R.onerror=c(Li,P,"TestLoadImage: error",!1,w,R),R.onabort=c(Li,P,"TestLoadImage: abort",!1,w,R),R.ontimeout=c(Li,P,"TestLoadImage: timeout",!1,w,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else w(!1)}function vM(h,w){const P=new el,R=new AbortController,M=setTimeout(()=>{R.abort(),Li(P,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?Li(P,"TestPingServer: ok",!0,w):Li(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(M),Li(P,"TestPingServer: error",!1,w)})}function Li(h,w,P,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(P)}catch{}}function yM(){this.g=new eM}function Cm(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Cm,ab),Cm.prototype.g=function(){return new Ic(this.i,this.h)};function Ic(h,w){ae.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ic,ae),e=Ic.prototype,e.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,ul(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jb(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function jb(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ll(this):ul(this),this.readyState==3&&jb(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,ll(this))},e.Na=function(h){this.g&&(this.response=h,ll(this))},e.ga=function(){this.g&&ll(this)};function ll(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ul(h)}e.setRequestHeader=function(h,w){this.A.append(h,w)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=w.next();return h.join(`\r
`)};function ul(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nb(h){let w="";return K(h,function(P,R){w+=R,w+=":",w+=P,w+=`\r
`}),w}function Im(h,w,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=Nb(P),typeof h=="string"?P!=null&&tl(P):Be(h,w,P))}function it(h){ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(it,ae);var wM=/^https?$/i,xM=["POST","PUT"];e=it.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,w,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fb.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(V){Ob(this,V);return}if(h=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)P.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())P.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(V=>V.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(xM,w,void 0)>=0)||R||M||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of P)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){Ob(this,V)}};function Ob(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,kb(h),jc(h)}function kb(h){h.A||(h.A=!0,me(h,"complete"),me(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,me(this,"complete"),me(this,"abort"),jc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jc(this,!0)),it.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rb(this):this.Xa())},e.Xa=function(){Rb(this)};function Rb(h){if(h.h&&typeof a<"u"){if(h.v&&Vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(me(h,"readystatechange"),Vi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var R;if(R=V===0){let G=String(h.D).match(Eb)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),R=!wM.test(G?G.toLowerCase():"")}P=R}if(P)me(h,"complete"),me(h,"success");else{h.o=6;try{var M=Vi(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",kb(h)}}finally{jc(h)}}}}function jc(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,w||me(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Vi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),J2(w)}};function Db(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(h){const w={};h=(h.g&&Vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(j(h[R]))continue;var P=aM(h[R]);const M=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const V=w[M]||[];w[M]=V,V.push(P)}ne(w,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cl(h,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||w}function Mb(h){this.za=0,this.i=[],this.j=new el,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cl("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cl("baseRetryDelayMs",5e3,h),this.Za=cl("retryDelaySeedMs",1e4,h),this.Ta=cl("forwardChannelMaxRetries",2,h),this.va=cl("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yb(h&&h.concurrentRequestLimit),this.Ba=new yM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Mb.prototype,e.ka=8,e.I=1,e.connect=function(h,w,P,R){dr(0),this.W=h,this.H=w||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.J=Wb(this,null,this.W),Oc(this)};function jm(h){if(Lb(h),h.I==3){var w=h.V++,P=Nn(h.J);if(Be(P,"SID",h.M),Be(P,"RID",w),Be(P,"TYPE","terminate"),dl(h,P),w=new Di(h,h.j,w),w.M=2,w.A=Cc(Nn(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=w.A,P=!0),P||(w.g=Kb(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Tc(w)}qb(h)}function Nc(h){h.g&&(Om(h),h.g.cancel(),h.g=null)}function Lb(h){Nc(h),h.v&&(s.clearTimeout(h.v),h.v=null),kc(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Oc(h){if(!wb(h.h)&&!h.m){h.m=!0;var w=h.Ea;O||S(),k||(O(),k=!0),v.add(w,h),h.D=0}}function bM(h,w){return xb(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Jo(u(h.Ea,h,w),Bb(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new Di(this,this.j,h);let V=this.o;if(this.U&&(V?(V=pe(V),xt(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=Fb(this,M,w),P=Nn(this.J),Be(P,"RID",h),Be(P,"CVER",22),this.G&&Be(P,"X-HTTP-Session-Id",this.G),dl(this,P),V&&(this.R?w="headers="+tl(Nb(V))+"&"+w:this.u&&Im(P,this.u,V)),Pm(this.h,M),this.Ra&&Be(P,"TYPE","init"),this.S?(Be(P,"$req",w),Be(P,"SID","null"),M.U=!0,bm(M,P,null)):bm(M,P,w),this.I=2}}else this.I==3&&(h?Vb(this,h):this.i.length==0||wb(this.h)||Vb(this))};function Vb(h,w){var P;w?P=w.l:P=h.V++;const R=Nn(h.J);Be(R,"SID",h.M),Be(R,"RID",P),Be(R,"AID",h.K),dl(h,R),h.u&&h.o&&Im(R,h.u,h.o),P=new Di(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Fb(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Pm(h.h,P),bm(P,R,w)}function dl(h,w){h.H&&K(h.H,function(P,R){Be(w,R,P)}),h.l&&K({},function(P,R){Be(w,R,P)})}function Fb(h,w,P){P=Math.min(h.i.length,P);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let he=-1;for(;;){const Et=["count="+P];he==-1?P>0?(he=M[0].g,Et.push("ofs="+he)):he=0:Et.push("ofs="+he);let Re=!0;for(let kt=0;kt<P;kt++){var V=M[kt].g;const On=M[kt].map;if(V-=he,V<0)he=Math.max(0,M[kt].g-100),Re=!1;else try{V="req"+V+"_"||"";try{var G=On instanceof Map?On:Object.entries(On);for(const[ka,Fi]of G){let $i=Fi;o(Fi)&&($i=vm(Fi)),Et.push(V+ka+"="+encodeURIComponent($i))}}catch(ka){throw Et.push(V+"type="+encodeURIComponent("_badmap")),ka}}catch{R&&R(On)}}if(Re){G=Et.join("&");break e}}G=void 0}return h=h.i.splice(0,P),w.G=h,G}function $b(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;O||S(),k||(O(),k=!0),v.add(w,h),h.A=0}}function Nm(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Jo(u(h.Da,h),Bb(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,zb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Jo(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dr(10),Nc(this),zb(this))};function Om(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function zb(h){h.g=new Di(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Nn(h.na);Be(w,"RID","rpc"),Be(w,"SID",h.M),Be(w,"AID",h.K),Be(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Be(w,"TO",h.ia),Be(w,"TYPE","xmlhttp"),dl(h,w),h.u&&h.o&&Im(w,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=Cc(Nn(w)),P.u=null,P.R=!0,mb(P,h)}e.Va=function(){this.C!=null&&(this.C=null,Nc(this),Nm(this),dr(19))};function kc(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Ub(h,w){var P=null;if(h.g==w){kc(h),Om(h),h.g=null;var R=2}else if(Am(h.h,w))P=w.G,_b(h.h,w),R=1;else return;if(h.I!=0){if(w.o)if(R==1){P=w.u?w.u.length:0,w=Date.now()-w.F;var M=h.D;R=Ac(),me(R,new cb(R,P)),Oc(h)}else $b(h);else if(M=w.m,M==3||M==0&&w.X>0||!(R==1&&bM(h,w)||R==2&&Nm(h)))switch(P&&P.length>0&&(w=h.h,w.i=w.i.concat(P)),M){case 1:Oa(h,5);break;case 4:Oa(h,10);break;case 3:Oa(h,6);break;default:Oa(h,2)}}}function Bb(h,w){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*w}function Oa(h,w){if(h.j.info("Error code "+w),w==2){var P=u(h.bb,h),R=h.Ua;const M=!R;R=new Mi(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nl(R,"https"),Cc(R),M?gM(R.toString(),P):vM(R.toString(),P)}else dr(2);h.I=0,h.l&&h.l.pa(w),qb(h),Lb(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),dr(2)):(this.j.info("Failed to ping google.com"),dr(1))};function qb(h){if(h.I=0,h.ja=[],h.l){const w=bb(h.h);(w.length!=0||h.i.length!=0)&&(g(h.ja,w),g(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function Wb(h,w,P){var R=P instanceof Mi?Nn(P):new Mi(P);if(R.g!="")w&&(R.g=w+"."+R.g),il(R,R.u);else{var M=s.location;R=M.protocol,w=w?w+"."+M.hostname:M.hostname,M=+M.port;const V=new Mi(null);R&&nl(V,R),w&&(V.g=w),M&&il(V,M),P&&(V.h=P),R=V}return P=h.G,w=h.wa,P&&w&&Be(R,P,w),Be(R,"VER",h.ka),dl(h,R),R}function Kb(h,w,P){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new it(new Cm({ab:P})):new it(h.ma),w.Fa(h.L),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hb(){}e=Hb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Rc(){}Rc.prototype.g=function(h,w){return new Rr(h,w)};function Rr(h,w){ae.call(this),this.g=new Mb(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!j(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new As(this)}f(Rr,ae),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){jm(this.g)},Rr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=vm(h),h=P);w.i.push(new lM(w.Ya++,h)),w.I==3&&Oc(w)},Rr.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,Rr.Z.N.call(this)};function Gb(h){ym.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const P in w){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(Gb,ym);function Qb(){wm.call(this),this.status=1}f(Qb,wm);function As(h){this.g=h}f(As,Hb),As.prototype.ra=function(){me(this.g,"a")},As.prototype.qa=function(h){me(this.g,new Gb(h))},As.prototype.pa=function(h){me(this.g,new Qb)},As.prototype.oa=function(){me(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,ej=function(){return new Rc},JI=function(){return Ac()},ZI=Ia,Fv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pc.NO_ERROR=0,Pc.TIMEOUT=8,Pc.HTTP_ERROR=6,Rd=Pc,db.COMPLETE="complete",XI=db,sb.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",ae.prototype.listen=ae.prototype.J,Ol=sb,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,YI=it}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const _1="@firebase/firestore",b1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new BI("@firebase/firestore");function Ns(){return as.logLevel}function X(e,...t){if(as.logLevel<=Ee.DEBUG){const r=t.map(nw);as.debug(`Firestore (${Mo}): ${e}`,...r)}}function vi(e,...t){if(as.logLevel<=Ee.ERROR){const r=t.map(nw);as.error(`Firestore (${Mo}): ${e}`,...r)}}function mo(e,...t){if(as.logLevel<=Ee.WARN){const r=t.map(nw);as.warn(`Firestore (${Mo}): ${e}`,...r)}}function nw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,tj(e,n,r)}function tj(e,t,r){let n=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw vi(n),new Error(n)}function Ce(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||tj(t,i,n)}function ce(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Do{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(ir.UNAUTHENTICATED))}shutdown(){}}class L3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class V3{constructor(t){this.t=t,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ce(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string",31837,{l:n}),new rj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string",2055,{h:t}),new ir(t)}}class F3{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $3{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new F3(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z3{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ce(this.o===void 0,3512);const n=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ce(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new E1(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=U3(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function we(e,t){return e<t?-1:e>t?1:0}function $v(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return dg(i)===dg(a)?we(i,a):dg(i)?1:-1}return we(e.length,t.length)}const B3=55296,q3=57343;function dg(e){const t=e.charCodeAt(0);return t>=B3&&t<=q3}function go(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__name__";class Dn{constructor(t,r,n){r===void 0?r=0:r>t.length&&se(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&se(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Dn.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Dn?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Dn.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return we(t.length,r.length)}static compareSegments(t,r){const n=Dn.isNumericId(t),i=Dn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Dn.extractNumericId(t).compare(Dn.extractNumericId(r)):$v(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return la.fromString(t.substring(4,t.length-2))}}class Ve extends Dn{construct(t,r,n){return new Ve(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ve(r)}static emptyPath(){return new Ve([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Dn{construct(t,r,n){return new Qt(t,r,n)}static isValidIdentifier(t){return W3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S1}static keyField(){return new Qt([S1])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(r)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.path=t}static fromPath(t){return new ie(Ve.fromString(t))}static fromName(t){return new ie(Ve.fromString(t).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ve.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ie(new Ve(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e,t,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function K3(e,t,r,n){if(t===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function A1(e){if(!ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function P1(e){if(ie.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ij(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Uh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":se(12329,{type:typeof e})}function jr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Uh(e);throw new Y(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e,t){const r={typeString:e};return t&&(r.value=t),r}function Wu(e,t){if(!ij(e))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=-62135596800,C1=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*C1);return new Ke(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<T1)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C1}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wu(t,Ke._jsonSchema))return new Ke(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:vt("string",Ke._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(t){return new ue(t)}static min(){return new ue(new Ke(0,0))}static max(){return new ue(new Ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function H3(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(n===1e9?new Ke(r+1,0):new Ke(r,n));return new ha(i,ie.empty(),t)}function G3(e){return new ha(e.readTime,e.key,wu)}class ha{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new ha(ue.min(),ie.empty(),wu)}static max(){return new ha(ue.max(),ie.empty(),wu)}}function Q3(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ie.comparator(e.documentKey,t.documentKey),r!==0?r:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(e){if(e.code!==F.FAILED_PRECONDITION||e.message!==Y3)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new z((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):z.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):z.reject(r)}static resolve(t){return new z((r,n)=>{r(t)})}static reject(t){return new z((r,n)=>{n(t)})}static waitFor(t){return new z((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=z.resolve(!1);for(const n of t)r=r.next(i=>i?z.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new z((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new z((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function Z3(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Vo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-1;function qh(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function J3(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="";function eF(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=I1(t)),t=tF(e.get(r),t);return I1(t)}function tF(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case aj:r+="";break;default:r+=a}}return r}function I1(e){return e+aj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Sa(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function sj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||Gt.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new td(this.root,t,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new td(this.root,t,this.comparator,!0)}}class td{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gt{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Gt.RED,this.left=i??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Gt(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw se(27949);return t+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Gt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new N1(this.data.getIterator())}getIteratorFrom(t){return new N1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ct)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ct(this.comparator);return r.data=t,r}}class N1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new $r([])}unionWith(t){let r=new Ct(Qt.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new $r(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oj("Invalid base64 string: "+a):a}}(t);return new Jt(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Jt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const rF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(e){if(Ce(!!e,39018),typeof e=="string"){let t=0;const r=rF.exec(e);if(Ce(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ma(e){return typeof e=="string"?Jt.fromBase64String(e):Jt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="server_timestamp",uj="__type__",cj="__previous_value__",dj="__local_write_time__";function sw(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[uj])==null?void 0:n.stringValue)===lj}function Wh(e){const t=e.mapValue.fields[cj];return sw(t)?Wh(t):t}function xu(e){const t=pa(e.mapValue.fields[dj].timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(t,r,n,i,a,s,o,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const _f="(default)";class _u{constructor(t,r){this.projectId=t,this.database=r||_f}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="__type__",iF="__max__",rd={mapValue:{}},hj="__vector__",bf="value";function ga(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sw(e)?4:sF(e)?9007199254740991:aF(e)?10:11:se(28295,{value:e})}function Hn(e,t){if(e===t)return!0;const r=ga(e);if(r!==ga(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xu(e).isEqual(xu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=pa(i.timestampValue),o=pa(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return ma(i.bytesValue).isEqual(ma(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ut(i.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ut(i.integerValue)===ut(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ut(i.doubleValue),o=ut(a.doubleValue);return s===o?xf(s)===xf(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return go(e.arrayValue.values||[],t.arrayValue.values||[],Hn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(j1(s)!==j1(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Hn(s[l],o[l])))return!1;return!0}(e,t);default:return se(52216,{left:e})}}function bu(e,t){return(e.values||[]).find(r=>Hn(r,t))!==void 0}function vo(e,t){if(e===t)return 0;const r=ga(e),n=ga(t);if(r!==n)return we(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ut(a.integerValue||a.doubleValue),l=ut(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return O1(e.timestampValue,t.timestampValue);case 4:return O1(xu(e),xu(t));case 5:return $v(e.stringValue,t.stringValue);case 6:return function(a,s){const o=ma(a),l=ma(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=we(o[u],l[u]);if(c!==0)return c}return we(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=we(ut(a.latitude),ut(s.latitude));return o!==0?o:we(ut(a.longitude),ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return k1(e.arrayValue,t.arrayValue);case 10:return function(a,s){var p,m,g,y;const o=a.fields||{},l=s.fields||{},u=(p=o[bf])==null?void 0:p.arrayValue,c=(m=l[bf])==null?void 0:m.arrayValue,f=we(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:k1(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===rd.mapValue&&s===rd.mapValue)return 0;if(a===rd.mapValue)return 1;if(s===rd.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=$v(l[f],c[f]);if(p!==0)return p;const m=vo(o[l[f]],u[c[f]]);if(m!==0)return m}return we(l.length,c.length)}(e.mapValue,t.mapValue);default:throw se(23264,{he:r})}}function O1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const r=pa(e),n=pa(t),i=we(r.seconds,n.seconds);return i!==0?i:we(r.nanos,n.nanos)}function k1(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=vo(r[i],n[i]);if(a)return a}return we(r.length,n.length)}function yo(e){return zv(e)}function zv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=pa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return ma(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ie.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=zv(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${zv(r.fields[s])}`;return i+"}"}(e.mapValue):se(61005,{value:e})}function Dd(e){switch(ga(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(e);return t?16+Dd(t):16;case 5:return 2*e.stringValue.length;case 6:return ma(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Dd(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return Sa(n.fields,(a,s)=>{i+=a.length+Dd(s)}),i}(e.mapValue);default:throw se(13486,{value:e})}}function R1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Uv(e){return!!e&&"integerValue"in e}function ow(e){return!!e&&"arrayValue"in e}function D1(e){return!!e&&"nullValue"in e}function M1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Md(e){return!!e&&"mapValue"in e}function aF(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[fj])==null?void 0:n.stringValue)===hj}function Ql(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sa(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Ql(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ql(e.arrayValue.values[r]);return t}return{...e}}function sF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.value=t}static empty(){return new Sr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Md(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(r)}setAll(t){let r=Qt.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Ql(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Md(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Hn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Sa(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Sr(Ql(this.value))}}function pj(e){const t=[];return Sa(e.fields,(r,n)=>{const i=new Qt([r]);if(Md(n)){const a=pj(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new $r(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new sr(t,0,ue.min(),ue.min(),ue.min(),Sr.empty(),0)}static newFoundDocument(t,r,n,i){return new sr(t,1,r,ue.min(),n,i,0)}static newNoDocument(t,r){return new sr(t,2,r,ue.min(),ue.min(),Sr.empty(),0)}static newUnknownDocument(t,r){return new sr(t,3,r,ue.min(),ue.min(),Sr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r){this.position=t,this.inclusive=r}}function L1(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ie.comparator(ie.fromName(s.referenceValue),r.key):n=vo(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function V1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Hn(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,r="asc"){this.field=t,this.dir=r}}function oF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{}class gt extends mj{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new uF(t,r,n):r==="array-contains"?new fF(t,n):r==="in"?new hF(t,n):r==="not-in"?new pF(t,n):r==="array-contains-any"?new mF(t,n):new gt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new cF(t,n):new dF(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(vo(r,this.value)):r!==null&&ga(this.value)===ga(r)&&this.matchesComparison(vo(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends mj{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new An(t,r)}matches(t){return gj(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gj(e){return e.op==="and"}function vj(e){return lF(e)&&gj(e)}function lF(e){for(const t of e.filters)if(t instanceof An)return!1;return!0}function Bv(e){if(e instanceof gt)return e.field.canonicalString()+e.op.toString()+yo(e.value);if(vj(e))return e.filters.map(t=>Bv(t)).join(",");{const t=e.filters.map(r=>Bv(r)).join(",");return`${e.op}(${t})`}}function yj(e,t){return e instanceof gt?function(n,i){return i instanceof gt&&n.op===i.op&&n.field.isEqual(i.field)&&Hn(n.value,i.value)}(e,t):e instanceof An?function(n,i){return i instanceof An&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&yj(s,i.filters[o]),!0):!1}(e,t):void se(19439)}function wj(e){return e instanceof gt?function(r){return`${r.field.canonicalString()} ${r.op} ${yo(r.value)}`}(e):e instanceof An?function(r){return r.op.toString()+" {"+r.getFilters().map(wj).join(" ,")+"}"}(e):"Filter"}class uF extends gt{constructor(t,r,n){super(t,r,n),this.key=ie.fromName(n.referenceValue)}matches(t){const r=ie.comparator(t.key,this.key);return this.matchesComparison(r)}}class cF extends gt{constructor(t,r){super(t,"in",r),this.keys=xj("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class dF extends gt{constructor(t,r){super(t,"not-in",r),this.keys=xj("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function xj(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>ie.fromName(n.referenceValue))}class fF extends gt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ow(r)&&bu(r.arrayValue,this.value)}}class hF extends gt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&bu(this.value.arrayValue,r)}}class pF extends gt{constructor(t,r){super(t,"not-in",r)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!bu(this.value.arrayValue,r)}}class mF extends gt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ow(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>bu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function F1(e,t=null,r=[],n=[],i=null,a=null,s=null){return new gF(e,t,r,n,i,a,s)}function lw(e){const t=ce(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Bv(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),qh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>yo(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>yo(n)).join(",")),t.Te=r}return t.Te}function uw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!oF(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!yj(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!V1(e.startAt,t.startAt)&&V1(e.endAt,t.endAt)}function qv(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vF(e,t,r,n,i,a,s,o){return new Ku(e,t,r,n,i,a,s,o)}function Kh(e){return new Ku(e)}function $1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _j(e){return e.collectionGroup!==null}function Yl(e){const t=ce(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Sf(a,n))}),r.has(Qt.keyField().canonicalString())||t.Ie.push(new Sf(Qt.keyField(),n))}return t.Ie}function $n(e){const t=ce(e);return t.Ee||(t.Ee=yF(t,Yl(e))),t.Ee}function yF(e,t){if(e.limitType==="F")return F1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sf(i.field,a)});const r=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return F1(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Wv(e,t){const r=e.filters.concat([t]);return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Kv(e,t,r){return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Hh(e,t){return uw($n(e),$n(t))&&e.limitType===t.limitType}function bj(e){return`${lw($n(e))}|lt:${e.limitType}`}function Os(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>wj(i)).join(", ")}]`),qh(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>yo(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>yo(i)).join(",")),`Target(${n})`}($n(e))}; limitType=${e.limitType})`}function Gh(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ie.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Yl(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=L1(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Yl(n),i)||n.endAt&&!function(s,o,l){const u=L1(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Yl(n),i))}(e,t)}function wF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ej(e){return(t,r)=>{let n=!1;for(const i of Yl(e)){const a=xF(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function xF(e,t,r){const n=e.field.isKeyField()?ie.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?vo(l,u):se(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return se(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return sj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new rt(ie.comparator);function yi(){return _F}const Sj=new rt(ie.comparator);function kl(...e){let t=Sj;for(const r of e)t=t.insert(r.key,r);return t}function Aj(e){let t=Sj;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ba(){return Xl()}function Pj(){return Xl()}function Xl(){return new vs(e=>e.toString(),(e,t)=>e.isEqual(t))}const bF=new rt(ie.comparator),EF=new Ct(ie.comparator);function xe(...e){let t=EF;for(const r of e)t=t.add(r);return t}const SF=new Ct(we);function AF(){return SF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function Tj(e){return{integerValue:""+e}}function PF(e,t){return J3(t)?Tj(t):cw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function TF(e,t,r){return e instanceof Af?function(i,a){const s={fields:{[uj]:{stringValue:lj},[dj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sw(a)&&(a=Wh(a)),a&&(s.fields[cj]=a),{mapValue:s}}(r,t):e instanceof Eu?Ij(e,t):e instanceof Su?jj(e,t):function(i,a){const s=Cj(i,a),o=z1(s)+z1(i.Ae);return Uv(s)&&Uv(i.Ae)?Tj(o):cw(i.serializer,o)}(e,t)}function CF(e,t,r){return e instanceof Eu?Ij(e,t):e instanceof Su?jj(e,t):r}function Cj(e,t){return e instanceof Pf?function(n){return Uv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Af extends Qh{}class Eu extends Qh{constructor(t){super(),this.elements=t}}function Ij(e,t){const r=Nj(t);for(const n of e.elements)r.some(i=>Hn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Su extends Qh{constructor(t){super(),this.elements=t}}function jj(e,t){let r=Nj(t);for(const n of e.elements)r=r.filter(i=>!Hn(i,n));return{arrayValue:{values:r}}}class Pf extends Qh{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function z1(e){return ut(e.integerValue||e.doubleValue)}function Nj(e){return ow(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function IF(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Eu&&i instanceof Eu||n instanceof Su&&i instanceof Su?go(n.elements,i.elements,Hn):n instanceof Pf&&i instanceof Pf?Hn(n.Ae,i.Ae):n instanceof Af&&i instanceof Af}(e.transform,t.transform)}class jF{constructor(t,r){this.version=t,this.transformResults=r}}class sn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ld(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Yh{}function Oj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dw(e.key,sn.none()):new Hu(e.key,e.data,sn.none());{const r=e.data,n=Sr.empty();let i=new Ct(Qt.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Aa(e.key,n,new $r(i.toArray()),sn.none())}}function NF(e,t,r){e instanceof Hu?function(i,a,s){const o=i.value.clone(),l=B1(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Aa?function(i,a,s){if(!Ld(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=B1(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(kj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Zl(e,t,r,n){return e instanceof Hu?function(a,s,o,l){if(!Ld(a.precondition,s))return o;const u=a.value.clone(),c=q1(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Aa?function(a,s,o,l){if(!Ld(a.precondition,s))return o;const u=q1(a.fieldTransforms,l,s),c=s.data;return c.setAll(kj(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return Ld(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function OF(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Cj(n.transform,i||null);a!=null&&(r===null&&(r=Sr.empty()),r.set(n.field,a))}return r||null}function U1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&go(n,i,(a,s)=>IF(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hu extends Yh{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Aa extends Yh{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function B1(e,t,r){const n=new Map;Ce(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,CF(s,o,r[i]))}return n}function q1(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,TF(a,s,t))}return n}class dw extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kF extends Yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&NF(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Zl(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Zl(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Pj();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=Oj(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ue.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),xe())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,(r,n)=>U1(r,n))&&go(this.baseMutations,t.baseMutations,(r,n)=>U1(r,n))}}class fw{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Ce(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return bF}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new fw(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,be;function LF(e){switch(e){case F.OK:return se(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return se(15467,{code:e})}}function Rj(e){if(e===void 0)return vi("GRPC error has no .code"),F.UNKNOWN;switch(e){case ht.OK:return F.OK;case ht.CANCELLED:return F.CANCELLED;case ht.UNKNOWN:return F.UNKNOWN;case ht.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ht.INTERNAL:return F.INTERNAL;case ht.UNAVAILABLE:return F.UNAVAILABLE;case ht.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ht.NOT_FOUND:return F.NOT_FOUND;case ht.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ht.ABORTED:return F.ABORTED;case ht.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ht.DATA_LOSS:return F.DATA_LOSS;default:return se(39323,{code:e})}}(be=ht||(ht={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new la([4294967295,4294967295],0);function W1(e){const t=VF().encode(e),r=new QI;return r.update(t),new Uint8Array(r.digest())}function K1(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new la([r,n],0),new la([i,a],0)]}class hw{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Rl(`Invalid padding: ${r}`);if(n<0)throw new Rl(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=la.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(la.fromNumber(n)));return i.compare(FF)===1&&(i=new la([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=W1(t),[n,i]=K1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new hw(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=W1(t),[n,i]=K1(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Gu.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Xh(ue.min(),i,new rt(we),yi(),xe())}}class Gu{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Gu(n,r,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Dj{constructor(t,r){this.targetId=t,this.Ce=r}}class Mj{constructor(t,r,n=Jt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class H1{constructor(){this.ve=0,this.Fe=G1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xe(),r=xe(),n=xe();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:se(38017,{changeType:a})}}),new Gu(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=G1()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $F{constructor(t){this.Ge=t,this.ze=new Map,this.je=yi(),this.Je=nd(),this.He=nd(),this.Ye=new rt(we)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:se(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(qv(a))if(n===0){const s=new ie(a.path);this.et(r,s,sr.newNoDocument(s,ue.min()))}else Ce(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ma(n).toUint8Array()}catch(l){if(l instanceof oj)return mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new hw(s,i,a)}catch(l){return mo(l instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&qv(o.target)){const l=new ie(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,sr.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=xe();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new Xh(t,r,this.Ye,this.je,n);return this.je=yi(),this.Je=nd(),this.He=nd(),this.Ye=new rt(we),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new H1,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Ct(we),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Ct(we),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||X("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H1),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function nd(){return new rt(ie.comparator)}function G1(){return new rt(ie.comparator)}const zF={asc:"ASCENDING",desc:"DESCENDING"},UF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BF={and:"AND",or:"OR"};class qF{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Hv(e,t){return e.useProto3Json||qh(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WF(e,t){return Tf(e,t.toTimestamp())}function zn(e){return Ce(!!e,49232),ue.fromTimestamp(function(r){const n=pa(r);return new Ke(n.seconds,n.nanos)}(e))}function pw(e,t){return Gv(e,t).canonicalString()}function Gv(e,t){const r=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Vj(e){const t=Ve.fromString(e);return Ce(Bj(t),10190,{key:t.toString()}),t}function Qv(e,t){return pw(e.databaseId,t.path)}function fg(e,t){const r=Vj(t);if(r.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ie($j(r))}function Fj(e,t){return pw(e.databaseId,t)}function KF(e){const t=Vj(e);return t.length===4?Ve.emptyPath():$j(t)}function Yv(e){return new Ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $j(e){return Ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Q1(e,t,r){return{name:Qv(e,t),fields:r.value.mapValue.fields}}function HF(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string",58123),Jt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Jt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?F.UNKNOWN:Rj(u.code);return new Y(c,u.message||"")}(s);r=new Mj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=fg(e,n.document.name),a=zn(n.document.updateTime),s=n.document.createTime?zn(n.document.createTime):ue.min(),o=new Sr({mapValue:{fields:n.document.fields}}),l=sr.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Vd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=fg(e,n.document),a=n.readTime?zn(n.readTime):ue.min(),s=sr.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Vd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=fg(e,n.document),a=n.removedTargetIds||[];r=new Vd([],a,i,null)}else{if(!("filter"in t))return se(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new MF(i,a),o=n.targetId;r=new Dj(o,s)}}return r}function GF(e,t){let r;if(t instanceof Hu)r={update:Q1(e,t.key,t.value)};else if(t instanceof dw)r={delete:Qv(e,t.key)};else if(t instanceof Aa)r={update:Q1(e,t.key,t.data),updateMask:n6(t.fieldMask)};else{if(!(t instanceof kF))return se(16599,{Vt:t.type});r={verify:Qv(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Su)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw se(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:se(27497)}(e,t.precondition)),r}function QF(e,t){return e&&e.length>0?(Ce(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?zn(i.updateTime):zn(a);return s.isEqual(ue.min())&&(s=zn(a)),new jF(s,i.transformResults||[])}(r,t))):[]}function YF(e,t){return{documents:[Fj(e,t.path)]}}function XF(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Fj(e,i);const a=function(u){if(u.length!==0)return Uj(An.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:ks(p.field),direction:e6(p.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Hv(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function ZF(e){let t=KF(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ce(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(f){const p=zj(f);return p instanceof An&&vj(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(p=>function(g){return new Sf(Rs(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,qh(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Ef(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Ef(m,p)}(r.endAt)),vF(t,i,s,a,o,"F",l,u)}function JF(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function zj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Rs(r.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(r.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rs(r.unaryFilter.field);return gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rs(r.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(e):e.fieldFilter!==void 0?function(r){return gt.create(Rs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return An.create(r.compositeFilter.filters.map(n=>zj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(r.compositeFilter.op))}(e):se(30097,{filter:e})}function e6(e){return zF[e]}function t6(e){return UF[e]}function r6(e){return BF[e]}function ks(e){return{fieldPath:e.canonicalString()}}function Rs(e){return Qt.fromServerFormat(e.fieldPath)}function Uj(e){return e instanceof gt?function(r){if(r.op==="=="){if(M1(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NAN"}};if(D1(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(M1(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NAN"}};if(D1(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(r.field),op:t6(r.op),value:r.value}}}(e):e instanceof An?function(r){const n=r.getFilters().map(i=>Uj(i));return n.length===1?n[0]:{compositeFilter:{op:r6(r.op),filters:n}}}(e):se(54877,{filter:e})}function n6(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Bj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,r,n,i,a=ue.min(),s=ue.min(),o=Jt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Xi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.yt=t}}function a6(e){const t=ZF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Cn=new o6}addToCollectionParentIndex(t,r){return this.Cn.add(r),z.resolve()}getCollectionParents(t,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return z.resolve()}deleteFieldIndex(t,r){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,r){return z.resolve()}getDocumentsMatchingTarget(t,r){return z.resolve(null)}getIndexType(t,r){return z.resolve(0)}getFieldIndexes(t,r){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,r){return z.resolve(ha.min())}getMinOffsetFromCollectionGroup(t,r){return z.resolve(ha.min())}updateCollectionGroup(t,r,n){return z.resolve()}updateIndexEntries(t,r){return z.resolve()}}class o6{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Ct(Ve.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ct(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qj=41943040;class br{static withCacheSize(t){return new br(t,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(qj,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="LruGarbageCollector",l6=1048576;function Z1([e,t],[r,n]){const i=we(e,r);return i===0?we(t,n):i}class u6{constructor(t){this.Ir=t,this.buffer=new Ct(Z1),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Z1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){X(X1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Vo(r)?X(X1,"Ignoring IndexedDB error during garbage collection: ",r):await Lo(r)}await this.Vr(3e5)})}}class d6{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return z.resolve(Bh.ce);const n=new u6(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Y1)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y1):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),Ns()<=Ee.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function f6(e,t){return new d6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.changes=new vs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,sr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Zl(n.mutation,i,$r.empty(),Ke.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,xe()).next(()=>n))}getLocalViewOfDocuments(t,r,n=xe()){const i=Ba();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=kl();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Ba();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,xe()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=yi();const s=Xl(),o=function(){return Xl()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Aa)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Zl(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):s.set(u.key,$r.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>o.set(u,new p6(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Xl();let i=new rt((s,o)=>s-o),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||$r.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||xe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=Pj();c.forEach(p=>{if(!a.has(p)){const m=Oj(r.get(p),n.get(p));m!==null&&f.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return z.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):_j(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):z.resolve(Ba());let o=wu,l=a;return s.next(u=>z.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?z.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,xe())).next(c=>({batchId:o,changes:Aj(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ie(r)).next(n=>{let i=kl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=kl();return this.indexManager.getCollectionParents(t,a).next(o=>z.forEach(o,l=>{const u=function(f,p){return new Ku(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,sr.newInvalidDocument(c)))});let o=kl();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Zl(c.mutation,u,$r.empty(),Ke.now()),Gh(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(r)),z.resolve()}getNamedQuery(t,r){return z.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:a6(i.bundledQuery),readTime:zn(i.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new rt(ie.comparator),this.qr=new Map}getOverlay(t,r){return z.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ba();return z.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),z.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(t,r,n){const i=Ba(),a=r.length+1,s=new ie(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new rt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ba(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Ba(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return z.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new DF(r,n));let a=this.qr.get(r);a===void 0&&(a=xe(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Qr=new Ct(Mt.$r),this.Ur=new Ct(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Mt(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Mt(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new ie(new Ve([])),n=new Mt(r,t),i=new Mt(r,t+1);let a=xe();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Mt(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Mt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return ie.comparator(t.key,r.key)||we(t.Yr,r.Yr)}static Kr(t,r){return we(t.Yr,r.Yr)||ie.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Mt.$r)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RF(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Mt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return z.resolve(s)}lookupMutationBatch(t,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?aw:this.tr-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Mt(r,0),i=new Mt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ct(we);return r.forEach(i=>{const a=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ie.isDocumentKey(a)||(a=a.child(""));const s=new Mt(new ie(a),0);let o=new Ct(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),z.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Ce(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,i=>{const a=new Mt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Mt(r,0),i=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t){this.ri=t,this.docs=function(){return new rt(ie.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():sr.newInvalidDocument(r))}getEntries(t,r){let n=yi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():sr.newInvalidDocument(i))}),z.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=yi();const s=r.path,o=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Q3(G3(c),n)<=0||(i.has(c.key)||Gh(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(t,r,n,i){se(9500)}ii(t,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new _6(this)}getSize(t){return z.resolve(this.size)}}class _6 extends h6{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t){this.persistence=t,this.si=new vs(r=>lw(r),uw),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new mw,this.targetCount=0,this.ai=wo.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new wo(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(t,r){return this.Pr(r),z.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),z.waitFor(a).next(()=>i)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),z.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(t,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=t(this),this.Pi=new b6(this),this.indexManager=new s6,this.remoteDocumentCache=function(i){return new x6(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new i6(r),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new v6,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new w6(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){X("MemoryPersistence","Starting transaction:",t);const i=new E6(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class E6 extends X3{constructor(t){super(),this.currentSequenceNumber=t}}class gw{constructor(t){this.persistence=t,this.Ri=new mw,this.Vi=null}static mi(t){return new gw(t)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const i=ie.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Cf{constructor(t,r){this.persistence=t,this.pi=new vs(n=>eF(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=f6(this,r)}static mi(t,r){return new Cf(t,r)}Ei(){}di(t){return z.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return z.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?z.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,ue.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Dd(t.data.value)),r}br(t,r,n){return z.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return z.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=xe(),i=xe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new vw(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y4()?8:Z3(g4())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new S6;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Ns()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Os(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ns()<=Ee.DEBUG&&X("QueryEngine","Query:",Os(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Ns()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Os(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$n(r))):z.resolve())}ys(t,r){if($1(r))return z.resolve(null);let n=$n(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Kv(r,null,"F"),n=$n(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=xe(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(t,Kv(r,null,"F")):this.vs(t,u,r,l)}))})))}ws(t,r,n,i){return $1(r)||i.isEqual(ue.min())?z.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?z.resolve(null):(Ns()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(r)),this.vs(t,s,r,H3(i,wu)).next(o=>o))})}Ds(t,r){let n=new Ct(Ej(t));return r.forEach((i,a)=>{Gh(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Ns()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Os(r)),this.ps.getDocumentsMatchingQuery(t,r,ha.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LocalStore",P6=3e8;class T6{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new rt(we),this.xs=new vs(a=>lw(a),uw),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new m6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function C6(e,t,r,n){return new T6(e,t,r,n)}async function Kj(e,t){const r=ce(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=xe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function I6(e,t){const r=ce(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,p=f.keys();let m=z.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const _=u.docVersions.get(g);Ce(_!==null,48541),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=xe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function Hj(e){const t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function j6(e,t){const r=ce(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,f)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Jt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(f,m),function(y,_,x){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=P6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,c)&&o.push(r.Pi.updateTargetData(a,m))});let l=yi(),u=xe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(N6(a,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(ue.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return z.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function N6(e,t,r){let n=xe(),i=xe();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=yi();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ue.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):X(yw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function O6(e,t){const r=ce(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=aw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function k6(e,t){const r=ce(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,z.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Xi(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Xv(e,t,r){const n=ce(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vo(s))throw s;X(yw,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function J1(e,t,r){const n=ce(e);let i=ue.min(),a=xe();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=ce(l),p=f.xs.get(c);return p!==void 0?z.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,c)}(n,s,$n(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:ue.min(),r?a:xe())).next(o=>(R6(n,wF(t),o),{documents:o,Qs:a})))}function R6(e,t,r){let n=e.Os.get(t)||ue.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class eS{constructor(){this.activeTargetIds=AF()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D6{constructor(){this.Mo=new eS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new eS,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="ConnectivityMonitor";class rS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(tS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){X(tS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function Zv(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===_f?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=Zv(),o=this.zo(t,r.toUriEncodedString());X(hg,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=tw(u);return this.Jo(t,o,l,n,c).then(f=>(X(hg,`Received RPC '${t}' ${s}: `,f),f),f=>{throw mo(hg,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=L6[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class $6 extends V6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=Zv();return new Promise((o,l)=>{const u=new YI;u.setWithCredentials(!0),u.listenOnce(XI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rd.NO_ERROR:const f=u.getResponseJson();X(rr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Rd.TIMEOUT:X(rr,`RPC '${t}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const p=u.getStatus();if(X(rr,`RPC '${t}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(rr,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);X(rr,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(t,r,n){const i=Zv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ej(),o=JI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");X(rr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let p=!1,m=!1;const g=new F6({Yo:_=>{m?X(rr,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(p||(X(rr,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),X(rr,`RPC '${t}' stream ${i} sending:`,_),f.send(_))},Zo:()=>f.close()}),y=(_,x,E)=>{_.listen(x,A=>{try{E(A)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,Ol.EventType.OPEN,()=>{m||(X(rr,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),y(f,Ol.EventType.CLOSE,()=>{m||(m=!0,X(rr,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(f))}),y(f,Ol.EventType.ERROR,_=>{m||(m=!0,mo(rr,`RPC '${t}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),y(f,Ol.EventType.MESSAGE,_=>{var x;if(!m){const E=_.data[0];Ce(!!E,16349);const A=E,I=(A==null?void 0:A.error)||((x=A[0])==null?void 0:x.error);if(I){X(rr,`RPC '${t}' stream ${i} received error:`,I);const O=I.status;let k=function(C){const D=ht[C];if(D!==void 0)return Rj(D)}(O),v=I.message;k===void 0&&(k=F.INTERNAL,v="Unknown error status: "+O+" with message "+I.message),m=!0,g.a_(new Y(k,v)),f.close()}else X(rr,`RPC '${t}' stream ${i} received:`,E),g.u_(E)}}),y(o,ZI.STAT_EVENT,_=>{_.stat===Fv.PROXY?X(rr,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===Fv.NOPROXY&&X(rr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){return new qF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="PersistentStream";class Qj{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gj(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(vi(r.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return X(nS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(X(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends Qj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=HF(this.serializer,t),n=function(a){if(!("targetChange"in a))return ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?zn(s.readTime):ue.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=Yv(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=qv(l)?{documents:YF(a,l)}:{query:XF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Lj(a,s.resumeToken);const u=Hv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ue.min())>0){o.readTime=Tf(a,s.snapshotVersion.toTimestamp());const u=Hv(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=JF(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=Yv(this.serializer),r.removeTarget=t,this.q_(r)}}class U6 extends Qj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=QF(t.writeResults,t.commitTime),n=zn(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=Yv(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>GF(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{}class q6 extends B6{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,Gv(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(F.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,Gv(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class W6{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(r),this.aa=!1):X("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="RemoteStore";class K6{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{ys(this)&&(X(ss,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Qu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jh(u)}(this))})}),this.Ra=new W6(n,i)}}async function Jh(e){if(ys(e))for(const t of e.da)await t(!0)}async function Qu(e){for(const t of e.da)await t(!1)}function Yj(e,t){const r=ce(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),bw(r)?_w(r):Fo(r).O_()&&xw(r,t))}function ww(e,t){const r=ce(e),n=Fo(r);r.Ia.delete(t),n.O_()&&Xj(r,t),r.Ia.size===0&&(n.O_()?n.L_():ys(r)&&r.Ra.set("Unknown"))}function xw(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Fo(e).Y_(t)}function Xj(e,t){e.Va.Ue(t),Fo(e).Z_(t)}function _w(e){e.Va=new $F({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Fo(e).start(),e.Ra.ua()}function bw(e){return ys(e)&&!Fo(e).x_()&&e.Ia.size>0}function ys(e){return ce(e).Ea.size===0}function Zj(e){e.Va=void 0}async function H6(e){e.Ra.set("Online")}async function G6(e){e.Ia.forEach((t,r)=>{xw(e,t)})}async function Q6(e,t){Zj(e),bw(e)?(e.Ra.ha(t),_w(e)):e.Ra.set("Unknown")}async function Y6(e,t,r){if(e.Ra.set("Online"),t instanceof Mj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){X(ss,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await If(e,n)}else if(t instanceof Vd?e.Va.Ze(t):t instanceof Dj?e.Va.st(t):e.Va.tt(t),!r.isEqual(ue.min()))try{const n=await Hj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Jt.EMPTY_BYTE_STRING,c.snapshotVersion)),Xj(a,l);const f=new Xi(c.target,l,u,c.sequenceNumber);xw(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){X(ss,"Failed to raise snapshot:",n),await If(e,n)}}async function If(e,t,r){if(!Vo(t))throw t;e.Ea.add(1),await Qu(e),e.Ra.set("Offline"),r||(r=()=>Hj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(ss,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Jh(e)})}function Jj(e,t){return t().catch(r=>If(e,r,t))}async function ep(e){const t=ce(e),r=va(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:aw;for(;X6(t);)try{const i=await O6(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,Z6(t,i)}catch(i){await If(t,i)}eN(t)&&tN(t)}function X6(e){return ys(e)&&e.Ta.length<10}function Z6(e,t){e.Ta.push(t);const r=va(e);r.O_()&&r.X_&&r.ea(t.mutations)}function eN(e){return ys(e)&&!va(e).x_()&&e.Ta.length>0}function tN(e){va(e).start()}async function J6(e){va(e).ra()}async function e$(e){const t=va(e);for(const r of e.Ta)t.ea(r.mutations)}async function t$(e,t,r){const n=e.Ta.shift(),i=fw.from(n,t,r);await Jj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ep(e)}async function r$(e,t){t&&va(e).X_&&await async function(n,i){if(function(s){return LF(s)&&s!==F.ABORTED}(i.code)){const a=n.Ta.shift();va(n).B_(),await Jj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ep(n)}}(e,t),eN(e)&&tN(e)}async function iS(e,t){const r=ce(e);r.asyncQueue.verifyOperationInProgress(),X(ss,"RemoteStore received new credentials");const n=ys(r);r.Ea.add(3),await Qu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Jh(r)}async function n$(e,t){const r=ce(e);t?(r.Ea.delete(2),await Jh(r)):t||(r.Ea.add(2),await Qu(r),r.Ra.set("Unknown"))}function Fo(e){return e.ma||(e.ma=function(r,n,i){const a=ce(r);return a.sa(),new z6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:H6.bind(null,e),t_:G6.bind(null,e),r_:Q6.bind(null,e),H_:Y6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),bw(e)?_w(e):e.Ra.set("Unknown")):(await e.ma.stop(),Zj(e))})),e.ma}function va(e){return e.fa||(e.fa=function(r,n,i){const a=ce(r);return a.sa(),new U6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:J6.bind(null,e),r_:r$.bind(null,e),ta:e$.bind(null,e),na:t$.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ep(e)):(await e.fa.stop(),e.Ta.length>0&&(X(ss,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new Ew(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sw(e,t){if(vi("AsyncQueue",`${t}: ${e}`),Vo(e))return new Y(F.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||ie.comparator(r.key,n.key):(r,n)=>ie.comparator(r.key,n.key),this.keyedMap=kl(),this.sortedSet=new rt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new no;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.ga=new rt(ie.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):se(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class xo{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new xo(t,r,no.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class a${constructor(){this.queries=sS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ce(r),a=i.queries;i.queries=sS(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function sS(){return new vs(e=>bj(e),Hh)}async function Aw(e,t){const r=ce(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new i$,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Sw(s,`Initialization of query '${Os(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&Tw(r)}async function Pw(e,t){const r=ce(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function s$(e,t){const r=ce(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Tw(r)}function o$(e,t,r){const n=ce(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function Tw(e){e.Ca.forEach(t=>{t.next()})}var Jv,oS;(oS=Jv||(Jv={})).Ma="default",oS.Cache="cache";class Cw{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new xo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.key=t}}class nN{constructor(t){this.key=t}}class l${constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=Ej(t),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new aS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const p=i.get(c),m=Gh(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?g!==y&&(n.track({type:3,doc:m}),_=!0):this.su(p,m)||(n.track({type:2,doc:m}),_=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),_=!0):p&&!m&&(n.track({type:1,doc:p}),_=!0,(l||u)&&(o=!0)),_&&(m?(s=s.add(m),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(m,g){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:_})}};return y(m)-y(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new xo(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xe(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new nN(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new rN(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=xe();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iw="SyncEngine";class u${constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class c${constructor(t){this.key=t,this.hu=!1}}class d${constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new vs(o=>bj(o),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ie.comparator),this.Au=new Map,this.Ru=new mw,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f$(e,t,r=!0){const n=uN(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await iN(n,t,r,!0),i}async function h$(e,t){const r=uN(e);await iN(r,t,!0,!1)}async function iN(e,t,r,n){const i=await k6(e.localStore,$n(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await p$(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Yj(e.remoteStore,i),o}async function p$(e,t,r,n,i){e.pu=(f,p,m)=>async function(y,_,x,E){let A=_.view.ru(x);A.Cs&&(A=await J1(y.localStore,_.query,!1).then(({documents:v})=>_.view.ru(v,A)));const I=E&&E.targetChanges.get(_.targetId),O=E&&E.targetMismatches.get(_.targetId)!=null,k=_.view.applyChanges(A,y.isPrimaryClient,I,O);return uS(y,_.targetId,k.au),k.snapshot}(e,f,p,m);const a=await J1(e.localStore,t,!0),s=new l$(t,a.Qs),o=s.ru(a.documents),l=Gu.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);uS(e,r,u.au);const c=new u$(t,r,s);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function m$(e,t,r){const n=ce(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Hh(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ww(n.remoteStore,i.targetId),ey(n,i.targetId)}).catch(Lo)):(ey(n,i.targetId),await Xv(n.localStore,i.targetId,!0))}async function g$(e,t){const r=ce(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ww(r.remoteStore,n.targetId))}async function v$(e,t,r){const n=S$(e);try{const i=await function(s,o){const l=ce(s),u=Ke.now(),c=o.reduce((m,g)=>m.add(g.key),xe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=yi(),y=xe();return l.Ns.getEntries(m,c).next(_=>{g=_,g.forEach((x,E)=>{E.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(_=>{f=_;const x=[];for(const E of o){const A=OF(E,f.get(E.key).overlayedDocument);A!=null&&x.push(new Aa(E.key,A,pj(A.value.mapValue),sn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,o)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:Aj(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new rt(we)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await Yu(n,i.changes),await ep(n.remoteStore)}catch(i){const a=Sw(i,"Failed to persist write");r.reject(a)}}async function aN(e,t){const r=ce(e);try{const n=await j6(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ce(s.hu,14607):i.removedDocuments.size>0&&(Ce(s.hu,42227),s.hu=!1))}),await Yu(r,n,t)}catch(n){await Lo(n)}}function lS(e,t,r){const n=ce(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ce(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.Sa)p.va(o)&&(u=!0)}),u&&Tw(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function y$(e,t,r){const n=ce(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new rt(ie.comparator);s=s.insert(a,sr.newNoDocument(a,ue.min()));const o=xe().add(a),l=new Xh(ue.min(),new Map,new rt(we),s,o);await aN(n,l),n.du=n.du.remove(a),n.Au.delete(t),jw(n)}else await Xv(n.localStore,t,!1).then(()=>ey(n,t,r)).catch(Lo)}async function w$(e,t){const r=ce(e),n=t.batch.batchId;try{const i=await I6(r.localStore,t);oN(r,n,null),sN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Yu(r,i)}catch(i){await Lo(i)}}async function x$(e,t,r){const n=ce(e);try{const i=await function(s,o){const l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Ce(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);oN(n,t,r),sN(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Yu(n,i)}catch(i){await Lo(i)}}function sN(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function oN(e,t,r){const n=ce(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function ey(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||lN(e,n)})}function lN(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(ww(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),jw(e))}function uS(e,t,r){for(const n of r)n instanceof rN?(e.Ru.addReference(n.key,t),_$(e,n)):n instanceof nN?(X(Iw,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||lN(e,n.key)):se(19791,{wu:n})}function _$(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(X(Iw,"New document in limbo: "+r),e.Eu.add(n),jw(e))}function jw(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new ie(Ve.fromString(t)),n=e.fu.next();e.Au.set(n,new c$(r)),e.du=e.du.insert(r,n),Yj(e.remoteStore,new Xi($n(Kh(r.path)),n,"TargetPurposeLimboResolution",Bh.ce))}}async function Yu(e,t,r){const n=ce(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=vw.As(l.targetId,u);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,p=>z.forEach(p.Es,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>z.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Vo(f))throw f;X(yw,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.Ms.get(p),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(p,y)}}}(n.localStore,a))}async function b$(e,t){const r=ce(e);if(!r.currentUser.isEqual(t)){X(Iw,"User change. New user:",t.toKey());const n=await Kj(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Yu(r,n.Ls)}}function E$(e,t){const r=ce(e),n=r.Au.get(t);if(n&&n.hu)return xe().add(n.key);{let i=xe();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function uN(e){const t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y$.bind(null,t),t.Pu.H_=s$.bind(null,t.eventManager),t.Pu.yu=o$.bind(null,t.eventManager),t}function S$(e){const t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x$.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return C6(this.persistence,new A6,t.initialUser,this.serializer)}Cu(t){return new Wj(gw.mi,this.serializer)}Du(t){return new D6}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class A$ extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ce(this.persistence.referenceDelegate instanceof Cf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new c6(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new Wj(n=>Cf.mi(n,r),this.serializer)}}class ty{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>lS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=b$.bind(null,this.syncEngine),await n$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new a$}()}createDatastore(t){const r=Zh(t.databaseInfo.databaseId),n=function(a){return new $6(a)}(t.databaseInfo);return function(a,s,o,l){return new q6(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new K6(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>lS(this.syncEngine,r,0),function(){return rS.v()?new rS:new M6}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const f=new d$(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ce(i);X(ss,"RemoteStore shutting down."),a.Ea.add(5),await Qu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class P${constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ir.UNAUTHENTICATED,this.clientId=iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{X(ya,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X(ya,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Sw(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mg(e,t){e.asyncQueue.verifyOperationInProgress(),X(ya,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Kj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cS(e,t){e.asyncQueue.verifyOperationInProgress();const r=await T$(e);X(ya,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>iS(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>iS(t.remoteStore,i)),e._onlineComponents=t}async function T$(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(ya,"Using user provided OfflineComponentProvider");try{await mg(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;mo("Error using user provided cache. Falling back to memory cache: "+r),await mg(e,new jf)}}else X(ya,"Using default OfflineComponentProvider"),await mg(e,new A$(void 0));return e._offlineComponents}async function cN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(ya,"Using user provided OnlineComponentProvider"),await cS(e,e._uninitializedComponentsProvider._online)):(X(ya,"Using default OnlineComponentProvider"),await cS(e,new ty))),e._onlineComponents}function C$(e){return cN(e).then(t=>t.syncEngine)}async function Nf(e){const t=await cN(e),r=t.eventManager;return r.onListen=f$.bind(null,t.syncEngine),r.onUnlisten=m$.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=h$.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=g$.bind(null,t.syncEngine),r}function I$(e,t,r={}){const n=new ui;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Nw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Pw(a,f));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Cw(Kh(o.path),c,{includeMetadataChanges:!0,qa:!0});return Aw(a,f)}(await Nf(e),e.asyncQueue,t,r,n)),n.promise}function j$(e,t,r={}){const n=new ui;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Nw({next:p=>{c.Nu(),s.enqueueAndForget(()=>Pw(a,f)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Cw(o,c,{includeMetadataChanges:!0,qa:!0});return Aw(a,f)}(await Nf(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firestore.googleapis.com",fS=!0;class hS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fN,this.ssl=fS}else this.host=t.host,this.ssl=t.ssl??fS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qj;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<l6)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}K3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dN(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tp{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new M3;switch(n.type){case"firstParty":return new $3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=dS.get(r);n&&(X("ComponentProvider","Removing Datastore"),dS.delete(r),n.terminate())}(this),Promise.resolve()}}function N$(e,t,r,n={}){var u;e=jr(e,tp);const i=tw(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(d4(`https://${o}`),m4("Firestore",!0)),a.host!==fN&&a.host!==o&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!vf(l,s)&&(e._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=ir.MOCK_USER;else{c=f4(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ir(p)}e._authCredentials=new L3(new rj(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ws(this.firestore,t,this._query)}}class ot{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ot(this.firestore,t,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Wu(r,ot._jsonSchema))return new ot(t,n||null,new ie(Ve.fromString(r.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:vt("string",ot._jsonSchemaVersion),referencePath:vt("string")};class ua extends ws{constructor(t,r,n){super(t,r,Kh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ot(this.firestore,null,new ie(t))}withConverter(t){return new ua(this.firestore,t,this._path)}}function Gr(e,t,...r){if(e=Kn(e),nj("collection","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return P1(n),new ua(e,null,n)}{if(!(e instanceof ot||e instanceof ua))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return P1(n),new ua(e.firestore,null,n)}}function cr(e,t,...r){if(e=Kn(e),arguments.length===1&&(t=iw.newId()),nj("doc","path",t),e instanceof tp){const n=Ve.fromString(t,...r);return A1(n),new ot(e,null,new ie(n))}{if(!(e instanceof ot||e instanceof ua))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ve.fromString(t,...r));return A1(n),new ot(e.firestore,e instanceof ua?e.converter:null,new ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="AsyncQueue";class mS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gj(this,"async_queue_retry"),this._c=()=>{const n=pg();n&&X(pS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=pg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=pg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ui;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vo(t))throw t;X(pS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",gS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=Ew.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:gS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function gS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class wi extends tp{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new mS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mS(t),this._firestoreClient=void 0,await t}}}function O$(e,t){const r=typeof e=="object"?e:A3(),n=typeof e=="string"?e:_f,i=x3(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=u4("firestore");a&&N$(i,...a)}return i}function rp(e){if(e._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||k$(e),e._firestoreClient}function k$(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,u,c){return new nF(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new P$(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tn(Jt.fromBase64String(t))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new tn(Jt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wu(t,tn._jsonSchema))return tn.fromBase64String(t.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:vt("string",tn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Un._jsonSchemaVersion}}static fromJSON(t){if(Wu(t,Un._jsonSchema))return new Un(t.latitude,t.longitude)}}Un._jsonSchemaVersion="firestore/geoPoint/1.0",Un._jsonSchema={type:vt("string",Un._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wu(t,Bn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Bn(t.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bn._jsonSchemaVersion="firestore/vectorValue/1.0",Bn._jsonSchema={type:vt("string",Bn._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=/^__.*__$/;class D${constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Aa(t,this.data,this.fieldMask,r,this.fieldTransforms):new Hu(t,this.data,r,this.fieldTransforms)}}class hN{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Aa(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function pN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:e})}}class kw{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new kw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Of(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(pN(this.Ac)&&R$.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class M${constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Zh(t)}Cc(t,r,n,i=!1){return new kw({Ac:t,methodName:r,Dc:n,path:Qt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(e){const t=e._freezeSettings(),r=Zh(e._databaseId);return new M$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function mN(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);Rw("Data must be an object, but it was:",s,n);const o=gN(n,s);let l,u;if(a.merge)l=new $r(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const p=ry(t,f,r);if(!s.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);yN(c,p)||c.push(p)}l=new $r(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new D$(new Sr(o),l,u)}class Xu extends Ow{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xu}}function L$(e,t,r,n){const i=e.Cc(1,t,r);Rw("Data must be an object, but it was:",i,n);const a=[],s=Sr.empty();Sa(n,(l,u)=>{const c=Dw(t,l,r);u=Kn(u);const f=i.yc(c);if(u instanceof Xu)a.push(c);else{const p=Zu(u,f);p!=null&&(a.push(c),s.set(c,p))}});const o=new $r(a);return new hN(s,o,i.fieldTransforms)}function V$(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[ry(t,n,r)],l=[i];if(a.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(ry(t,a[p])),l.push(a[p+1]);const u=[],c=Sr.empty();for(let p=o.length-1;p>=0;--p)if(!yN(u,o[p])){const m=o[p];let g=l[p];g=Kn(g);const y=s.yc(m);if(g instanceof Xu)u.push(m);else{const _=Zu(g,y);_!=null&&(u.push(m),c.set(m,_))}}const f=new $r(u);return new hN(c,f,s.fieldTransforms)}function F$(e,t,r,n=!1){return Zu(r,e.Cc(n?4:3,t))}function Zu(e,t){if(vN(e=Kn(e)))return Rw("Unsupported field value:",t,e),gN(e,t);if(e instanceof Ow)return function(n,i){if(!pN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Zu(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=Kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return PF(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ke.fromDate(n);return{timestampValue:Tf(i.serializer,a)}}if(n instanceof Ke){const a=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,a)}}if(n instanceof Un)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tn)return{bytesValue:Lj(i.serializer,n._byteString)};if(n instanceof ot){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Bn)return function(s,o){return{mapValue:{fields:{[fj]:{stringValue:hj},[bf]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return cw(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Uh(n)}`)}(e,t)}function gN(e,t){const r={};return sj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(e,(n,i)=>{const a=Zu(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function vN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ke||e instanceof Un||e instanceof tn||e instanceof ot||e instanceof Ow||e instanceof Bn)}function Rw(e,t,r){if(!vN(r)||!ij(r)){const n=Uh(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ry(e,t,r){if((t=Kn(t))instanceof np)return t._internalPath;if(typeof t=="string")return Dw(e,t);throw Of("Field path arguments must be of type string or ",e,!1,void 0,r)}const $$=new RegExp("[~\\*/\\[\\]]");function Dw(e,t,r){if(t.search($$)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new np(...t.split("."))._internalPath}catch{throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Of(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,o+e+l)}function yN(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Mw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class z$ extends wN{data(){return super.data()}}function Mw(e,t){return typeof t=="string"?Dw(e,t):t instanceof np?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lw{}class U$ extends Lw{}function B$(e,t,...r){let n=[];t instanceof Lw&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof Vw).length,o=a.filter(l=>l instanceof ap).length;if(s>1||s>0&&o>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class ap extends U${constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new ap(t,r,n)}_apply(t){const r=this._parse(t);return _N(t._query,r),new ws(t.firestore,t.converter,Wv(t._query,r))}_parse(t){const r=ip(t.firestore);return function(a,s,o,l,u,c,f){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){wS(f,c);const g=[];for(const y of f)g.push(yS(l,a,y));p={arrayValue:{values:g}}}else p=yS(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||wS(f,c),p=F$(o,s,f,c==="in"||c==="not-in");return gt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function q$(e,t,r){const n=t,i=Mw("where",e);return ap._create(i,n,r)}class Vw extends Lw{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Vw(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:An.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)_N(s,l),s=Wv(s,l)}(t._query,r),new ws(t.firestore,t.converter,Wv(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yS(e,t,r){if(typeof(r=Kn(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_j(t)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Ve.fromString(r));if(!ie.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return R1(e,new ie(n))}if(r instanceof ot)return R1(e,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(r)}.`)}function wS(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _N(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class W${convertValue(t,r="none"){switch(ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ma(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw se(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Sa(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[bf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ut(s.doubleValue));return new Bn(r)}convertGeoPoint(t){return new Un(ut(t.latitude),ut(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Wh(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(xu(t));default:return null}}convertTimestamp(t){const r=pa(t);return new Ke(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Ve.fromString(t);Ce(Bj(n),9688,{name:t});const i=new _u(n.get(1),n.get(3)),a=new ie(n.popFirst(5));return i.isEqual(r)||vi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Dl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qa extends wN{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Mw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Qa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:vt("string",Qa._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Fd extends Qa{data(t={}){return super.data(t)}}class Ya{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Fd(this._firestore,this._userDataWriter,n.key,n,new Dl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Fd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Dl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Fd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Dl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:K$(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=iw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function K$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e){e=jr(e,ot);const t=jr(e.firestore,wi);return I$(rp(t),e._key).then(r=>EN(t,e,r))}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:vt("string",Ya._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class $w extends W${constructor(t){super(),this.firestore=t}convertBytes(t){return new tn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ot(this.firestore,null,r)}}function $o(e){e=jr(e,ws);const t=jr(e.firestore,wi),r=rp(t),n=new $w(t);return xN(e._query),j$(r,e._query).then(i=>new Ya(t,n,e,i))}function H$(e,t,r){e=jr(e,ot);const n=jr(e.firestore,wi),i=bN(e.converter,t,r);return lp(n,[mN(ip(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,sn.none())])}function os(e,t,r,...n){e=jr(e,ot);const i=jr(e.firestore,wi),a=ip(i);let s;return s=typeof(t=Kn(t))=="string"||t instanceof np?V$(a,"updateDoc",e._key,t,r,n):L$(a,"updateDoc",e._key,t),lp(i,[s.toMutation(e._key,sn.exists(!0))])}function sp(e){return lp(jr(e.firestore,wi),[new dw(e._key,sn.none())])}function op(e,t){const r=jr(e.firestore,wi),n=cr(e),i=bN(e.converter,t);return lp(r,[mN(ip(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,sn.exists(!1))]).then(()=>n)}function zw(e,...t){var l,u,c;e=Kn(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||vS(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(vS(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(c=f.complete)==null?void 0:c.bind(f)}let a,s,o;if(e instanceof ot)s=jr(e.firestore,wi),o=Kh(e._key.path),a={next:f=>{t[n]&&t[n](EN(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=jr(e,ws);s=jr(f.firestore,wi),o=f._query;const p=new $w(s);a={next:m=>{t[n]&&t[n](new Ya(s,p,f,m))},error:t[n+1],complete:t[n+2]},xN(e._query)}return function(p,m,g,y){const _=new Nw(y),x=new Cw(m,_,g);return p.asyncQueue.enqueueAndForget(async()=>Aw(await Nf(p),x)),()=>{_.Nu(),p.asyncQueue.enqueueAndForget(async()=>Pw(await Nf(p),x))}}(rp(s),o,i,a)}function lp(e,t){return function(n,i){const a=new ui;return n.asyncQueue.enqueueAndForget(async()=>v$(await C$(n),i,a)),a.promise}(rp(e),t)}function EN(e,t,r){const n=r.docs.get(t._key),i=new $w(e);return new Qa(e,i,t._key,n,new Dl(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return new Xu("deleteField")}(function(t,r=!0){(function(i){Mo=i})(S3),wf(new vu("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new wi(new V3(n.getProvider("auth-internal")),new z3(s,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),ro(_1,b1,t),ro(_1,b1,"esm2020")})();var Q$="firebase",Y$="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(Q$,Y$,"app");const X$={apiKey:"AIzaSyA2JjsH756YGsx6AqSkigi4J43kQYQyHmY",authDomain:"incidentalert-ca939.firebaseapp.com",projectId:"incidentalert-ca939",storageBucket:"incidentalert-ca939.firebasestorage.app",messagingSenderId:"571621661566",appId:"1:571621661566:web:fcd7da04af904323de312f",measurementId:"G-3DL8SCHD1F"},Z$=KI(X$),Oe=O$(Z$),SN=async()=>(await $o(Gr(Oe,"incidents"))).docs.map(t=>({...t.data(),id:t.id})),ei=async e=>{const t=cr(Oe,"incidents",e),r=await Fw(t);return r.exists()?{...r.data(),id:r.id}:null},ny=async e=>(await op(Gr(Oe,"incidents"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,Dr=async(e,t)=>{const r=cr(Oe,"incidents",e);await os(r,{...t})},J$=async e=>{await sp(cr(Oe,"incidents",e))},up=async()=>(await $o(Gr(Oe,"users"))).docs.map(t=>({...t.data(),id:t.id})),kf=async e=>{const t=B$(Gr(Oe,"users"),q$("username","==",e)),r=await $o(t);if(r.empty)return null;const n=r.docs[0];return{...n.data(),id:n.id}},Uw=async e=>(await op(Gr(Oe,"users"),e)).id,Bw=async(e,t)=>{const r=cr(Oe,"users",e);await os(r,{...t})},e5=async e=>{await sp(cr(Oe,"users",e))},t5=async(e,t)=>{const r=cr(Oe,"users",e);await os(r,{preferences:t})},r5=async e=>{const r=(await up()).find(n=>n.id===e);return(r==null?void 0:r.preferences)||{}},n5=async e=>{const t=await ei(e.incidentId);if(!t)throw new Error("Incident not found");const r={...e,id:`comment_${Date.now()}`,createdAt:new Date().toISOString()},n=[...t.comments||[],r];return await Dr(e.incidentId,{comments:n}),r.id},i5=async(e,t)=>{var i;const r=await ei(e);if(!r)throw new Error("Incident not found");const n=(i=r.comments)==null?void 0:i.filter(a=>a.id!==t);await Dr(e,{comments:n})},a5=async(e,t,r,n)=>{var s;const i=await ei(e);if(!i)throw new Error("Incident not found");const a=(s=i.comments)==null?void 0:s.map(o=>o.id===t?{...o,author:r,text:n}:o);await Dr(e,{comments:a})},Ml=async()=>(await $o(Gr(Oe,"automationRules"))).docs.map(t=>({...t.data(),id:t.id})),AN=async e=>(await op(Gr(Oe,"automationRules"),e)).id,s5=async(e,t)=>{const r=cr(Oe,"automationRules",e);await os(r,{...t})},o5=async e=>{await sp(cr(Oe,"automationRules",e))},PN=async()=>{const e=cr(Oe,"settings","app"),t=await Fw(e);return t.exists()?t.data():null},TN=async e=>{const t=cr(Oe,"settings","app");await H$(t,e,{merge:!0})},l5=e=>zw(Gr(Oe,"incidents"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),u5=e=>zw(Gr(Oe,"users"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),iy=async()=>(await $o(Gr(Oe,"roles"))).docs.map(t=>({...t.data(),id:t.id})),cp=async e=>{const t=cr(Oe,"roles",e),r=await Fw(t);return r.exists()?{...r.data(),id:r.id}:null},CN=async e=>(await op(Gr(Oe,"roles"),{...e,createdAt:e.createdAt||new Date().toISOString()})).id,c5=async(e,t)=>{const r=cr(Oe,"roles",e);await os(r,{...t})},d5=async e=>{await sp(cr(Oe,"roles",e))},IN=e=>zw(Gr(Oe,"roles"),t=>{const r=t.docs.map(n=>({...n.data(),id:n.id}));e(r)}),f5=async()=>{let t=(await iy()).find(a=>a.name==="Administrador");if(!t){const a=await CN({name:"Administrador",isSystem:!0,permissions:{incidents:{create:!0,read:!0,update:!0,delete:!0,viewAll:!0},users:{viewOwn:!0,editOwn:!0,viewAll:!0,create:!0,edit:!0,delete:!0},roles:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0},automation:{view:!0,create:!0,edit:!0,delete:!0}}});t=(await iy()).find(o=>o.id===a)}const n=(await up()).find(a=>a.username==="admin");n?n&&(!n.roleId||n.roleId!==t.id)&&(await Bw(n.id,{roleId:t.id}),console.log(" Usuario admin actualizado con rol de Administrador")):await Uw({username:"admin",password:"admin123",name:"Administrador",roleId:t.id,avatar:""}),await PN()||await TN({theme:"light",notifications:!0,autoAssign:!1,language:"es"}),await h5()},h5=async()=>{try{const e=Gr(Oe,"users"),t=await $o(e),n=(await iy()).find(s=>s.name==="Administrador");if(!n){console.log(" Rol Administrador no encontrado para migracin");return}const i=[];let a=0;t.forEach(s=>{const o=s.data();if(o.role&&!o.roleId){a++,console.log(` Migrando usuario "${o.username}" de role: "${o.role}" a roleId`);let l=n.id;o.role==="admin"||o.username==="admin"?console.log(`    Asignando rol "Administrador" (${l})`):console.log(`    Asignando rol "Administrador" por defecto (${l})`);const u=cr(Oe,"users",s.id);i.push(os(u,{roleId:l,role:G$()}))}else if(!o.roleId&&!o.role){a++,console.log(` Usuario "${o.username}" sin rol, asignando rol "Administrador"`);const l=cr(Oe,"users",s.id);i.push(os(l,{roleId:n.id}))}}),i.length>0?(await Promise.all(i),console.log(` Migracin completada: ${a} usuarios actualizados al nuevo sistema de roles`)):console.log(" Todos los usuarios ya tienen roleId asignado")}catch(e){console.error(" Error en migracin de usuarios:",e)}},p5=({onAdd:e})=>{const[t,r]=b.useState("MOV-"),[n,i]=b.useState(""),[a,s]=b.useState(""),[o,l]=b.useState(""),[u,c]=b.useState(""),[f,p]=b.useState(""),[m,g]=b.useState(""),[y,_]=b.useState(new Date().toISOString().split("T")[0]),[x,E]=b.useState("abierta"),[A,I]=b.useState("media"),[O,k]=b.useState("correctivo"),v=S=>{if(S.preventDefault(),!t.trim()){alert("Por favor ingresa un nombre para la incidencia");return}const C={id:Date.now().toString(),name:t.trim(),title:n.trim(),description:a.trim(),contactUser:o.trim(),relevante:u.trim(),realizado:f.trim(),clasesModificadas:m.trim(),prQA2:"",prMain:"",creationDate:y,status:x,priority:A,type:O,userId:"admin",assignedTo:"",tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(C),r("MOV-"),i(""),s(""),l(""),c(""),p(""),g(""),_(new Date().toISOString().split("T")[0]),E("abierta"),I("media"),k("correctivo")};return d.jsx("div",{className:"incident-form-container",children:d.jsxs("form",{className:"incident-form",onSubmit:v,children:[d.jsx("h2",{children:" Crear Nueva Incidencia"}),d.jsxs("div",{className:"form-section",children:[d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia *"}),d.jsx("input",{id:"name",type:"text",value:t,onChange:S=>r(S.target.value),placeholder:"MOV-XXXX",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",type:"text",value:n,onChange:S=>i(S.target.value),placeholder:"Ttulo para envo a PRO",className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin"}),d.jsx("textarea",{id:"description",value:a,onChange:S=>s(S.target.value),placeholder:"Descripcin detallada de la incidencia...",rows:4,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",value:u,onChange:S=>c(S.target.value),placeholder:"Informacin relevante...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",value:f,onChange:S=>p(S.target.value),placeholder:"Qu se ha realizado...",rows:3,className:"input-large"})]}),d.jsxs("div",{className:"form-group-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",value:m,onChange:S=>g(S.target.value),placeholder:"Clases o archivos modificados...",rows:3,className:"input-large"})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Prioridad"}),d.jsx("div",{className:"chip-selector",children:["baja","media","alta","crtica"].map(S=>d.jsxs("button",{type:"button",className:`chip-option priority-${S} ${A===S?"selected":""}`,onClick:()=>I(S),children:[S==="baja"&&" Baja",S==="media"&&" Media",S==="alta"&&" Alta",S==="crtica"&&" Crtica"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Estado"}),d.jsx("div",{className:"chip-selector",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${x===S?"selected":""}`,onClick:()=>E(S),children:[S==="abierta"&&"Abierta",S==="en-progreso"&&"En Progreso",S==="puesto-en-test"&&"Puesto en Test",S==="verificado-en-test"&&"Verificado en Test",S==="resuelta"&&"Resuelta",S==="cerrada"&&"Cerrada"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Tipo"}),d.jsx("div",{className:"chip-selector",children:["correctivo","evolutivo","tarea"].map(S=>d.jsxs("button",{type:"button",className:`chip-option ${O===S?"selected":""}`,onClick:()=>k(S),children:[S==="correctivo"&&" Correctivo",S==="evolutivo"&&" Evolutivo",S==="tarea"&&" Tarea"]},S))})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:" Informacin Adicional"}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"creationDate",type:"date",value:y,onChange:S=>_(S.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"contactUser",type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Nombre del contacto"})]})]})]}),d.jsx("button",{type:"submit",className:"btn-submit",children:" Crear Incidencia"})]})})},m5=({incident:e,onSave:t,onCancel:r})=>{const[n,i]=b.useState(e.name),[a,s]=b.useState(e.contactUser||""),[o,l]=b.useState(e.prQA2||""),[u,c]=b.useState(e.prMain||""),[f,p]=b.useState(e.creationDate||""),[m,g]=b.useState(e.status),[y,_]=b.useState(e.priority),[x,E]=b.useState(e.type),A=I=>{if(I.preventDefault(),!n.trim()){alert("Por favor ingresa un nombre para la incidencia");return}t({...e,name:n.trim(),contactUser:a.trim(),prQA2:o.trim(),prMain:u.trim(),creationDate:f,status:m,priority:y,type:x})};return d.jsx("div",{className:"incident-edit-overlay",children:d.jsxs("form",{className:"incident-edit-form",onSubmit:A,children:[d.jsx("h2",{children:"Editar Incidencia"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-name",children:"Nombre *"}),d.jsx("input",{id:"edit-name",type:"text",value:n,onChange:I=>i(I.target.value),placeholder:"Nombre de la incidencia"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-contactUser",children:"Usuario de Contacto"}),d.jsx("input",{id:"edit-contactUser",type:"text",value:a,onChange:I=>s(I.target.value),placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prQA2",children:"PR QA2"}),d.jsx("input",{id:"edit-prQA2",type:"text",value:o,onChange:I=>l(I.target.value),placeholder:"ID de PR para QA2"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-prMain",children:"PR MAIN"}),d.jsx("input",{id:"edit-prMain",type:"text",value:u,onChange:I=>c(I.target.value),placeholder:"ID de PR para MAIN"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-creationDate",children:"Fecha de Creacin"}),d.jsx("input",{id:"edit-creationDate",type:"date",value:f,onChange:I=>p(I.target.value)})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-status",children:"Estado"}),d.jsxs("select",{id:"edit-status",value:m,onChange:I=>g(I.target.value),children:[d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-priority",children:"Prioridad"}),d.jsxs("select",{id:"edit-priority",value:y,onChange:I=>_(I.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"edit-type",children:"Tipo"}),d.jsxs("select",{id:"edit-type",value:x,onChange:I=>E(I.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:"Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})})};function jN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=jN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=jN(e))&&(n&&(n+=" "),n+=t);return n}var g5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qw(e){if(typeof e!="string")return!1;var t=g5;return t.includes(e)}var v5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y5=new Set(v5);function NN(e){return typeof e!="string"?!1:y5.has(e)}function ON(e){return typeof e=="string"&&e.startsWith("data-")}function Pn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(NN(r)||ON(r))&&(t[r]=e[r]);return t}function Au(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Pn(t)}return typeof e=="object"&&!Array.isArray(e)?Pn(e):null}function un(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(NN(r)||ON(r)||qw(r))&&(t[r]=e[r]);return t}var w5=["children","width","height","viewBox","className","style","title","desc"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(null,arguments)}function x5(e,t){if(e==null)return{};var r,n,i=_5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ww=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=x5(e,w5),f=a||{width:n,height:i,x:0,y:0},p=Ne("recharts-surface",s);return b.createElement("svg",ay({},un(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),r)}),b5=["children","className"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function E5(e,t){if(e==null)return{};var r,n,i=S5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function S5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vr=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=E5(e,b5),a=Ne("recharts-layer",n);return b.createElement("g",sy({className:a},un(i),{ref:t}),r)}),kN=b.createContext(null),A5=()=>b.useContext(kN);function Le(e){return function(){return e}}const RN=Math.cos,Rf=Math.sin,In=Math.sqrt,Df=Math.PI,dp=2*Df,oy=Math.PI,ly=2*oy,La=1e-6,P5=ly-La;function DN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function T5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DN;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class C5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DN:T5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>La)if(!(Math.abs(f*l-u*c)>La)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,y=l*l+u*u,_=m*m+g*g,x=Math.sqrt(y),E=Math.sqrt(p),A=a*Math.tan((oy-Math.acos((y+p-_)/(2*x*E)))/2),I=A/E,O=A/x;Math.abs(I-1)>La&&this._append`L${t+I*c},${r+I*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=t+O*l},${this._y1=r+O*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>La||Math.abs(this._y1-c)>La)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%ly+ly),p>P5?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:p>La&&this._append`A${n},${n},0,${+(p>=oy)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Kw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new C5(t)}function Hw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MN(e){this._context=e}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fp(e){return new MN(e)}function LN(e){return e[0]}function VN(e){return e[1]}function FN(e,t){var r=Le(!0),n=null,i=fp,a=null,s=Kw(o);e=typeof e=="function"?e:e===void 0?LN:Le(e),t=typeof t=="function"?t:t===void 0?VN:Le(t);function o(l){var u,c=(l=Hw(l)).length,f,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Le(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function ad(e,t,r){var n=null,i=Le(!0),a=null,s=fp,o=null,l=Kw(u);e=typeof e=="function"?e:e===void 0?LN:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VN:Le(+r);function u(f){var p,m,g,y=(f=Hw(f)).length,_,x=!1,E,A=new Array(y),I=new Array(y);for(a==null&&(o=s(E=l())),p=0;p<=y;++p){if(!(p<y&&i(_=f[p],p,f))===x)if(x=!x)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(A[g],I[g]);o.lineEnd(),o.areaEnd()}x&&(A[p]=+e(_,p,f),I[p]=+t(_,p,f),o.point(n?+n(_,p,f):A[p],r?+r(_,p,f):I[p]))}if(E)return o=null,E+""||null}function c(){return FN().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class $N{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function I5(e){return new $N(e,!0)}function j5(e){return new $N(e,!1)}const Gw={draw(e,t){const r=In(t/Df);e.moveTo(r,0),e.arc(0,0,r,0,dp)}},N5={draw(e,t){const r=In(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zN=In(1/3),O5=zN*2,k5={draw(e,t){const r=In(t/O5),n=r*zN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},R5={draw(e,t){const r=In(t),n=-r/2;e.rect(n,n,r,r)}},D5=.8908130915292852,UN=Rf(Df/10)/Rf(7*Df/10),M5=Rf(dp/10)*UN,L5=-RN(dp/10)*UN,V5={draw(e,t){const r=In(t*D5),n=M5*r,i=L5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=dp*a/5,o=RN(s),l=Rf(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},gg=In(3),F5={draw(e,t){const r=-In(t/(gg*3));e.moveTo(0,r*2),e.lineTo(-gg*r,-r),e.lineTo(gg*r,-r),e.closePath()}},Qr=-.5,Yr=In(3)/2,uy=1/In(12),$5=(uy/2+1)*3,z5={draw(e,t){const r=In(t/$5),n=r/2,i=r*uy,a=n,s=r*uy+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Qr*n-Yr*i,Yr*n+Qr*i),e.lineTo(Qr*a-Yr*s,Yr*a+Qr*s),e.lineTo(Qr*o-Yr*l,Yr*o+Qr*l),e.lineTo(Qr*n+Yr*i,Qr*i-Yr*n),e.lineTo(Qr*a+Yr*s,Qr*s-Yr*a),e.lineTo(Qr*o+Yr*l,Qr*l-Yr*o),e.closePath()}};function U5(e,t){let r=null,n=Kw(i);e=typeof e=="function"?e:Le(e||Gw),t=typeof t=="function"?t:Le(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Le(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mf(){}function Lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function BN(e){this._context=e}BN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5(e){return new BN(e)}function qN(e){this._context=e}qN.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q5(e){return new qN(e)}function WN(e){this._context=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W5(e){return new WN(e)}function KN(e){this._context=e}KN.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K5(e){return new KN(e)}function xS(e){return e<0?-1:1}function _S(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(xS(a)+xS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function bS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vg(this,this._t0,bS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vg(this,bS(this,r=_S(this,e,t)),r);break;default:vg(this,this._t0,r=_S(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HN(e){this._context=new GN(e)}(HN.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function GN(e){this._context=e}GN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function H5(e){return new Vf(e)}function G5(e){return new HN(e)}function QN(e){this._context=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ES(e),i=ES(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ES(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Q5(e){return new QN(e)}function hp(e,t){this._context=e,this._t=t}hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Y5(e){return new hp(e,.5)}function X5(e){return new hp(e,0)}function Z5(e){return new hp(e,1)}function _o(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function J5(e,t){return e[t]}function ez(e){const t=[];return t.key=e,t}function tz(){var e=Le([]),t=cy,r=_o,n=J5;function i(a){var s=Array.from(e.apply(this,arguments),ez),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=Hw(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Le(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Le(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?cy:typeof a=="function"?a:Le(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??_o,i):r},i}function rz(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}_o(e,t)}}function nz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}_o(e,t)}}function iz(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,p=c[n-1][1]||0,m=(f-p)/2,g=0;g<o;++g){var y=e[t[g]],_=y[n][1]||0,x=y[n-1][1]||0;m+=_-x}l+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,_o(e,t)}}var pp={},YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(YN);var Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Qw);var mp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(mp);var gp={},XN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(XN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XN,r=mp;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(gp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YN,r=Qw,n=mp,i=gp;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(pp);var az=pp.get;const ls=Ti(az);var Ft=e=>e===0?0:e>0?1:-1,Tn=e=>typeof e=="number"&&e!=+e,xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!Tn(e),Gn=e=>re(e)||typeof e=="string",sz=0,Pu=e=>{var t=++sz;return"".concat(e||"").concat(t)},lr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var a;if(xi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Tn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},ZN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function At(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function oz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ls(n,t))===r)}var zt=e=>e===null||typeof e>"u",Ju=e=>zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lz(e){return e!=null}function ec(){}var uz=["type","size","sizeType"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cz(e,t,r){return(t=dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hz(e,t){if(e==null)return{};var r,n,i=pz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JN={symbolCircle:Gw,symbolCross:N5,symbolDiamond:k5,symbolSquare:R5,symbolStar:V5,symbolTriangle:F5,symbolWye:z5},mz=Math.PI/180,gz=e=>{var t="symbol".concat(Ju(e));return JN[t]||Gw},vz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*mz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yz=(e,t)=>{JN["symbol".concat(Ju(e))]=t},Yw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=hz(e,uz),a=AS(AS({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=gz(s),m=U5().type(p).size(vz(r,n,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,f=un(a);return re(u)&&re(c)&&re(r)?b.createElement("path",dy({},f,{className:Ne("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Yw.registerSymbol=yz;var eO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,wz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{qw(i)&&(n[i]=a=>r[i](r,a))}),n},xz=(e,t,r)=>n=>(e(t,r,n),null),tc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];qw(i)&&typeof a=="function"&&(n||(n={}),n[i]=xz(a,t,r))}),n};function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=_z({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Az(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){Pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pz(e,t,r){return(t=Tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zr=32,Iz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function jz(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Zr/2,a=Zr/6,s=Zr/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Zr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Zr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return b.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var c=Az({},t);return delete c.legendIcon,b.cloneElement(t.legendIcon,c)}return b.createElement(Yw,{fill:o,cx:i,cy:i,size:Zr,sizeType:"diameter",type:l})}function Nz(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Zr,height:Zr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var p=c.formatter||i,m=Ne({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,f):c.value;return b.createElement("li",Ff({className:m,style:l,key:"legend-item-".concat(f)},tc(e,c,f)),b.createElement(Ww,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},b.createElement(jz,{data:c,iconType:s,inactiveColor:a})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var Oz=e=>{var t=Ut(e,Iz),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:a},b.createElement(Nz,Ff({},t,{payload:r})))},tO={},rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(rO);var Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Xw);var nO={},vp={},iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(vp);var aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vp,r=aO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(nO);var sO={},oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(oO);var lO={},Zw={},uO={},Jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Jw);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ex);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(tx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw,r=ex,n=tx;function i(c,f,p){return typeof p!="function"?i(c,f,()=>{}):a(c,f,function m(g,y,_,x,E,A){const I=p(g,y,_,x,E,A);return I!==void 0?!!I:a(g,y,m,A)},new Map)}function a(c,f,p,m){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,p,m);case"function":return Object.keys(f).length>0?a(c,{...f},p,m):n.eq(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:n.eq(c,f)}}function s(c,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(c,f,p,m);if(f instanceof Map)return o(c,f,p,m);if(f instanceof Set)return u(c,f,p,m);const g=Object.keys(f);if(c==null)return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===c;m==null||m.set(f,c);try{for(let y=0;y<g.length;y++){const _=g[y];if(!r.isPrimitive(c)&&!(_ in c)||f[_]===void 0&&c[_]!==void 0||f[_]===null&&c[_]!==null||!p(c[_],f[_],_,c,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(c,f,p,m){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of f.entries()){const _=c.get(g);if(p(_,y,g,c,f,m)===!1)return!1}return!0}function l(c,f,p,m){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<f.length;y++){const _=f[y];let x=!1;for(let E=0;E<c.length;E++){if(g.has(E))continue;const A=c[E];let I=!1;if(p(A,_,y,c,f,m)&&(I=!0),I){g.add(E),x=!0;break}}if(!x)return!1}return!0}function u(c,f,p,m){return f.size===0?!0:c instanceof Set?l([...c],[...f],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Zw);var cO={},rx={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(dO);var nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(nx);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",I="[object BigUint64Array]",O="[object Int8Array]",k="[object Int16Array]",v="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=v,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=x})(ix);var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO,r=nx,n=ix,i=ex,a=fO;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,p,m=new Map,g=void 0){const y=g==null?void 0:g(c,f,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const _=new Array(c.length);m.set(c,_);for(let x=0;x<c.length;x++)_[x]=o(c[x],x,p,m,g);return Object.hasOwn(c,"index")&&(_.index=c.index),Object.hasOwn(c,"input")&&(_.input=c.input),_}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const _=new RegExp(c.source,c.flags);return _.lastIndex=c.lastIndex,_}if(c instanceof Map){const _=new Map;m.set(c,_);for(const[x,E]of c)_.set(x,o(E,x,p,m,g));return _}if(c instanceof Set){const _=new Set;m.set(c,_);for(const x of c)_.add(o(x,void 0,p,m,g));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const _=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,_);for(let x=0;x<c.length;x++)_[x]=o(c[x],x,p,m,g);return _}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const _=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,_),l(_,c,p,m,g),_}if(typeof File<"u"&&c instanceof File){const _=new File([c],c.name,{type:c.type});return m.set(c,_),l(_,c,p,m,g),_}if(typeof Blob<"u"&&c instanceof Blob){const _=new Blob([c],{type:c.type});return m.set(c,_),l(_,c,p,m,g),_}if(c instanceof Error){const _=new c.constructor;return m.set(c,_),_.message=c.message,_.name=c.name,_.stack=c.stack,_.cause=c.cause,l(_,c,p,m,g),_}if(c instanceof Boolean){const _=new Boolean(c.valueOf());return m.set(c,_),l(_,c,p,m,g),_}if(c instanceof Number){const _=new Number(c.valueOf());return m.set(c,_),l(_,c,p,m,g),_}if(c instanceof String){const _=new String(c.valueOf());return m.set(c,_),l(_,c,p,m,g),_}if(typeof c=="object"&&u(c)){const _=Object.create(Object.getPrototypeOf(c));return m.set(c,_),l(_,c,p,m,g),_}return c}function l(c,f,p=c,m,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let _=0;_<y.length;_++){const x=y[_],E=Object.getOwnPropertyDescriptor(c,x);(E==null||E.writable)&&(c[x]=o(f[x],x,p,m,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(rx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw,r=cO;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(lO);var hO={},pO={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx,r=ix;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pO);var gO={},ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ax);var vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,r=ax,n=vO,i=gp;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw,r=mp,n=pO,i=pp,a=gO;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(hO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw,r=oO,n=lO,i=hO;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(sO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO,r=Xw,n=nO,i=sO;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(tO);var kz=tO.uniqBy;const CS=Ti(kz);function yO(e,t,r){return t===!0?CS(e,r):typeof t=="function"?CS(e,t):e}var wO={exports:{}},xO={},_O={exports:{}},bO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=b;function Rz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dz=typeof Object.is=="function"?Object.is:Rz,Mz=bo.useState,Lz=bo.useEffect,Vz=bo.useLayoutEffect,Fz=bo.useDebugValue;function $z(e,t){var r=t(),n=Mz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Vz(function(){i.value=r,i.getSnapshot=t,yg(i)&&a({inst:i})},[e,r,t]),Lz(function(){return yg(i)&&a({inst:i}),e(function(){yg(i)&&a({inst:i})})},[e]),Fz(r),r}function yg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dz(e,r)}catch{return!0}}function zz(e,t){return t()}var Uz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zz:$z;bO.useSyncExternalStore=bo.useSyncExternalStore!==void 0?bo.useSyncExternalStore:Uz;_O.exports=bO;var Bz=_O.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=b,qz=Bz;function Wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kz=typeof Object.is=="function"?Object.is:Wz,Hz=qz.useSyncExternalStore,Gz=yp.useRef,Qz=yp.useEffect,Yz=yp.useMemo,Xz=yp.useDebugValue;xO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Gz(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Yz(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,Kz(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,f=y)}var u=!1,c,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Hz(e,a[0],a[1]);return Qz(function(){s.hasValue=!0,s.value=o},[o]),Xz(o),o};wO.exports=xO;var Zz=wO.exports,sx=b.createContext(null),Jz=e=>e,$e=()=>{var e=b.useContext(sx);return e?e.store.dispatch:Jz},$d=()=>{},e9=()=>$d,t9=(e,t)=>e===t;function ee(e){var t=b.useContext(sx);return Zz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:e9,t?t.store.getState:$d,t?t.store.getState:$d,t?e:$d,t9)}function r9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function n9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function i9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var IS=e=>Array.isArray(e)?e:[e];function a9(e){const t=Array.isArray(e[0])?e[0]:e;return i9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var o9=class{constructor(e){this.value=e}deref(){return this.value}},l9=typeof WeakRef<"u"?WeakRef:o9,u9=0,jS=1;function sd(){return{s:u9,v:void 0,o:null,p:null}}function EO(e,t={}){let r=sd();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const _=y.get(g);_===void 0?(o=sd(),y.set(g,o)):o=_}else{let y=o.p;y===null&&(o.p=y=new Map);const _=y.get(g);_===void 0?(o=sd(),y.set(g,o)):o=_}}const u=o;let c;if(o.s===jS)c=o.v;else if(c=e.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new l9(c):c}return u.s=jS,u.v=c,c}return s.clearCache=()=>{r=sd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function c9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),r9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=EO,argsMemoizeOptions:g=[]}=c,y=IS(p),_=IS(g),x=a9(i),E=f(function(){return a++,u.apply(null,arguments)},...y),A=m(function(){s++;const O=s9(x,arguments);return o=E.apply(null,O),o},..._);return Object.assign(A,{resultFunc:u,memoizedResultFunc:E,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=c9(EO),d9=Object.assign((e,t=L)=>{n9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>d9}),SO={},AO={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(PO);var TO={},ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ox);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,r=TO,n=gp;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let y=m;for(let _=0;_<g.length&&y!=null;++_)y=y[g[_]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const _=t.compareValues(m.criteria[y],g.criteria[y],o[y]);if(_!==0)return _}return 0}).map(m=>m.original)}e.orderBy=i})(AO);var CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(CO);var lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax,r=vp,n=Jw,i=tx;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(lx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO,r=CO,n=lx;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(SO);var f9=SO.sortBy;const wp=Ti(f9);var IO=e=>e.legend.settings,h9=e=>e.legend.size,p9=e=>e.legend.payload,m9=L([p9,IO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?wp(n,r):n});function g9(){return ee(m9)}var od=1;function jO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>od||Math.abs(s.left-t.left)>od||Math.abs(s.top-t.top)>od||Math.abs(s.width-t.width)>od)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Kt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v9=typeof Symbol=="function"&&Symbol.observable||"@@observable",NS=v9,wg=()=>Math.random().toString(36).substring(7).split("").join("."),y9={INIT:`@@redux/INIT${wg()}`,REPLACE:`@@redux/REPLACE${wg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wg()}`},$f=y9;function ux(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function NO(e,t,r){if(typeof e!="function")throw new Error(Kt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Kt(1));return r(NO)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((_,x)=>{s.set(x,_)}))}function c(){if(l)throw new Error(Kt(3));return i}function f(_){if(typeof _!="function")throw new Error(Kt(4));if(l)throw new Error(Kt(5));let x=!0;u();const E=o++;return s.set(E,_),function(){if(x){if(l)throw new Error(Kt(6));x=!1,u(),s.delete(E),a=null}}}function p(_){if(!ux(_))throw new Error(Kt(7));if(typeof _.type>"u")throw new Error(Kt(8));if(typeof _.type!="string")throw new Error(Kt(17));if(l)throw new Error(Kt(9));try{l=!0,i=n(i,_)}finally{l=!1}return(a=s).forEach(E=>{E()}),_}function m(_){if(typeof _!="function")throw new Error(Kt(10));n=_,p({type:$f.REPLACE})}function g(){const _=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Kt(11));function E(){const I=x;I.next&&I.next(c())}return E(),{unsubscribe:_(E)}},[NS](){return this}}}return p({type:$f.INIT}),{dispatch:p,subscribe:f,getState:c,replaceReducer:m,[NS]:g}}function w9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$f.INIT})>"u")throw new Error(Kt(12));if(typeof r(void 0,{type:$f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function OO(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{w9(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const f=n[c],p=r[f],m=s[f],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Kt(14));u[f]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function zf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function x9(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Kt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=zf(...o)(i.dispatch),{...i,dispatch:a}}}function kO(e){return ux(e)&&"type"in e&&typeof e.type=="string"}var RO=Symbol.for("immer-nothing"),OS=Symbol.for("immer-draftable"),yr=Symbol.for("immer-state");function yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object,Eo=zr.getPrototypeOf,Uf="constructor",xp="prototype",fy="configurable",Bf="enumerable",zd="writable",Tu="value",_i=e=>!!e&&!!e[yr];function Cn(e){var t;return e?DO(e)||_p(e)||!!e[OS]||!!((t=e[Uf])!=null&&t[OS])||bp(e)||Ep(e):!1}var _9=zr[xp][Uf].toString(),kS=new WeakMap;function DO(e){if(!e||!cx(e))return!1;const t=Eo(e);if(t===null||t===zr[xp])return!0;const r=zr.hasOwnProperty.call(t,Uf)&&t[Uf];if(r===Object)return!0;if(!Ds(r))return!1;let n=kS.get(r);return n===void 0&&(n=Function.toString.call(r),kS.set(r,n)),n===_9}function rc(e,t,r=!0){nc(e)===0?(r?Reflect.ownKeys(e):zr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function nc(e){const t=e[yr];return t?t.type_:_p(e)?1:bp(e)?2:Ep(e)?3:0}var RS=(e,t,r=nc(e))=>r===2?e.has(t):zr[xp].hasOwnProperty.call(e,t),hy=(e,t,r=nc(e))=>r===2?e.get(t):e[t],qf=(e,t,r,n=nc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function b9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _p=Array.isArray,bp=e=>e instanceof Map,Ep=e=>e instanceof Set,cx=e=>typeof e=="object",Ds=e=>typeof e=="function",xg=e=>typeof e=="boolean",ti=e=>e.copy_||e.base_,dx=e=>e.modified_?e.copy_:e.base_;function py(e,t){if(bp(e))return new Map(e);if(Ep(e))return new Set(e);if(_p(e))return Array[xp].slice.call(e);const r=DO(e);if(t===!0||t==="class_only"&&!r){const n=zr.getOwnPropertyDescriptors(e);delete n[yr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[zd]===!1&&(o[zd]=!0,o[fy]=!0),(o.get||o.set)&&(n[s]={[fy]:!0,[zd]:!0,[Bf]:o[Bf],[Tu]:e[s]})}return zr.create(Eo(e),n)}else{const n=Eo(e);if(n!==null&&r)return{...e};const i=zr.create(n);return zr.assign(i,e)}}function fx(e,t=!1){return Sp(e)||_i(e)||!Cn(e)||(nc(e)>1&&zr.defineProperties(e,{set:ld,add:ld,clear:ld,delete:ld}),zr.freeze(e),t&&rc(e,(r,n)=>{fx(n,!0)},!1)),e}function E9(){yn(2)}var ld={[Tu]:E9};function Sp(e){return e===null||!cx(e)?!0:zr.isFrozen(e)}var Wf="MapSet",my="Patches",MO={};function So(e){const t=MO[e];return t||yn(0,e),t}var S9=e=>!!MO[e],Cu,LO=()=>Cu,A9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:S9(Wf)?So(Wf):void 0});function DS(e,t){t&&(e.patchPlugin_=So(my),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gy(e){vy(e),e.drafts_.forEach(P9),e.drafts_=null}function vy(e){e===Cu&&(Cu=e.parent_)}var MS=e=>Cu=A9(Cu,e);function P9(e){const t=e[yr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[yr].modified_&&(gy(t),yn(4)),Cn(e)&&(e=VS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[yr].base_,e,t)}else e=VS(t,r);return T9(t,e,!0),gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RO?e:void 0}function VS(e,t){if(Sp(t))return t;const r=t[yr];if(!r)return hx(t,e.handledSet_,e);if(!Ap(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);$O(r,e)}return r.copy_}function T9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fx(t,r)}function VO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ap=(e,t)=>e.scope_===t,C9=[];function FO(e,t,r,n){const i=ti(e),a=e.type_;if(n!==void 0&&hy(i,n,a)===t){qf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;rc(i,(l,u)=>{if(_i(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??C9;for(const o of s)qf(i,o,r,a)}function I9(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ap(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=dx(a);FO(e,a.draft_??a,s,r),$O(a,i)})}function $O(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}VO(e)}}function j9(e,t,r){const{scope_:n}=e;if(_i(r)){const i=r[yr];Ap(i,n)&&i.callbacks_.push(function(){Ud(e);const s=dx(i);FO(e,r,s,t)})}else Cn(r)&&e.callbacks_.push(function(){const a=ti(e);hy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&hx(hy(e.copy_,t,e.type_),n.handledSet_,n)})}function hx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||_i(e)||t.has(e)||!Cn(e)||Sp(e)||(t.add(e),rc(e,(n,i)=>{if(_i(i)){const a=i[yr];if(Ap(a,r)){const s=dx(a);qf(e,n,s,e.type_),VO(a)}}else Cn(i)&&hx(i,t,r)})),e}function N9(e,t){const r=_p(e),n={type_:r?1:0,scope_:t?t.scope_:LO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=px;r&&(i=[n],a=Iu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var px={get(e,t){if(t===yr)return e;const r=ti(e);if(!RS(r,t,e.type_))return O9(e,r,t);const n=r[t];if(e.finalized_||!Cn(n))return n;if(n===_g(e.base_,t)){Ud(e);const i=e.type_===1?+t:t,a=wy(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in ti(e)},ownKeys(e){return Reflect.ownKeys(ti(e))},set(e,t,r){const n=zO(ti(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=_g(ti(e),t),a=i==null?void 0:i[yr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(b9(r,i)&&(r!==void 0||RS(e.base_,t,e.type_)))return!0;Ud(e),yy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),j9(e,t,r)),!0},deleteProperty(e,t){return Ud(e),_g(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ti(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zd]:!0,[fy]:e.type_!==1||t!=="length",[Bf]:n[Bf],[Tu]:r[t]}},defineProperty(){yn(11)},getPrototypeOf(e){return Eo(e.base_)},setPrototypeOf(){yn(12)}},Iu={};rc(px,(e,t)=>{Iu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Iu.deleteProperty=function(e,t){return Iu.set.call(this,e,t,void 0)};Iu.set=function(e,t,r){return px.set.call(this,e[0],t,r,e[0])};function _g(e,t){const r=e[yr];return(r?ti(r):e)[t]}function O9(e,t,r){var i;const n=zO(t,r);return n?Tu in n?n[Tu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function zO(e,t){if(!(t in e))return;let r=Eo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Eo(r)}}function yy(e){e.modified_||(e.modified_=!0,e.parent_&&yy(e.parent_))}function Ud(e){e.copy_||(e.assigned_=new Map,e.copy_=py(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ds(r)&&!Ds(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}Ds(n)||yn(6),i!==void 0&&!Ds(i)&&yn(7);let a;if(Cn(r)){const s=MS(this),o=wy(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?gy(s):vy(s)}return DS(s,i),LS(a,s)}else if(!r||!cx(r)){if(a=n(r),a===void 0&&(a=r),a===RO&&(a=void 0),this.autoFreeze_&&fx(a,!0),i){const s=[],o=[];So(my).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else yn(1,r)},this.produceWithPatches=(r,n)=>{if(Ds(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},xg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),xg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),xg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Cn(t)||yn(8),_i(t)&&(t=En(t));const r=MS(this),n=wy(r,t,void 0);return n[yr].isManual_=!0,vy(r),n}finishDraft(t,r){const n=t&&t[yr];(!n||!n.isManual_)&&yn(9);const{scope_:i}=n;return DS(i,r),LS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=So(my).applyPatches_;return _i(t)?i(t,r):this.produce(t,a=>i(a,r))}};function wy(e,t,r,n){const[i,a]=bp(t)?So(Wf).proxyMap_(t,r):Ep(t)?So(Wf).proxySet_(t,r):N9(t,r);return((r==null?void 0:r.scope_)??LO()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?I9(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function En(e){return _i(e)||yn(10,e),UO(e)}function UO(e){if(!Cn(e)||Sp(e))return e;const t=e[yr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=py(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=py(e,!0);return rc(r,(i,a)=>{qf(r,i,UO(a))},n),t&&(t.finalized_=!1),r}var R9=new k9,BO=R9.produce;function qO(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var D9=qO(),M9=qO,L9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function cn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Br(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kO(n)&&n.type===e,r}var WO=class Ll extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ll.prototype)}static get[Symbol.species](){return Ll}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ll(...t[0].concat(this)):new Ll(...t.concat(this))}};function FS(e){return Cn(e)?BO(e,()=>{}):e}function ud(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function V9(e){return typeof e=="boolean"}var F9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new WO;return r&&(V9(r)?s.push(D9):s.push(M9(r.extraArgument))),s},KO="RTK_autoBatch",Ge=()=>e=>({payload:e,meta:{[KO]:!0}}),$S=e=>t=>{setTimeout(t,e)},HO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$S(10):e.type==="callback"?e.queueNotification:$S(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const f=()=>i&&c(),p=n.subscribe(f);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[KO]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},$9=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new WO(e);return n&&i.push(HO(typeof n=="object"?n:void 0)),i};function z9(e){const t=F9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(ux(r))o=OO(r);else throw new Error(Br(1));let l;typeof n=="function"?l=n(t):l=t();let u=zf;i&&(u=L9({trace:!1,...typeof i=="object"&&i}));const c=x9(...l),f=$9(c);let p=typeof s=="function"?s(f):f();const m=u(...p);return NO(o,a,m)}function GO(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Br(28));if(o in t)throw new Error(Br(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function U9(e){return typeof e=="function"}function B9(e,t){let[r,n,i]=GO(t),a;if(U9(e))a=()=>FS(e());else{const o=FS(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(_i(c)){const m=f(c,l);return m===void 0?c:m}else{if(Cn(c))return BO(c,p=>f(p,l));{const p=f(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var q9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W9=(e=21)=>{let t="",r=e;for(;r--;)t+=q9[Math.random()*64|0];return t},K9=Symbol.for("rtk-slice-createasyncthunk");function H9(e,t){return`${e}/${t}`}function G9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[K9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Br(11));const o=(typeof i.reducers=="function"?i.reducers(Y9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,O){const k=typeof I=="string"?I:I.type;if(!k)throw new Error(Br(12));if(k in u.sliceCaseReducersByType)throw new Error(Br(13));return u.sliceCaseReducersByType[k]=O,c},addMatcher(I,O){return u.sliceMatchers.push({matcher:I,reducer:O}),c},exposeAction(I,O){return u.actionCreators[I]=O,c},exposeCaseReducer(I,O){return u.sliceCaseReducersByName[I]=O,c}};l.forEach(I=>{const O=o[I],k={reducerName:I,type:H9(a,I),createNotation:typeof i.reducers=="function"};Z9(O)?eU(k,O,c,t):X9(k,O,c)});function f(){const[I={},O=[],k=void 0]=typeof i.extraReducers=="function"?GO(i.extraReducers):[i.extraReducers],v={...I,...u.sliceCaseReducersByType};return B9(i.initialState,S=>{for(let C in v)S.addCase(C,v[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of O)S.addMatcher(C.matcher,C.reducer);k&&S.addDefaultCase(k)})}const p=I=>I,m=new Map,g=new WeakMap;let y;function _(I,O){return y||(y=f()),y(I,O)}function x(){return y||(y=f()),y.getInitialState()}function E(I,O=!1){function k(S){let C=S[I];return typeof C>"u"&&O&&(C=ud(g,k,x)),C}function v(S=p){const C=ud(m,O,()=>new WeakMap);return ud(C,S,()=>{const D={};for(const[T,N]of Object.entries(i.selectors??{}))D[T]=Q9(N,S,()=>ud(g,S,x),O);return D})}return{reducerPath:I,getSelectors:v,get selectors(){return v(k)},selectSlice:k}}const A={name:a,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...E(s),injectInto(I,{reducerPath:O,...k}={}){const v=O??s;return I.inject({reducerPath:v,reducer:_},k),{...A,...E(v,!0)}}};return A}}function Q9(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Nr=G9();function Y9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function X9({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!J9(n))throw new Error(Br(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?cn(e,s):cn(e))}function Z9(e){return e._reducerDefinitionType==="asyncThunk"}function J9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Br(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,f=i(e,a,c);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||cd,pending:o||cd,rejected:l||cd,settled:u||cd})}function cd(){}var tU="task",QO="listener",YO="completed",mx="cancelled",rU=`task-${mx}`,nU=`task-${YO}`,xy=`${QO}-${mx}`,iU=`${QO}-${YO}`,Pp=class{constructor(e){Rm(this,"name","TaskAbortError");Rm(this,"message");this.code=e,this.message=`${tU} ${mx} (reason: ${e})`}},gx=(e,t)=>{if(typeof e!="function")throw new TypeError(Br(32))},Kf=()=>{},XO=(e,t=Kf)=>(e.catch(t),e),ZO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xa=e=>{if(e.aborted)throw new Pp(e.reason)};function JO(e,t){let r=Kf;return new Promise((n,i)=>{const a=()=>i(new Pp(e.reason));if(e.aborted){a();return}r=ZO(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Kf})}var aU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Pp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hf=e=>t=>XO(JO(e,t).then(r=>(Xa(e),r))),ek=e=>{const t=Hf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:io}=Object,zS={},Tp="listenerMiddleware",sU=(e,t)=>{const r=n=>ZO(e,()=>n.abort(e.reason));return(n,i)=>{gx(n);const a=new AbortController;r(a);const s=aU(async()=>{Xa(e),Xa(a.signal);const o=await n({pause:Hf(a.signal),delay:ek(a.signal),signal:a.signal});return Xa(a.signal),o},()=>a.abort(nU));return i!=null&&i.autoJoin&&t.push(s.catch(Kf)),{result:Hf(e)(s),cancel(){a.abort(rU)}}}},oU=(e,t)=>{const r=async(n,i)=>{Xa(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await JO(t,Promise.race(o));return Xa(t),l}finally{a()}};return(n,i)=>XO(r(n,i))},tk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=cn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Br(21));return gx(a),{predicate:i,type:t,effect:a}},rk=io(e=>{const{type:t,predicate:r,effect:n}=tk(e);return{id:W9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Br(22))}}},{withTypes:()=>rk}),US=(e,t)=>{const{type:r,effect:n,predicate:i}=tk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},_y=e=>{e.pending.forEach(t=>{t.abort(xy)})},lU=(e,t)=>()=>{for(const r of t.keys())_y(r);e.clear()},BS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},nk=io(cn(`${Tp}/add`),{withTypes:()=>nk}),uU=cn(`${Tp}/removeAll`),ik=io(cn(`${Tp}/remove`),{withTypes:()=>ik}),cU=(...e)=>{console.error(`${Tp}/error`,...e)},ic=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=cU}=e;gx(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&_y(m)}),l=m=>{const g=US(t,m)??rk(m);return o(g)};io(l,{withTypes:()=>l});const u=m=>{const g=US(t,m);return g&&(g.unsubscribe(),m.cancelActive&&_y(g)),!!g};io(u,{withTypes:()=>u});const c=async(m,g,y,_)=>{const x=new AbortController,E=oU(l,x.signal),A=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,io({},y,{getOriginalState:_,condition:(I,O)=>E(I,O).then(Boolean),take:E,delay:ek(x.signal),pause:Hf(x.signal),extra:a,signal:x.signal,fork:sU(x.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,O,k)=>{I!==x&&(I.abort(xy),k.delete(I))})},cancel:()=>{x.abort(xy),m.pending.delete(x)},throwIfCancelled:()=>{Xa(x.signal)}})))}catch(I){I instanceof Pp||BS(s,I,{raisedBy:"effect"})}finally{await Promise.all(A),x.abort(iU),i(m),m.pending.delete(x)}},f=lU(t,r);return{middleware:m=>g=>y=>{if(!kO(y))return g(y);if(nk.match(y))return l(y.payload);if(uU.match(y)){f();return}if(ik.match(y))return u(y.payload);let _=m.getState();const x=()=>{if(_===zS)throw new Error(Br(23));return _};let E;try{if(E=g(y),t.size>0){const A=m.getState(),I=Array.from(t.values());for(const O of I){let k=!1;try{k=O.predicate(y,A,_)}catch(v){k=!1,BS(s,v,{raisedBy:"predicate"})}k&&c(O,y,m,x)}}}finally{_=zS}return E},startListening:l,stopListening:u,clearListeners:f}};function Br(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ak=Nr({name:"chartLayout",initialState:dU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:fU,setLayout:hU,setChartSize:pU,setScale:mU}=ak.actions,gU=ak.reducer;function sk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=wU(e,"string");return typeof t=="symbol"?t:t+""}function wU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return zt(e)||zt(t)?r:Gn(t)?ls(e,t,r):typeof t=="function"?t(e):r}var xU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&re(e[a]))return Gs(Gs({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&re(e[s]))return Gs(Gs({},e),{},{[s]:e[s]+(i||0)})}return e},xs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ok=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},lk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:p,axisType:m}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Ft(a[0]-a[1])*2*y:y,f||p){var _=(f||p||[]).map((x,E)=>{var A=n?n.indexOf(x):x;return{coordinate:s(A)+y,value:x,offset:y,index:E}});return _.filter(x=>!Tn(x.coordinate))}return l&&u?u.map((x,E)=>({coordinate:s(x)+y,value:x,index:E,offset:y})):s.ticks&&c!=null?s.ticks(c).map((x,E)=>({coordinate:s(x)+y,value:x,offset:y,index:E})):s.domain().map((x,E)=>({coordinate:s(x)+y,value:n?n[x]:x,index:E,offset:y}))},WS=1e-4,_U=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-WS,a=Math.max(n[0],n[1])+WS,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},bU=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},EU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=Tn(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},SU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Tn(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AU={sign:EU,expand:rz,none:_o,silhouette:nz,wiggle:iz,positive:SU},PU=(e,t,r)=>{var n=AU[r],i=tz().keys(t).value((a,s)=>Number(Ye(a,s,0))).order(cy).offset(n);return i(e)};function TU(e){return e==null?void 0:String(e)}var KS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ye(a,t.dataKey,t.scale.domain()[s]);return zt(o)?null:t.scale(o)-i/2+n},CU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},IU=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},jU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NU=(e,t,r)=>{if(e!=null)return jU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=sk(u,t,r),f=IU(c);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},HS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=wp(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function QS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Gs(Gs({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Cp(e,t){if(e)return String(e);if(typeof t=="string")return t}var OU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kU=(e,t)=>t==="centric"?e.angle:e.radius,Ii=e=>e.layout.width,ji=e=>e.layout.height,RU=e=>e.layout.scale,uk=e=>e.layout.margin,Ip=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jp=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ck="data-recharts-item-index",dk="data-recharts-item-data-key",ac=60;function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=e=>e.brush.height;function FU(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ac;return r+i}return r},0)}function $U(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ac;return r+i}return r},0)}function zU(e){var t=Ip(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function UU(e){var t=Ip(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var It=L([Ii,ji,uk,VU,FU,$U,zU,UU,IO,h9],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=dd(dd({},f),c),m=p.bottom;p.bottom+=n,p=xU(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return dd(dd({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),BU=L(It,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),vx=L(Ii,ji,(e,t)=>({x:0,y:0,width:e,height:t})),qU=b.createContext(null),Or=()=>b.useContext(qU)!=null,Np=e=>e.brush,Op=L([Np,It,uk],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),fk={},hk={},pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),s=void 0,o=null},_=()=>{c()},x=function(...E){if(i!=null&&i.aborted)return;s=this,o=E;const A=p==null;m(),l&&A&&c()};return x.schedule=m,x.cancel=y,x.flush=_,i==null||i.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const p=t.debounce(function(...y){c=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=n.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}e.debounce=r})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(fk);var WU=fk.throttle;const KU=Ti(WU);var Qf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},mk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=xi(n)?e:Number(n),l=xi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},HU={width:0,height:0,overflow:"visible"},GU={width:0,overflowX:"visible"},QU={height:0,overflowY:"visible"},YU={},XU=e=>{var{width:t,height:r}=e,n=xi(t),i=xi(r);return n&&i?HU:n?GU:i?QU:YU};function ZU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function dt(e){return Number.isFinite(e)}function Qn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gk=b.createContext({width:-1,height:-1});function rB(e){return Qn(e.width)&&Qn(e.height)}function vk(e){var{children:t,width:r,height:n}=e,i=b.useMemo(()=>({width:r,height:n}),[r,n]);return rB(i)?b.createElement(gk.Provider,{value:i},t):null}var yx=()=>b.useContext(gk),nB=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:f,className:p,onResize:m,style:g={}}=e,y=b.useRef(null),_=b.useRef();_.current=m,b.useImperativeHandle(t,()=>y.current);var[x,E]=b.useState({containerWidth:n.width,containerHeight:n.height}),A=b.useCallback((S,C)=>{E(D=>{var T=Math.round(S),N=Math.round(C);return D.containerWidth===T&&D.containerHeight===N?D:{containerWidth:T,containerHeight:N}})},[]);b.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return ec;var S=N=>{var j,{width:Q,height:oe}=N[0].contentRect;A(Q,oe),(j=_.current)===null||j===void 0||j.call(_,Q,oe)};c>0&&(S=KU(S,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:D,height:T}=y.current.getBoundingClientRect();return A(D,T),C.observe(y.current),()=>{C.disconnect()}},[A,c]);var{containerWidth:I,containerHeight:O}=x;Qf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:v}=mk(I,O,{width:i,height:a,aspect:r,maxHeight:l});return Qf(k!=null&&k>0||v!=null&&v>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,v,i,a,s,o,r),b.createElement("div",{id:f?"".concat(f):void 0,className:Ne("recharts-responsive-container",p),style:ZS(ZS({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},b.createElement("div",{style:XU({width:i,height:a})},b.createElement(vk,{width:k,height:v},u)))}),wx=b.forwardRef((e,t)=>{var r=yx();if(Qn(r.width)&&Qn(r.height))return e.children;var{width:n,height:i}=ZU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=mk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(a)&&re(s)?b.createElement(vk,{width:a,height:s},e.children):b.createElement(nB,by({},e,{width:n,height:i,ref:t}))});function yk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var kp=()=>{var e,t=Or(),r=ee(BU),n=ee(Op),i=(e=ee(Np))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},iB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wk=()=>{var e;return(e=ee(It))!==null&&e!==void 0?e:iB},xx=()=>ee(Ii),_x=()=>ee(ji),aB=()=>ee(e=>e.layout.margin),Pe=e=>e.layout.layoutType,Rp=()=>ee(Pe),sB=()=>{var e=Rp();return e!==void 0},Dp=e=>{var t=$e(),r=Or(),{width:n,height:i}=e,a=yx(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),b.useEffect(()=>{!r&&Qn(s)&&Qn(o)&&t(pU({width:s,height:o}))},[t,r,s,o]),null},xk=Symbol.for("immer-nothing"),JS=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ju=Object.getPrototypeOf;function Ao(e){return!!e&&!!e[Wr]}function us(e){var t;return e?_k(e)||Array.isArray(e)||!!e[JS]||!!((t=e.constructor)!=null&&t[JS])||sc(e)||Lp(e):!1}var oB=Object.prototype.constructor.toString(),eA=new WeakMap;function _k(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=eA.get(r);return n===void 0&&(n=Function.toString.call(r),eA.set(r,n)),n===oB}function Yf(e,t,r=!0){Mp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Mp(e){const t=e[Wr];return t?t.type_:Array.isArray(e)?1:sc(e)?2:Lp(e)?3:0}function Ey(e,t){return Mp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bk(e,t,r){const n=Mp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sc(e){return e instanceof Map}function Lp(e){return e instanceof Set}function Va(e){return e.copy_||e.base_}function Sy(e,t){if(sc(e))return new Map(e);if(Lp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=_k(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Wr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(ju(e),n)}else{const n=ju(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function bx(e,t=!1){return Vp(e)||Ao(e)||!us(e)||(Mp(e)>1&&Object.defineProperties(e,{set:fd,add:fd,clear:fd,delete:fd}),Object.freeze(e),t&&Object.values(e).forEach(r=>bx(r,!0))),e}function uB(){wn(2)}var fd={value:uB};function Vp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var cB={};function cs(e){const t=cB[e];return t||wn(0,e),t}var Nu;function Ek(){return Nu}function dB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tA(e,t){t&&(cs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ay(e){Py(e),e.drafts_.forEach(fB),e.drafts_=null}function Py(e){e===Nu&&(Nu=e.parent_)}function rA(e){return Nu=dB(Nu,e)}function fB(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Wr].modified_&&(Ay(t),wn(4)),us(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&cs("Patches").generateReplacementPatches_(r[Wr].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,r,[]),Ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xk?e:void 0}function Xf(e,t,r){if(Vp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Wr];if(!i)return Yf(t,(a,s)=>iA(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Yf(s,(l,u)=>iA(e,i,a,l,u,r,o),n),Zf(e,a,!1),r&&e.patches_&&cs("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function iA(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Vp(i);if(!(o&&!s)){if(Ao(i)){const l=a&&t&&t.type_!==3&&!Ey(t.assigned_,n)?a.concat(n):void 0,u=Xf(e,i,l);if(bk(r,n,u),Ao(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(us(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(sc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zf(e,i)}}}function Zf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bx(t,r)}function hB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ek(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Ex;r&&(i=[n],a=Ou);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var Ex={get(e,t){if(t===Wr)return e;const r=Va(e);if(!Ey(r,t))return pB(e,r,t);const n=r[t];return e.finalized_||!us(n)?n:n===bg(e.base_,t)?(Eg(e),e.copy_[t]=Cy(n,e)):n},has(e,t){return t in Va(e)},ownKeys(e){return Reflect.ownKeys(Va(e))},set(e,t,r){const n=Sk(Va(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=bg(Va(e),t),a=i==null?void 0:i[Wr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lB(r,i)&&(r!==void 0||Ey(e.base_,t)))return!0;Eg(e),Ty(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Eg(e),Ty(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Va(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return ju(e.base_)},setPrototypeOf(){wn(12)}},Ou={};Yf(Ex,(e,t)=>{Ou[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ou.deleteProperty=function(e,t){return Ou.set.call(this,e,t,void 0)};Ou.set=function(e,t,r){return Ex.set.call(this,e[0],t,r,e[0])};function bg(e,t){const r=e[Wr];return(r?Va(r):e)[t]}function pB(e,t,r){var i;const n=Sk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Sk(e,t){if(!(t in e))return;let r=ju(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ju(r)}}function Ty(e){e.modified_||(e.modified_=!0,e.parent_&&Ty(e.parent_))}function Eg(e){e.copy_||(e.copy_=Sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&wn(6),n!==void 0&&typeof n!="function"&&wn(7);let i;if(us(t)){const a=rA(this),s=Cy(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Ay(a):Py(a)}return tA(a,n),nA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===xk&&(i=void 0),this.autoFreeze_&&bx(i,!0),n){const a=[],s=[];cs("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){us(e)||wn(8),Ao(e)&&(e=gB(e));const t=rA(this),r=Cy(e,void 0);return r[Wr].isManual_=!0,Py(t),r}finishDraft(e,t){const r=e&&e[Wr];(!r||!r.isManual_)&&wn(9);const{scope_:n}=r;return tA(n,t),nA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=cs("Patches").applyPatches_;return Ao(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Cy(e,t){const r=sc(e)?cs("MapSet").proxyMap_(e,t):Lp(e)?cs("MapSet").proxySet_(e,t):hB(e,t);return(t?t.scope_:Ek()).drafts_.push(r),r}function gB(e){return Ao(e)||wn(10,e),Ak(e)}function Ak(e){if(!us(e)||Vp(e))return e;const t=e[Wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sy(e,!0);return Yf(r,(i,a)=>{bk(r,i,Ak(a))},n),t&&(t.finalized_=!1),r}var vB=new mB;vB.produce;var yB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Pk=Nr({name:"legend",initialState:yB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ge()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=En(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(e,t){var r=En(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:aA,setLegendSettings:wB,addLegendPayload:Tk,replaceLegendPayload:Ck,removeLegendPayload:Ik}=Pk.actions,xB=Pk.reducer,_B=["contextPayload"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){bB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bB(e,t,r){return(t=EB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AB(e,t){if(e==null)return{};var r,n,i=PB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TB(e){return e.value}function CB(e){var{contextPayload:t}=e,r=AB(e,_B),n=yO(t,e.payloadUniqBy,TB),i=Po(Po({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(Oz,i)}function IB(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Po(Po({},u),c)}function jB(e){var t=$e();return b.useEffect(()=>{t(wB(e))},[t,e]),null}function NB(e){var t=$e();return b.useEffect(()=>(t(aA(e)),()=>{t(aA({width:0,height:0}))}),[t,e]),null}function OB(e,t,r,n){return e==="vertical"&&re(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var kB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Fp(e){var t=Ut(e,kB),r=g9(),n=A5(),i=aB(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=jO([r]),f=xx(),p=_x();if(f==null||p==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=OB(t.layout,s,a,m),y=l?o:Po(Po({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||s||"auto"},IB(o,t,i,f,p,u)),o),_=l??n;if(_==null||r==null)return null;var x=b.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},b.createElement(jB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&b.createElement(NB,{width:u.width,height:u.height}),b.createElement(CB,Iy({},t,g,{margin:i,chartWidth:f,chartHeight:p,contextPayload:r})));return Wn.createPortal(x,_)}Fp.displayName="Legend";function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){RB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t,r){return(t=DB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e){return Array.isArray(e)&&Gn(e[0])&&Gn(e[1])?e.join(" ~ "):e}var VB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var O={padding:0,margin:0},k=(o?wp(a,o):a).map((v,S)=>{if(v.type==="none")return null;var C=v.formatter||s||LB,{value:D,name:T}=v,N=D,j=T;if(C){var Q=C(D,T,v,S,a);if(Array.isArray(Q))[N,j]=Q;else if(Q!=null)N=Q;else return null}var oe=Sg({display:"block",paddingTop:4,paddingBottom:4,color:v.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:oe},Gn(j)?b.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Gn(j)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},N),b.createElement("span",{className:"recharts-tooltip-item-unit"},v.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},g=Sg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Sg({margin:0},i),_=!zt(c),x=_?c:"",E=Ne("recharts-default-tooltip",l),A=Ne("recharts-tooltip-label",u);_&&f&&a!==void 0&&a!==null&&(x=f(c,a));var I=p?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",jy({className:E,style:g},I),b.createElement("p",{className:A,style:y},b.isValidElement(x)?x:"".concat(x)),m())},xl="recharts-tooltip-wrapper",FB={visibility:"hidden"};function $B(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ne(xl,{["".concat(xl,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(xl,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(xl,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(xl,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function lA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&re(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?c:f;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,g=p;return m<g?Math.max(f,p):Math.max(c,p)}if(u==null)return 0;var y=f+o,_=p+u;return y>_?Math.max(c,p):Math.max(f,p)}function zB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,f;return s.height>0&&s.width>0&&r?(c=lA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=lA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=zB({translateX:c,translateY:f,useTranslate3d:o})):u=FB,{cssProperties:u,cssClasses:$B({translateX:c,translateY:f,coordinate:r})}}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=qB(e,"string");return typeof t=="symbol"?t:t+""}function qB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WB extends b.PureComponent{constructor(){super(...arguments),Ny(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ny(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:_,hasPortalFromProps:x}=this.props,{cssClasses:E,cssProperties:A}=UB({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),I=x?{}:hd(hd({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=hd(hd({},I),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:_},a)}}var jk=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){KB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KB(e,t,r){return(t=HB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fA={curveBasisClosed:q5,curveBasisOpen:W5,curveBasis:B5,curveBumpX:I5,curveBumpY:j5,curveLinearClosed:K5,curveLinear:fp,curveMonotoneX:H5,curveMonotoneY:G5,curveNatural:Q5,curveStep:Y5,curveStepAfter:Z5,curveStepBefore:X5},Jf=e=>dt(e.x)&&dt(e.y),hA=e=>e.base!=null&&Jf(e.base)&&Jf(e),_l=e=>e.x,bl=e=>e.y,QB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ju(e));return(r==="curveMonotone"||r==="curveBump")&&t?fA["".concat(r).concat(t==="vertical"?"Y":"X")]:fA[r]||fp},YB=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=QB(t,i),o=a?r.filter(Jf):r,l;if(Array.isArray(n)){var u=r.map((m,g)=>dA(dA({},m),{},{base:n[g]}));i==="vertical"?l=ad().y(bl).x1(_l).x0(m=>m.base.x):l=ad().x(_l).y1(bl).y0(m=>m.base.y);var c=l.defined(hA).curve(s),f=a?u.filter(hA):u;return c(f)}i==="vertical"&&re(n)?l=ad().y(bl).x1(_l).x0(n):re(n)?l=ad().x(_l).y1(bl).y0(n):l=FN().x(_l).y(bl);var p=l.defined(Jf).curve(s);return p(o)},Sx=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?YB(e):n;return b.createElement("path",Oy({},Pn(e),wz(e),{className:Ne("recharts-curve",t),d:a===null?void 0:a,ref:i}))},XB=["x","y","top","left","width","height","className"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){JB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JB(e,t,r){return(t=e8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r8(e,t){if(e==null)return{};var r,n,i=n8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),a8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=r8(e,XB),u=ZB({x:t,y:r,top:n,left:i,width:a,height:s},l);return!re(t)||!re(r)||!re(a)||!re(s)||!re(n)||!re(i)?null:b.createElement("path",ky({},un(u),{className:Ne("recharts-cross",o),d:i8(t,r,a,s,n,i)}))};function s8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Nk=(e,t,r)=>e.map(n=>"".concat(c8(n)," ").concat(t,"ms ").concat(r)).join(","),d8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ku=(e,t)=>Object.keys(t).reduce((r,n)=>gA(gA({},r),{},{[n]:e(n,t[n])}),{});function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return(t=h8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=(e,t,r)=>e+(t-e)*r,Ry=e=>{var{from:t,to:r}=e;return t!==r},Ok=(e,t,r)=>{var n=ku((i,a)=>{if(Ry(a)){var[s,o]=e(a.from,a.to,a.velocity);return Pt(Pt({},a),{},{from:s,velocity:o})}return a},t);return r<1?ku((i,a)=>Ry(a)?Pt(Pt({},a),{},{velocity:eh(a.velocity,n[i].velocity,r),from:eh(a.from,n[i].from,r)}):a,t):Ok(e,n,r-1)};function m8(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Pt(Pt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>ku((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Ry).length,c=null,f=p=>{s||(s=p);var m=p-s,g=m/r.dt;o=Ok(r,o,g),i(Pt(Pt(Pt({},e),t),l())),s=p,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}function g8(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,p)=>Pt(Pt({},f),{},{[p]:[e[p],t[p]]}),{}),u,c=f=>{u||(u=f);var p=(f-u)/n,m=ku((y,_)=>eh(..._,r(p)),l);if(a(Pt(Pt(Pt({},e),t),m)),p<1)o=s.setTimeout(c);else{var g=ku((y,_)=>eh(..._,r(1)),l);a(Pt(Pt(Pt({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const v8=(e,t,r,n,i,a)=>{var s=d8(e,t);return r==null?()=>(i(Pt(Pt({},e),t)),()=>{}):r.isStepper===!0?m8(e,t,r,s,i,a):g8(e,t,r,n,s,i,a)};var th=1e-4,kk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Rk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),yA=(e,t)=>r=>{var n=kk(e,t);return Rk(n,r)},y8=(e,t)=>r=>{var n=kk(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return Rk(i,r)},w8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},x8=(e,t,r,n)=>{var i=yA(e,r),a=yA(t,n),s=y8(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,p=0;p<8;++p){var m=i(f)-c,g=s(f);if(Math.abs(m-c)<th||g<th)return a(f);f=o(f-m/g)}return a(f)};return l.isStepper=!1,l},wA=function(){return x8(...w8(...arguments))},_8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,f=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<th&&Math.abs(f)<th?[o,0]:[p,f]};return a.isStepper=!0,a.dt=i,a},b8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wA(e);case"spring":return _8();default:if(e.split("(")[0]==="cubic-bezier")return wA(e)}return typeof e=="function"?e:null};function E8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class S8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function A8(){return E8(new S8)}var P8=b.createContext(A8);function T8(e,t){var r=b.useContext(P8);return b.useMemo(()=>t??r(e),[e,t,r])}var C8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oc={devToolsEnabled:!1,isSsr:C8()},I8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xA={t:0},Ag={t:1};function $p(e){var t=Ut(e,I8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!oc.isSsr:r,f=T8(t.animationId,t.animationManager),[p,m]=b.useState(c?xA:Ag),g=b.useRef(null);return b.useEffect(()=>{c||m(Ag)},[c]),b.useEffect(()=>{if(!c||!n)return ec;var y=v8(xA,Ag,b8(a),i,m,f.getTimeoutController()),_=()=>{g.current=y()};return f.start([l,s,_,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,n,i,a,s,l,o,f]),u(p.t)}function zp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Pu(t)),n=b.useRef(e);return n.current!==e&&(r.current=Pu(t),n.current=e),r.current}var j8=["radius"],N8=["radius"];function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function EA(e,t){if(e==null)return{};var r,n,i=D8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function D8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SA=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,p=4;f<p;f++)c[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+o*c[0],",").concat(t)),u+="L ".concat(e+r-o*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*c[1])),u+="L ".concat(e+r,",").concat(t+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+r-o*c[2],",").concat(t+n)),u+="L ".concat(e+o*c[3],",").concat(t+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},AA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dk=e=>{var t=Ut(e,AA),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,_=b.useRef(o),x=b.useRef(l),E=b.useRef(a),A=b.useRef(s),I=b.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),O=zp(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var k=Ne("recharts-rectangle",c);if(!y){var v=un(t),{radius:S}=v,C=EA(v,j8);return b.createElement("path",rh({},C,{radius:typeof u=="number"?u:void 0,className:k,d:SA(a,s,o,l,u)}))}var D=_.current,T=x.current,N=E.current,j=A.current,Q="0px ".concat(n===-1?1:n,"px"),oe="".concat(n,"px 0px"),de=Nk(["strokeDasharray"],p,typeof f=="string"?f:AA.animationEasing);return b.createElement($p,{animationId:O,key:O,canBegin:n>0,duration:p,easing:f,isActive:y,begin:m},le=>{var U=At(D,o,le),K=At(T,l,le),ne=At(N,a,le),pe=At(j,s,le);r.current&&(_.current=U,x.current=K,E.current=ne,A.current=pe);var _e;g?le>0?_e={transition:de,strokeDasharray:oe}:_e={strokeDasharray:Q}:_e={strokeDasharray:oe};var xt=un(t),{radius:ke}=xt,qt=EA(xt,N8);return b.createElement("path",rh({},qt,{radius:typeof u=="number"?u:void 0,className:k,d:SA(ne,pe,U,K,u),ref:r,style:bA(bA({},_e),t.style)}))})};function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,F8=e=>e*180/Math.PI,yt=(e,t,r,n)=>({x:e+Math.cos(-nh*n)*r,y:t+Math.sin(-nh*n)*r}),Mk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},z8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=$8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:F8(l),angleInRadian:l}},U8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},B8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},q8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=z8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=U8(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?TA(TA({},t),{},{radius:i,angle:B8(c,t)}):null};function Lk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=yt(t,r,n,i),o=yt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}var W8=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},pd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/nh,f=l?i:i+a*c,p=yt(t,r,u,f),m=yt(t,r,n,f),g=l?i-a*c:i,y=yt(t,r,u*Math.cos(c*nh),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},Vk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=W8(a,s),l=a+o,u=yt(t,r,i,a),c=yt(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=yt(t,r,n,a),m=yt(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},K8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ft(u-l),{circleTangency:f,lineTangency:p,theta:m}=pd({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:_}=pd({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-_;if(x<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Vk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:I,theta:O}=pd({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:v,theta:S}=pd({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-O-S;if(C<0&&a===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(v.x,",").concat(v.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(c>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},H8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fk=e=>{var t=Ut(e,H8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var p=Ne("recharts-sector",f),m=a-i,g=lr(s,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=K8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=Vk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",Dy({},un(t),{className:p,d:y}))};function G8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(eO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=yt(n,i,a,o),u=yt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Lk(t)}}var $k={},zk={},Uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=zk;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})($k);var Q8=$k.range;const Bk=Ti(Q8);function ca(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ax(e){let t,r,n;e.length!==2?(t=ca,r=(o,l)=>ca(e(o),l),n=(o,l)=>e(o)-l):(t=e===ca||e===Y8?e:X8,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function X8(){return 0}function qk(e){return e===null?NaN:+e}function*Z8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const J8=Ax(ca),lc=J8.right;Ax(qk).center;class CA extends Map{constructor(t,r=r7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(IA(this,t))}has(t){return super.has(IA(this,t))}set(t,r){return super.set(e7(this,t),r)}delete(t){return super.delete(t7(this,t))}}function IA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function e7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function t7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function r7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function n7(e=ca){if(e===ca)return Wk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Wk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i7=Math.sqrt(50),a7=Math.sqrt(10),s7=Math.sqrt(2);function ih(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=i7?10:a>=a7?5:a>=s7?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?ih(e,t,r*2):[o,l,u]}function My(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ih(t,e,r):ih(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ly(e,t,r){return t=+t,e=+e,r=+r,ih(e,t,r)[2]}function Vy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ly(t,e,r):Ly(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function jA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Kk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Wk:n7(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+p)),g=Math.min(n,Math.floor(t+(l-u)*f/l+p));Kk(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(El(e,r,t),i(e[n],a)>0&&El(e,r,n);s<o;){for(El(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?El(e,r,o):(++o,El(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function El(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function o7(e,t,r){if(e=Float64Array.from(Z8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return NA(e);if(t>=1)return jA(e);var n,i=(n-1)*t,a=Math.floor(i),s=jA(Kk(e,a).subarray(0,a+1)),o=NA(e.subarray(a+1));return s+(o-s)*(i-a)}}function l7(e,t,r=qk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function u7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fy=Symbol("implicit");function Px(){var e=new CA,t=[],r=[],n=Fy;function i(a){let s=e.get(a);if(s===void 0){if(n!==Fy)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new CA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Px(t,r).unknown(n)},fn.apply(i,arguments),i}function Tx(){var e=Px().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var p=t().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var _=u7(p).map(function(x){return g+a*x});return r(m?_.reverse():_)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},e.copy=function(){return Tx(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},fn.apply(f(),arguments)}function Hk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hk(t())},e}function c7(){return Hk(Tx.apply(null,arguments).paddingInner(1))}function Cx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Gk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function uc(){}var Ru=.7,ah=1/Ru,ao="\\s*([+-]?\\d+)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d7=/^#([0-9a-f]{3,8})$/,f7=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),h7=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),p7=new RegExp(`^rgba\\(${ao},${ao},${ao},${Du}\\)$`),m7=new RegExp(`^rgba\\(${qn},${qn},${qn},${Du}\\)$`),g7=new RegExp(`^hsl\\(${Du},${qn},${qn}\\)$`),v7=new RegExp(`^hsla\\(${Du},${qn},${qn},${Du}\\)$`),OA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cx(uc,Mu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kA,formatHex:kA,formatHex8:y7,formatHsl:w7,formatRgb:RA,toString:RA});function kA(){return this.rgb().formatHex()}function y7(){return this.rgb().formatHex8()}function w7(){return Qk(this).formatHsl()}function RA(){return this.rgb().formatRgb()}function Mu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=d7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DA(t):r===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?md(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?md(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f7.exec(e))?new Pr(t[1],t[2],t[3],1):(t=h7.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p7.exec(e))?md(t[1],t[2],t[3],t[4]):(t=m7.exec(e))?md(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g7.exec(e))?VA(t[1],t[2]/100,t[3]/100,1):(t=v7.exec(e))?VA(t[1],t[2]/100,t[3]/100,t[4]):OA.hasOwnProperty(e)?DA(OA[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function DA(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function md(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pr(e,t,r,n)}function x7(e){return e instanceof uc||(e=Mu(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function $y(e,t,r,n){return arguments.length===1?x7(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Cx(Pr,$y,Gk(uc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ru:Math.pow(Ru,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(Za(this.r),Za(this.g),Za(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MA,formatHex:MA,formatHex8:_7,formatRgb:LA,toString:LA}));function MA(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}`}function _7(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}${qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function LA(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${Za(this.r)}, ${Za(this.g)}, ${Za(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Za(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qa(e){return e=Za(e),(e<16?"0":"")+e.toString(16)}function VA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,r,n)}function Qk(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof uc||(e=Mu(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new xn(s,o,l,e.opacity)}function b7(e,t,r,n){return arguments.length===1?Qk(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Cx(xn,b7,Gk(uc,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ru:Math.pow(Ru,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Pr(Pg(e>=240?e-240:e+120,i,n),Pg(e,i,n),Pg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xn(FA(this.h),gd(this.s),gd(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${FA(this.h)}, ${gd(this.s)*100}%, ${gd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FA(e){return e=(e||0)%360,e<0?e+360:e}function gd(e){return Math.max(0,Math.min(1,e||0))}function Pg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ix=e=>()=>e;function E7(e,t){return function(r){return e+r*t}}function S7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function A7(e){return(e=+e)==1?Yk:function(t,r){return r-t?S7(t,r,e):Ix(isNaN(t)?r:t)}}function Yk(e,t){var r=t-e;return r?E7(e,r):Ix(isNaN(e)?t:e)}const $A=function e(t){var r=A7(t);function n(i,a){var s=r((i=$y(i)).r,(a=$y(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Yk(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function P7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function T7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=zo(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function I7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function j7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var zy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tg=new RegExp(zy.source,"g");function N7(e){return function(){return e}}function O7(e){return function(t){return e(t)+""}}function k7(e,t){var r=zy.lastIndex=Tg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=zy.exec(e))&&(i=Tg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:oh(n,i)})),r=Tg.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?O7(l[0].x):N7(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function zo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ix(t):(r==="number"?oh:r==="string"?(n=Mu(t))?(t=n,$A):k7:t instanceof Mu?$A:t instanceof Date?I7:T7(t)?P7:Array.isArray(t)?C7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?j7:oh)(e,t)}function jx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function R7(e,t){t===void 0&&(t=e,e=zo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function D7(e){return function(){return e}}function lh(e){return+e}var zA=[0,1];function mr(e){return e}function Uy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:D7(isNaN(t)?NaN:.5)}function M7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function L7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Uy(i,n),a=r(s,a)):(n=Uy(n,i),a=r(a,s)),function(o){return a(n(o))}}function V7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Uy(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=lc(e,o,1,n)-1;return a[l](i[l](o))}}function cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Up(){var e=zA,t=zA,r=zo,n,i,a,s=mr,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==mr&&(s=M7(e[0],e[p-1])),o=p>2?V7:L7,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((u||(u=o(t,e.map(n),oh)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,lh),c()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=jx,c()},f.clamp=function(p){return arguments.length?(s=p?!0:mr,c()):s!==mr},f.interpolate=function(p){return arguments.length?(r=p,c()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return n=p,i=m,c()}}function Nx(){return Up()(mr,mr)}function F7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function To(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function $7(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function z7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var U7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lu(e){if(!(t=U7.exec(e)))throw new Error("invalid format: "+e);var t;return new Ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lu.prototype=Ox.prototype;function Ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Xk;function q7(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Xk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+uh(e,Math.max(0,t+a-1))[0]}function UA(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const BA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UA(e*100,t),r:UA,s:q7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qA(e){return e}var WA=Array.prototype.map,KA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W7(e){var t=e.grouping===void 0||e.thousands===void 0?qA:$7(WA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?qA:z7(WA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Lu(f);var p=f.fill,m=f.align,g=f.sign,y=f.symbol,_=f.zero,x=f.width,E=f.comma,A=f.precision,I=f.trim,O=f.type;O==="n"?(E=!0,O="g"):BA[O]||(A===void 0&&(A=12),I=!0,O="g"),(_||p==="0"&&m==="=")&&(_=!0,p="0",m="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",v=y==="$"?n:/[%p]/.test(O)?s:"",S=BA[O],C=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(T){var N=k,j=v,Q,oe,de;if(O==="c")j=S(T)+j,T="";else{T=+T;var le=T<0||1/T<0;if(T=isNaN(T)?l:S(Math.abs(T),A),I&&(T=B7(T)),le&&+T==0&&g!=="+"&&(le=!1),N=(le?g==="("?g:o:g==="-"||g==="("?"":g)+N,j=(O==="s"?KA[8+Xk/3]:"")+j+(le&&g==="("?")":""),C){for(Q=-1,oe=T.length;++Q<oe;)if(de=T.charCodeAt(Q),48>de||de>57){j=(de===46?i+T.slice(Q+1):T.slice(Q))+j,T=T.slice(0,Q);break}}}E&&!_&&(T=t(T,1/0));var U=N.length+T.length+j.length,K=U<x?new Array(x-U+1).join(p):"";switch(E&&_&&(T=t(K+T,K.length?x-j.length:1/0),K=""),m){case"<":T=N+T+j+K;break;case"=":T=N+K+T+j;break;case"^":T=K.slice(0,U=K.length>>1)+N+T+j+K.slice(U);break;default:T=K+N+T+j;break}return a(T)}return D.toString=function(){return f+""},D}function c(f,p){var m=u((f=Lu(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(To(p)/3)))*3,y=Math.pow(10,-g),_=KA[8+g/3];return function(x){return m(y*x)+_}}return{format:u,formatPrefix:c}}var vd,kx,Zk;K7({thousands:",",grouping:[3],currency:["$",""]});function K7(e){return vd=W7(e),kx=vd.format,Zk=vd.formatPrefix,vd}function H7(e){return Math.max(0,-To(Math.abs(e)))}function G7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(To(t)/3)))*3-To(Math.abs(e)))}function Q7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,To(t)-To(e))+1}function Jk(e,t,r,n){var i=Vy(e,t,r),a;switch(n=Lu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=G7(i,s))&&(n.precision=a),Zk(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Q7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=H7(i))&&(n.precision=a-(n.type==="%")*2);break}}return kx(n)}function Pa(e){var t=e.domain;return e.ticks=function(r){var n=t();return My(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Jk(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Ly(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function eR(){var e=Nx();return e.copy=function(){return cc(e,eR())},fn.apply(e,arguments),Pa(e)}function tR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tR(e).unknown(t)},e=arguments.length?Array.from(e,lh):[0,1],Pa(r)}function rR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function HA(e){return Math.log(e)}function GA(e){return Math.exp(e)}function Y7(e){return-Math.log(-e)}function X7(e){return-Math.exp(-e)}function Z7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function J7(e){return e===10?Z7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QA(e){return(t,r)=>-e(-t,r)}function Rx(e){const t=e(HA,GA),r=t.domain;let n=10,i,a;function s(){return i=eq(n),a=J7(n),r()[0]<0?(i=QA(i),a=QA(a),e(Y7,X7)):e(HA,GA),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const _=o==null?10:+o;let x=[];if(!(n%1)&&m-p<_){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;x.push(y)}x.length*2<_&&(x=My(u,c,_))}else x=My(p,m,Math.min(m-p,_)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Lu(l)).precision==null&&(l.trim=!0),l=kx(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r(rR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function nR(){const e=Rx(Up()).domain([1,10]);return e.copy=()=>cc(e,nR()).base(e.base()),fn.apply(e,arguments),e}function YA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dx(e){var t=1,r=e(YA(t),XA(t));return r.constant=function(n){return arguments.length?e(YA(t=+n),XA(t)):t},Pa(r)}function iR(){var e=Dx(Up());return e.copy=function(){return cc(e,iR()).constant(e.constant())},fn.apply(e,arguments)}function ZA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rq(e){return e<0?-e*e:e*e}function Mx(e){var t=e(mr,mr),r=1;function n(){return r===1?e(mr,mr):r===.5?e(tq,rq):e(ZA(r),ZA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Pa(t)}function Lx(){var e=Mx(Up());return e.copy=function(){return cc(e,Lx()).exponent(e.exponent())},fn.apply(e,arguments),e}function nq(){return Lx.apply(null,arguments).exponent(.5)}function JA(e){return Math.sign(e)*e*e}function iq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aR(){var e=Nx(),t=[0,1],r=!1,n;function i(a){var s=iq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(JA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,lh)).map(JA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(i,arguments),Pa(i)}function sR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=l7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[lc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ca),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return sR().domain(e).range(t).unknown(n)},fn.apply(a,arguments)}function oR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[lc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return oR().domain([e,t]).range(i).unknown(a)},fn.apply(Pa(s),arguments)}function lR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[lc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lR().domain(e).range(t).unknown(r)},fn.apply(i,arguments)}const Cg=new Date,Ig=new Date;function jt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>jt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Cg.setTime(+a),Ig.setTime(+s),e(Cg),e(Ig),Math.floor(r(Cg,Ig))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ch=jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ch);ch.range;const si=1e3,nn=si*60,oi=nn*60,bi=oi*24,Vx=bi*7,eP=bi*30,jg=bi*365,Wa=jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCSeconds());Wa.range;const Fx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getMinutes());Fx.range;const $x=jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getUTCMinutes());$x.range;const zx=jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si-e.getMinutes()*nn)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getHours());zx.range;const Ux=jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCHours());Ux.range;const dc=jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nn)/bi,e=>e.getDate()-1);dc.range;const Bp=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>e.getUTCDate()-1);Bp.range;const uR=jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bi,e=>Math.floor(e/bi));uR.range;function _s(e){return jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nn)/Vx)}const qp=_s(0),dh=_s(1),aq=_s(2),sq=_s(3),Co=_s(4),oq=_s(5),lq=_s(6);qp.range;dh.range;aq.range;sq.range;Co.range;oq.range;lq.range;function bs(e){return jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Vx)}const Wp=bs(0),fh=bs(1),uq=bs(2),cq=bs(3),Io=bs(4),dq=bs(5),fq=bs(6);Wp.range;fh.range;uq.range;cq.range;Io.range;dq.range;fq.range;const Bx=jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Bx.range;const qx=jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qx.range;const Ei=jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ei.range;const Si=jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Si.range;function cR(e,t,r,n,i,a){const s=[[Wa,1,si],[Wa,5,5*si],[Wa,15,15*si],[Wa,30,30*si],[a,1,nn],[a,5,5*nn],[a,15,15*nn],[a,30,30*nn],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[n,1,bi],[n,2,2*bi],[r,1,Vx],[t,1,eP],[t,3,3*eP],[e,1,jg]];function o(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,f){const p=Math.abs(c-u)/f,m=Ax(([,,_])=>_).right(s,p);if(m===s.length)return e.every(Vy(u/jg,c/jg,f));if(m===0)return ch.every(Math.max(Vy(u,c,f),1));const[g,y]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(y)}return[o,l]}const[hq,pq]=cR(Si,qx,Wp,uR,Ux,$x),[mq,gq]=cR(Ei,Bx,qp,dc,zx,Fx);function Ng(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Og(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Al(i),c=Pl(i),f=Al(a),p=Pl(a),m=Al(s),g=Pl(s),y=Al(o),_=Pl(o),x=Al(l),E=Pl(l),A={a:le,A:U,b:K,B:ne,c:null,d:sP,e:sP,f:$q,g:Yq,G:Zq,H:Lq,I:Vq,j:Fq,L:dR,m:zq,M:Uq,p:pe,q:_e,Q:uP,s:cP,S:Bq,u:qq,U:Wq,V:Kq,w:Hq,W:Gq,x:null,X:null,y:Qq,Y:Xq,Z:Jq,"%":lP},I={a:xt,A:ke,b:qt,B:_t,c:null,d:oP,e:oP,f:nW,g:hW,G:mW,H:eW,I:tW,j:rW,L:hR,m:iW,M:aW,p:ze,q:Xn,Q:uP,s:cP,S:sW,u:oW,U:lW,V:uW,w:cW,W:dW,x:null,X:null,y:fW,Y:pW,Z:gW,"%":lP},O={a:D,A:T,b:N,B:j,c:Q,d:iP,e:iP,f:kq,g:nP,G:rP,H:aP,I:aP,j:Iq,L:Oq,m:Cq,M:jq,p:C,q:Tq,Q:Dq,s:Mq,S:Nq,u:bq,U:Eq,V:Sq,w:_q,W:Aq,x:oe,X:de,y:nP,Y:rP,Z:Pq,"%":Rq};A.x=k(r,A),A.X=k(n,A),A.c=k(t,A),I.x=k(r,I),I.X=k(n,I),I.c=k(t,I);function k(B,fe){return function(ye){var q=[],ft=-1,Te=0,Wt=B.length,$,H,te;for(ye instanceof Date||(ye=new Date(+ye));++ft<Wt;)B.charCodeAt(ft)===37&&(q.push(B.slice(Te,ft)),(H=tP[$=B.charAt(++ft)])!=null?$=B.charAt(++ft):H=$==="e"?" ":"0",(te=fe[$])&&($=te(ye,H)),q.push($),Te=ft+1);return q.push(B.slice(Te,ft)),q.join("")}}function v(B,fe){return function(ye){var q=Sl(1900,void 0,1),ft=S(q,B,ye+="",0),Te,Wt;if(ft!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Te=Og(Sl(q.y,0,1)),Wt=Te.getUTCDay(),Te=Wt>4||Wt===0?fh.ceil(Te):fh(Te),Te=Bp.offset(Te,(q.V-1)*7),q.y=Te.getUTCFullYear(),q.m=Te.getUTCMonth(),q.d=Te.getUTCDate()+(q.w+6)%7):(Te=Ng(Sl(q.y,0,1)),Wt=Te.getDay(),Te=Wt>4||Wt===0?dh.ceil(Te):dh(Te),Te=dc.offset(Te,(q.V-1)*7),q.y=Te.getFullYear(),q.m=Te.getMonth(),q.d=Te.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Wt="Z"in q?Og(Sl(q.y,0,1)).getUTCDay():Ng(Sl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Wt+5)%7:q.w+q.U*7-(Wt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Og(q)):Ng(q)}}function S(B,fe,ye,q){for(var ft=0,Te=fe.length,Wt=ye.length,$,H;ft<Te;){if(q>=Wt)return-1;if($=fe.charCodeAt(ft++),$===37){if($=fe.charAt(ft++),H=O[$ in tP?fe.charAt(ft++):$],!H||(q=H(B,ye,q))<0)return-1}else if($!=ye.charCodeAt(q++))return-1}return q}function C(B,fe,ye){var q=u.exec(fe.slice(ye));return q?(B.p=c.get(q[0].toLowerCase()),ye+q[0].length):-1}function D(B,fe,ye){var q=m.exec(fe.slice(ye));return q?(B.w=g.get(q[0].toLowerCase()),ye+q[0].length):-1}function T(B,fe,ye){var q=f.exec(fe.slice(ye));return q?(B.w=p.get(q[0].toLowerCase()),ye+q[0].length):-1}function N(B,fe,ye){var q=x.exec(fe.slice(ye));return q?(B.m=E.get(q[0].toLowerCase()),ye+q[0].length):-1}function j(B,fe,ye){var q=y.exec(fe.slice(ye));return q?(B.m=_.get(q[0].toLowerCase()),ye+q[0].length):-1}function Q(B,fe,ye){return S(B,t,fe,ye)}function oe(B,fe,ye){return S(B,r,fe,ye)}function de(B,fe,ye){return S(B,n,fe,ye)}function le(B){return s[B.getDay()]}function U(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function ne(B){return o[B.getMonth()]}function pe(B){return i[+(B.getHours()>=12)]}function _e(B){return 1+~~(B.getMonth()/3)}function xt(B){return s[B.getUTCDay()]}function ke(B){return a[B.getUTCDay()]}function qt(B){return l[B.getUTCMonth()]}function _t(B){return o[B.getUTCMonth()]}function ze(B){return i[+(B.getUTCHours()>=12)]}function Xn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var fe=k(B+="",A);return fe.toString=function(){return B},fe},parse:function(B){var fe=v(B+="",!1);return fe.toString=function(){return B},fe},utcFormat:function(B){var fe=k(B+="",I);return fe.toString=function(){return B},fe},utcParse:function(B){var fe=v(B+="",!0);return fe.toString=function(){return B},fe}}}var tP={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,yq=/^%/,wq=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function xq(e){return e.replace(wq,"\\$&")}function Al(e){return new RegExp("^(?:"+e.map(xq).join("|")+")","i")}function Pl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _q(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Eq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Aq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rP(e,t,r){var n=Bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tq(e,t,r){var n=Bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Cq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aP(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Oq(e,t,r){var n=Bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kq(e,t,r){var n=Bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rq(e,t,r){var n=yq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Dq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Mq(e,t,r){var n=Bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sP(e,t){return Ae(e.getDate(),t,2)}function Lq(e,t){return Ae(e.getHours(),t,2)}function Vq(e,t){return Ae(e.getHours()%12||12,t,2)}function Fq(e,t){return Ae(1+dc.count(Ei(e),e),t,3)}function dR(e,t){return Ae(e.getMilliseconds(),t,3)}function $q(e,t){return dR(e,t)+"000"}function zq(e,t){return Ae(e.getMonth()+1,t,2)}function Uq(e,t){return Ae(e.getMinutes(),t,2)}function Bq(e,t){return Ae(e.getSeconds(),t,2)}function qq(e){var t=e.getDay();return t===0?7:t}function Wq(e,t){return Ae(qp.count(Ei(e)-1,e),t,2)}function fR(e){var t=e.getDay();return t>=4||t===0?Co(e):Co.ceil(e)}function Kq(e,t){return e=fR(e),Ae(Co.count(Ei(e),e)+(Ei(e).getDay()===4),t,2)}function Hq(e){return e.getDay()}function Gq(e,t){return Ae(dh.count(Ei(e)-1,e),t,2)}function Qq(e,t){return Ae(e.getFullYear()%100,t,2)}function Yq(e,t){return e=fR(e),Ae(e.getFullYear()%100,t,2)}function Xq(e,t){return Ae(e.getFullYear()%1e4,t,4)}function Zq(e,t){var r=e.getDay();return e=r>=4||r===0?Co(e):Co.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function Jq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function oP(e,t){return Ae(e.getUTCDate(),t,2)}function eW(e,t){return Ae(e.getUTCHours(),t,2)}function tW(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function rW(e,t){return Ae(1+Bp.count(Si(e),e),t,3)}function hR(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function nW(e,t){return hR(e,t)+"000"}function iW(e,t){return Ae(e.getUTCMonth()+1,t,2)}function aW(e,t){return Ae(e.getUTCMinutes(),t,2)}function sW(e,t){return Ae(e.getUTCSeconds(),t,2)}function oW(e){var t=e.getUTCDay();return t===0?7:t}function lW(e,t){return Ae(Wp.count(Si(e)-1,e),t,2)}function pR(e){var t=e.getUTCDay();return t>=4||t===0?Io(e):Io.ceil(e)}function uW(e,t){return e=pR(e),Ae(Io.count(Si(e),e)+(Si(e).getUTCDay()===4),t,2)}function cW(e){return e.getUTCDay()}function dW(e,t){return Ae(fh.count(Si(e)-1,e),t,2)}function fW(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function hW(e,t){return e=pR(e),Ae(e.getUTCFullYear()%100,t,2)}function pW(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function mW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Io(e):Io.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function gW(){return"+0000"}function lP(){return"%"}function uP(e){return+e}function cP(e){return Math.floor(+e/1e3)}var Ts,mR,gR;vW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vW(e){return Ts=vq(e),mR=Ts.format,Ts.parse,gR=Ts.utcFormat,Ts.utcParse,Ts}function yW(e){return new Date(e)}function wW(e){return e instanceof Date?+e:+new Date(+e)}function Wx(e,t,r,n,i,a,s,o,l,u){var c=Nx(),f=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),_=u("%I %p"),x=u("%a %d"),E=u("%b %d"),A=u("%B"),I=u("%Y");function O(k){return(l(k)<k?m:o(k)<k?g:s(k)<k?y:a(k)<k?_:n(k)<k?i(k)<k?x:E:r(k)<k?A:I)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?p(Array.from(k,wW)):p().map(yW)},c.ticks=function(k){var v=p();return e(v[0],v[v.length-1],k??10)},c.tickFormat=function(k,v){return v==null?O:u(v)},c.nice=function(k){var v=p();return(!k||typeof k.range!="function")&&(k=t(v[0],v[v.length-1],k??10)),k?p(rR(v,k)):c},c.copy=function(){return cc(c,Wx(e,t,r,n,i,a,s,o,l,u))},c}function xW(){return fn.apply(Wx(mq,gq,Ei,Bx,qp,dc,zx,Fx,Wa,mR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _W(){return fn.apply(Wx(hq,pq,Si,qx,Wp,Bp,Ux,$x,Wa,gR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kp(){var e=0,t=1,r,n,i,a,s=mr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(p){var m,g;return arguments.length?([m,g]=p,s=f(m,g),u):[s(0),s(1)]}}return u.range=c(zo),u.rangeRound=c(jx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Ta(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vR(){var e=Pa(Kp()(mr));return e.copy=function(){return Ta(e,vR())},Ni.apply(e,arguments)}function yR(){var e=Rx(Kp()).domain([1,10]);return e.copy=function(){return Ta(e,yR()).base(e.base())},Ni.apply(e,arguments)}function wR(){var e=Dx(Kp());return e.copy=function(){return Ta(e,wR()).constant(e.constant())},Ni.apply(e,arguments)}function Kx(){var e=Mx(Kp());return e.copy=function(){return Ta(e,Kx()).exponent(e.exponent())},Ni.apply(e,arguments)}function bW(){return Kx.apply(null,arguments).exponent(.5)}function xR(){var e=[],t=mr;function r(n){if(n!=null&&!isNaN(n=+n))return t((lc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ca),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>o7(e,a/n))},r.copy=function(){return xR(t).domain(e)},Ni.apply(r,arguments)}function Hp(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=mr,c,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?o:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(_){var x,E,A;return arguments.length?([x,E,A]=_,u=R7(y,[x,E,A]),m):[u(0),u(.5),u(1)]}}return m.range=g(zo),m.rangeRound=g(jx),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),s=y(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function _R(){var e=Pa(Hp()(mr));return e.copy=function(){return Ta(e,_R())},Ni.apply(e,arguments)}function bR(){var e=Rx(Hp()).domain([.1,1,10]);return e.copy=function(){return Ta(e,bR()).base(e.base())},Ni.apply(e,arguments)}function ER(){var e=Dx(Hp());return e.copy=function(){return Ta(e,ER()).constant(e.constant())},Ni.apply(e,arguments)}function Hx(){var e=Mx(Hp());return e.copy=function(){return Ta(e,Hx()).exponent(e.exponent())},Ni.apply(e,arguments)}function EW(){return Hx.apply(null,arguments).exponent(.5)}const Vl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tx,scaleDiverging:_R,scaleDivergingLog:bR,scaleDivergingPow:Hx,scaleDivergingSqrt:EW,scaleDivergingSymlog:ER,scaleIdentity:tR,scaleImplicit:Fy,scaleLinear:eR,scaleLog:nR,scaleOrdinal:Px,scalePoint:c7,scalePow:Lx,scaleQuantile:sR,scaleQuantize:oR,scaleRadial:aR,scaleSequential:vR,scaleSequentialLog:yR,scaleSequentialPow:Kx,scaleSequentialQuantile:xR,scaleSequentialSqrt:bW,scaleSequentialSymlog:wR,scaleSqrt:nq,scaleSymlog:iR,scaleThreshold:lR,scaleTime:xW,scaleUtc:_W,tickFormat:Jk},Symbol.toStringTag,{value:"Module"}));var Ca=e=>e.chartData,Gx=L([Ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Qx=(e,t,r,n)=>n?Gx(e):Ca(e);function wa(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function dP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function SR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(dt(r))i=r;else if(typeof r=="function")return;if(dt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(wa(s))return s}}function SW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(wa(n))return dP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(re(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&HS.test(i)){var l=HS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&GS.test(a)){var c=GS.exec(a);if(c==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var p=[s,o];if(wa(p))return t==null?p:dP(p,t,r)}}}var Uo=1e9,AW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xx,Xe=!0,dn="[DecimalError] ",Ja=dn+"Invalid argument: ",Yx=dn+"Exponent out of range: ",Bo=Math.floor,Fa=Math.pow,PW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Lt=1e7,We=7,AR=9007199254740991,hh=Bo(AR/We),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*We;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};J.dividedBy=J.div=function(e){return ci(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,r=t.constructor;return De(ci(t,new r(e),0,1),r.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return wt(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vr))throw Error(dn+"NaN");if(r.s<1)throw Error(dn+(r.s?"NaN":"-Infinity"));return r.eq(Vr)?new n(0):(Xe=!1,t=ci(Vu(r,a),Vu(e,a),a),Xe=!0,De(t,i))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CR(t,e):PR(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(dn+"NaN");return r.s?(Xe=!1,t=ci(r,e,0,1).times(e),Xe=!0,r.minus(t)):De(new n(r),i)};J.naturalExponential=J.exp=function(){return TR(this)};J.naturalLogarithm=J.ln=function(){return Vu(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PR(t,e):CR(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ja+e);if(t=wt(i)+1,n=i.d.length-1,r=n*We+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};J.squareRoot=J.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(dn+"NaN")}for(e=wt(o),Xe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ln(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ci(o,a,s+2)).times(.5),Ln(a.d).slice(0,s)===(t=Ln(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Xe=!0,De(n,r)};J.times=J.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,p=c.d,m=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%Lt|0,t=o/Lt|0;a[i]=(a[i]+t)%Lt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Xe?De(e,f.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yn(e,0,Uo),t===void 0?t=n.rounding:Yn(t,0,8),De(r,e+wt(r)+1,t))};J.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ds(n,!0):(Yn(e,0,Uo),t===void 0?t=i.rounding:Yn(t,0,8),n=De(new i(n),e+1,t),r=ds(n,!0,e+1)),r};J.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ds(i):(Yn(e,0,Uo),t===void 0?t=a.rounding:Yn(t,0,8),n=De(new a(i),e+wt(i)+1,t),r=ds(n.abs(),!1,e+wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return De(new t(e),wt(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Vr);if(o=new l(o),!o.s){if(e.s<1)throw Error(dn+"Infinity");return o}if(o.eq(Vr))return o;if(n=l.precision,e.eq(Vr))return De(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=AR){for(i=new l(Vr),t=Math.ceil(n/We+4),Xe=!1;r%2&&(i=i.times(o),hP(i.d,t)),r=Bo(r/2),r!==0;)o=o.times(o),hP(o.d,t);return Xe=!0,e.s<0?new l(Vr).div(i):De(i,n)}}else if(a<0)throw Error(dn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xe=!1,i=e.times(Vu(o,n+u)),Xe=!0,i=TR(i),i.s=a,i};J.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=wt(i),n=ds(i,r<=a.toExpNeg||r>=a.toExpPos)):(Yn(e,1,Uo),t===void 0?t=a.rounding:Yn(t,0,8),i=De(new a(i),e,t),r=wt(i),n=ds(i,e<=r||r<=a.toExpNeg,e)),n};J.toSignificantDigits=J.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yn(e,1,Uo),t===void 0?t=n.rounding:Yn(t,0,8)),De(new n(r),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return ds(e,t<=r.toExpNeg||t>=r.toExpPos)};function PR(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Xe?De(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/We),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Lt|0,l[a]%=Lt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Xe?De(t,f):t}function Yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ja+e)}function Ln(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=We-n.length,r&&(a+=qi(r)),a+=n;s=e[t],n=s+"",r=We-n.length,r&&(a+=qi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ci=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Lt|0,s=a/Lt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,p,m,g,y,_,x,E,A,I,O,k,v,S,C=n.constructor,D=n.s==i.s?1:-1,T=n.d,N=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(dn+"Division by zero");for(l=n.e-i.e,v=N.length,O=T.length,m=new C(D),g=m.d=[],u=0;N[u]==(T[u]||0);)++u;if(N[u]>(T[u]||0)&&--l,a==null?E=a=C.precision:s?E=a+(wt(n)-wt(i))+1:E=a,E<0)return new C(0);if(E=E/We+2|0,u=0,v==1)for(c=0,N=N[0],E++;(u<O||c)&&E--;u++)A=c*Lt+(T[u]||0),g[u]=A/N|0,c=A%N|0;else{for(c=Lt/(N[0]+1)|0,c>1&&(N=e(N,c),T=e(T,c),v=N.length,O=T.length),I=v,y=T.slice(0,v),_=y.length;_<v;)y[_++]=0;S=N.slice(),S.unshift(0),k=N[0],N[1]>=Lt/2&&++k;do c=0,o=t(N,y,v,_),o<0?(x=y[0],v!=_&&(x=x*Lt+(y[1]||0)),c=x/k|0,c>1?(c>=Lt&&(c=Lt-1),f=e(N,c),p=f.length,_=y.length,o=t(f,y,p,_),o==1&&(c--,r(f,v<p?S:N,p))):(c==0&&(o=c=1),f=N.slice()),p=f.length,p<_&&f.unshift(0),r(y,f,_),o==-1&&(_=y.length,o=t(N,y,v,_),o<1&&(c++,r(y,v<_?S:N,_))),_=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[_++]=T[I]||0:(y=[T[I]],_=1);while((I++<O||y[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=l,De(m,s?a+wt(m)+1:a)}}();function TR(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(wt(e)>16)throw Error(Yx+wt(e));if(!e.s)return new c(Vr);for(Xe=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Fa(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Vr),c.precision=o;;){if(i=De(i.times(e),o),r=r.times(++l),s=a.plus(ci(i,r,o)),Ln(s.d).slice(0,o)===Ln(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=f,t==null?(Xe=!0,De(a,f)):a}a=s}}function wt(e){for(var t=e.e*We,r=e.d[0];r>=10;r/=10)t++;return t}function kg(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(dn+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function qi(e){for(var t="";e--;)t+="0";return t}function Vu(e,t){var r,n,i,a,s,o,l,u,c,f=1,p=10,m=e,g=m.d,y=m.constructor,_=y.precision;if(m.s<1)throw Error(dn+(m.s?"NaN":"-Infinity"));if(m.eq(Vr))return new y(0);if(t==null?(Xe=!1,u=_):u=t,m.eq(10))return t==null&&(Xe=!0),kg(y,u);if(u+=p,y.precision=u,r=Ln(g),n=r.charAt(0),a=wt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ln(m.d),n=r.charAt(0),f++;a=wt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=kg(y,u+2,_).times(a+""),m=Vu(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=_,t==null?(Xe=!0,De(m,_)):m;for(o=s=m=ci(m.minus(Vr),m.plus(Vr),u),c=De(m.times(m),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(ci(s,new y(i),u)),Ln(l.d).slice(0,u)===Ln(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(kg(y,u+2,_).times(a+""))),o=ci(o,new y(f),u),y.precision=_,t==null?(Xe=!0,De(o,_)):o;o=l,i+=2}}function fP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bo(r/We),e.d=[],n=(r+1)%We,r<0&&(n+=We),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=We;n<i;)e.d.push(+t.slice(n,n+=We));t=t.slice(n),n=We-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>hh||e.e<-hh))throw Error(Yx+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=We,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/We),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=We,i=n-We+s}if(r!==void 0&&(a=Fa(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Fa(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=wt(e),f.length=1,t=t-a-1,f[0]=Fa(10,(We-t%We)%We),e.e=Bo(-t/We)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=Fa(10,We-n),f[c]=i>0?(u/Fa(10,s-i)%Fa(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Lt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Lt)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Xe&&(e.e>hh||e.e<-hh))throw Error(Yx+wt(e));return e}function CR(e,t){var r,n,i,a,s,o,l,u,c,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xe?De(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(m/We),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Lt-1;--l[a],l[i]+=Lt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xe?De(t,m):t):new p(0)}function ds(e,t,r){var n,i=wt(e),a=Ln(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+qi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qi(-i-1)+a,r&&(n=r-s)>0&&(a+=qi(n))):i>=s?(a+=qi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+qi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=qi(n))),e.s<0?"-"+a:a}function hP(e,t){if(e.length>t)return e.length=t,!0}function IR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ja+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return fP(s,a.toString())}else if(typeof a!="string")throw Error(Ja+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,PW.test(a))fP(s,a);else throw Error(Ja+a)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IR,i.config=i.set=TW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function TW(e){if(!e||typeof e!="object")throw Error(dn+"Object expected");var t,r,n,i=["precision",1,Uo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ja+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ja+r+": "+n);return this}var Xx=IR(AW);Vr=new Xx(1);const Ie=Xx;var CW=e=>e,jR={},NR=e=>e===jR,pP=e=>function t(){return arguments.length===0||arguments.length===1&&NR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OR=(e,t)=>e===1?t:pP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==jR).length;return a>=e?t(...n):OR(e-a,pP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>NR(c)?o.shift():c);return t(...u,...o)}))}),IW=e=>OR(e.length,e),By=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jW=IW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),NW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return CW;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},qy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kR(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function RR(e,t,r){for(var n=new Ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var DR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},MR=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=kR(e.toNumber()),i=new Ie(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Ie(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Ie(l.toNumber()):new Ie(Math.ceil(l.toNumber()))},OW=(e,t,r)=>{var n=new Ie(1),i=new Ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ie(10).pow(kR(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var s=Math.floor((t-1)/2),o=NW(jW(l=>i.add(new Ie(l-s).mul(n)).toNumber()),By);return o(0,t)},LR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var s=MR(new Ie(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Ie(0):(o=new Ie(t).add(r).div(2),o=o.sub(new Ie(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ie(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?LR(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new Ie(l).mul(s)),tickMax:o.add(new Ie(u).mul(s))})},kW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=DR([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...By(0,i-1).map(()=>1/0)]:[...By(0,i-1).map(()=>-1/0),l];return r>n?qy(u):u}if(o===l)return OW(o,i,a);var{step:c,tickMin:f,tickMax:p}=LR(o,l,s,a,0),m=RR(f,p.add(new Ie(.1).mul(c)),c);return r>n?qy(m):m},RW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=DR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=MR(new Ie(o).sub(s).div(l-1),a,0),c=[...RR(new Ie(s),new Ie(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),n>i?qy(c):c},VR=e=>e.rootProps.maxBarSize,DW=e=>e.rootProps.barGap,FR=e=>e.rootProps.barCategoryGap,MW=e=>e.rootProps.barSize,fc=e=>e.rootProps.stackOffset,$R=e=>e.rootProps.reverseStackOrder,Zx=e=>e.options.chartName,Jx=e=>e.rootProps.syncId,zR=e=>e.rootProps.syncMethod,e_=e=>e.options.eventEmitter,Yt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ri={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Lr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Gp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},LW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ri.angleAxisId,includeHidden:!1,name:void 0,reversed:ri.reversed,scale:ri.scale,tick:ri.tick,tickCount:void 0,ticks:void 0,type:ri.type,unit:void 0},VW={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:Lr.type,unit:void 0},FW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ri.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ri.scale,tick:ri.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$W={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:"category",unit:void 0},t_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?FW:LW,r_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$W:VW,Qp=e=>e.polarOptions,n_=L([Ii,ji,It],Mk),UR=L([Qp,n_],(e,t)=>{if(e!=null)return lr(e.innerRadius,t,0)}),BR=L([Qp,n_],(e,t)=>{if(e!=null)return lr(e.outerRadius,t,t*.8)}),zW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},qR=L([Qp],zW);L([t_,qR],Gp);var WR=L([n_,UR,BR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([r_,WR],Gp);var KR=L([Pe,Qp,UR,BR,Ii,ji],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:lr(s,i,i/2),cy:lr(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ze=(e,t)=>t,hc=(e,t,r)=>r;function i_(e){return e==null?void 0:e.id}function HR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=i_(o);u.forEach((f,p)=>{var m=a==null||i?p:String(Ye(f,a,null)),g=Ye(f,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[c]:g}),s.set(m,y)})}}),Array.from(s.values())}function Yp(e){return e.stackId!=null&&e.dataKey!=null}var Xp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function UW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Nt=e=>{var t=Pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qo=e=>e.tooltip.settings.axisId;function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wy=[0,"auto"],Rt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GR=(e,t)=>e.cartesianAxis.xAxis[t],Oi=(e,t)=>{var r=GR(e,t);return r??Rt},Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Wy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ac},QR=(e,t)=>e.cartesianAxis.yAxis[t],ki=(e,t)=>{var r=QR(e,t);return r??Dt},KW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??KW},nt=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return ki(e,r);case"zAxis":return a_(e,r);case"angleAxis":return t_(e,r);case"radiusAxis":return r_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},HW=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return ki(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pc=(e,t,r)=>{switch(t){case"xAxis":return Oi(e,r);case"yAxis":return ki(e,r);case"angleAxis":return t_(e,r);case"radiusAxis":return r_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function s_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var o_=e=>e.graphicalItems.cartesianItems,GW=L([Ze,hc],s_),l_=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),mc=L([o_,nt,GW],l_,{memoizeOptions:{resultEqualityCheck:Zp}}),XR=L([mc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Yp)),ZR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QW=L([mc],ZR),u_=e=>e.map(t=>t.data).filter(Boolean).flat(1),YW=L([mc],u_,{memoizeOptions:{resultEqualityCheck:Zp}}),c_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},d_=L([YW,Qx],c_),f_=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ye(i,n)}))):e.map(n=>({value:n})),Jp=L([d_,nt,mc],f_);function JR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bd(e){if(Gn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function gP(e){if(Array.isArray(e)){var t=[Bd(e[0]),Bd(e[1])];return wa(t)?t:void 0}var r=Bd(e);if(r!=null)return[r,r]}function Ai(e){return e.map(Bd).filter(lz)}function XW(e,t,r){return!r||typeof t!="number"||Tn(t)?[]:r.length?Ai(r.flatMap(n=>{var i=Ye(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!dt(a)||!dt(s)))return[t-a,t+s]})):[]}var Ot=e=>{var t=Nt(e),r=qo(e);return pc(e,t,r)},gc=L([Ot],e=>e==null?void 0:e.dataKey),ZW=L([XR,Qx,Ot],HR),eD=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(i_);return[o,{stackedData:PU(e,c,r),graphicalItems:u}]}))},Ky=L([ZW,XR,fc,$R],eD),tD=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=NU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},JW=L([nt],e=>e.allowDataOverflow),h_=e=>{var t;if(e==null||!("domain"in e))return Wy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ai(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Wy},p_=L([nt],h_),m_=L([p_,JW],SR),eK=L([Ky,Ca,Ze,m_],tD,{memoizeOptions:{resultEqualityCheck:Xp}}),em=e=>e.errorBars,tK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>JR(r,n)),mh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},g_=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>JR(i,x)),p=Ye(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=XW(o,p,f);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var _=gP(p);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),s=s==null?_[1]:Math.max(s,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=gP(Ye(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),dt(a)&&dt(s))return[a,s]},rK=L([d_,nt,QW,em,Ze],g_,{memoizeOptions:{resultEqualityCheck:Xp}});function nK(e){var{value:t}=e;if(Gn(t)||t instanceof Date)return t}var iK=(e,t,r)=>{var n=e.map(nK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ZN(n))?Bk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},rD=e=>e.referenceElements.dots,Wo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),aK=L([rD,Ze,hc],Wo),nD=e=>e.referenceElements.areas,sK=L([nD,Ze,hc],Wo),iD=e=>e.referenceElements.lines,oK=L([iD,Ze,hc],Wo),aD=(e,t)=>{var r=Ai(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lK=L(aK,Ze,aD),sD=(e,t)=>{var r=Ai(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},uK=L([sK,Ze],sD);function cK(e){var t;if(e.x!=null)return Ai([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ai(r)}function dK(e){var t;if(e.y!=null)return Ai([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ai(r)}var oD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?cK(n):dK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fK=L([oK,Ze],oD),hK=L(lK,fK,uK,(e,t,r)=>mh(e,r,t)),v_=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?mh(n,a,i):mh(a,i);return SW(t,u,e.allowDataOverflow)},pK=L([nt,p_,m_,eK,rK,hK,Pe,Ze],v_,{memoizeOptions:{resultEqualityCheck:Xp}}),mK=[0,1],y_=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=xs(t,a);if(u&&o==null){var c;return Bk(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?iK(n,e,u):i==="expand"?mK:s}},w_=L([nt,Pe,d_,Jp,fc,Ze,pK],y_),lD=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ju(a));return o in Vl?o:"point"}}},Ko=L([nt,Pe,YR,Zx,Ze],lD);function gK(e){if(e!=null){if(e in Vl)return Vl[e]();var t="scale".concat(Ju(e));if(t in Vl)return Vl[t]()}}function x_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=gK(t);if(i!=null){var a=i.domain(r).range(n);return _U(a),a}}}var __=(e,t,r)=>{var n=h_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&wa(e))return kW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wa(e))return RW(e,t.tickCount,t.allowDecimals)}},b_=L([w_,pc,Ko],__),E_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&wa(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},vK=L([nt,w_,b_,Ze],E_),yK=L(Jp,nt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ai(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),uD=L(yK,Pe,FR,It,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!dt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=lr(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),wK=(e,t)=>{var r=Oi(e,t);return r==null||typeof r.padding!="string"?0:uD(e,"xAxis",t,r.padding)},xK=(e,t)=>{var r=ki(e,t);return r==null||typeof r.padding!="string"?0:uD(e,"yAxis",t,r.padding)},_K=L(Oi,wK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),bK=L(ki,xK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),EK=L([It,_K,Op,Np,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),SK=L([It,Pe,bK,Op,Np,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),vc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return EK(e,r,n);case"yAxis":return SK(e,r,n);case"zAxis":return(i=a_(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return qR(e);case"radiusAxis":return WR(e,r);default:return}},cD=L([nt,vc],Gp),Ho=L([nt,Ko,vK,cD],x_);L([mc,em,Ze],tK);function dD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tm=(e,t)=>t,rm=(e,t,r)=>r,AK=L(Ip,tm,rm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dD)),PK=L(jp,tm,rm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dD)),fD=(e,t)=>({width:e.width,height:t.height}),TK=(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}},hD=L(It,Oi,fD),CK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},IK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jK=L(ji,It,AK,tm,rm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=fD(t,o);s==null&&(s=CK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),NK=L(Ii,It,PK,tm,rm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=TK(t,o);s==null&&(s=IK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),OK=(e,t)=>{var r=Oi(e,t);if(r!=null)return jK(e,r.orientation,r.mirror)},kK=L([It,Oi,OK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),RK=(e,t)=>{var r=ki(e,t);if(r!=null)return NK(e,r.orientation,r.mirror)},DK=L([It,ki,RK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),pD=L(It,ki,(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}}),vP=(e,t,r)=>{switch(t){case"xAxis":return hD(e,r).width;case"yAxis":return pD(e,r).height;default:return}},mD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=xs(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&ZN(l))return l}},S_=L([Pe,Jp,nt,Ze],mD),gD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=xs(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},A_=L([Pe,Jp,pc,Ze],gD),yP=L([Pe,HW,Ko,Ho,S_,A_,vc,b_,Ze],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=xs(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),MK=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=xs(e,l),{type:c,ticks:f,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ft(a[0]-a[1])*2*g:g;var y=f||i;if(y){var _=y.map((x,E)=>{var A=s?s.indexOf(x):x;return{index:E,coordinate:n(A)+g,value:x,offset:g}});return _.filter(x=>dt(x.coordinate))}return u&&o?o.map((x,E)=>({coordinate:n(x)+g,value:x,index:E,offset:g})).filter(x=>dt(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,E)=>({coordinate:n(x)+g,value:s?s[x]:x,index:E,offset:g}))}},vD=L([Pe,pc,Ko,Ho,b_,vc,S_,A_,Ze],MK),LK=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=xs(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ft(n[0]-n[1])*2*u:u,o&&a?a.map((c,f)=>({coordinate:r(c)+u,value:c,index:f,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,f)=>({coordinate:r(c)+u,value:i?i[c]:c,index:f,offset:u}))}},jo=L([Pe,pc,Ho,vc,S_,A_,Ze],LK),No=L(nt,Ho,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})}),VK=L([nt,Ko,w_,cD],x_);L((e,t,r)=>a_(e,r),VK,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var FK=L([Pe,Ip,jp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yD=e=>e.options.defaultTooltipEventType,wD=e=>e.options.validateTooltipEventTypes;function xD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function P_(e,t){var r=yD(e),n=wD(e);return xD(t,r,n)}function $K(e){return ee(t=>P_(t,e))}var _D=(e,t)=>{var r,n=Number(t);if(!(Tn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},zK=e=>e.tooltip.settings,Gi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UK={itemInteraction:{click:Gi,hover:Gi},axisInteraction:{click:Gi,hover:Gi},keyboardInteraction:Gi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bD=Nr({name:"tooltip",initialState:UK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=En(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(e,t){var r=En(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:BK,replaceTooltipEntrySettings:qK,removeTooltipEntrySettings:WK,setTooltipSettingsState:KK,setActiveMouseOverItemIndex:ED,mouseLeaveItem:HK,mouseLeaveChart:SD,setActiveClickItemIndex:GK,setMouseOverAxisIndex:AD,setMouseClickAxisIndex:QK,setSyncInteraction:Hy,setKeyboardInteraction:Gy}=bD.actions,YK=bD.reducer;function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){XK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tH(e){return e.index!=null}var PD=(e,t,r,n)=>{if(t==null)return Gi;var i=eH(e,t,r);if(i==null)return Gi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(tH(i)){if(a)return yd(yd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return yd(yd({},Gi),{},{coordinate:i.coordinate})};function rH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function nH(e,t){var r=rH(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function iH(e,t,r){if(r==null||t==null)return!0;var n=Ye(e,t);return n==null||!wa(r)?!0:nH(n,r)}var T_=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!dt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||iH(u,r,n)?String(l):null},TD=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},CD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},yc=e=>e.options.tooltipPayloadSearcher,Go=e=>e.tooltip;function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){aH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){return e??t}var ID=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,f=[];return e.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:_}=m,x=lH(y,o),E=Array.isArray(x)?sk(x,u,c):x,A=(g=_==null?void 0:_.dataKey)!==null&&g!==void 0?g:n,I=_==null?void 0:_.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?O=oz(E,n,i):O=a(E,t,l,I),Array.isArray(O))O.forEach(v=>{var S=_P(_P({},_),{},{name:v.name,unit:v.unit,color:void 0,fill:void 0});p.push(QS({tooltipEntrySettings:S,dataKey:v.dataKey,payload:v.payload,value:Ye(v.payload,v.dataKey),name:v.name}))});else{var k;p.push(QS({tooltipEntrySettings:_,dataKey:A,payload:O,value:Ye(O,A),name:(k=Ye(O,I))!==null&&k!==void 0?k:_==null?void 0:_.name}))}return p},f)}},C_=L([Ot,Pe,YR,Zx,Nt],lD),uH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cH=L([Nt,qo],s_),wc=L([uH,Ot,cH],l_,{memoizeOptions:{resultEqualityCheck:Zp}}),dH=L([wc],e=>e.filter(Yp)),fH=L([wc],u_,{memoizeOptions:{resultEqualityCheck:Zp}}),Qo=L([fH,Ca],c_),hH=L([dH,Ca,Ot],HR),I_=L([Qo,Ot,wc],f_),jD=L([Ot],h_),pH=L([Ot],e=>e.allowDataOverflow),ND=L([jD,pH],SR),mH=L([wc],e=>e.filter(Yp)),gH=L([hH,mH,fc,$R],eD),vH=L([gH,Ca,Nt,ND],tD),yH=L([wc],ZR),wH=L([Qo,Ot,yH,em,Nt],g_,{memoizeOptions:{resultEqualityCheck:Xp}}),xH=L([rD,Nt,qo],Wo),_H=L([xH,Nt],aD),bH=L([nD,Nt,qo],Wo),EH=L([bH,Nt],sD),SH=L([iD,Nt,qo],Wo),AH=L([SH,Nt],oD),PH=L([_H,AH,EH],mh),TH=L([Ot,jD,ND,vH,wH,PH,Pe,Nt],v_),xc=L([Ot,Pe,Qo,I_,fc,Nt,TH],y_),CH=L([xc,Ot,C_],__),IH=L([Ot,xc,CH,Nt],E_),OD=e=>{var t=Nt(e),r=qo(e),n=!1;return vc(e,t,r,n)},kD=L([Ot,OD],Gp),RD=L([Ot,C_,IH,kD],x_),jH=L([Pe,I_,Ot,Nt],mD),NH=L([Pe,I_,Ot,Nt],gD),OH=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=xs(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ft(i[0]-i[1])*2*f:f,u&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:a?a[p]:p,index:m,offset:f}))}}},Ri=L([Pe,Ot,C_,RD,OD,jH,NH,Nt],OH),j_=L([yD,wD,zK],(e,t,r)=>xD(r.shared,e,t)),DD=e=>e.tooltip.settings.trigger,N_=e=>e.tooltip.settings.defaultIndex,_c=L([Go,j_,DD,N_],PD),fs=L([_c,Qo,gc,xc],T_),MD=L([Ri,fs],_D),O_=L([_c],e=>{if(e)return e.dataKey}),kH=L([_c],e=>{if(e)return e.graphicalItemId}),LD=L([Go,j_,DD,N_],CD),RH=L([Ii,ji,Pe,It,Ri,N_,LD,yc],TD),DH=L([_c,RH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MH=L([_c],e=>e.active),LH=L([LD,fs,Ca,gc,MD,yc,j_],ID);L([LH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=FH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH=()=>ee(Ot),UH=()=>{var e=zH(),t=ee(Ri),r=ee(RD);return Gf(!e||!r?void 0:EP(EP({},e),{},{scale:r}),t)};function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},HH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Cs(Cs(Cs({},n),yt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Cs(Cs(Cs({},n),yt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VD=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ft(c-u)!==Ft(f-c)){var m=[];if(Ft(f-c)===Ft(i[1]-i[0])){p=f;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=f+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var _=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var x=Math.min(u,f),E=Math.max(u,f);if(e>(x+c)/2&&e<=(E+c)/2){({index:s}=r[l]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},QH=()=>ee(Zx),k_=(e,t)=>t,FD=(e,t,r)=>r,R_=(e,t,r,n)=>n,YH=L(Ri,e=>wp(e,t=>t.coordinate)),D_=L([Go,k_,FD,R_],PD),M_=L([D_,Qo,gc,xc],T_),XH=(e,t,r)=>{if(t!=null){var n=Go(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},$D=L([Go,k_,FD,R_],CD),gh=L([Ii,ji,Pe,It,Ri,R_,$D,yc],TD),ZH=L([D_,gh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),zD=L([Ri,M_],_D),JH=L([$D,M_,Ca,gc,zD,yc,k_],ID),eG=L([D_,M_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),tG=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&GH(e,s)){var o=OU(e,t),l=VD(o,a,i,r,n),u=KH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},rG=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=q8(e,r);if(o){var l=kU(o,t),u=VD(l,s,a,n,i),c=HH(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},nG=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?tG(e,t,n,i,a,s,o):rG(e,t,r,n,i,a,s)},iG=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),aG=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Yt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:UW}});function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG={},cG={zIndexMap:Object.values(Yt).reduce((e,t)=>PP(PP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),uG)},dG=new Set(Object.values(Yt));function fG(e){return dG.has(e)}var UD=Nr({name:"zIndex",initialState:cG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!fG(r)&&delete e.zIndexMap[r])},prepare:Ge()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ge()}}}),{registerZIndexPortal:hG,unregisterZIndexPortal:pG,registerZIndexPortalId:mG,unregisterZIndexPortalId:gG}=UD.actions,vG=UD.reducer;function jn(e){var{zIndex:t,children:r}=e,n=sB(),i=n&&t!==void 0&&t!==0,a=Or(),s=$e();b.useLayoutEffect(()=>i?(s(hG({zIndex:t})),()=>{s(pG({zIndex:t}))}):ec,[s,t,i]);var o=ee(u=>iG(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Wn.createPortal(r,l):null}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _G(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function bG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=r,p=n,m=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,y,_;if(c==="ScatterChart")g=f,y=a8,_=Yt.cursorLine;else if(c==="BarChart")g=s8(o,f,a,s),y=Dk,_=Yt.cursorRectangle;else if(o==="radial"&&eO(f)){var{cx:x,cy:E,radius:A,startAngle:I,endAngle:O}=Lk(f);g={cx:x,cy:E,startAngle:I,endAngle:O,innerRadius:A,outerRadius:A},y=Fk,_=Yt.cursorLine}else g={points:G8(o,f,a)},y=Sx,_=Yt.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,v=wd(wd(wd(wd({stroke:"#ccc",pointerEvents:"none"},a),g),Au(l)),{},{payload:p,payloadIndex:m,className:Ne("recharts-tooltip-cursor",k)});return b.createElement(jn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},b.createElement(_G,{cursor:l,cursorComp:y,cursorProps:v}))}function EG(e){var t=UH(),r=wk(),n=Rp(),i=QH();return t==null||r==null||n==null||i==null?null:b.createElement(bG,Qy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var BD=b.createContext(null),SG=()=>b.useContext(BD),qD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,p,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],x=arguments.length,E,A;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,p),!0;case 5:return _.fn.call(_.context,c,f,p,m),!0;case 6:return _.fn.call(_.context,c,f,p,m,g),!0}for(A=1,E=new Array(x-1);A<x;A++)E[A-1]=arguments[A];_.fn.apply(_.context,E)}else{var I=_.length,O;for(A=0;A<I;A++)switch(_[A].once&&this.removeListener(u,_[A].fn,void 0,!0),x){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,c);break;case 3:_[A].fn.call(_[A].context,c,f);break;case 4:_[A].fn.call(_[A].context,c,f,p);break;default:if(!E)for(O=1,E=new Array(x-1);O<x;O++)E[O-1]=arguments[O];_[A].fn.apply(_[A].context,E)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var y=0,_=[],x=g.length;y<x;y++)(g[y].fn!==c||p&&!g[y].once||f&&g[y].context!==f)&&_.push(g[y]);_.length?this._events[m]=_.length===1?_[0]:_:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(qD);var AG=qD.exports;const PG=Ti(AG);var Fu=new PG,Yy="recharts.syncEvent.tooltip",CP="recharts.syncEvent.brush";function WD(e,t){if(t){var r=Number.parseInt(t,10);if(!Tn(r))return e==null?void 0:e[r]}}var TG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KD=Nr({name:"options",initialState:TG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CG=KD.reducer,{createEventEmitter:IG}=KD.actions;function jG(e){return e.tooltip.syncInteraction}var NG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HD=Nr({name:"chartData",initialState:NG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:IP,setDataStartEndIndexes:OG,setComputedData:Hte}=HD.actions,kG=HD.reducer,RG=["x","y"];function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e,t){if(e==null)return{};var r,n,i=FG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $G(){var e=ee(Jx),t=ee(e_),r=$e(),n=ee(zR),i=ee(Ri),a=Rp(),s=kp(),o=ee(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return ec;var l=(u,c,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,_=VG(m,RG),{x,y:E,width:A,height:I}=c.payload.sourceViewBox,O=Is(Is({},_),{},{x:s.x+(A?(g-x)/A:0)*s.width,y:s.y+(I?(y-E)/I:0)*s.height});r(Is(Is({},c),{},{payload:Is(Is({},c.payload),{},{coordinate:O})}))}else r(c);return}if(i!=null){var k;if(typeof n=="function"){var v={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,v);k=i[S]}else n==="value"&&(k=i.find(de=>String(de.value)===c.payload.label));var{coordinate:C}=c.payload;if(k==null||c.payload.active===!1||C==null||s==null){r(Hy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:T}=C,N=Math.min(D,s.x+s.width),j=Math.min(T,s.y+s.height),Q={x:a==="horizontal"?k.coordinate:N,y:a==="horizontal"?j:k.coordinate},oe=Hy({active:c.payload.active,coordinate:Q,dataKey:c.payload.dataKey,index:String(k.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(oe)}}};return Fu.on(Yy,l),()=>{Fu.off(Yy,l)}},[o,r,t,e,n,i,a,s])}function zG(){var e=ee(Jx),t=ee(e_),r=$e();b.useEffect(()=>{if(e==null)return ec;var n=(i,a,s)=>{t!==s&&e===i&&r(OG(a))};return Fu.on(CP,n),()=>{Fu.off(CP,n)}},[r,t,e])}function UG(){var e=$e();b.useEffect(()=>{e(IG())},[e]),$G(),zG()}function BG(e,t,r,n,i,a){var s=ee(m=>XH(m,e,t)),o=ee(e_),l=ee(Jx),u=ee(zR),c=ee(jG),f=c==null?void 0:c.active,p=kp();b.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Hy({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Fu.emit(Yy,l,m,o)}},[f,r,s,i,n,o,l,u,a,p])}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e){return e.dataKey}function GG(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(VB,t)}var kP=[],QG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L_(e){var t,r,n=Ut(e,QG),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:_,cursor:x,shared:E,trigger:A,defaultIndex:I,portal:O,axisId:k}=n,v=$e(),S=typeof I=="number"?String(I):I;b.useEffect(()=>{v(KK({shared:E,trigger:A,axisId:k,active:i,defaultIndex:S}))},[v,E,A,k,i,S]);var C=kp(),D=jk(),T=$K(E),{activeIndex:N,isActive:j}=(t=ee(ze=>eG(ze,T,A,S)))!==null&&t!==void 0?t:{},Q=ee(ze=>JH(ze,T,A,S)),oe=ee(ze=>zD(ze,T,A,S)),de=ee(ze=>ZH(ze,T,A,S)),le=Q,U=SG(),K=(r=i??j)!==null&&r!==void 0?r:!1,[ne,pe]=jO([le,K]),_e=T==="axis"?oe:void 0;BG(T,A,de,_e,N,K);var xt=O??U;if(xt==null||C==null||T==null)return null;var ke=le??kP;K||(ke=kP),u&&ke.length&&(ke=yO(ke.filter(ze=>ze.value!=null&&(ze.hide!==!0||n.includeHidden)),p,HG));var qt=ke.length>0,_t=b.createElement(WB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:K,coordinate:de,hasPayload:qt,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:_,lastBoundingBox:ne,innerRef:pe,hasPortalFromProps:!!O},GG(l,OP(OP({},n),{},{payload:ke,label:_e,active:K,activeIndex:N,coordinate:de,accessibilityLayer:D})));return b.createElement(b.Fragment,null,Wn.createPortal(_t,xt),K&&b.createElement(EG,{cursor:x,tooltipEventType:T,coordinate:de,payload:ke,index:N}))}var bc=e=>null;bc.displayName="Cell";function YG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JG{constructor(t){YG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){tQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tQ(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iQ={cacheSize:2e3,enableCache:!0},GD=eQ({},iQ),DP=new JG(GD.cacheSize),aQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MP="recharts_measurement_span";function sQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var LP=(e,t)=>{try{var r=document.getElementById(MP);r||(r=document.createElement("span"),r.setAttribute("id",MP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Jl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oc.isSsr)return{width:0,height:0};if(!GD.enableCache)return LP(t,r);var n=sQ(t,r),i=DP.get(n);if(i)return i;var a=LP(t,r);return DP.set(n,a),a},VP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uQ=Object.keys(QD),Qs="NaN";function cQ(e,t){return e*QD[t]}class _r{static parse(t){var r,[,n,i]=(r=lQ.exec(t))!==null&&r!==void 0?r:[];return new _r(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Tn(t)&&(this.unit=""),r!==""&&!oQ.test(r)&&(this.num=NaN,this.unit=""),uQ.includes(r)&&(this.num=cQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _r(NaN,""):new _r(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _r(NaN,""):new _r(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _r(NaN,""):new _r(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _r(NaN,""):new _r(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Tn(this.num)}}function YD(e){if(e.includes(Qs))return Qs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=VP.exec(t))!==null&&r!==void 0?r:[],s=_r.parse(n??""),o=_r.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Qs;t=t.replace(VP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,p]=(u=FP.exec(t))!==null&&u!==void 0?u:[],m=_r.parse(c??""),g=_r.parse(p??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Qs;t=t.replace(FP,y.toString())}return t}var $P=/\(([^()]*)\)/;function dQ(e){for(var t=e,r;(r=$P.exec(t))!=null;){var[,n]=r;t=t.replace($P,YD(n))}return t}function fQ(e){var t=e.replace(/\s+/g,"");return t=dQ(t),t=YD(t),t}function hQ(e){try{return fQ(e)}catch{return Qs}}function Rg(e){var t=hQ(e.slice(5,-1));return t===Qs?"":t}var pQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mQ=["dx","dy","angle","className","breakAll"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function zP(e,t){if(e==null)return{};var r,n,i=gQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XD=/[ \f\n\r\t\v\u2028\u2029]+/,ZD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zt(t)||(r?i=t.toString().split(""):i=t.toString().split(XD));var a=i.map(o=>({word:o,width:Jl(o,n).width})),s=r?0:Jl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function vQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var JD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),e2=e=>e.reduce((t,r)=>t.width>r.width?t:r),yQ="",UP=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=ZD({breakAll:r,style:n,children:l+yQ});if(!u)return[!1,[]];var c=JD(u.wordsWithComputedWidth,a,s,o),f=c.length>i||e2(c).width>Number(a);return[f,c]},wQ=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=re(a),c=String(s),f=JD(t,n,r,i);if(!u||i)return f;var p=f.length>a||e2(f).width>Number(n);if(!p)return f;for(var m=0,g=c.length-1,y=0,_;m<=g&&y<=c.length-1;){var x=Math.floor((m+g)/2),E=x-1,[A,I]=UP(c,E,l,o,a,n,r,i),[O]=UP(c,x,l,o,a,n,r,i);if(!A&&!O&&(m=x+1),A&&O&&(g=x-1),!A&&O){_=I;break}y++}return _||f},BP=e=>{var t=zt(e)?[]:e.toString().split(XD);return[{words:t,width:void 0}]},xQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!oc.isSsr){var o,l,u=ZD({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return BP(n);return wQ({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return BP(n)},t2="#808080",_Q={angle:0,breakAll:!1,capHeight:"0.71em",fill:t2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nm=b.forwardRef((e,t)=>{var r=Ut(e,_Q),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,f=zP(r,pQ),p=b.useMemo(()=>xQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:g,angle:y,className:_,breakAll:x}=f,E=zP(f,mQ);if(!Gn(n)||!Gn(i)||p.length===0)return null;var A=Number(n)+(re(m)?m:0),I=Number(i)+(re(g)?g:0);if(!dt(A)||!dt(I))return null;var O;switch(c){case"start":O=Rg("calc(".concat(s,")"));break;case"middle":O=Rg("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=Rg("calc(".concat(p.length-1," * -").concat(a,")"));break}var k=[];if(l){var v=p[0].width,{width:S}=f;k.push("scale(".concat(re(S)&&re(v)?S/v:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(A,", ").concat(I,")")),k.length&&(E.transform=k.join(" ")),b.createElement("text",Xy({},un(E),{ref:t,x:A,y:I,className:Ne("recharts-text",_),textAnchor:u,fill:o.includes("url")?t2:o}),p.map((C,D)=>{var T=C.words.join(x?"":" ");return b.createElement("tspan",{x:A,dy:D===0?O:a,key:"".concat(T,"-").concat(D)},T)}))});nm.displayName="Text";var bQ=["labelRef"];function EQ(e,t){if(e==null)return{};var r,n,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}var r2=b.createContext(null),CQ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return b.createElement(r2.Provider,{value:l},o)},n2=()=>{var e=b.useContext(r2),t=kp();return e||yk(t)},IQ=b.createContext(null),jQ=()=>{var e=b.useContext(IQ),t=ee(KR);return e||t},NQ=e=>{var{value:t,formatter:r}=e,n=zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},V_=e=>e!=null&&typeof e=="function",OQ=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},kQ=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=OQ(f,p),_=y>=0?1:-1,x,E;switch(t){case"insideStart":x=f+_*a,E=m;break;case"insideEnd":x=p-_*a,E=!m;break;case"end":x=p+_*a,E=m;break;default:throw new Error("Unsupported position ".concat(t))}E=y<=0?E:!E;var A=yt(o,l,g,x),I=yt(o,l,g,x+(E?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(I.x,",").concat(I.y),k=zt(e.id)?Pu("recharts-radial-line-"):e.id;return b.createElement("text",ni({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:k,d:O})),b.createElement("textPath",{xlinkHref:"#".concat(k)},r))},RQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:f}=yt(n,i,s+t,u);return{x:c,y:f,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=yt(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Zy=e=>"cx"in e&&re(e.cx),DQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Zy(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,f=s,p=s+(l-u)/2,m=(f+p)/2,g=(l+u)/2,y=f+l/2,_=c>=0?1:-1,x=_*n,E=_>0?"end":"start",A=_>0?"start":"end",I=l>=0?1:-1,O=I*n,k=I>0?"end":"start",v=I>0?"start":"end";if(i==="top"){var S={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:E};return lt(lt({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:p+u/2,y:o+c+x,textAnchor:"middle",verticalAnchor:A};return lt(lt({},C),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var D={x:m-O,y:o+c/2,textAnchor:k,verticalAnchor:"middle"};return lt(lt({},D),a?{width:Math.max(D.x-a.x,0),height:c}:{})}if(i==="right"){var T={x:m+g+O,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return lt(lt({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:c}:{})}var N=a?{width:g,height:c}:{};return i==="insideLeft"?lt({x:m+O,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?lt({x:m+g-O,y:o+c/2,textAnchor:k,verticalAnchor:"middle"},N):i==="insideTop"?lt({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:A},N):i==="insideBottom"?lt({x:p+u/2,y:o+c-x,textAnchor:"middle",verticalAnchor:E},N):i==="insideTopLeft"?lt({x:f+O,y:o+x,textAnchor:v,verticalAnchor:A},N):i==="insideTopRight"?lt({x:f+l-O,y:o+x,textAnchor:k,verticalAnchor:A},N):i==="insideBottomLeft"?lt({x:p+O,y:o+c-x,textAnchor:v,verticalAnchor:E},N):i==="insideBottomRight"?lt({x:p+u-O,y:o+c-x,textAnchor:k,verticalAnchor:E},N):i&&typeof i=="object"&&(re(i.x)||xi(i.x))&&(re(i.y)||xi(i.y))?lt({x:s+lr(i.x,g),y:o+lr(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):lt({x:y,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},MQ={angle:0,offset:5,zIndex:Yt.label,position:"middle",textBreakAll:!1};function Wi(e){var t=Ut(e,MQ),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=jQ(),f=n2(),p=n==="center"?f:c??f,m,g,y;if(r==null?m=p:Zy(r)?m=r:m=yk(r),!m||zt(i)&&zt(a)&&!b.isValidElement(s)&&typeof s!="function")return null;var _=lt(lt({},t),{},{viewBox:m});if(b.isValidElement(s)){var{labelRef:x}=_,E=EQ(_,bQ);return b.cloneElement(s,E)}if(typeof s=="function"){if(g=b.createElement(s,_),b.isValidElement(g))return g}else g=NQ(t);var A=un(t);if(Zy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return kQ(t,n,g,A,m);y=RQ(m,t.offset,t.position)}else y=DQ(t,m);return b.createElement(jn,{zIndex:t.zIndex},b.createElement(nm,ni({ref:u,className:Ne("recharts-label",o)},A,y,{textAnchor:vQ(A.textAnchor)?A.textAnchor:y.textAnchor,breakAll:l}),g))}Wi.displayName="Label";var LQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(Wi,ni({key:"label-implicit"},n)):Gn(e)?b.createElement(Wi,ni({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===Wi?b.cloneElement(e,lt({key:"label-implicit"},n)):b.createElement(Wi,ni({key:"label-implicit",content:e},n)):V_(e)?b.createElement(Wi,ni({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(Wi,ni({},e,{key:"label-implicit"},n)):null};function VQ(e){var{label:t,labelRef:r}=e,n=n2();return LQ(t,n,r)||null}var i2={},a2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(a2);var s2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a2,r=s2,n=vp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(i2);var FQ=i2.last;const $Q=Ti(FQ);var zQ=["valueAccessor"],UQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function WP(e,t){if(e==null)return{};var r,n,i=BQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qQ=e=>Array.isArray(e.value)?$Q(e.value):e.value,o2=b.createContext(void 0),WQ=o2.Provider,l2=b.createContext(void 0),KQ=l2.Provider;function HQ(){return b.useContext(o2)}function GQ(){return b.useContext(l2)}function qd(e){var{valueAccessor:t=qQ}=e,r=WP(e,zQ),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=WP(r,UQ),u=HQ(),c=GQ(),f=u||c;return!f||!f.length?null:b.createElement(jn,{zIndex:o??Yt.label},b.createElement(vr,{className:"recharts-label-list"},f.map((p,m)=>{var g,y=zt(n)?t(p,m):Ye(p&&p.payload,n),_=zt(a)?{}:{id:"".concat(a,"-").concat(m)};return b.createElement(Wi,vh({key:"label-".concat(m)},un(p),l,_,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}qd.displayName="LabelList";function u2(e){var{label:t}=e;return t?t===!0?b.createElement(qd,{key:"labelList-implicit"}):b.isValidElement(t)||V_(t)?b.createElement(qd,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(qd,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var c2=e=>e.graphicalItems.polarItems,QQ=L([Ze,hc],s_),im=L([c2,nt,QQ],l_),YQ=L([im],u_),am=L([YQ,Gx],c_),XQ=L([am,nt,im],f_);L([am,nt,im],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ye(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var KP=()=>{},ZQ=L([am,nt,im,em,Ze],g_),JQ=L([nt,p_,m_,KP,ZQ,KP,Pe,Ze],v_),d2=L([nt,Pe,am,XQ,fc,Ze,JQ],y_),eY=L([d2,nt,Ko],__);L([nt,d2,eY,Ze],E_);var tY={radiusAxis:{},angleAxis:{}},f2=Nr({name:"polarAxis",initialState:tY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Gte,removeRadiusAxis:Qte,addAngleAxis:Yte,removeAngleAxis:Xte}=f2.actions,rY=f2.reducer;function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY=(e,t)=>t,F_=L([c2,sY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),oY=[],$_=(e,t,r)=>(r==null?void 0:r.length)===0?oY:r,h2=L([Gx,F_,$_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>GP(GP({},t.presentationProps),a.props))),i!=null)return i}}),lY=L([h2,F_,$_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ye(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Cp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),uY=L([h2,F_,$_,It],(e,t,r,n)=>{if(!(t==null||e==null))return cX({offset:n,pieSettings:t,displayedData:e,cells:r})}),p2={exports:{}},Me={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=Symbol.for("react.transitional.element"),U_=Symbol.for("react.portal"),sm=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),um=Symbol.for("react.consumer"),cm=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),pm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),cY=Symbol.for("react.view_transition"),dY=Symbol.for("react.client.reference");function hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case z_:switch(e=e.type,e){case sm:case lm:case om:case fm:case hm:case cY:return e;default:switch(e=e&&e.$$typeof,e){case cm:case dm:case mm:case pm:return e;case um:return e;default:return t}}case U_:return t}}}Me.ContextConsumer=um;Me.ContextProvider=cm;Me.Element=z_;Me.ForwardRef=dm;Me.Fragment=sm;Me.Lazy=mm;Me.Memo=pm;Me.Portal=U_;Me.Profiler=lm;Me.StrictMode=om;Me.Suspense=fm;Me.SuspenseList=hm;Me.isContextConsumer=function(e){return hn(e)===um};Me.isContextProvider=function(e){return hn(e)===cm};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===z_};Me.isForwardRef=function(e){return hn(e)===dm};Me.isFragment=function(e){return hn(e)===sm};Me.isLazy=function(e){return hn(e)===mm};Me.isMemo=function(e){return hn(e)===pm};Me.isPortal=function(e){return hn(e)===U_};Me.isProfiler=function(e){return hn(e)===lm};Me.isStrictMode=function(e){return hn(e)===om};Me.isSuspense=function(e){return hn(e)===fm};Me.isSuspenseList=function(e){return hn(e)===hm};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sm||e===lm||e===om||e===fm||e===hm||typeof e=="object"&&e!==null&&(e.$$typeof===mm||e.$$typeof===pm||e.$$typeof===cm||e.$$typeof===um||e.$$typeof===dm||e.$$typeof===dY||e.getModuleId!==void 0)};Me.typeOf=hn;p2.exports=Me;var fY=p2.exports,QP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YP=null,Dg=null,m2=e=>{if(e===YP&&Array.isArray(Dg))return Dg;var t=[];return b.Children.forEach(e,r=>{zt(r)||(fY.isFragment(r)?t=t.concat(m2(r.props.children)):t.push(r))}),Dg=t,YP=e,t};function B_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>QP(i)):n=[QP(t)],m2(e).forEach(i=>{var a=ls(i,"type.displayName")||ls(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(g2);var hY=g2.isPlainObject;const pY=Ti(hY);function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return(t=gY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}var JP=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},yY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wY=e=>{var t=Ut(e,yY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,p=b.useRef(null),[m,g]=b.useState(-1),y=b.useRef(i),_=b.useRef(a),x=b.useRef(s),E=b.useRef(r),A=b.useRef(n),I=zp(e,"trapezoid-");if(b.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&g(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var O=Ne("recharts-trapezoid",o);if(!f)return b.createElement("g",null,b.createElement("path",yh({},un(t),{className:O,d:JP(r,n,i,a,s)})));var k=y.current,v=_.current,S=x.current,C=E.current,D=A.current,T="0px ".concat(m===-1?1:m,"px"),N="".concat(m,"px 0px"),j=Nk(["strokeDasharray"],u,l);return b.createElement($p,{animationId:I,key:I,canBegin:m>0,duration:u,easing:l,isActive:f,begin:c},Q=>{var oe=At(k,i,Q),de=At(v,a,Q),le=At(S,s,Q),U=At(C,r,Q),K=At(D,n,Q);p.current&&(y.current=oe,_.current=de,x.current=le,E.current=U,A.current=K);var ne=Q>0?{transition:j,strokeDasharray:N}:{strokeDasharray:T};return b.createElement("path",yh({},un(t),{className:O,d:JP(U,K,oe,de,le),ref:p,style:ZP(ZP({},ne),t.style)}))})},xY=["option","shapeType","propTransformer","activeClassName"];function _Y(e,t){if(e==null)return{};var r,n,i=bY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PY(e,t){return wh(wh({},t),e)}function TY(e,t){return e==="symbols"}function tT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(Dk,r);case"trapezoid":return b.createElement(wY,r);case"sector":return b.createElement(Fk,r);case"symbols":if(TY(t))return b.createElement(Yw,r);break;case"curve":return b.createElement(Sx,r);default:return null}}function CY(e){return b.isValidElement(e)?e.props:e}function v2(e){var{option:t,shapeType:r,propTransformer:n=PY,activeClassName:i="recharts-active-shape"}=e,a=_Y(e,xY),s;if(b.isValidElement(t))s=b.cloneElement(t,wh(wh({},a),CY(t)));else if(typeof t=="function")s=t(a,a.index);else if(pY(t)&&typeof t!="boolean"){var o=n(t,a);s=b.createElement(tT,{shapeType:r,elementProps:o})}else{var l=a;s=b.createElement(tT,{shapeType:r,elementProps:l})}return a.isActive?b.createElement(vr,{className:i},s):s}var q_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(ED({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},W_=e=>{var t=$e();return(r,n)=>i=>{e==null||e(r,n,i),t(HK())}},K_=(e,t,r)=>{var n=$e();return(i,a)=>s=>{e==null||e(i,a,s),n(GK({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function y2(e){var{tooltipEntrySettings:t}=e,r=$e(),n=Or(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(BK(t)):i.current!==t&&r(qK({prev:i.current,next:t})),i.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{i.current&&(r(WK(i.current)),i.current=null)},[r]),null}function IY(e){var{legendPayload:t}=e,r=$e(),n=Or(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(Tk(t)):i.current!==t&&r(Ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(Ik(i.current)),i.current=null)},[r]),null}function jY(e){var{legendPayload:t}=e,r=$e(),n=ee(Pe),i=b.useRef(null);return b.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Tk(t)):i.current!==t&&r(Ck({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(Ik(i.current)),i.current=null)},[r]),null}var Mg,NY=()=>{var[e]=b.useState(()=>Pu("uid-"));return e},OY=(Mg=zM.useId)!==null&&Mg!==void 0?Mg:NY;function w2(e,t){var r=OY();return t||(e?"".concat(e,"-").concat(r):r)}var kY=b.createContext(void 0),x2=e=>{var{id:t,type:r,children:n}=e,i=w2("recharts-".concat(r),t);return b.createElement(kY.Provider,{value:i},n(i))},RY={cartesianItems:[],polarItems:[]},_2=Nr({name:"graphicalItems",initialState:RY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=En(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(e,t){var r=En(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(e,t){var r=En(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:DY,replaceCartesianGraphicalItem:MY,removeCartesianGraphicalItem:LY,addPolarGraphicalItem:VY,removePolarGraphicalItem:FY}=_2.actions,$Y=_2.reducer,zY=e=>{var t=$e(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(DY(e)):r.current!==e&&t(MY({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(LY(r.current)),r.current=null)},[t]),null},UY=b.memo(zY);function BY(e){var t=$e();return b.useLayoutEffect(()=>(t(VY(e)),()=>{t(FY(e))}),[t,e]),null}var qY=["key"],WY=["onMouseEnter","onClick","onMouseLeave"],KY=["id"],HY=["id"];function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){GY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(null,arguments)}function gm(e,t){if(e==null)return{};var r,n,i=XY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZY(e){var t=b.useMemo(()=>B_(e.children,bc),[e.children]),r=ee(n=>lY(n,e.id,t));return r==null?null:b.createElement(jY,{legendPayload:r})}var JY=b.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,c={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Cp(o,t),hide:l,type:u,color:s,unit:""}};return b.createElement(y2,{tooltipEntrySettings:c})}),eX=(e,t)=>e>t?"start":e<t?"end":"middle",tX=(e,t,r)=>lr(typeof t=="function"?t(e):t,r,r*.8),rX=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=Mk(a,s),l=i+lr(e.cx,a,a/2),u=n+lr(e.cy,s,s/2),c=lr(e.innerRadius,o,0),f=tX(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:p}},nX=(e,t)=>{var r=Ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function iX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aX=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ne("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=gm(t,qY);return b.createElement(Sx,xa({},i,{type:"linear",className:r}))},sX=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var i=Ne("recharts-pie-label-text",iX(e));return b.createElement(nm,xa({},t,{alignmentBaseline:"middle",className:i}),n)};function oX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Pn(r),l=Au(i),u=Au(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((p,m)=>{var g=(p.startAngle+p.endAngle)/2,y=yt(p.cx,p.cy,p.outerRadius+c,g),_=st(st(st(st({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:eX(y.x,p.cx)},y),x=st(st(st(st({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[yt(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return b.createElement(jn,{zIndex:Yt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},b.createElement(vr,null,a&&aX(a,x),sX(i,_,Ye(p,s))))});return b.createElement(vr,{className:"recharts-pie-labels"},f)}function lX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(u2,{label:i}):b.createElement(oX,{sectors:t,props:r,showLabels:n})}function uX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ee(fs),l=ee(O_),u=ee(kH),{onMouseEnter:c,onClick:f,onMouseLeave:p}=i,m=gm(i,WY),g=q_(c,i.dataKey,s),y=W_(p),_=K_(f,i.dataKey,s);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((x,E)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var A=u==null||u===s,I=String(E)===o&&(l==null||i.dataKey===l)&&A,O=o?n:null,k=r&&I?r:O,v=st(st({},x),{},{stroke:x.stroke,tabIndex:-1,[ck]:E,[dk]:i.dataKey});return b.createElement(vr,xa({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},tc(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:y(x,E),onClick:_(x,E)}),b.createElement(v2,xa({option:a??k,index:E,shapeType:"sector",isActive:I},v)))}))}function cX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=r,p=Math.abs(r.minAngle),m=nX(o,l),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(k=>Ye(k,u,0)!==0).length,x=(g>=360?_:_-1)*y,E=g-_*p-x,A=n.reduce((k,v)=>{var S=Ye(v,u,0);return k+(re(S)?S:0)},0),I;if(A>0){var O;I=n.map((k,v)=>{var S=Ye(k,u,0),C=Ye(k,c,v),D=rX(r,a,k),T=(re(S)?S:0)/A,N,j=st(st({},k),i&&i[v]&&i[v].props);v?N=O.endAngle+Ft(m)*y*(S!==0?1:0):N=o;var Q=N+Ft(m)*((S!==0?p:0)+T*E),oe=(N+Q)/2,de=(D.innerRadius+D.outerRadius)/2,le=[{name:C,value:S,payload:j,dataKey:u,type:f}],U=yt(D.cx,D.cy,de,oe);return O=st(st(st(st({},r.presentationProps),{},{percent:T,cornerRadius:typeof s=="string"?parseFloat(s):s,name:C,tooltipPayload:le,midAngle:oe,middleRadius:de,tooltipPosition:U},j),D),{},{value:S,dataKey:u,startAngle:N,endAngle:Q,payload:j,paddingAngle:Ft(m)*y}),O})}return I}function dX(e){var{showLabels:t,sectors:r,children:n}=e,i=b.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return b.createElement(KQ,{value:t?i:void 0},n)}function fX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:p}=t,m=zp(t,"recharts-pie-"),g=r.current,[y,_]=b.useState(!1),x=b.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),E=b.useCallback(()=>{typeof f=="function"&&f(),_(!0)},[f]);return b.createElement(dX,{showLabels:!y,sectors:i},b.createElement($p,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:E,onAnimationEnd:x,key:m},A=>{var I=[],O=i&&i[0],k=O==null?void 0:O.startAngle;return i==null||i.forEach((v,S)=>{var C=g&&g[S],D=S>0?ls(v,"paddingAngle",0):0;if(C){var T=At(C.endAngle-C.startAngle,v.endAngle-v.startAngle,A),N=st(st({},v),{},{startAngle:k+D,endAngle:k+T+D});I.push(N),k=N.endAngle}else{var{endAngle:j,startAngle:Q}=v,oe=At(0,j-Q,A),de=st(st({},v),{},{startAngle:k+D,endAngle:k+oe+D});I.push(de),k=de.endAngle}}),r.current=I,b.createElement(vr,null,b.createElement(uX,{sectors:I,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),b.createElement(lX,{showLabels:!y,sectors:i,props:t}),t.children)}var hX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Yt.area};function pX(e){var{id:t}=e,r=gm(e,KY),{hide:n,className:i,rootTabIndex:a}=e,s=b.useMemo(()=>B_(e.children,bc),[e.children]),o=ee(c=>uY(c,t,s)),l=b.useRef(null),u=Ne("recharts-pie",i);return n||o==null?(l.current=null,b.createElement(vr,{tabIndex:a,className:u})):b.createElement(jn,{zIndex:e.zIndex},b.createElement(JY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),b.createElement(vr,{tabIndex:a,className:u},b.createElement(fX,{props:st(st({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function b2(e){var t=Ut(e,hX),{id:r}=t,n=gm(t,HY),i=Pn(n);return b.createElement(x2,{id:r,type:"pie"},a=>b.createElement(b.Fragment,null,b.createElement(BY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(ZY,xa({},n,{id:a})),b.createElement(pX,xa({},n,{id:a}))))}b2.displayName="Pie";function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){mX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yX={xAxis:{},yAxis:{},zAxis:{}},E2=Nr({name:"cartesianAxis",initialState:yX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ge()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ge()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ge()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ge()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ge()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ge()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=iT(iT({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:wX,replaceXAxis:xX,removeXAxis:_X,addYAxis:bX,replaceYAxis:EX,removeYAxis:SX,addZAxis:Zte,replaceZAxis:Jte,removeZAxis:ere,updateYAxisWidth:AX}=E2.actions,PX=E2.reducer,TX=L([It],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),CX=L([TX,Ii,ji],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),S2=()=>ee(CX),IX="Invariant failed";function jX(e,t){throw new Error(IX)}var NX=["x","y"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var r,n,i=MX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LX(e,t){var{x:r,y:n}=e,i=DX(e,NX),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Tl(Tl(Tl(Tl(Tl({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function xh(e){return b.createElement(v2,Jy({shapeType:"rectangle",propTransformer:LX,activeClassName:"recharts-active-bar"},e))}var VX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var a=re(n)||zt(n);return a?t(n,i):(a||jX(),r)}},FX={},A2=Nr({name:"errorBars",initialState:FX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:tre,replaceErrorBar:rre,removeErrorBar:nre}=A2.actions,$X=A2.reducer,zX=["children"];function UX(e,t){if(e==null)return{};var r,n,i=BX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WX=b.createContext(qX);function KX(e){var{children:t}=e,r=UX(e,zX);return b.createElement(WX.Provider,{value:r},t)}function P2(e,t){var r,n,i=ee(u=>Oi(u,e)),a=ee(u=>ki(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Rt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Dt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function HX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=S2(),{needClipX:a,needClipY:s,needClip:o}=P2(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function GX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var QX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=b;function YX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XX=typeof Object.is=="function"?Object.is:YX,ZX=Ec.useSyncExternalStore,JX=Ec.useRef,eZ=Ec.useEffect,tZ=Ec.useMemo,rZ=Ec.useDebugValue;QX.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=JX(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tZ(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return f=g}return f=m}if(g=f,XX(c,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,f=y)}var u=!1,c,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=ZX(e,a[0],a[1]);return eZ(function(){s.hasValue=!0,s.value=o},[o]),rZ(o),o};function nZ(e){e()}function iZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var sT={notify(){},get:()=>[]};function aZ(e,t){let r,n=sT,i=0,a=!1;function s(y){c();const _=n.subscribe(y);let x=!1;return()=>{x||(x=!0,_(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=iZ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=sT)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var sZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oZ=sZ(),lZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uZ=lZ(),cZ=()=>oZ||uZ?b.useLayoutEffect:b.useEffect,dZ=cZ();function oT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fZ(e,t){if(oT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!oT(e[r[i]],t[r[i]]))return!1;return!0}var Lg=Symbol.for("react-redux-context"),Vg=typeof globalThis<"u"?globalThis:{};function hZ(){if(!b.createContext)return{};const e=Vg[Lg]??(Vg[Lg]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var pZ=hZ();function mZ(e){const{children:t,context:r,serverState:n,store:i}=e,a=b.useMemo(()=>{const l=aZ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=b.useMemo(()=>i.getState(),[i]);dZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||pZ;return b.createElement(o.Provider,{value:a},t)}var gZ=mZ,vZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function H_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(vZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!fZ(e[n],t[n]))return!1}else if(!yZ(e[n],t[n]))return!1;return!0}var wZ=["onMouseEnter","onMouseLeave","onClick"],xZ=["value","background","tooltipPosition"],_Z=["id"],bZ=["onMouseEnter","onClick","onMouseLeave"];function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){EZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EZ(e,t,r){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(e,t){if(e==null)return{};var r,n,i=PZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Cp(r,t),payload:e}]},CZ=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Cp(a,t),hide:s,type:l,color:i,unit:o}};return b.createElement(y2,{tooltipEntrySettings:u})});function IZ(e){var t=ee(fs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=_h(a,wZ),c=q_(s,n),f=W_(o),p=K_(l,n);if(!i||r==null)return null;var m=Au(i);return b.createElement(jn,{zIndex:GX(i,Yt.barBackground)},r.map((g,y)=>{var{value:_,background:x,tooltipPosition:E}=g,A=_h(g,xZ);if(!x)return null;var I=c(g,y),O=f(g,y),k=p(g,y),v=pr(pr(pr(pr(pr({option:i,isActive:String(y)===t},A),{},{fill:"#eee"},x),m),tc(u,g,y)),{},{onMouseEnter:I,onMouseLeave:O,onClick:k,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return b.createElement(xh,Pi({key:"background-bar-".concat(y)},v))}))}function jZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return pr(pr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return b.createElement(WQ,{value:t?i:void 0},r)}function NZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ee(fs),l=ee(O_),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?b.createElement(jn,{zIndex:Yt.activeBar},b.createElement(xh,Pi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):b.createElement(xh,Pi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function OZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return b.createElement(xh,Pi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function kZ(e){var t,{data:r,props:n}=e,i=(t=Pn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=_h(i,_Z),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:f,onMouseLeave:p}=n,m=_h(n,bZ),g=q_(c,l),y=W_(p),_=K_(f,l);return r?b.createElement(b.Fragment,null,r.map((x,E)=>b.createElement(vr,Pi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(E),className:"recharts-bar-rectangle"},tc(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:y(x,E),onClick:_(x,E)}),u?b.createElement(NZ,{shape:o,activeBar:u,baseProps:s,entry:x,index:E,dataKey:l}):b.createElement(OZ,{shape:o,baseProps:s,entry:x,index:E,dataKey:l})))):null}function RZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=r.current,p=zp(t,"recharts-bar-"),[m,g]=b.useState(!1),y=!m,_=b.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=b.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return b.createElement(jZ,{showLabels:y,rects:n},b.createElement($p,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:_,onAnimationStart:x,key:p},E=>{var A=E===1?n:n==null?void 0:n.map((I,O)=>{var k=f&&f[O];if(k)return pr(pr({},I),{},{x:At(k.x,I.x,E),y:At(k.y,I.y,E),width:At(k.width,I.width,E),height:At(k.height,I.height,E)});if(i==="horizontal"){var v=At(0,I.height,E),S=At(I.stackedBarStart,I.y,E);return pr(pr({},I),{},{y:S,height:v})}var C=At(0,I.width,E),D=At(I.stackedBarStart,I.x,E);return pr(pr({},I),{},{width:C,x:D})});return E>0&&(r.current=A??null),A==null?null:b.createElement(vr,null,b.createElement(kZ,{props:t,data:A}))}),b.createElement(u2,{label:t.label}),t.children)}function DZ(e){var t=b.useRef(null);return b.createElement(RZ,{previousRectanglesRef:t,props:e})}var T2=0,MZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class LZ extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Ne("recharts-bar",i),f=u;return b.createElement(vr,{className:c,id:u},o&&b.createElement("defs",null,b.createElement(HX,{clipPathId:f,xAxisId:a,yAxisId:s})),b.createElement(vr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},b.createElement(IZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),b.createElement(DZ,this.props)))}}var VZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:T2,xAxisId:0,yAxisId:0,zIndex:Yt.bar};function FZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=P2(t,r),p=Rp(),m=Or(),g=B_(e.children,bc),y=ee(E=>hJ(E,t,r,m,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var _,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?_=0:_=p==="vertical"?x.height/2:x.width/2,b.createElement(KX,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:MZ,errorBarOffset:_},b.createElement(LZ,Pi({},e,{layout:p,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function $Z(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:p,cells:m,parentViewBox:g,dataStartIndex:y}=e,_=t==="horizontal"?o:s,x=c?_.scale.domain():null,E=CU({numericAxis:_}),A=_.scale(E);return f.map((I,O)=>{var k,v,S,C,D,T;c?k=bU(c[O+y],x):(k=Ye(I,r),Array.isArray(k)||(k=[E,k]));var N=VX(n,T2)(k[1],O);if(t==="horizontal"){var j,[Q,oe]=[o.scale(k[0]),o.scale(k[1])];v=KS({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:I,index:O}),S=(j=oe??Q)!==null&&j!==void 0?j:void 0,C=i.size;var de=Q-oe;if(D=Tn(de)?0:de,T={x:v,y:p.top,width:C,height:p.height},Math.abs(N)>0&&Math.abs(D)<Math.abs(N)){var le=Ft(D||N)*(Math.abs(N)-Math.abs(D));S-=le,D+=le}}else{var[U,K]=[s.scale(k[0]),s.scale(k[1])];if(v=U,S=KS({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:I,index:O}),C=K-U,D=i.size,T={x:p.left,y:S,width:p.width,height:D},Math.abs(N)>0&&Math.abs(C)<Math.abs(N)){var ne=Ft(C||N)*(Math.abs(N)-Math.abs(C));C+=ne}}if(v==null||S==null||C==null||D==null)return null;var pe=pr(pr({},I),{},{stackedBarStart:A,x:v,y:S,width:C,height:D,value:c?k:k[1],payload:I,background:T,tooltipPosition:{x:v+C/2,y:S+D/2},parentViewBox:g},m&&m[O]&&m[O].props);return pe}).filter(Boolean)}function zZ(e){var t=Ut(e,VZ),r=Or();return b.createElement(x2,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(IY,{legendPayload:TZ(t)}),b.createElement(CZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(UY,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:TU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(jn,{zIndex:t.zIndex},b.createElement(FZ,Pi({},t,{id:n})))))}var so=b.memo(zZ,H_);so.displayName="Bar";function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WZ=(e,t)=>t,KZ=(e,t,r)=>r,HZ=(e,t,r,n)=>n,GZ=(e,t,r,n,i)=>i,Sc=L([o_,GZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),QZ=L([Sc],e=>e==null?void 0:e.maxBarSize),YZ=(e,t,r,n,i,a)=>a,cT=(e,t,r)=>{var n=r??e;if(!zt(n))return lr(n,t,0)},XZ=L([Pe,o_,WZ,KZ,HZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),ZZ=(e,t,r,n)=>{var i=Pe(e);return i==="horizontal"?Ky(e,"yAxis",r,n):Ky(e,"xAxis",t,n)},JZ=(e,t,r)=>{var n=Pe(e);return n==="horizontal"?vP(e,"xAxis",t):vP(e,"yAxis",r)},eJ=(e,t,r)=>{var n={},i=e.filter(Yp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,f]=u,p=f.map(g=>g.dataKey),m=cT(t,r,f[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),f=cT(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]},tJ=L([XZ,MW,JZ],eJ),rJ=(e,t,r,n,i)=>{var a,s,o=Sc(e,t,r,n,i);if(o!=null){var l=Pe(e),u=VR(e),{maxBarSize:c}=o,f=zt(c)?u:c,p,m;return l==="horizontal"?(p=No(e,"xAxis",t,n),m=jo(e,"xAxis",t,n)):(p=No(e,"yAxis",r,n),m=jo(e,"yAxis",r,n)),(a=(s=Gf(p,m,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},C2=(e,t,r,n)=>{var i=Pe(e),a,s;return i==="horizontal"?(a=No(e,"xAxis",t,n),s=jo(e,"xAxis",t,n)):(a=No(e,"yAxis",r,n),s=jo(e,"yAxis",r,n)),Gf(a,s)};function nJ(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=lr(e,r,0,!0),o,l=[];if(dt(n[0].barSize)){var u=!1,c=r/a,f=n.reduce((x,E)=>x+(E.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&c>0&&(u=!0,c*=.9,f=a*c);var p=(r-f)/2>>0,m={offset:p-s,size:0};o=n.reduce((x,E)=>{var A,I={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(A=E.barSize)!==null&&A!==void 0?A:0}},O=[...x,I];return m=O[O.length-1].position,O},l)}else{var g=lr(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var y=(r-2*g-(a-1)*s)/a;y>1&&(y>>=0);var _=dt(i)?Math.min(y,i):y;o=n.reduce((x,E,A)=>[...x,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(y+s)*A+(y-_)/2,size:_}}],l)}return o}}var iJ=(e,t,r,n,i,a,s)=>{var o=zt(s)?t:s,l=nJ(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>xd(xd({},u),{},{position:xd(xd({},u.position),{},{offset:u.position.offset-i/2})}))),l},aJ=L([tJ,VR,DW,FR,rJ,C2,QZ],iJ),sJ=(e,t,r,n)=>No(e,"xAxis",t,n),oJ=(e,t,r,n)=>No(e,"yAxis",r,n),lJ=(e,t,r,n)=>jo(e,"xAxis",t,n),uJ=(e,t,r,n)=>jo(e,"yAxis",r,n),cJ=L([aJ,Sc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),dJ=(e,t)=>{var r=i_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},fJ=L([ZZ,Sc],dJ),hJ=L([It,vx,sJ,oJ,lJ,uJ,cJ,Pe,Qx,C2,fJ,Sc,YZ],(e,t,r,n,i,a,s,o,l,u,c,f,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:_}=f,x;if(_!=null&&_.length>0?x=_:x=m==null?void 0:m.slice(g,y+1),x!=null)return $Z({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:p,dataStartIndex:g})}}),I2=e=>{var{chartData:t}=e,r=$e(),n=Or();return b.useEffect(()=>n?()=>{}:(r(IP(t)),()=>{r(IP(void 0))}),[t,r,n]),null},dT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},j2=Nr({name:"brush",initialState:dT,reducers:{setBrushSettings(e,t){return t.payload==null?dT:t.payload}}}),{setBrushSettings:ire}=j2.actions,pJ=j2.reducer;function mJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class G_{static create(t){return new G_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}mJ(G_,"EPS",1e-4);function yJ(e){return(e%180+180)%180}var wJ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yJ(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},xJ={dots:[],areas:[],lines:[]},N2=Nr({name:"referenceElements",initialState:xJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=En(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=En(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=En(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:are,removeDot:sre,addArea:ore,removeArea:lre,addLine:ure,removeLine:cre}=N2.actions,_J=N2.reducer,bJ=b.createContext(void 0),EJ=e=>{var{children:t}=e,[r]=b.useState("".concat(Pu("recharts"),"-clip")),n=S2();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return b.createElement(bJ.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function O2(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function SJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wJ(n,r)}function AJ(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function bh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function PJ(e,t){return O2(e,t+1)}function TJ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:O2(n,u)};var y=l,_,x=()=>(_===void 0&&(_=r(g,y)),_),E=g.coordinate,A=l===0||bh(e,E,x,c,o);A||(l=0,c=s,u+=1),A&&(c=E+e*(x()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){CJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t,r){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=r(m,p)),g);if(p===s-1){var _=e*(m.coordinate+e*y()/2-l);a[p]=m=nr(nr({},m),{},{tickCoord:_>0?m.coordinate-_*e:m.coordinate})}else a[p]=m=nr(nr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=bh(e,m.tickCoord,y,o,l);x&&(l=m.tickCoord-e*(y()/2+i),a[p]=nr(nr({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function OJ(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],f=r(c,o-1),p=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=nr(nr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=bh(e,c.tickCoord,()=>f,l,u);m&&(u=c.tickCoord-e*(f/2+i),s[o-1]=nr(nr({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(E){var A=s[E],I,O=()=>(I===void 0&&(I=r(A,E)),I);if(E===0){var k=e*(A.coordinate-e*O()/2-l);s[E]=A=nr(nr({},A),{},{tickCoord:k<0?A.coordinate-k*e:A.coordinate})}else s[E]=A=nr(nr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var v=bh(e,A.tickCoord,O,l,u);v&&(l=A.tickCoord+e*(O()/2+i),s[E]=nr(nr({},A),{},{isShow:!0}))}},_=0;_<g;_++)y(_);return s}function Q_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!n)return[];if(re(l)||oc.isSsr){var p;return(p=PJ(i,re(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=c&&g==="width"?Jl(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(A,I)=>{var O=typeof u=="function"?u(A.value,I):A.value;return g==="width"?SJ(Jl(O,{fontSize:t,letterSpacing:r}),y,f):Jl(O,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?Ft(i[1].coordinate-i[0].coordinate):1,E=AJ(a,x,g);return l==="equidistantPreserveStart"?TJ(x,E,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=OJ(x,E,_,i,s,l==="preserveStartEnd"):m=NJ(x,E,_,i,s),m.filter(A=>A.isShow))}var kJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},RJ=["axisLine","width","height","className","hide","ticks","axisType"];function DJ(e,t){if(e==null)return{};var r,n,i=MJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var di={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yt.axis};function $J(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=pt(pt(pt({},l),Pn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=pt(pt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=pt(pt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return b.createElement("line",hs({},u,{className:Ne("recharts-cartesian-axis-line",ls(o,"className"))}))}function zJ(e,t,r,n,i,a,s,o,l){var u,c,f,p,m,g,y=o?-1:1,_=e.tickSize||s,x=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!o*i,f=p-y*_,g=f-y*l,m=x;break;case"left":f=p=e.coordinate,c=t+ +!o*n,u=c-y*_,m=u-y*l,g=x;break;case"right":f=p=e.coordinate,c=t+ +o*n,u=c+y*_,m=u+y*l,g=x;break;default:u=c=e.coordinate,p=r+ +o*i,f=p+y*_,g=f+y*l,m=x;break}return{line:{x1:u,y1:f,x2:c,y2:p},tick:{x:m,y:g}}}function UJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function BJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function qJ(e){var{option:t,tickProps:r,value:n}=e,i,a=Ne(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,pt(pt({},r),{},{className:a}));else if(typeof t=="function")i=t(pt(pt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ne(s,t==null?void 0:t.className)),i=b.createElement(nm,hs({},r,{className:s}),n)}return i}var WJ=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:p,y:m,width:g,height:y,tickSize:_,tickMargin:x,fontSize:E,letterSpacing:A,getTicksConfig:I,events:O,axisType:k}=e,v=Q_(pt(pt({},I),{},{ticks:r}),E,A),S=UJ(c,f),C=BJ(c,f),D=Pn(I),T=Au(n),N={};typeof i=="object"&&(N=i);var j=pt(pt({},D),{},{fill:"none"},N),Q=v.map(le=>pt({entry:le},zJ(le,p,m,g,y,c,_,f,x))),oe=Q.map(le=>{var{entry:U,line:K}=le;return b.createElement(vr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&b.createElement("line",hs({},j,K,{className:Ne("recharts-cartesian-axis-tick-line",ls(i,"className"))})))}),de=Q.map((le,U)=>{var{entry:K,tick:ne}=le,pe=pt(pt(pt(pt({textAnchor:S,verticalAnchor:C},D),{},{stroke:"none",fill:a},T),ne),{},{index:U,payload:K,visibleTicksCount:v.length,tickFormatter:s,padding:l},u);return b.createElement(vr,hs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},tc(O,K,U)),n&&b.createElement(qJ,{option:n,tickProps:pe,value:"".concat(typeof s=="function"?s(K.value,U):K.value).concat(o||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},de.length>0&&b.createElement(jn,{zIndex:Yt.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},de)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},oe))}),KJ=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=DJ(e,RJ),[c,f]=b.useState(""),[p,m]=b.useState(""),g=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return kJ({ticks:g.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=b.useCallback(_=>{if(_){var x=_.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var E=x[0];if(E){var A=window.getComputedStyle(E),I=A.fontSize,O=A.letterSpacing;(I!==c||O!==p)&&(f(I),m(O))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(jn,{zIndex:e.zIndex},b.createElement(vr,{className:Ne("recharts-cartesian-axis",a)},b.createElement($J,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Pn(e)}),b.createElement(WJ,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(CQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(VQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Y_=b.forwardRef((e,t)=>{var r=Ut(e,di);return b.createElement(KJ,hs({},r,{ref:t}))});Y_.displayName="CartesianAxis";var HJ=["x1","y1","x2","y2","key"],GJ=["offset"],QJ=["xAxisId","yAxisId"],YJ=["xAxisId","yAxisId"];function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){XJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XJ(e,t,r){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var r,n,i=eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return b.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k2(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=Eh(r,HJ),f=(i=Pn(c))!==null&&i!==void 0?i:{},{offset:p}=f,m=Eh(f,GJ);n=b.createElement("line",Ka({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function ree(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,QJ),l=i.map((u,c)=>{var f=or(or({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return b.createElement(k2,{key:"line-".concat(c),option:n,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function nee(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eh(e,YJ),l=i.map((u,c)=>{var f=or(or({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return b.createElement(k2,{option:n,lineItemProps:f,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function iee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var m=!u[p+1],g=m?i+s-f:u[p+1]-f;if(g<=0)return null;var y=p%t.length;return b.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function aee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,p)=>f-p);i!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var m=!u[p+1],g=m?i+s-f:u[p+1]-f;if(g<=0)return null;var y=p%r.length;return b.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var see=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return ok(Q_(or(or(or({},di),r),{},{ticks:lk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},oee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return ok(Q_(or(or(or({},di),r),{},{ticks:lk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},lee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Yt.grid};function X_(e){var t=xx(),r=_x(),n=wk(),i=or(or({},Ut(e,lee)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:p,verticalValues:m}=i,g=Or(),y=ee(C=>yP(C,"xAxis",a,g)),_=ee(C=>yP(C,"yAxis",s,g));if(!Qn(u)||!Qn(c)||!re(o)||!re(l))return null;var x=i.verticalCoordinatesGenerator||see,E=i.horizontalCoordinatesGenerator||oee,{horizontalPoints:A,verticalPoints:I}=i;if((!A||!A.length)&&typeof E=="function"){var O=p&&p.length,k=E({yAxis:_?or(or({},_),{},{ticks:O?p:_.ticks}):void 0,width:t??u,height:r??c,offset:n},O?!0:f);Qf(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!I||!I.length)&&typeof x=="function"){var v=m&&m.length,S=x({xAxis:y?or(or({},y),{},{ticks:v?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},v?!0:f);Qf(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(I=S)}return b.createElement(jn,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(tee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(iee,Ka({},i,{horizontalPoints:A})),b.createElement(aee,Ka({},i,{verticalPoints:I})),b.createElement(ree,Ka({},i,{offset:n,horizontalPoints:A,xAxis:y,yAxis:_})),b.createElement(nee,Ka({},i,{offset:n,verticalPoints:I,xAxis:y,yAxis:_}))))}X_.displayName="CartesianGrid";var uee=["domain","range"],cee=["domain","range"];function mT(e,t){if(e==null)return{};var r,n,i=dee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function R2(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=mT(e,uee),{domain:a,range:s}=t,o=mT(t,cee);return!gT(r,a)||!gT(n,s)?!1:H_(i,o)}var fee=["dangerouslySetInnerHTML","ticks"],hee=["id"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(null,arguments)}function vT(e,t){if(e==null)return{};var r,n,i=pee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mee(e){var t=$e(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(wX(e)):r.current!==e&&t(xX({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(_X(r.current)),r.current=null)},[t]),null}var gee=e=>{var{xAxisId:t,className:r}=e,n=ee(vx),i=Or(),a="xAxis",s=ee(_=>Ho(_,a,t,i)),o=ee(_=>vD(_,a,t,i)),l=ee(_=>hD(_,t)),u=ee(_=>kK(_,t)),c=ee(_=>GR(_,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=vT(e,fee),{id:g}=c,y=vT(c,hee);return b.createElement(Y_,e0({},m,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Ne("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},vee={allowDataOverflow:Rt.allowDataOverflow,allowDecimals:Rt.allowDecimals,allowDuplicatedCategory:Rt.allowDuplicatedCategory,angle:Rt.angle,axisLine:di.axisLine,height:Rt.height,hide:!1,includeHidden:Rt.includeHidden,interval:Rt.interval,minTickGap:Rt.minTickGap,mirror:Rt.mirror,orientation:Rt.orientation,padding:Rt.padding,reversed:Rt.reversed,scale:Rt.scale,tick:Rt.tick,tickCount:Rt.tickCount,tickLine:di.tickLine,tickSize:di.tickSize,type:Rt.type,xAxisId:0},yee=e=>{var t=Ut(e,vee);return b.createElement(b.Fragment,null,b.createElement(mee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(gee,t))},Z_=b.memo(yee,R2);Z_.displayName="XAxis";var wee=["dangerouslySetInnerHTML","ticks"],xee=["id"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function yT(e,t){if(e==null)return{};var r,n,i=_ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bee(e){var t=$e(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(bX(e)):r.current!==e&&t(EX({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(SX(r.current)),r.current=null)},[t]),null}var Eee=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=b.useRef(null),s=b.useRef(null),o=ee(vx),l=Or(),u=$e(),c="yAxis",f=ee(O=>Ho(O,c,t,l)),p=ee(O=>pD(O,t)),m=ee(O=>DK(O,t)),g=ee(O=>vD(O,c,t,l)),y=ee(O=>QR(O,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!p||V_(i)||b.isValidElement(i)||y==null)){var O=a.current;if(O){var k=O.getCalculatedWidth();Math.round(p.width)!==Math.round(k)&&u(AX({id:t,width:k}))}}},[g,p,u,i,t,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:_,ticks:x}=e,E=yT(e,wee),{id:A}=y,I=yT(y,xee);return b.createElement(Y_,t0({},E,I,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ne("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:g,axisType:c}))},See={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:di.axisLine,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:di.tickLine,tickSize:di.tickSize,type:Dt.type,width:Dt.width,yAxisId:0},Aee=e=>{var t=Ut(e,See);return b.createElement(b.Fragment,null,b.createElement(bee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(Eee,t))},J_=b.memo(Aee,R2);J_.displayName="YAxis";var Pee=(e,t)=>t,eb=L([Pee,Pe,KR,Nt,kD,Ri,YH,It],nG),tb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},D2=cn("mouseClick"),M2=ic();M2.startListening({actionCreator:D2,effect:(e,t)=>{var r=e.payload,n=eb(t.getState(),tb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(QK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var r0=cn("mouseMove"),L2=ic(),_d=null;L2.startListening({actionCreator:r0,effect:(e,t)=>{var r=e.payload;_d!==null&&cancelAnimationFrame(_d);var n=tb(r);_d=requestAnimationFrame(()=>{var i=t.getState(),a=P_(i,i.tooltip.settings.shared);if(a==="axis"){var s=eb(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(AD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(SD())}_d=null})}});var wT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V2=Nr({name:"rootProps",initialState:wT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Tee=V2.reducer,{updateOptions:Cee}=V2.actions,F2=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Iee}=F2.actions,jee=F2.reducer,$2=cn("keyDown"),z2=cn("focus"),rb=ic();rb.startListening({actionCreator:$2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=T_(i,Qo(r),gc(r),xc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ri(r);if(a==="Enter"){var u=gh(r,"axis","hover",String(i.index));t.dispatch(Gy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=FK(r),f=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*f;if(!(l==null||m>=l.length||m<0)){var g=gh(r,"axis","hover",String(m));t.dispatch(Gy({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});rb.startListening({actionCreator:z2,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=gh(r,"axis","hover",String(a));t.dispatch(Gy({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Xr=cn("externalEvent"),U2=ic(),Fg=new Map;U2.startListening({actionCreator:Xr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Fg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:DH(o),activeDataKey:O_(o),activeIndex:fs(o),activeLabel:MD(o),activeTooltipIndex:fs(o),isTooltipActive:MH(o)};r(l,n)}finally{Fg.delete(i)}});Fg.set(i,s)}}});var Nee=L([Go],e=>e.tooltipItemPayloads),Oee=L([Nee,yc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),B2=cn("touchMove"),q2=ic();q2.startListening({actionCreator:B2,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=P_(n,n.tooltip.settings.shared);if(i==="axis"){var a=eb(n,tb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(AD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(ck),c=(s=l.getAttribute(dk))!==null&&s!==void 0?s:void 0,f=Oee(t.getState(),u,c);t.dispatch(ED({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}}});var kee=OO({brush:pJ,cartesianAxis:PX,chartData:kG,errorBars:$X,graphicalItems:$Y,layout:gU,legend:xB,options:CG,polarAxis:rY,polarOptions:jee,referenceElements:_J,rootProps:Tee,tooltip:YK,zIndex:vG}),Ree=function(t){return z9({reducer:kee,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([M2.middleware,L2.middleware,rb.middleware,U2.middleware,q2.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(HO({type:"raf"}))},devTools:oc.devToolsEnabled})};function W2(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Or(),a=b.useRef(null);if(i)return r;a.current==null&&(a.current=Ree(t));var s=sx;return b.createElement(gZ,{context:s,store:a.current},r)}function Dee(e){var{layout:t,margin:r}=e,n=$e(),i=Or();return b.useEffect(()=>{i||(n(hU(t)),n(fU(r)))},[n,i,t,r]),null}var K2=b.memo(Dee,H_);function H2(e){var t=$e();return b.useEffect(()=>{t(Cee(e))},[t,e]),null}function xT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=w2("".concat(n).concat(t)),a=$e();return b.useLayoutEffect(()=>(a(mG({zIndex:t,elementId:i,isPanorama:r})),()=>{a(gG({zIndex:t,isPanorama:r}))}),[a,t,i,r]),b.createElement("g",{tabIndex:-1,id:i})}function _T(e){var{children:t,isPanorama:r}=e,n=ee(aG);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(xT,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>b.createElement(xT,{key:s,zIndex:s,isPanorama:r})))}var Mee=["children"];function Lee(e,t){if(e==null)return{};var r,n,i=Vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}var Fee={width:"100%",height:"100%",display:"block"},$ee=b.forwardRef((e,t)=>{var r=xx(),n=_x(),i=jk();if(!Qn(r)||!Qn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(Ww,Sh({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:Fee,ref:t}),a)}),zee=e=>{var{children:t}=e,r=ee(Op);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return b.createElement(Ww,{width:n,height:i,x:s,y:a},t)},bT=b.forwardRef((e,t)=>{var{children:r}=e,n=Lee(e,Mee),i=Or();return i?b.createElement(zee,null,b.createElement(_T,{isPanorama:!0},r)):b.createElement($ee,Sh({ref:t},n),b.createElement(_T,{isPanorama:!1},r))});function Uee(){var e=$e(),[t,r]=b.useState(null),n=ee(RU);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;dt(a)&&a!==n&&e(mU(a))}},[t,e,n]),r}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(null,arguments)}var Hee=()=>(UG(),null);function Ah(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gee=b.forwardRef((e,t)=>{var r,n,i=b.useRef(null),[a,s]=b.useState({containerWidth:Ah((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ah((n=e.style)===null||n===void 0?void 0:n.height)}),o=b.useCallback((u,c)=>{s(f=>{var p=Math.round(u),m=Math.round(c);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var p=g=>{var{width:y,height:_}=g[0].contentRect;o(y,_)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,o]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),b.createElement(b.Fragment,null,b.createElement(Dp,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",ps({ref:l},e)))}),Qee=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=b.useState({containerWidth:Ah(r),containerHeight:Ah(n)}),s=b.useCallback((l,u)=>{a(c=>{var f=Math.round(l),p=Math.round(u);return c.containerWidth===f&&c.containerHeight===p?c:{containerWidth:f,containerHeight:p}})},[]),o=b.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(Dp,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ps({ref:o},e)))}),Yee=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(Dp,{width:r,height:n}),b.createElement("div",ps({ref:t},e)))}),Xee=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return xi(r)||xi(n)?b.createElement(Qee,ps({},e,{ref:t})):b.createElement(Yee,ps({},e,{ref:t}))});function Zee(e){return e===!0?Gee:Xee}var Jee=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:_,width:x,responsive:E,dispatchTouchEvents:A=!0}=e,I=b.useRef(null),O=$e(),[k,v]=b.useState(null),[S,C]=b.useState(null),D=Uee(),T=yx(),N=(T==null?void 0:T.width)>0?T.width:x,j=(T==null?void 0:T.height)>0?T.height:i,Q=b.useCallback(B=>{D(B),typeof t=="function"&&t(B),v(B),C(B),B!=null&&(I.current=B)},[D,t,v,C]),oe=b.useCallback(B=>{O(D2(B)),O(Xr({handler:a,reactEvent:B}))},[O,a]),de=b.useCallback(B=>{O(r0(B)),O(Xr({handler:u,reactEvent:B}))},[O,u]),le=b.useCallback(B=>{O(SD()),O(Xr({handler:c,reactEvent:B}))},[O,c]),U=b.useCallback(B=>{O(r0(B)),O(Xr({handler:f,reactEvent:B}))},[O,f]),K=b.useCallback(()=>{O(z2())},[O]),ne=b.useCallback(B=>{O($2(B.key))},[O]),pe=b.useCallback(B=>{O(Xr({handler:s,reactEvent:B}))},[O,s]),_e=b.useCallback(B=>{O(Xr({handler:o,reactEvent:B}))},[O,o]),xt=b.useCallback(B=>{O(Xr({handler:l,reactEvent:B}))},[O,l]),ke=b.useCallback(B=>{O(Xr({handler:p,reactEvent:B}))},[O,p]),qt=b.useCallback(B=>{O(Xr({handler:y,reactEvent:B}))},[O,y]),_t=b.useCallback(B=>{A&&O(B2(B)),O(Xr({handler:g,reactEvent:B}))},[O,A,g]),ze=b.useCallback(B=>{O(Xr({handler:m,reactEvent:B}))},[O,m]),Xn=Zee(E);return b.createElement(BD.Provider,{value:k},b.createElement(kN.Provider,{value:S},b.createElement(Xn,{width:N??(_==null?void 0:_.width),height:j??(_==null?void 0:_.height),className:Ne("recharts-wrapper",n),style:Bee({position:"relative",cursor:"default",width:N,height:j},_),onClick:oe,onContextMenu:pe,onDoubleClick:_e,onFocus:K,onKeyDown:ne,onMouseDown:xt,onMouseEnter:de,onMouseLeave:le,onMouseMove:U,onMouseUp:ke,onTouchEnd:ze,onTouchMove:_t,onTouchStart:qt,ref:Q},b.createElement(Hee,null),r)))}),ete=["width","height","responsive","children","className","style","compact","title","desc"];function tte(e,t){if(e==null)return{};var r,n,i=rte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G2=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=tte(e,ete),p=Pn(f);return l?b.createElement(b.Fragment,null,b.createElement(Dp,{width:r,height:n}),b.createElement(bT,{otherAttributes:p,title:u,desc:c},a)):b.createElement(Jee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(bT,{otherAttributes:p,title:u,desc:c,ref:t},b.createElement(EJ,null,a)))});function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}var nte={top:5,right:5,bottom:5,left:5},ite={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ate=b.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,ite),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(W2,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},b.createElement(I2,{chartData:u.data}),b.createElement(K2,{layout:i.layout,margin:i.margin}),b.createElement(H2,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(G2,n0({},i,{ref:r})))}),ste=["axis","item"],Q2=b.forwardRef((e,t)=>b.createElement(ate,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ste,tooltipPayloadSearcher:WD,categoricalChartProps:e,ref:t}));function ote(e){var t=$e();return b.useEffect(()=>{t(Iee(e))},[t,e]),null}var lte=["layout"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function ute(e,t){if(e==null)return{};var r,n,i=cte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dte={top:5,right:5,bottom:5,left:5},Y2={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fte=b.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,Y2),{layout:a}=i,s=ute(i,lte),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(W2,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},b.createElement(I2,{chartData:i.data}),b.createElement(K2,{layout:a,margin:i.margin}),b.createElement(H2,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(ote,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(G2,i0({},s,{ref:r})))});function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e,t,r){return(t=pte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=["item"],vte=AT(AT({},Y2),{},{layout:"centric",startAngle:0,endAngle:360}),yte=b.forwardRef((e,t)=>{var r=Ut(e,vte);return b.createElement(fte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gte,tooltipPayloadSearcher:WD,categoricalChartProps:r,ref:t})});const wte=({incidents:e,onStatusClick:t,onNavigateToList:r})=>{const n={abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38"},i={abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta"},a=[{name:i.abierta,value:e.filter(s=>s.status==="abierta").length,fill:n.abierta,status:"abierta"},{name:i["en-progreso"],value:e.filter(s=>s.status==="en-progreso").length,fill:n["en-progreso"],status:"en-progreso"},{name:i["puesto-en-test"],value:e.filter(s=>s.status==="puesto-en-test").length,fill:n["puesto-en-test"],status:"puesto-en-test"},{name:i["verificado-en-test"],value:e.filter(s=>s.status==="verificado-en-test").length,fill:n["verificado-en-test"],status:"verificado-en-test"},{name:i.resuelta,value:e.filter(s=>s.status==="resuelta").length,fill:n.resuelta,status:"resuelta"}].filter(s=>s.value>0);return a.length===0?d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx("div",{className:"chart-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})})]}):d.jsxs("div",{className:"incident-chart-container",children:[d.jsx("h3",{children:"Distribucin por Estado"}),d.jsx(wx,{width:"100%",height:300,children:d.jsxs(yte,{children:[d.jsx(b2,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:o,percent:l})=>`${s}: ${o} (${l?(l*100).toFixed(0):0}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:s=>{t(s.status),r()},style:{cursor:"pointer"},children:a.map((s,o)=>d.jsx(bc,{fill:s.fill},`cell-${o}`))}),d.jsx(L_,{formatter:s=>`${s} incidencias`,contentStyle:{background:"#fff",border:"2px solid #667eea",borderRadius:"8px"}}),d.jsx(Fp,{})]})})]})};function xte({incidents:e}){const t=new Date,r=t.getFullYear(),n=t.getMonth()+1,i=e.filter(l=>{const u=new Date(l.creationDate);return u.getFullYear()===r&&u.getMonth()+1===n}).length,a=e.filter(l=>l.status!=="cerrada").length,s=e.filter(l=>l.status==="cerrada").length,o=[{name:"Este mes",Creadas:i,Abiertas:a,Cerradas:s}];return d.jsx("div",{className:"incident-stats-container",children:d.jsx("div",{className:"stats-chart",children:d.jsx(wx,{width:"100%",height:300,children:d.jsxs(Q2,{data:o,children:[d.jsx(X_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.2)"}),d.jsx(Z_,{dataKey:"name",stroke:"#667eea"}),d.jsx(J_,{stroke:"#667eea"}),d.jsx(L_,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},labelStyle:{color:"#333"}}),d.jsx(Fp,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(so,{dataKey:"Creadas",fill:"#667eea",radius:[8,8,0,0]}),d.jsx(so,{dataKey:"Abiertas",fill:"#f093fb",radius:[8,8,0,0]}),d.jsx(so,{dataKey:"Cerradas",fill:"#764ba2",radius:[8,8,0,0]})]})})})})}function _te({incidents:e,onViewDetail:t}){const r=e.filter(a=>a.status!=="cerrada"),n=a=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[a]||a,i=a=>({abierta:"#1976d2","en-progreso":"#f57c00","puesto-en-test":"#8b5cf6","verificado-en-test":"#06b6d4",resuelta:"#689f38",cerrada:"#7b1fa2"})[a]||"#999";return r.length===0?d.jsxs("div",{className:"quick-incidents-container",children:[d.jsx("h3",{children:"Incidencias Pendientes"}),d.jsx("div",{className:"quick-incidents-empty",children:d.jsx("p",{children:" No hay incidencias pendientes"})})]}):d.jsxs("div",{className:"quick-incidents-container",children:[d.jsxs("h3",{children:["Incidencias Pendientes (",r.length,")"]}),d.jsx("div",{className:"quick-incidents-list",children:r.map(a=>d.jsxs("div",{className:"quick-incident-item",onClick:()=>t==null?void 0:t(a),onMouseDown:s=>{if(s.button===1){s.preventDefault();const o=`${window.location.origin}${window.location.pathname}?incident=${a.id}`;window.open(o,"_blank")}},children:[d.jsx("div",{className:"quick-incident-name",children:a.name}),d.jsx("div",{className:"quick-incident-status",style:{backgroundColor:i(a.status)},children:n(a.status)})]},a.id))})]})}function bte({incidents:e}){const t=()=>{const f=e.filter(m=>m.status==="cerrada");if(f.length===0)return 0;const p=f.reduce((m,g)=>{const y=new Date(g.creationDate),_=new Date(g.updatedAt),x=Math.abs(_.getTime()-y.getTime()),E=Math.ceil(x/(1e3*60*60*24));return m+E},0);return Math.round(p/f.length)},r=()=>({correctivo:e.filter(f=>f.type==="correctivo").length,evolutivo:e.filter(f=>f.type==="evolutivo").length,tarea:e.filter(f=>f.type==="tarea").length}),n=()=>{const f=new Date;return e.filter(p=>{const m=new Date(p.creationDate);return m.getMonth()===f.getMonth()&&m.getFullYear()===f.getFullYear()}).length},i=()=>{if(e.length===0)return 0;const f=e.filter(p=>p.status==="cerrada").length;return Math.round(f/e.length*100)},a=()=>e.filter(f=>(f.priority==="crtica"||f.priority==="alta")&&f.status!=="cerrada").length,s=t(),o=r(),l=n(),u=i(),c=a();return d.jsxs("div",{className:"metrics-dashboard",children:[d.jsx("h2",{className:"metrics-title",children:" Mtricas del Sistema"}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card metric-primary",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:s}),d.jsx("div",{className:"metric-label",children:"Das promedio de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-success",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[u,"%"]}),d.jsx("div",{className:"metric-label",children:"Tasa de resolucin"})]})]}),d.jsxs("div",{className:"metric-card metric-info",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:l}),d.jsx("div",{className:"metric-label",children:"Incidencias este mes"})]})]}),d.jsxs("div",{className:"metric-card metric-warning",children:[d.jsx("div",{className:"metric-icon",children:""}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:c}),d.jsx("div",{className:"metric-label",children:"Crticas/Altas pendientes"})]})]})]}),d.jsxs("div",{className:"metrics-detail",children:[d.jsx("h3",{children:"Distribucin por Tipo"}),d.jsxs("div",{className:"type-stats",children:[d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Correctivo"}),d.jsx("span",{className:"type-stat-value",children:o.correctivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Evolutivo"}),d.jsx("span",{className:"type-stat-value",children:o.evolutivo})]}),d.jsxs("div",{className:"type-stat-item",children:[d.jsx("span",{className:"type-stat-label",children:" Tarea"}),d.jsx("span",{className:"type-stat-value",children:o.tarea})]})]})]})]})}const Ete=({incidents:e})=>{const r=(()=>{const i=new Date().getFullYear();return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"].map((o,l)=>{const u=e.filter(f=>{const p=new Date(f.creationDate);return p.getFullYear()===i&&p.getMonth()===l}).length,c=e.filter(f=>{const p=new Date(f.updatedAt);return f.status==="cerrada"&&p.getFullYear()===i&&p.getMonth()===l}).length;return{mes:o,creadas:u,cerradas:c}})})();return d.jsxs("div",{className:"yearly-chart-container",children:[d.jsxs("h3",{children:[" Incidencias por Mes (",new Date().getFullYear(),")"]}),d.jsx(wx,{width:"100%",height:300,children:d.jsxs(Q2,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(X_,{strokeDasharray:"3 3",stroke:"rgba(102, 126, 234, 0.1)"}),d.jsx(Z_,{dataKey:"mes",stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(J_,{stroke:"#667eea",style:{fontSize:"0.9rem"}}),d.jsx(L_,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"2px solid #667eea",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),d.jsx(Fp,{}),d.jsx(so,{dataKey:"creadas",fill:"url(#colorGradient)",radius:[8,8,0,0],name:"Creadas"}),d.jsx(so,{dataKey:"cerradas",fill:"url(#closedGradient)",radius:[8,8,0,0],name:"Cerradas"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#667eea",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#764ba2",stopOpacity:.7})]}),d.jsxs("linearGradient",{id:"closedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.9}),d.jsx("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:.7})]})]})]})})]})};function Ste({incidents:e,onViewIncident:t}){const r=()=>{const u=new Date,c=new Date(u.getTime()-7*24*60*60*1e3);return e.filter(f=>f.status==="cerrada"?!1:new Date(f.creationDate)<c&&(f.status==="abierta"||f.status==="en-progreso"))},n=()=>e.filter(u=>u.priority==="crtica"&&u.status!=="cerrada"&&u.status!=="resuelta"),i=()=>{const u=new Date,c=new Date(u.getTime()-3*24*60*60*1e3);return e.filter(f=>f.status!=="puesto-en-test"&&f.status!=="verificado-en-test"?!1:new Date(f.creationDate)<c)},a=r(),s=n(),o=i(),l=a.length+s.length+o.length;return l===0?null:d.jsxs("div",{className:"alerts-banner",children:[d.jsxs("div",{className:"alerts-header",children:[d.jsx("span",{className:"alerts-icon",children:""}),d.jsxs("h3",{className:"alerts-title",children:["Alertas Activas (",l,")"]})]}),a.length>0&&d.jsxs("div",{className:"alert-section alert-stale",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:a.length}),d.jsx("h4",{children:"Incidencias Estancadas (ms de 7 das sin avance)"})]}),d.jsxs("div",{className:"alert-items",children:[a.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsxs("span",{className:"alert-item-date",children:["Creada: ",new Date(u.creationDate).toLocaleDateString("es-ES")]}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),a.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",a.length-3," ms"]})]})]}),s.length>0&&d.jsxs("div",{className:"alert-section alert-critical",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:s.length}),d.jsx("h4",{children:"Incidencias Crticas Pendientes"})]}),d.jsxs("div",{className:"alert-items",children:[s.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsx("span",{className:`alert-item-priority priority-${u.priority}`,children:u.priority==="crtica"?" Crtica":" Alta"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),s.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",s.length-3," ms"]})]})]}),o.length>0&&d.jsxs("div",{className:"alert-section alert-test",children:[d.jsxs("div",{className:"alert-section-header",children:[d.jsx("span",{className:"alert-badge",children:o.length}),d.jsx("h4",{children:"En Test por ms de 3 das"})]}),d.jsxs("div",{className:"alert-items",children:[o.slice(0,3).map(u=>d.jsxs("div",{className:"alert-item",onClick:()=>t(u),children:[d.jsx("span",{className:"alert-item-name",children:u.name}),d.jsx("span",{className:"alert-item-status",children:u.status==="puesto-en-test"?" Puesto en Test":" Verificado en Test"}),d.jsx("button",{className:"alert-item-btn",children:"Ver "})]},u.id)),o.length>3&&d.jsxs("span",{className:"alert-more",children:["+ ",o.length-3," ms"]})]})]})]})}function X2(){return d.jsxs("div",{className:"logo-container",children:[d.jsx("div",{className:"logo-icon",children:d.jsxs("svg",{viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#ff6b35",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#ff8c00",stopOpacity:1}})]})}),d.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"url(#logoGradient)",opacity:"0.95"}),d.jsx("circle",{cx:"30",cy:"30",r:"28",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",opacity:"0.4"}),d.jsxs("g",{transform:"translate(30, 30)",children:[d.jsx("rect",{x:"-10",y:"10",width:"20",height:"3",rx:"1.5",fill:"#ffffff"}),d.jsx("rect",{x:"-2",y:"-14",width:"4",height:"20",rx:"2",fill:"#ffffff"}),d.jsx("circle",{cx:"0",cy:"-18",r:"4",fill:"#ffd700"}),d.jsx("path",{d:"M 0,-16 L 2,-12 L -2,-12 Z",fill:"#ff6b35"})]})]})}),d.jsx("div",{className:"logo-text",children:d.jsx("h1",{children:"IncidentAlert"})})]})}function Ate({incidentId:e,comments:t,onAddComment:r,onDeleteComment:n,onUpdateComment:i}){const[a,s]=b.useState(""),[o,l]=b.useState(""),[u,c]=b.useState(!1),[f,p]=b.useState(null),m=(E,A)=>{E.stopPropagation(),window.confirm("Ests seguro de que quieres eliminar este comentario?")&&n(e,A)},g=E=>{E.preventDefault(),a.trim()&&o.trim()&&(f&&i?i(e,f.id,o.trim(),a.trim()):r(e,o.trim(),a.trim()),s(""),l(""),c(!1),p(null))},y=E=>{E?(p(E),l(E.author),s(E.text)):(p(null),l(""),s("")),c(!0)},_=()=>{c(!1),p(null),l(""),s("")},x=[...t].sort((E,A)=>new Date(A.createdAt).getTime()-new Date(E.createdAt).getTime());return d.jsxs(d.Fragment,{children:[u&&Wn.createPortal(d.jsx("div",{className:"comment-modal-overlay",onClick:_,children:d.jsxs("div",{className:"comment-modal",onClick:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:f?" Editar Comentario":" Nuevo Comentario"}),d.jsx("button",{className:"btn-close-modal",onClick:_,children:""})]}),d.jsxs("form",{className:"comment-form-modal",onSubmit:g,children:[d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"author",children:"Autor"}),d.jsx("input",{id:"author",type:"text",placeholder:"Escribe tu nombre",value:o,onChange:E=>l(E.target.value),className:"comment-author-input-modal",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"form-group-modal",children:[d.jsx("label",{htmlFor:"comment",children:"Comentario"}),d.jsx("textarea",{id:"comment",placeholder:"Escribe tu comentario aqu...",value:a,onChange:E=>s(E.target.value),className:"comment-textarea-modal",rows:8,required:!0})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel-modal",onClick:_,children:"Cancelar"}),f&&d.jsx("button",{type:"button",className:"btn-delete-modal",onClick:E=>{m(E,f.id),_()},children:" Eliminar"}),d.jsx("button",{type:"submit",className:"btn-submit-modal",children:f?" Guardar":" Publicar"})]})]})]})}),document.body),d.jsxs("div",{className:"comments-section",children:[d.jsxs("div",{className:"comments-header",children:[d.jsxs("h3",{children:[" Comentarios (",t.length,")"]}),d.jsx("button",{className:"btn-add-comment",onClick:()=>y(),children:"+ Aadir Comentario"})]}),d.jsx("div",{className:"comments-list",children:x.length===0?d.jsxs("div",{className:"no-comments",children:[d.jsx("span",{className:"no-comments-icon",children:""}),d.jsx("p",{children:"No hay comentarios an. S el primero en comentar."})]}):x.map(E=>d.jsx("div",{className:"comment-item",onClick:()=>y(E),children:d.jsxs("div",{className:"comment-header",children:[d.jsxs("div",{className:"comment-author",children:[d.jsx("span",{className:"author-icon",children:""}),d.jsx("strong",{children:E.author})]}),d.jsx("span",{className:"comment-date",children:new Date(E.createdAt).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})})]})},E.id))})]})]})}function Pte({incidentId:e,tags:t,allAvailableTags:r,onAddTag:n,onRemoveTag:i,onDeleteTagGlobally:a}){const[s,o]=b.useState(!1),[l,u]=b.useState(""),[c,f]=b.useState(!1),[p,m]=b.useState({show:!1,tag:null}),g=A=>{A.preventDefault(),l.trim()&&(n(e,l.trim()),u(""),o(!1),f(!1))},y=A=>{n(e,A),f(!1)},_=A=>{m({show:!0,tag:A})},x=()=>{p.tag&&a&&(a(p.tag),m({show:!1,tag:null}),f(!1))};c&&r.filter(A=>!t.includes(A));const E=r;return d.jsxs("div",{className:"tags-manager",children:[d.jsxs("div",{className:"tags-header",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"tags-actions",children:!s&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-add-tag",onClick:()=>o(!0),children:"+ Nueva"}),E.length>0&&d.jsx("button",{className:"btn-suggest-tag",onClick:()=>{console.log("Toggling suggestions. Current:",c),console.log("Available tags:",E),f(!c)},children:" Gestionar"})]})})]}),s&&d.jsxs("form",{className:"tag-input-form",onSubmit:g,children:[d.jsx("input",{type:"text",placeholder:"Escribe una etiqueta...",value:l,onChange:A=>u(A.target.value),autoFocus:!0,className:"tag-input"}),d.jsx("button",{type:"submit",className:"btn-submit-tag",children:""}),d.jsx("button",{type:"button",className:"btn-cancel-tag",onClick:()=>{o(!1),u("")},children:""})]}),c&&E.length>0&&d.jsxs("div",{className:"tag-suggestions",children:[d.jsx("p",{className:"suggestions-title",children:"Todas las etiquetas del sistema:"}),d.jsx("div",{className:"suggestions-list",children:E.map(A=>d.jsxs("div",{className:"suggestion-item",children:[!t.includes(A)&&d.jsxs("button",{className:"suggestion-tag",onClick:()=>y(A),children:["+ ",A]}),t.includes(A)&&d.jsxs("span",{className:"tag-already-added",children:[" ",A]}),a&&d.jsx("button",{className:"btn-delete-global-tag",onClick:()=>_(A),title:"Eliminar etiqueta del sistema",children:""})]},A))})]}),p.show&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>m({show:!1,tag:null}),children:d.jsxs("div",{className:"delete-modal",onClick:A=>A.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Eliminar Etiqueta"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsxs("p",{children:["Eliminar la etiqueta ",d.jsxs("strong",{children:['"',p.tag,'"']})," de todas las incidencias?"]}),d.jsx("p",{className:"delete-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>m({show:!1,tag:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:x,children:" Eliminar"})]})]})}),d.jsx("div",{className:"tags-list",children:t.length===0?d.jsx("p",{className:"no-tags",children:"No hay etiquetas. Aade una para organizar mejor esta incidencia."}):d.jsx("div",{className:"tags-container",children:t.map(A=>d.jsxs("div",{className:"tag-item",children:[d.jsx("span",{className:"tag-name",children:A}),d.jsx("button",{className:"btn-remove-tag",onClick:()=>i(e,A),title:"Eliminar etiqueta",children:""})]},A))})})]})}function Tte({incidentName:e,prQA2List:t,ownerName:r}){const[n,i]=b.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${c}/${f}`},o=async()=>{try{const l=document.querySelector(".qa-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a QA:",c.style.marginBottom="1rem",u.appendChild(c);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#fbbf24"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#000",A.style.backgroundColor="#fbbf24"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const _=window.getSelection();_&&(_.removeAllRanges(),_.addRange(y),document.execCommand("copy"),_.removeAllRanges()),document.body.removeChild(u),alert(" Tabla QA copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Wn.createPortal(d.jsx("div",{className:"qa-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"qa-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"qa-modal-header",children:[d.jsx("h2",{children:" Vista Tabla QA"}),d.jsx("button",{className:"btn-close-qa-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"qa-modal-body",children:[d.jsx("p",{className:"qa-modal-info",children:"Buenas, os envo una PR para su subida a QA:"}),d.jsx("div",{className:"qa-table-container",children:d.jsxs("table",{className:"qa-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Owner"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"qa-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"qa-modal-actions",children:[d.jsx("button",{className:"btn-copy-qa",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-qa",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-qa-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla QA",children:" Tabla QA"})]})}function Cte({incidentName:e,prMainList:t,contactPerson:r}){const[n,i]=b.useState(!1),a=l=>{const u=l.split("/");return u[u.length-1]||l},s=()=>{const l=new Date,u=String(l.getDate()).padStart(2,"0"),c=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${c}/${f}`},o=async()=>{try{const l=document.querySelector(".main-table");if(!l)return;const u=document.createElement("div"),c=document.createElement("p");c.textContent="Buenas, os envo una PR para su subida a PRO:",c.style.marginBottom="1rem",u.appendChild(c);const f=l.cloneNode(!0);f.style.width="100%",f.style.borderCollapse="collapse",f.style.fontSize="0.85rem",f.style.background="white",f.style.marginBottom="1rem";const p=f.querySelector("thead");if(p){const x=p.querySelector("tr");x&&(x.style.background="#10b981"),p.querySelectorAll("th").forEach(A=>{A.style.padding="0.75rem 0.5rem",A.style.border="1px solid #e5e7eb",A.style.fontWeight="700",A.style.color="#fff",A.style.backgroundColor="#10b981"})}const m=f.querySelector("tbody");m&&m.querySelectorAll("td").forEach(E=>{E.style.padding="0.75rem 0.5rem",E.style.border="1px solid #e5e7eb",E.style.color="#333",E.style.fontWeight="500",E.style.backgroundColor="white"}),u.appendChild(f);const g=document.createElement("p");g.textContent="Gracias, un saludo!",u.appendChild(g),document.body.appendChild(u);const y=document.createRange();y.selectNodeContents(u);const _=window.getSelection();_&&(_.removeAllRanges(),_.addRange(y),document.execCommand("copy"),_.removeAllRanges()),document.body.removeChild(u),alert(" Tabla MAIN copiada al portapapeles con formato")}catch(l){console.error("Error al copiar:",l),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[n&&Wn.createPortal(d.jsx("div",{className:"main-modal-overlay",onClick:()=>i(!1),children:d.jsxs("div",{className:"main-modal",onClick:l=>l.stopPropagation(),children:[d.jsxs("div",{className:"main-modal-header",children:[d.jsx("h2",{children:" Vista Tabla MAIN"}),d.jsx("button",{className:"btn-close-main-modal",onClick:()=>i(!1),children:""})]}),d.jsxs("div",{className:"main-modal-body",children:[d.jsx("p",{className:"main-modal-info",children:"Buenas, os envo una PR para su subida a PRO:"}),d.jsx("div",{className:"main-table-container",children:d.jsxs("table",{className:"main-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Priority"}),d.jsx("th",{children:"KP/MOV"}),d.jsx("th",{children:"Date"}),d.jsx("th",{children:"PR"}),d.jsx("th",{children:"Persona de Contacto"})]})}),d.jsx("tbody",{children:t.map(l=>d.jsxs("tr",{children:[d.jsx("td",{}),d.jsx("td",{children:e}),d.jsx("td",{children:s()}),d.jsx("td",{children:a(l.link)}),d.jsx("td",{children:r})]},l.id))})]})}),d.jsx("p",{className:"main-modal-footer",children:"Gracias, un saludo!"})]}),d.jsxs("div",{className:"main-modal-actions",children:[d.jsx("button",{className:"btn-copy-main",onClick:o,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-main",onClick:()=>i(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{type:"button",className:"btn-main-export",onClick:l=>{l.preventDefault(),l.stopPropagation(),i(!0)},title:"Ver tabla MAIN",children:" Tabla MAIN"})]})}const Ite=({incidentId:e,incidentName:t,prQA2List:r,prMainList:n,ownerName:i,onAddPR:a,onRemovePR:s,onUpdatePR:o})=>{const[l,u]=b.useState(!1),[c,f]=b.useState(!1),[p,m]=b.useState(null),[g,y]=b.useState(null),_=k=>{k.preventDefault();const v=new FormData(k.currentTarget),S=v.get("link").trim(),C=v.get("description").trim();S&&(p&&p.type==="qa2"?(o(e,"qa2",p.pr.id,S,C),m(null),y({type:"success",message:" PR QA2 actualizado correctamente"})):(a(e,"qa2",S,C),y({type:"success",message:" PR QA2 agregado correctamente"})),u(!1),k.currentTarget.reset(),setTimeout(()=>y(null),3e3))},x=k=>{k.preventDefault();const v=new FormData(k.currentTarget),S=v.get("link").trim(),C=v.get("description").trim();S&&(p&&p.type==="main"?(o(e,"main",p.pr.id,S,C),m(null),y({type:"success",message:" PR MAIN actualizado correctamente"})):(a(e,"main",S,C),y({type:"success",message:" PR MAIN agregado correctamente"})),f(!1),k.currentTarget.reset(),setTimeout(()=>y(null),3e3))},E=(k,v)=>{m({pr:k,type:v}),v==="qa2"?u(!0):f(!0)},A=k=>{m(null),k==="qa2"?u(!1):f(!1)},I=(k,v,S)=>{k.stopPropagation(),s(e,v,S),y({type:"error",message:` PR ${v==="qa2"?"QA2":"MAIN"} eliminado`}),setTimeout(()=>y(null),3e3)},O=k=>{const v=k.split("/");return v[v.length-1]||k};return d.jsxs(d.Fragment,{children:[g&&d.jsxs("div",{className:`pr-notification pr-notification-${g.type}`,children:[d.jsx("span",{children:g.message}),d.jsx("button",{className:"pr-notification-close",onClick:()=>y(null),children:""})]}),l&&Wn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("qa2"),children:d.jsxs("div",{className:"pr-modal",onClick:k=>k.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="qa2"?" Editar PR QA2":" Nuevo PR QA2"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("qa2"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:_,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-qa2",children:" Enlace del PR"}),d.jsx("input",{id:"link-qa2",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="qa2"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-qa2",children:" Descripcin"}),d.jsx("textarea",{id:"description-qa2",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="qa2"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="qa2"?" Guardar Cambios":" Agregar PR QA2"}),p&&p.type==="qa2"&&d.jsx(Tte,{incidentName:t,prQA2List:[p.pr],ownerName:i})]})]})]})}),document.body),c&&Wn.createPortal(d.jsx("div",{className:"pr-modal-overlay",onClick:()=>A("main"),children:d.jsxs("div",{className:"pr-modal",onClick:k=>k.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p&&p.type==="main"?" Editar PR MAIN":" Nuevo PR MAIN"}),d.jsx("button",{className:"btn-close-modal",onClick:()=>A("main"),children:""})]}),d.jsxs("form",{className:"pr-form-modal",onSubmit:x,children:[d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"link-main",children:" Enlace del PR"}),d.jsx("input",{id:"link-main",name:"link",type:"url",placeholder:"https://github.com/...",defaultValue:p&&p.type==="main"?p.pr.link:"",autoFocus:!0,required:!0})]}),d.jsxs("div",{className:"form-field",children:[d.jsx("label",{htmlFor:"description-main",children:" Descripcin"}),d.jsx("textarea",{id:"description-main",name:"description",rows:4,placeholder:"Describe los cambios del PR...",defaultValue:p&&p.type==="main"?p.pr.description:"",required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d.jsx("button",{type:"submit",className:"btn-submit-pr",style:{flex:1},children:p&&p.type==="main"?" Guardar Cambios":" Agregar PR MAIN"}),p&&p.type==="main"&&d.jsx(Cte,{incidentName:t,prMainList:[p.pr],contactPerson:i})]})]})]})}),document.body),d.jsxs("div",{className:"pr-manager",children:[d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs QA2"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>u(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:r.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de QA2 registrados"}):r.map(k=>d.jsxs("div",{className:"pr-item",onClick:()=>E(k,"qa2"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:k.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:v=>v.stopPropagation(),children:[" PR ",O(k.link)]}),d.jsx("span",{className:"pr-date",children:new Date(k.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:v=>I(v,"qa2",k.id),title:"Eliminar PR",children:""})]},k.id))})]}),d.jsxs("div",{className:"pr-section",children:[d.jsxs("div",{className:"pr-section-header",children:[d.jsx("h3",{children:" PRs MAIN"}),d.jsx("button",{className:"btn-add-pr",onClick:()=>f(!0),children:"+ Agregar PR"})]}),d.jsx("div",{className:"pr-list",children:n.length===0?d.jsx("p",{className:"pr-empty",children:"No hay PRs de MAIN registrados"}):n.map(k=>d.jsxs("div",{className:"pr-item",onClick:()=>E(k,"main"),children:[d.jsxs("div",{className:"pr-content",children:[d.jsxs("a",{href:k.link,target:"_blank",rel:"noopener noreferrer",className:"pr-link",onClick:v=>v.stopPropagation(),children:[" PR ",O(k.link)]}),d.jsx("span",{className:"pr-date",children:new Date(k.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"2-digit"})})]}),d.jsx("button",{className:"btn-remove-pr",onClick:v=>I(v,"main",k.id),title:"Eliminar PR",children:""})]},k.id))})]})]})]})};function jte({incident:e,currentUser:t}){const[r,n]=b.useState(!1),[i,a]=b.useState(""),s=u=>!u||u.length===0?"-":u.map(c=>{const f=c.link.split("/");return f[f.length-1]||c.link}).join(", "),o=u=>({correctivo:"Correctivo",evolutivo:"Evolutivo",tarea:"Tarea"})[u]||u,l=async()=>{try{const u=document.querySelector(".excel-table");if(!u)return;const c=document.createElement("div"),f=document.createElement("p");f.textContent="Buenas, os envo una PR para su subida a PRO",f.style.marginBottom="1rem",c.appendChild(f);const p=u.cloneNode(!0);p.style.width="100%",p.style.borderCollapse="collapse",p.style.fontSize="0.85rem",p.style.background="white",p.style.marginBottom="1rem";const m=p.querySelector("thead");if(m){const I=m.querySelector("tr");I&&(I.style.background="linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"),m.querySelectorAll("th").forEach(k=>{k.style.padding="0.75rem 0.5rem",k.style.border="1px solid #e5e7eb",k.style.fontWeight="700",k.style.color="#000",k.style.backgroundColor="#fbbf24"})}const g=p.querySelector("tbody");g&&g.querySelectorAll("td").forEach(O=>{O.style.padding="0.75rem 0.5rem",O.style.border="1px solid #e5e7eb",O.style.color="#333",O.style.fontWeight="500",O.style.backgroundColor="white"});const y=p.querySelector('input[type="date"]');if(y){const I=y.parentElement;I&&(I.textContent=i||"-",I.style.color="#333")}const _=p.querySelector("textarea");if(_){const I=_.parentElement;I&&(I.textContent=e.description||"-",I.style.color="#333")}c.appendChild(p);const x=document.createElement("p");x.textContent="Un saludo, Gracias!",c.appendChild(x),document.body.appendChild(c);const E=document.createRange();E.selectNodeContents(c);const A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(E),document.execCommand("copy"),A.removeAllRanges()),document.body.removeChild(c),alert(" Tabla copiada al portapapeles con formato")}catch(u){console.error("Error al copiar:",u),alert(" Error al copiar la tabla")}};return d.jsxs(d.Fragment,{children:[r&&Wn.createPortal(d.jsx("div",{className:"excel-modal-overlay",onClick:()=>n(!1),children:d.jsxs("div",{className:"excel-modal",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"excel-modal-header",children:[d.jsx("h2",{children:" Vista Previa Excel"}),d.jsx("button",{className:"btn-close-excel-modal",onClick:()=>n(!1),children:""})]}),d.jsxs("div",{className:"excel-modal-body",children:[d.jsx("p",{className:"excel-modal-info",children:"Buenas, os envo una PR para su subida a PRO"}),d.jsx("div",{className:"excel-table-container",children:d.jsxs("table",{className:"excel-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"INCIDENCIA/S"}),d.jsx("th",{children:"Estado peticin Incidencias"}),d.jsx("th",{children:"DIA DESPLIEGUE"}),d.jsx("th",{children:"PERSONA CONTACTO"}),d.jsx("th",{children:"DESCRIPCIN"}),d.jsx("th",{children:"DEPENDENCIAS"}),d.jsx("th",{children:"PR PRO"}),d.jsx("th",{children:"PR QA"}),d.jsx("th",{children:"Desplegado"}),d.jsx("th",{children:"PUESTO EXCEL QA"}),d.jsx("th",{children:"TIPO MOV"}),d.jsx("th",{children:"TICKET DEPENDENCIA"})]})}),d.jsx("tbody",{children:d.jsxs("tr",{children:[d.jsx("td",{children:e.name}),d.jsx("td",{children:"Verificado en Test"}),d.jsx("td",{children:d.jsx("input",{type:"date",value:i,onChange:u=>a(u.target.value),className:"excel-date-input"})}),d.jsx("td",{children:t}),d.jsx("td",{children:d.jsx("div",{className:"excel-description-display",children:e.title||"Sin ttulo"})}),d.jsx("td",{children:"NO"}),d.jsx("td",{children:s(e.prMainList)}),d.jsx("td",{children:s(e.prQA2List)}),d.jsx("td",{children:"NO"}),d.jsx("td",{}),d.jsx("td",{children:o(e.type)}),d.jsx("td",{children:"-"})]})})]})}),d.jsx("p",{className:"excel-modal-footer",children:"Un saludo, Gracias!"})]}),d.jsxs("div",{className:"excel-modal-actions",children:[d.jsx("button",{className:"btn-copy-excel",onClick:l,children:" Copiar Tabla"}),d.jsx("button",{className:"btn-close-excel",onClick:()=>n(!1),children:"Cerrar"})]})]})}),document.body),d.jsx("button",{className:"btn-excel-export",onClick:()=>n(!0),title:"Envo a PRO",children:" Envo a PRO"})]})}const Nte=({incident:e,onUpdate:t,onBack:r,onAddComment:n,onUpdateComment:i,onDeleteComment:a,onDelete:s,onAddTag:o,onRemoveTag:l,onDeleteTagGlobally:u,allAvailableTags:c,onAddPR:f,onRemovePR:p,onUpdatePR:m})=>{const[g,y]=b.useState(e),[_,x]=b.useState(g.status),[E,A]=b.useState(g.priority),[I,O]=b.useState(g.type);b.useEffect(()=>{y(e),x(e.status),A(e.priority),O(e.type)},[e]);const v=(()=>{const T=fr.getUsers().find(N=>N.id===g.userId);return T?T.name:g.contactUser||"Usuario"})(),S=()=>{window.confirm(`Ests seguro de que quieres eliminar la incidencia "${g.name}"? Esta accin no se puede deshacer.`)&&(s(g.id),r())},C=D=>{D.preventDefault();const T=new FormData(D.currentTarget),N={...g,name:(T.get("name")||"").trim(),title:(T.get("title")||"").trim(),description:(T.get("description")||"").trim(),contactUser:(T.get("contactUser")||"").trim(),prQA2:(T.get("prQA2")||"").trim(),prMain:(T.get("prMain")||"").trim(),creationDate:T.get("creationDate")||g.creationDate,relevante:(T.get("relevante")||"").trim(),realizado:(T.get("realizado")||"").trim(),clasesModificadas:(T.get("clasesModificadas")||"").trim(),priority:E,status:_,type:I,updatedAt:new Date().toISOString()};console.log("Guardando incidencia:",N),t(N)};return d.jsx("div",{className:"incident-detail-container",children:d.jsxs("div",{className:"incident-detail-layout",children:[d.jsx("div",{className:"detail-main-content",children:d.jsxs("div",{className:"incident-detail-card",children:[d.jsxs("div",{className:"incident-header-visual",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d.jsx("button",{className:"btn-back-inline",onClick:r,children:""}),d.jsx("h1",{children:g.name})]}),d.jsx(jte,{incident:g,currentUser:v})]}),d.jsxs("div",{className:"incident-badges",children:[d.jsxs("span",{className:`badge-status status-${g.status}`,children:[g.status==="abierta"&&"",g.status==="en-progreso"&&"",g.status==="puesto-en-test"&&"",g.status==="verificado-en-test"&&"",g.status==="resuelta"&&"",g.status==="cerrada"&&""," ",g.status.replace("-"," ")]}),d.jsxs("span",{className:`badge-priority priority-${g.priority}`,children:[g.priority==="baja"&&"",g.priority==="media"&&"",g.priority==="alta"&&"",g.priority==="crtica"&&""," ",g.priority]}),d.jsxs("span",{className:`badge-type type-${g.type}`,children:[g.type==="correctivo"&&"",g.type==="evolutivo"&&"",g.type==="tarea"&&""," ",g.type]})]})]}),d.jsxs("form",{onSubmit:C,className:"detail-form",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Editar Informacin"}),d.jsxs("div",{className:"visual-field-group",children:[d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"name",children:"Nombre de la Incidencia"}),d.jsx("input",{id:"name",name:"name",type:"text",defaultValue:g.name,placeholder:"MOV-XXXX",required:!0})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"contactUser",children:" Usuario de Contacto"}),d.jsx("input",{id:"contactUser",name:"contactUser",type:"text",defaultValue:g.contactUser||"",placeholder:"Nombre del contacto"})]}),d.jsxs("div",{className:"visual-field",children:[d.jsx("label",{htmlFor:"creationDate",children:" Fecha de Creacin"}),d.jsx("input",{id:"creationDate",name:"creationDate",type:"date",defaultValue:g.creationDate})]})]}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"title",children:" Ttulo"}),d.jsx("input",{id:"title",name:"title",type:"text",defaultValue:g.title||"",placeholder:"Ttulo para envo a PRO"})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"description",children:" Descripcin"}),d.jsx("textarea",{id:"description",name:"description",defaultValue:g.description||"",placeholder:"Descripcin detallada de la incidencia...",rows:4,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"relevante",children:" Relevante"}),d.jsx("textarea",{id:"relevante",name:"relevante",defaultValue:g.relevante||"",placeholder:"Informacin relevante...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"realizado",children:" Realizado"}),d.jsx("textarea",{id:"realizado",name:"realizado",defaultValue:g.realizado||"",placeholder:"Qu se ha realizado...",rows:3,style:{resize:"vertical"}})]})}),d.jsx("div",{className:"visual-field-group",children:d.jsxs("div",{className:"visual-field visual-field-full",children:[d.jsx("label",{htmlFor:"clasesModificadas",children:" Clases Modificadas"}),d.jsx("textarea",{id:"clasesModificadas",name:"clasesModificadas",defaultValue:g.clasesModificadas||"",placeholder:"Clases o archivos modificados...",rows:3,style:{resize:"vertical"}})]})})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h2",{children:" Estado y Clasificacin"}),d.jsxs("div",{className:"chip-selector-container",children:[d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Estado"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="abierta"?"selected":""}`,onClick:()=>x("abierta"),children:" Abierta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="en-progreso"?"selected":""}`,onClick:()=>x("en-progreso"),children:" En Progreso"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="puesto-en-test"?"selected":""}`,onClick:()=>x("puesto-en-test"),children:" En Test"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="verificado-en-test"?"selected":""}`,onClick:()=>x("verificado-en-test"),children:" Verificado"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="resuelta"?"selected":""}`,onClick:()=>x("resuelta"),children:" Resuelta"}),d.jsx("button",{type:"button",className:`chip-option status-chip ${_==="cerrada"?"selected":""}`,onClick:()=>x("cerrada"),children:" Cerrada"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Prioridad"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option priority-chip priority-baja ${E==="baja"?"selected":""}`,onClick:()=>A("baja"),children:" Baja"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-media ${E==="media"?"selected":""}`,onClick:()=>A("media"),children:" Media"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-alta ${E==="alta"?"selected":""}`,onClick:()=>A("alta"),children:" Alta"}),d.jsx("button",{type:"button",className:`chip-option priority-chip priority-crtica ${E==="crtica"?"selected":""}`,onClick:()=>A("crtica"),children:" Crtica"})]})]}),d.jsxs("div",{className:"chip-field",children:[d.jsx("label",{children:"Tipo"}),d.jsxs("div",{className:"chip-options",children:[d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="correctivo"?"selected":""}`,onClick:()=>O("correctivo"),children:" Correctivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="evolutivo"?"selected":""}`,onClick:()=>O("evolutivo"),children:" Evolutivo"}),d.jsx("button",{type:"button",className:`chip-option type-chip ${I==="tarea"?"selected":""}`,onClick:()=>O("tarea"),children:" Tarea"})]})]})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar Cambios"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"}),d.jsx("button",{type:"button",className:"btn-delete-incident",onClick:S,children:" Eliminar Incidencia"})]})]})]})}),d.jsxs("div",{className:"detail-sidebar",children:[d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ite,{incidentId:g.id,incidentName:g.name,prQA2List:g.prQA2List||[],prMainList:g.prMainList||[],ownerName:v,onAddPR:f,onRemovePR:p,onUpdatePR:m})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Pte,{incidentId:g.id,tags:g.tags||[],allAvailableTags:c,onAddTag:o,onRemoveTag:l,onDeleteTagGlobally:u})}),d.jsx("div",{className:"incident-detail-card",children:d.jsx(Ate,{incidentId:g.id,comments:g.comments||[],onAddComment:n,onUpdateComment:i,onDeleteComment:a})})]})]})})},Ote=({activeTab:e,onTabChange:t,openIncidents:r=[],selectedIncidentId:n,onSelectIncident:i,onCloseIncident:a})=>d.jsxs("div",{className:"tabs-container",children:[d.jsx("button",{className:`tab-button ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:" Dashboard"}),d.jsx("button",{className:`tab-button ${e==="all-incidents"?"active":""}`,onClick:()=>t("all-incidents"),children:" Todas las Incidencias"}),d.jsx("button",{className:`tab-button ${e==="new-incident"?"active":""}`,onClick:()=>t("new-incident"),children:" Nueva Incidencia"}),d.jsx("button",{className:`tab-button ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:" Ajustes"}),r.map(s=>d.jsxs("div",{className:`tab-incident ${n===s.id?"active":""}`,onClick:()=>i==null?void 0:i(s.id),children:[d.jsxs("span",{className:"tab-incident-name",children:[" ",s.name]}),d.jsx("button",{className:"tab-incident-close",onClick:o=>{o.stopPropagation(),a==null||a(s.id)},children:""})]},s.id))]});function kte({incidents:e,onResults:t,allAvailableTags:r,initialStatus:n,onClearStatusFilter:i}){const[a,s]=b.useState(""),[o,l]=b.useState(n?[n]:[]),[u,c]=b.useState([]),[f,p]=b.useState([]),[m,g]=b.useState([]),[y,_]=b.useState(""),[x,E]=b.useState("");b.useEffect(()=>{n&&l([n])},[n]),b.useEffect(()=>{let T=[...e];if(a.trim()){const N=a.toLowerCase();T=T.filter(j=>j.name.toLowerCase().includes(N)||j.contactUser.toLowerCase().includes(N)||j.prQA2.toLowerCase().includes(N)||j.prMain.toLowerCase().includes(N)||j.comments&&j.comments.some(Q=>Q.text.toLowerCase().includes(N)||Q.author.toLowerCase().includes(N)))}o.length>0&&(T=T.filter(N=>o.includes(N.status))),u.length>0&&(T=T.filter(N=>u.includes(N.priority))),f.length>0&&(T=T.filter(N=>f.includes(N.type))),m.length>0&&(T=T.filter(N=>m.some(j=>N.tags&&N.tags.includes(j)))),y&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()>=parseInt(y))),x&&(T=T.filter(N=>new Date(N.creationDate).getFullYear()<=parseInt(x))),t(T)},[a,o,u,f,m,y,x,e,t]);const A=()=>{s(""),l([]),c([]),p([]),g([]),_(""),E(""),t(e),i&&i()},I=()=>{l([]),i&&i()},O=T=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[T]||T,k=T=>{l(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},v=T=>{c(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},S=T=>{p(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},C=T=>{g(N=>N.includes(T)?N.filter(j=>j!==T):[...N,T])},D=(a?1:0)+o.length+u.length+f.length+m.length+(y?1:0)+(x?1:0);return d.jsxs("div",{className:"advanced-search",children:[n&&d.jsxs("div",{className:"status-filter-banner",children:[d.jsxs("span",{children:[" Filtrando por estado: ",d.jsx("strong",{children:O(n)})]}),d.jsx("button",{onClick:I,className:"btn-clear-status-filter",children:" Limpiar filtro"})]}),d.jsx("div",{className:"search-header",children:d.jsx("h3",{children:" Bsqueda Avanzada"})}),d.jsxs("div",{className:"search-main",children:[d.jsx("input",{type:"text",placeholder:"Buscar por nombre, contacto, PRs...",value:a,onChange:T=>s(T.target.value),className:"search-input"}),d.jsxs("button",{className:"btn-reset",onClick:A,children:[" Limpiar Filtros",D>0&&d.jsx("span",{className:"filters-badge-inline",children:D})]})]}),d.jsxs("div",{className:"filters-panel",children:[d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Estado"}),d.jsx("div",{className:"filter-chips",children:["abierta","en-progreso","puesto-en-test","verificado-en-test","resuelta","cerrada"].map(T=>d.jsxs("button",{className:`filter-chip ${o.includes(T)?"active":""}`,onClick:()=>k(T),children:[T==="abierta"&&"Abierta",T==="en-progreso"&&"En Progreso",T==="puesto-en-test"&&"Puesto en Test",T==="verificado-en-test"&&"Verificado en Test",T==="resuelta"&&"Resuelta",T==="cerrada"&&"Cerrada"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Prioridad"}),d.jsx("div",{className:"filter-chips",children:["baja","media","alta","crtica"].map(T=>d.jsxs("button",{className:`filter-chip priority-${T} ${u.includes(T)?"active":""}`,onClick:()=>v(T),children:[T==="baja"&&" Baja",T==="media"&&" Media",T==="alta"&&" Alta",T==="crtica"&&" Crtica"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Tipo"}),d.jsx("div",{className:"filter-chips",children:["correctivo","evolutivo","tarea"].map(T=>d.jsxs("button",{className:`filter-chip ${f.includes(T)?"active":""}`,onClick:()=>S(T),children:[T==="correctivo"&&" Correctivo",T==="evolutivo"&&" Evolutivo",T==="tarea"&&" Tarea"]},T))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Rango de Aos"}),d.jsxs("div",{className:"date-filters",children:[d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Desde:"}),d.jsxs("select",{value:y,onChange:T=>_(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]}),d.jsxs("div",{className:"date-input-group",children:[d.jsx("label",{children:"Hasta:"}),d.jsxs("select",{value:x,onChange:T=>E(T.target.value),className:"date-input",children:[d.jsx("option",{value:"",children:"Seleccionar ao"}),Array.from(new Set(e.map(T=>new Date(T.creationDate).getFullYear()))).sort((T,N)=>T-N).map(T=>d.jsx("option",{value:T,children:T},T))]})]})]})]}),r.length>0&&d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:" Etiquetas"}),d.jsx("div",{className:"filter-chips",children:r.map(T=>d.jsx("button",{className:`filter-chip tag-chip ${m.includes(T)?"active":""}`,onClick:()=>C(T),children:T},T))})]})]})]})}const Rte=({incidents:e=[],onEdit:t,onDelete:r,onViewDetail:n,onNewIncident:i,selectedStatus:a=null,onClearFilter:s})=>{const[o,l]=b.useState(e||[]),[u,c]=b.useState(""),[f,p]=b.useState("asc"),[m,g]=b.useState({show:!1,incident:null});b.useEffect(()=>{l(e||[])},[e]);const y=v=>{const S=u===v&&f==="asc"?"desc":"asc";c(v),p(S);const C=[...o].sort((D,T)=>{let N=D[v],j=T[v];if((v==="creationDate"||v==="createdAt"||v==="updatedAt")&&(N=new Date(N).getTime(),j=new Date(j).getTime()),typeof N=="string"&&typeof j=="string")return S==="asc"?N.localeCompare(j):j.localeCompare(N);if(N!==void 0&&j!==void 0){if(N<j)return S==="asc"?-1:1;if(N>j)return S==="asc"?1:-1}return 0});l(C)},_=v=>u!==v?"":f==="asc"?"":"",x=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),E=v=>({abierta:"Abierta","en-progreso":"En Progreso","puesto-en-test":"Puesto en Test","verificado-en-test":"Verificado en Test",resuelta:"Resuelta",cerrada:"Cerrada"})[v]||v,A=v=>({baja:"Baja",media:"Media",alta:"Alta",crtica:"Crtica"})[v]||v,I=v=>({correctivo:"Correctivo",evolutivo:"Evolutivo",consultivo:"Consultivo",tarea:"Tarea"})[v]||v,O=v=>!v||!Array.isArray(v)||v.length===0?"":v.filter(S=>S&&S.link).map(S=>{const C=S.link.split("/");return C[C.length-1]||""}).filter(S=>S).join(", ")||"",k=()=>{const v=j=>{if(j==null)return"";const Q=String(j);return Q.includes(";")||Q.includes('"')||Q.includes(`
`)||Q.includes("\r")?`"${Q.replace(/"/g,'""')}"`:Q},C=[["ID","Nombre","Estado","Prioridad","Tipo","Contacto","PR QA2","PR MAIN","Fecha Creacin","Creado","Actualizado"].map(j=>v(j)).join(";"),...o.map(j=>[v(j.id),v(j.name),v(E(j.status)),v(A(j.priority)),v(I(j.type)),v(j.contactUser||""),v(j.prQA2||""),v(j.prMain||""),v(j.creationDate),v(x(j.createdAt)),v(x(j.updatedAt))].join(";"))].join(`
`),D=new Blob(["\uFEFF"+C],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),N=URL.createObjectURL(D);T.setAttribute("href",N),T.setAttribute("download",`incidencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return e.length===0?d.jsx("div",{className:"all-incidents-empty",children:d.jsx("p",{children:"No hay incidencias para mostrar"})}):d.jsxs("div",{className:"all-incidents-table-container",children:[d.jsx("div",{className:"search-sidebar",children:d.jsx(kte,{incidents:e,onResults:l,allAvailableTags:ge.getAllTags(),initialStatus:a,onClearStatusFilter:s})}),d.jsxs("div",{className:"table-content",children:[d.jsxs("div",{className:"table-actions",children:[d.jsxs("p",{className:"filter-results",children:["Mostrando ",o.length," de ",e.length," incidencias"]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[i&&d.jsx("button",{className:"btn-new-incident",onClick:i,children:" Nueva Incidencia"}),d.jsx("button",{className:"btn-export-excel",onClick:k,children:" Exportar a Excel"})]})]}),d.jsx("div",{className:"table-wrapper",children:d.jsxs("table",{className:"all-incidents-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>y("name"),className:"sortable-header col-name",children:["Nombre ",_("name")]}),d.jsxs("th",{onClick:()=>y("status"),className:"sortable-header col-status",children:["Estado ",_("status")]}),d.jsxs("th",{onClick:()=>y("priority"),className:"sortable-header col-priority",children:["Prioridad ",_("priority")]}),d.jsxs("th",{onClick:()=>y("type"),className:"sortable-header col-type",children:["Tipo ",_("type")]}),d.jsxs("th",{onClick:()=>y("contactUser"),className:"sortable-header col-contact",children:["Contacto ",_("contactUser")]}),d.jsxs("th",{onClick:()=>y("prQA2"),className:"sortable-header col-pr",children:["PR QA2 ",_("prQA2")]}),d.jsxs("th",{onClick:()=>y("prMain"),className:"sortable-header col-pr",children:["PR MAIN ",_("prMain")]}),d.jsx("th",{className:"col-actions",children:"Acciones"})]})}),d.jsx("tbody",{children:o.map(v=>d.jsxs("tr",{className:`row-priority-${v.priority} incident-row-clickable`,onClick:()=>n(v),onMouseDown:S=>{if(S.button===1){S.preventDefault();const C=`${window.location.origin}${window.location.pathname}?incident=${v.id}`;window.open(C,"_blank")}},children:[d.jsx("td",{className:"name-cell",title:v.name,children:v.name}),d.jsx("td",{title:E(v.status),children:d.jsx("span",{className:`status-badge status-${v.status}`,children:E(v.status)})}),d.jsx("td",{title:A(v.priority),children:d.jsx("span",{className:`priority-badge priority-${v.priority}`,children:A(v.priority)})}),d.jsx("td",{title:I(v.type),children:d.jsx("span",{className:`type-badge type-${v.type}`,children:I(v.type)})}),d.jsx("td",{className:"contact-cell",title:v.contactUser||"",children:v.contactUser||""}),d.jsx("td",{className:"pr-cell",title:O(v.prQA2List),children:O(v.prQA2List)}),d.jsx("td",{className:"pr-cell",title:O(v.prMainList),children:O(v.prMainList)}),d.jsx("td",{className:"actions-cell",onClick:S=>S.stopPropagation(),children:d.jsx("button",{className:"btn-table-delete",onClick:()=>g({show:!0,incident:v}),title:"Eliminar incidencia",children:""})})]},v.id))})]})})]}),m.show&&m.incident&&d.jsx("div",{className:"delete-modal-overlay",onClick:()=>g({show:!1,incident:null}),children:d.jsxs("div",{className:"delete-modal",onClick:v=>v.stopPropagation(),children:[d.jsx("div",{className:"delete-modal-header",children:d.jsx("h3",{children:" Confirmar Eliminacin"})}),d.jsxs("div",{className:"delete-modal-body",children:[d.jsx("p",{children:"Ests seguro de que quieres eliminar la incidencia?"}),d.jsx("p",{className:"delete-modal-incident-name",children:m.incident.name}),d.jsx("p",{className:"delete-modal-warning",children:"Esta accin no se puede deshacer."})]}),d.jsxs("div",{className:"delete-modal-actions",children:[d.jsx("button",{className:"btn-cancel-delete",onClick:()=>g({show:!1,incident:null}),children:"Cancelar"}),d.jsx("button",{className:"btn-confirm-delete",onClick:()=>{r(m.incident.id),g({show:!1,incident:null})},children:" Eliminar"})]})]})})]})};function Dte({rules:e=[],onAddRule:t,onUpdateRule:r,onDeleteRule:n}){const[i,a]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),c=g=>{g.preventDefault();const y={name:l.name,enabled:!0,trigger:l.trigger,conditions:[{field:l.conditionField,operator:l.conditionOperator,value:l.conditionValue}],actions:[{type:l.actionType,value:l.actionValue}]};s?(r(s.id,y),o(null)):t(y),f()},f=()=>{u({name:"",trigger:"on-create",conditionField:"type",conditionOperator:"equals",conditionValue:"",actionType:"set-priority",actionValue:""}),a(!1)},p=g=>{var y,_,x,E,A;o(g),u({name:g.name,trigger:g.trigger,conditionField:((y=g.conditions[0])==null?void 0:y.field)||"type",conditionOperator:((_=g.conditions[0])==null?void 0:_.operator)||"equals",conditionValue:((x=g.conditions[0])==null?void 0:x.value.toString())||"",actionType:((E=g.actions[0])==null?void 0:E.type)||"set-priority",actionValue:((A=g.actions[0])==null?void 0:A.value)||""}),a(!0)},m=g=>({"on-create":"Al crear incidencia","on-status-change":"Al cambiar estado","on-priority-change":"Al cambiar prioridad","on-time-threshold":"Por tiempo transcurrido"})[g];return d.jsxs("div",{className:"automation-rules-container",children:[d.jsxs("div",{className:"rules-header",children:[d.jsxs("div",{className:"header-title",children:[d.jsx("h2",{children:" Reglas de Automatizacin"}),d.jsx("p",{className:"header-subtitle",children:"Automatiza acciones basadas en condiciones"})]}),d.jsx("button",{className:"btn-add-rule",onClick:()=>a(!i),children:i?" Cancelar":"+ Nueva Regla"})]}),i&&d.jsx("form",{className:"rule-form",onSubmit:c,children:d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:s?"Editar Regla":"Nueva Regla"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre de la regla"}),d.jsx("input",{type:"text",value:l.name,onChange:g=>u({...l,name:g.target.value}),placeholder:"Ej: Escalar prioridad de bugs crticos",required:!0})]}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Disparador"}),d.jsxs("select",{value:l.trigger,onChange:g=>u({...l,trigger:g.target.value}),children:[d.jsx("option",{value:"on-create",children:"Al crear incidencia"}),d.jsx("option",{value:"on-status-change",children:"Al cambiar estado"}),d.jsx("option",{value:"on-priority-change",children:"Al cambiar prioridad"}),d.jsx("option",{value:"on-time-threshold",children:"Por tiempo transcurrido"})]})]})}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"SI"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Campo"}),d.jsxs("select",{value:l.conditionField,onChange:g=>u({...l,conditionField:g.target.value}),children:[d.jsx("option",{value:"type",children:"Tipo"}),d.jsx("option",{value:"priority",children:"Prioridad"}),d.jsx("option",{value:"status",children:"Estado"}),d.jsx("option",{value:"days-open",children:"Das abierta"}),d.jsx("option",{value:"has-tag",children:"Tiene etiqueta"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Operador"}),d.jsxs("select",{value:l.conditionOperator,onChange:g=>u({...l,conditionOperator:g.target.value}),children:[d.jsx("option",{value:"equals",children:"Es igual a"}),d.jsx("option",{value:"not-equals",children:"Es diferente de"}),l.conditionField==="days-open"&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"greater-than",children:"Mayor que"}),d.jsx("option",{value:"less-than",children:"Menor que"})]}),l.conditionField==="has-tag"&&d.jsx("option",{value:"contains",children:"Contiene"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.conditionField==="type"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"tarea",children:"Tarea"})]}):l.conditionField==="priority"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.conditionField==="status"?d.jsxs("select",{value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):l.conditionField==="days-open"?d.jsx("input",{type:"number",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Das",min:"0",required:!0}):d.jsx("input",{type:"text",value:l.conditionValue,onChange:g=>u({...l,conditionValue:g.target.value}),placeholder:"Valor",required:!0})]})]}),d.jsx("div",{className:"form-divider",children:d.jsx("span",{children:"ENTONCES"})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Accin"}),d.jsxs("select",{value:l.actionType,onChange:g=>u({...l,actionType:g.target.value}),children:[d.jsx("option",{value:"set-priority",children:"Cambiar prioridad"}),d.jsx("option",{value:"set-status",children:"Cambiar estado"}),d.jsx("option",{value:"add-tag",children:"Aadir etiqueta"}),d.jsx("option",{value:"assign-to",children:"Asignar a"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Valor"}),l.actionType==="set-priority"?d.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]}):l.actionType==="set-status"?d.jsxs("select",{value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar..."}),d.jsx("option",{value:"abierta",children:"Abierta"}),d.jsx("option",{value:"en-progreso",children:"En Progreso"}),d.jsx("option",{value:"puesto-en-test",children:"Puesto en Test"}),d.jsx("option",{value:"verificado-en-test",children:"Verificado en Test"}),d.jsx("option",{value:"resuelta",children:"Resuelta"}),d.jsx("option",{value:"cerrada",children:"Cerrada"})]}):d.jsx("input",{type:"text",value:l.actionValue,onChange:g=>u({...l,actionValue:g.target.value}),placeholder:l.actionType==="add-tag"?"Nombre de etiqueta":"Usuario asignado",required:!0})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"submit",className:"btn-save-rule",children:s?" Actualizar Regla":" Crear Regla"}),d.jsx("button",{type:"button",className:"btn-cancel-rule",onClick:f,children:"Cancelar"})]})]})}),d.jsx("div",{className:"rules-list",children:e.length===0?d.jsxs("div",{className:"no-rules",children:[d.jsx("p",{children:" No hay reglas de automatizacin configuradas"}),d.jsx("p",{className:"no-rules-hint",children:"Crea tu primera regla para automatizar acciones en tus incidencias"})]}):e.map(g=>d.jsxs("div",{className:`rule-card ${g.enabled?"rule-enabled":"rule-disabled"}`,children:[d.jsxs("div",{className:"rule-header-card",children:[d.jsxs("div",{className:"rule-info",children:[d.jsx("h3",{children:g.name}),d.jsx("span",{className:"rule-trigger",children:m(g.trigger)})]}),d.jsxs("div",{className:"rule-actions",children:[d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:g.enabled,onChange:y=>r(g.id,{enabled:y.target.checked})}),d.jsx("span",{className:"toggle-slider"})]}),d.jsx("button",{className:"btn-edit-rule",onClick:()=>p(g),title:"Editar regla",children:""}),d.jsx("button",{className:"btn-delete-rule",onClick:()=>{window.confirm(`Eliminar la regla "${g.name}"?`)&&n(g.id)},title:"Eliminar regla",children:""})]})]}),d.jsxs("div",{className:"rule-logic",children:[d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"SI:"}),d.jsx("div",{className:"logic-content",children:(g.conditions||[]).map((y,_)=>d.jsxs("span",{className:"condition-badge",children:[y.field," ",y.operator," ",y.value]},_))})]}),d.jsx("div",{className:"logic-arrow",children:""}),d.jsxs("div",{className:"logic-section",children:[d.jsx("span",{className:"logic-label",children:"ENTONCES:"}),d.jsx("div",{className:"logic-content",children:(g.actions||[]).map((y,_)=>d.jsxs("span",{className:"action-badge",children:[y.type,": ",y.value]},_))})]})]})]},g.id))})]})}function Mte({currentUser:e}){const[t,r]=b.useState([]),[n,i]=b.useState([]),[a,s]=b.useState(new Map),[o,l]=b.useState(!1),[u,c]=b.useState(null),[f,p]=b.useState({username:"",password:"",name:"",avatar:"",roleId:""}),[m,g]=b.useState(!1),[y,_]=b.useState(null);b.useEffect(()=>{const v=u5(S=>{console.log("Usuarios actualizados en tiempo real:",S),r(S)});return()=>{v()}},[]),b.useEffect(()=>{const v=IN(S=>{i(S)});return()=>{v()}},[]),b.useEffect(()=>{const v=async()=>{const S=new Map;for(const C of t)if(C.roleId){const D=await cp(C.roleId);D&&S.set(C.id,D)}s(S)};t.length>0&&v()},[t]);const x=(v,S)=>{_({type:v,message:S}),setTimeout(()=>_(null),3e3)},E=()=>{p({username:"",password:"",name:"",avatar:"",roleId:""}),l(!1),c(null),g(!1)},A=async v=>{if(v.preventDefault(),!f.username.trim()||!f.password.trim()||!f.name.trim()){x("error","Usuario, contrasea y nombre son obligatorios");return}if(!f.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{if(await kf(f.username.toLowerCase())){x("error","Ya existe un usuario con ese nombre");return}await Uw({username:f.username,password:f.password,name:f.name,avatar:f.avatar,roleId:f.roleId,createdAt:new Date().toISOString()}),x("success",`Usuario "${f.username}" creado correctamente`),E()}catch(S){console.error("Error creating user:",S),x("error",S instanceof Error?S.message:"Error al crear usuario")}},I=async v=>{if(v.preventDefault(),!!u){if(!f.name.trim()){x("error","El nombre es obligatorio");return}if(!f.roleId){x("error","Debes seleccionar un rol para el usuario");return}try{const S={name:f.name,avatar:f.avatar,roleId:f.roleId};f.password.trim()&&(S.password=f.password),await Bw(u.id,S),x("success",`Usuario "${u.username}" actualizado correctamente`),E()}catch(S){console.error("Error updating user:",S),x("error",S instanceof Error?S.message:"Error al actualizar usuario")}}},O=v=>{c(v),p({username:v.username,password:"",name:v.name,avatar:v.avatar||"",roleId:v.roleId||""}),l(!0)},k=async v=>{if(v.id===e.id){x("error","No puedes eliminar tu propio usuario");return}if(confirm(`Ests seguro de eliminar al usuario "${v.username}"?`))try{await e5(v.id),x("success",`Usuario "${v.username}" eliminado correctamente`)}catch(S){console.error("Error deleting user:",S),x("error",S instanceof Error?S.message:"Error al eliminar usuario")}};return d.jsxs("div",{className:"user-management",children:[d.jsxs("div",{className:"user-management-header",children:[d.jsx("h3",{children:" Gestin de Usuarios"}),!o&&d.jsx("button",{className:"btn-create-user",onClick:()=>l(!0),children:" Crear Usuario"})]}),y&&d.jsxs("div",{className:`user-notification user-notification-${y.type}`,children:[y.type==="success"?"":""," ",y.message]}),o&&d.jsx("div",{className:"user-form-container",children:d.jsxs("form",{className:"user-form",onSubmit:u?I:A,children:[d.jsx("h4",{children:u?" Editar Usuario":" Nuevo Usuario"}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"username",children:"Usuario *"}),d.jsx("input",{id:"username",type:"text",value:f.username,onChange:v=>p({...f,username:v.target.value}),placeholder:"Nombre de usuario",disabled:!!u,required:!0}),u&&d.jsx("small",{className:"field-hint",children:"El usuario no se puede cambiar"})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),d.jsx("input",{id:"name",type:"text",value:f.name,onChange:v=>p({...f,name:v.target.value}),placeholder:"Nombre completo del usuario",required:!0})]})]}),d.jsxs("div",{className:"user-form-row",children:[d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"roleId",children:"Rol *"}),d.jsxs("select",{id:"roleId",value:f.roleId,onChange:v=>p({...f,roleId:v.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Seleccionar rol..."}),n.map(v=>d.jsx("option",{value:v.id,children:v.name},v.id))]})]}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(v=>d.jsx("button",{type:"button",className:`avatar-option ${f.avatar===v?"selected":""}`,onClick:()=>p({...f,avatar:v}),children:v},v))})]})]}),d.jsx("div",{className:"user-form-group",children:d.jsx("div",{className:"avatar-selector",children:["","","","","","","","","","","",""].map(v=>d.jsx("button",{type:"button",className:`avatar-option ${f.avatar===v?"selected":""}`,onClick:()=>p({...f,avatar:v}),children:v},v))})}),d.jsxs("div",{className:"user-form-group",children:[d.jsx("label",{htmlFor:"password",children:u?"Nueva Contrasea (dejar vaco para no cambiar)":"Contrasea *"}),d.jsxs("div",{className:"password-input-wrapper",children:[d.jsx("input",{id:"password",type:m?"text":"password",value:f.password,onChange:v=>p({...f,password:v.target.value}),placeholder:u?"Nueva contrasea (opcional)":"Contrasea",required:!u}),d.jsxs("label",{className:"show-password-toggle",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:v=>g(v.target.checked)}),d.jsx("span",{children:"Mostrar contrasea"})]})]})]}),d.jsxs("div",{className:"user-form-actions",children:[d.jsx("button",{type:"submit",className:"btn-submit",children:u?" Guardar Cambios":" Crear Usuario"}),d.jsx("button",{type:"button",className:"btn-cancel",onClick:E,children:" Cancelar"})]})]})}),d.jsxs("div",{className:"users-list",children:[d.jsxs("h4",{children:[" Usuarios Registrados (",t.length,")"]}),d.jsx("div",{className:"users-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Avatar"}),d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Fecha de Creacin"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(v=>{var S;return d.jsxs("tr",{className:v.id===e.id?"current-user":"",children:[d.jsx("td",{children:d.jsx("span",{className:"user-avatar",children:v.avatar||""})}),d.jsx("td",{children:d.jsxs("span",{className:"user-username",children:[v.username,v.id===e.id&&d.jsx("span",{className:"badge-current",children:" (T)"})]})}),d.jsx("td",{children:v.name}),d.jsx("td",{children:d.jsx("span",{className:"role-badge",children:((S=a.get(v.id))==null?void 0:S.name)||d.jsx("span",{className:"text-muted",children:"Sin rol"})})}),d.jsx("td",{children:new Date(v.createdAt).toLocaleDateString("es-ES")}),d.jsx("td",{children:d.jsxs("div",{className:"user-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>O(v),title:"Editar usuario",children:""}),d.jsx("button",{className:"btn-delete",onClick:()=>k(v),disabled:v.id===e.id,title:v.id===e.id?"No puedes eliminar tu propio usuario":"Eliminar usuario",children:""})]})})]},v.id)})})]})})]})]})}const a0=[{id:"purple-gradient",name:"Prpura Degradado",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"blue-ocean",name:"Ocano Azul",gradient:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)",preview:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"sunset-orange",name:"Atardecer Naranja",gradient:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)",preview:"linear-gradient(135deg, #f83600 0%, #f9d423 100%)"},{id:"forest-green",name:"Bosque Verde",gradient:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",preview:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)"},{id:"pink-paradise",name:"Paraso Rosa",gradient:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)",preview:"linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)"},{id:"midnight-blue",name:"Azul Medianoche",gradient:"linear-gradient(135deg, #232526 0%, #414345 100%)",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"coral-reef",name:"Arrecife Coral",gradient:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",preview:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)"},{id:"mint-fresh",name:"Menta Fresca",gradient:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)",preview:"linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%)"},{id:"royal-purple",name:"Prpura Real",gradient:"linear-gradient(135deg, #360033 0%, #0b8793 100%)",preview:"linear-gradient(135deg, #360033 0%, #0b8793 100%)"},{id:"warm-flame",name:"Llama Clida",gradient:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ff99ac 100%)",preview:"linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%)"}];function Lte({onThemeChange:e,currentTheme:t,currentUser:r}){const[n,i]=b.useState(t),a=async s=>{i(s),e(s);try{await t5(r.id,{...r.preferences,theme:s})}catch(o){console.error("Error saving theme preference:",o)}};return d.jsxs("div",{className:"appearance-settings",children:[d.jsx("h3",{children:" Apariencia"}),d.jsx("p",{className:"appearance-description",children:"Personaliza el color de fondo de la aplicacin segn tus preferencias"}),d.jsx("div",{className:"theme-grid",children:a0.map(s=>d.jsxs("div",{className:`theme-card ${n===s.id?"active":""}`,onClick:()=>a(s.id),children:[d.jsx("div",{className:"theme-preview",style:{background:s.preview},children:n===s.id&&d.jsx("div",{className:"theme-check",children:""})}),d.jsx("div",{className:"theme-name",children:s.name})]},s.id))}),n!==t&&d.jsx("div",{className:"theme-info",children:d.jsx("p",{children:" Tema aplicado correctamente"})})]})}const js={notificationDuration:4e3,autoSaveInterval:3e4,incidentsPerPage:10,dateFormat:"dd/mm/yyyy",defaultIncidentType:"correctivo",showWelcomeMessage:!0,compactView:!1,enableSounds:!1,defaultPriority:"media",confirmBeforeDelete:!0,autoRefresh:!1,autoRefreshInterval:6e4},$g="app_general_settings";function Vte({onSettingsChange:e}){const[t,r]=b.useState(()=>{try{const c=localStorage.getItem($g);return c?{...js,...JSON.parse(c)}:js}catch(c){return console.error("Error loading settings:",c),js}}),[n,i]=b.useState(null),a=(c,f)=>{const p={...t,[c]:f};r(p),localStorage.setItem($g,JSON.stringify(p)),i(" Configuracin guardada"),setTimeout(()=>i(null),2e3),e&&e()},s=()=>{confirm("Ests seguro de que quieres restaurar la configuracin por defecto?")&&(r(js),localStorage.setItem($g,JSON.stringify(js)),i(" Configuracin restaurada"),setTimeout(()=>i(null),2e3),e&&e())},o=async()=>{try{const c=await SN(),f=await up(),p=await Ml(),m=await PN(),g={incidents:c,users:f,automationRules:p,settings:m||t,exportDate:new Date().toISOString()},y=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),_=URL.createObjectURL(y),x=document.createElement("a");x.href=_,x.download=`backup-incidencias-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(_),i(" Datos exportados correctamente"),setTimeout(()=>i(null),2e3)}catch(c){console.error("Export error:",c),i(" Error al exportar datos"),setTimeout(()=>i(null),2e3)}},l=c=>{var m;const f=(m=c.target.files)==null?void 0:m[0];if(!f)return;const p=new FileReader;p.onload=async g=>{var y;try{const _=JSON.parse((y=g.target)==null?void 0:y.result);if(confirm("Importar datos? Esto sobrescribir la informacin actual.")){if(Array.isArray(_)){if(!_.every(E=>E.id&&E.name&&E.title&&E.status&&E.priority&&E.type)){i(" Error: El archivo contiene incidencias con campos faltantes"),setTimeout(()=>i(null),3e3);return}for(const E of _)await ny(E)}else{if(_.incidents)for(const x of _.incidents)await ny(x);if(_.users)for(const x of _.users)await Uw(x);if(_.automationRules)for(const x of _.automationRules)await AN(x);_.settings&&(await TN(_.settings),r({...js,..._.settings}))}i(" Datos importados. Recargando..."),setTimeout(()=>window.location.reload(),1500)}}catch(_){console.error("Import error:",_),i(" Error al importar: archivo invlido"),setTimeout(()=>i(null),3e3)}},p.readAsText(f)},u=()=>{confirm(" ELIMINAR TODOS LOS DATOS? Esta accin no se puede deshacer.")&&confirm("Ests completamente seguro? Se perdern todas las incidencias, usuarios y configuraciones.")&&(localStorage.clear(),window.location.reload())};return d.jsxs("div",{className:"general-settings",children:[n&&d.jsx("div",{className:"settings-notification",children:n}),d.jsxs("div",{className:"settings-header",children:[d.jsx("h2",{children:" Configuracin General"}),d.jsx("p",{className:"settings-description",children:"Ajusta el comportamiento de la aplicacin"})]}),d.jsxs("div",{className:"settings-sections",children:[d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Interfaz"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Duracin de notificaciones"}),d.jsx("div",{className:"setting-description",children:"Tiempo en segundos que se muestran las notificaciones"})]}),d.jsxs("select",{value:t.notificationDuration,onChange:c=>a("notificationDuration",parseInt(c.target.value)),children:[d.jsx("option",{value:"2000",children:"2 segundos"}),d.jsx("option",{value:"3000",children:"3 segundos"}),d.jsx("option",{value:"4000",children:"4 segundos"}),d.jsx("option",{value:"5000",children:"5 segundos"}),d.jsx("option",{value:"7000",children:"7 segundos"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Incidencias por pgina"}),d.jsx("div",{className:"setting-description",children:"Nmero de incidencias a mostrar en las tablas"})]}),d.jsxs("select",{value:t.incidentsPerPage,onChange:c=>a("incidentsPerPage",parseInt(c.target.value)),children:[d.jsx("option",{value:"5",children:"5"}),d.jsx("option",{value:"10",children:"10"}),d.jsx("option",{value:"20",children:"20"}),d.jsx("option",{value:"50",children:"50"}),d.jsx("option",{value:"100",children:"100"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Vista compacta"}),d.jsx("div",{className:"setting-description",children:"Reduce el espaciado entre elementos"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.compactView,onChange:c=>a("compactView",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("label",{children:[d.jsx("span",{className:"setting-label",children:"Mostrar mensaje de bienvenida"}),d.jsx("span",{className:"setting-description",children:"Muestra un saludo al iniciar sesin"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.showWelcomeMessage,onChange:c=>a("showWelcomeMessage",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Habilitar sonidos"}),d.jsx("div",{className:"setting-description",children:"Reproduce sonidos para notificaciones"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.enableSounds,onChange:c=>a("enableSounds",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Valores por Defecto"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Formato de fecha"}),d.jsx("div",{className:"setting-description",children:"Formato para mostrar fechas"})]}),d.jsxs("select",{value:t.dateFormat,onChange:c=>a("dateFormat",c.target.value),children:[d.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),d.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),d.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Tipo de incidencia predeterminado"}),d.jsx("div",{className:"setting-description",children:"Tipo seleccionado al crear nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultIncidentType,onChange:c=>a("defaultIncidentType",c.target.value),children:[d.jsx("option",{value:"correctivo",children:"Correctivo"}),d.jsx("option",{value:"evolutivo",children:"Evolutivo"}),d.jsx("option",{value:"consultivo",children:"Consultivo"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Prioridad predeterminada"}),d.jsx("div",{className:"setting-description",children:"Prioridad inicial para nuevas incidencias"})]}),d.jsxs("select",{value:t.defaultPriority,onChange:c=>a("defaultPriority",c.target.value),children:[d.jsx("option",{value:"baja",children:"Baja"}),d.jsx("option",{value:"media",children:"Media"}),d.jsx("option",{value:"alta",children:"Alta"}),d.jsx("option",{value:"crtica",children:"Crtica"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Comportamiento"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Autoguardado"}),d.jsx("div",{className:"setting-description",children:"Intervalo de autoguardado en segundos"})]}),d.jsxs("select",{value:t.autoSaveInterval,onChange:c=>a("autoSaveInterval",parseInt(c.target.value)),children:[d.jsx("option",{value:"15000",children:"15 segundos"}),d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"0",children:"Desactivado"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Confirmar antes de eliminar"}),d.jsx("div",{className:"setting-description",children:"Pide confirmacin al eliminar incidencias"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.confirmBeforeDelete,onChange:c=>a("confirmBeforeDelete",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Auto-actualizacin"}),d.jsx("div",{className:"setting-description",children:"Actualiza datos automticamente"})]}),d.jsxs("label",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",checked:t.autoRefresh,onChange:c=>a("autoRefresh",c.target.checked)}),d.jsx("span",{className:"toggle-slider"})]})]}),t.autoRefresh&&d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Intervalo de actualizacin"}),d.jsx("div",{className:"setting-description",children:"Frecuencia de actualizacin automtica"})]}),d.jsxs("select",{value:t.autoRefreshInterval,onChange:c=>a("autoRefreshInterval",parseInt(c.target.value)),children:[d.jsx("option",{value:"30000",children:"30 segundos"}),d.jsx("option",{value:"60000",children:"1 minuto"}),d.jsx("option",{value:"120000",children:"2 minutos"}),d.jsx("option",{value:"300000",children:"5 minutos"})]})]})]}),d.jsxs("section",{className:"settings-section",children:[d.jsx("h3",{children:" Gestin de Datos"}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Exportar datos"}),d.jsx("div",{className:"setting-description",children:"Descarga una copia de seguridad completa"})]}),d.jsx("button",{className:"btn-export",onClick:o,children:" Exportar Todo"})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Importar datos"}),d.jsx("div",{className:"setting-description",children:"Restaura datos desde un archivo de respaldo"})]}),d.jsxs("label",{className:"btn-import",children:[" Importar",d.jsx("input",{type:"file",accept:".json",onChange:l,style:{display:"none"}})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:"Restaurar configuracin"}),d.jsx("div",{className:"setting-description",children:"Vuelve a los valores predeterminados"})]}),d.jsx("button",{className:"btn-reset",onClick:s,children:" Restaurar"})]}),d.jsxs("div",{className:"setting-item danger-zone",children:[d.jsxs("div",{children:[d.jsx("div",{className:"setting-label",children:" Zona de peligro"}),d.jsx("div",{className:"setting-description",children:"Elimina todos los datos permanentemente"})]}),d.jsx("button",{className:"btn-danger",onClick:u,children:" Borrar Todo"})]})]})]})]})}function Fte({onLogin:e}){const[t,r]=b.useState(""),[n,i]=b.useState(""),[a,s]=b.useState(!1),[o,l]=b.useState("");b.useEffect(()=>{const c=localStorage.getItem("saved_username"),f=localStorage.getItem("saved_password");c&&f&&(r(c),i(f),s(!0))},[]);const u=async c=>{if(c.preventDefault(),l(""),!t.trim()||!n.trim()){l("Por favor completa todos los campos");return}try{const f=await kf(t.toLowerCase());f&&f.password===n?(a?(localStorage.setItem("saved_username",t),localStorage.setItem("saved_password",n)):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password")),localStorage.setItem("current_user",JSON.stringify(f)),e(f)):l("Usuario o contrasea incorrectos")}catch(f){console.error("Error durante login:",f),l("Error al iniciar sesin. Intenta nuevamente.")}};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx(X2,{}),d.jsx("h1",{children:"Sistema de Incidencias"}),d.jsx("p",{children:"Inicia sesin para continuar"})]}),d.jsxs("form",{className:"login-form",onSubmit:u,children:[o&&d.jsxs("div",{className:"login-error",children:[" ",o]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"username",children:"Usuario"}),d.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Ingresa tu usuario",autoFocus:!0})]}),d.jsxs("div",{className:"login-field",children:[d.jsx("label",{htmlFor:"password",children:"Contrasea"}),d.jsx("input",{id:"password",type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Ingresa tu contrasea"})]}),d.jsx("div",{className:"login-remember",children:d.jsxs("label",{className:"remember-checkbox",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:c=>s(c.target.checked)}),d.jsx("span",{children:"Guardar credenciales"})]})}),d.jsx("button",{type:"submit",className:"btn-login",children:"Iniciar Sesin"})]})]})})}function $te({currentUser:e,onUpdate:t}){const[r,n]=b.useState({name:e.name,password:"",confirmPassword:"",avatar:e.avatar||""}),[i,a]=b.useState(null),[s,o]=b.useState(null),[l,u]=b.useState(!1);b.useEffect(()=>{(async()=>{if(e.roleId){const g=await cp(e.roleId);a(g)}})()},[e.roleId]);const c=(m,g)=>{o({type:m,message:g}),setTimeout(()=>o(null),3e3)},f=async m=>{if(m.preventDefault(),!r.name.trim()){c("error","El nombre es obligatorio");return}if(r.password&&r.password!==r.confirmPassword){c("error","Las contraseas no coinciden");return}try{const g={name:r.name,avatar:r.avatar};r.password&&(g.password=r.password),await Bw(e.id,g),c("success","Perfil actualizado correctamente"),t(),n(y=>({...y,password:"",confirmPassword:""}))}catch(g){console.error("Error updating profile:",g),c("error","Error al actualizar el perfil")}},p=["","","","","","","","","","","",""];return d.jsxs("div",{className:"user-profile",children:[d.jsxs("div",{className:"profile-header",children:[d.jsx("h2",{children:" Mi Perfil"}),d.jsx("p",{className:"profile-description",children:"Administra tu informacin personal"})]}),s&&d.jsx("div",{className:`profile-notification profile-notification-${s.type}`,children:s.message}),d.jsxs("div",{className:"profile-content",children:[d.jsxs("div",{className:"profile-info-card",children:[d.jsx("h3",{children:"Informacin de la cuenta"}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Usuario:"}),d.jsx("span",{className:"info-value",children:e.username})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Rol:"}),d.jsx("span",{className:"info-value",children:(i==null?void 0:i.name)||"Sin rol"})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"info-label",children:"Fecha de creacin:"}),d.jsx("span",{className:"info-value",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),d.jsxs("form",{className:"profile-form",onSubmit:f,children:[d.jsx("h3",{children:"Editar informacin"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"avatar",children:"Avatar"}),d.jsx("div",{className:"avatar-selector",children:p.map(m=>d.jsx("button",{type:"button",className:`avatar-option ${r.avatar===m?"selected":""}`,onClick:()=>n({...r,avatar:m}),children:m},m))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre completo *"}),d.jsx("input",{id:"name",type:"text",value:r.name,onChange:m=>n({...r,name:m.target.value}),required:!0})]}),d.jsx("div",{className:"form-divider",children:d.jsx("h4",{children:"Cambiar contrasea (opcional)"})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Nueva contrasea"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:l?"text":"password",value:r.password,onChange:m=>n({...r,password:m.target.value}),placeholder:"Dejar vaco para no cambiar"}),d.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!l),children:l?"":""})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),d.jsx("input",{id:"confirmPassword",type:l?"text":"password",value:r.confirmPassword,onChange:m=>n({...r,confirmPassword:m.target.value}),placeholder:"Confirmar nueva contrasea"})]}),d.jsx("div",{className:"form-actions",children:d.jsx("button",{type:"submit",className:"btn-save",children:" Guardar cambios"})})]}),i&&d.jsxs("div",{className:"profile-permissions-card",children:[d.jsx("h3",{children:" Permisos de tu rol"}),d.jsxs("div",{className:"permissions-grid",children:[d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.incidents.create?"allowed":"denied",children:[i.permissions.incidents.create?"":""," Crear"]}),d.jsxs("li",{className:i.permissions.incidents.update?"allowed":"denied",children:[i.permissions.incidents.update?"":""," Editar"]}),d.jsxs("li",{className:i.permissions.incidents.delete?"allowed":"denied",children:[i.permissions.incidents.delete?"":""," Eliminar"]}),d.jsxs("li",{className:i.permissions.incidents.viewAll?"allowed":"denied",children:[i.permissions.incidents.viewAll?"":""," Ver todas"]})]})]}),d.jsxs("div",{className:"permission-category",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("ul",{children:[d.jsxs("li",{className:i.permissions.users.viewOwn?"allowed":"denied",children:[i.permissions.users.viewOwn?"":""," Ver propio"]}),d.jsxs("li",{className:i.permissions.users.editOwn?"allowed":"denied",children:[i.permissions.users.editOwn?"":""," Editar propio"]}),d.jsxs("li",{className:i.permissions.users.viewAll?"allowed":"denied",children:[i.permissions.users.viewAll?"":""," Ver todos"]}),d.jsxs("li",{className:i.permissions.users.edit?"allowed":"denied",children:[i.permissions.users.edit?"":""," Editar otros"]})]})]})]})]})]})]})}const zte=({currentUser:e})=>{const[t,r]=b.useState([]),[n,i]=b.useState(null),[a,s]=b.useState(""),[o,l]=b.useState(!1),[u,c]=b.useState(null),[f,p]=b.useState(null),[m,g]=b.useState({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}});b.useEffect(()=>{const v=IN(S=>{r(S)});return()=>v()},[]),b.useEffect(()=>{(async()=>{if(e!=null&&e.roleId){const S=await cp(e.roleId);i(S)}})()},[e]);const y=(v,S)=>{p({type:v,message:S}),setTimeout(()=>p(null),5e3)},_=v=>{if(!(n!=null&&n.permissions.roles.edit)&&v){y("error","No tienes permisos para editar roles");return}if(!(n!=null&&n.permissions.roles.create)&&!v){y("error","No tienes permisos para crear roles");return}v?(c(v),g({name:v.name,permissions:{...v.permissions}})):(c(null),g({name:"",permissions:{incidents:{create:!1,read:!0,update:!1,delete:!1,viewAll:!1},users:{viewOwn:!0,editOwn:!0,viewAll:!1,create:!1,edit:!1,delete:!1},roles:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1},automation:{view:!1,create:!1,edit:!1,delete:!1}}})),l(!0)},x=()=>{l(!1),c(null)},E=(v,S,C)=>{g(D=>({...D,permissions:{...D.permissions,[v]:{...D.permissions[v],[S]:C}}}))},A=async v=>{if(v.preventDefault(),!m.name.trim()){y("error","El nombre del rol es obligatorio");return}try{u?(await c5(u.id,{name:m.name,permissions:m.permissions}),y("success","Rol actualizado correctamente")):(await CN({name:m.name,permissions:m.permissions,isSystem:!1,createdAt:new Date().toISOString()}),y("success","Rol creado correctamente")),x()}catch(S){console.error("Error al guardar rol:",S),y("error","Error al guardar el rol")}},I=async v=>{if(!(n!=null&&n.permissions.roles.delete)){y("error","No tienes permisos para eliminar roles");return}if(window.confirm(`Ests seguro de que deseas eliminar el rol "${v.name}"?`))try{await d5(v.id),y("success","Rol eliminado correctamente")}catch(S){console.error("Error al eliminar rol:",S),y("error","Error al eliminar el rol")}},O=t.filter(v=>v.name.toLowerCase().includes(a.toLowerCase())),k=v=>{const S=[];return v.incidents.create&&v.incidents.update&&v.incidents.delete?S.push("Incidencias: Completo"):v.incidents.read&&S.push("Incidencias: Lectura"),v.users.viewAll&&v.users.create&&v.users.edit&&v.users.delete?S.push("Usuarios: Completo"):v.users.viewOwn&&S.push("Usuarios: Propio"),v.roles.create&&v.roles.edit&&v.roles.delete&&S.push("Roles: Completo"),v.settings.edit?S.push("Configuracin: Edicin"):v.settings.view&&S.push("Configuracin: Vista"),v.automation.create&&v.automation.edit&&v.automation.delete&&S.push("Automatizacin: Completo"),S.join("  ")||"Sin permisos especiales"};return d.jsxs("div",{className:"role-management",children:[d.jsxs("div",{className:"role-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:"Gestin de Roles"}),d.jsx("p",{className:"role-description",children:"Crea y administra roles con permisos personalizados"})]}),d.jsx("button",{className:"btn-create-role",onClick:()=>_(),children:"+ Crear Rol"})]}),f&&d.jsx("div",{className:`role-notification role-notification-${f.type}`,children:f.message}),d.jsx("div",{className:"role-search",children:d.jsx("input",{type:"text",placeholder:"Buscar roles...",value:a,onChange:v=>s(v.target.value),className:"search-input"})}),d.jsx("div",{className:"roles-grid",children:O.map(v=>d.jsxs("div",{className:"role-card",children:[d.jsxs("div",{className:"role-card-header",children:[d.jsx("h3",{children:v.name}),v.isSystem&&d.jsx("span",{className:"system-badge",children:"Sistema"})]}),d.jsx("p",{className:"role-summary",children:k(v.permissions)}),d.jsxs("div",{className:"role-card-actions",children:[d.jsx("button",{className:"btn-edit",onClick:()=>_(v),children:"Editar"}),d.jsx("button",{className:"btn-delete",onClick:()=>I(v),children:"Eliminar"})]})]},v.id))}),o&&d.jsx("div",{className:"modal-overlay",onClick:x,children:d.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:u?"Editar Rol":"Crear Rol"}),d.jsx("button",{className:"modal-close",onClick:x,children:""})]}),d.jsxs("form",{onSubmit:A,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre del Rol *"}),d.jsx("input",{type:"text",value:m.name,onChange:v=>g({...m,name:v.target.value}),placeholder:"Ej: Editor, Supervisor, etc.",required:!0})]}),d.jsxs("div",{className:"permissions-section",children:[d.jsx("h3",{children:"Permisos"}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Incidencias"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.create,onChange:v=>E("incidents","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.read,onChange:v=>E("incidents","read",v.target.checked)}),"Leer"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.update,onChange:v=>E("incidents","update",v.target.checked)}),"Actualizar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.delete,onChange:v=>E("incidents","delete",v.target.checked)}),"Eliminar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.incidents.viewAll,onChange:v=>E("incidents","viewAll",v.target.checked)}),"Ver Todas"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Usuarios"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewOwn,onChange:v=>E("users","viewOwn",v.target.checked)}),"Ver Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.editOwn,onChange:v=>E("users","editOwn",v.target.checked)}),"Editar Propio"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.viewAll,onChange:v=>E("users","viewAll",v.target.checked)}),"Ver Todos"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.create,onChange:v=>E("users","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.edit,onChange:v=>E("users","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.users.delete,onChange:v=>E("users","delete",v.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Roles"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.view,onChange:v=>E("roles","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.create,onChange:v=>E("roles","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.edit,onChange:v=>E("roles","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.roles.delete,onChange:v=>E("roles","delete",v.target.checked)}),"Eliminar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Configuracin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.view,onChange:v=>E("settings","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.settings.edit,onChange:v=>E("settings","edit",v.target.checked)}),"Editar"]})]})]}),d.jsxs("div",{className:"permission-group",children:[d.jsx("h4",{children:" Automatizacin"}),d.jsxs("div",{className:"permission-checks",children:[d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.view,onChange:v=>E("automation","view",v.target.checked)}),"Ver"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.create,onChange:v=>E("automation","create",v.target.checked)}),"Crear"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.edit,onChange:v=>E("automation","edit",v.target.checked)}),"Editar"]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:m.permissions.automation.delete,onChange:v=>E("automation","delete",v.target.checked)}),"Eliminar"]})]})]})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{type:"button",className:"btn-cancel",onClick:x,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn-save",children:u?"Guardar Cambios":"Crear Rol"})]})]})]})})]})};function Ute(){const[e,t]=b.useState(null),[r,n]=b.useState(null),[i,a]=b.useState([]),[s,o]=b.useState([]),[l,u]=b.useState(null),[c,f]=b.useState(null),[p,m]=b.useState("dashboard"),[g,y]=b.useState("profile"),[_,x]=b.useState(null),[E,A]=b.useState("purple-gradient"),[I,O]=b.useState([]),[k,v]=b.useState(null),[S,C]=b.useState(!1),[D,T]=b.useState(!1),N=e?i.filter($=>$.userId===e.id):[],j=$=>{try{console.log("Changing tab to:",$),C(!0),setTimeout(()=>{m($),C(!1)},100)}catch(H){console.error("Error changing tab:",H),C(!1)}},Q=$=>{C(!0),setTimeout(()=>{I.find(H=>H.id===$.id)||O([...I,$]),x($),m("incident-detail"),C(!1)},100)};b.useEffect(()=>{(async()=>{try{await f5();const te=fr.getCurrentUser();if(te){const bt=await kf(te.username);if(bt){localStorage.setItem("current_user",JSON.stringify(bt)),t(bt);const kr=await r5(bt.id);kr.theme&&A(kr.theme)}else fr.logout(),t(null)}const ae=await Ml();o(ae);const Ue=new URLSearchParams(window.location.search).get("incident");if(Ue){const bt=await ei(Ue);bt&&(x(bt),m("incident-detail"))}}catch(te){console.error("Error loading data:",te),v({type:"error",message:"Error al cargar los datos. Verifica la conexin."})}})();const H=l5(te=>{console.log("Incidencias actualizadas en tiempo real:",te),a(te),x(ae=>ae&&(te.find(Ue=>Ue.id===ae.id)||ae)),O(ae=>ae.map(me=>te.find(bt=>bt.id===me.id)||me))});return()=>{H()}},[]),b.useEffect(()=>{(async()=>{if(e!=null&&e.roleId)try{const H=await cp(e.roleId);n(H)}catch(H){console.error("Error loading user role:",H)}else n(null)})()},[e]),b.useEffect(()=>{if(k){const $=setTimeout(()=>{v(null)},4e3);return()=>clearTimeout($)}},[k]);const oe=async $=>{try{const H={...$,userId:e.id},te=ge.applyAutomationRules(H,"on-create");await ny(te),v({type:"success",message:` Incidencia "${$.name}" creada correctamente`,incidentId:$.id})}catch(H){console.error("Error adding incident:",H),v({type:"error",message:"Error al crear la incidencia. Intenta nuevamente."})}},de=async $=>{console.log("handleUpdateIncident llamado con:",$);try{await Dr($.id,$),u(null),console.log("Mostrando notificacin"),v({type:"success",message:` Incidencia "${$.name}" actualizada correctamente`,incidentId:$.id})}catch(H){console.error("Error updating incident:",H),v({type:"error",message:"Error al actualizar la incidencia."})}},le=async $=>{try{await J$($),O(I.filter(H=>H.id!==$)),(_==null?void 0:_.id)===$&&(x(null),m("all-incidents"))}catch(H){console.error("Error deleting incident:",H),v({type:"error",message:"Error al eliminar la incidencia."})}},U=$=>{const H=I.find(te=>te.id===$);H&&(x(H),m("incident-detail"))},K=$=>{O(I.filter(H=>H.id!==$)),(_==null?void 0:_.id)===$&&(x(null),m("all-incidents"))},ne=async($,H,te)=>{try{const ae={incidentId:$,author:H,text:te,timestamp:new Date().toISOString()};await n5(ae)}catch(ae){console.error("Error adding comment:",ae)}},pe=async($,H,te,ae)=>{try{await a5($,H,te,ae)}catch(me){console.error("Error updating comment:",me)}},_e=async($,H)=>{try{await i5($,H)}catch(te){console.error("Error deleting comment:",te)}},xt=async($,H)=>{try{const te=await ei($);if(!te)return;const ae=te.tags||[];ae.includes(H)||await Dr($,{tags:[...ae,H]})}catch(te){console.error("Error adding tag:",te)}},ke=async($,H)=>{try{const te=await ei($);if(!te)return;const ae=(te.tags||[]).filter(me=>me!==H);await Dr($,{tags:ae})}catch(te){console.error("Error removing tag:",te)}},qt=()=>{const $=new Set;return i.forEach(H=>{var te;(te=H.tags)==null||te.forEach(ae=>$.add(ae))}),Array.from($)},_t=async $=>{var H;try{const te=await SN();for(const ae of te)if((H=ae.tags)!=null&&H.includes($)){const me=ae.tags.filter(Ue=>Ue!==$);await Dr(ae.id,{tags:me})}v({type:"success",message:` Etiqueta "${$}" eliminada de todas las incidencias`})}catch(te){console.error("Error deleting tag globally:",te)}},ze=async($,H,te,ae)=>{try{const me=await ei($);if(!me)return;const Ue={id:`pr_${Date.now()}`,link:te,description:ae,createdAt:new Date().toISOString()};if(H==="qa2"){const bt=[...me.prQA2List||[],Ue];await Dr($,{prQA2List:bt})}else{const bt=[...me.prMainList||[],Ue];await Dr($,{prMainList:bt})}}catch(me){console.error("Error adding PR:",me)}},Xn=async($,H,te)=>{try{const ae=await ei($);if(!ae)return;if(H==="qa2"){const me=(ae.prQA2List||[]).filter(Ue=>Ue.id!==te);await Dr($,{prQA2List:me})}else{const me=(ae.prMainList||[]).filter(Ue=>Ue.id!==te);await Dr($,{prMainList:me})}}catch(ae){console.error("Error removing PR:",ae)}},B=async($,H,te,ae,me)=>{try{const Ue=await ei($);if(!Ue)return;if(H==="qa2"){const bt=(Ue.prQA2List||[]).map(kr=>kr.id===te?{...kr,link:ae,description:me}:kr);await Dr($,{prQA2List:bt})}else{const bt=(Ue.prMainList||[]).map(kr=>kr.id===te?{...kr,link:ae,description:me}:kr);await Dr($,{prMainList:bt})}}catch(Ue){console.error("Error updating PR:",Ue)}},fe=async $=>{try{const H={...$,createdAt:new Date().toISOString()};await AN(H);const te=await Ml();o(te)}catch(H){console.error("Error adding automation rule:",H)}},ye=async($,H)=>{try{await s5($,H);const te=await Ml();o(te)}catch(te){console.error("Error updating automation rule:",te)}},q=async $=>{try{await o5($);const H=await Ml();o(H)}catch(H){console.error("Error deleting automation rule:",H)}},ft=$=>{A($),localStorage.setItem("app_theme",$);const H=a0.find(te=>te.id===$);H&&document.documentElement.style.setProperty("--app-background",H.gradient)};b.useEffect(()=>{const $=a0.find(H=>H.id===E);$&&document.documentElement.style.setProperty("--app-background",$.gradient)},[E]);const Te=async $=>{const H=await kf($.username);H?(localStorage.setItem("current_user",JSON.stringify(H)),t(H)):t($)},Wt=()=>{fr.logout(),t(null),x(null),O([]),m("dashboard")};return e?d.jsxs("div",{className:"app-container",children:[d.jsxs("header",{className:"app-header",children:[d.jsx("div",{className:"app-header-content",children:d.jsx(X2,{})}),d.jsxs("div",{className:"app-header-actions",children:[d.jsxs("div",{className:"user-info",children:[d.jsxs("span",{className:"user-name",children:[" ",e.name]}),d.jsx("button",{className:"btn-logout",onClick:Wt,title:"Cerrar sesin",children:" Salir"})]}),d.jsxs("div",{className:"app-header-badge",onClick:()=>T(!D),children:[d.jsx("span",{className:"badge-icon",children:""}),d.jsx("span",{className:"badge-text",children:"Alertas"}),N.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length>0&&d.jsx("span",{className:"alerts-count",children:N.filter($=>$.priority==="crtica"&&$.status!=="resuelta"&&$.status!=="cerrada").length})]}),d.jsxs("div",{className:"app-header-badge",onClick:()=>j("settings"),children:[d.jsx("span",{className:"badge-icon",children:""}),d.jsx("span",{className:"badge-text",children:"Ajustes"})]})]})]}),k&&d.jsxs("div",{className:`notification-banner notification-${k.type}`,children:[d.jsx("span",{children:k.message}),d.jsxs("div",{className:"notification-actions",children:[k.type==="success"&&k.incidentId&&d.jsx("button",{className:"notification-view",onClick:()=>{const $=N.find(H=>H.id===k.incidentId);$&&(x($),m("incident-detail")),v(null)},"aria-label":"Ver incidencia",children:" Ver"}),d.jsx("button",{className:"notification-close",onClick:()=>v(null),"aria-label":"Cerrar notificacin",children:""})]})]}),d.jsx(Ote,{activeTab:p,onTabChange:j,openIncidents:I.map($=>({id:$.id,name:$.name})),selectedIncidentId:_==null?void 0:_.id,onSelectIncident:U,onCloseIncident:K}),D&&d.jsx("div",{className:"alerts-modal",children:d.jsxs("div",{className:"alerts-modal-content",children:[d.jsxs("div",{className:"alerts-modal-header",children:[d.jsx("h3",{children:" Alertas"}),d.jsx("button",{className:"alerts-modal-close",onClick:()=>T(!1),children:""})]}),d.jsx(Ste,{incidents:N,onViewIncident:$=>{Q($),T(!1)}})]})}),p==="dashboard"?d.jsx("main",{className:"app-main dashboard-transition",children:d.jsxs("div",{className:"app-content",children:[d.jsxs("div",{className:"form-section",children:[d.jsx(bte,{incidents:N}),d.jsx(_te,{incidents:N,onViewDetail:Q})]}),d.jsxs("div",{className:"list-section",children:[d.jsx(wte,{incidents:N,onStatusClick:f,onNavigateToList:()=>m("all-incidents")}),d.jsx(Ete,{incidents:N}),d.jsx(xte,{incidents:N})]})]})}):p==="new-incident"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx("div",{className:"new-incident-section",children:d.jsx("div",{className:"form-section-centered",children:d.jsx(p5,{onAdd:oe})})})}):p==="incident-detail"&&_?d.jsx("main",{className:"incident-detail-main",children:d.jsx(Nte,{incident:_,onUpdate:de,onAddComment:ne,onUpdateComment:pe,onDeleteComment:_e,onDelete:le,onAddTag:xt,onRemoveTag:ke,onDeleteTagGlobally:_t,allAvailableTags:qt(),onAddPR:ze,onRemovePR:Xn,onUpdatePR:B,onBack:()=>{x(null),m("all-incidents")}})}):p==="settings"?d.jsx("main",{className:"app-main page-transition-enter",children:d.jsxs("div",{className:"settings-container",children:[d.jsxs("div",{className:"settings-sidebar",children:[d.jsx("h2",{children:" Ajustes"}),d.jsxs("div",{className:"settings-menu",children:[d.jsxs("button",{className:`settings-menu-item ${g==="profile"?"active":""}`,onClick:()=>y("profile"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Mi Perfil"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="automation"?"active":""}`,onClick:()=>y("automation"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Automatizacin"})]}),(r==null?void 0:r.permissions.users.viewAll)&&d.jsxs("button",{className:`settings-menu-item ${g==="users"?"active":""}`,onClick:()=>y("users"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Usuarios"})]}),(r==null?void 0:r.permissions.roles.view)&&d.jsxs("button",{className:`settings-menu-item ${g==="roles"?"active":""}`,onClick:()=>y("roles"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Roles"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="appearance"?"active":""}`,onClick:()=>y("appearance"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"Apariencia"})]}),d.jsxs("button",{className:`settings-menu-item ${g==="general"?"active":""}`,onClick:()=>y("general"),children:[d.jsx("span",{className:"menu-icon",children:""}),d.jsx("span",{children:"General"})]})]})]}),d.jsx("div",{className:"settings-content",children:g==="profile"?d.jsx($te,{currentUser:e,onUpdate:async()=>{const H=(await up()).find(te=>te.id===e.id);H&&t(H)}}):g==="automation"?d.jsx(Dte,{rules:s,onAddRule:fe,onUpdateRule:ye,onDeleteRule:q}):g==="users"&&(r!=null&&r.permissions.users.viewAll)?d.jsx(Mte,{currentUser:e}):g==="roles"&&(r!=null&&r.permissions.roles.view)?d.jsx(zte,{currentUser:e}):g==="appearance"?d.jsx(Lte,{currentTheme:E,onThemeChange:ft,currentUser:e}):g==="general"?d.jsx(Vte,{}):null})]})}):d.jsx("main",{className:"app-main page-transition-enter",children:d.jsx("div",{className:"all-incidents-section",children:d.jsx(Rte,{incidents:N,onEdit:u,onDelete:le,onViewDetail:Q,onNewIncident:()=>j("new-incident"),selectedStatus:c,onClearFilter:()=>f(null)})})}),l&&d.jsx(m5,{incident:l,onSave:de,onCancel:()=>u(null)})]}):d.jsx(Fte,{onLogin:Te})}zg.createRoot(document.getElementById("root")).render(d.jsx(MT.StrictMode,{children:d.jsx(Ute,{})}));
